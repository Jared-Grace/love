var app_index_main=(function(exports){"use strict";function _mergeNamespaces(e,t){for(var a=0;a<t.length;a++){const p=t[a];if(typeof p!="string"&&!Array.isArray(p)){for(const g in p)if(g!=="default"&&!(g in e)){const m=Object.getOwnPropertyDescriptor(p,g);m&&Object.defineProperty(e,g,m.get?m:{enumerable:!0,get:()=>p[g]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function error$1(e){throw new Error(e)}function json_to(e){return JSON.stringify(e)}function undefined_is(e){return typeof e>"u"}function undefined_not_is_assert_lambda(e,t){if(undefined_is(e)){const a=t();let p=json_to(a);error$1(p)}}function property_get(e,t){let a=e[t];undefined_not_is_assert_lambda(a,p);function p(){return{object:e,property_name:t}}return a}function html_component_element_get(e){return property_get(e,"element")}function html_style_set(e,t,a){let p=html_component_element_get(e);p.style[t]=a}function html_style_font_size(e,t){html_style_set(e,"font-size",t)}function html_mobile_default_font_size(e){html_style_font_size(e,"25px")}function html_mobile_default_font_size_context(e){let t=property_get(e,"root");return html_mobile_default_font_size(t),t}function html_text_set(e,t){let a=html_component_element_get(e);a.innerHTML=t}function html_parent_append(e,t){let a=html_component_element_get(e),p=html_component_element_get(t);a.appendChild(p)}function html_component_wrap(e){return{element:e}}function html_element(e,t){const a=document.createElement(t);let p=html_component_wrap(a);return html_parent_append(e,p),html_style_set(p,"box-sizing","border-box"),p}function html_document_head(){let e=document.head;return html_component_wrap(e)}function html_style_head(e){let t=html_document_head(),a=html_element(t,"style");html_text_set(a,e)}function html_style_button(e){html_style_head("button { "+e+" }")}function html_attribute_set(e,t,a){html_component_element_get(e).setAttribute(t,a)}function html_link(){let e=html_document_head();return html_element(e,"link")}function html_stylesheet(e){let t=html_link();html_attribute_set(t,"href",e),html_attribute_set(t,"rel","stylesheet")}function not(e){return!e}function property_set(e,t,a){e[t]=a}function property_exists(e,t){return e&&Object.hasOwn(e,t)}function property_initialize_lambda(e,t,a){const p=property_exists(e,t);if(not(p)){let m=a();property_set(e,t,m)}return property_get(e,t)}function assert(e){not(e)&&error$1()}function equal(e,t){return e===t}function equal_assert(e,t){let a=equal(e,t);assert(a)}function arguments_assert(e,t){let a=property_get(e,"length");equal_assert(a,t)}function assert_message_get(e,t){if(not(e)){let a=t();error$1(a)}}function assert_json_get(e,t){function a(){let p=t();return json_to(p)}assert_message_get(e,a)}function property_exists_assert(e,t){let a=property_exists(e,t);function p(){return{object:e,property_name:t}}assert_json_get(a,p)}function property_delete(e,t){property_exists_assert(e,t),delete e[t]}function global_function_set(e,t){let a=global_get();property_set(a,e.name,t)}function global_alternate_set(e){let t=global_get();return global_function_set(global_alternate_set,e),function(){property_delete(t,global_alternate_set.name)}}let global$1={};function global_get(){return property_exists(global$1,global_alternate_set.name)?property_get(global$1,global_alternate_set.name):global$1}function global_function_initialize_lambda(e,t){arguments_assert(arguments,2);let a=global_get();return property_initialize_lambda(a,e.name,t)}function global_function_once(e,t){function a(){return e(),!0}global_function_initialize_lambda(t,a)}function html_font_include(e,t){global_function_once(a,e);function a(){html_stylesheet(t)}}function html_roboto_include(){html_font_include(html_roboto_include,"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap")}function html_font_set(e,t){html_style_set(e,"font-family",t)}function html_font_sans_serif_value(){return'"Roboto", Arial, Helvetica, sans-serif'}function html_document_root(){let e=document.documentElement;return html_component_wrap(e)}function html_font_sans_serif_set_html(){let e=html_document_root();html_roboto_include();let t=html_font_sans_serif_value();html_font_set(e,t);const a=":font-family: "+html_font_sans_serif_value();html_style_button(a)}function html_meta_viewport(){const e=html_document_head();let t=html_element(e,"meta");html_attribute_set(t,"name","viewport"),html_attribute_set(t,"content","width=device-width, initial-scale=1.0")}function html_mobile_default(e){let t=html_mobile_default_font_size_context(e);return html_meta_viewport(),html_font_sans_serif_set_html(),t}function list_is(e){return Array.isArray(e)}function json_format_to(e){return JSON.stringify(e,null,1)}function text_slice(e,t,a){return e.slice(t,a)}function text_take(e,t){return text_slice(e,0,t)}function json_format_to_truncated(e){let t=json_format_to(e);return text_take(t,1e4)}function error_json(e){let t=json_format_to_truncated(e);error$1(t)}function list_join(e,t){let a=list_is(e);return not(a)&&error_json({list:e}),e.join(t)}function list_join_slash_forward(e){return list_join(e,"/")}function firebase_deploy_function_destination(e,t){return list_join_slash_forward(["function",e,t])}function json_extension(){return".json"}function file_name_json(e){return e+json_extension()}function firebase_deploy_function_destination_json(e,t){let a=file_name_json(e);return firebase_deploy_function_destination(t,a)}function firebase_deploy_function_destination_production(e){return firebase_deploy_function_destination_json("version_production",e)}async function app_context_initialize_root(e,t){await t({root:e})}function html_document_body(){let e=document.body;return html_component_wrap(e)}async function app_context_initialize(e){const t=html_document_body();await app_context_initialize_root(t,e)}function fn_name(e){return e}function js_code_parenthesis_right(){return")"}function js_code_parenthesis_left(){return"("}function text_wrap_parenthesis(e){return js_code_parenthesis_left()+e+js_code_parenthesis_right()}function js_code_wrap_parenthesis(e){const t=" "+e+" ";return text_wrap_parenthesis(t)}function list_join_comma_space(e){return list_join(e,", ")}function js_code_call_args(e,t){arguments_assert(arguments,2);let a=list_join_comma_space(t);return e+js_code_wrap_parenthesis(a)}function js_code_semicolon(){return";"}function js_code_statement(e){return e+js_code_semicolon()}function js_code_call_args_statement(e,t){let a=js_code_call_args(e,t);return js_code_statement(a)}function js_code_call_app_context_initialize(e){return js_code_call_args_statement(app_context_initialize.name,[e])}function browser_is(){return typeof window<"u"&&typeof window.document<"u"}function newline(){return`
`}function list_join_newline(e){let t=newline();return list_join(e,t)}function global_name(){return"global"}function js_code_equals_padded(){return" = "}function js_code_assign(e,t){return e+js_code_equals_padded()+t}function js_keyword_let(){return"let"}function js_code_let_assign(e,t){return js_keyword_let()+" "+js_code_assign(e,t)+";"}function js_code_brace_right(){return"}"}function js_code_brace_left(){return"{"}function js_code_wrap_braces(e){return js_code_brace_left()+e+js_code_brace_right()}function js_code_braces_empty(){return js_code_wrap_braces("")}function js_code_global_init(){let e=js_code_braces_empty(),t=global_name();return js_code_let_assign(t,e)}function json_from(e){return JSON.parse(e)}function buffer_text_to(e){let t=null;if(browser_is())if(e instanceof ArrayBuffer)t=new TextDecoder("utf-8").decode(new Uint8Array(e));else if(e instanceof Uint8Array)t=new TextDecoder("utf-8").decode(e);else throw new Error("Unsupported buffer type");else t=e.toString("utf8");return t}function html_remove(e){html_component_element_get(e).remove()}function object_assign(e,t){Object.assign(e,t)}function html_style_assign(e,t){let a=html_component_element_get(e);object_assign(a.style,t)}function html_div(e){return html_element(e,"div")}async function html_loading(e){let t=null,a=browser_is();if(a){let g=html_document_body();t=html_div(g),html_style_assign(t,{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"1000"})}let p=null;try{p=await e()}catch(g){throw g}finally{a&&html_remove(t)}return p}function http_get_options(){return{method:"GET"}}function ternary(e,t,a){let p=null;return e?p=t:p=a,p}async function sleep(e){await new Promise(function(a){return setTimeout(a,e)})}function assert_message(e,t){not(e)&&error$1(t)}function assert_json(e,t){let a=json_to(t);assert_message(e,a)}function round(e){return Math.round(e)}function catch_call(e,t){return function(){let g=null;try{g=t(...arguments)}catch(m){e(m)}return g}}async function promise_wrap(e){return await new Promise(function(p,g){try{e(p,g)}catch(m){g(m)}})}function text_starts_with(e,t){return e.startsWith(t)}function each(e,t){for(let a of e)if(t(a)===!0)return}function assert_multiple(e,t){function a(p){let g=e(p);assert(g)}each(t,a)}function integer_is(e){return Number.isInteger(e)}function random$2(){return Math.random()}function floor(e){return Math.floor(e)}function integer_random(e,t){return assert_multiple(integer_is,[e,t]),floor(random$2()*(t-e+1))+e}async function http_sleep(){await sleep(integer_random(5,8)*1e3)}async function http_generic(e,t){const a=t.method||"GET",p=t.body||null;if(browser_is()){async function b(){const O={method:a};property_exists(t,"body")&&object_assign(O,{headers:{"Content-Type":"application/json",...t.headers||{}},body:json_to(p)});const I=await fetch(e,O);return not(I.ok)&&error$1("Failed to fetch file"),await I.arrayBuffer()}return await html_loading(b)}let m=!0;property_exists(t,"sleep")&&(m=property_get(t,"sleep")),m&&await http_sleep();let l=text_starts_with(e,"https://"),s=await import("http"+ternary(l,"s","")),h=await promise_wrap(v);function v(b,y){const O=new URL(e);function w(T){const C=[];function N(k){C.push(k)}let L=catch_call(y,N);T.on("data",L);function D(){let k=property_get(T,"statusCode");const V=k/100,G=round(V);assert_json(G===2,{url:e,statusCode:k});let J=Buffer.concat(C);b(J)}let j=catch_call(y,D);T.on("end",j)}const I={hostname:O.hostname,port:O.port||(l?443:80),path:O.pathname+O.search,method:a,headers:{...t.headers||{},...p?{"Content-Type":"application/json"}:{}}},_=s.request(I,w);if(_.on("error",y),p){let T=json_to(p);_.write(T)}_.end()}return h}async function http(e){let t=http_get_options();return await http_generic(e,t)}async function global_function_async(e,t){let a=global_get();return await property_initialize_lambda(a,e.name,t)}function lambda_get(e){function t(){return e}return t}function global_function_initialize(e,t){arguments_assert(arguments,2);let a=lambda_get(t);return global_function_initialize_lambda(e,a)}function global_function_property_get(e,t){let a=global_function_initialize(e,{});return property_get(a,t)}function not_assert(e){e&&error$1()}function global_function_initialize_object(e){return global_function_initialize(e,{})}function global_function_property_exists(e,t){let a=global_function_initialize_object(e);return property_exists(a,t)}function global_function_property_set(e,t,a){let p=global_function_initialize(e,{});property_set(p,t,a)}async function file_read_cached(e){let t=global_function_property_exists(file_read_cached,e);if(t)return!1;not_assert(t);let a=await file_read(e);return global_function_property_set(file_read_cached,e,a),!0}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var a=function p(){var g=!1;try{g=this instanceof p}catch{}return g?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(p){var g=Object.getOwnPropertyDescriptor(e,p);Object.defineProperty(a,p,g.get?g:{enumerable:!0,get:function(){return e[p]}})}),a}var lzString$2={exports:{}},hasRequiredLzString;function requireLzString(){return hasRequiredLzString||(hasRequiredLzString=1,(function(e){var t=(function(){var a=String.fromCharCode,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",m={};function c(o,s){if(!m[o]){m[o]={};for(var h=0;h<o.length;h++)m[o][o.charAt(h)]=h}return m[o][s]}var l={compressToBase64:function(o){if(o==null)return"";var s=l._compress(o,6,function(h){return p.charAt(h)});switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"="}},decompressFromBase64:function(o){return o==null?"":o==""?null:l._decompress(o.length,32,function(s){return c(p,o.charAt(s))})},compressToUTF16:function(o){return o==null?"":l._compress(o,15,function(s){return a(s+32)})+" "},decompressFromUTF16:function(o){return o==null?"":o==""?null:l._decompress(o.length,16384,function(s){return o.charCodeAt(s)-32})},compressToUint8Array:function(o){for(var s=l.compress(o),h=new Uint8Array(s.length*2),v=0,b=s.length;v<b;v++){var y=s.charCodeAt(v);h[v*2]=y>>>8,h[v*2+1]=y%256}return h},decompressFromUint8Array:function(o){if(o==null)return l.decompress(o);for(var s=new Array(o.length/2),h=0,v=s.length;h<v;h++)s[h]=o[h*2]*256+o[h*2+1];var b=[];return s.forEach(function(y){b.push(a(y))}),l.decompress(b.join(""))},compressToEncodedURIComponent:function(o){return o==null?"":l._compress(o,6,function(s){return g.charAt(s)})},decompressFromEncodedURIComponent:function(o){return o==null?"":o==""?null:(o=o.replace(/ /g,"+"),l._decompress(o.length,32,function(s){return c(g,o.charAt(s))}))},compress:function(o){return l._compress(o,16,function(s){return a(s)})},_compress:function(o,s,h){if(o==null)return"";var v,b,y={},O={},w="",I="",_="",T=2,C=3,N=2,L=[],D=0,j=0,k;for(k=0;k<o.length;k+=1)if(w=o.charAt(k),Object.prototype.hasOwnProperty.call(y,w)||(y[w]=C++,O[w]=!0),I=_+w,Object.prototype.hasOwnProperty.call(y,I))_=I;else{if(Object.prototype.hasOwnProperty.call(O,_)){if(_.charCodeAt(0)<256){for(v=0;v<N;v++)D=D<<1,j==s-1?(j=0,L.push(h(D)),D=0):j++;for(b=_.charCodeAt(0),v=0;v<8;v++)D=D<<1|b&1,j==s-1?(j=0,L.push(h(D)),D=0):j++,b=b>>1}else{for(b=1,v=0;v<N;v++)D=D<<1|b,j==s-1?(j=0,L.push(h(D)),D=0):j++,b=0;for(b=_.charCodeAt(0),v=0;v<16;v++)D=D<<1|b&1,j==s-1?(j=0,L.push(h(D)),D=0):j++,b=b>>1}T--,T==0&&(T=Math.pow(2,N),N++),delete O[_]}else for(b=y[_],v=0;v<N;v++)D=D<<1|b&1,j==s-1?(j=0,L.push(h(D)),D=0):j++,b=b>>1;T--,T==0&&(T=Math.pow(2,N),N++),y[I]=C++,_=String(w)}if(_!==""){if(Object.prototype.hasOwnProperty.call(O,_)){if(_.charCodeAt(0)<256){for(v=0;v<N;v++)D=D<<1,j==s-1?(j=0,L.push(h(D)),D=0):j++;for(b=_.charCodeAt(0),v=0;v<8;v++)D=D<<1|b&1,j==s-1?(j=0,L.push(h(D)),D=0):j++,b=b>>1}else{for(b=1,v=0;v<N;v++)D=D<<1|b,j==s-1?(j=0,L.push(h(D)),D=0):j++,b=0;for(b=_.charCodeAt(0),v=0;v<16;v++)D=D<<1|b&1,j==s-1?(j=0,L.push(h(D)),D=0):j++,b=b>>1}T--,T==0&&(T=Math.pow(2,N),N++),delete O[_]}else for(b=y[_],v=0;v<N;v++)D=D<<1|b&1,j==s-1?(j=0,L.push(h(D)),D=0):j++,b=b>>1;T--,T==0&&(T=Math.pow(2,N),N++)}for(b=2,v=0;v<N;v++)D=D<<1|b&1,j==s-1?(j=0,L.push(h(D)),D=0):j++,b=b>>1;for(;;)if(D=D<<1,j==s-1){L.push(h(D));break}else j++;return L.join("")},decompress:function(o){return o==null?"":o==""?null:l._decompress(o.length,32768,function(s){return o.charCodeAt(s)})},_decompress:function(o,s,h){var v=[],b=4,y=4,O=3,w="",I=[],_,T,C,N,L,D,j,k={val:h(0),position:s,index:1};for(_=0;_<3;_+=1)v[_]=_;for(C=0,L=Math.pow(2,2),D=1;D!=L;)N=k.val&k.position,k.position>>=1,k.position==0&&(k.position=s,k.val=h(k.index++)),C|=(N>0?1:0)*D,D<<=1;switch(C){case 0:for(C=0,L=Math.pow(2,8),D=1;D!=L;)N=k.val&k.position,k.position>>=1,k.position==0&&(k.position=s,k.val=h(k.index++)),C|=(N>0?1:0)*D,D<<=1;j=a(C);break;case 1:for(C=0,L=Math.pow(2,16),D=1;D!=L;)N=k.val&k.position,k.position>>=1,k.position==0&&(k.position=s,k.val=h(k.index++)),C|=(N>0?1:0)*D,D<<=1;j=a(C);break;case 2:return""}for(v[3]=j,T=j,I.push(j);;){if(k.index>o)return"";for(C=0,L=Math.pow(2,O),D=1;D!=L;)N=k.val&k.position,k.position>>=1,k.position==0&&(k.position=s,k.val=h(k.index++)),C|=(N>0?1:0)*D,D<<=1;switch(j=C){case 0:for(C=0,L=Math.pow(2,8),D=1;D!=L;)N=k.val&k.position,k.position>>=1,k.position==0&&(k.position=s,k.val=h(k.index++)),C|=(N>0?1:0)*D,D<<=1;v[y++]=a(C),j=y-1,b--;break;case 1:for(C=0,L=Math.pow(2,16),D=1;D!=L;)N=k.val&k.position,k.position>>=1,k.position==0&&(k.position=s,k.val=h(k.index++)),C|=(N>0?1:0)*D,D<<=1;v[y++]=a(C),j=y-1,b--;break;case 2:return I.join("")}if(b==0&&(b=Math.pow(2,O),O++),v[j])w=v[j];else if(j===y)w=T+T.charAt(0);else return null;I.push(w),v[y++]=T+w.charAt(0),b--,T=w,b==0&&(b=Math.pow(2,O),O++)}}};return l})();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(lzString$2)),lzString$2.exports}var lzStringExports=requireLzString();const lzString=getDefaultExportFromCjs(lzStringExports),lzString$1=_mergeNamespaces({__proto__:null,default:lzString},[lzStringExports]);async function text_decompress(e){let t=await Promise.resolve().then(()=>lzString$1);return(t.default??t).decompressFromUTF16(e)}async function json_decompress(e){let t=await text_decompress(e);return json_from(t)}function list_is_assert_json(e,t){let a=list_is(e);assert_json_get(a,t)}function list_is_assert(e){function t(){return{list:e}}list_is_assert_json(e,t)}function list_size(e){return list_is_assert(e),e.length}function list_empty_is(e){return list_size(e)===0}function list_empty_not_is(e){let t=list_empty_is(e);return not(t)}function list_empty_not_is_assert(e){let t=list_empty_not_is(e);assert(t)}function list_index_end(e,t){return list_size(e)-1-t}function integer_is_assert(e){let t=integer_is(e);assert_json(t,{index:e})}function list_get(e,t){integer_is_assert(t);let a=e[t];undefined_not_is_assert_lambda(a,p);function p(){return{list:e,index:t}}return a}function list_get_end(e,t){const a=list_index_end(e,t);return list_get(e,a)}function list_last(e){return list_empty_not_is_assert(e),list_get_end(e,0)}function text_starts_with_not(e,t){let a=text_starts_with(e,t);return not(a)}function path_normalize(e){return e.replace(/\\/g,"/").replace(/\/+/g,"/").replace(/\/\.\//g,"/").replace(/\/$/,"").replace(/^\.\/+/,"")}function file_path_normalize(e){e=path_normalize(e);const t="../";return text_starts_with_not(e,t)&&(e=t+"love/"+e),e}function app_a_indexeddb_path_key(){return"key"}async function app_a(){await app_main_production("app_a_main","jared-grace")}async function app_a_indexeddb_initialize(){const e=app_a.name,t=1,a="files";return await new Promise(function(m,c){const l=indexedDB.open(e,t);l.onupgradeneeded=function(){const s=l.result;let h=s.objectStoreNames.contains(a);not(h)&&s.createObjectStore(a,{keyPath:app_a_indexeddb_path_key()})},l.onsuccess=function(){return m(l.result)},l.onerror=function(){return c(l.error)}})}function app_a_file_system_store(){return"files"}function property_equals(e,t,a){let p=property_get(e,t);return equal(p,a)}function property_equals_lambda(e,t){return function(g){return property_equals(g,e,t)}}function list_filter(e,t){list_is_assert(e);function a(g){return t(g)}return e.filter(a)}function list_size_assert_message(e,t,a){let p=list_size(e)===t;not(p)&&error_json({message:a,list:e,size:t})}function list_size_1_assert_message(e,t){list_size_assert_message(e,1,t)}function list_size_1_assert(e){list_size_1_assert_message(e,{})}function list_first(e){return list_get(e,0)}function list_single(e){return list_size_1_assert(e),list_first(e)}function list_find(e,t){let a=list_filter(e,t);return list_single(a)}function list_find_property(e,t,a){let p=property_equals_lambda(t,a);return list_find(e,p)}async function indexeddb_get_all_backend(e,t){const g=(await e()).transaction(t,"readonly").objectStore(t);return await new Promise(function(l,o){const s=g.getAll();s.onsuccess=function(){return l(s.result)},s.onerror=function(){return o(s.error)}})}async function indexeddb_get_all(e,t){let a=global_function_property_exists(indexeddb_get_all,t);if(not(a)){let g=await indexeddb_get_all_backend(e,t);global_function_property_set(indexeddb_get_all,t,g)}return global_function_property_get(indexeddb_get_all,t)}async function indexeddb_get(e,t,a){let p=await indexeddb_get_all(e,t);return list_find_property(p,"key",a)}function log$1(e){log_keep(e)}function log_keep(e){console.log(e)}function property_exists_not_assert(e,t){if(property_exists(e,t)){let p=property_get(e,t);log_keep(t),error_json({object:e,property_name:t,value:p})}}function property_set_exists_not(e,t,a){property_exists_not_assert(e,t),property_set(e,t,a)}function text_is(e){return typeof e=="string"}function text_is_assert(e){let t=text_is(e);assert(t)}function server_url_api(){return"/api"}function server_port(){return 8080}function server_url(){return"http://localhost:"+server_port()}function server_url_get(){let e=null;return e=ternary(browser_is(),"",server_url()),e+=server_url_api(),e}function list_to(e){return Array.from(e)}function app_api_generic_f_name_args(e,t){let a=list_to(t);return{f_name:e,args:a}}function app_api_generic_url_body(e,t){let a=app_api_generic_f_name_args(e,t);return{url:server_url_get(),body:a}}function property_initialize(e,t,a){const p=property_exists(e,t);return not(p)&&property_set(e,t,a),property_get(e,t)}async function app_api_generic(e){arguments_assert(arguments,1);let t=property_get(e,"f_name"),a=property_initialize(e,"args",[]),p=property_get(e,"fn_http");var g=app_api_generic_url_body(t,a);let m=property_get(g,"body"),c=property_get(g,"url"),l=await p(c,m);return property_get(l,"result")}function properties_get(e){return Object.getOwnPropertyNames(e)}function object_merge_generic(e,t,a){function p(m){property_exists(t,m)&&error_json({to:t,from:a,property_name:m});let c=property_get(a,m);property_set(t,m,c)}let g=properties_get(a);each(g,p)}function object_merge(e,t){return object_merge_generic(!0,e,t),e}async function http_post_options(e,t,a){const p={method:"POST",body:t};return object_merge(p,a),await http_generic(e,p)}async function http_post(e,t){return await http_post_options(e,t,{})}function buffer_to_json(e){let t=buffer_text_to(e);return json_from(t)}async function http_post_json(e,t){let a=await http_post(e,t);return buffer_to_json(a)}async function app_api(e){arguments_assert(arguments,1);let t=property_get(e,"f_name");return text_is_assert(t),property_set_exists_not(e,"fn_http",http_post_json),await app_api_generic(e)}async function app_api_fn(e){let a=property_get(e,"fn").name;return property_set_exists_not(e,"f_name",a),await app_api(e)}function each_index(e,t){let a=0;function p(g){t(g,a),a++}each(e,p)}function property_exists_not(e,t){let a=property_exists(e,t);return not(a)}function list_property_exists_not_error(e,t){function a(p,g){property_exists_not(p,t)&&error$1({index:g})}each_index(e,a)}function list_add(e,t){e.push(t)}function list_to_dictionary(e,t,a){let p={};function g(m){let c=a(m),l=t(m);property_set_exists_not(p,c,l)}return each(e,g),p}function identity(e){return e}function list_to_dictionary_key(e,t){return list_to_dictionary(e,identity,t)}function list_to_dictionary_property(e,t){function a(g){return property_get(g,t)}return list_to_dictionary_key(e,a)}function list_add_multiple(e,t){e.push(...t)}function list_remove_at_count(e,t,a){return e.splice(t,a)}function list_remove_at(e,t){let a=list_remove_at_count(e,t,1);return list_single(a)}function list_index_of(e,t){let a=e.indexOf(t);return a<=-1&&error_json({list:e,item:t,index:a}),a}function list_remove(e,t){const a=list_index_of(e,t);list_remove_at(e,a)}function list_remove_multiple(e,t){function a(p){list_remove(e,p)}each(t,a)}function list_includes(e,t){return e.includes(t)}function property_get_curried_right(e){return function(p){return property_get(p,e)}}function list_map(e,t){return list_is_assert(e),e.map(t)}function list_map_property(e,t){let a=property_get_curried_right(t);return list_map(e,a)}function object_values(e){return Object.values(e)}function each_object(e,t){function a(g){let m=property_get(e,g);t(m,g)}let p=properties_get(e);each(p,a)}function each_object_values(e,t){function a(p,g){t(p)}each_object(e,a)}async function indexeddb_put_multiple_backend(e,t,a){const p=await e().transaction(t,"readwrite"),g=p.objectStore(t);function m(c){g.put(c)}each_object_values(a,m),await new Promise(function(l,o){p.oncomplete=l,p.onerror=function(){return o(p.error)},p.onabort=function(){return o(p.error)}})}function invoke(e){return e()}function promise_resolved(){return Promise.resolve(null)}function indexeddb_next(e){let t=promise_resolved(),a=global_function_initialize(indexeddb_next,t),p=invoke(e);a=a.then(p),global_function_set(indexeddb_next,a)}async function indexeddb_put_multiple(e,t,a){'at time of writing, indexeddb code only uses key value of "key" therefore this function could be made general to receive key name as param';let p="key",g=object_values(a),m=list_map_property(g,p),c=await indexeddb_get_all(e,t);function l(h){let v=property_get(h,p);return list_includes(m,v)}let o=list_filter(c,l);list_remove_multiple(c,o),list_add_multiple(c,g);async function s(){await indexeddb_put_multiple_backend(e,t,a)}indexeddb_next(s)}function undefined_is_if_null(e){return undefined_is(e)&&(e=null),e}function storage_local_specify_set(e,t){t=undefined_is_if_null(t);let a=json_to({value:t});localStorage.setItem(e,a)}function storage_local_key_get(e,t){return e.name+" "+t}function global_function_get(e){let t=global_get();return property_get(t,e.name)}function global_function_exists(e){let t=global_get();return property_exists(t,e.name)}function storage_local_enabled(){let e=global_function_exists(storage_local_enabled);return not(e)||global_function_get(storage_local_enabled)===!0}function storage_local_set(e,t,a){let p=storage_local_key_get(e,t);if(storage_local_enabled()){storage_local_specify_set(p,a);return}global_function_property_set(storage_local_set,p,a)}async function text_compress(e){const t=await Promise.resolve().then(()=>lzString$1);return(t.default??t).compressToUTF16(e)}async function json_compress(e){let t=json_to(e);return await text_compress(t)}async function json_compress_object(e){return{compressed:await json_compress(e)}}async function list_wait(e){return await Promise.all(e)}async function list_map_unordered_async(e,t){let a=list_map(e,t);return await list_wait(a)}function text_slash_forward(){return"/"}function folder_previous(){return".."}function path_join(e){arguments_assert(arguments,1);let t=[];for(let g of e){if(not(g))continue;let m=g.split(/[\\/]+/);for(let c of m)if(!(c===""||c==="."))if(c===folder_previous())if(t.length>0&&t[t.length-1]!==folder_previous())t.pop();else{let l=folder_previous();t.push(l)}else t.push(c)}let a=text_slash_forward();return t.join(a)}function list_map_path_join_left(e,t){function a(g){return path_join([t,g])}return list_map(e,a)}function folder_read_recursive_paths_to(e,t){let a=list_map_path_join_left(e,t);return list_map(a,path_normalize)}function list_includes_not(e,t){let a=list_includes(e,t);return not(a)}async function folder_read_recursive_skipped_async(e,t){const a=await Promise.resolve().then(()=>__viteBrowserExternal$1),p=await Promise.resolve().then(()=>__viteBrowserExternal$1);let g=[];const m=await a.readdir(e,{withFileTypes:!0});for(const c of m){let l=property_get(c,"name");if(c.isFile())g.push(l);else if(c.isDirectory()&&list_includes_not(t,l)){let v=function(b){return p.join(l,b)};const s=p.join(e,l),h=await folder_read_recursive_skipped_async(s,t);g.push(...h.map(v))}}return g}async function folder_read_recursive_skipped_paths_async(e,t){let a=await folder_read_recursive_skipped_async(e,t);return folder_read_recursive_paths_to(a,e)}function repos_folder(){return folder_previous()}function list_any(e,t){let a=list_filter(e,t);return list_empty_not_is(a)}function text_ends_with(e,t){return e.endsWith(t)}function list_filter_ends_with_any(e,t){function a(g){function m(l){return text_ends_with(g,l)}return list_any(t,m)}return list_filter(e,a)}function html_extension(){return".html"}function function_name_extension(){return".mjs"}async function app_a_download_paths(){let e=repos_folder(),t=await folder_read_recursive_skipped_paths_async(e,["node_modules",".git"]),a=function_name_extension(),p=html_extension(),g=json_extension();return list_filter_ends_with_any(t,[a,p,g])}async function app_a_download(){let e=await app_a_download_paths();async function t(p){let m={versions:[await file_read(p)]},c=await json_compress_object(m);return object_merge(c,{key:p}),c}let a=await list_map_unordered_async(e,t);return list_property_exists_not_error(a,"key"),a}async function app_a_file_system_initialize_download(){let e=await app_a_indexeddb_initialize(),t=lambda_get(e),a=await app_api_fn({fn:app_a_download});list_property_exists_not_error(a,"key");let p=list_to_dictionary_property(a,"key"),g=app_a_file_system_store();await indexeddb_put_multiple(t,g,p),storage_local_set(app_a,app_a_file_system_initialize.name,!0);let m=await indexeddb_get_all(t,g);list_property_exists_not_error(m,"key")}async function property_initialize_lambda_async(e,t,a){const p=property_exists(e,t);if(not(p)){let m=a();property_set(e,t,m)}return await property_get(e,t)}async function global_function_initialize_lambda_async(e,t){arguments_assert(arguments,2);let a=global_get();return await property_initialize_lambda_async(a,e.name,t)}function storage_local_specify_get_json(e){return localStorage.getItem(e)}function storage_local_exists_global(e){return global_function_property_exists(storage_local_set,e)}function storage_local_exists(e,t){let a=storage_local_key_get(e,t);return storage_local_enabled()?storage_local_specify_get_json(a)!==null:storage_local_exists_global(a)}async function app_a_file_system_initialize(){if(storage_local_exists(app_a,app_a_file_system_initialize.name))return;async function t(){return await app_a_file_system_initialize_download(),!0}await global_function_initialize_lambda_async(app_a_file_system_initialize,t)}async function file_read(e){if(global_function_property_exists(file_read_cached,e))return await global_function_property_get(file_read_cached,e);if(browser_is()){e=file_path_normalize(e),await app_a_file_system_initialize();let g=app_a_file_system_store(),m=await indexeddb_get(app_a_indexeddb_initialize,g,e),c=property_get(m,"compressed"),l=await json_decompress(c),o=property_get(l,"versions");return list_last(o)}return await(await Promise.resolve().then(()=>__viteBrowserExternal$1)).promises.readFile(e,"utf-8")}async function file_read_json(e){let t=await file_read(e);return json_from(t)}function repo_path(e){let t=repos_folder();return path_join([t,e])}function repo_path_combine(e,t){let a=repo_path(e);return path_join([a,t])}async function firebase_name_repo(e){let a=repo_path_combine(e,".firebaserc"),p=await file_read_json(a),g=property_get(p,"projects");return property_get(g,"default")}function list_includes_assert(e,t){let a=list_includes(e,t);assert(a)}function folder_vscode(){return".vscode"}function equal_not(e,t){let a=equal(e,t);return not(a)}function global_function_cache_generic(e,t,a){let p=json_to(e),g=property_get(t,"json");if(equal_not(p,g)){let c=a();property_set(t,"result",c),property_set(t,"json",p)}return property_get(t,"result")}function global_function_property_initialize(e,t,a){let p=global_get(),g=property_initialize(p,e.name,{});return property_initialize(g,t,a)}function global_function_property_cache(e,t,a,p){let g=global_function_property_initialize(e,t,{json:null,result:null});return global_function_cache_generic(a,g,p)}function set_add(e,t){e.add(t)}function set_new(){return new Set}function list_unique_set(e){let t=set_new();function a(p){set_add(t,p)}return each(e,a),t}function list_unique(e){return[...list_unique_set(e)]}function text_index_of_try(e,t){return e.indexOf(t)}function text_split_first(e,t){let a=text_index_of_try(e,t);return a<0?e:text_take(e,a)}function text_size(e){return e.length}function text_skip(e,t){let a=text_size(e);return text_slice(e,t,a)}function text_prefix_without_inner(e,t){let a=text_size(t);return text_skip(e,a)}function text_prefix_without(e,t){let a=text_starts_with(e,t);function p(){return{s:e,prefix:t}}return assert_json_get(a,p),not(a)&&error$1(),text_prefix_without_inner(e,t)}function list_map_prefix_without(e,t){function a(g){return text_prefix_without(g,t)}return list_map(e,a)}function list_filter_starts_with(e,t){function a(g){return text_starts_with(g,t)}return list_filter(e,a)}function list_filter_property_exclude_if_exists(e,t,a){function p(m){return property_exists(m,t)?property_get(m,t)!==a:!0}return list_filter(e,p)}async function app_a_files_paths(){let e=app_a_file_system_store(),t=await indexeddb_get_all(app_a_indexeddb_initialize,e),a=list_filter_property_exclude_if_exists(t,"deleted",!0),p=app_a_indexeddb_path_key();return list_map_property(a,p)}async function folder_read_browser(e){let t=await app_a_files_paths();return global_function_property_cache(folder_read_browser,e,t,p);function p(){let g=path_normalize(e),m=text_slash_forward(),c=""+g+m,l=list_filter_starts_with(t,c),o=list_map_prefix_without(l,c);function s(y){return text_split_first(y,m)}let h=list_map(o,s);return{unique:list_unique(h),prefix:c,filtered:l}}}async function folder_read(e){if(browser_is()){let p=await folder_read_browser(e);return property_get(p,"unique")}return await(await Promise.resolve().then(()=>__viteBrowserExternal$1)).promises.readdir(e)}async function repos_names(){let e=repos_folder(),t=await folder_read(e),p=[folder_vscode()];function g(c){return list_includes_not(p,c)}return list_filter(t,g)}async function repo_exists_assert(e){let t=await repos_names();list_includes_assert(t,e)}function list_size_1(e){return list_size(e)===1}function js_node_is(e){return property_exists(e,"type")}function js_node_type(e){return property_get(e,"type")}function js_node_type_is(e,t){return js_node_is(e)&&js_node_type(e)===t}function js_node_type_is_if(e,t,a){js_node_type_is(e,t)&&a()}function list_adder_generic(e,t){let a=[];function p(g){t(a,g)}return e(p),a}function list_adder(e){return list_adder_generic(e,list_add)}function list_adder_unique(e){let t=list_adder(e);return list_unique(t)}function js_node_types_is(e,t){function a(g){return js_node_type_is(e,g)}return list_any(t,a)}function promise_is(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}function promise_not_is(e){let t=promise_is(e);return not(t)}function list_pop(e){return e.pop()}function list_copy(e){return[...e]}function visit_filter_recursive(e,t,a,p,g){let m=a(e);if(not(m))return;list_add(g,e);let c=t(e);function l(h){visit_filter_recursive(h,t,a,p,g)}each(c,l);let o=list_copy(g);p({node:e,stack:o}),list_pop(g)!==e&&error$1()}function visit_filter(e,t,a,p){visit_filter_recursive(e,t,a,p,[])}function js_visit_children_get(e){if(list_is(e))return e;if(text_is(e))return[];function t(g){return property_get(e,g)}let a=properties_get(e);return list_map(a,t)}function js_visit_filter(e){return js_node_is(e)||list_is(e)}function js_visit(e,t){let a=promise_not_is(e);not(a)&&error$1(),visit_filter(e,js_visit_children_get,js_visit_filter,t)}function js_visit_types(e,t,a){function p(g){let m=property_get(g,"node");js_node_is(m)&&js_node_types_is(m,t)&&a(g)}js_visit(e,p)}function js_strings(e){function t(p){function g(m){let c=property_get(m,"node"),l=null;function o(){let v=property_get(c,"quasis");if(list_size_1(v)){let y=property_get(c,"expressions");if(list_empty_is(y)){let w=list_first(v),I=property_get(w,"value");l=property_get(I,"raw")}}}js_node_type_is_if(c,"TemplateLiteral",o);function s(){l=property_get(c,"value")}js_node_type_is_if(c,"Literal",s),text_is(l)&&p(l)}js_visit_types(e,["Literal","TemplateLiteral"],g)}return list_adder_unique(t)}function js_literal_is(e){return js_node_type_is(e,"Literal")}function js_literal_is_assert(e){let t=js_literal_is(e);assert(t)}function js_visit_type(e,t,a){js_visit_types(e,[t],a)}function js_visit_calls(e,t){js_visit_type(e,"CallExpression",t)}function js_node_type_not_is(e,t){let a=js_node_type_is(e,t);return not(a)}function js_identifier_not_is(e){return js_node_type_not_is(e,"Identifier")}function property_get_name(e){return property_get(e,"name")}function js_call_callee_name(e){let t=null;if(js_node_type_not_is(e,"CallExpression"))return t;let p=property_get(e,"callee");return js_identifier_not_is(p)||(t=property_get_name(p)),t}function js_visit_calls_named(e,t,a){function p(g){let m=property_get(g,"node"),c=js_call_callee_name(m);if(equal_not(c,t))return;let l=property_get(m,"arguments");a({v:g,args:l})}js_visit_calls(e,p)}function js_flo(e){function t(m){function c(l){let o=property_get(l,"node");m(o)}js_visit_type(e,"ExportNamedDeclaration",c)}let a=list_adder(t),p=list_single(a);return property_get(p,"declaration")}function list_difference(e,t){function a(g){function m(c){let l=list_includes(t,c);not(l)&&g(c)}each(e,m)}return list_adder(a)}function list_add_if_not_includes(e,t){"rename includes to exists todo";let a=list_includes(e,t);not(a)&&list_add(e,t)}function js_identifiers_names(e){function t(p){function g(m){let c=property_get(m,"node"),l=property_get(c,"name");p(l)}js_visit_type(e,"Identifier",g)}return list_adder_unique(t)}function path_base(e){return e.split(/[/\\]/).pop()}function path_name(e){const t=path_base(e);let a=t.lastIndexOf(".");return t.includes(".")?t.slice(0,a):t}function function_path_to_name(e){return path_name(e)}function data_file_update_inner(e,t){let a=property_get(e,"f_path"),p=function_path_to_name(a),g=property_get(e,"ast"),m=property_initialize(t,"functions",{}),c=property_initialize(m,p,{}),l=js_flo(g),o=property_get(l,"async");property_set(c,"async",o);function s(O,w){let I=property_initialize(t,O,{});function _(C){let N=property_initialize(I,C,[]);list_add_if_not_includes(N,p)}each(w,_);let T=property_initialize(c,O,[]);list_difference(T,w),property_set(c,O,w)}let h=js_identifiers_names(g);s("identifiers",h);let v=js_strings(g);s("strings",v);function b(O){js_visit_calls_named(g,fn_name.name,w);function w({args:I}){let _=list_first(I);js_literal_is_assert(_);let T=property_get(_,"value");O(T)}}let y=list_adder(b);s("identifiers_fn_names",y)}function data_file_update_inner_curried_right(e){return function(p){return data_file_update_inner(p,e)}}function js_parse_generic(e,t){let a=null;try{a=e.parse(t,{ecmaVersion:2020,sourceType:"module"})}catch(p){throw log_keep(t),p}return a}async function js_parse_async(e){const t=await Promise.resolve().then(()=>acorn);return js_parse_generic(t,e)}async function file_js_parse(e){let t=await file_read(e);return{ast:await js_parse_async(t),code:t,f_path:e}}function list_squash(e){function t(p){g(e);function g(m){function c(l){let o=list_is(l),s=null;s=ternary(o,g,p),s(l)}each(m,c)}}return list_adder(t)}async function repos_paths_map_unordered(e){let t=await repos_names();async function a(g){let m=repo_path(g);return await e(m)}return await list_map_unordered_async(t,a)}async function repos_paths_map_unordered_combine(e,t){let a=await repos_paths_map_unordered(p);async function p(g){let m=path_join([g,e]);return t(m)}return a}function folder_src(){return"src"}function folder_public(){return"public"}function folder_public_join(e){let t=folder_public();return path_join([t,e])}function functions_path(){const e=folder_src();return folder_public_join(e)}async function repos_paths_map_unordered_combine_squash(e){let t=functions_path(),a=await repos_paths_map_unordered_combine(t,e);return list_squash(a)}function text_slice_0(e,t){return text_slice(e,0,t)}function string_skip_end(e,t){const a=text_size(e)-t;return text_slice_0(e,a)}function text_suffix_without(e,t){let a=text_ends_with(e,t);not(a)&&error$1();const p=text_size(t);return string_skip_end(e,p)}function null_is(e){return e===null}function list_all(e,t){let a=list_filter(e,t);return list_size(a)===list_size(e)}function list_multiple_is(e){return list_size(e)>=2}function list_one_other(e,t,a,p,g){let m=null,c=null;return list_empty_not_is(e)&&(m=t(e),list_multiple_is(e)&&(c=a(e))),{[p]:m,[g]:c}}function list_first_second_generic(e,t,a){return list_one_other(e,list_first,t,"first",a)}function list_slice(e,t,a){return e.slice(t,a)}function list_skip(e,t){let a=list_size(e);return list_slice(e,t,a)}function list_skip_1(e){return list_skip(e,1)}function list_first_remaining(e){return list_first_second_generic(e,list_skip_1,"remaining")}function set_includes(e,t){return e.has(t)}function list_intersect_multiple(e){let t=list_first_remaining(e),a=property_get(t,"first"),p=property_get(t,"remaining");if(null_is(p))return list_copy(a);let m=list_map(p,list_unique_set);function c(o){function s(h){function v(y){return set_includes(y,h)}list_all(m,v)&&o(h)}each(a,s)}return list_adder(c)}function list_intersect(e,t){return list_intersect_multiple([e,t])}function list_map_combine_left(e,t){function a(g){return t+g}return list_map(e,a)}function list_sort_text_mapper(e,t){function a(p,g){const m=t(p),c=t(g),[l,o]=m.split(/[_\.]/),[s,h]=c.split(/[_\.]/);return l.localeCompare(s)||Number(o)-Number(h)}e.sort(a)}function list_sort_text(e){list_sort_text_mapper(e,identity)}async function folder_read_files(e){if(browser_is()){e=file_path_normalize(e);let m=await folder_read_browser(e),c=property_get(m,"filtered"),l=property_get(m,"prefix"),o=property_get(m,"unique"),s=list_map_combine_left(o,l),h=list_intersect(c,s);return list_map(h,path_base)}let t=await Promise.resolve().then(()=>__viteBrowserExternal$1);function a(m){let c=path_join([e,m]);return t.statSync(c).isFile()}let g=t.readdirSync(e).filter(a);return list_sort_text(g),g}async function functions_names_from_path(e){let t=await folder_read_files(e);function a(g){let m=function_name_extension();return text_suffix_without(g,m)}return list_map(t,a)}function function_name_to_base(e){return e+function_name_extension()}function function_name_folder_to_path(e,t){let a=function_name_to_base(e);return path_join([t,a])}async function functions_paths(){async function e(a){let p=await functions_names_from_path(a);function g(c){return function_name_folder_to_path(c,a)}return list_map(p,g)}return await repos_paths_map_unordered_combine_squash(e)}async function data_generate(e){let t=await functions_paths(),a=await list_map_unordered_async(t,file_js_parse),p=data_file_update_inner_curried_right(e);each(a,p)}function data_folder(){return"data"}function file_name_json_folder(e,t){let a=path_join([e,t]);return file_name_json(a)}function data_path_generic(e,t){const a=t+e,p=data_folder();return file_name_json_folder(p,a)}function data_path(){let e="";const t=data_folder();return data_path_generic(e,t)}function list_filter_property(e,t,a){let p=property_equals_lambda(t,a);return list_filter(e,p)}function list_find_property_exists(e,t,a){let p=list_filter_property(e,t,a);return list_size_1(p)}async function indexeddb_exists(e,t,a){let g=await indexeddb_get_all(e,t);return list_property_exists_not_error(g,"key"),list_find_property_exists(g,"key",a)}async function throws_not_async(e){let t=null;try{await e(),t=!0}catch{t=!1}return t}async function file_exists(e){if(browser_is()){e=file_path_normalize(e),await app_a_file_system_initialize();let l=app_a_file_system_store();return await indexeddb_exists(app_a_indexeddb_initialize,l,e)}promise_is(e)&&error$1();let t=await Promise.resolve().then(()=>__viteBrowserExternal$1),a=t.promises,p=property_get(a,"access"),g=property_get(t,"constants"),m=await throws_not_async(c);async function c(){await p(e,g.F_OK)}return m}async function file_exists_not_assert(e){await file_exists(e)&&error$1(e)}async function file_write_generic(e,t,a){await file_exists_not_assert(e),await t(e,a)}function property_delete_if_exists(e,t){property_exists(e,t)&&property_delete(e,t)}function text_empty_is(e){return e===""}async function functions_names(){let e=await repos_paths_map_unordered_combine_squash(t);async function t(a){return await functions_names_from_path(a)}return e}async function folder_exists_ensure(e){let t=await Promise.resolve().then(()=>__viteBrowserExternal$1),a=await Promise.resolve().then(()=>__viteBrowserExternal$1);return await t.promises.mkdir(e,{recursive:!0}),a}function text_empty_not_is(e){let t=text_empty_is(e);return not(t)}async function file_root_exists(e){let a=(await Promise.resolve().then(()=>__viteBrowserExternal$1)).parse(e),p=property_get(a,"root"),g=text_empty_not_is(p),m=!0;if(g){async function l(){await(await Promise.resolve().then(()=>__viteBrowserExternal$1)).promises.access(p)}m=await throws_not_async(l)}return{exists:m,root:p}}async function file_root_exists_assert(e){let{exists:t,root:a}=await file_root_exists(e);assert_json(t,{file_path:e,root:a,message:"root does not exist"})}async function file_parent_exists_ensure(e){await file_root_exists_assert(e);const a=(await Promise.resolve().then(()=>__viteBrowserExternal$1)).dirname(e);await folder_exists_ensure(a)}async function data_file_update(e){}function list_find_property_or_null(e,t,a){let p=property_equals_lambda(t,a),g=list_filter(e,p);return list_empty_is(g)?null:list_single(g)}async function indexeddb_put_backend(e,t,a,p){const m=(await e()).transaction(t,"readwrite");m.objectStore(t).put(p),await new Promise(function(o,s){m.oncomplete=o,m.onerror=function(){return s(m.error)},m.onabort=function(){return s(m.error)}})}function properties_delete_all(e){function t(p){return property_delete(e,p)}let a=properties_get(e);each(a,t)}function object_replace(e,t){equal_not(e,t)&&(properties_delete_all(e),object_merge(e,t))}async function indexeddb_put(e,t,a,p){let g=await indexeddb_get_all(e,t),m=list_find_property_or_null(g,"key",a);const c=await p(m);log$1({next:c}),null_is(m)?list_add(g,c):object_replace(m,c);async function l(){await indexeddb_put_backend(e,t,a,c)}return indexeddb_next(l),c}async function file_overwrite_uncached(e,t){if(browser_is()){e=file_path_normalize(e),await app_a_file_system_initialize();let a=app_a_file_system_store();async function p(g){const m="compressed";let c=null;if(null_is(g))c={versions:[""]},g={key:e};else{let v=property_get(g,m);c=await json_decompress(v)}text_empty_is(t)?property_set(g,"deleted",!0):property_delete_if_exists(g,"deleted");let s=property_get(c,"versions");list_add(s,t);let h=await json_compress(c);return property_set(g,m,h),g}await indexeddb_put(app_a_indexeddb_initialize,a,e,p);return}else await file_parent_exists_ensure(e),await(await Promise.resolve().then(()=>__viteBrowserExternal$1)).promises.writeFile(e,t,"utf-8");await data_file_update()}async function file_overwrite(e,t){text_is_assert(t);let a=global_function_property_exists(file_read_cached,e);a&&global_function_property_set(file_read_cached,e,t),not(a)&&await file_overwrite_uncached(e,t)}async function file_write(e,t){await file_write_generic(e,file_overwrite,t)}async function data_all_initialize(e){let t=await file_exists(e);if(not(t)){let a=json_format_to_truncated({});await file_write(e,a)}}async function data_all(e){let t={},a=data_path();return equal(e,a)?await data_generate(t):(await data_all_initialize(e),t=await file_read_json(e)),{data:t,file_path:e}}async function data_get(e,t,a){var p=await data_all(a);let g=property_get(p,"file_path"),m=property_get(p,"data");return{value:property_initialize(m,e,t),file_path:g,data:m}}function file_name_json_folder_gitignore(e){return file_name_json_folder("gitignore",e)}function user_repo_path(){return file_name_json_folder_gitignore("user")}async function user_repo_get(){let e=user_repo_path(),t=await data_get("repo_current",null,e),a=property_get(t,"value");return await repo_exists_assert(a),a}async function firebase_name(){if(browser_is())return global_function_get(firebase_name);let e=await user_repo_get();return await firebase_name_repo(e)}async function firebase_storage_url_project(){return await firebase_name()+".firebasestorage.app"}async function path_resolve(e){return(await Promise.resolve().then(()=>__viteBrowserExternal$1)).resolve(e)}function property_from(e,t,a){let p=property_get(a,t);property_set(e,t,p)}async function repos_paths_names_map_unordered(e){let t=await repos_names();async function a(g){let m=repo_path(g);return await e(g,m)}return await list_map_unordered_async(t,a)}async function repos_paths_names_map_unordered_combine(e,t){let a=await repos_paths_names_map_unordered(p);async function p(g,m){let c=path_join([m,e]);return{mapped:await t(c),repo_name:g}}return a}function true_is(e){return equal(e,!0)}function text_is_assert_message(e,t){let a=text_is(e);return assert_message(a,t)}function text_is_assert_json(e,t){let a=json_to(t);text_is_assert_message(e,a)}function text_includes(e,t){const a={input:e,part:t};return text_is_assert_json(e,a),text_is_assert_json(t,a),e.includes(t)}function function_name_to_path(e){text_includes(e,".")&&error_json({f_name:e});let t=functions_path();return function_name_folder_to_path(e,t)}async function function_name_to_path_search(e){let t=function_name_to_path(e);async function a(s){return{exists:await file_exists(s),f_path:s}}let p=await repos_paths_names_map_unordered_combine(t,a);function g(s){let h=property_get(s,"mapped"),v=property_get(h,"exists");return true_is(v)}let m=list_filter(p,g),c=list_multiple_is(m),l=list_size_1(m),o={f_name:e,exists:l,multiple:c};if(l){let s=list_single(m),h=property_get(s,"mapped");property_from(o,"f_path",h),property_from(o,"repo_name",s)}return o}async function function_import(e){let t=await function_name_to_path_search(e),a=property_get(t,"f_path");const m=(await import(`file://${await path_resolve(a)}`))[e];if(typeof m!="function")throw new Error(` The module "${e}" does not export a default function.`);return m}function global_function_cache(e,t,a){let p=global_function_initialize(e,{json:null,result:null});return global_function_cache_generic(t,p,a)}function undefined_not_is_assert(e){function t(){return{}}undefined_not_is_assert_lambda(e,t)}function object_invert(e){let t={};function a(p,g){undefined_not_is_assert(p);let m=property_initialize(t,p,[]);list_add(m,g)}return each_object(e,a),t}function text_empty(){return""}function list_join_empty(e){const t=text_empty();return list_join(e,t)}function text_split(e,t){return e.split(t)}function function_name_separator(){return"_"}function function_name_to_parts(e){let t=function_name_separator();return text_split(e,t)}function function_name_to_acronym(e){let t=function_name_to_parts(e),a=null;try{a=list_map(t,list_first)}catch(g){error_json({e:g,f_name:e})}return list_join_empty(a)}function list_to_dictionary_value(e,t){return list_to_dictionary(e,t,identity)}async function function_names_to_acronyms(){let e=await functions_names();return global_function_cache(function_names_to_acronyms,e,a);function a(){let p=list_to_dictionary_value(e,function_name_to_acronym);return object_invert(p)}}async function function_acronym_to_name(e){let t=null,a=null,p=await function_names_to_acronyms();return property_exists(p,e)&&(a=property_get(p,e),list_size_1(a)&&(t=list_single(a))),{expanded:t,expandeds:a}}function data_aliases_path(){return data_path_generic("","aliases")}async function function_alias_add_generic(e){let t=null,a=data_aliases_path();var{value:p,file_path:g,data:m}=await data_get("aliases",{},a);const c=property_exists(p,e);return c&&(t=property_get(p,e)),{exists:c,aliases:p,file_path:g,data:m,unaliased:t}}async function function_name_unalias(e){arguments_assert(arguments,1);var t=await function_alias_add_generic(e);let a=property_get(t,"unaliased"),p=property_get(t,"exists"),g=await function_acronym_to_name(e),m=property_get(g,"expandeds"),c=property_get(g,"expanded");return{unaliased:p?a:c!==null?c:e,expandeds:m}}async function function_import_unalias(e){let t=await function_name_unalias(e),a=property_get(t,"unaliased");return await function_import(a)}async function function_run_unalias(e,t){return await(await function_import_unalias(e))(...t)}function path_repo_combine(e,t){let a=repo_path(e);return path_join([a,t])}function path_repo_about(e){let t=data_path_generic("","about");return path_repo_combine(e,t)}async function repo_about_get(e,t){let a=path_repo_about(e),{value:p}=await data_get(t,null,a);return p}async function repo_firebase_service_account_get(e){return await repo_about_get(e,"firebase_service_account")}async function user_repo_firebase_service_account_get(){let e=await user_repo_get();return await repo_firebase_service_account_get(e)}async function firebase_service_account(){let e=await user_repo_firebase_service_account_get(),t=await function_run_unalias(e,[]);return await file_read_json(t)}async function firebase_admin_get(){const e=(await Promise.resolve().then(()=>index$1)).default;let t=await firebase_service_account();const a=await firebase_storage_url_project();return e.initializeApp({credential:e.credential.cert(t),storageBucket:a}),e}async function firebase_admin(){return await global_function_async(firebase_admin,firebase_admin_get)}async function firebase_bucket(){return(await firebase_admin()).storage().bucket()}function text_replace(e,t,a){let p=text_split(e,t);return list_join(p,a)}function firebase_path_fix(e){return text_replace(e,"\\","/")}async function firebase_storage_url(e){let t=text_replace(e,"/","%2F");return"https://firebasestorage.googleapis.com/v0/b/"+await firebase_storage_url_project()+"/o/"+t+"?alt=media"}async function firebase_storage_download(e){if(e=firebase_path_fix(e),browser_is()){async function g(){let c=await firebase_storage_url(e);return await http(c)}return await html_loading(g)}const a=await firebase_bucket();let[p]=await a.file(e).download();return p}async function firebase_storage_download_property(e,t){let a=await firebase_storage_download(e);const p=buffer_text_to(a);let g=json_from(p);return property_get(g,t)}async function firebase_storage_function_run_generic(version_get,f_name,call){let destination_version=version_get(f_name),destination=await firebase_storage_download_property(destination_version,"destination"),code=await firebase_storage_download_property(destination,"code"),global_init=js_code_global_init(),joined=list_join_newline([global_init,code,call]);if(browser_is()){let e=html_document_body(),t=html_element(e,"script");html_attribute_set(t,"type","module"),html_text_set(t,joined)}else eval(joined)}async function app_main(e,t,a){global_function_initialize(firebase_name,t);let p=js_code_call_app_context_initialize(e);await firebase_storage_function_run_generic(a,e,p)}async function app_main_production(e,t){return await app_main(e,t,firebase_deploy_function_destination_production)}async function app_search(){await app_main_production("app_search_main","jared-grace")}function html_centered(e){html_style_set(e,"text-align","center")}function html_div_text(e,t){let a=html_div(e);return html_text_set(a,t),a}function html_div_text_centered(e,t){let a=html_div_text(e,t);return html_centered(a),a}function html_p(e){return html_element(e,"p")}async function app_g(){await app_main_production("app_g_main","jared-grace")}function html_width_full(e){html_style_assign(e,{width:"100%"})}function function_is(e){return typeof e=="function"}function function_is_assert(e){let t=function_is(e);assert_json(t,{lambda:e})}function html_on(e,t,a){function_is_assert(a),html_component_element_get(e).addEventListener(t,a)}function html_on_click(e,t){html_on(e,"click",t)}function html_style_font_size_inherit(e){html_style_font_size(e,"inherit")}function html_button_element(e){let a=html_element(e,"button");return html_style_font_size_inherit(a),a}function html_button_notext(e,t){let a=html_button_element(e);return html_on_click(a,t),a}function html_button(e,t,a){arguments_assert(arguments,3);let p=html_button_notext(e,a);return html_text_set(p,t),p}function html_button_wide(e,t,a){let p=html_button(e,t,a);return html_width_full(p),p}function app_shared_name_prefix(){return"app"}function app_prefix_without(e){let t=app_shared_name_prefix()+function_name_separator()+"";return text_prefix_without(e.name,t)}function html_hash_symbol(){return"#"}function list_join_comma(e){return list_join(e,",")}function hash_to_url(e){function t(c){function l(o,s){let h=s+"="+o;c(h)}each_object(e,l)}let a=list_adder(t),p=list_join_comma(a);return html_hash_symbol()+p}function window_open(e){window.open(e,"_blank")}function file_name_html(e){return e+html_extension()}function window_open_app(e,t){let a=app_prefix_without(e),p=file_name_html(a),g=hash_to_url(t);window_open(p+g)}function window_open_app_curried_right(e){return function(p){return window_open_app(p,e)}}async function app_bible(){await app_main_production("app_bible_main","jared-grace")}async function app_reply(){await app_main_production("app_reply_main","jared-grace")}async function app_designs_universal(){await app_main_production("app_designs_universal_main","jared-grace")}async function app_replace(){await app_main_production("app_replace_main","jared-grace")}async function app_supper(){await app_main_production("app_supper_main","jared-grace")}async function app_ceb_bible(){await app_main_production("app_ceb_bible_main","jared-grace")}async function app_original_bible(){await app_main_production("app_original_bible_main","jared-grace")}function app_index_main(e){let t=property_get(e,"root");html_mobile_default(e);let a=[{app_fn:app_reply,text:"Allows you to choose languages, multiple encouraging bible verses and responses to copy and paste as messages"},{app_fn:app_search,text:"Allows search across multiple versions of the Bible in English and copying results in multiple languages"},{app_fn:app_bible,text:"Allows reading the Bible"},{app_fn:app_original_bible,text:"Allows learning the ancient Greek of the Bible by reading the Bible in ancient Greek (with word defintions and explanations) - Only John 1 and 1 Peter 4 at this time"},{app_fn:app_ceb_bible,text:"Allows learning the language Cebuano by reading the Bible in Cebuano (with word defintions and explanations) - Only Song of Solomon, James and John 1 at this time"},{app_fn:app_supper,text:"Bible verses and prayers for Lord's Supper"},{app_fn:app_g,text:"Gospel sharing game"},{app_fn:app_replace,text:"Teaches computer programming basics using substitution rules"},{app_fn:app_designs_universal,text:"Displays different possible designs"}],g=window_open_app_curried_right({});function m(c){let l=property_get(c,"app_fn"),o=app_prefix_without(l);function s(){g(l)}let h=html_p(t);html_button_wide(h,o,s);let v=property_get(c,"text");html_div_text_centered(h,v)}each(a,m)}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"}));var astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],nonASCIIidentifierChars="-----------------------------------------------------------------------------------------------------------------------------------------------------",nonASCIIidentifierStartChars="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords$1$1={5:ecma5AndLessKeywords,"5module":ecma5AndLessKeywords+" export import",6:ecma5AndLessKeywords+" const class extends export import super"},keywordRelationalOperator=/^in(stanceof)?$/,nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");function isInAstralSet(e,t){for(var a=65536,p=0;p<t.length;p+=2){if(a+=t[p],a>e)return!1;if(a+=t[p+1],a>=e)return!0}return!1}function isIdentifierStart(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nonASCIIidentifierStart.test(String.fromCharCode(e)):t===!1?!1:isInAstralSet(e,astralIdentifierStartCodes)}function isIdentifierChar(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nonASCIIidentifier.test(String.fromCharCode(e)):t===!1?!1:isInAstralSet(e,astralIdentifierStartCodes)||isInAstralSet(e,astralIdentifierCodes)}var TokenType=function e(t,a){a===void 0&&(a={}),this.label=t,this.keyword=a.keyword,this.beforeExpr=!!a.beforeExpr,this.startsExpr=!!a.startsExpr,this.isLoop=!!a.isLoop,this.isAssign=!!a.isAssign,this.prefix=!!a.prefix,this.postfix=!!a.postfix,this.binop=a.binop||null,this.updateContext=null};function binop(e,t){return new TokenType(e,{beforeExpr:!0,binop:t})}var beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywords$2={};function kw(e,t){return t===void 0&&(t={}),t.keyword=e,keywords$2[e]=new TokenType(e,t)}var types$1$1={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),privateId:new TokenType("privateId",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),questionDot:new TokenType("?."),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),coalesce:binop("??",1),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import",startsExpr),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(e){return e===10||e===13||e===8232||e===8233}function nextLineBreak(e,t,a){a===void 0&&(a=e.length);for(var p=t;p<a;p++){var g=e.charCodeAt(p);if(isNewLine(g))return p<a-1&&g===13&&e.charCodeAt(p+1)===10?p+2:p+1}return-1}var nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ref=Object.prototype,hasOwnProperty=ref.hasOwnProperty,toString=ref.toString,hasOwn=Object.hasOwn||(function(e,t){return hasOwnProperty.call(e,t)}),isArray=Array.isArray||(function(e){return toString.call(e)==="[object Array]"}),regexpCache=Object.create(null);function wordsRegexp(e){return regexpCache[e]||(regexpCache[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var loneSurrogate=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Position=function e(t,a){this.line=t,this.column=a};Position.prototype.offset=function e(t){return new Position(this.line,this.column+t)};var SourceLocation=function e(t,a,p){this.start=a,this.end=p,t.sourceFile!==null&&(this.source=t.sourceFile)};function getLineInfo(e,t){for(var a=1,p=0;;){var g=nextLineBreak(e,p,t);if(g<0)return new Position(a,t-p);++a,p=g}}var defaultOptions={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},warnedAboutEcmaVersion=!1;function getOptions(e){var t={};for(var a in defaultOptions)t[a]=e&&hasOwn(e,a)?e[a]:defaultOptions[a];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!warnedAboutEcmaVersion&&typeof console=="object"&&console.warn&&(warnedAboutEcmaVersion=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),isArray(t.onToken)){var p=t.onToken;t.onToken=function(g){return p.push(g)}}return isArray(t.onComment)&&(t.onComment=pushComment(t,t.onComment)),t}function pushComment(e,t){return function(a,p,g,m,c,l){var o={type:a?"Block":"Line",value:p,start:g,end:m};e.locations&&(o.loc=new SourceLocation(this,c,l)),e.ranges&&(o.range=[g,m]),t.push(o)}}var SCOPE_TOP=1,SCOPE_FUNCTION=2,SCOPE_ASYNC=4,SCOPE_GENERATOR=8,SCOPE_ARROW=16,SCOPE_SIMPLE_CATCH=32,SCOPE_SUPER=64,SCOPE_DIRECT_SUPER=128,SCOPE_CLASS_STATIC_BLOCK=256,SCOPE_CLASS_FIELD_INIT=512,SCOPE_VAR=SCOPE_TOP|SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK;function functionFlags(e,t){return SCOPE_FUNCTION|(e?SCOPE_ASYNC:0)|(t?SCOPE_GENERATOR:0)}var BIND_NONE=0,BIND_VAR=1,BIND_LEXICAL=2,BIND_FUNCTION=3,BIND_SIMPLE_CATCH=4,BIND_OUTSIDE=5,Parser=function e(t,a,p){this.options=t=getOptions(t),this.sourceFile=t.sourceFile,this.keywords=wordsRegexp(keywords$1$1[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var g="";t.allowReserved!==!0&&(g=reservedWords[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(g+=" await")),this.reservedWords=wordsRegexp(g);var m=(g?g+" ":"")+reservedWords.strict;this.reservedWordsStrict=wordsRegexp(m),this.reservedWordsStrictBind=wordsRegexp(m+" "+reservedWords.strictBind),this.input=String(a),this.containsEsc=!1,p?(this.pos=p,this.lineStart=this.input.lastIndexOf(`
`,p-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=types$1$1.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(SCOPE_TOP),this.regexpState=null,this.privateNameStack=[]},prototypeAccessors={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Parser.prototype.parse=function e(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},prototypeAccessors.inFunction.get=function(){return(this.currentVarScope().flags&SCOPE_FUNCTION)>0},prototypeAccessors.inGenerator.get=function(){return(this.currentVarScope().flags&SCOPE_GENERATOR)>0},prototypeAccessors.inAsync.get=function(){return(this.currentVarScope().flags&SCOPE_ASYNC)>0},prototypeAccessors.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e],a=t.flags;if(a&(SCOPE_CLASS_STATIC_BLOCK|SCOPE_CLASS_FIELD_INIT))return!1;if(a&SCOPE_FUNCTION)return(a&SCOPE_ASYNC)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},prototypeAccessors.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags;return(t&SCOPE_SUPER)>0||this.options.allowSuperOutsideMethod},prototypeAccessors.allowDirectSuper.get=function(){return(this.currentThisScope().flags&SCOPE_DIRECT_SUPER)>0},prototypeAccessors.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},prototypeAccessors.allowNewDotTarget.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e],a=t.flags;if(a&(SCOPE_CLASS_STATIC_BLOCK|SCOPE_CLASS_FIELD_INIT)||a&SCOPE_FUNCTION&&!(a&SCOPE_ARROW))return!0}return!1},prototypeAccessors.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&SCOPE_CLASS_STATIC_BLOCK)>0},Parser.extend=function e(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];for(var p=this,g=0;g<t.length;g++)p=t[g](p);return p},Parser.parse=function e(t,a){return new this(a,t).parse()},Parser.parseExpressionAt=function e(t,a,p){var g=new this(p,t,a);return g.nextToken(),g.parseExpression()},Parser.tokenizer=function e(t,a){return new this(a,t)},Object.defineProperties(Parser.prototype,prototypeAccessors);var pp$9=Parser.prototype,literal=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;pp$9.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length;var t=literal.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){skipWhiteSpace.lastIndex=e+t[0].length;var a=skipWhiteSpace.exec(this.input),p=a.index+a[0].length,g=this.input.charAt(p);return g===";"||g==="}"||lineBreak.test(a[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(g)||g==="!"&&this.input.charAt(p+1)==="=")}e+=t[0].length,skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length,this.input[e]===";"&&e++}},pp$9.eat=function(e){return this.type===e?(this.next(),!0):!1},pp$9.isContextual=function(e){return this.type===types$1$1.name&&this.value===e&&!this.containsEsc},pp$9.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1},pp$9.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},pp$9.canInsertSemicolon=function(){return this.type===types$1$1.eof||this.type===types$1$1.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},pp$9.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},pp$9.semicolon=function(){!this.eat(types$1$1.semi)&&!this.insertSemicolon()&&this.unexpected()},pp$9.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},pp$9.expect=function(e){this.eat(e)||this.unexpected()},pp$9.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var DestructuringErrors=function e(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};pp$9.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var a=t?e.parenthesizedAssign:e.parenthesizedBind;a>-1&&this.raiseRecoverable(a,t?"Assigning to rvalue":"Parenthesized pattern")}},pp$9.checkExpressionErrors=function(e,t){if(!e)return!1;var a=e.shorthandAssign,p=e.doubleProto;if(!t)return a>=0||p>=0;a>=0&&this.raise(a,"Shorthand property assignments are valid only in destructuring patterns"),p>=0&&this.raiseRecoverable(p,"Redefinition of __proto__ property")},pp$9.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},pp$9.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var pp$8=Parser.prototype;pp$8.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==types$1$1.eof;){var a=this.parseStatement(null,!0,t);e.body.push(a)}if(this.inModule)for(var p=0,g=Object.keys(this.undefinedExports);p<g.length;p+=1){var m=g[p];this.raiseRecoverable(this.undefinedExports[m].start,"Export '"+m+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$8.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;skipWhiteSpace.lastIndex=this.pos;var t=skipWhiteSpace.exec(this.input),a=this.pos+t[0].length,p=this.input.charCodeAt(a);if(p===91||p===92)return!0;if(e)return!1;if(p===123||p>55295&&p<56320)return!0;if(isIdentifierStart(p,!0)){for(var g=a+1;isIdentifierChar(p=this.input.charCodeAt(g),!0);)++g;if(p===92||p>55295&&p<56320)return!0;var m=this.input.slice(a,g);if(!keywordRelationalOperator.test(m))return!0}return!1},pp$8.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;skipWhiteSpace.lastIndex=this.pos;var e=skipWhiteSpace.exec(this.input),t=this.pos+e[0].length,a;return!lineBreak.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(isIdentifierChar(a=this.input.charCodeAt(t+8))||a>55295&&a<56320))},pp$8.isUsingKeyword=function(e,t){if(this.options.ecmaVersion<17||!this.isContextual(e?"await":"using"))return!1;skipWhiteSpace.lastIndex=this.pos;var a=skipWhiteSpace.exec(this.input),p=this.pos+a[0].length;if(lineBreak.test(this.input.slice(this.pos,p)))return!1;if(e){var g=p+5,m;if(this.input.slice(p,g)!=="using"||g===this.input.length||isIdentifierChar(m=this.input.charCodeAt(g))||m>55295&&m<56320)return!1;skipWhiteSpace.lastIndex=g;var c=skipWhiteSpace.exec(this.input);if(c&&lineBreak.test(this.input.slice(g,g+c[0].length)))return!1}if(t){var l=p+2,o;if(this.input.slice(p,l)==="of"&&(l===this.input.length||!isIdentifierChar(o=this.input.charCodeAt(l))&&!(o>55295&&o<56320)))return!1}var s=this.input.charCodeAt(p);return isIdentifierStart(s,!0)||s===92},pp$8.isAwaitUsing=function(e){return this.isUsingKeyword(!0,e)},pp$8.isUsing=function(e){return this.isUsingKeyword(!1,e)},pp$8.parseStatement=function(e,t,a){var p=this.type,g=this.startNode(),m;switch(this.isLet(e)&&(p=types$1$1._var,m="let"),p){case types$1$1._break:case types$1$1._continue:return this.parseBreakContinueStatement(g,p.keyword);case types$1$1._debugger:return this.parseDebuggerStatement(g);case types$1$1._do:return this.parseDoStatement(g);case types$1$1._for:return this.parseForStatement(g);case types$1$1._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(g,!1,!e);case types$1$1._class:return e&&this.unexpected(),this.parseClass(g,!0);case types$1$1._if:return this.parseIfStatement(g);case types$1$1._return:return this.parseReturnStatement(g);case types$1$1._switch:return this.parseSwitchStatement(g);case types$1$1._throw:return this.parseThrowStatement(g);case types$1$1._try:return this.parseTryStatement(g);case types$1$1._const:case types$1$1._var:return m=m||this.value,e&&m!=="var"&&this.unexpected(),this.parseVarStatement(g,m);case types$1$1._while:return this.parseWhileStatement(g);case types$1$1._with:return this.parseWithStatement(g);case types$1$1.braceL:return this.parseBlock(!0,g);case types$1$1.semi:return this.parseEmptyStatement(g);case types$1$1._export:case types$1$1._import:if(this.options.ecmaVersion>10&&p===types$1$1._import){skipWhiteSpace.lastIndex=this.pos;var c=skipWhiteSpace.exec(this.input),l=this.pos+c[0].length,o=this.input.charCodeAt(l);if(o===40||o===46)return this.parseExpressionStatement(g,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),p===types$1$1._import?this.parseImport(g):this.parseExport(g,a);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(g,!0,!e);var s=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(s)return t&&this.options.sourceType==="script"&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),s==="await using"&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(g,!1,s),this.semicolon(),this.finishNode(g,"VariableDeclaration");var h=this.value,v=this.parseExpression();return p===types$1$1.name&&v.type==="Identifier"&&this.eat(types$1$1.colon)?this.parseLabeledStatement(g,h,v,e):this.parseExpressionStatement(g,v)}},pp$8.parseBreakContinueStatement=function(e,t){var a=t==="break";this.next(),this.eat(types$1$1.semi)||this.insertSemicolon()?e.label=null:this.type!==types$1$1.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var p=0;p<this.labels.length;++p){var g=this.labels[p];if((e.label==null||g.name===e.label.name)&&(g.kind!=null&&(a||g.kind==="loop")||e.label&&a))break}return p===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,a?"BreakStatement":"ContinueStatement")},pp$8.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},pp$8.parseDoStatement=function(e){return this.next(),this.labels.push(loopLabel),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(types$1$1._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(types$1$1.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},pp$8.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(loopLabel),this.enterScope(0),this.expect(types$1$1.parenL),this.type===types$1$1.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var a=this.isLet();if(this.type===types$1$1._var||this.type===types$1$1._const||a){var p=this.startNode(),g=a?"let":this.value;return this.next(),this.parseVar(p,!0,g),this.finishNode(p,"VariableDeclaration"),this.parseForAfterInit(e,p,t)}var m=this.isContextual("let"),c=!1,l=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(l){var o=this.startNode();return this.next(),l==="await using"&&this.next(),this.parseVar(o,!0,l),this.finishNode(o,"VariableDeclaration"),this.parseForAfterInit(e,o,t)}var s=this.containsEsc,h=new DestructuringErrors,v=this.start,b=t>-1?this.parseExprSubscripts(h,"await"):this.parseExpression(!0,h);return this.type===types$1$1._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===types$1$1._in&&this.unexpected(t),e.await=!0):c&&this.options.ecmaVersion>=8&&(b.start===v&&!s&&b.type==="Identifier"&&b.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),m&&c&&this.raise(b.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(b,!1,h),this.checkLValPattern(b),this.parseForIn(e,b)):(this.checkExpressionErrors(h,!0),t>-1&&this.unexpected(t),this.parseFor(e,b))},pp$8.parseForAfterInit=function(e,t,a){return(this.type===types$1$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&t.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===types$1$1._in?a>-1&&this.unexpected(a):e.await=a>-1),this.parseForIn(e,t)):(a>-1&&this.unexpected(a),this.parseFor(e,t))},pp$8.parseFunctionStatement=function(e,t,a){return this.next(),this.parseFunction(e,FUNC_STATEMENT|(a?0:FUNC_HANGING_STATEMENT),!1,t)},pp$8.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(types$1$1._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},pp$8.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(types$1$1.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},pp$8.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(types$1$1.braceL),this.labels.push(switchLabel),this.enterScope(0);for(var t,a=!1;this.type!==types$1$1.braceR;)if(this.type===types$1$1._case||this.type===types$1$1._default){var p=this.type===types$1$1._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),p?t.test=this.parseExpression():(a&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),a=!0,t.test=null),this.expect(types$1$1.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},pp$8.parseThrowStatement=function(e){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var empty$1=[];pp$8.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?SCOPE_SIMPLE_CATCH:0),this.checkLValPattern(e,t?BIND_SIMPLE_CATCH:BIND_LEXICAL),this.expect(types$1$1.parenR),e},pp$8.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===types$1$1._catch){var t=this.startNode();this.next(),this.eat(types$1$1.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(types$1$1._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},pp$8.parseVarStatement=function(e,t,a){return this.next(),this.parseVar(e,!1,t,a),this.semicolon(),this.finishNode(e,"VariableDeclaration")},pp$8.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(loopLabel),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},pp$8.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},pp$8.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},pp$8.parseLabeledStatement=function(e,t,a,p){for(var g=0,m=this.labels;g<m.length;g+=1){var c=m[g];c.name===t&&this.raise(a.start,"Label '"+t+"' is already declared")}for(var l=this.type.isLoop?"loop":this.type===types$1$1._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var s=this.labels[o];if(s.statementStart===e.start)s.statementStart=this.start,s.kind=l;else break}return this.labels.push({name:t,kind:l,statementStart:this.start}),e.body=this.parseStatement(p?p.indexOf("label")===-1?p+"label":p:"label"),this.labels.pop(),e.label=a,this.finishNode(e,"LabeledStatement")},pp$8.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},pp$8.parseBlock=function(e,t,a){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(types$1$1.braceL),e&&this.enterScope(0);this.type!==types$1$1.braceR;){var p=this.parseStatement(null);t.body.push(p)}return a&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},pp$8.parseFor=function(e,t){return e.init=t,this.expect(types$1$1.semi),e.test=this.type===types$1$1.semi?null:this.parseExpression(),this.expect(types$1$1.semi),e.update=this.type===types$1$1.parenR?null:this.parseExpression(),this.expect(types$1$1.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},pp$8.parseForIn=function(e,t){var a=this.type===types$1$1._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!a||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(a?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=a?this.parseExpression():this.parseMaybeAssign(),this.expect(types$1$1.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,a?"ForInStatement":"ForOfStatement")},pp$8.parseVar=function(e,t,a,p){for(e.declarations=[],e.kind=a;;){var g=this.startNode();if(this.parseVarId(g,a),this.eat(types$1$1.eq)?g.init=this.parseMaybeAssign(t):!p&&a==="const"&&!(this.type===types$1$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!p&&(a==="using"||a==="await using")&&this.options.ecmaVersion>=17&&this.type!==types$1$1._in&&!this.isContextual("of")?this.raise(this.lastTokEnd,"Missing initializer in "+a+" declaration"):!p&&g.id.type!=="Identifier"&&!(t&&(this.type===types$1$1._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):g.init=null,e.declarations.push(this.finishNode(g,"VariableDeclarator")),!this.eat(types$1$1.comma))break}return e},pp$8.parseVarId=function(e,t){e.id=t==="using"||t==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?BIND_VAR:BIND_LEXICAL,!1)};var FUNC_STATEMENT=1,FUNC_HANGING_STATEMENT=2,FUNC_NULLABLE_ID=4;pp$8.parseFunction=function(e,t,a,p,g){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!p)&&(this.type===types$1$1.star&&t&FUNC_HANGING_STATEMENT&&this.unexpected(),e.generator=this.eat(types$1$1.star)),this.options.ecmaVersion>=8&&(e.async=!!p),t&FUNC_STATEMENT&&(e.id=t&FUNC_NULLABLE_ID&&this.type!==types$1$1.name?null:this.parseIdent(),e.id&&!(t&FUNC_HANGING_STATEMENT)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?BIND_VAR:BIND_LEXICAL:BIND_FUNCTION));var m=this.yieldPos,c=this.awaitPos,l=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(e.async,e.generator)),t&FUNC_STATEMENT||(e.id=this.type===types$1$1.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,a,!1,g),this.yieldPos=m,this.awaitPos=c,this.awaitIdentPos=l,this.finishNode(e,t&FUNC_STATEMENT?"FunctionDeclaration":"FunctionExpression")},pp$8.parseFunctionParams=function(e){this.expect(types$1$1.parenL),e.params=this.parseBindingList(types$1$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},pp$8.parseClass=function(e,t){this.next();var a=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var p=this.enterClassBody(),g=this.startNode(),m=!1;for(g.body=[],this.expect(types$1$1.braceL);this.type!==types$1$1.braceR;){var c=this.parseClassElement(e.superClass!==null);c&&(g.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(m&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),m=!0):c.key&&c.key.type==="PrivateIdentifier"&&isPrivateNameConflicted(p,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=a,this.next(),e.body=this.finishNode(g,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},pp$8.parseClassElement=function(e){if(this.eat(types$1$1.semi))return null;var t=this.options.ecmaVersion,a=this.startNode(),p="",g=!1,m=!1,c="method",l=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(types$1$1.braceL))return this.parseClassStaticBlock(a),a;this.isClassElementNameStart()||this.type===types$1$1.star?l=!0:p="static"}if(a.static=l,!p&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===types$1$1.star)&&!this.canInsertSemicolon()?m=!0:p="async"),!p&&(t>=9||!m)&&this.eat(types$1$1.star)&&(g=!0),!p&&!m&&!g){var o=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=o:p=o)}if(p?(a.computed=!1,a.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),a.key.name=p,this.finishNode(a.key,"Identifier")):this.parseClassElementName(a),t<13||this.type===types$1$1.parenL||c!=="method"||g||m){var s=!a.static&&checkKeyName(a,"constructor"),h=s&&e;s&&c!=="method"&&this.raise(a.key.start,"Constructor can't have get/set modifier"),a.kind=s?"constructor":c,this.parseClassMethod(a,g,m,h)}else this.parseClassField(a);return a},pp$8.isClassElementNameStart=function(){return this.type===types$1$1.name||this.type===types$1$1.privateId||this.type===types$1$1.num||this.type===types$1$1.string||this.type===types$1$1.bracketL||this.type.keyword},pp$8.parseClassElementName=function(e){this.type===types$1$1.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},pp$8.parseClassMethod=function(e,t,a,p){var g=e.key;e.kind==="constructor"?(t&&this.raise(g.start,"Constructor can't be a generator"),a&&this.raise(g.start,"Constructor can't be an async method")):e.static&&checkKeyName(e,"prototype")&&this.raise(g.start,"Classes may not have a static property named prototype");var m=e.value=this.parseMethod(t,a,p);return e.kind==="get"&&m.params.length!==0&&this.raiseRecoverable(m.start,"getter should have no params"),e.kind==="set"&&m.params.length!==1&&this.raiseRecoverable(m.start,"setter should have exactly one param"),e.kind==="set"&&m.params[0].type==="RestElement"&&this.raiseRecoverable(m.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},pp$8.parseClassField=function(e){return checkKeyName(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&checkKeyName(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(types$1$1.eq)?(this.enterScope(SCOPE_CLASS_FIELD_INIT|SCOPE_SUPER),e.value=this.parseMaybeAssign(),this.exitScope()):e.value=null,this.semicolon(),this.finishNode(e,"PropertyDefinition")},pp$8.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(SCOPE_CLASS_STATIC_BLOCK|SCOPE_SUPER);this.type!==types$1$1.braceR;){var a=this.parseStatement(null);e.body.push(a)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},pp$8.parseClassId=function(e,t){this.type===types$1$1.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,BIND_LEXICAL,!1)):(t===!0&&this.unexpected(),e.id=null)},pp$8.parseClassSuper=function(e){e.superClass=this.eat(types$1$1._extends)?this.parseExprSubscripts(null,!1):null},pp$8.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},pp$8.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,a=e.used;if(this.options.checkPrivateFields)for(var p=this.privateNameStack.length,g=p===0?null:this.privateNameStack[p-1],m=0;m<a.length;++m){var c=a[m];hasOwn(t,c.name)||(g?g.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function isPrivateNameConflicted(e,t){var a=t.key.name,p=e[a],g="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(g=(t.static?"s":"i")+t.kind),p==="iget"&&g==="iset"||p==="iset"&&g==="iget"||p==="sget"&&g==="sset"||p==="sset"&&g==="sget"?(e[a]="true",!1):p?!0:(e[a]=g,!1)}function checkKeyName(e,t){var a=e.computed,p=e.key;return!a&&(p.type==="Identifier"&&p.name===t||p.type==="Literal"&&p.value===t)}pp$8.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==types$1$1.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},pp$8.parseExport=function(e,t){if(this.next(),this.eat(types$1$1.star))return this.parseExportAllDeclaration(e,t);if(this.eat(types$1$1._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[]);else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==types$1$1.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var a=0,p=e.specifiers;a<p.length;a+=1){var g=p[a];this.checkUnreserved(g.local),this.checkLocalExport(g.local),g.local.type==="Literal"&&this.raise(g.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[])}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},pp$8.parseExportDeclaration=function(e){return this.parseStatement(null)},pp$8.parseExportDefaultDeclaration=function(){var e;if(this.type===types$1$1._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,FUNC_STATEMENT|FUNC_NULLABLE_ID,!1,e)}else if(this.type===types$1$1._class){var a=this.startNode();return this.parseClass(a,"nullableID")}else{var p=this.parseMaybeAssign();return this.semicolon(),p}},pp$8.checkExport=function(e,t,a){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),hasOwn(e,t)&&this.raiseRecoverable(a,"Duplicate export '"+t+"'"),e[t]=!0)},pp$8.checkPatternExport=function(e,t){var a=t.type;if(a==="Identifier")this.checkExport(e,t,t.start);else if(a==="ObjectPattern")for(var p=0,g=t.properties;p<g.length;p+=1){var m=g[p];this.checkPatternExport(e,m)}else if(a==="ArrayPattern")for(var c=0,l=t.elements;c<l.length;c+=1){var o=l[c];o&&this.checkPatternExport(e,o)}else a==="Property"?this.checkPatternExport(e,t.value):a==="AssignmentPattern"?this.checkPatternExport(e,t.left):a==="RestElement"&&this.checkPatternExport(e,t.argument)},pp$8.checkVariableExport=function(e,t){if(e)for(var a=0,p=t;a<p.length;a+=1){var g=p[a];this.checkPatternExport(e,g.id)}},pp$8.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},pp$8.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},pp$8.parseExportSpecifiers=function(e){var t=[],a=!0;for(this.expect(types$1$1.braceL);!this.eat(types$1$1.braceR);){if(a)a=!1;else if(this.expect(types$1$1.comma),this.afterTrailingComma(types$1$1.braceR))break;t.push(this.parseExportSpecifier(e))}return t},pp$8.parseImport=function(e){return this.next(),this.type===types$1$1.string?(e.specifiers=empty$1,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===types$1$1.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},pp$8.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,BIND_LEXICAL),this.finishNode(e,"ImportSpecifier")},pp$8.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,BIND_LEXICAL),this.finishNode(e,"ImportDefaultSpecifier")},pp$8.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,BIND_LEXICAL),this.finishNode(e,"ImportNamespaceSpecifier")},pp$8.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===types$1$1.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(types$1$1.comma)))return e;if(this.type===types$1$1.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(types$1$1.braceL);!this.eat(types$1$1.braceR);){if(t)t=!1;else if(this.expect(types$1$1.comma),this.afterTrailingComma(types$1$1.braceR))break;e.push(this.parseImportSpecifier())}return e},pp$8.parseWithClause=function(){var e=[];if(!this.eat(types$1$1._with))return e;this.expect(types$1$1.braceL);for(var t={},a=!0;!this.eat(types$1$1.braceR);){if(a)a=!1;else if(this.expect(types$1$1.comma),this.afterTrailingComma(types$1$1.braceR))break;var p=this.parseImportAttribute(),g=p.key.type==="Identifier"?p.key.name:p.key.value;hasOwn(t,g)&&this.raiseRecoverable(p.key.start,"Duplicate attribute key '"+g+"'"),t[g]=!0,e.push(p)}return e},pp$8.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===types$1$1.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(types$1$1.colon),this.type!==types$1$1.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")},pp$8.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===types$1$1.string){var e=this.parseLiteral(this.value);return loneSurrogate.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},pp$8.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},pp$8.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var pp$7=Parser.prototype;pp$7.toAssignable=function(e,t,a){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",a&&this.checkPatternErrors(a,!0);for(var p=0,g=e.properties;p<g.length;p+=1){var m=g[p];this.toAssignable(m,t),m.type==="RestElement"&&(m.argument.type==="ArrayPattern"||m.argument.type==="ObjectPattern")&&this.raise(m.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",a&&this.checkPatternErrors(a,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,a);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else a&&this.checkPatternErrors(a,!0);return e},pp$7.toAssignableList=function(e,t){for(var a=e.length,p=0;p<a;p++){var g=e[p];g&&this.toAssignable(g,t)}if(a){var m=e[a-1];this.options.ecmaVersion===6&&t&&m&&m.type==="RestElement"&&m.argument.type!=="Identifier"&&this.unexpected(m.argument.start)}return e},pp$7.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},pp$7.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==types$1$1.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},pp$7.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case types$1$1.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(types$1$1.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case types$1$1.braceL:return this.parseObj(!0)}return this.parseIdent()},pp$7.parseBindingList=function(e,t,a,p){for(var g=[],m=!0;!this.eat(e);)if(m?m=!1:this.expect(types$1$1.comma),t&&this.type===types$1$1.comma)g.push(null);else{if(a&&this.afterTrailingComma(e))break;if(this.type===types$1$1.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),g.push(c),this.type===types$1$1.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else g.push(this.parseAssignableListItem(p))}return g},pp$7.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},pp$7.parseBindingListItem=function(e){return e},pp$7.parseMaybeDefault=function(e,t,a){if(a=a||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(types$1$1.eq))return a;var p=this.startNodeAt(e,t);return p.left=a,p.right=this.parseMaybeAssign(),this.finishNode(p,"AssignmentPattern")},pp$7.checkLValSimple=function(e,t,a){t===void 0&&(t=BIND_NONE);var p=t!==BIND_NONE;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(p?"Binding ":"Assigning to ")+e.name+" in strict mode"),p&&(t===BIND_LEXICAL&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),a&&(hasOwn(a,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),a[e.name]=!0),t!==BIND_OUTSIDE&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":p&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return p&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,a);default:this.raise(e.start,(p?"Binding":"Assigning to")+" rvalue")}},pp$7.checkLValPattern=function(e,t,a){switch(t===void 0&&(t=BIND_NONE),e.type){case"ObjectPattern":for(var p=0,g=e.properties;p<g.length;p+=1){var m=g[p];this.checkLValInnerPattern(m,t,a)}break;case"ArrayPattern":for(var c=0,l=e.elements;c<l.length;c+=1){var o=l[c];o&&this.checkLValInnerPattern(o,t,a)}break;default:this.checkLValSimple(e,t,a)}},pp$7.checkLValInnerPattern=function(e,t,a){switch(t===void 0&&(t=BIND_NONE),e.type){case"Property":this.checkLValInnerPattern(e.value,t,a);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,a);break;case"RestElement":this.checkLValPattern(e.argument,t,a);break;default:this.checkLValPattern(e,t,a)}};var TokContext=function e(t,a,p,g,m){this.token=t,this.isExpr=!!a,this.preserveSpace=!!p,this.override=g,this.generator=!!m},types$6={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!1),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new TokContext("function",!1),f_expr:new TokContext("function",!0),f_expr_gen:new TokContext("function",!0,!1,null,!0),f_gen:new TokContext("function",!1,!1,null,!0)},pp$6=Parser.prototype;pp$6.initialContext=function(){return[types$6.b_stat]},pp$6.curContext=function(){return this.context[this.context.length-1]},pp$6.braceIsBlock=function(e){var t=this.curContext();return t===types$6.f_expr||t===types$6.f_stat?!0:e===types$1$1.colon&&(t===types$6.b_stat||t===types$6.b_expr)?!t.isExpr:e===types$1$1._return||e===types$1$1.name&&this.exprAllowed?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):e===types$1$1._else||e===types$1$1.semi||e===types$1$1.eof||e===types$1$1.parenR||e===types$1$1.arrow?!0:e===types$1$1.braceL?t===types$6.b_stat:e===types$1$1._var||e===types$1$1._const||e===types$1$1.name?!1:!this.exprAllowed},pp$6.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1},pp$6.updateContext=function(e){var t,a=this.type;a.keyword&&e===types$1$1.dot?this.exprAllowed=!1:(t=a.updateContext)?t.call(this,e):this.exprAllowed=a.beforeExpr},pp$6.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},types$1$1.parenR.updateContext=types$1$1.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===types$6.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},types$1$1.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?types$6.b_stat:types$6.b_expr),this.exprAllowed=!0},types$1$1.dollarBraceL.updateContext=function(){this.context.push(types$6.b_tmpl),this.exprAllowed=!0},types$1$1.parenL.updateContext=function(e){var t=e===types$1$1._if||e===types$1$1._for||e===types$1$1._with||e===types$1$1._while;this.context.push(t?types$6.p_stat:types$6.p_expr),this.exprAllowed=!0},types$1$1.incDec.updateContext=function(){},types$1$1._function.updateContext=types$1$1._class.updateContext=function(e){e.beforeExpr&&e!==types$1$1._else&&!(e===types$1$1.semi&&this.curContext()!==types$6.p_stat)&&!(e===types$1$1._return&&lineBreak.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===types$1$1.colon||e===types$1$1.braceL)&&this.curContext()===types$6.b_stat)?this.context.push(types$6.f_expr):this.context.push(types$6.f_stat),this.exprAllowed=!1},types$1$1.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},types$1$1.backQuote.updateContext=function(){this.curContext()===types$6.q_tmpl?this.context.pop():this.context.push(types$6.q_tmpl),this.exprAllowed=!1},types$1$1.star.updateContext=function(e){if(e===types$1$1._function){var t=this.context.length-1;this.context[t]===types$6.f_expr?this.context[t]=types$6.f_expr_gen:this.context[t]=types$6.f_gen}this.exprAllowed=!0},types$1$1.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==types$1$1.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var pp$5=Parser.prototype;pp$5.checkPropClash=function(e,t,a){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var p=e.key,g;switch(p.type){case"Identifier":g=p.name;break;case"Literal":g=String(p.value);break;default:return}var m=e.kind;if(this.options.ecmaVersion>=6){g==="__proto__"&&m==="init"&&(t.proto&&(a?a.doubleProto<0&&(a.doubleProto=p.start):this.raiseRecoverable(p.start,"Redefinition of __proto__ property")),t.proto=!0);return}g="$"+g;var c=t[g];if(c){var l;m==="init"?l=this.strict&&c.init||c.get||c.set:l=c.init||c[m],l&&this.raiseRecoverable(p.start,"Redefinition of property")}else c=t[g]={init:!1,get:!1,set:!1};c[m]=!0}},pp$5.parseExpression=function(e,t){var a=this.start,p=this.startLoc,g=this.parseMaybeAssign(e,t);if(this.type===types$1$1.comma){var m=this.startNodeAt(a,p);for(m.expressions=[g];this.eat(types$1$1.comma);)m.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(m,"SequenceExpression")}return g},pp$5.parseMaybeAssign=function(e,t,a){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var p=!1,g=-1,m=-1,c=-1;t?(g=t.parenthesizedAssign,m=t.trailingComma,c=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new DestructuringErrors,p=!0);var l=this.start,o=this.startLoc;(this.type===types$1$1.parenL||this.type===types$1$1.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var s=this.parseMaybeConditional(e,t);if(a&&(s=a.call(this,s,l,o)),this.type.isAssign){var h=this.startNodeAt(l,o);return h.operator=this.value,this.type===types$1$1.eq&&(s=this.toAssignable(s,!1,t)),p||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=s.start&&(t.shorthandAssign=-1),this.type===types$1$1.eq?this.checkLValPattern(s):this.checkLValSimple(s),h.left=s,this.next(),h.right=this.parseMaybeAssign(e),c>-1&&(t.doubleProto=c),this.finishNode(h,"AssignmentExpression")}else p&&this.checkExpressionErrors(t,!0);return g>-1&&(t.parenthesizedAssign=g),m>-1&&(t.trailingComma=m),s},pp$5.parseMaybeConditional=function(e,t){var a=this.start,p=this.startLoc,g=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return g;if(this.eat(types$1$1.question)){var m=this.startNodeAt(a,p);return m.test=g,m.consequent=this.parseMaybeAssign(),this.expect(types$1$1.colon),m.alternate=this.parseMaybeAssign(e),this.finishNode(m,"ConditionalExpression")}return g},pp$5.parseExprOps=function(e,t){var a=this.start,p=this.startLoc,g=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||g.start===a&&g.type==="ArrowFunctionExpression"?g:this.parseExprOp(g,a,p,-1,e)},pp$5.parseExprOp=function(e,t,a,p,g){var m=this.type.binop;if(m!=null&&(!g||this.type!==types$1$1._in)&&m>p){var c=this.type===types$1$1.logicalOR||this.type===types$1$1.logicalAND,l=this.type===types$1$1.coalesce;l&&(m=types$1$1.logicalAND.binop);var o=this.value;this.next();var s=this.start,h=this.startLoc,v=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,g),s,h,m,g),b=this.buildBinary(t,a,e,v,o,c||l);return(c&&this.type===types$1$1.coalesce||l&&(this.type===types$1$1.logicalOR||this.type===types$1$1.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(b,t,a,p,g)}return e},pp$5.buildBinary=function(e,t,a,p,g,m){p.type==="PrivateIdentifier"&&this.raise(p.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(e,t);return c.left=a,c.operator=g,c.right=p,this.finishNode(c,m?"LogicalExpression":"BinaryExpression")},pp$5.parseMaybeUnary=function(e,t,a,p){var g=this.start,m=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(p),t=!0;else if(this.type.prefix){var l=this.startNode(),o=this.type===types$1$1.incDec;l.operator=this.value,l.prefix=!0,this.next(),l.argument=this.parseMaybeUnary(null,!0,o,p),this.checkExpressionErrors(e,!0),o?this.checkLValSimple(l.argument):this.strict&&l.operator==="delete"&&isLocalVariableAccess(l.argument)?this.raiseRecoverable(l.start,"Deleting local variable in strict mode"):l.operator==="delete"&&isPrivateFieldAccess(l.argument)?this.raiseRecoverable(l.start,"Private fields can not be deleted"):t=!0,c=this.finishNode(l,o?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===types$1$1.privateId)(p||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==types$1$1._in&&this.unexpected();else{if(c=this.parseExprSubscripts(e,p),this.checkExpressionErrors(e))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var s=this.startNodeAt(g,m);s.operator=this.value,s.prefix=!1,s.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(s,"UpdateExpression")}}if(!a&&this.eat(types$1$1.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(g,m,c,this.parseMaybeUnary(null,!1,!1,p),"**",!1);else return c};function isLocalVariableAccess(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&isLocalVariableAccess(e.expression)}function isPrivateFieldAccess(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&isPrivateFieldAccess(e.expression)||e.type==="ParenthesizedExpression"&&isPrivateFieldAccess(e.expression)}pp$5.parseExprSubscripts=function(e,t){var a=this.start,p=this.startLoc,g=this.parseExprAtom(e,t);if(g.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return g;var m=this.parseSubscripts(g,a,p,!1,t);return e&&m.type==="MemberExpression"&&(e.parenthesizedAssign>=m.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=m.start&&(e.parenthesizedBind=-1),e.trailingComma>=m.start&&(e.trailingComma=-1)),m},pp$5.parseSubscripts=function(e,t,a,p,g){for(var m=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,c=!1;;){var l=this.parseSubscript(e,t,a,p,m,c,g);if(l.optional&&(c=!0),l===e||l.type==="ArrowFunctionExpression"){if(c){var o=this.startNodeAt(t,a);o.expression=l,l=this.finishNode(o,"ChainExpression")}return l}e=l}},pp$5.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(types$1$1.arrow)},pp$5.parseSubscriptAsyncArrow=function(e,t,a,p){return this.parseArrowExpression(this.startNodeAt(e,t),a,!0,p)},pp$5.parseSubscript=function(e,t,a,p,g,m,c){var l=this.options.ecmaVersion>=11,o=l&&this.eat(types$1$1.questionDot);p&&o&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var s=this.eat(types$1$1.bracketL);if(s||o&&this.type!==types$1$1.parenL&&this.type!==types$1$1.backQuote||this.eat(types$1$1.dot)){var h=this.startNodeAt(t,a);h.object=e,s?(h.property=this.parseExpression(),this.expect(types$1$1.bracketR)):this.type===types$1$1.privateId&&e.type!=="Super"?h.property=this.parsePrivateIdent():h.property=this.parseIdent(this.options.allowReserved!=="never"),h.computed=!!s,l&&(h.optional=o),e=this.finishNode(h,"MemberExpression")}else if(!p&&this.eat(types$1$1.parenL)){var v=new DestructuringErrors,b=this.yieldPos,y=this.awaitPos,O=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var w=this.parseExprList(types$1$1.parenR,this.options.ecmaVersion>=8,!1,v);if(g&&!o&&this.shouldParseAsyncArrow())return this.checkPatternErrors(v,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=b,this.awaitPos=y,this.awaitIdentPos=O,this.parseSubscriptAsyncArrow(t,a,w,c);this.checkExpressionErrors(v,!0),this.yieldPos=b||this.yieldPos,this.awaitPos=y||this.awaitPos,this.awaitIdentPos=O||this.awaitIdentPos;var I=this.startNodeAt(t,a);I.callee=e,I.arguments=w,l&&(I.optional=o),e=this.finishNode(I,"CallExpression")}else if(this.type===types$1$1.backQuote){(o||m)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var _=this.startNodeAt(t,a);_.tag=e,_.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(_,"TaggedTemplateExpression")}return e},pp$5.parseExprAtom=function(e,t,a){this.type===types$1$1.slash&&this.readRegexp();var p,g=this.potentialArrowAt===this.start;switch(this.type){case types$1$1._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),p=this.startNode(),this.next(),this.type===types$1$1.parenL&&!this.allowDirectSuper&&this.raise(p.start,"super() call outside constructor of a subclass"),this.type!==types$1$1.dot&&this.type!==types$1$1.bracketL&&this.type!==types$1$1.parenL&&this.unexpected(),this.finishNode(p,"Super");case types$1$1._this:return p=this.startNode(),this.next(),this.finishNode(p,"ThisExpression");case types$1$1.name:var m=this.start,c=this.startLoc,l=this.containsEsc,o=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&o.name==="async"&&!this.canInsertSemicolon()&&this.eat(types$1$1._function))return this.overrideContext(types$6.f_expr),this.parseFunction(this.startNodeAt(m,c),0,!1,!0,t);if(g&&!this.canInsertSemicolon()){if(this.eat(types$1$1.arrow))return this.parseArrowExpression(this.startNodeAt(m,c),[o],!1,t);if(this.options.ecmaVersion>=8&&o.name==="async"&&this.type===types$1$1.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return o=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(types$1$1.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(m,c),[o],!0,t)}return o;case types$1$1.regexp:var s=this.value;return p=this.parseLiteral(s.value),p.regex={pattern:s.pattern,flags:s.flags},p;case types$1$1.num:case types$1$1.string:return this.parseLiteral(this.value);case types$1$1._null:case types$1$1._true:case types$1$1._false:return p=this.startNode(),p.value=this.type===types$1$1._null?null:this.type===types$1$1._true,p.raw=this.type.keyword,this.next(),this.finishNode(p,"Literal");case types$1$1.parenL:var h=this.start,v=this.parseParenAndDistinguishExpression(g,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(v)&&(e.parenthesizedAssign=h),e.parenthesizedBind<0&&(e.parenthesizedBind=h)),v;case types$1$1.bracketL:return p=this.startNode(),this.next(),p.elements=this.parseExprList(types$1$1.bracketR,!0,!0,e),this.finishNode(p,"ArrayExpression");case types$1$1.braceL:return this.overrideContext(types$6.b_expr),this.parseObj(!1,e);case types$1$1._function:return p=this.startNode(),this.next(),this.parseFunction(p,0);case types$1$1._class:return this.parseClass(this.startNode(),!1);case types$1$1._new:return this.parseNew();case types$1$1.backQuote:return this.parseTemplate();case types$1$1._import:return this.options.ecmaVersion>=11?this.parseExprImport(a):this.unexpected();default:return this.parseExprAtomDefault()}},pp$5.parseExprAtomDefault=function(){this.unexpected()},pp$5.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===types$1$1.parenL&&!e)return this.parseDynamicImport(t);if(this.type===types$1$1.dot){var a=this.startNodeAt(t.start,t.loc&&t.loc.start);return a.name="import",t.meta=this.finishNode(a,"Identifier"),this.parseImportMeta(t)}else this.unexpected()},pp$5.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(types$1$1.parenR)?e.options=null:(this.expect(types$1$1.comma),this.afterTrailingComma(types$1$1.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(types$1$1.parenR)||(this.expect(types$1$1.comma),this.afterTrailingComma(types$1$1.parenR)||this.unexpected())));else if(!this.eat(types$1$1.parenR)){var t=this.start;this.eat(types$1$1.comma)&&this.eat(types$1$1.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},pp$5.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},pp$5.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.value!=null?t.value.toString():t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},pp$5.parseParenExpression=function(){this.expect(types$1$1.parenL);var e=this.parseExpression();return this.expect(types$1$1.parenR),e},pp$5.shouldParseArrow=function(e){return!this.canInsertSemicolon()},pp$5.parseParenAndDistinguishExpression=function(e,t){var a=this.start,p=this.startLoc,g,m=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,l=this.startLoc,o=[],s=!0,h=!1,v=new DestructuringErrors,b=this.yieldPos,y=this.awaitPos,O;for(this.yieldPos=0,this.awaitPos=0;this.type!==types$1$1.parenR;)if(s?s=!1:this.expect(types$1$1.comma),m&&this.afterTrailingComma(types$1$1.parenR,!0)){h=!0;break}else if(this.type===types$1$1.ellipsis){O=this.start,o.push(this.parseParenItem(this.parseRestBinding())),this.type===types$1$1.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else o.push(this.parseMaybeAssign(!1,v,this.parseParenItem));var w=this.lastTokEnd,I=this.lastTokEndLoc;if(this.expect(types$1$1.parenR),e&&this.shouldParseArrow(o)&&this.eat(types$1$1.arrow))return this.checkPatternErrors(v,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=b,this.awaitPos=y,this.parseParenArrowList(a,p,o,t);(!o.length||h)&&this.unexpected(this.lastTokStart),O&&this.unexpected(O),this.checkExpressionErrors(v,!0),this.yieldPos=b||this.yieldPos,this.awaitPos=y||this.awaitPos,o.length>1?(g=this.startNodeAt(c,l),g.expressions=o,this.finishNodeAt(g,"SequenceExpression",w,I)):g=o[0]}else g=this.parseParenExpression();if(this.options.preserveParens){var _=this.startNodeAt(a,p);return _.expression=g,this.finishNode(_,"ParenthesizedExpression")}else return g},pp$5.parseParenItem=function(e){return e},pp$5.parseParenArrowList=function(e,t,a,p){return this.parseArrowExpression(this.startNodeAt(e,t),a,!1,p)};var empty=[];pp$5.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===types$1$1.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var a=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),a&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var p=this.start,g=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),p,g,!0,!1),this.eat(types$1$1.parenL)?e.arguments=this.parseExprList(types$1$1.parenR,this.options.ecmaVersion>=8,!1):e.arguments=empty,this.finishNode(e,"NewExpression")},pp$5.parseTemplateElement=function(e){var t=e.isTagged,a=this.startNode();return this.type===types$1$1.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),a.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):a.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),a.tail=this.type===types$1$1.backQuote,this.finishNode(a,"TemplateElement")},pp$5.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var a=this.startNode();this.next(),a.expressions=[];var p=this.parseTemplateElement({isTagged:t});for(a.quasis=[p];!p.tail;)this.type===types$1$1.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(types$1$1.dollarBraceL),a.expressions.push(this.parseExpression()),this.expect(types$1$1.braceR),a.quasis.push(p=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(a,"TemplateLiteral")},pp$5.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===types$1$1.name||this.type===types$1$1.num||this.type===types$1$1.string||this.type===types$1$1.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types$1$1.star)&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},pp$5.parseObj=function(e,t){var a=this.startNode(),p=!0,g={};for(a.properties=[],this.next();!this.eat(types$1$1.braceR);){if(p)p=!1;else if(this.expect(types$1$1.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(types$1$1.braceR))break;var m=this.parseProperty(e,t);e||this.checkPropClash(m,g,t),a.properties.push(m)}return this.finishNode(a,e?"ObjectPattern":"ObjectExpression")},pp$5.parseProperty=function(e,t){var a=this.startNode(),p,g,m,c;if(this.options.ecmaVersion>=9&&this.eat(types$1$1.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===types$1$1.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(a.argument=this.parseMaybeAssign(!1,t),this.type===types$1$1.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(m=this.start,c=this.startLoc),e||(p=this.eat(types$1$1.star)));var l=this.containsEsc;return this.parsePropertyName(a),!e&&!l&&this.options.ecmaVersion>=8&&!p&&this.isAsyncProp(a)?(g=!0,p=this.options.ecmaVersion>=9&&this.eat(types$1$1.star),this.parsePropertyName(a)):g=!1,this.parsePropertyValue(a,e,p,g,m,c,t,l),this.finishNode(a,"Property")},pp$5.parseGetterSetter=function(e){var t=e.key.name;this.parsePropertyName(e),e.value=this.parseMethod(!1),e.kind=t;var a=e.kind==="get"?0:1;if(e.value.params.length!==a){var p=e.value.start;e.kind==="get"?this.raiseRecoverable(p,"getter should have no params"):this.raiseRecoverable(p,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},pp$5.parsePropertyValue=function(e,t,a,p,g,m,c,l){(a||p)&&this.type===types$1$1.colon&&this.unexpected(),this.eat(types$1$1.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),e.kind="init"):this.options.ecmaVersion>=6&&this.type===types$1$1.parenL?(t&&this.unexpected(),e.method=!0,e.value=this.parseMethod(a,p),e.kind="init"):!t&&!l&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==types$1$1.comma&&this.type!==types$1$1.braceR&&this.type!==types$1$1.eq?((a||p)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((a||p)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=g),t?e.value=this.parseMaybeDefault(g,m,this.copyNode(e.key)):this.type===types$1$1.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),e.value=this.parseMaybeDefault(g,m,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.kind="init",e.shorthand=!0):this.unexpected()},pp$5.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(types$1$1.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(types$1$1.bracketR),e.key;e.computed=!1}return e.key=this.type===types$1$1.num||this.type===types$1$1.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},pp$5.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},pp$5.parseMethod=function(e,t,a){var p=this.startNode(),g=this.yieldPos,m=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(p),this.options.ecmaVersion>=6&&(p.generator=e),this.options.ecmaVersion>=8&&(p.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(t,p.generator)|SCOPE_SUPER|(a?SCOPE_DIRECT_SUPER:0)),this.expect(types$1$1.parenL),p.params=this.parseBindingList(types$1$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(p,!1,!0,!1),this.yieldPos=g,this.awaitPos=m,this.awaitIdentPos=c,this.finishNode(p,"FunctionExpression")},pp$5.parseArrowExpression=function(e,t,a,p){var g=this.yieldPos,m=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(functionFlags(a,!1)|SCOPE_ARROW),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!a),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,p),this.yieldPos=g,this.awaitPos=m,this.awaitIdentPos=c,this.finishNode(e,"ArrowFunctionExpression")},pp$5.parseFunctionBody=function(e,t,a,p){var g=t&&this.type!==types$1$1.braceL,m=this.strict,c=!1;if(g)e.body=this.parseMaybeAssign(p),e.expression=!0,this.checkParams(e,!1);else{var l=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!m||l)&&(c=this.strictDirective(this.end),c&&l&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var o=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(e,!m&&!c&&!t&&!a&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,BIND_OUTSIDE),e.body=this.parseBlock(!1,void 0,c&&!m),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=o}this.exitScope()},pp$5.isSimpleParamList=function(e){for(var t=0,a=e;t<a.length;t+=1){var p=a[t];if(p.type!=="Identifier")return!1}return!0},pp$5.checkParams=function(e,t){for(var a=Object.create(null),p=0,g=e.params;p<g.length;p+=1){var m=g[p];this.checkLValInnerPattern(m,BIND_VAR,t?null:a)}},pp$5.parseExprList=function(e,t,a,p){for(var g=[],m=!0;!this.eat(e);){if(m)m=!1;else if(this.expect(types$1$1.comma),t&&this.afterTrailingComma(e))break;var c=void 0;a&&this.type===types$1$1.comma?c=null:this.type===types$1$1.ellipsis?(c=this.parseSpread(p),p&&this.type===types$1$1.comma&&p.trailingComma<0&&(p.trailingComma=this.start)):c=this.parseMaybeAssign(!1,p),g.push(c)}return g},pp$5.checkUnreserved=function(e){var t=e.start,a=e.end,p=e.name;if(this.inGenerator&&p==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&p==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&SCOPE_VAR)&&p==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(p==="arguments"||p==="await")&&this.raise(t,"Cannot use "+p+" in class static initialization block"),this.keywords.test(p)&&this.raise(t,"Unexpected keyword '"+p+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,a).indexOf("\\")!==-1)){var g=this.strict?this.reservedWordsStrict:this.reservedWords;g.test(p)&&(!this.inAsync&&p==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+p+"' is reserved"))}},pp$5.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t},pp$5.parseIdentNode=function(){var e=this.startNode();return this.type===types$1$1.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=types$1$1.name):this.unexpected(),e},pp$5.parsePrivateIdent=function(){var e=this.startNode();return this.type===types$1$1.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},pp$5.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===types$1$1.semi||this.canInsertSemicolon()||this.type!==types$1$1.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(types$1$1.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},pp$5.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(e,t){var a=getLineInfo(this.input,e);t+=" ("+a.line+":"+a.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var p=new SyntaxError(t);throw p.pos=e,p.loc=a,p.raisedAt=this.pos,p},pp$4.raiseRecoverable=pp$4.raise,pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var pp$3=Parser.prototype,Scope=function e(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};pp$3.enterScope=function(e){this.scopeStack.push(new Scope(e))},pp$3.exitScope=function(){this.scopeStack.pop()},pp$3.treatFunctionsAsVarInScope=function(e){return e.flags&SCOPE_FUNCTION||!this.inModule&&e.flags&SCOPE_TOP},pp$3.declareName=function(e,t,a){var p=!1;if(t===BIND_LEXICAL){var g=this.currentScope();p=g.lexical.indexOf(e)>-1||g.functions.indexOf(e)>-1||g.var.indexOf(e)>-1,g.lexical.push(e),this.inModule&&g.flags&SCOPE_TOP&&delete this.undefinedExports[e]}else if(t===BIND_SIMPLE_CATCH){var m=this.currentScope();m.lexical.push(e)}else if(t===BIND_FUNCTION){var c=this.currentScope();this.treatFunctionsAsVar?p=c.lexical.indexOf(e)>-1:p=c.lexical.indexOf(e)>-1||c.var.indexOf(e)>-1,c.functions.push(e)}else for(var l=this.scopeStack.length-1;l>=0;--l){var o=this.scopeStack[l];if(o.lexical.indexOf(e)>-1&&!(o.flags&SCOPE_SIMPLE_CATCH&&o.lexical[0]===e)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(e)>-1){p=!0;break}if(o.var.push(e),this.inModule&&o.flags&SCOPE_TOP&&delete this.undefinedExports[e],o.flags&SCOPE_VAR)break}p&&this.raiseRecoverable(a,"Identifier '"+e+"' has already been declared")},pp$3.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)},pp$3.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},pp$3.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&(SCOPE_VAR|SCOPE_CLASS_FIELD_INIT|SCOPE_CLASS_STATIC_BLOCK))return t}},pp$3.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&(SCOPE_VAR|SCOPE_CLASS_FIELD_INIT|SCOPE_CLASS_STATIC_BLOCK)&&!(t.flags&SCOPE_ARROW))return t}};var Node=function e(t,a,p){this.type="",this.start=a,this.end=0,t.options.locations&&(this.loc=new SourceLocation(t,p)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[a,0])},pp$2=Parser.prototype;pp$2.startNode=function(){return new Node(this,this.start,this.startLoc)},pp$2.startNodeAt=function(e,t){return new Node(this,e,t)};function finishNodeAt(e,t,a,p){return e.type=t,e.end=a,this.options.locations&&(e.loc.end=p),this.options.ranges&&(e.range[1]=a),e}pp$2.finishNode=function(e,t){return finishNodeAt.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},pp$2.finishNodeAt=function(e,t,a,p){return finishNodeAt.call(this,e,t,a,p)},pp$2.copyNode=function(e){var t=new Node(this,e.start,this.startLoc);for(var a in e)t[a]=e[a];return t};var scriptValuesAddedInUnicode="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",ecma9BinaryProperties="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ecma10BinaryProperties=ecma9BinaryProperties+" Extended_Pictographic",ecma11BinaryProperties=ecma10BinaryProperties,ecma12BinaryProperties=ecma11BinaryProperties+" EBase EComp EMod EPres ExtPict",ecma13BinaryProperties=ecma12BinaryProperties,ecma14BinaryProperties=ecma13BinaryProperties,unicodeBinaryProperties={9:ecma9BinaryProperties,10:ecma10BinaryProperties,11:ecma11BinaryProperties,12:ecma12BinaryProperties,13:ecma13BinaryProperties,14:ecma14BinaryProperties},ecma14BinaryPropertiesOfStrings="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",unicodeBinaryPropertiesOfStrings={9:"",10:"",11:"",12:"",13:"",14:ecma14BinaryPropertiesOfStrings},unicodeGeneralCategoryValues="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ecma9ScriptValues="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ecma10ScriptValues=ecma9ScriptValues+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ecma11ScriptValues=ecma10ScriptValues+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ecma12ScriptValues=ecma11ScriptValues+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ecma13ScriptValues=ecma12ScriptValues+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ecma14ScriptValues=ecma13ScriptValues+" "+scriptValuesAddedInUnicode,unicodeScriptValues={9:ecma9ScriptValues,10:ecma10ScriptValues,11:ecma11ScriptValues,12:ecma12ScriptValues,13:ecma13ScriptValues,14:ecma14ScriptValues},data={};function buildUnicodeData(e){var t=data[e]={binary:wordsRegexp(unicodeBinaryProperties[e]+" "+unicodeGeneralCategoryValues),binaryOfStrings:wordsRegexp(unicodeBinaryPropertiesOfStrings[e]),nonBinary:{General_Category:wordsRegexp(unicodeGeneralCategoryValues),Script:wordsRegexp(unicodeScriptValues[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var i$1=0,list=[9,10,11,12,13,14];i$1<list.length;i$1+=1){var ecmaVersion=list[i$1];buildUnicodeData(ecmaVersion)}var pp$1=Parser.prototype,BranchID=function e(t,a){this.parent=t,this.base=a||this};BranchID.prototype.separatedFrom=function e(t){for(var a=this;a;a=a.parent)for(var p=t;p;p=p.parent)if(a.base===p.base&&a!==p)return!0;return!1},BranchID.prototype.sibling=function e(){return new BranchID(this.parent,this.base)};var RegExpValidationState=function e(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=data[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};RegExpValidationState.prototype.reset=function e(t,a,p){var g=p.indexOf("v")!==-1,m=p.indexOf("u")!==-1;this.start=t|0,this.source=a+"",this.flags=p,g&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=m&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=m&&this.parser.options.ecmaVersion>=9)},RegExpValidationState.prototype.raise=function e(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},RegExpValidationState.prototype.at=function e(t,a){a===void 0&&(a=!1);var p=this.source,g=p.length;if(t>=g)return-1;var m=p.charCodeAt(t);if(!(a||this.switchU)||m<=55295||m>=57344||t+1>=g)return m;var c=p.charCodeAt(t+1);return c>=56320&&c<=57343?(m<<10)+c-56613888:m},RegExpValidationState.prototype.nextIndex=function e(t,a){a===void 0&&(a=!1);var p=this.source,g=p.length;if(t>=g)return g;var m=p.charCodeAt(t),c;return!(a||this.switchU)||m<=55295||m>=57344||t+1>=g||(c=p.charCodeAt(t+1))<56320||c>57343?t+1:t+2},RegExpValidationState.prototype.current=function e(t){return t===void 0&&(t=!1),this.at(this.pos,t)},RegExpValidationState.prototype.lookahead=function e(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},RegExpValidationState.prototype.advance=function e(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)},RegExpValidationState.prototype.eat=function e(t,a){return a===void 0&&(a=!1),this.current(a)===t?(this.advance(a),!0):!1},RegExpValidationState.prototype.eatChars=function e(t,a){a===void 0&&(a=!1);for(var p=this.pos,g=0,m=t;g<m.length;g+=1){var c=m[g],l=this.at(p,a);if(l===-1||l!==c)return!1;p=this.nextIndex(p,a)}return this.pos=p,!0},pp$1.validateRegExpFlags=function(e){for(var t=e.validFlags,a=e.flags,p=!1,g=!1,m=0;m<a.length;m++){var c=a.charAt(m);t.indexOf(c)===-1&&this.raise(e.start,"Invalid regular expression flag"),a.indexOf(c,m+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),c==="u"&&(p=!0),c==="v"&&(g=!0)}this.options.ecmaVersion>=15&&p&&g&&this.raise(e.start,"Invalid regular expression flag")};function hasProp(e){for(var t in e)return!0;return!1}pp$1.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&hasProp(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))},pp$1.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,a=e.backReferenceNames;t<a.length;t+=1){var p=a[t];e.groupNames[p]||e.raise("Invalid named capture referenced")}},pp$1.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new BranchID(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},pp$1.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},pp$1.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1},pp$1.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var a=!1;if(this.options.ecmaVersion>=9&&(a=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!a,!0}return e.pos=t,!1},pp$1.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1},pp$1.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},pp$1.regexp_eatBracedQuantifier=function(e,t){var a=e.pos;if(e.eat(123)){var p=0,g=-1;if(this.regexp_eatDecimalDigits(e)&&(p=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(g=e.lastIntValue),e.eat(125)))return g!==-1&&g<p&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=a}return!1},pp$1.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},pp$1.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},pp$1.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var a=this.regexp_eatModifiers(e),p=e.eat(45);if(a||p){for(var g=0;g<a.length;g++){var m=a.charAt(g);a.indexOf(m,g+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(p){var c=this.regexp_eatModifiers(e);!a&&!c&&e.current()===58&&e.raise("Invalid regular expression modifiers");for(var l=0;l<c.length;l++){var o=c.charAt(l);(c.indexOf(o,l+1)>-1||a.indexOf(o)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1},pp$1.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},pp$1.regexp_eatModifiers=function(e){for(var t="",a=0;(a=e.current())!==-1&&isRegularExpressionModifier(a);)t+=codePointToString(a),e.advance();return t};function isRegularExpressionModifier(e){return e===105||e===109||e===115}pp$1.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},pp$1.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},pp$1.regexp_eatSyntaxCharacter=function(e){var t=e.current();return isSyntaxCharacter(t)?(e.lastIntValue=t,e.advance(),!0):!1};function isSyntaxCharacter(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}pp$1.regexp_eatPatternCharacters=function(e){for(var t=e.pos,a=0;(a=e.current())!==-1&&!isSyntaxCharacter(a);)e.advance();return e.pos!==t},pp$1.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1},pp$1.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,a=e.groupNames[e.lastStringValue];if(a)if(t)for(var p=0,g=a;p<g.length;p+=1){var m=g[p];m.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");t?(a||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}},pp$1.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},pp$1.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=codePointToString(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=codePointToString(e.lastIntValue);return!0}return!1},pp$1.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,a=this.options.ecmaVersion>=11,p=e.current(a);return e.advance(a),p===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,a)&&(p=e.lastIntValue),isRegExpIdentifierStart(p)?(e.lastIntValue=p,!0):(e.pos=t,!1)};function isRegExpIdentifierStart(e){return isIdentifierStart(e,!0)||e===36||e===95}pp$1.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,a=this.options.ecmaVersion>=11,p=e.current(a);return e.advance(a),p===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,a)&&(p=e.lastIntValue),isRegExpIdentifierPart(p)?(e.lastIntValue=p,!0):(e.pos=t,!1)};function isRegExpIdentifierPart(e){return isIdentifierChar(e,!0)||e===36||e===95||e===8204||e===8205}pp$1.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},pp$1.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var a=e.lastIntValue;if(e.switchU)return a>e.maxBackReference&&(e.maxBackReference=a),!0;if(a<=e.numCapturingParens)return!0;e.pos=t}return!1},pp$1.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},pp$1.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},pp$1.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},pp$1.regexp_eatZero=function(e){return e.current()===48&&!isDecimalDigit(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1},pp$1.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1},pp$1.regexp_eatControlLetter=function(e){var t=e.current();return isControlLetter(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function isControlLetter(e){return e>=65&&e<=90||e>=97&&e<=122}pp$1.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var a=e.pos,p=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var g=e.lastIntValue;if(p&&g>=55296&&g<=56319){var m=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var c=e.lastIntValue;if(c>=56320&&c<=57343)return e.lastIntValue=(g-55296)*1024+(c-56320)+65536,!0}e.pos=m,e.lastIntValue=g}return!0}if(p&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&isValidUnicode(e.lastIntValue))return!0;p&&e.raise("Invalid unicode escape"),e.pos=a}return!1};function isValidUnicode(e){return e>=0&&e<=1114111}pp$1.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1},pp$1.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var CharSetNone=0,CharSetOk=1,CharSetString=2;pp$1.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(isCharacterClassEscape(t))return e.lastIntValue=-1,e.advance(),CharSetOk;var a=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((a=t===80)||t===112)){e.lastIntValue=-1,e.advance();var p;if(e.eat(123)&&(p=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return a&&p===CharSetString&&e.raise("Invalid property name"),p;e.raise("Invalid property name")}return CharSetNone};function isCharacterClassEscape(e){return e===100||e===68||e===115||e===83||e===119||e===87}pp$1.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var a=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var p=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,a,p),CharSetOk}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var g=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,g)}return CharSetNone},pp$1.regexp_validateUnicodePropertyNameAndValue=function(e,t,a){hasOwn(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(a)||e.raise("Invalid property value")},pp$1.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return CharSetOk;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return CharSetString;e.raise("Invalid property name")},pp$1.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";isUnicodePropertyNameCharacter(t=e.current());)e.lastStringValue+=codePointToString(t),e.advance();return e.lastStringValue!==""};function isUnicodePropertyNameCharacter(e){return isControlLetter(e)||e===95}pp$1.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";isUnicodePropertyValueCharacter(t=e.current());)e.lastStringValue+=codePointToString(t),e.advance();return e.lastStringValue!==""};function isUnicodePropertyValueCharacter(e){return isUnicodePropertyNameCharacter(e)||isDecimalDigit(e)}pp$1.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},pp$1.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),a=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&a===CharSetString&&e.raise("Negated character class may contain strings"),!0}return!1},pp$1.regexp_classContents=function(e){return e.current()===93?CharSetOk:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),CharSetOk)},pp$1.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var a=e.lastIntValue;e.switchU&&(t===-1||a===-1)&&e.raise("Invalid character class"),t!==-1&&a!==-1&&t>a&&e.raise("Range out of order in character class")}}},pp$1.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var a=e.current();(a===99||isOctalDigit(a))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var p=e.current();return p!==93?(e.lastIntValue=p,e.advance(),!0):!1},pp$1.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},pp$1.regexp_classSetExpression=function(e){var t=CharSetOk,a;if(!this.regexp_eatClassSetRange(e))if(a=this.regexp_eatClassSetOperand(e)){a===CharSetString&&(t=CharSetString);for(var p=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(a=this.regexp_eatClassSetOperand(e))){a!==CharSetString&&(t=CharSetOk);continue}e.raise("Invalid character in character class")}if(p!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(p!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(a=this.regexp_eatClassSetOperand(e),!a)return t;a===CharSetString&&(t=CharSetString)}},pp$1.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var a=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var p=e.lastIntValue;return a!==-1&&p!==-1&&a>p&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},pp$1.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?CharSetOk:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},pp$1.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var a=e.eat(94),p=this.regexp_classContents(e);if(e.eat(93))return a&&p===CharSetString&&e.raise("Negated character class may contain strings"),p;e.pos=t}if(e.eat(92)){var g=this.regexp_eatCharacterClassEscape(e);if(g)return g;e.pos=t}return null},pp$1.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var a=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return a}else e.raise("Invalid escape");e.pos=t}return null},pp$1.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===CharSetString&&(t=CharSetString);return t},pp$1.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?CharSetOk:CharSetString},pp$1.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var a=e.current();return a<0||a===e.lookahead()&&isClassSetReservedDoublePunctuatorCharacter(a)||isClassSetSyntaxCharacter(a)?!1:(e.advance(),e.lastIntValue=a,!0)};function isClassSetReservedDoublePunctuatorCharacter(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function isClassSetSyntaxCharacter(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}pp$1.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return isClassSetReservedPunctuator(t)?(e.lastIntValue=t,e.advance(),!0):!1};function isClassSetReservedPunctuator(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}pp$1.regexp_eatClassControlLetter=function(e){var t=e.current();return isDecimalDigit(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1},pp$1.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},pp$1.regexp_eatDecimalDigits=function(e){var t=e.pos,a=0;for(e.lastIntValue=0;isDecimalDigit(a=e.current());)e.lastIntValue=10*e.lastIntValue+(a-48),e.advance();return e.pos!==t};function isDecimalDigit(e){return e>=48&&e<=57}pp$1.regexp_eatHexDigits=function(e){var t=e.pos,a=0;for(e.lastIntValue=0;isHexDigit(a=e.current());)e.lastIntValue=16*e.lastIntValue+hexToInt(a),e.advance();return e.pos!==t};function isHexDigit(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function hexToInt(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}pp$1.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var a=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+a*8+e.lastIntValue:e.lastIntValue=t*8+a}else e.lastIntValue=t;return!0}return!1},pp$1.regexp_eatOctalDigit=function(e){var t=e.current();return isOctalDigit(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function isOctalDigit(e){return e>=48&&e<=55}pp$1.regexp_eatFixedHexDigits=function(e,t){var a=e.pos;e.lastIntValue=0;for(var p=0;p<t;++p){var g=e.current();if(!isHexDigit(g))return e.pos=a,!1;e.lastIntValue=16*e.lastIntValue+hexToInt(g),e.advance()}return!0};var Token=function e(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new SourceLocation(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},pp=Parser.prototype;pp.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},pp.getToken=function(){return this.next(),new Token(this)},typeof Symbol<"u"&&(pp[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===types$1$1.eof,value:t}}}}),pp.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(types$1$1.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())},pp.readToken=function(e){return isIdentifierStart(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)},pp.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},pp.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,a=this.input.indexOf("*/",this.pos+=2);if(a===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=a+2,this.options.locations)for(var p=void 0,g=t;(p=nextLineBreak(this.input,g,this.pos))>-1;)++this.curLine,g=this.lineStart=p;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,a),t,this.pos,e,this.curPosition())},pp.skipLineComment=function(e){for(var t=this.pos,a=this.options.onComment&&this.curPosition(),p=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!isNewLine(p);)p=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,a,this.curPosition())},pp.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&nonASCIIwhitespace.test(String.fromCharCode(e)))++this.pos;else break e}}},pp.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var a=this.type;this.type=e,this.value=t,this.updateContext(a)},pp.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(types$1$1.ellipsis)):(++this.pos,this.finishToken(types$1$1.dot))},pp.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(types$1$1.assign,2):this.finishOp(types$1$1.slash,1)},pp.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),a=1,p=e===42?types$1$1.star:types$1$1.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++a,p=types$1$1.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(types$1$1.assign,a+1):this.finishOp(p,a)},pp.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var a=this.input.charCodeAt(this.pos+2);if(a===61)return this.finishOp(types$1$1.assign,3)}return this.finishOp(e===124?types$1$1.logicalOR:types$1$1.logicalAND,2)}return t===61?this.finishOp(types$1$1.assign,2):this.finishOp(e===124?types$1$1.bitwiseOR:types$1$1.bitwiseAND,1)},pp.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(types$1$1.assign,2):this.finishOp(types$1$1.bitwiseXOR,1)},pp.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lineBreak.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(types$1$1.incDec,2):t===61?this.finishOp(types$1$1.assign,2):this.finishOp(types$1$1.plusMin,1)},pp.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),a=1;return t===e?(a=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+a)===61?this.finishOp(types$1$1.assign,a+1):this.finishOp(types$1$1.bitShift,a)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(a=2),this.finishOp(types$1$1.relational,a))},pp.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(types$1$1.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(types$1$1.arrow)):this.finishOp(e===61?types$1$1.eq:types$1$1.prefix,1)},pp.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var a=this.input.charCodeAt(this.pos+2);if(a<48||a>57)return this.finishOp(types$1$1.questionDot,2)}if(t===63){if(e>=12){var p=this.input.charCodeAt(this.pos+2);if(p===61)return this.finishOp(types$1$1.assign,3)}return this.finishOp(types$1$1.coalesce,2)}}return this.finishOp(types$1$1.question,1)},pp.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),isIdentifierStart(t,!0)||t===92))return this.finishToken(types$1$1.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+codePointToString(t)+"'")},pp.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(types$1$1.parenL);case 41:return++this.pos,this.finishToken(types$1$1.parenR);case 59:return++this.pos,this.finishToken(types$1$1.semi);case 44:return++this.pos,this.finishToken(types$1$1.comma);case 91:return++this.pos,this.finishToken(types$1$1.bracketL);case 93:return++this.pos,this.finishToken(types$1$1.bracketR);case 123:return++this.pos,this.finishToken(types$1$1.braceL);case 125:return++this.pos,this.finishToken(types$1$1.braceR);case 58:return++this.pos,this.finishToken(types$1$1.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(types$1$1.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(types$1$1.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+codePointToString(e)+"'")},pp.finishOp=function(e,t){var a=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,a)},pp.readRegexp=function(){for(var e,t,a=this.pos;;){this.pos>=this.input.length&&this.raise(a,"Unterminated regular expression");var p=this.input.charAt(this.pos);if(lineBreak.test(p)&&this.raise(a,"Unterminated regular expression"),e)e=!1;else{if(p==="[")t=!0;else if(p==="]"&&t)t=!1;else if(p==="/"&&!t)break;e=p==="\\"}++this.pos}var g=this.input.slice(a,this.pos);++this.pos;var m=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(m);var l=this.regexpState||(this.regexpState=new RegExpValidationState(this));l.reset(a,g,c),this.validateRegExpFlags(l),this.validateRegExpPattern(l);var o=null;try{o=new RegExp(g,c)}catch{}return this.finishToken(types$1$1.regexp,{pattern:g,flags:c,value:o})},pp.readInt=function(e,t,a){for(var p=this.options.ecmaVersion>=12&&t===void 0,g=a&&this.input.charCodeAt(this.pos)===48,m=this.pos,c=0,l=0,o=0,s=t??1/0;o<s;++o,++this.pos){var h=this.input.charCodeAt(this.pos),v=void 0;if(p&&h===95){g&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),l===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),o===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),l=h;continue}if(h>=97?v=h-97+10:h>=65?v=h-65+10:h>=48&&h<=57?v=h-48:v=1/0,v>=e)break;l=h,c=c*e+v}return p&&l===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===m||t!=null&&this.pos-m!==t?null:c};function stringToNumber(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function stringToBigInt(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}pp.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var a=this.readInt(e);return a==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(a=stringToBigInt(this.input.slice(t,this.pos)),++this.pos):isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1$1.num,a)},pp.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var a=this.pos-t>=2&&this.input.charCodeAt(t)===48;a&&this.strict&&this.raise(t,"Invalid number");var p=this.input.charCodeAt(this.pos);if(!a&&!e&&this.options.ecmaVersion>=11&&p===110){var g=stringToBigInt(this.input.slice(t,this.pos));return++this.pos,isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1$1.num,g)}a&&/[89]/.test(this.input.slice(t,this.pos))&&(a=!1),p===46&&!a&&(++this.pos,this.readInt(10),p=this.input.charCodeAt(this.pos)),(p===69||p===101)&&!a&&(p=this.input.charCodeAt(++this.pos),(p===43||p===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var m=stringToNumber(this.input.slice(t,this.pos),a);return this.finishToken(types$1$1.num,m)},pp.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var a=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(a,"Code point out of bounds")}else t=this.readHexChar(4);return t},pp.readString=function(e){for(var t="",a=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var p=this.input.charCodeAt(this.pos);if(p===e)break;p===92?(t+=this.input.slice(a,this.pos),t+=this.readEscapedChar(!1),a=this.pos):p===8232||p===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(isNewLine(p)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(a,this.pos++),this.finishToken(types$1$1.string,t)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===INVALID_TEMPLATE_ESCAPE_ERROR)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1},pp.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(e,t)},pp.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var a=this.input.charCodeAt(this.pos);if(a===96||a===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===types$1$1.template||this.type===types$1$1.invalidTemplate)?a===36?(this.pos+=2,this.finishToken(types$1$1.dollarBraceL)):(++this.pos,this.finishToken(types$1$1.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(types$1$1.template,e));if(a===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(isNewLine(a)){switch(e+=this.input.slice(t,this.pos),++this.pos,a){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(a);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},pp.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(types$1$1.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},pp.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var a=this.pos-1;this.invalidStringToken(a,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var p=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],g=parseInt(p,8);return g>255&&(p=p.slice(0,-1),g=parseInt(p,8)),this.pos+=p.length-1,t=this.input.charCodeAt(this.pos),(p!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-p.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(g)}return isNewLine(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}},pp.readHexChar=function(e){var t=this.pos,a=this.readInt(16,e);return a===null&&this.invalidStringToken(t,"Bad character escape sequence"),a},pp.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,a=this.pos,p=this.options.ecmaVersion>=6;this.pos<this.input.length;){var g=this.fullCharCodeAtPos();if(isIdentifierChar(g,p))this.pos+=g<=65535?1:2;else if(g===92){this.containsEsc=!0,e+=this.input.slice(a,this.pos);var m=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(t?isIdentifierStart:isIdentifierChar)(c,p)||this.invalidStringToken(m,"Invalid Unicode escape"),e+=codePointToString(c),a=this.pos}else break;t=!1}return e+this.input.slice(a,this.pos)},pp.readWord=function(){var e=this.readWord1(),t=types$1$1.name;return this.keywords.test(e)&&(t=keywords$2[e]),this.finishToken(t,e)};var version$a="8.15.0";Parser.acorn={Parser,version:version$a,defaultOptions,Position,SourceLocation,getLineInfo,Node,TokenType,tokTypes:types$1$1,keywordTypes:keywords$2,TokContext,tokContexts:types$6,isIdentifierChar,isIdentifierStart,Token,isNewLine,lineBreak,lineBreakG,nonASCIIwhitespace};function parse$6(e,t){return Parser.parse(e,t)}function parseExpressionAt(e,t,a){return Parser.parseExpressionAt(e,t,a)}function tokenizer(e,t){return Parser.tokenizer(e,t)}const acorn=Object.freeze(Object.defineProperty({__proto__:null,Node,Parser,Position,SourceLocation,TokContext,Token,TokenType,defaultOptions,getLineInfo,isIdentifierChar,isIdentifierStart,isNewLine,keywordTypes:keywords$2,lineBreak,lineBreakG,nonASCIIwhitespace,parse:parse$6,parseExpressionAt,tokContexts:types$6,tokTypes:types$1$1,tokenizer,version:version$a},Symbol.toStringTag,{value:"Module"}));var firebaseNamespace={},lifecycle={};const require$$1$3=getAugmentedNamespace(__viteBrowserExternal$1);var validator$1={};var hasRequiredValidator$1;function requireValidator$1(){if(hasRequiredValidator$1)return validator$1;hasRequiredValidator$1=1;Object.defineProperty(validator$1,"__esModule",{value:!0}),validator$1.isBuffer=t,validator$1.isArray=a,validator$1.isNonEmptyArray=p,validator$1.isBoolean=g,validator$1.isNumber=m,validator$1.isString=c,validator$1.isBase64String=l,validator$1.isNonEmptyString=o,validator$1.isObject=s,validator$1.isNonNullObject=h,validator$1.isUid=v,validator$1.isPassword=b,validator$1.isEmail=y,validator$1.isPhoneNumber=O,validator$1.isISODateString=w,validator$1.isUTCDateString=I,validator$1.isURL=_,validator$1.isTopic=T,validator$1.isTaskId=C;const e=require$$1$3;function t(N){return N instanceof Buffer}function a(N){return Array.isArray(N)}function p(N){return a(N)&&N.length!==0}function g(N){return typeof N=="boolean"}function m(N){return typeof N=="number"&&!isNaN(N)}function c(N){return typeof N=="string"}function l(N){return c(N)?/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(N):!1}function o(N){return c(N)&&N!==""}function s(N){return typeof N=="object"&&!a(N)}function h(N){return s(N)&&N!==null}function v(N){return typeof N=="string"&&N.length>0&&N.length<=128}function b(N){return typeof N=="string"&&N.length>=6}function y(N){return typeof N!="string"?!1:/^[^@]+@[^@]+$/.test(N)}function O(N){if(typeof N!="string")return!1;const L=/^\+/,D=/[\da-zA-Z]+/;return L.test(N)&&D.test(N)}function w(N){try{return o(N)&&new Date(N).toISOString()===N}catch{return!1}}function I(N){try{return o(N)&&new Date(N).toUTCString()===N}catch{return!1}}function _(N){if(typeof N!="string"||/[^a-z0-9:/?#[\]@!$&'()*+,;=.\-_~%]/i.test(N))return!1;try{const D=e.parse(N),j=D.protocol,k=D.slashes,V=D.hostname,G=D.pathname;if(j!=="http:"&&j!=="https:"||!k||!V||!/^[a-zA-Z0-9]+[\w-]*([.]?[a-zA-Z0-9]+[\w-]*)*$/.test(V)||G&&G!=="/"&&!/^(\/[\w\-.~!$'()*+,;=:@%]+)*\/?$/.test(G))return!1}catch{return!1}return!0}function T(N){return typeof N!="string"?!1:/^(\/topics\/)?(private\/)?[a-zA-Z0-9-_.~%]+$/.test(N)}function C(N){return typeof N!="string"?!1:/^[A-Za-z0-9_-]+$/.test(N)}return validator$1}var error={},deepCopy={};var hasRequiredDeepCopy;function requireDeepCopy(){if(hasRequiredDeepCopy)return deepCopy;hasRequiredDeepCopy=1;Object.defineProperty(deepCopy,"__esModule",{value:!0}),deepCopy.deepCopy=e,deepCopy.deepExtend=t;function e(a){return t(void 0,a)}function t(a,p){if(!(p instanceof Object))return p;switch(p.constructor){case Date:{const g=p;return new Date(g.getTime())}case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return p}for(const g in p)Object.prototype.hasOwnProperty.call(p,g)&&(a[g]=t(a[g],p[g]));return a}return deepCopy}var hasRequiredError;function requireError(){if(hasRequiredError)return error;hasRequiredError=1;Object.defineProperty(error,"__esModule",{value:!0}),error.InstanceIdClientErrorCode=error.InstallationsClientErrorCode=error.MessagingClientErrorCode=error.AuthClientErrorCode=error.AppErrorCodes=error.FirebaseProjectManagementError=error.FirebaseMessagingSessionError=error.FirebaseMessagingError=error.FirebaseInstallationsError=error.FirebaseInstanceIdError=error.FirebaseFirestoreError=error.FirebaseDatabaseError=error.FirebaseAuthError=error.FirebaseAppError=error.PrefixedFirebaseError=error.FirebaseError=void 0;const e=requireDeepCopy();class t extends Error{constructor(L){super(L.message),this.errorInfo=L,this.__proto__=t.prototype}get code(){return this.errorInfo?.code}get message(){return this.errorInfo?.message}toJSON(){return{code:this.code,message:this.message}}}error.FirebaseError=t;class a extends t{constructor(L,D,j){super({code:`${L}/${D}`,message:j}),this.codePrefix=L,this.__proto__=a.prototype}hasCode(L){return`${this.codePrefix}/${L}`===this.code}}error.PrefixedFirebaseError=a;class p extends a{constructor(L,D){super("app",L,D),this.__proto__=p.prototype}}error.FirebaseAppError=p;class g extends a{static fromServerError(L,D,j){const k=(L||"").indexOf(":");let V=null;k!==-1&&(V=L.substring(k+1).trim(),L=L.substring(0,k).trim());const G=_[L]||"INTERNAL_ERROR",J=(0,e.deepCopy)(y[G]);if(J.message=V||D||J.message,G==="INTERNAL_ERROR"&&typeof j<"u")try{J.message+=` Raw server response: "${JSON.stringify(j)}"`}catch{}return new g(J)}constructor(L,D){super("auth",L.code,D||L.message),this.__proto__=g.prototype}}error.FirebaseAuthError=g;class m extends t{constructor(L,D){super({code:"database/"+L.code,message:D||L.message})}}error.FirebaseDatabaseError=m;class c extends t{constructor(L,D){super({code:"firestore/"+L.code,message:D||L.message})}}error.FirebaseFirestoreError=c;class l extends t{constructor(L,D){super({code:"instance-id/"+L.code,message:D||L.message}),this.__proto__=l.prototype}}error.FirebaseInstanceIdError=l;class o extends t{constructor(L,D){super({code:"installations/"+L.code,message:D||L.message}),this.__proto__=o.prototype}}error.FirebaseInstallationsError=o;class s extends a{static fromServerError(L,D,j){let k="UNKNOWN_ERROR";L&&L in T&&(k=T[L]);const V=(0,e.deepCopy)(O[k]);if(V.message=D||V.message,k==="UNKNOWN_ERROR"&&typeof j<"u")try{V.message+=` Raw server response: "${JSON.stringify(j)}"`}catch{}return new s(V)}static fromTopicManagementServerError(L,D,j){const k=C[L]||"UNKNOWN_ERROR",V=(0,e.deepCopy)(O[k]);if(V.message=D||V.message,k==="UNKNOWN_ERROR"&&typeof j<"u")try{V.message+=` Raw server response: "${JSON.stringify(j)}"`}catch{}return new s(V)}constructor(L,D){super("messaging",L.code,D||L.message),this.__proto__=s.prototype}}error.FirebaseMessagingError=s;class h extends s{constructor(L,D,j){super(L,D||L.message),this.pendingBatchResponse=j,this.__proto__=h.prototype}toJSON(){return{code:this.code,message:this.message,pendingBatchResponse:this.pendingBatchResponse}}}error.FirebaseMessagingSessionError=h;class v extends a{constructor(L,D){super("project-management",L,D),this.__proto__=v.prototype}}error.FirebaseProjectManagementError=v;class b{}error.AppErrorCodes=b,b.APP_DELETED="app-deleted",b.DUPLICATE_APP="duplicate-app",b.INVALID_ARGUMENT="invalid-argument",b.INTERNAL_ERROR="internal-error",b.INVALID_APP_NAME="invalid-app-name",b.INVALID_APP_OPTIONS="invalid-app-options",b.INVALID_CREDENTIAL="invalid-credential",b.NETWORK_ERROR="network-error",b.NETWORK_TIMEOUT="network-timeout",b.NO_APP="no-app",b.UNABLE_TO_PARSE_RESPONSE="unable-to-parse-response";class y{}error.AuthClientErrorCode=y,y.AUTH_BLOCKING_TOKEN_EXPIRED={code:"auth-blocking-token-expired",message:"The provided Firebase Auth Blocking token is expired."},y.BILLING_NOT_ENABLED={code:"billing-not-enabled",message:"Feature requires billing to be enabled."},y.CLAIMS_TOO_LARGE={code:"claims-too-large",message:"Developer claims maximum payload size exceeded."},y.CONFIGURATION_EXISTS={code:"configuration-exists",message:"A configuration already exists with the provided identifier."},y.CONFIGURATION_NOT_FOUND={code:"configuration-not-found",message:"There is no configuration corresponding to the provided identifier."},y.ID_TOKEN_EXPIRED={code:"id-token-expired",message:"The provided Firebase ID token is expired."},y.INVALID_ARGUMENT={code:"argument-error",message:"Invalid argument provided."},y.INVALID_CONFIG={code:"invalid-config",message:"The provided configuration is invalid."},y.EMAIL_ALREADY_EXISTS={code:"email-already-exists",message:"The email address is already in use by another account."},y.EMAIL_NOT_FOUND={code:"email-not-found",message:"There is no user record corresponding to the provided email."},y.FORBIDDEN_CLAIM={code:"reserved-claim",message:"The specified developer claim is reserved and cannot be specified."},y.INVALID_ID_TOKEN={code:"invalid-id-token",message:"The provided ID token is not a valid Firebase ID token."},y.ID_TOKEN_REVOKED={code:"id-token-revoked",message:"The Firebase ID token has been revoked."},y.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred."},y.INVALID_CLAIMS={code:"invalid-claims",message:"The provided custom claim attributes are invalid."},y.INVALID_CONTINUE_URI={code:"invalid-continue-uri",message:"The continue URL must be a valid URL string."},y.INVALID_CREATION_TIME={code:"invalid-creation-time",message:"The creation time must be a valid UTC date string."},y.INVALID_CREDENTIAL={code:"invalid-credential",message:"Invalid credential object provided."},y.INVALID_DISABLED_FIELD={code:"invalid-disabled-field",message:"The disabled field must be a boolean."},y.INVALID_DISPLAY_NAME={code:"invalid-display-name",message:"The displayName field must be a valid string."},y.INVALID_DYNAMIC_LINK_DOMAIN={code:"invalid-dynamic-link-domain",message:"The provided dynamic link domain is not configured or authorized for the current project."},y.INVALID_HOSTING_LINK_DOMAIN={code:"invalid-hosting-link-domain",message:"The provided hosting link domain is not configured in Firebase Hosting or is not owned by the current project."},y.INVALID_EMAIL_VERIFIED={code:"invalid-email-verified",message:"The emailVerified field must be a boolean."},y.INVALID_EMAIL={code:"invalid-email",message:"The email address is improperly formatted."},y.INVALID_NEW_EMAIL={code:"invalid-new-email",message:"The new email address is improperly formatted."},y.INVALID_ENROLLED_FACTORS={code:"invalid-enrolled-factors",message:"The enrolled factors must be a valid array of MultiFactorInfo objects."},y.INVALID_ENROLLMENT_TIME={code:"invalid-enrollment-time",message:"The second factor enrollment time must be a valid UTC date string."},y.INVALID_HASH_ALGORITHM={code:"invalid-hash-algorithm",message:"The hash algorithm must match one of the strings in the list of supported algorithms."},y.INVALID_HASH_BLOCK_SIZE={code:"invalid-hash-block-size",message:"The hash block size must be a valid number."},y.INVALID_HASH_DERIVED_KEY_LENGTH={code:"invalid-hash-derived-key-length",message:"The hash derived key length must be a valid number."},y.INVALID_HASH_KEY={code:"invalid-hash-key",message:"The hash key must a valid byte buffer."},y.INVALID_HASH_MEMORY_COST={code:"invalid-hash-memory-cost",message:"The hash memory cost must be a valid number."},y.INVALID_HASH_PARALLELIZATION={code:"invalid-hash-parallelization",message:"The hash parallelization must be a valid number."},y.INVALID_HASH_ROUNDS={code:"invalid-hash-rounds",message:"The hash rounds must be a valid number."},y.INVALID_HASH_SALT_SEPARATOR={code:"invalid-hash-salt-separator",message:"The hashing algorithm salt separator field must be a valid byte buffer."},y.INVALID_LAST_SIGN_IN_TIME={code:"invalid-last-sign-in-time",message:"The last sign-in time must be a valid UTC date string."},y.INVALID_NAME={code:"invalid-name",message:"The resource name provided is invalid."},y.INVALID_OAUTH_CLIENT_ID={code:"invalid-oauth-client-id",message:"The provided OAuth client ID is invalid."},y.INVALID_PAGE_TOKEN={code:"invalid-page-token",message:"The page token must be a valid non-empty string."},y.INVALID_PASSWORD={code:"invalid-password",message:"The password must be a string with at least 6 characters."},y.INVALID_PASSWORD_HASH={code:"invalid-password-hash",message:"The password hash must be a valid byte buffer."},y.INVALID_PASSWORD_SALT={code:"invalid-password-salt",message:"The password salt must be a valid byte buffer."},y.INVALID_PHONE_NUMBER={code:"invalid-phone-number",message:"The phone number must be a non-empty E.164 standard compliant identifier string."},y.INVALID_PHOTO_URL={code:"invalid-photo-url",message:"The photoURL field must be a valid URL."},y.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid parent project. Either parent project doesn't exist or didn't enable multi-tenancy."},y.INVALID_PROVIDER_DATA={code:"invalid-provider-data",message:"The providerData must be a valid array of UserInfo objects."},y.INVALID_PROVIDER_ID={code:"invalid-provider-id",message:"The providerId must be a valid supported provider identifier string."},y.INVALID_PROVIDER_UID={code:"invalid-provider-uid",message:"The providerUid must be a valid provider uid string."},y.INVALID_OAUTH_RESPONSETYPE={code:"invalid-oauth-responsetype",message:"Only exactly one OAuth responseType should be set to true."},y.INVALID_SESSION_COOKIE_DURATION={code:"invalid-session-cookie-duration",message:"The session cookie duration must be a valid number in milliseconds between 5 minutes and 2 weeks."},y.INVALID_TENANT_ID={code:"invalid-tenant-id",message:"The tenant ID must be a valid non-empty string."},y.INVALID_TENANT_TYPE={code:"invalid-tenant-type",message:'Tenant type must be either "full_service" or "lightweight".'},y.INVALID_TESTING_PHONE_NUMBER={code:"invalid-testing-phone-number",message:"Invalid testing phone number or invalid test code provided."},y.INVALID_UID={code:"invalid-uid",message:"The uid must be a non-empty string with at most 128 characters."},y.INVALID_USER_IMPORT={code:"invalid-user-import",message:"The user record to import is invalid."},y.INVALID_TOKENS_VALID_AFTER_TIME={code:"invalid-tokens-valid-after-time",message:"The tokensValidAfterTime must be a valid UTC number in seconds."},y.MISMATCHING_TENANT_ID={code:"mismatching-tenant-id",message:"User tenant ID does not match with the current TenantAwareAuth tenant ID."},y.MISSING_ANDROID_PACKAGE_NAME={code:"missing-android-pkg-name",message:"An Android Package Name must be provided if the Android App is required to be installed."},y.MISSING_CONFIG={code:"missing-config",message:"The provided configuration is missing required attributes."},y.MISSING_CONTINUE_URI={code:"missing-continue-uri",message:"A valid continue URL must be provided in the request."},y.MISSING_DISPLAY_NAME={code:"missing-display-name",message:"The resource being created or edited is missing a valid display name."},y.MISSING_EMAIL={code:"missing-email",message:"The email is required for the specified action. For example, a multi-factor user requires a verified email."},y.MISSING_IOS_BUNDLE_ID={code:"missing-ios-bundle-id",message:"The request is missing an iOS Bundle ID."},y.MISSING_ISSUER={code:"missing-issuer",message:"The OAuth/OIDC configuration issuer must not be empty."},y.MISSING_HASH_ALGORITHM={code:"missing-hash-algorithm",message:"Importing users with password hashes requires that the hashing algorithm and its parameters be provided."},y.MISSING_OAUTH_CLIENT_ID={code:"missing-oauth-client-id",message:"The OAuth/OIDC configuration client ID must not be empty."},y.MISSING_OAUTH_CLIENT_SECRET={code:"missing-oauth-client-secret",message:"The OAuth configuration client secret is required to enable OIDC code flow."},y.MISSING_PROVIDER_ID={code:"missing-provider-id",message:"A valid provider ID must be provided in the request."},y.MISSING_SAML_RELYING_PARTY_CONFIG={code:"missing-saml-relying-party-config",message:"The SAML configuration provided is missing a relying party configuration."},y.MAXIMUM_TEST_PHONE_NUMBER_EXCEEDED={code:"test-phone-number-limit-exceeded",message:"The maximum allowed number of test phone number / code pairs has been exceeded."},y.MAXIMUM_USER_COUNT_EXCEEDED={code:"maximum-user-count-exceeded",message:"The maximum allowed number of users to import has been exceeded."},y.MISSING_UID={code:"missing-uid",message:"A uid identifier is required for the current operation."},y.OPERATION_NOT_ALLOWED={code:"operation-not-allowed",message:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."},y.PHONE_NUMBER_ALREADY_EXISTS={code:"phone-number-already-exists",message:"The user with the provided phone number already exists."},y.PROJECT_NOT_FOUND={code:"project-not-found",message:"No Firebase project was found for the provided credential."},y.INSUFFICIENT_PERMISSION={code:"insufficient-permission",message:'Credential implementation provided to initializeApp() via the "credential" property has insufficient permission to access the requested resource. See https://firebase.google.com/docs/admin/setup for details on how to authenticate this SDK with appropriate permissions.'},y.QUOTA_EXCEEDED={code:"quota-exceeded",message:"The project quota for the specified operation has been exceeded."},y.SECOND_FACTOR_LIMIT_EXCEEDED={code:"second-factor-limit-exceeded",message:"The maximum number of allowed second factors on a user has been exceeded."},y.SECOND_FACTOR_UID_ALREADY_EXISTS={code:"second-factor-uid-already-exists",message:'The specified second factor "uid" already exists.'},y.SESSION_COOKIE_EXPIRED={code:"session-cookie-expired",message:"The Firebase session cookie is expired."},y.SESSION_COOKIE_REVOKED={code:"session-cookie-revoked",message:"The Firebase session cookie has been revoked."},y.TENANT_NOT_FOUND={code:"tenant-not-found",message:"There is no tenant corresponding to the provided identifier."},y.UID_ALREADY_EXISTS={code:"uid-already-exists",message:"The user with the provided uid already exists."},y.UNAUTHORIZED_DOMAIN={code:"unauthorized-continue-uri",message:"The domain of the continue URL is not whitelisted. Whitelist the domain in the Firebase console."},y.UNSUPPORTED_FIRST_FACTOR={code:"unsupported-first-factor",message:"A multi-factor user requires a supported first factor."},y.UNSUPPORTED_SECOND_FACTOR={code:"unsupported-second-factor",message:"The request specified an unsupported type of second factor."},y.UNSUPPORTED_TENANT_OPERATION={code:"unsupported-tenant-operation",message:"This operation is not supported in a multi-tenant context."},y.UNVERIFIED_EMAIL={code:"unverified-email",message:"A verified email is required for the specified action. For example, a multi-factor user requires a verified email."},y.USER_NOT_FOUND={code:"user-not-found",message:"There is no user record corresponding to the provided identifier."},y.NOT_FOUND={code:"not-found",message:"The requested resource was not found."},y.USER_DISABLED={code:"user-disabled",message:"The user record is disabled."},y.USER_NOT_DISABLED={code:"user-not-disabled",message:"The user must be disabled in order to bulk delete it (or you must pass force=true)."},y.INVALID_RECAPTCHA_ACTION={code:"invalid-recaptcha-action",message:'reCAPTCHA action must be "BLOCK".'},y.INVALID_RECAPTCHA_ENFORCEMENT_STATE={code:"invalid-recaptcha-enforcement-state",message:'reCAPTCHA enforcement state must be either "OFF", "AUDIT" or "ENFORCE".'},y.RECAPTCHA_NOT_ENABLED={code:"racaptcha-not-enabled",message:"reCAPTCHA enterprise is not enabled."};class O{}error.MessagingClientErrorCode=O,O.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."},O.INVALID_RECIPIENT={code:"invalid-recipient",message:"Invalid message recipient provided."},O.INVALID_PAYLOAD={code:"invalid-payload",message:"Invalid message payload provided."},O.INVALID_DATA_PAYLOAD_KEY={code:"invalid-data-payload-key",message:"The data message payload contains an invalid key. See the reference documentation for the DataMessagePayload type for restricted keys."},O.PAYLOAD_SIZE_LIMIT_EXCEEDED={code:"payload-size-limit-exceeded",message:"The provided message payload exceeds the FCM size limits. See the error documentation for more details."},O.INVALID_OPTIONS={code:"invalid-options",message:"Invalid message options provided."},O.INVALID_REGISTRATION_TOKEN={code:"invalid-registration-token",message:"Invalid registration token provided. Make sure it matches the registration token the client app receives from registering with FCM."},O.REGISTRATION_TOKEN_NOT_REGISTERED={code:"registration-token-not-registered",message:"The provided registration token is not registered. A previously valid registration token can be unregistered for a variety of reasons. See the error documentation for more details. Remove this registration token and stop using it to send messages."},O.MISMATCHED_CREDENTIAL={code:"mismatched-credential",message:"The credential used to authenticate this SDK does not have permission to send messages to the device corresponding to the provided registration token. Make sure the credential and registration token both belong to the same Firebase project."},O.INVALID_PACKAGE_NAME={code:"invalid-package-name",message:'The message was addressed to a registration token whose package name does not match the provided "restrictedPackageName" option.'},O.DEVICE_MESSAGE_RATE_EXCEEDED={code:"device-message-rate-exceeded",message:"The rate of messages to a particular device is too high. Reduce the number of messages sent to this device and do not immediately retry sending to this device."},O.TOPICS_MESSAGE_RATE_EXCEEDED={code:"topics-message-rate-exceeded",message:"The rate of messages to subscribers to a particular topic is too high. Reduce the number of messages sent for this topic, and do not immediately retry sending to this topic."},O.MESSAGE_RATE_EXCEEDED={code:"message-rate-exceeded",message:"Sending limit exceeded for the message target."},O.THIRD_PARTY_AUTH_ERROR={code:"third-party-auth-error",message:"A message targeted to an iOS device could not be sent because the required APNs SSL certificate was not uploaded or has expired. Check the validity of your development and production certificates."},O.TOO_MANY_TOPICS={code:"too-many-topics",message:"The maximum number of topics the provided registration token can be subscribed to has been exceeded."},O.AUTHENTICATION_ERROR={code:"authentication-error",message:"An error occurred when trying to authenticate to the FCM servers. Make sure the credential used to authenticate this SDK has the proper permissions. See https://firebase.google.com/docs/admin/setup for setup instructions."},O.SERVER_UNAVAILABLE={code:"server-unavailable",message:"The FCM server could not process the request in time. See the error documentation for more details."},O.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred. Please retry the request."},O.UNKNOWN_ERROR={code:"unknown-error",message:"An unknown server error was returned."};class w{}error.InstallationsClientErrorCode=w,w.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."},w.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid project ID provided."},w.INVALID_INSTALLATION_ID={code:"invalid-installation-id",message:"Invalid installation ID provided."},w.API_ERROR={code:"api-error",message:"Installation ID API call failed."};class I extends w{}error.InstanceIdClientErrorCode=I,I.INVALID_INSTANCE_ID={code:"invalid-instance-id",message:"Invalid instance ID provided."};const _={BILLING_NOT_ENABLED:"BILLING_NOT_ENABLED",CLAIMS_TOO_LARGE:"CLAIMS_TOO_LARGE",CONFIGURATION_EXISTS:"CONFIGURATION_EXISTS",CONFIGURATION_NOT_FOUND:"CONFIGURATION_NOT_FOUND",INSUFFICIENT_PERMISSION:"INSUFFICIENT_PERMISSION",INVALID_CONFIG:"INVALID_CONFIG",INVALID_CONFIG_ID:"INVALID_PROVIDER_ID",INVALID_CONTINUE_URI:"INVALID_CONTINUE_URI",INVALID_DYNAMIC_LINK_DOMAIN:"INVALID_DYNAMIC_LINK_DOMAIN",INVALID_HOSTING_LINK_DOMAIN:"INVALID_HOSTING_LINK_DOMAIN",DUPLICATE_EMAIL:"EMAIL_ALREADY_EXISTS",DUPLICATE_LOCAL_ID:"UID_ALREADY_EXISTS",DUPLICATE_MFA_ENROLLMENT_ID:"SECOND_FACTOR_UID_ALREADY_EXISTS",EMAIL_EXISTS:"EMAIL_ALREADY_EXISTS",EMAIL_NOT_FOUND:"EMAIL_NOT_FOUND",FORBIDDEN_CLAIM:"FORBIDDEN_CLAIM",INVALID_CLAIMS:"INVALID_CLAIMS",INVALID_DURATION:"INVALID_SESSION_COOKIE_DURATION",INVALID_EMAIL:"INVALID_EMAIL",INVALID_NEW_EMAIL:"INVALID_NEW_EMAIL",INVALID_DISPLAY_NAME:"INVALID_DISPLAY_NAME",INVALID_ID_TOKEN:"INVALID_ID_TOKEN",INVALID_NAME:"INVALID_NAME",INVALID_OAUTH_CLIENT_ID:"INVALID_OAUTH_CLIENT_ID",INVALID_PAGE_SELECTION:"INVALID_PAGE_TOKEN",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",INVALID_PROJECT_ID:"INVALID_PROJECT_ID",INVALID_PROVIDER_ID:"INVALID_PROVIDER_ID",INVALID_SERVICE_ACCOUNT:"INVALID_SERVICE_ACCOUNT",INVALID_TESTING_PHONE_NUMBER:"INVALID_TESTING_PHONE_NUMBER",INVALID_TENANT_TYPE:"INVALID_TENANT_TYPE",MISSING_ANDROID_PACKAGE_NAME:"MISSING_ANDROID_PACKAGE_NAME",MISSING_CONFIG:"MISSING_CONFIG",MISSING_CONFIG_ID:"MISSING_PROVIDER_ID",MISSING_DISPLAY_NAME:"MISSING_DISPLAY_NAME",MISSING_EMAIL:"MISSING_EMAIL",MISSING_IOS_BUNDLE_ID:"MISSING_IOS_BUNDLE_ID",MISSING_ISSUER:"MISSING_ISSUER",MISSING_LOCAL_ID:"MISSING_UID",MISSING_OAUTH_CLIENT_ID:"MISSING_OAUTH_CLIENT_ID",MISSING_PROVIDER_ID:"MISSING_PROVIDER_ID",MISSING_SAML_RELYING_PARTY_CONFIG:"MISSING_SAML_RELYING_PARTY_CONFIG",MISSING_USER_ACCOUNT:"MISSING_UID",OPERATION_NOT_ALLOWED:"OPERATION_NOT_ALLOWED",PERMISSION_DENIED:"INSUFFICIENT_PERMISSION",PHONE_NUMBER_EXISTS:"PHONE_NUMBER_ALREADY_EXISTS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",QUOTA_EXCEEDED:"QUOTA_EXCEEDED",SECOND_FACTOR_LIMIT_EXCEEDED:"SECOND_FACTOR_LIMIT_EXCEEDED",TENANT_NOT_FOUND:"TENANT_NOT_FOUND",TENANT_ID_MISMATCH:"MISMATCHING_TENANT_ID",TOKEN_EXPIRED:"ID_TOKEN_EXPIRED",UNAUTHORIZED_DOMAIN:"UNAUTHORIZED_DOMAIN",UNSUPPORTED_FIRST_FACTOR:"UNSUPPORTED_FIRST_FACTOR",UNSUPPORTED_SECOND_FACTOR:"UNSUPPORTED_SECOND_FACTOR",UNSUPPORTED_TENANT_OPERATION:"UNSUPPORTED_TENANT_OPERATION",UNVERIFIED_EMAIL:"UNVERIFIED_EMAIL",USER_NOT_FOUND:"USER_NOT_FOUND",USER_DISABLED:"USER_DISABLED",WEAK_PASSWORD:"INVALID_PASSWORD",INVALID_RECAPTCHA_ACTION:"INVALID_RECAPTCHA_ACTION",INVALID_RECAPTCHA_ENFORCEMENT_STATE:"INVALID_RECAPTCHA_ENFORCEMENT_STATE",RECAPTCHA_NOT_ENABLED:"RECAPTCHA_NOT_ENABLED"},T={InvalidParameters:"INVALID_ARGUMENT",MismatchSenderId:"MISMATCHED_CREDENTIAL",Unavailable:"SERVER_UNAVAILABLE",InternalServerError:"INTERNAL_ERROR",InvalidRegistration:"INVALID_REGISTRATION_TOKEN",NotRegistered:"REGISTRATION_TOKEN_NOT_REGISTERED",InvalidPackageName:"INVALID_PACKAGE_NAME",MessageTooBig:"PAYLOAD_SIZE_LIMIT_EXCEEDED",InvalidDataKey:"INVALID_DATA_PAYLOAD_KEY",InvalidTtl:"INVALID_OPTIONS",DeviceMessageRateExceeded:"DEVICE_MESSAGE_RATE_EXCEEDED",TopicsMessageRateExceeded:"TOPICS_MESSAGE_RATE_EXCEEDED",InvalidApnsCredential:"THIRD_PARTY_AUTH_ERROR",NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",PERMISSION_DENIED:"MISMATCHED_CREDENTIAL",RESOURCE_EXHAUSTED:"MESSAGE_RATE_EXCEEDED",UNAUTHENTICATED:"THIRD_PARTY_AUTH_ERROR",APNS_AUTH_ERROR:"THIRD_PARTY_AUTH_ERROR",INTERNAL:"INTERNAL_ERROR",INVALID_ARGUMENT:"INVALID_ARGUMENT",QUOTA_EXCEEDED:"MESSAGE_RATE_EXCEEDED",SENDER_ID_MISMATCH:"MISMATCHED_CREDENTIAL",THIRD_PARTY_AUTH_ERROR:"THIRD_PARTY_AUTH_ERROR",UNAVAILABLE:"SERVER_UNAVAILABLE",UNREGISTERED:"REGISTRATION_TOKEN_NOT_REGISTERED",UNSPECIFIED_ERROR:"UNKNOWN_ERROR"},C={NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",INVALID_ARGUMENT:"INVALID_REGISTRATION_TOKEN",TOO_MANY_TOPICS:"TOO_MANY_TOPICS",RESOURCE_EXHAUSTED:"TOO_MANY_TOPICS",PERMISSION_DENIED:"AUTHENTICATION_ERROR",DEADLINE_EXCEEDED:"SERVER_UNAVAILABLE",INTERNAL:"INTERNAL_ERROR",UNKNOWN:"UNKNOWN_ERROR"};return error}var credentialInternal={},src$f={},googleauth={},src$e={},src$d={},gaxios={},extend,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend;hasRequiredExtend=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,a=Object.defineProperty,p=Object.getOwnPropertyDescriptor,g=function(s){return typeof Array.isArray=="function"?Array.isArray(s):t.call(s)==="[object Array]"},m=function(s){if(!s||t.call(s)!=="[object Object]")return!1;var h=e.call(s,"constructor"),v=s.constructor&&s.constructor.prototype&&e.call(s.constructor.prototype,"isPrototypeOf");if(s.constructor&&!h&&!v)return!1;var b;for(b in s);return typeof b>"u"||e.call(s,b)},c=function(s,h){a&&h.name==="__proto__"?a(s,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):s[h.name]=h.newValue},l=function(s,h){if(h==="__proto__")if(e.call(s,h)){if(p)return p(s,h).value}else return;return s[h]};return extend=function o(){var s,h,v,b,y,O,w=arguments[0],I=1,_=arguments.length,T=!1;for(typeof w=="boolean"&&(T=w,w=arguments[1]||{},I=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});I<_;++I)if(s=arguments[I],s!=null)for(h in s)v=l(w,h),b=l(s,h),w!==b&&(T&&b&&(m(b)||(y=g(b)))?(y?(y=!1,O=v&&g(v)?v:[]):O=v&&m(v)?v:{},c(w,{name:h,newValue:o(T,O,b)})):typeof b<"u"&&c(w,{name:h,newValue:b}));return w},extend}var browser$5={exports:{}},hasRequiredBrowser$3;function requireBrowser$3(){return hasRequiredBrowser$3||(hasRequiredBrowser$3=1,(function(e,t){var a=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal<"u")return commonjsGlobal;throw new Error("unable to locate global object")},p=a();e.exports=t=p.fetch,p.fetch&&(t.default=p.fetch.bind(p)),t.Headers=p.Headers,t.Request=p.Request,t.Response=p.Response})(browser$5,browser$5.exports)),browser$5.exports}var isStream_1,hasRequiredIsStream;function requireIsStream(){if(hasRequiredIsStream)return isStream_1;hasRequiredIsStream=1;const e=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return e.writable=t=>e(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",e.readable=t=>e(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&typeof t._transform=="function",isStream_1=e,isStream_1}var common$1={},util$9={};const name$2="gaxios",version$9="6.7.1",description$1="A simple common HTTP client specifically for Google APIs and services.",main$2="build/src/index.js",types$5="build/src/index.d.ts",files$1=["build/src"],scripts$1={lint:"gts check",test:"c8 mocha build/test","presystem-test":"npm run compile","system-test":"mocha build/system-test --timeout 80000",compile:"tsc -p .",fix:"gts fix",prepare:"npm run compile",pretest:"npm run compile",webpack:"webpack","prebrowser-test":"npm run compile","browser-test":"node build/browser-test/browser-test-runner.js",docs:"compodoc src/","docs-test":"linkinator docs","predocs-test":"npm run docs","samples-test":"cd samples/ && npm link ../ && npm test && cd ../",prelint:"cd samples; npm link ../; npm install",clean:"gts clean",precompile:"gts clean"},repository$1="googleapis/gaxios",keywords$1=["google"],engines$1={node:">=14"},author$1="Google, LLC",license$1="Apache-2.0",devDependencies$1={"@babel/plugin-proposal-private-methods":"^7.18.6","@compodoc/compodoc":"1.1.19","@types/cors":"^2.8.6","@types/express":"^4.16.1","@types/extend":"^3.0.1","@types/mocha":"^9.0.0","@types/multiparty":"0.0.36","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^20.0.0","@types/node-fetch":"^2.5.7","@types/sinon":"^17.0.0","@types/tmp":"0.2.6","@types/uuid":"^10.0.0","abort-controller":"^3.0.0",assert:"^2.0.0",browserify:"^17.0.0",c8:"^8.0.0",cheerio:"1.0.0-rc.10",cors:"^2.8.5",execa:"^5.0.0",express:"^4.16.4","form-data":"^4.0.0",gts:"^5.0.0","is-docker":"^2.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"5.0.0",linkinator:"^3.0.0",mocha:"^8.0.0",multiparty:"^4.2.1",mv:"^2.1.1",ncp:"^2.0.0",nock:"^13.0.0","null-loader":"^4.0.0",puppeteer:"^19.0.0",sinon:"^18.0.0","stream-browserify":"^3.0.0",tmp:"0.2.3","ts-loader":"^8.0.0",typescript:"^5.1.6",webpack:"^5.35.0","webpack-cli":"^4.0.0"},dependencies$1={extend:"^3.0.2","https-proxy-agent":"^7.0.1","is-stream":"^2.0.0","node-fetch":"^2.6.9",uuid:"^9.0.1"},require$$0$4={name:name$2,version:version$9,description:description$1,main:main$2,types:types$5,files:files$1,scripts:scripts$1,repository:repository$1,keywords:keywords$1,engines:engines$1,author:author$1,license:license$1,devDependencies:devDependencies$1,dependencies:dependencies$1};var hasRequiredUtil$9;function requireUtil$9(){return hasRequiredUtil$9||(hasRequiredUtil$9=1,Object.defineProperty(util$9,"__esModule",{value:!0}),util$9.pkg=void 0,util$9.pkg=require$$0$4),util$9}var hasRequiredCommon$2;function requireCommon$2(){return hasRequiredCommon$2||(hasRequiredCommon$2=1,(function(e){var t=common$1&&common$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},a;Object.defineProperty(e,"__esModule",{value:!0}),e.GaxiosError=e.GAXIOS_ERROR_SYMBOL=void 0,e.defaultErrorRedactor=o;const p=require$$1$3,g=requireUtil$9(),m=t(requireExtend());e.GAXIOS_ERROR_SYMBOL=Symbol.for(`${g.pkg.name}-gaxios-error`);class c extends Error{static[(a=e.GAXIOS_ERROR_SYMBOL,Symbol.hasInstance)](h){return h&&typeof h=="object"&&e.GAXIOS_ERROR_SYMBOL in h&&h[e.GAXIOS_ERROR_SYMBOL]===g.pkg.version?!0:Function.prototype[Symbol.hasInstance].call(c,h)}constructor(h,v,b,y){var O;if(super(h),this.config=v,this.response=b,this.error=y,this[a]=g.pkg.version,this.config=(0,m.default)(!0,{},v),this.response&&(this.response.config=(0,m.default)(!0,{},this.response.config)),this.response){try{this.response.data=l(this.config.responseType,(O=this.response)===null||O===void 0?void 0:O.data)}catch{}this.status=this.response.status}y&&"code"in y&&y.code&&(this.code=y.code),v.errorRedactor&&v.errorRedactor({config:this.config,response:this.response})}}e.GaxiosError=c;function l(s,h){switch(s){case"stream":return h;case"json":return JSON.parse(JSON.stringify(h));case"arraybuffer":return JSON.parse(Buffer.from(h).toString("utf8"));case"blob":return JSON.parse(h.text());default:return h}}function o(s){const h="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";function v(O){if(O)for(const w of Object.keys(O))/^authentication$/i.test(w)&&(O[w]=h),/^authorization$/i.test(w)&&(O[w]=h),/secret/i.test(w)&&(O[w]=h)}function b(O,w){if(typeof O=="object"&&O!==null&&typeof O[w]=="string"){const I=O[w];(/grant_type=/i.test(I)||/assertion=/i.test(I)||/secret/i.test(I))&&(O[w]=h)}}function y(O){typeof O=="object"&&O!==null&&("grant_type"in O&&(O.grant_type=h),"assertion"in O&&(O.assertion=h),"client_secret"in O&&(O.client_secret=h))}if(s.config){v(s.config.headers),b(s.config,"data"),y(s.config.data),b(s.config,"body"),y(s.config.body);try{const O=new p.URL("",s.config.url);O.searchParams.has("token")&&O.searchParams.set("token",h),O.searchParams.has("client_secret")&&O.searchParams.set("client_secret",h),s.config.url=O.toString()}catch{}}return s.response&&(o({config:s.response.config}),v(s.response.headers),b(s.response,"data"),y(s.response.data)),s}})(common$1)),common$1}var retry$2={},hasRequiredRetry$2;function requireRetry$2(){if(hasRequiredRetry$2)return retry$2;hasRequiredRetry$2=1,Object.defineProperty(retry$2,"__esModule",{value:!0}),retry$2.getRetryConfig=e;async function e(g){let m=a(g);if(!g||!g.config||!m&&!g.config.retry)return{shouldRetry:!1};m=m||{},m.currentRetryAttempt=m.currentRetryAttempt||0,m.retry=m.retry===void 0||m.retry===null?3:m.retry,m.httpMethodsToRetry=m.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],m.noResponseRetries=m.noResponseRetries===void 0||m.noResponseRetries===null?2:m.noResponseRetries,m.retryDelayMultiplier=m.retryDelayMultiplier?m.retryDelayMultiplier:2,m.timeOfFirstRequest=m.timeOfFirstRequest?m.timeOfFirstRequest:Date.now(),m.totalTimeout=m.totalTimeout?m.totalTimeout:Number.MAX_SAFE_INTEGER,m.maxRetryDelay=m.maxRetryDelay?m.maxRetryDelay:Number.MAX_SAFE_INTEGER;const c=[[100,199],[408,408],[429,429],[500,599]];if(m.statusCodesToRetry=m.statusCodesToRetry||c,g.config.retryConfig=m,!await(m.shouldRetry||t)(g))return{shouldRetry:!1,config:g.config};const o=p(m);g.config.retryConfig.currentRetryAttempt+=1;const s=m.retryBackoff?m.retryBackoff(g,o):new Promise(h=>{setTimeout(h,o)});return m.onRetryAttempt&&m.onRetryAttempt(g),await s,{shouldRetry:!0,config:g.config}}function t(g){var m;const c=a(g);if(g.name==="AbortError"||((m=g.error)===null||m===void 0?void 0:m.name)==="AbortError"||!c||c.retry===0||!g.response&&(c.currentRetryAttempt||0)>=c.noResponseRetries||!g.config.method||c.httpMethodsToRetry.indexOf(g.config.method.toUpperCase())<0)return!1;if(g.response&&g.response.status){let l=!1;for(const[o,s]of c.statusCodesToRetry){const h=g.response.status;if(h>=o&&h<=s){l=!0;break}}if(!l)return!1}return c.currentRetryAttempt=c.currentRetryAttempt||0,!(c.currentRetryAttempt>=c.retry)}function a(g){if(g&&g.config&&g.config.retryConfig)return g.config.retryConfig}function p(g){var m;const l=(g.currentRetryAttempt?0:(m=g.retryDelay)!==null&&m!==void 0?m:100)+(Math.pow(g.retryDelayMultiplier,g.currentRetryAttempt)-1)/2*1e3,o=g.totalTimeout-(Date.now()-g.timeOfFirstRequest);return Math.min(l,o,g.maxRetryDelay)}return retry$2}var commonjsBrowser$2={},v1$4={},rng$3={},hasRequiredRng$2;function requireRng$2(){if(hasRequiredRng$2)return rng$3;hasRequiredRng$2=1,Object.defineProperty(rng$3,"__esModule",{value:!0}),rng$3.default=a;let e;const t=new Uint8Array(16);function a(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return rng$3}var stringify$4={},validate$4={},regex$2={},hasRequiredRegex$2;function requireRegex$2(){if(hasRequiredRegex$2)return regex$2;hasRequiredRegex$2=1,Object.defineProperty(regex$2,"__esModule",{value:!0}),regex$2.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return regex$2.default=e,regex$2}var hasRequiredValidate$3;function requireValidate$3(){if(hasRequiredValidate$3)return validate$4;hasRequiredValidate$3=1,Object.defineProperty(validate$4,"__esModule",{value:!0}),validate$4.default=void 0;var e=t(requireRegex$2());function t(g){return g&&g.__esModule?g:{default:g}}function a(g){return typeof g=="string"&&e.default.test(g)}var p=a;return validate$4.default=p,validate$4}var hasRequiredStringify$3;function requireStringify$3(){if(hasRequiredStringify$3)return stringify$4;hasRequiredStringify$3=1,Object.defineProperty(stringify$4,"__esModule",{value:!0}),stringify$4.default=void 0,stringify$4.unsafeStringify=p;var e=t(requireValidate$3());function t(c){return c&&c.__esModule?c:{default:c}}const a=[];for(let c=0;c<256;++c)a.push((c+256).toString(16).slice(1));function p(c,l=0){return a[c[l+0]]+a[c[l+1]]+a[c[l+2]]+a[c[l+3]]+"-"+a[c[l+4]]+a[c[l+5]]+"-"+a[c[l+6]]+a[c[l+7]]+"-"+a[c[l+8]]+a[c[l+9]]+"-"+a[c[l+10]]+a[c[l+11]]+a[c[l+12]]+a[c[l+13]]+a[c[l+14]]+a[c[l+15]]}function g(c,l=0){const o=p(c,l);if(!(0,e.default)(o))throw TypeError("Stringified UUID is invalid");return o}var m=g;return stringify$4.default=m,stringify$4}var hasRequiredV1$3;function requireV1$3(){if(hasRequiredV1$3)return v1$4;hasRequiredV1$3=1,Object.defineProperty(v1$4,"__esModule",{value:!0}),v1$4.default=void 0;var e=a(requireRng$2()),t=requireStringify$3();function a(s){return s&&s.__esModule?s:{default:s}}let p,g,m=0,c=0;function l(s,h,v){let b=h&&v||0;const y=h||new Array(16);s=s||{};let O=s.node||p,w=s.clockseq!==void 0?s.clockseq:g;if(O==null||w==null){const L=s.random||(s.rng||e.default)();O==null&&(O=p=[L[0]|1,L[1],L[2],L[3],L[4],L[5]]),w==null&&(w=g=(L[6]<<8|L[7])&16383)}let I=s.msecs!==void 0?s.msecs:Date.now(),_=s.nsecs!==void 0?s.nsecs:c+1;const T=I-m+(_-c)/1e4;if(T<0&&s.clockseq===void 0&&(w=w+1&16383),(T<0||I>m)&&s.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=I,c=_,g=w,I+=122192928e5;const C=((I&268435455)*1e4+_)%4294967296;y[b++]=C>>>24&255,y[b++]=C>>>16&255,y[b++]=C>>>8&255,y[b++]=C&255;const N=I/4294967296*1e4&268435455;y[b++]=N>>>8&255,y[b++]=N&255,y[b++]=N>>>24&15|16,y[b++]=N>>>16&255,y[b++]=w>>>8|128,y[b++]=w&255;for(let L=0;L<6;++L)y[b+L]=O[L];return h||(0,t.unsafeStringify)(y)}var o=l;return v1$4.default=o,v1$4}var v3$3={},v35$3={},parse$5={},hasRequiredParse$5;function requireParse$5(){if(hasRequiredParse$5)return parse$5;hasRequiredParse$5=1,Object.defineProperty(parse$5,"__esModule",{value:!0}),parse$5.default=void 0;var e=t(requireValidate$3());function t(g){return g&&g.__esModule?g:{default:g}}function a(g){if(!(0,e.default)(g))throw TypeError("Invalid UUID");let m;const c=new Uint8Array(16);return c[0]=(m=parseInt(g.slice(0,8),16))>>>24,c[1]=m>>>16&255,c[2]=m>>>8&255,c[3]=m&255,c[4]=(m=parseInt(g.slice(9,13),16))>>>8,c[5]=m&255,c[6]=(m=parseInt(g.slice(14,18),16))>>>8,c[7]=m&255,c[8]=(m=parseInt(g.slice(19,23),16))>>>8,c[9]=m&255,c[10]=(m=parseInt(g.slice(24,36),16))/1099511627776&255,c[11]=m/4294967296&255,c[12]=m>>>24&255,c[13]=m>>>16&255,c[14]=m>>>8&255,c[15]=m&255,c}var p=a;return parse$5.default=p,parse$5}var hasRequiredV35$2;function requireV35$2(){if(hasRequiredV35$2)return v35$3;hasRequiredV35$2=1,Object.defineProperty(v35$3,"__esModule",{value:!0}),v35$3.URL=v35$3.DNS=void 0,v35$3.default=c;var e=requireStringify$3(),t=a(requireParse$5());function a(l){return l&&l.__esModule?l:{default:l}}function p(l){l=unescape(encodeURIComponent(l));const o=[];for(let s=0;s<l.length;++s)o.push(l.charCodeAt(s));return o}const g="6ba7b810-9dad-11d1-80b4-00c04fd430c8";v35$3.DNS=g;const m="6ba7b811-9dad-11d1-80b4-00c04fd430c8";v35$3.URL=m;function c(l,o,s){function h(v,b,y,O){var w;if(typeof v=="string"&&(v=p(v)),typeof b=="string"&&(b=(0,t.default)(b)),((w=b)===null||w===void 0?void 0:w.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let I=new Uint8Array(16+v.length);if(I.set(b),I.set(v,b.length),I=s(I),I[6]=I[6]&15|o,I[8]=I[8]&63|128,y){O=O||0;for(let _=0;_<16;++_)y[O+_]=I[_];return y}return(0,e.unsafeStringify)(I)}try{h.name=l}catch{}return h.DNS=g,h.URL=m,h}return v35$3}var md5$4={},hasRequiredMd5$3;function requireMd5$3(){if(hasRequiredMd5$3)return md5$4;hasRequiredMd5$3=1,Object.defineProperty(md5$4,"__esModule",{value:!0}),md5$4.default=void 0;function e(y){if(typeof y=="string"){const O=unescape(encodeURIComponent(y));y=new Uint8Array(O.length);for(let w=0;w<O.length;++w)y[w]=O.charCodeAt(w)}return t(p(g(y),y.length*8))}function t(y){const O=[],w=y.length*32,I="0123456789abcdef";for(let _=0;_<w;_+=8){const T=y[_>>5]>>>_%32&255,C=parseInt(I.charAt(T>>>4&15)+I.charAt(T&15),16);O.push(C)}return O}function a(y){return(y+64>>>9<<4)+14+1}function p(y,O){y[O>>5]|=128<<O%32,y[a(O)-1]=O;let w=1732584193,I=-271733879,_=-1732584194,T=271733878;for(let C=0;C<y.length;C+=16){const N=w,L=I,D=_,j=T;w=o(w,I,_,T,y[C],7,-680876936),T=o(T,w,I,_,y[C+1],12,-389564586),_=o(_,T,w,I,y[C+2],17,606105819),I=o(I,_,T,w,y[C+3],22,-1044525330),w=o(w,I,_,T,y[C+4],7,-176418897),T=o(T,w,I,_,y[C+5],12,1200080426),_=o(_,T,w,I,y[C+6],17,-1473231341),I=o(I,_,T,w,y[C+7],22,-45705983),w=o(w,I,_,T,y[C+8],7,1770035416),T=o(T,w,I,_,y[C+9],12,-1958414417),_=o(_,T,w,I,y[C+10],17,-42063),I=o(I,_,T,w,y[C+11],22,-1990404162),w=o(w,I,_,T,y[C+12],7,1804603682),T=o(T,w,I,_,y[C+13],12,-40341101),_=o(_,T,w,I,y[C+14],17,-1502002290),I=o(I,_,T,w,y[C+15],22,1236535329),w=s(w,I,_,T,y[C+1],5,-165796510),T=s(T,w,I,_,y[C+6],9,-1069501632),_=s(_,T,w,I,y[C+11],14,643717713),I=s(I,_,T,w,y[C],20,-373897302),w=s(w,I,_,T,y[C+5],5,-701558691),T=s(T,w,I,_,y[C+10],9,38016083),_=s(_,T,w,I,y[C+15],14,-660478335),I=s(I,_,T,w,y[C+4],20,-405537848),w=s(w,I,_,T,y[C+9],5,568446438),T=s(T,w,I,_,y[C+14],9,-1019803690),_=s(_,T,w,I,y[C+3],14,-187363961),I=s(I,_,T,w,y[C+8],20,1163531501),w=s(w,I,_,T,y[C+13],5,-1444681467),T=s(T,w,I,_,y[C+2],9,-51403784),_=s(_,T,w,I,y[C+7],14,1735328473),I=s(I,_,T,w,y[C+12],20,-1926607734),w=h(w,I,_,T,y[C+5],4,-378558),T=h(T,w,I,_,y[C+8],11,-2022574463),_=h(_,T,w,I,y[C+11],16,1839030562),I=h(I,_,T,w,y[C+14],23,-35309556),w=h(w,I,_,T,y[C+1],4,-1530992060),T=h(T,w,I,_,y[C+4],11,1272893353),_=h(_,T,w,I,y[C+7],16,-155497632),I=h(I,_,T,w,y[C+10],23,-1094730640),w=h(w,I,_,T,y[C+13],4,681279174),T=h(T,w,I,_,y[C],11,-358537222),_=h(_,T,w,I,y[C+3],16,-722521979),I=h(I,_,T,w,y[C+6],23,76029189),w=h(w,I,_,T,y[C+9],4,-640364487),T=h(T,w,I,_,y[C+12],11,-421815835),_=h(_,T,w,I,y[C+15],16,530742520),I=h(I,_,T,w,y[C+2],23,-995338651),w=v(w,I,_,T,y[C],6,-198630844),T=v(T,w,I,_,y[C+7],10,1126891415),_=v(_,T,w,I,y[C+14],15,-1416354905),I=v(I,_,T,w,y[C+5],21,-57434055),w=v(w,I,_,T,y[C+12],6,1700485571),T=v(T,w,I,_,y[C+3],10,-1894986606),_=v(_,T,w,I,y[C+10],15,-1051523),I=v(I,_,T,w,y[C+1],21,-2054922799),w=v(w,I,_,T,y[C+8],6,1873313359),T=v(T,w,I,_,y[C+15],10,-30611744),_=v(_,T,w,I,y[C+6],15,-1560198380),I=v(I,_,T,w,y[C+13],21,1309151649),w=v(w,I,_,T,y[C+4],6,-145523070),T=v(T,w,I,_,y[C+11],10,-1120210379),_=v(_,T,w,I,y[C+2],15,718787259),I=v(I,_,T,w,y[C+9],21,-343485551),w=m(w,N),I=m(I,L),_=m(_,D),T=m(T,j)}return[w,I,_,T]}function g(y){if(y.length===0)return[];const O=y.length*8,w=new Uint32Array(a(O));for(let I=0;I<O;I+=8)w[I>>5]|=(y[I/8]&255)<<I%32;return w}function m(y,O){const w=(y&65535)+(O&65535);return(y>>16)+(O>>16)+(w>>16)<<16|w&65535}function c(y,O){return y<<O|y>>>32-O}function l(y,O,w,I,_,T){return m(c(m(m(O,y),m(I,T)),_),w)}function o(y,O,w,I,_,T,C){return l(O&w|~O&I,y,O,_,T,C)}function s(y,O,w,I,_,T,C){return l(O&I|w&~I,y,O,_,T,C)}function h(y,O,w,I,_,T,C){return l(O^w^I,y,O,_,T,C)}function v(y,O,w,I,_,T,C){return l(w^(O|~I),y,O,_,T,C)}var b=e;return md5$4.default=b,md5$4}var hasRequiredV3$2;function requireV3$2(){if(hasRequiredV3$2)return v3$3;hasRequiredV3$2=1,Object.defineProperty(v3$3,"__esModule",{value:!0}),v3$3.default=void 0;var e=a(requireV35$2()),t=a(requireMd5$3());function a(m){return m&&m.__esModule?m:{default:m}}var g=(0,e.default)("v3",48,t.default);return v3$3.default=g,v3$3}var v4$3={},native$2={},hasRequiredNative$2;function requireNative$2(){if(hasRequiredNative$2)return native$2;hasRequiredNative$2=1,Object.defineProperty(native$2,"__esModule",{value:!0}),native$2.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return native$2.default=t,native$2}var hasRequiredV4$2;function requireV4$2(){if(hasRequiredV4$2)return v4$3;hasRequiredV4$2=1,Object.defineProperty(v4$3,"__esModule",{value:!0}),v4$3.default=void 0;var e=p(requireNative$2()),t=p(requireRng$2()),a=requireStringify$3();function p(c){return c&&c.__esModule?c:{default:c}}function g(c,l,o){if(e.default.randomUUID&&!l&&!c)return e.default.randomUUID();c=c||{};const s=c.random||(c.rng||t.default)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,l){o=o||0;for(let h=0;h<16;++h)l[o+h]=s[h];return l}return(0,a.unsafeStringify)(s)}var m=g;return v4$3.default=m,v4$3}var v5$3={},sha1$4={},hasRequiredSha1$3;function requireSha1$3(){if(hasRequiredSha1$3)return sha1$4;hasRequiredSha1$3=1,Object.defineProperty(sha1$4,"__esModule",{value:!0}),sha1$4.default=void 0;function e(g,m,c,l){switch(g){case 0:return m&c^~m&l;case 1:return m^c^l;case 2:return m&c^m&l^c&l;case 3:return m^c^l}}function t(g,m){return g<<m|g>>>32-m}function a(g){const m=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof g=="string"){const h=unescape(encodeURIComponent(g));g=[];for(let v=0;v<h.length;++v)g.push(h.charCodeAt(v))}else Array.isArray(g)||(g=Array.prototype.slice.call(g));g.push(128);const l=g.length/4+2,o=Math.ceil(l/16),s=new Array(o);for(let h=0;h<o;++h){const v=new Uint32Array(16);for(let b=0;b<16;++b)v[b]=g[h*64+b*4]<<24|g[h*64+b*4+1]<<16|g[h*64+b*4+2]<<8|g[h*64+b*4+3];s[h]=v}s[o-1][14]=(g.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(g.length-1)*8&4294967295;for(let h=0;h<o;++h){const v=new Uint32Array(80);for(let _=0;_<16;++_)v[_]=s[h][_];for(let _=16;_<80;++_)v[_]=t(v[_-3]^v[_-8]^v[_-14]^v[_-16],1);let b=c[0],y=c[1],O=c[2],w=c[3],I=c[4];for(let _=0;_<80;++_){const T=Math.floor(_/20),C=t(b,5)+e(T,y,O,w)+I+m[T]+v[_]>>>0;I=w,w=O,O=t(y,30)>>>0,y=b,b=C}c[0]=c[0]+b>>>0,c[1]=c[1]+y>>>0,c[2]=c[2]+O>>>0,c[3]=c[3]+w>>>0,c[4]=c[4]+I>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,c[0]&255,c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,c[1]&255,c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,c[2]&255,c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,c[3]&255,c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,c[4]&255]}var p=a;return sha1$4.default=p,sha1$4}var hasRequiredV5$2;function requireV5$2(){if(hasRequiredV5$2)return v5$3;hasRequiredV5$2=1,Object.defineProperty(v5$3,"__esModule",{value:!0}),v5$3.default=void 0;var e=a(requireV35$2()),t=a(requireSha1$3());function a(m){return m&&m.__esModule?m:{default:m}}var g=(0,e.default)("v5",80,t.default);return v5$3.default=g,v5$3}var nil$3={},hasRequiredNil$2;function requireNil$2(){if(hasRequiredNil$2)return nil$3;hasRequiredNil$2=1,Object.defineProperty(nil$3,"__esModule",{value:!0}),nil$3.default=void 0;var e="00000000-0000-0000-0000-000000000000";return nil$3.default=e,nil$3}var version$8={},hasRequiredVersion$2;function requireVersion$2(){if(hasRequiredVersion$2)return version$8;hasRequiredVersion$2=1,Object.defineProperty(version$8,"__esModule",{value:!0}),version$8.default=void 0;var e=t(requireValidate$3());function t(g){return g&&g.__esModule?g:{default:g}}function a(g){if(!(0,e.default)(g))throw TypeError("Invalid UUID");return parseInt(g.slice(14,15),16)}var p=a;return version$8.default=p,version$8}var hasRequiredCommonjsBrowser$2;function requireCommonjsBrowser$2(){return hasRequiredCommonjsBrowser$2||(hasRequiredCommonjsBrowser$2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return c.default}});var t=h(requireV1$3()),a=h(requireV3$2()),p=h(requireV4$2()),g=h(requireV5$2()),m=h(requireNil$2()),c=h(requireVersion$2()),l=h(requireValidate$3()),o=h(requireStringify$3()),s=h(requireParse$5());function h(v){return v&&v.__esModule?v:{default:v}}})(commonjsBrowser$2)),commonjsBrowser$2}var interceptor$1={},hasRequiredInterceptor$1;function requireInterceptor$1(){if(hasRequiredInterceptor$1)return interceptor$1;hasRequiredInterceptor$1=1,Object.defineProperty(interceptor$1,"__esModule",{value:!0}),interceptor$1.GaxiosInterceptorManager=void 0;class e extends Set{}return interceptor$1.GaxiosInterceptorManager=e,interceptor$1}var dist$4={},browser$4={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,t=e*60,a=t*60,p=a*24,g=p*7,m=p*365.25;ms=function(h,v){v=v||{};var b=typeof h;if(b==="string"&&h.length>0)return c(h);if(b==="number"&&isFinite(h))return v.long?o(h):l(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function c(h){if(h=String(h),!(h.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(v){var b=parseFloat(v[1]),y=(v[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return b*m;case"weeks":case"week":case"w":return b*g;case"days":case"day":case"d":return b*p;case"hours":case"hour":case"hrs":case"hr":case"h":return b*a;case"minutes":case"minute":case"mins":case"min":case"m":return b*t;case"seconds":case"second":case"secs":case"sec":case"s":return b*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function l(h){var v=Math.abs(h);return v>=p?Math.round(h/p)+"d":v>=a?Math.round(h/a)+"h":v>=t?Math.round(h/t)+"m":v>=e?Math.round(h/e)+"s":h+"ms"}function o(h){var v=Math.abs(h);return v>=p?s(h,v,p,"day"):v>=a?s(h,v,a,"hour"):v>=t?s(h,v,t,"minute"):v>=e?s(h,v,e,"second"):h+" ms"}function s(h,v,b,y){var O=v>=b*1.5;return Math.round(h/b)+" "+y+(O?"s":"")}return ms}var common,hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common;hasRequiredCommon$1=1;function e(t){p.debug=p,p.default=p,p.coerce=s,p.disable=l,p.enable=m,p.enabled=o,p.humanize=requireMs(),p.destroy=h,Object.keys(t).forEach(v=>{p[v]=t[v]}),p.names=[],p.skips=[],p.formatters={};function a(v){let b=0;for(let y=0;y<v.length;y++)b=(b<<5)-b+v.charCodeAt(y),b|=0;return p.colors[Math.abs(b)%p.colors.length]}p.selectColor=a;function p(v){let b,y=null,O,w;function I(..._){if(!I.enabled)return;const T=I,C=Number(new Date),N=C-(b||C);T.diff=N,T.prev=b,T.curr=C,b=C,_[0]=p.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let L=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(j,k)=>{if(j==="%%")return"%";L++;const V=p.formatters[k];if(typeof V=="function"){const G=_[L];j=V.call(T,G),_.splice(L,1),L--}return j}),p.formatArgs.call(T,_),(T.log||p.log).apply(T,_)}return I.namespace=v,I.useColors=p.useColors(),I.color=p.selectColor(v),I.extend=g,I.destroy=p.destroy,Object.defineProperty(I,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(O!==p.namespaces&&(O=p.namespaces,w=p.enabled(v)),w),set:_=>{y=_}}),typeof p.init=="function"&&p.init(I),I}function g(v,b){const y=p(this.namespace+(typeof b>"u"?":":b)+v);return y.log=this.log,y}function m(v){p.save(v),p.namespaces=v,p.names=[],p.skips=[];const b=(typeof v=="string"?v:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const y of b)y[0]==="-"?p.skips.push(y.slice(1)):p.names.push(y)}function c(v,b){let y=0,O=0,w=-1,I=0;for(;y<v.length;)if(O<b.length&&(b[O]===v[y]||b[O]==="*"))b[O]==="*"?(w=O,I=y,O++):(y++,O++);else if(w!==-1)O=w+1,I++,y=I;else return!1;for(;O<b.length&&b[O]==="*";)O++;return O===b.length}function l(){const v=[...p.names,...p.skips.map(b=>"-"+b)].join(",");return p.enable(""),v}function o(v){for(const b of p.skips)if(c(v,b))return!1;for(const b of p.names)if(c(v,b))return!0;return!1}function s(v){return v instanceof Error?v.stack||v.message:v}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return p.enable(p.load()),p}return common=e,common}var hasRequiredBrowser$2;function requireBrowser$2(){return hasRequiredBrowser$2||(hasRequiredBrowser$2=1,(function(e,t){var a={};t.formatArgs=g,t.save=m,t.load=c,t.useColors=p,t.storage=l(),t.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function p(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let s;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(s=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(s[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function g(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;s.splice(1,0,h,"color: inherit");let v=0,b=0;s[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(v++,y==="%c"&&(b=v))}),s.splice(b,0,h)}t.log=console.debug||console.log||(()=>{});function m(s){try{s?t.storage.setItem("debug",s):t.storage.removeItem("debug")}catch{}}function c(){let s;try{s=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!s&&typeof process<"u"&&"env"in process&&(s=a.DEBUG),s}function l(){try{return localStorage}catch{}}e.exports=requireCommon$1()(t);const{formatters:o}=e.exports;o.j=function(s){try{return JSON.stringify(s)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(browser$4,browser$4.exports)),browser$4.exports}var dist$3={},helpers$1={},hasRequiredHelpers$1;function requireHelpers$1(){if(hasRequiredHelpers$1)return helpers$1;hasRequiredHelpers$1=1;var e=helpers$1&&helpers$1.__createBinding||(Object.create?(function(o,s,h,v){v===void 0&&(v=h);var b=Object.getOwnPropertyDescriptor(s,h);(!b||("get"in b?!s.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return s[h]}}),Object.defineProperty(o,v,b)}):(function(o,s,h,v){v===void 0&&(v=h),o[v]=s[h]})),t=helpers$1&&helpers$1.__setModuleDefault||(Object.create?(function(o,s){Object.defineProperty(o,"default",{enumerable:!0,value:s})}):function(o,s){o.default=s}),a=helpers$1&&helpers$1.__importStar||function(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var h in o)h!=="default"&&Object.prototype.hasOwnProperty.call(o,h)&&e(s,o,h);return t(s,o),s};Object.defineProperty(helpers$1,"__esModule",{value:!0}),helpers$1.req=helpers$1.json=helpers$1.toBuffer=void 0;const p=a(require$$1$3),g=a(require$$1$3);async function m(o){let s=0;const h=[];for await(const v of o)s+=v.length,h.push(v);return Buffer.concat(h,s)}helpers$1.toBuffer=m;async function c(o){const h=(await m(o)).toString("utf8");try{return JSON.parse(h)}catch(v){const b=v;throw b.message+=` (input: ${h})`,b}}helpers$1.json=c;function l(o,s={}){const v=((typeof o=="string"?o:o.href).startsWith("https:")?g:p).request(o,s),b=new Promise((y,O)=>{v.once("response",y).once("error",O).end()});return v.then=b.then.bind(b),v}return helpers$1.req=l,helpers$1}var hasRequiredDist$4;function requireDist$4(){return hasRequiredDist$4||(hasRequiredDist$4=1,(function(e){var t=dist$3&&dist$3.__createBinding||(Object.create?(function(h,v,b,y){y===void 0&&(y=b);var O=Object.getOwnPropertyDescriptor(v,b);(!O||("get"in O?!v.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return v[b]}}),Object.defineProperty(h,y,O)}):(function(h,v,b,y){y===void 0&&(y=b),h[y]=v[b]})),a=dist$3&&dist$3.__setModuleDefault||(Object.create?(function(h,v){Object.defineProperty(h,"default",{enumerable:!0,value:v})}):function(h,v){h.default=v}),p=dist$3&&dist$3.__importStar||function(h){if(h&&h.__esModule)return h;var v={};if(h!=null)for(var b in h)b!=="default"&&Object.prototype.hasOwnProperty.call(h,b)&&t(v,h,b);return a(v,h),v},g=dist$3&&dist$3.__exportStar||function(h,v){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(v,b)&&t(v,h,b)};Object.defineProperty(e,"__esModule",{value:!0}),e.Agent=void 0;const m=p(require$$1$3),c=p(require$$1$3),l=require$$1$3;g(requireHelpers$1(),e);const o=Symbol("AgentBaseInternalState");class s extends c.Agent{constructor(v){super(v),this[o]={}}isSecureEndpoint(v){if(v){if(typeof v.secureEndpoint=="boolean")return v.secureEndpoint;if(typeof v.protocol=="string")return v.protocol==="https:"}const{stack:b}=new Error;return typeof b!="string"?!1:b.split(`
`).some(y=>y.indexOf("(https.js:")!==-1||y.indexOf("node:https:")!==-1)}incrementSockets(v){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[v]||(this.sockets[v]=[]);const b=new m.Socket({writable:!1});return this.sockets[v].push(b),this.totalSocketCount++,b}decrementSockets(v,b){if(!this.sockets[v]||b===null)return;const y=this.sockets[v],O=y.indexOf(b);O!==-1&&(y.splice(O,1),this.totalSocketCount--,y.length===0&&delete this.sockets[v])}getName(v){return this.isSecureEndpoint(v)?l.Agent.prototype.getName.call(this,v):super.getName(v)}createSocket(v,b,y){const O={...b,secureEndpoint:this.isSecureEndpoint(b)},w=this.getName(O),I=this.incrementSockets(w);Promise.resolve().then(()=>this.connect(v,O)).then(_=>{if(this.decrementSockets(w,I),_ instanceof c.Agent)try{return _.addRequest(v,O)}catch(T){return y(T)}this[o].currentSocket=_,super.createSocket(v,b,y)},_=>{this.decrementSockets(w,I),y(_)})}createConnection(){const v=this[o].currentSocket;if(this[o].currentSocket=void 0,!v)throw new Error("No socket was returned in the `connect()` function");return v}get defaultPort(){return this[o].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(v){this[o]&&(this[o].defaultPort=v)}get protocol(){return this[o].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(v){this[o]&&(this[o].protocol=v)}}e.Agent=s})(dist$3)),dist$3}var parseProxyResponse$1={},hasRequiredParseProxyResponse$1;function requireParseProxyResponse$1(){if(hasRequiredParseProxyResponse$1)return parseProxyResponse$1;hasRequiredParseProxyResponse$1=1;var e=parseProxyResponse$1&&parseProxyResponse$1.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(parseProxyResponse$1,"__esModule",{value:!0}),parseProxyResponse$1.parseProxyResponse=void 0;const a=(0,e(requireBrowser$2()).default)("https-proxy-agent:parse-proxy-response");function p(g){return new Promise((m,c)=>{let l=0;const o=[];function s(){const O=g.read();O?y(O):g.once("readable",s)}function h(){g.removeListener("end",v),g.removeListener("error",b),g.removeListener("readable",s)}function v(){h(),a("onend"),c(new Error("Proxy connection ended before receiving CONNECT response"))}function b(O){h(),a("onerror %o",O),c(O)}function y(O){o.push(O),l+=O.length;const w=Buffer.concat(o,l),I=w.indexOf(`\r
\r
`);if(I===-1){a("have not received end of HTTP headers yet..."),s();return}const _=w.slice(0,I).toString("ascii").split(`\r
`),T=_.shift();if(!T)return g.destroy(),c(new Error("No header received from proxy CONNECT response"));const C=T.split(" "),N=+C[1],L=C.slice(2).join(" "),D={};for(const j of _){if(!j)continue;const k=j.indexOf(":");if(k===-1)return g.destroy(),c(new Error(`Invalid header from proxy CONNECT response: "${j}"`));const V=j.slice(0,k).toLowerCase(),G=j.slice(k+1).trimStart(),J=D[V];typeof J=="string"?D[V]=[J,G]:Array.isArray(J)?J.push(G):D[V]=G}a("got proxy server response: %o %o",T,D),h(),m({connect:{statusCode:N,statusText:L,headers:D},buffered:w})}g.on("error",b),g.on("end",v),s()})}return parseProxyResponse$1.parseProxyResponse=p,parseProxyResponse$1}var hasRequiredDist$3;function requireDist$3(){if(hasRequiredDist$3)return dist$4;hasRequiredDist$3=1;var e=dist$4&&dist$4.__createBinding||(Object.create?(function(I,_,T,C){C===void 0&&(C=T);var N=Object.getOwnPropertyDescriptor(_,T);(!N||("get"in N?!_.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return _[T]}}),Object.defineProperty(I,C,N)}):(function(I,_,T,C){C===void 0&&(C=T),I[C]=_[T]})),t=dist$4&&dist$4.__setModuleDefault||(Object.create?(function(I,_){Object.defineProperty(I,"default",{enumerable:!0,value:_})}):function(I,_){I.default=_}),a=dist$4&&dist$4.__importStar||function(I){if(I&&I.__esModule)return I;var _={};if(I!=null)for(var T in I)T!=="default"&&Object.prototype.hasOwnProperty.call(I,T)&&e(_,I,T);return t(_,I),_},p=dist$4&&dist$4.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(dist$4,"__esModule",{value:!0}),dist$4.HttpsProxyAgent=void 0;const g=a(require$$1$3),m=a(require$$1$3),c=p(require$$1$3),l=p(requireBrowser$2()),o=requireDist$4(),s=require$$1$3,h=requireParseProxyResponse$1(),v=(0,l.default)("https-proxy-agent"),b=I=>I.servername===void 0&&I.host&&!g.isIP(I.host)?{...I,servername:I.host}:I;class y extends o.Agent{constructor(_,T){super(T),this.options={path:void 0},this.proxy=typeof _=="string"?new s.URL(_):_,this.proxyHeaders=T?.headers??{},v("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const C=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),N=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...T?w(T,"headers"):null,host:C,port:N}}async connect(_,T){const{proxy:C}=this;if(!T.host)throw new TypeError('No "host" provided');let N;C.protocol==="https:"?(v("Creating `tls.Socket`: %o",this.connectOpts),N=m.connect(b(this.connectOpts))):(v("Creating `net.Socket`: %o",this.connectOpts),N=g.connect(this.connectOpts));const L=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},D=g.isIPv6(T.host)?`[${T.host}]`:T.host;let j=`CONNECT ${D}:${T.port} HTTP/1.1\r
`;if(C.username||C.password){const W=`${decodeURIComponent(C.username)}:${decodeURIComponent(C.password)}`;L["Proxy-Authorization"]=`Basic ${Buffer.from(W).toString("base64")}`}L.Host=`${D}:${T.port}`,L["Proxy-Connection"]||(L["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const W of Object.keys(L))j+=`${W}: ${L[W]}\r
`;const k=(0,h.parseProxyResponse)(N);N.write(`${j}\r
`);const{connect:V,buffered:G}=await k;if(_.emit("proxyConnect",V),this.emit("proxyConnect",V,_),V.statusCode===200)return _.once("socket",O),T.secureEndpoint?(v("Upgrading socket connection to TLS"),m.connect({...w(b(T),"host","path","port"),socket:N})):N;N.destroy();const J=new g.Socket({writable:!1});return J.readable=!0,_.once("socket",W=>{v("Replaying proxy buffer for failed request"),(0,c.default)(W.listenerCount("data")>0),W.push(G),W.push(null)}),J}}y.protocols=["http","https"],dist$4.HttpsProxyAgent=y;function O(I){I.resume()}function w(I,..._){const T={};let C;for(C in I)_.includes(C)||(T[C]=I[C]);return T}return dist$4}var hasRequiredGaxios;function requireGaxios(){if(hasRequiredGaxios)return gaxios;hasRequiredGaxios=1;var e={},t=gaxios&&gaxios.__createBinding||(Object.create?(function(oe,le,ee,se){se===void 0&&(se=ee);var de=Object.getOwnPropertyDescriptor(le,ee);(!de||("get"in de?!le.__esModule:de.writable||de.configurable))&&(de={enumerable:!0,get:function(){return le[ee]}}),Object.defineProperty(oe,se,de)}):(function(oe,le,ee,se){se===void 0&&(se=ee),oe[se]=le[ee]})),a=gaxios&&gaxios.__setModuleDefault||(Object.create?(function(oe,le){Object.defineProperty(oe,"default",{enumerable:!0,value:le})}):function(oe,le){oe.default=le}),p=gaxios&&gaxios.__importStar||function(oe){if(oe&&oe.__esModule)return oe;var le={};if(oe!=null)for(var ee in oe)ee!=="default"&&Object.prototype.hasOwnProperty.call(oe,ee)&&t(le,oe,ee);return a(le,oe),le},g=gaxios&&gaxios.__classPrivateFieldGet||function(oe,le,ee,se){if(ee==="a"&&!se)throw new TypeError("Private accessor was defined without a getter");if(typeof le=="function"?oe!==le||!se:!le.has(oe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ee==="m"?se:ee==="a"?se.call(oe):se?se.value:le.get(oe)},m=gaxios&&gaxios.__classPrivateFieldSet||function(oe,le,ee,se,de){if(se==="m")throw new TypeError("Private method is not writable");if(se==="a"&&!de)throw new TypeError("Private accessor was defined without a setter");if(typeof le=="function"?oe!==le||!de:!le.has(oe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return se==="a"?de.call(oe,ee):de?de.value=ee:le.set(oe,ee),ee},c=gaxios&&gaxios.__importDefault||function(oe){return oe&&oe.__esModule?oe:{default:oe}},l,o,s,h,v,b,y,O;Object.defineProperty(gaxios,"__esModule",{value:!0}),gaxios.Gaxios=void 0;const w=c(requireExtend()),I=require$$1$3,_=c(requireBrowser$3()),T=c(require$$1$3),C=c(requireIsStream()),N=require$$1$3,L=requireCommon$2(),D=requireRetry$2(),j=require$$1$3,k=requireCommonjsBrowser$2(),V=requireInterceptor$1(),G=W()?window.fetch:_.default;function J(){return typeof window<"u"&&!!window}function W(){return J()&&!!window.fetch}function K(){return typeof Buffer<"u"}function X(oe,le){return!!Y(oe,le)}function Y(oe,le){le=le.toLowerCase();for(const ee of Object.keys(oe?.headers||{}))if(le===ee.toLowerCase())return oe.headers[ee]}class te{constructor(le){l.add(this),this.agentCache=new Map,this.defaults=le||{},this.interceptors={request:new V.GaxiosInterceptorManager,response:new V.GaxiosInterceptorManager}}async request(le={}){return le=await g(this,l,"m",b).call(this,le),le=await g(this,l,"m",h).call(this,le),g(this,l,"m",v).call(this,this._request(le))}async _defaultAdapter(le){const se=await(le.fetchImplementation||G)(le.url,le),de=await this.getResponseData(le,se);return this.translateResponse(le,se,de)}async _request(le={}){var ee;try{let se;if(le.adapter?se=await le.adapter(le,this._defaultAdapter.bind(this)):se=await this._defaultAdapter(le),!le.validateStatus(se.status)){if(le.responseType==="stream"){let de="";await new Promise(he=>{(se?.data).on("data",ge=>{de+=ge}),(se?.data).on("end",he)}),se.data=de}throw new L.GaxiosError(`Request failed with status code ${se.status}`,le,se)}return se}catch(se){const de=se instanceof L.GaxiosError?se:new L.GaxiosError(se.message,le,void 0,se),{shouldRetry:he,config:ge}=await(0,D.getRetryConfig)(de);if(he&&ge)return de.config.retryConfig.currentRetryAttempt=ge.retryConfig.currentRetryAttempt,le.retryConfig=(ee=de.config)===null||ee===void 0?void 0:ee.retryConfig,this._request(le);throw de}}async getResponseData(le,ee){switch(le.responseType){case"stream":return ee.body;case"json":{let se=await ee.text();try{se=JSON.parse(se)}catch{}return se}case"arraybuffer":return ee.arrayBuffer();case"blob":return ee.blob();case"text":return ee.text();default:return this.getResponseDataFromContentType(ee)}}validateStatus(le){return le>=200&&le<300}paramsSerializer(le){return T.default.stringify(le)}translateResponse(le,ee,se){const de={};return ee.headers.forEach((he,ge)=>{de[ge]=he}),{config:le,data:se,headers:de,status:ee.status,statusText:ee.statusText,request:{responseURL:ee.url}}}async getResponseDataFromContentType(le){let ee=le.headers.get("Content-Type");if(ee===null)return le.text();if(ee=ee.toLowerCase(),ee.includes("application/json")){let se=await le.text();try{se=JSON.parse(se)}catch{}return se}else return ee.match(/^text\//)?le.text():le.blob()}async*getMultipartRequest(le,ee){const se=`--${ee}--`;for(const de of le){const he=de.headers["Content-Type"]||"application/octet-stream";yield`--${ee}\r
Content-Type: ${he}\r
\r
`,typeof de.content=="string"?yield de.content:yield*de.content,yield`\r
`}yield se}}return gaxios.Gaxios=te,o=te,l=new WeakSet,s=function(le,ee=[]){var se,de;const he=new N.URL(le),ge=[...ee],me=((de=(se=e.NO_PROXY)!==null&&se!==void 0?se:e.no_proxy)===null||de===void 0?void 0:de.split(","))||[];for(const Oe of me)ge.push(Oe.trim());for(const Oe of ge)if(Oe instanceof RegExp){if(Oe.test(he.toString()))return!1}else if(Oe instanceof N.URL){if(Oe.origin===he.origin)return!1}else if(Oe.startsWith("*.")||Oe.startsWith(".")){const fe=Oe.replace(/^\*\./,".");if(he.hostname.endsWith(fe))return!1}else if(Oe===he.origin||Oe===he.hostname||Oe===he.href)return!1;return!0},h=async function(le){let ee=Promise.resolve(le);for(const se of this.interceptors.request.values())se&&(ee=ee.then(se.resolved,se.rejected));return ee},v=async function(le){let ee=Promise.resolve(le);for(const se of this.interceptors.response.values())se&&(ee=ee.then(se.resolved,se.rejected));return ee},b=async function(le){var ee,se,de,he;const ge=(0,w.default)(!0,{},this.defaults,le);if(!ge.url)throw new Error("URL is required.");const me=ge.baseUrl||ge.baseURL;if(me&&(ge.url=me.toString()+ge.url),ge.paramsSerializer=ge.paramsSerializer||this.paramsSerializer,ge.params&&Object.keys(ge.params).length>0){let _e=ge.paramsSerializer(ge.params);_e.startsWith("?")&&(_e=_e.slice(1));const Ee=ge.url.toString().includes("?")?"&":"?";ge.url=ge.url+Ee+_e}if(typeof le.maxContentLength=="number"&&(ge.size=le.maxContentLength),typeof le.maxRedirects=="number"&&(ge.follow=le.maxRedirects),ge.headers=ge.headers||{},ge.multipart===void 0&&ge.data){const _e=typeof FormData>"u"?!1:ge?.data instanceof FormData;C.default.readable(ge.data)?ge.body=ge.data:K()&&Buffer.isBuffer(ge.data)?(ge.body=ge.data,X(ge,"Content-Type")||(ge.headers["Content-Type"]="application/json")):typeof ge.data=="object"?_e||(Y(ge,"content-type")==="application/x-www-form-urlencoded"?ge.body=ge.paramsSerializer(ge.data):(X(ge,"Content-Type")||(ge.headers["Content-Type"]="application/json"),ge.body=JSON.stringify(ge.data))):ge.body=ge.data}else if(ge.multipart&&ge.multipart.length>0){const _e=(0,k.v4)();ge.headers["Content-Type"]=`multipart/related; boundary=${_e}`;const Ee=new j.PassThrough;ge.body=Ee,(0,j.pipeline)(this.getMultipartRequest(ge.multipart,_e),Ee,()=>{})}ge.validateStatus=ge.validateStatus||this.validateStatus,ge.responseType=ge.responseType||"unknown",!ge.headers.Accept&&ge.responseType==="json"&&(ge.headers.Accept="application/json"),ge.method=ge.method||"GET";const Oe=ge.proxy||((ee=process==null?void 0:e)===null||ee===void 0?void 0:ee.HTTPS_PROXY)||((se=process==null?void 0:e)===null||se===void 0?void 0:se.https_proxy)||((de=process==null?void 0:e)===null||de===void 0?void 0:de.HTTP_PROXY)||((he=process==null?void 0:e)===null||he===void 0?void 0:he.http_proxy),fe=g(this,l,"m",s).call(this,ge.url,ge.noProxy);if(!ge.agent)if(Oe&&fe){const _e=await g(o,o,"m",O).call(o);this.agentCache.has(Oe)?ge.agent=this.agentCache.get(Oe):(ge.agent=new _e(Oe,{cert:ge.cert,key:ge.key}),this.agentCache.set(Oe,ge.agent))}else ge.cert&&ge.key&&(this.agentCache.has(ge.key)?ge.agent=this.agentCache.get(ge.key):(ge.agent=new I.Agent({cert:ge.cert,key:ge.key}),this.agentCache.set(ge.key,ge.agent)));return typeof ge.errorRedactor!="function"&&ge.errorRedactor!==!1&&(ge.errorRedactor=L.defaultErrorRedactor),ge},O=async function(){return m(this,o,g(this,o,"f",y)||(await Promise.resolve().then(()=>p(requireDist$3()))).HttpsProxyAgent,"f",y),g(this,o,"f",y)},y={value:void 0},gaxios}var hasRequiredSrc$f;function requireSrc$f(){return hasRequiredSrc$f||(hasRequiredSrc$f=1,(function(e){var t=src$d&&src$d.__createBinding||(Object.create?(function(c,l,o,s){s===void 0&&(s=o);var h=Object.getOwnPropertyDescriptor(l,o);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[o]}}),Object.defineProperty(c,s,h)}):(function(c,l,o,s){s===void 0&&(s=o),c[s]=l[o]})),a=src$d&&src$d.__exportStar||function(c,l){for(var o in c)o!=="default"&&!Object.prototype.hasOwnProperty.call(l,o)&&t(l,c,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.Gaxios=e.GaxiosError=void 0,e.request=m;const p=requireGaxios();Object.defineProperty(e,"Gaxios",{enumerable:!0,get:function(){return p.Gaxios}});var g=requireCommon$2();Object.defineProperty(e,"GaxiosError",{enumerable:!0,get:function(){return g.GaxiosError}}),a(requireInterceptor$1(),e),e.instance=new p.Gaxios;async function m(c){return e.instance.request(c)}})(src$d)),src$d}var jsonBigint={exports:{}},stringify$3={exports:{}},bignumber$1={exports:{}},bignumber=bignumber$1.exports,hasRequiredBignumber;function requireBignumber(){return hasRequiredBignumber||(hasRequiredBignumber=1,(function(e){(function(t){var a,p=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,g=Math.ceil,m=Math.floor,c="[BigNumber Error] ",l=c+"Number primitive has more than 15 significant digits: ",o=1e14,s=14,h=9007199254740991,v=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],b=1e7,y=1e9;function O(D){var j,k,V,G=me.prototype={constructor:me,toString:null,valueOf:null},J=new me(1),W=20,K=4,X=-7,Y=21,te=-1e7,oe=1e7,le=!1,ee=1,se=0,de={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},he="0123456789abcdefghijklmnopqrstuvwxyz",ge=!0;function me(d,P){var A,$,ie,pe,ne,u,x,M,n=this;if(!(n instanceof me))return new me(d,P);if(P==null){if(d&&d._isBigNumber===!0){n.s=d.s,!d.c||d.e>oe?n.c=n.e=null:d.e<te?n.c=[n.e=0]:(n.e=d.e,n.c=d.c.slice());return}if((u=typeof d=="number")&&d*0==0){if(n.s=1/d<0?(d=-d,-1):1,d===~~d){for(pe=0,ne=d;ne>=10;ne/=10,pe++);pe>oe?n.c=n.e=null:(n.e=pe,n.c=[d]);return}M=String(d)}else{if(!p.test(M=String(d)))return V(n,M,u);n.s=M.charCodeAt(0)==45?(M=M.slice(1),-1):1}(pe=M.indexOf("."))>-1&&(M=M.replace(".","")),(ne=M.search(/e/i))>0?(pe<0&&(pe=ne),pe+=+M.slice(ne+1),M=M.substring(0,ne)):pe<0&&(pe=M.length)}else{if(T(P,2,he.length,"Base"),P==10&&ge)return n=new me(d),Ee(n,W+n.e+1,K);if(M=String(d),u=typeof d=="number"){if(d*0!=0)return V(n,M,u,P);if(n.s=1/d<0?(M=M.slice(1),-1):1,me.DEBUG&&M.replace(/^0\.0*|\./,"").length>15)throw Error(l+d)}else n.s=M.charCodeAt(0)===45?(M=M.slice(1),-1):1;for(A=he.slice(0,P),pe=ne=0,x=M.length;ne<x;ne++)if(A.indexOf($=M.charAt(ne))<0){if($=="."){if(ne>pe){pe=x;continue}}else if(!ie&&(M==M.toUpperCase()&&(M=M.toLowerCase())||M==M.toLowerCase()&&(M=M.toUpperCase()))){ie=!0,ne=-1,pe=0;continue}return V(n,String(d),u,P)}u=!1,M=k(M,P,10,n.s),(pe=M.indexOf("."))>-1?M=M.replace(".",""):pe=M.length}for(ne=0;M.charCodeAt(ne)===48;ne++);for(x=M.length;M.charCodeAt(--x)===48;);if(M=M.slice(ne,++x)){if(x-=ne,u&&me.DEBUG&&x>15&&(d>h||d!==m(d)))throw Error(l+n.s*d);if((pe=pe-ne-1)>oe)n.c=n.e=null;else if(pe<te)n.c=[n.e=0];else{if(n.e=pe,n.c=[],ne=(pe+1)%s,pe<0&&(ne+=s),ne<x){for(ne&&n.c.push(+M.slice(0,ne)),x-=s;ne<x;)n.c.push(+M.slice(ne,ne+=s));ne=s-(M=M.slice(ne)).length}else ne-=x;for(;ne--;M+="0");n.c.push(+M)}}else n.c=[n.e=0]}me.clone=O,me.ROUND_UP=0,me.ROUND_DOWN=1,me.ROUND_CEIL=2,me.ROUND_FLOOR=3,me.ROUND_HALF_UP=4,me.ROUND_HALF_DOWN=5,me.ROUND_HALF_EVEN=6,me.ROUND_HALF_CEIL=7,me.ROUND_HALF_FLOOR=8,me.EUCLID=9,me.config=me.set=function(d){var P,A;if(d!=null)if(typeof d=="object"){if(d.hasOwnProperty(P="DECIMAL_PLACES")&&(A=d[P],T(A,0,y,P),W=A),d.hasOwnProperty(P="ROUNDING_MODE")&&(A=d[P],T(A,0,8,P),K=A),d.hasOwnProperty(P="EXPONENTIAL_AT")&&(A=d[P],A&&A.pop?(T(A[0],-y,0,P),T(A[1],0,y,P),X=A[0],Y=A[1]):(T(A,-y,y,P),X=-(Y=A<0?-A:A))),d.hasOwnProperty(P="RANGE"))if(A=d[P],A&&A.pop)T(A[0],-y,-1,P),T(A[1],1,y,P),te=A[0],oe=A[1];else if(T(A,-y,y,P),A)te=-(oe=A<0?-A:A);else throw Error(c+P+" cannot be zero: "+A);if(d.hasOwnProperty(P="CRYPTO"))if(A=d[P],A===!!A)if(A)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))le=A;else throw le=!A,Error(c+"crypto unavailable");else le=A;else throw Error(c+P+" not true or false: "+A);if(d.hasOwnProperty(P="MODULO_MODE")&&(A=d[P],T(A,0,9,P),ee=A),d.hasOwnProperty(P="POW_PRECISION")&&(A=d[P],T(A,0,y,P),se=A),d.hasOwnProperty(P="FORMAT"))if(A=d[P],typeof A=="object")de=A;else throw Error(c+P+" not an object: "+A);if(d.hasOwnProperty(P="ALPHABET"))if(A=d[P],typeof A=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(A))ge=A.slice(0,10)=="0123456789",he=A;else throw Error(c+P+" invalid: "+A)}else throw Error(c+"Object expected: "+d);return{DECIMAL_PLACES:W,ROUNDING_MODE:K,EXPONENTIAL_AT:[X,Y],RANGE:[te,oe],CRYPTO:le,MODULO_MODE:ee,POW_PRECISION:se,FORMAT:de,ALPHABET:he}},me.isBigNumber=function(d){if(!d||d._isBigNumber!==!0)return!1;if(!me.DEBUG)return!0;var P,A,$=d.c,ie=d.e,pe=d.s;e:if({}.toString.call($)=="[object Array]"){if((pe===1||pe===-1)&&ie>=-y&&ie<=y&&ie===m(ie)){if($[0]===0){if(ie===0&&$.length===1)return!0;break e}if(P=(ie+1)%s,P<1&&(P+=s),String($[0]).length==P){for(P=0;P<$.length;P++)if(A=$[P],A<0||A>=o||A!==m(A))break e;if(A!==0)return!0}}}else if($===null&&ie===null&&(pe===null||pe===1||pe===-1))return!0;throw Error(c+"Invalid BigNumber: "+d)},me.maximum=me.max=function(){return fe(arguments,-1)},me.minimum=me.min=function(){return fe(arguments,1)},me.random=(function(){var d=9007199254740992,P=Math.random()*d&2097151?function(){return m(Math.random()*d)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(A){var $,ie,pe,ne,u,x=0,M=[],n=new me(J);if(A==null?A=W:T(A,0,y),ne=g(A/s),le)if(crypto.getRandomValues){for($=crypto.getRandomValues(new Uint32Array(ne*=2));x<ne;)u=$[x]*131072+($[x+1]>>>11),u>=9e15?(ie=crypto.getRandomValues(new Uint32Array(2)),$[x]=ie[0],$[x+1]=ie[1]):(M.push(u%1e14),x+=2);x=ne/2}else if(crypto.randomBytes){for($=crypto.randomBytes(ne*=7);x<ne;)u=($[x]&31)*281474976710656+$[x+1]*1099511627776+$[x+2]*4294967296+$[x+3]*16777216+($[x+4]<<16)+($[x+5]<<8)+$[x+6],u>=9e15?crypto.randomBytes(7).copy($,x):(M.push(u%1e14),x+=7);x=ne/7}else throw le=!1,Error(c+"crypto unavailable");if(!le)for(;x<ne;)u=P(),u<9e15&&(M[x++]=u%1e14);for(ne=M[--x],A%=s,ne&&A&&(u=v[s-A],M[x]=m(ne/u)*u);M[x]===0;M.pop(),x--);if(x<0)M=[pe=0];else{for(pe=-1;M[0]===0;M.splice(0,1),pe-=s);for(x=1,u=M[0];u>=10;u/=10,x++);x<s&&(pe-=s-x)}return n.e=pe,n.c=M,n}})(),me.sum=function(){for(var d=1,P=arguments,A=new me(P[0]);d<P.length;)A=A.plus(P[d++]);return A},k=(function(){var d="0123456789";function P(A,$,ie,pe){for(var ne,u=[0],x,M=0,n=A.length;M<n;){for(x=u.length;x--;u[x]*=$);for(u[0]+=pe.indexOf(A.charAt(M++)),ne=0;ne<u.length;ne++)u[ne]>ie-1&&(u[ne+1]==null&&(u[ne+1]=0),u[ne+1]+=u[ne]/ie|0,u[ne]%=ie)}return u.reverse()}return function(A,$,ie,pe,ne){var u,x,M,n,q,U,Q,ye,Ie=A.indexOf("."),je=W,ke=K;for(Ie>=0&&(n=se,se=0,A=A.replace(".",""),ye=new me($),U=ye.pow(A.length-Ie),se=n,ye.c=P(L(I(U.c),U.e,"0"),10,ie,d),ye.e=ye.c.length),Q=P(A,$,ie,ne?(u=he,d):(u=d,he)),M=n=Q.length;Q[--n]==0;Q.pop());if(!Q[0])return u.charAt(0);if(Ie<0?--M:(U.c=Q,U.e=M,U.s=pe,U=j(U,ye,je,ke,ie),Q=U.c,q=U.r,M=U.e),x=M+je+1,Ie=Q[x],n=ie/2,q=q||x<0||Q[x+1]!=null,q=ke<4?(Ie!=null||q)&&(ke==0||ke==(U.s<0?3:2)):Ie>n||Ie==n&&(ke==4||q||ke==6&&Q[x-1]&1||ke==(U.s<0?8:7)),x<1||!Q[0])A=q?L(u.charAt(1),-je,u.charAt(0)):u.charAt(0);else{if(Q.length=x,q)for(--ie;++Q[--x]>ie;)Q[x]=0,x||(++M,Q=[1].concat(Q));for(n=Q.length;!Q[--n];);for(Ie=0,A="";Ie<=n;A+=u.charAt(Q[Ie++]));A=L(A,M,u.charAt(0))}return A}})(),j=(function(){function d($,ie,pe){var ne,u,x,M,n=0,q=$.length,U=ie%b,Q=ie/b|0;for($=$.slice();q--;)x=$[q]%b,M=$[q]/b|0,ne=Q*x+M*U,u=U*x+ne%b*b+n,n=(u/pe|0)+(ne/b|0)+Q*M,$[q]=u%pe;return n&&($=[n].concat($)),$}function P($,ie,pe,ne){var u,x;if(pe!=ne)x=pe>ne?1:-1;else for(u=x=0;u<pe;u++)if($[u]!=ie[u]){x=$[u]>ie[u]?1:-1;break}return x}function A($,ie,pe,ne){for(var u=0;pe--;)$[pe]-=u,u=$[pe]<ie[pe]?1:0,$[pe]=u*ne+$[pe]-ie[pe];for(;!$[0]&&$.length>1;$.splice(0,1));}return function($,ie,pe,ne,u){var x,M,n,q,U,Q,ye,Ie,je,ke,ze,it,dt,_t,St,lt,Ve,Me=$.s==ie.s?1:-1,$e=$.c,Je=ie.c;if(!$e||!$e[0]||!Je||!Je[0])return new me(!$.s||!ie.s||($e?Je&&$e[0]==Je[0]:!Je)?NaN:$e&&$e[0]==0||!Je?Me*0:Me/0);for(Ie=new me(Me),je=Ie.c=[],M=$.e-ie.e,Me=pe+M+1,u||(u=o,M=w($.e/s)-w(ie.e/s),Me=Me/s|0),n=0;Je[n]==($e[n]||0);n++);if(Je[n]>($e[n]||0)&&M--,Me<0)je.push(1),q=!0;else{for(_t=$e.length,lt=Je.length,n=0,Me+=2,U=m(u/(Je[0]+1)),U>1&&(Je=d(Je,U,u),$e=d($e,U,u),lt=Je.length,_t=$e.length),dt=lt,ke=$e.slice(0,lt),ze=ke.length;ze<lt;ke[ze++]=0);Ve=Je.slice(),Ve=[0].concat(Ve),St=Je[0],Je[1]>=u/2&&St++;do{if(U=0,x=P(Je,ke,lt,ze),x<0){if(it=ke[0],lt!=ze&&(it=it*u+(ke[1]||0)),U=m(it/St),U>1)for(U>=u&&(U=u-1),Q=d(Je,U,u),ye=Q.length,ze=ke.length;P(Q,ke,ye,ze)==1;)U--,A(Q,lt<ye?Ve:Je,ye,u),ye=Q.length,x=1;else U==0&&(x=U=1),Q=Je.slice(),ye=Q.length;if(ye<ze&&(Q=[0].concat(Q)),A(ke,Q,ze,u),ze=ke.length,x==-1)for(;P(Je,ke,lt,ze)<1;)U++,A(ke,lt<ze?Ve:Je,ze,u),ze=ke.length}else x===0&&(U++,ke=[0]);je[n++]=U,ke[0]?ke[ze++]=$e[dt]||0:(ke=[$e[dt]],ze=1)}while((dt++<_t||ke[0]!=null)&&Me--);q=ke[0]!=null,je[0]||je.splice(0,1)}if(u==o){for(n=1,Me=je[0];Me>=10;Me/=10,n++);Ee(Ie,pe+(Ie.e=n+M*s-1)+1,ne,q)}else Ie.e=M,Ie.r=+q;return Ie}})();function Oe(d,P,A,$){var ie,pe,ne,u,x;if(A==null?A=K:T(A,0,8),!d.c)return d.toString();if(ie=d.c[0],ne=d.e,P==null)x=I(d.c),x=$==1||$==2&&(ne<=X||ne>=Y)?N(x,ne):L(x,ne,"0");else if(d=Ee(new me(d),P,A),pe=d.e,x=I(d.c),u=x.length,$==1||$==2&&(P<=pe||pe<=X)){for(;u<P;x+="0",u++);x=N(x,pe)}else if(P-=ne+($===2&&pe>ne),x=L(x,pe,"0"),pe+1>u){if(--P>0)for(x+=".";P--;x+="0");}else if(P+=pe-u,P>0)for(pe+1==u&&(x+=".");P--;x+="0");return d.s<0&&ie?"-"+x:x}function fe(d,P){for(var A,$,ie=1,pe=new me(d[0]);ie<d.length;ie++)$=new me(d[ie]),(!$.s||(A=_(pe,$))===P||A===0&&pe.s===P)&&(pe=$);return pe}function _e(d,P,A){for(var $=1,ie=P.length;!P[--ie];P.pop());for(ie=P[0];ie>=10;ie/=10,$++);return(A=$+A*s-1)>oe?d.c=d.e=null:A<te?d.c=[d.e=0]:(d.e=A,d.c=P),d}V=(function(){var d=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,A=/^\.([^.]+)$/,$=/^-?(Infinity|NaN)$/,ie=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(pe,ne,u,x){var M,n=u?ne:ne.replace(ie,"");if($.test(n))pe.s=isNaN(n)?null:n<0?-1:1;else{if(!u&&(n=n.replace(d,function(q,U,Q){return M=(Q=Q.toLowerCase())=="x"?16:Q=="b"?2:8,!x||x==M?U:q}),x&&(M=x,n=n.replace(P,"$1").replace(A,"0.$1")),ne!=n))return new me(n,M);if(me.DEBUG)throw Error(c+"Not a"+(x?" base "+x:"")+" number: "+ne);pe.s=null}pe.c=pe.e=null}})();function Ee(d,P,A,$){var ie,pe,ne,u,x,M,n,q=d.c,U=v;if(q){e:{for(ie=1,u=q[0];u>=10;u/=10,ie++);if(pe=P-ie,pe<0)pe+=s,ne=P,x=q[M=0],n=m(x/U[ie-ne-1]%10);else if(M=g((pe+1)/s),M>=q.length)if($){for(;q.length<=M;q.push(0));x=n=0,ie=1,pe%=s,ne=pe-s+1}else break e;else{for(x=u=q[M],ie=1;u>=10;u/=10,ie++);pe%=s,ne=pe-s+ie,n=ne<0?0:m(x/U[ie-ne-1]%10)}if($=$||P<0||q[M+1]!=null||(ne<0?x:x%U[ie-ne-1]),$=A<4?(n||$)&&(A==0||A==(d.s<0?3:2)):n>5||n==5&&(A==4||$||A==6&&(pe>0?ne>0?x/U[ie-ne]:0:q[M-1])%10&1||A==(d.s<0?8:7)),P<1||!q[0])return q.length=0,$?(P-=d.e+1,q[0]=U[(s-P%s)%s],d.e=-P||0):q[0]=d.e=0,d;if(pe==0?(q.length=M,u=1,M--):(q.length=M+1,u=U[s-pe],q[M]=ne>0?m(x/U[ie-ne]%U[ne])*u:0),$)for(;;)if(M==0){for(pe=1,ne=q[0];ne>=10;ne/=10,pe++);for(ne=q[0]+=u,u=1;ne>=10;ne/=10,u++);pe!=u&&(d.e++,q[0]==o&&(q[0]=1));break}else{if(q[M]+=u,q[M]!=o)break;q[M--]=0,u=1}for(pe=q.length;q[--pe]===0;q.pop());}d.e>oe?d.c=d.e=null:d.e<te&&(d.c=[d.e=0])}return d}function z(d){var P,A=d.e;return A===null?d.toString():(P=I(d.c),P=A<=X||A>=Y?N(P,A):L(P,A,"0"),d.s<0?"-"+P:P)}return G.absoluteValue=G.abs=function(){var d=new me(this);return d.s<0&&(d.s=1),d},G.comparedTo=function(d,P){return _(this,new me(d,P))},G.decimalPlaces=G.dp=function(d,P){var A,$,ie,pe=this;if(d!=null)return T(d,0,y),P==null?P=K:T(P,0,8),Ee(new me(pe),d+pe.e+1,P);if(!(A=pe.c))return null;if($=((ie=A.length-1)-w(this.e/s))*s,ie=A[ie])for(;ie%10==0;ie/=10,$--);return $<0&&($=0),$},G.dividedBy=G.div=function(d,P){return j(this,new me(d,P),W,K)},G.dividedToIntegerBy=G.idiv=function(d,P){return j(this,new me(d,P),0,1)},G.exponentiatedBy=G.pow=function(d,P){var A,$,ie,pe,ne,u,x,M,n,q=this;if(d=new me(d),d.c&&!d.isInteger())throw Error(c+"Exponent not an integer: "+z(d));if(P!=null&&(P=new me(P)),u=d.e>14,!q.c||!q.c[0]||q.c[0]==1&&!q.e&&q.c.length==1||!d.c||!d.c[0])return n=new me(Math.pow(+z(q),u?d.s*(2-C(d)):+z(d))),P?n.mod(P):n;if(x=d.s<0,P){if(P.c?!P.c[0]:!P.s)return new me(NaN);$=!x&&q.isInteger()&&P.isInteger(),$&&(q=q.mod(P))}else{if(d.e>9&&(q.e>0||q.e<-1||(q.e==0?q.c[0]>1||u&&q.c[1]>=24e7:q.c[0]<8e13||u&&q.c[0]<=9999975e7)))return pe=q.s<0&&C(d)?-0:0,q.e>-1&&(pe=1/pe),new me(x?1/pe:pe);se&&(pe=g(se/s+2))}for(u?(A=new me(.5),x&&(d.s=1),M=C(d)):(ie=Math.abs(+z(d)),M=ie%2),n=new me(J);;){if(M){if(n=n.times(q),!n.c)break;pe?n.c.length>pe&&(n.c.length=pe):$&&(n=n.mod(P))}if(ie){if(ie=m(ie/2),ie===0)break;M=ie%2}else if(d=d.times(A),Ee(d,d.e+1,1),d.e>14)M=C(d);else{if(ie=+z(d),ie===0)break;M=ie%2}q=q.times(q),pe?q.c&&q.c.length>pe&&(q.c.length=pe):$&&(q=q.mod(P))}return $?n:(x&&(n=J.div(n)),P?n.mod(P):pe?Ee(n,se,K,ne):n)},G.integerValue=function(d){var P=new me(this);return d==null?d=K:T(d,0,8),Ee(P,P.e+1,d)},G.isEqualTo=G.eq=function(d,P){return _(this,new me(d,P))===0},G.isFinite=function(){return!!this.c},G.isGreaterThan=G.gt=function(d,P){return _(this,new me(d,P))>0},G.isGreaterThanOrEqualTo=G.gte=function(d,P){return(P=_(this,new me(d,P)))===1||P===0},G.isInteger=function(){return!!this.c&&w(this.e/s)>this.c.length-2},G.isLessThan=G.lt=function(d,P){return _(this,new me(d,P))<0},G.isLessThanOrEqualTo=G.lte=function(d,P){return(P=_(this,new me(d,P)))===-1||P===0},G.isNaN=function(){return!this.s},G.isNegative=function(){return this.s<0},G.isPositive=function(){return this.s>0},G.isZero=function(){return!!this.c&&this.c[0]==0},G.minus=function(d,P){var A,$,ie,pe,ne=this,u=ne.s;if(d=new me(d,P),P=d.s,!u||!P)return new me(NaN);if(u!=P)return d.s=-P,ne.plus(d);var x=ne.e/s,M=d.e/s,n=ne.c,q=d.c;if(!x||!M){if(!n||!q)return n?(d.s=-P,d):new me(q?ne:NaN);if(!n[0]||!q[0])return q[0]?(d.s=-P,d):new me(n[0]?ne:K==3?-0:0)}if(x=w(x),M=w(M),n=n.slice(),u=x-M){for((pe=u<0)?(u=-u,ie=n):(M=x,ie=q),ie.reverse(),P=u;P--;ie.push(0));ie.reverse()}else for($=(pe=(u=n.length)<(P=q.length))?u:P,u=P=0;P<$;P++)if(n[P]!=q[P]){pe=n[P]<q[P];break}if(pe&&(ie=n,n=q,q=ie,d.s=-d.s),P=($=q.length)-(A=n.length),P>0)for(;P--;n[A++]=0);for(P=o-1;$>u;){if(n[--$]<q[$]){for(A=$;A&&!n[--A];n[A]=P);--n[A],n[$]+=o}n[$]-=q[$]}for(;n[0]==0;n.splice(0,1),--M);return n[0]?_e(d,n,M):(d.s=K==3?-1:1,d.c=[d.e=0],d)},G.modulo=G.mod=function(d,P){var A,$,ie=this;return d=new me(d,P),!ie.c||!d.s||d.c&&!d.c[0]?new me(NaN):!d.c||ie.c&&!ie.c[0]?new me(ie):(ee==9?($=d.s,d.s=1,A=j(ie,d,0,3),d.s=$,A.s*=$):A=j(ie,d,0,ee),d=ie.minus(A.times(d)),!d.c[0]&&ee==1&&(d.s=ie.s),d)},G.multipliedBy=G.times=function(d,P){var A,$,ie,pe,ne,u,x,M,n,q,U,Q,ye,Ie,je,ke=this,ze=ke.c,it=(d=new me(d,P)).c;if(!ze||!it||!ze[0]||!it[0])return!ke.s||!d.s||ze&&!ze[0]&&!it||it&&!it[0]&&!ze?d.c=d.e=d.s=null:(d.s*=ke.s,!ze||!it?d.c=d.e=null:(d.c=[0],d.e=0)),d;for($=w(ke.e/s)+w(d.e/s),d.s*=ke.s,x=ze.length,q=it.length,x<q&&(ye=ze,ze=it,it=ye,ie=x,x=q,q=ie),ie=x+q,ye=[];ie--;ye.push(0));for(Ie=o,je=b,ie=q;--ie>=0;){for(A=0,U=it[ie]%je,Q=it[ie]/je|0,ne=x,pe=ie+ne;pe>ie;)M=ze[--ne]%je,n=ze[ne]/je|0,u=Q*M+n*U,M=U*M+u%je*je+ye[pe]+A,A=(M/Ie|0)+(u/je|0)+Q*n,ye[pe--]=M%Ie;ye[pe]=A}return A?++$:ye.splice(0,1),_e(d,ye,$)},G.negated=function(){var d=new me(this);return d.s=-d.s||null,d},G.plus=function(d,P){var A,$=this,ie=$.s;if(d=new me(d,P),P=d.s,!ie||!P)return new me(NaN);if(ie!=P)return d.s=-P,$.minus(d);var pe=$.e/s,ne=d.e/s,u=$.c,x=d.c;if(!pe||!ne){if(!u||!x)return new me(ie/0);if(!u[0]||!x[0])return x[0]?d:new me(u[0]?$:ie*0)}if(pe=w(pe),ne=w(ne),u=u.slice(),ie=pe-ne){for(ie>0?(ne=pe,A=x):(ie=-ie,A=u),A.reverse();ie--;A.push(0));A.reverse()}for(ie=u.length,P=x.length,ie-P<0&&(A=x,x=u,u=A,P=ie),ie=0;P;)ie=(u[--P]=u[P]+x[P]+ie)/o|0,u[P]=o===u[P]?0:u[P]%o;return ie&&(u=[ie].concat(u),++ne),_e(d,u,ne)},G.precision=G.sd=function(d,P){var A,$,ie,pe=this;if(d!=null&&d!==!!d)return T(d,1,y),P==null?P=K:T(P,0,8),Ee(new me(pe),d,P);if(!(A=pe.c))return null;if(ie=A.length-1,$=ie*s+1,ie=A[ie]){for(;ie%10==0;ie/=10,$--);for(ie=A[0];ie>=10;ie/=10,$++);}return d&&pe.e+1>$&&($=pe.e+1),$},G.shiftedBy=function(d){return T(d,-h,h),this.times("1e"+d)},G.squareRoot=G.sqrt=function(){var d,P,A,$,ie,pe=this,ne=pe.c,u=pe.s,x=pe.e,M=W+4,n=new me("0.5");if(u!==1||!ne||!ne[0])return new me(!u||u<0&&(!ne||ne[0])?NaN:ne?pe:1/0);if(u=Math.sqrt(+z(pe)),u==0||u==1/0?(P=I(ne),(P.length+x)%2==0&&(P+="0"),u=Math.sqrt(+P),x=w((x+1)/2)-(x<0||x%2),u==1/0?P="5e"+x:(P=u.toExponential(),P=P.slice(0,P.indexOf("e")+1)+x),A=new me(P)):A=new me(u+""),A.c[0]){for(x=A.e,u=x+M,u<3&&(u=0);;)if(ie=A,A=n.times(ie.plus(j(pe,ie,M,1))),I(ie.c).slice(0,u)===(P=I(A.c)).slice(0,u))if(A.e<x&&--u,P=P.slice(u-3,u+1),P=="9999"||!$&&P=="4999"){if(!$&&(Ee(ie,ie.e+W+2,0),ie.times(ie).eq(pe))){A=ie;break}M+=4,u+=4,$=1}else{(!+P||!+P.slice(1)&&P.charAt(0)=="5")&&(Ee(A,A.e+W+2,1),d=!A.times(A).eq(pe));break}}return Ee(A,A.e+W+1,K,d)},G.toExponential=function(d,P){return d!=null&&(T(d,0,y),d++),Oe(this,d,P,1)},G.toFixed=function(d,P){return d!=null&&(T(d,0,y),d=d+this.e+1),Oe(this,d,P)},G.toFormat=function(d,P,A){var $,ie=this;if(A==null)d!=null&&P&&typeof P=="object"?(A=P,P=null):d&&typeof d=="object"?(A=d,d=P=null):A=de;else if(typeof A!="object")throw Error(c+"Argument not an object: "+A);if($=ie.toFixed(d,P),ie.c){var pe,ne=$.split("."),u=+A.groupSize,x=+A.secondaryGroupSize,M=A.groupSeparator||"",n=ne[0],q=ne[1],U=ie.s<0,Q=U?n.slice(1):n,ye=Q.length;if(x&&(pe=u,u=x,x=pe,ye-=pe),u>0&&ye>0){for(pe=ye%u||u,n=Q.substr(0,pe);pe<ye;pe+=u)n+=M+Q.substr(pe,u);x>0&&(n+=M+Q.slice(pe)),U&&(n="-"+n)}$=q?n+(A.decimalSeparator||"")+((x=+A.fractionGroupSize)?q.replace(new RegExp("\\d{"+x+"}\\B","g"),"$&"+(A.fractionGroupSeparator||"")):q):n}return(A.prefix||"")+$+(A.suffix||"")},G.toFraction=function(d){var P,A,$,ie,pe,ne,u,x,M,n,q,U,Q=this,ye=Q.c;if(d!=null&&(u=new me(d),!u.isInteger()&&(u.c||u.s!==1)||u.lt(J)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+z(u));if(!ye)return new me(Q);for(P=new me(J),M=A=new me(J),$=x=new me(J),U=I(ye),pe=P.e=U.length-Q.e-1,P.c[0]=v[(ne=pe%s)<0?s+ne:ne],d=!d||u.comparedTo(P)>0?pe>0?P:M:u,ne=oe,oe=1/0,u=new me(U),x.c[0]=0;n=j(u,P,0,1),ie=A.plus(n.times($)),ie.comparedTo(d)!=1;)A=$,$=ie,M=x.plus(n.times(ie=M)),x=ie,P=u.minus(n.times(ie=P)),u=ie;return ie=j(d.minus(A),$,0,1),x=x.plus(ie.times(M)),A=A.plus(ie.times($)),x.s=M.s=Q.s,pe=pe*2,q=j(M,$,pe,K).minus(Q).abs().comparedTo(j(x,A,pe,K).minus(Q).abs())<1?[M,$]:[x,A],oe=ne,q},G.toNumber=function(){return+z(this)},G.toPrecision=function(d,P){return d!=null&&T(d,1,y),Oe(this,d,P,2)},G.toString=function(d){var P,A=this,$=A.s,ie=A.e;return ie===null?$?(P="Infinity",$<0&&(P="-"+P)):P="NaN":(d==null?P=ie<=X||ie>=Y?N(I(A.c),ie):L(I(A.c),ie,"0"):d===10&&ge?(A=Ee(new me(A),W+ie+1,K),P=L(I(A.c),A.e,"0")):(T(d,2,he.length,"Base"),P=k(L(I(A.c),ie,"0"),10,d,$,!0)),$<0&&A.c[0]&&(P="-"+P)),P},G.valueOf=G.toJSON=function(){return z(this)},G._isBigNumber=!0,D!=null&&me.set(D),me}function w(D){var j=D|0;return D>0||D===j?j:j-1}function I(D){for(var j,k,V=1,G=D.length,J=D[0]+"";V<G;){for(j=D[V++]+"",k=s-j.length;k--;j="0"+j);J+=j}for(G=J.length;J.charCodeAt(--G)===48;);return J.slice(0,G+1||1)}function _(D,j){var k,V,G=D.c,J=j.c,W=D.s,K=j.s,X=D.e,Y=j.e;if(!W||!K)return null;if(k=G&&!G[0],V=J&&!J[0],k||V)return k?V?0:-K:W;if(W!=K)return W;if(k=W<0,V=X==Y,!G||!J)return V?0:!G^k?1:-1;if(!V)return X>Y^k?1:-1;for(K=(X=G.length)<(Y=J.length)?X:Y,W=0;W<K;W++)if(G[W]!=J[W])return G[W]>J[W]^k?1:-1;return X==Y?0:X>Y^k?1:-1}function T(D,j,k,V){if(D<j||D>k||D!==m(D))throw Error(c+(V||"Argument")+(typeof D=="number"?D<j||D>k?" out of range: ":" not an integer: ":" not a primitive number: ")+String(D))}function C(D){var j=D.c.length-1;return w(D.e/s)==j&&D.c[j]%2!=0}function N(D,j){return(D.length>1?D.charAt(0)+"."+D.slice(1):D)+(j<0?"e":"e+")+j}function L(D,j,k){var V,G;if(j<0){for(G=k+".";++j;G+=k);D=G+D}else if(V=D.length,++j>V){for(G=k,j-=V;--j;G+=k);D+=G}else j<V&&(D=D.slice(0,j)+"."+D.slice(j));return D}a=O(),a.default=a.BigNumber=a,e.exports?e.exports=a:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=a)})(bignumber)})(bignumber$1)),bignumber$1.exports}var hasRequiredStringify$2;function requireStringify$2(){return hasRequiredStringify$2||(hasRequiredStringify$2=1,(function(e){var t=requireBignumber(),a=e.exports;(function(){var p=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,m,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;function o(h){return p.lastIndex=0,p.test(h)?'"'+h.replace(p,function(v){var b=c[v];return typeof b=="string"?b:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+h+'"'}function s(h,v){var b,y,O,w,I=g,_,T=v[h],C=T!=null&&(T instanceof t||t.isBigNumber(T));switch(T&&typeof T=="object"&&typeof T.toJSON=="function"&&(T=T.toJSON(h)),typeof l=="function"&&(T=l.call(v,h,T)),typeof T){case"string":return C?T:o(T);case"number":return isFinite(T)?String(T):"null";case"boolean":case"null":case"bigint":return String(T);case"object":if(!T)return"null";if(g+=m,_=[],Object.prototype.toString.apply(T)==="[object Array]"){for(w=T.length,b=0;b<w;b+=1)_[b]=s(b,T)||"null";return O=_.length===0?"[]":g?`[
`+g+_.join(`,
`+g)+`
`+I+"]":"["+_.join(",")+"]",g=I,O}if(l&&typeof l=="object")for(w=l.length,b=0;b<w;b+=1)typeof l[b]=="string"&&(y=l[b],O=s(y,T),O&&_.push(o(y)+(g?": ":":")+O));else Object.keys(T).forEach(function(N){var L=s(N,T);L&&_.push(o(N)+(g?": ":":")+L)});return O=_.length===0?"{}":g?`{
`+g+_.join(`,
`+g)+`
`+I+"}":"{"+_.join(",")+"}",g=I,O}}typeof a.stringify!="function"&&(a.stringify=function(h,v,b){var y;if(g="",m="",typeof b=="number")for(y=0;y<b;y+=1)m+=" ";else typeof b=="string"&&(m=b);if(l=v,v&&typeof v!="function"&&(typeof v!="object"||typeof v.length!="number"))throw new Error("JSON.stringify");return s("",{"":h})})})()})(stringify$3)),stringify$3.exports}var parse$4,hasRequiredParse$4;function requireParse$4(){if(hasRequiredParse$4)return parse$4;hasRequiredParse$4=1;var e=null;const t=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,a=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var p=function(g){var m={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(g!=null){if(g.strict===!0&&(m.strict=!0),g.storeAsString===!0&&(m.storeAsString=!0),m.alwaysParseAsBig=g.alwaysParseAsBig===!0?g.alwaysParseAsBig:!1,m.useNativeBigInt=g.useNativeBigInt===!0?g.useNativeBigInt:!1,typeof g.constructorAction<"u")if(g.constructorAction==="error"||g.constructorAction==="ignore"||g.constructorAction==="preserve")m.constructorAction=g.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${g.constructorAction}`);if(typeof g.protoAction<"u")if(g.protoAction==="error"||g.protoAction==="ignore"||g.protoAction==="preserve")m.protoAction=g.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${g.protoAction}`)}var c,l,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},s,h=function(C){throw{name:"SyntaxError",message:C,at:c,text:s}},v=function(C){return C&&C!==l&&h("Expected '"+C+"' instead of '"+l+"'"),l=s.charAt(c),c+=1,l},b=function(){var C,N="";for(l==="-"&&(N="-",v("-"));l>="0"&&l<="9";)N+=l,v();if(l===".")for(N+=".";v()&&l>="0"&&l<="9";)N+=l;if(l==="e"||l==="E")for(N+=l,v(),(l==="-"||l==="+")&&(N+=l,v());l>="0"&&l<="9";)N+=l,v();if(C=+N,!isFinite(C))h("Bad number");else return e==null&&(e=requireBignumber()),N.length>15?m.storeAsString?N:m.useNativeBigInt?BigInt(N):new e(N):m.alwaysParseAsBig?m.useNativeBigInt?BigInt(C):new e(C):C},y=function(){var C,N,L="",D;if(l==='"')for(var j=c;v();){if(l==='"')return c-1>j&&(L+=s.substring(j,c-1)),v(),L;if(l==="\\"){if(c-1>j&&(L+=s.substring(j,c-1)),v(),l==="u"){for(D=0,N=0;N<4&&(C=parseInt(v(),16),!!isFinite(C));N+=1)D=D*16+C;L+=String.fromCharCode(D)}else if(typeof o[l]=="string")L+=o[l];else break;j=c}}h("Bad string")},O=function(){for(;l&&l<=" ";)v()},w=function(){switch(l){case"t":return v("t"),v("r"),v("u"),v("e"),!0;case"f":return v("f"),v("a"),v("l"),v("s"),v("e"),!1;case"n":return v("n"),v("u"),v("l"),v("l"),null}h("Unexpected '"+l+"'")},I,_=function(){var C=[];if(l==="["){if(v("["),O(),l==="]")return v("]"),C;for(;l;){if(C.push(I()),O(),l==="]")return v("]"),C;v(","),O()}}h("Bad array")},T=function(){var C,N=Object.create(null);if(l==="{"){if(v("{"),O(),l==="}")return v("}"),N;for(;l;){if(C=y(),O(),v(":"),m.strict===!0&&Object.hasOwnProperty.call(N,C)&&h('Duplicate key "'+C+'"'),t.test(C)===!0?m.protoAction==="error"?h("Object contains forbidden prototype property"):m.protoAction==="ignore"?I():N[C]=I():a.test(C)===!0?m.constructorAction==="error"?h("Object contains forbidden constructor property"):m.constructorAction==="ignore"?I():N[C]=I():N[C]=I(),O(),l==="}")return v("}"),N;v(","),O()}}h("Bad object")};return I=function(){switch(O(),l){case"{":return T();case"[":return _();case'"':return y();case"-":return b();default:return l>="0"&&l<="9"?b():w()}},function(C,N){var L;return s=C+"",c=0,l=" ",L=I(),O(),l&&h("Syntax error"),typeof N=="function"?(function D(j,k){var V,G=j[k];return G&&typeof G=="object"&&Object.keys(G).forEach(function(J){V=D(G,J),V!==void 0?G[J]=V:delete G[J]}),N.call(j,k,G)})({"":L},""):L}};return parse$4=p,parse$4}var hasRequiredJsonBigint;function requireJsonBigint(){if(hasRequiredJsonBigint)return jsonBigint.exports;hasRequiredJsonBigint=1;var e=requireStringify$2().stringify,t=requireParse$4();return jsonBigint.exports=function(a){return{parse:t(a),stringify:e}},jsonBigint.exports.parse=t(),jsonBigint.exports.stringify=e,jsonBigint.exports}var gcpResidency={},hasRequiredGcpResidency;function requireGcpResidency(){return hasRequiredGcpResidency||(hasRequiredGcpResidency=1,(function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0}),e.GCE_LINUX_BIOS_PATHS=void 0,e.isGoogleCloudServerless=m,e.isGoogleComputeEngineLinux=c,e.isGoogleComputeEngineMACAddress=l,e.isGoogleComputeEngine=o,e.detectGCPResidency=s;const a=require$$1$3,p=require$$1$3;e.GCE_LINUX_BIOS_PATHS={BIOS_DATE:"/sys/class/dmi/id/bios_date",BIOS_VENDOR:"/sys/class/dmi/id/bios_vendor"};const g=/^42:01/;function m(){return!!(t.CLOUD_RUN_JOB||t.FUNCTION_NAME||t.K_SERVICE)}function c(){if((0,p.platform)()!=="linux")return!1;try{(0,a.statSync)(e.GCE_LINUX_BIOS_PATHS.BIOS_DATE);const h=(0,a.readFileSync)(e.GCE_LINUX_BIOS_PATHS.BIOS_VENDOR,"utf8");return/Google/.test(h)}catch{return!1}}function l(){const h=(0,p.networkInterfaces)();for(const v of Object.values(h))if(v){for(const{mac:b}of v)if(g.test(b))return!0}return!1}function o(){return c()||l()}function s(){return m()||o()}})(gcpResidency)),gcpResidency}var src$c={},loggingUtils={},colours={},hasRequiredColours;function requireColours(){if(hasRequiredColours)return colours;hasRequiredColours=1,Object.defineProperty(colours,"__esModule",{value:!0}),colours.Colours=void 0;class e{static isEnabled(a){return a.isTTY&&(typeof a.getColorDepth=="function"?a.getColorDepth()>2:!0)}static refresh(){e.enabled=e.isEnabled(process.stderr),this.enabled?(e.reset="\x1B[0m",e.bright="\x1B[1m",e.dim="\x1B[2m",e.red="\x1B[31m",e.green="\x1B[32m",e.yellow="\x1B[33m",e.blue="\x1B[34m",e.magenta="\x1B[35m",e.cyan="\x1B[36m",e.white="\x1B[37m",e.grey="\x1B[90m"):(e.reset="",e.bright="",e.dim="",e.red="",e.green="",e.yellow="",e.blue="",e.magenta="",e.cyan="",e.white="",e.grey="")}}return colours.Colours=e,e.enabled=!1,e.reset="",e.bright="",e.dim="",e.red="",e.green="",e.yellow="",e.blue="",e.magenta="",e.cyan="",e.white="",e.grey="",e.refresh(),colours}var hasRequiredLoggingUtils;function requireLoggingUtils(){return hasRequiredLoggingUtils||(hasRequiredLoggingUtils=1,(function(e){var t=loggingUtils&&loggingUtils.__createBinding||(Object.create?(function(L,D,j,k){k===void 0&&(k=j);var V=Object.getOwnPropertyDescriptor(D,j);(!V||("get"in V?!D.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return D[j]}}),Object.defineProperty(L,k,V)}):(function(L,D,j,k){k===void 0&&(k=j),L[k]=D[j]})),a=loggingUtils&&loggingUtils.__setModuleDefault||(Object.create?(function(L,D){Object.defineProperty(L,"default",{enumerable:!0,value:D})}):function(L,D){L.default=D}),p=loggingUtils&&loggingUtils.__importStar||function(L){if(L&&L.__esModule)return L;var D={};if(L!=null)for(var j in L)j!=="default"&&Object.prototype.hasOwnProperty.call(L,j)&&t(D,L,j);return a(D,L),D};Object.defineProperty(e,"__esModule",{value:!0}),e.env=e.DebugLogBackendBase=e.placeholder=e.AdhocDebugLogger=e.LogSeverity=void 0,e.getNodeBackend=b,e.getDebugBackend=O,e.getStructuredBackend=I,e.setBackend=C,e.log=N;const g=require$$1$3,m=p(require$$1$3),c=p(require$$1$3),l=requireColours();var o;(function(L){L.DEFAULT="DEFAULT",L.DEBUG="DEBUG",L.INFO="INFO",L.WARNING="WARNING",L.ERROR="ERROR"})(o||(e.LogSeverity=o={}));class s extends g.EventEmitter{constructor(D,j){super(),this.namespace=D,this.upstream=j,this.func=Object.assign(this.invoke.bind(this),{instance:this,on:(k,V)=>this.on(k,V)}),this.func.debug=(...k)=>this.invokeSeverity(o.DEBUG,...k),this.func.info=(...k)=>this.invokeSeverity(o.INFO,...k),this.func.warn=(...k)=>this.invokeSeverity(o.WARNING,...k),this.func.error=(...k)=>this.invokeSeverity(o.ERROR,...k),this.func.sublog=k=>N(k,this.func)}invoke(D,...j){this.upstream&&this.upstream(D,...j),this.emit("log",D,j)}invokeSeverity(D,...j){this.invoke({severity:D},...j)}}e.AdhocDebugLogger=s,e.placeholder=new s("",()=>{}).func;class h{constructor(){var D;this.cached=new Map,this.filters=[],this.filtersSet=!1;let j=(D=m.env[e.env.nodeEnables])!==null&&D!==void 0?D:"*";j==="all"&&(j="*"),this.filters=j.split(",")}log(D,j,...k){try{this.filtersSet||(this.setFilters(),this.filtersSet=!0);let V=this.cached.get(D);V||(V=this.makeLogger(D),this.cached.set(D,V)),V(j,...k)}catch(V){console.error(V)}}}e.DebugLogBackendBase=h;class v extends h{constructor(){super(...arguments),this.enabledRegexp=/.*/g}isEnabled(D){return this.enabledRegexp.test(D)}makeLogger(D){return this.enabledRegexp.test(D)?(j,...k)=>{var V;const G=`${l.Colours.green}${D}${l.Colours.reset}`,J=`${l.Colours.yellow}${m.pid}${l.Colours.reset}`;let W;switch(j.severity){case o.ERROR:W=`${l.Colours.red}${j.severity}${l.Colours.reset}`;break;case o.INFO:W=`${l.Colours.magenta}${j.severity}${l.Colours.reset}`;break;case o.WARNING:W=`${l.Colours.yellow}${j.severity}${l.Colours.reset}`;break;default:W=(V=j.severity)!==null&&V!==void 0?V:o.DEFAULT;break}const K=c.formatWithOptions({colors:l.Colours.enabled},...k),X=Object.assign({},j);delete X.severity;const Y=Object.getOwnPropertyNames(X).length?JSON.stringify(X):"",te=Y?`${l.Colours.grey}${Y}${l.Colours.reset}`:"";console.error("%s [%s|%s] %s%s",J,G,W,K,Y?` ${te}`:"")}:()=>{}}setFilters(){const j=this.filters.join(",").replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^");this.enabledRegexp=new RegExp(`^${j}$`,"i")}}function b(){return new v}class y extends h{constructor(D){super(),this.debugPkg=D}makeLogger(D){const j=this.debugPkg(D);return(k,...V)=>{j(V[0],...V.slice(1))}}setFilters(){var D;const j=(D=m.env.NODE_DEBUG)!==null&&D!==void 0?D:"";m.env.NODE_DEBUG=`${j}${j?",":""}${this.filters.join(",")}`}}function O(L){return new y(L)}class w extends h{constructor(D){var j;super(),this.upstream=(j=D)!==null&&j!==void 0?j:new v}makeLogger(D){const j=this.upstream.makeLogger(D);return(k,...V)=>{var G;const J=(G=k.severity)!==null&&G!==void 0?G:o.INFO,W=Object.assign({severity:J,message:c.format(...V)},k),K=JSON.stringify(W);j(k,K)}}setFilters(){this.upstream.setFilters()}}function I(L){return new w(L)}e.env={nodeEnables:"GOOGLE_SDK_NODE_LOGGING"};const _=new Map;let T;function C(L){T=L,_.clear()}function N(L,D){if(!m.env[e.env.nodeEnables]||!L)return e.placeholder;D&&(L=`${D.instance.namespace}:${L}`);const k=_.get(L);if(k)return k.func;if(T===null)return e.placeholder;T===void 0&&(T=b());const V=(()=>{let G;return new s(L,(W,...K)=>{if(G!==T){if(T===null)return;T===void 0&&(T=b()),G=T}T?.log(L,W,...K)})})();return _.set(L,V),V.func}})(loggingUtils)),loggingUtils}var hasRequiredSrc$e;function requireSrc$e(){return hasRequiredSrc$e||(hasRequiredSrc$e=1,(function(e){var t=src$c&&src$c.__createBinding||(Object.create?(function(p,g,m,c){c===void 0&&(c=m);var l=Object.getOwnPropertyDescriptor(g,m);(!l||("get"in l?!g.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(p,c,l)}):(function(p,g,m,c){c===void 0&&(c=m),p[c]=g[m]})),a=src$c&&src$c.__exportStar||function(p,g){for(var m in p)m!=="default"&&!Object.prototype.hasOwnProperty.call(g,m)&&t(g,p,m)};Object.defineProperty(e,"__esModule",{value:!0}),a(requireLoggingUtils(),e)})(src$c)),src$c}var hasRequiredSrc$d;function requireSrc$d(){return hasRequiredSrc$d||(hasRequiredSrc$d=1,(function(e){var t={},a=src$e&&src$e.__createBinding||(Object.create?(function(k,V,G,J){J===void 0&&(J=G);var W=Object.getOwnPropertyDescriptor(V,G);(!W||("get"in W?!V.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return V[G]}}),Object.defineProperty(k,J,W)}):(function(k,V,G,J){J===void 0&&(J=G),k[J]=V[G]})),p=src$e&&src$e.__exportStar||function(k,V){for(var G in k)G!=="default"&&!Object.prototype.hasOwnProperty.call(V,G)&&a(V,k,G)};Object.defineProperty(e,"__esModule",{value:!0}),e.gcpResidencyCache=e.METADATA_SERVER_DETECTION=e.HEADERS=e.HEADER_VALUE=e.HEADER_NAME=e.SECONDARY_HOST_ADDRESS=e.HOST_ADDRESS=e.BASE_PATH=void 0,e.instance=y,e.project=O,e.universe=w,e.bulk=I,e.isAvailable=C,e.resetIsAvailableCache=N,e.getGCPResidency=L,e.setGCPResidency=D,e.requestTimeout=j;const g=requireSrc$f(),m=requireJsonBigint(),c=requireGcpResidency(),l=requireSrc$e();e.BASE_PATH="/computeMetadata/v1",e.HOST_ADDRESS="http://169.254.169.254",e.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.",e.HEADER_NAME="Metadata-Flavor",e.HEADER_VALUE="Google",e.HEADERS=Object.freeze({[e.HEADER_NAME]:e.HEADER_VALUE});const o=l.log("gcp metadata");e.METADATA_SERVER_DETECTION=Object.freeze({"assume-present":"don't try to ping the metadata server, but assume it's present",none:"don't try to ping the metadata server, but don't try to use it either","bios-only":"treat the result of a BIOS probe as canonical (don't fall back to pinging)","ping-only":"skip the BIOS probe, and go straight to pinging"});function s(k){return k||(k=t.GCE_METADATA_IP||t.GCE_METADATA_HOST||e.HOST_ADDRESS),/^https?:\/\//.test(k)||(k=`http://${k}`),new URL(e.BASE_PATH,k).href}function h(k){Object.keys(k).forEach(V=>{switch(V){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${V}' is not a valid configuration option.`)}})}async function v(k,V={},G=3,J=!1){let W="",K={},X={};if(typeof k=="object"){const le=k;W=le.metadataKey,K=le.params||K,X=le.headers||X,G=le.noResponseRetries||G,J=le.fastFail||J}else W=k;typeof V=="string"?W+=`/${V}`:(h(V),V.property&&(W+=`/${V.property}`),X=V.headers||X,K=V.params||K);const Y=J?b:g.request,te={url:`${s()}/${W}`,headers:{...e.HEADERS,...X},retryConfig:{noResponseRetries:G},params:K,responseType:"text",timeout:j()};o.info("instance request %j",te);const oe=await Y(te);if(o.info("instance metadata is %s",oe.data),oe.headers[e.HEADER_NAME.toLowerCase()]!==e.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${e.HEADER_NAME} header. Expected '${e.HEADER_VALUE}', got ${oe.headers[e.HEADER_NAME.toLowerCase()]?`'${oe.headers[e.HEADER_NAME.toLowerCase()]}'`:"no header"}`);if(typeof oe.data=="string")try{return m.parse(oe.data)}catch{}return oe.data}async function b(k){var V;const G={...k,url:(V=k.url)===null||V===void 0?void 0:V.toString().replace(s(),s(e.SECONDARY_HOST_ADDRESS))};let J=!1;const W=(0,g.request)(k).then(X=>(J=!0,X)).catch(X=>{if(J)return K;throw J=!0,X}),K=(0,g.request)(G).then(X=>(J=!0,X)).catch(X=>{if(J)return W;throw J=!0,X});return Promise.race([W,K])}function y(k){return v("instance",k)}function O(k){return v("project",k)}function w(k){return v("universe",k)}async function I(k){const V={};return await Promise.all(k.map(G=>(async()=>{const J=await v(G),W=G.metadataKey;V[W]=J})())),V}function _(){return t.DETECT_GCP_RETRIES?Number(t.DETECT_GCP_RETRIES):0}let T;async function C(){if(t.METADATA_SERVER_DETECTION){const k=t.METADATA_SERVER_DETECTION.trim().toLocaleLowerCase();if(!(k in e.METADATA_SERVER_DETECTION))throw new RangeError(`Unknown \`METADATA_SERVER_DETECTION\` env variable. Got \`${k}\`, but it should be \`${Object.keys(e.METADATA_SERVER_DETECTION).join("`, `")}\`, or unset`);switch(k){case"assume-present":return!0;case"none":return!1;case"bios-only":return L()}}try{return T===void 0&&(T=v("instance",void 0,_(),!(t.GCE_METADATA_IP||t.GCE_METADATA_HOST))),await T,!0}catch(k){const V=k;if(t.DEBUG_AUTH&&console.info(V),V.type==="request-timeout"||V.response&&V.response.status===404)return!1;if(!(V.response&&V.response.status===404)&&(!V.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(V.code))){let G="UNKNOWN";V.code&&(G=V.code),process.emitWarning(`received unexpected error = ${V.message} code = ${G}`,"MetadataLookupWarning")}return!1}}function N(){T=void 0}e.gcpResidencyCache=null;function L(){return e.gcpResidencyCache===null&&D(),e.gcpResidencyCache}function D(k=null){e.gcpResidencyCache=k!==null?k:(0,c.detectGCPResidency)()}function j(){return L()?0:3e3}p(requireGcpResidency(),e)})(src$e)),src$e}var crypto$4={},crypto$3={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=l,base64Js.toByteArray=s,base64Js.fromByteArray=b;for(var e=[],t=[],a=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,m=p.length;g<m;++g)e[g]=p[g],t[p.charCodeAt(g)]=g;t[45]=62,t[95]=63;function c(y){var O=y.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");w===-1&&(w=O);var I=w===O?0:4-w%4;return[w,I]}function l(y){var O=c(y),w=O[0],I=O[1];return(w+I)*3/4-I}function o(y,O,w){return(O+w)*3/4-w}function s(y){var O,w=c(y),I=w[0],_=w[1],T=new a(o(y,I,_)),C=0,N=_>0?I-4:I,L;for(L=0;L<N;L+=4)O=t[y.charCodeAt(L)]<<18|t[y.charCodeAt(L+1)]<<12|t[y.charCodeAt(L+2)]<<6|t[y.charCodeAt(L+3)],T[C++]=O>>16&255,T[C++]=O>>8&255,T[C++]=O&255;return _===2&&(O=t[y.charCodeAt(L)]<<2|t[y.charCodeAt(L+1)]>>4,T[C++]=O&255),_===1&&(O=t[y.charCodeAt(L)]<<10|t[y.charCodeAt(L+1)]<<4|t[y.charCodeAt(L+2)]>>2,T[C++]=O>>8&255,T[C++]=O&255),T}function h(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function v(y,O,w){for(var I,_=[],T=O;T<w;T+=3)I=(y[T]<<16&16711680)+(y[T+1]<<8&65280)+(y[T+2]&255),_.push(h(I));return _.join("")}function b(y){for(var O,w=y.length,I=w%3,_=[],T=16383,C=0,N=w-I;C<N;C+=T)_.push(v(y,C,C+T>N?N:C+T));return I===1?(O=y[w-1],_.push(e[O>>2]+e[O<<4&63]+"==")):I===2&&(O=(y[w-2]<<8)+y[w-1],_.push(e[O>>10]+e[O>>4&63]+e[O<<2&63]+"=")),_.join("")}return base64Js}var hasRequiredCrypto$2;function requireCrypto$2(){if(hasRequiredCrypto$2)return crypto$3;hasRequiredCrypto$2=1,Object.defineProperty(crypto$3,"__esModule",{value:!0}),crypto$3.BrowserCrypto=void 0;const e=requireBase64Js(),t=requireCrypto();class a{constructor(){if(typeof window>"u"||window.crypto===void 0||window.crypto.subtle===void 0)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}async sha256DigestBase64(g){const m=new TextEncoder().encode(g),c=await window.crypto.subtle.digest("SHA-256",m);return e.fromByteArray(new Uint8Array(c))}randomBytesBase64(g){const m=new Uint8Array(g);return window.crypto.getRandomValues(m),e.fromByteArray(m)}static padBase64(g){for(;g.length%4!==0;)g+="=";return g}async verify(g,m,c){const l={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},o=new TextEncoder().encode(m),s=e.toByteArray(a.padBase64(c)),h=await window.crypto.subtle.importKey("jwk",g,l,!0,["verify"]);return await window.crypto.subtle.verify(l,h,s,o)}async sign(g,m){const c={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},l=new TextEncoder().encode(m),o=await window.crypto.subtle.importKey("jwk",g,c,!0,["sign"]),s=await window.crypto.subtle.sign(c,o,l);return e.fromByteArray(new Uint8Array(s))}decodeBase64StringUtf8(g){const m=e.toByteArray(a.padBase64(g));return new TextDecoder().decode(m)}encodeBase64StringUtf8(g){const m=new TextEncoder().encode(g);return e.fromByteArray(m)}async sha256DigestHex(g){const m=new TextEncoder().encode(g),c=await window.crypto.subtle.digest("SHA-256",m);return(0,t.fromArrayBufferToHex)(c)}async signWithHmacSha256(g,m){const c=typeof g=="string"?g:String.fromCharCode(...new Uint16Array(g)),l=new TextEncoder,o=await window.crypto.subtle.importKey("raw",l.encode(c),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",o,l.encode(m))}}return crypto$3.BrowserCrypto=a,crypto$3}var crypto$2={},hasRequiredCrypto$1;function requireCrypto$1(){if(hasRequiredCrypto$1)return crypto$2;hasRequiredCrypto$1=1,Object.defineProperty(crypto$2,"__esModule",{value:!0}),crypto$2.NodeCrypto=void 0;const e=require$$1$3;class t{async sha256DigestBase64(m){return e.createHash("sha256").update(m).digest("base64")}randomBytesBase64(m){return e.randomBytes(m).toString("base64")}async verify(m,c,l){const o=e.createVerify("RSA-SHA256");return o.update(c),o.end(),o.verify(m,l,"base64")}async sign(m,c){const l=e.createSign("RSA-SHA256");return l.update(c),l.end(),l.sign(m,"base64")}decodeBase64StringUtf8(m){return Buffer.from(m,"base64").toString("utf-8")}encodeBase64StringUtf8(m){return Buffer.from(m,"utf-8").toString("base64")}async sha256DigestHex(m){return e.createHash("sha256").update(m).digest("hex")}async signWithHmacSha256(m,c){const l=typeof m=="string"?m:p(m);return a(e.createHmac("sha256",l).update(c).digest())}}crypto$2.NodeCrypto=t;function a(g){return g.buffer.slice(g.byteOffset,g.byteOffset+g.byteLength)}function p(g){return Buffer.from(g)}return crypto$2}var hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$4;hasRequiredCrypto=1,Object.defineProperty(crypto$4,"__esModule",{value:!0}),crypto$4.createCrypto=a,crypto$4.hasBrowserCrypto=p,crypto$4.fromArrayBufferToHex=g;const e=requireCrypto$2(),t=requireCrypto$1();function a(){return p()?new e.BrowserCrypto:new t.NodeCrypto}function p(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}function g(m){return Array.from(new Uint8Array(m)).map(l=>l.toString(16).padStart(2,"0")).join("")}return crypto$4}var transporters={},options$3={},hasRequiredOptions;function requireOptions(){if(hasRequiredOptions)return options$3;hasRequiredOptions=1,Object.defineProperty(options$3,"__esModule",{value:!0}),options$3.validate=e;function e(t){const a=[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}];for(const p of a)if(t[p.invalid]){const g=`'${p.invalid}' is not a valid configuration option. Please use '${p.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;throw new Error(g)}}return options$3}const version$7="9.15.1",require$$4$2={version:version$7};var hasRequiredTransporters;function requireTransporters(){if(hasRequiredTransporters)return transporters;hasRequiredTransporters=1,Object.defineProperty(transporters,"__esModule",{value:!0}),transporters.DefaultTransporter=void 0;const e=requireSrc$f(),t=requireOptions(),a=require$$4$2,p="google-api-nodejs-client";class g{constructor(){this.instance=new e.Gaxios}configure(c={}){if(c.headers=c.headers||{},typeof window>"u"){const l=c.headers["User-Agent"];if(l?l.includes(`${p}/`)||(c.headers["User-Agent"]=`${l} ${g.USER_AGENT}`):c.headers["User-Agent"]=g.USER_AGENT,!c.headers["x-goog-api-client"]){const o=process.version.replace(/^v/,"");c.headers["x-goog-api-client"]=`gl-node/${o}`}}return c}request(c){return c=this.configure(c),(0,t.validate)(c),this.instance.request(c).catch(l=>{throw this.processError(l)})}get defaults(){return this.instance.defaults}set defaults(c){this.instance.defaults=c}processError(c){const l=c.response,o=c,s=l?l.data:null;return l&&s&&s.error&&l.status!==200?typeof s.error=="string"?(o.message=s.error,o.status=l.status):Array.isArray(s.error.errors)?(o.message=s.error.errors.map(h=>h.message).join(`
`),o.code=s.error.code,o.errors=s.error.errors):(o.message=s.error.message,o.code=s.error.code):l&&l.status>=400&&(o.message=s,o.status=l.status),o}}return transporters.DefaultTransporter=g,g.USER_AGENT=`${p}/${a.version}`,transporters}var computeclient={},oauth2client={},safeBuffer={exports:{}},buffer={},ieee754={};var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(e,t,a,p,g){var m,c,l=g*8-p-1,o=(1<<l)-1,s=o>>1,h=-7,v=a?g-1:0,b=a?-1:1,y=e[t+v];for(v+=b,m=y&(1<<-h)-1,y>>=-h,h+=l;h>0;m=m*256+e[t+v],v+=b,h-=8);for(c=m&(1<<-h)-1,m>>=-h,h+=p;h>0;c=c*256+e[t+v],v+=b,h-=8);if(m===0)m=1-s;else{if(m===o)return c?NaN:(y?-1:1)*(1/0);c=c+Math.pow(2,p),m=m-s}return(y?-1:1)*c*Math.pow(2,m-p)},ieee754.write=function(e,t,a,p,g,m){var c,l,o,s=m*8-g-1,h=(1<<s)-1,v=h>>1,b=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=p?0:m-1,O=p?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,c=h):(c=Math.floor(Math.log(t)/Math.LN2),t*(o=Math.pow(2,-c))<1&&(c--,o*=2),c+v>=1?t+=b/o:t+=b*Math.pow(2,1-v),t*o>=2&&(c++,o/=2),c+v>=h?(l=0,c=h):c+v>=1?(l=(t*o-1)*Math.pow(2,g),c=c+v):(l=t*Math.pow(2,v-1)*Math.pow(2,g),c=0));g>=8;e[a+y]=l&255,y+=O,l/=256,g-=8);for(c=c<<g|l,s+=g;s>0;e[a+y]=c&255,y+=O,c/=256,s-=8);e[a+y-O]|=w*128}),ieee754}var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,(function(e){var t=requireBase64Js(),a=requireIeee754(),p=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;var g=2147483647;e.kMaxLength=g,l.TYPED_ARRAY_SUPPORT=m(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{var ne=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(ne,u),ne.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function c(ne){if(ne>g)throw new RangeError('The value "'+ne+'" is invalid for option "size"');var u=new Uint8Array(ne);return Object.setPrototypeOf(u,l.prototype),u}function l(ne,u,x){if(typeof ne=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(ne)}return o(ne,u,x)}l.poolSize=8192;function o(ne,u,x){if(typeof ne=="string")return b(ne,u);if(ArrayBuffer.isView(ne))return O(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if($(ne,ArrayBuffer)||ne&&$(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($(ne,SharedArrayBuffer)||ne&&$(ne.buffer,SharedArrayBuffer)))return w(ne,u,x);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var M=ne.valueOf&&ne.valueOf();if(M!=null&&M!==ne)return l.from(M,u,x);var n=I(ne);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return l.from(ne[Symbol.toPrimitive]("string"),u,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}l.from=function(ne,u,x){return o(ne,u,x)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function s(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function h(ne,u,x){return s(ne),ne<=0?c(ne):u!==void 0?typeof x=="string"?c(ne).fill(u,x):c(ne).fill(u):c(ne)}l.alloc=function(ne,u,x){return h(ne,u,x)};function v(ne){return s(ne),c(ne<0?0:_(ne)|0)}l.allocUnsafe=function(ne){return v(ne)},l.allocUnsafeSlow=function(ne){return v(ne)};function b(ne,u){if((typeof u!="string"||u==="")&&(u="utf8"),!l.isEncoding(u))throw new TypeError("Unknown encoding: "+u);var x=C(ne,u)|0,M=c(x),n=M.write(ne,u);return n!==x&&(M=M.slice(0,n)),M}function y(ne){for(var u=ne.length<0?0:_(ne.length)|0,x=c(u),M=0;M<u;M+=1)x[M]=ne[M]&255;return x}function O(ne){if($(ne,Uint8Array)){var u=new Uint8Array(ne);return w(u.buffer,u.byteOffset,u.byteLength)}return y(ne)}function w(ne,u,x){if(u<0||ne.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<u+(x||0))throw new RangeError('"length" is outside of buffer bounds');var M;return u===void 0&&x===void 0?M=new Uint8Array(ne):x===void 0?M=new Uint8Array(ne,u):M=new Uint8Array(ne,u,x),Object.setPrototypeOf(M,l.prototype),M}function I(ne){if(l.isBuffer(ne)){var u=_(ne.length)|0,x=c(u);return x.length===0||ne.copy(x,0,0,u),x}if(ne.length!==void 0)return typeof ne.length!="number"||ie(ne.length)?c(0):y(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return y(ne.data)}function _(ne){if(ne>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return ne|0}function T(ne){return+ne!=ne&&(ne=0),l.alloc(+ne)}l.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==l.prototype},l.compare=function(u,x){if($(u,Uint8Array)&&(u=l.from(u,u.offset,u.byteLength)),$(x,Uint8Array)&&(x=l.from(x,x.offset,x.byteLength)),!l.isBuffer(u)||!l.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===x)return 0;for(var M=u.length,n=x.length,q=0,U=Math.min(M,n);q<U;++q)if(u[q]!==x[q]){M=u[q],n=x[q];break}return M<n?-1:n<M?1:0},l.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(u,x){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return l.alloc(0);var M;if(x===void 0)for(x=0,M=0;M<u.length;++M)x+=u[M].length;var n=l.allocUnsafe(x),q=0;for(M=0;M<u.length;++M){var U=u[M];if($(U,Uint8Array))q+U.length>n.length?l.from(U).copy(n,q):Uint8Array.prototype.set.call(n,U,q);else if(l.isBuffer(U))U.copy(n,q);else throw new TypeError('"list" argument must be an Array of Buffers');q+=U.length}return n};function C(ne,u){if(l.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||$(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);var x=ne.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&x===0)return 0;for(var n=!1;;)switch(u){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return Ee(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return P(ne).length;default:if(n)return M?-1:Ee(ne).length;u=(""+u).toLowerCase(),n=!0}}l.byteLength=C;function N(ne,u,x){var M=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,u>>>=0,x<=u))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return ee(this,u,x);case"utf8":case"utf-8":return X(this,u,x);case"ascii":return oe(this,u,x);case"latin1":case"binary":return le(this,u,x);case"base64":return K(this,u,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,u,x);default:if(M)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),M=!0}}l.prototype._isBuffer=!0;function L(ne,u,x){var M=ne[u];ne[u]=ne[x],ne[x]=M}l.prototype.swap16=function(){var u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var x=0;x<u;x+=2)L(this,x,x+1);return this},l.prototype.swap32=function(){var u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var x=0;x<u;x+=4)L(this,x,x+3),L(this,x+1,x+2);return this},l.prototype.swap64=function(){var u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var x=0;x<u;x+=8)L(this,x,x+7),L(this,x+1,x+6),L(this,x+2,x+5),L(this,x+3,x+4);return this},l.prototype.toString=function(){var u=this.length;return u===0?"":arguments.length===0?X(this,0,u):N.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(u){if(!l.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:l.compare(this,u)===0},l.prototype.inspect=function(){var u="",x=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(u+=" ... "),"<Buffer "+u+">"},p&&(l.prototype[p]=l.prototype.inspect),l.prototype.compare=function(u,x,M,n,q){if($(u,Uint8Array)&&(u=l.from(u,u.offset,u.byteLength)),!l.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(x===void 0&&(x=0),M===void 0&&(M=u?u.length:0),n===void 0&&(n=0),q===void 0&&(q=this.length),x<0||M>u.length||n<0||q>this.length)throw new RangeError("out of range index");if(n>=q&&x>=M)return 0;if(n>=q)return-1;if(x>=M)return 1;if(x>>>=0,M>>>=0,n>>>=0,q>>>=0,this===u)return 0;for(var U=q-n,Q=M-x,ye=Math.min(U,Q),Ie=this.slice(n,q),je=u.slice(x,M),ke=0;ke<ye;++ke)if(Ie[ke]!==je[ke]){U=Ie[ke],Q=je[ke];break}return U<Q?-1:Q<U?1:0};function D(ne,u,x,M,n){if(ne.length===0)return-1;if(typeof x=="string"?(M=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,ie(x)&&(x=n?0:ne.length-1),x<0&&(x=ne.length+x),x>=ne.length){if(n)return-1;x=ne.length-1}else if(x<0)if(n)x=0;else return-1;if(typeof u=="string"&&(u=l.from(u,M)),l.isBuffer(u))return u.length===0?-1:j(ne,u,x,M,n);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(ne,u,x):Uint8Array.prototype.lastIndexOf.call(ne,u,x):j(ne,[u],x,M,n);throw new TypeError("val must be string, number or Buffer")}function j(ne,u,x,M,n){var q=1,U=ne.length,Q=u.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(ne.length<2||u.length<2)return-1;q=2,U/=2,Q/=2,x/=2}function ye(it,dt){return q===1?it[dt]:it.readUInt16BE(dt*q)}var Ie;if(n){var je=-1;for(Ie=x;Ie<U;Ie++)if(ye(ne,Ie)===ye(u,je===-1?0:Ie-je)){if(je===-1&&(je=Ie),Ie-je+1===Q)return je*q}else je!==-1&&(Ie-=Ie-je),je=-1}else for(x+Q>U&&(x=U-Q),Ie=x;Ie>=0;Ie--){for(var ke=!0,ze=0;ze<Q;ze++)if(ye(ne,Ie+ze)!==ye(u,ze)){ke=!1;break}if(ke)return Ie}return-1}l.prototype.includes=function(u,x,M){return this.indexOf(u,x,M)!==-1},l.prototype.indexOf=function(u,x,M){return D(this,u,x,M,!0)},l.prototype.lastIndexOf=function(u,x,M){return D(this,u,x,M,!1)};function k(ne,u,x,M){x=Number(x)||0;var n=ne.length-x;M?(M=Number(M),M>n&&(M=n)):M=n;var q=u.length;M>q/2&&(M=q/2);for(var U=0;U<M;++U){var Q=parseInt(u.substr(U*2,2),16);if(ie(Q))return U;ne[x+U]=Q}return U}function V(ne,u,x,M){return A(Ee(u,ne.length-x),ne,x,M)}function G(ne,u,x,M){return A(z(u),ne,x,M)}function J(ne,u,x,M){return A(P(u),ne,x,M)}function W(ne,u,x,M){return A(d(u,ne.length-x),ne,x,M)}l.prototype.write=function(u,x,M,n){if(x===void 0)n="utf8",M=this.length,x=0;else if(M===void 0&&typeof x=="string")n=x,M=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(M)?(M=M>>>0,n===void 0&&(n="utf8")):(n=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var q=this.length-x;if((M===void 0||M>q)&&(M=q),u.length>0&&(M<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var U=!1;;)switch(n){case"hex":return k(this,u,x,M);case"utf8":case"utf-8":return V(this,u,x,M);case"ascii":case"latin1":case"binary":return G(this,u,x,M);case"base64":return J(this,u,x,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,u,x,M);default:if(U)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),U=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(ne,u,x){return u===0&&x===ne.length?t.fromByteArray(ne):t.fromByteArray(ne.slice(u,x))}function X(ne,u,x){x=Math.min(ne.length,x);for(var M=[],n=u;n<x;){var q=ne[n],U=null,Q=q>239?4:q>223?3:q>191?2:1;if(n+Q<=x){var ye,Ie,je,ke;switch(Q){case 1:q<128&&(U=q);break;case 2:ye=ne[n+1],(ye&192)===128&&(ke=(q&31)<<6|ye&63,ke>127&&(U=ke));break;case 3:ye=ne[n+1],Ie=ne[n+2],(ye&192)===128&&(Ie&192)===128&&(ke=(q&15)<<12|(ye&63)<<6|Ie&63,ke>2047&&(ke<55296||ke>57343)&&(U=ke));break;case 4:ye=ne[n+1],Ie=ne[n+2],je=ne[n+3],(ye&192)===128&&(Ie&192)===128&&(je&192)===128&&(ke=(q&15)<<18|(ye&63)<<12|(Ie&63)<<6|je&63,ke>65535&&ke<1114112&&(U=ke))}}U===null?(U=65533,Q=1):U>65535&&(U-=65536,M.push(U>>>10&1023|55296),U=56320|U&1023),M.push(U),n+=Q}return te(M)}var Y=4096;function te(ne){var u=ne.length;if(u<=Y)return String.fromCharCode.apply(String,ne);for(var x="",M=0;M<u;)x+=String.fromCharCode.apply(String,ne.slice(M,M+=Y));return x}function oe(ne,u,x){var M="";x=Math.min(ne.length,x);for(var n=u;n<x;++n)M+=String.fromCharCode(ne[n]&127);return M}function le(ne,u,x){var M="";x=Math.min(ne.length,x);for(var n=u;n<x;++n)M+=String.fromCharCode(ne[n]);return M}function ee(ne,u,x){var M=ne.length;(!u||u<0)&&(u=0),(!x||x<0||x>M)&&(x=M);for(var n="",q=u;q<x;++q)n+=pe[ne[q]];return n}function se(ne,u,x){for(var M=ne.slice(u,x),n="",q=0;q<M.length-1;q+=2)n+=String.fromCharCode(M[q]+M[q+1]*256);return n}l.prototype.slice=function(u,x){var M=this.length;u=~~u,x=x===void 0?M:~~x,u<0?(u+=M,u<0&&(u=0)):u>M&&(u=M),x<0?(x+=M,x<0&&(x=0)):x>M&&(x=M),x<u&&(x=u);var n=this.subarray(u,x);return Object.setPrototypeOf(n,l.prototype),n};function de(ne,u,x){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+u>x)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(u,x,M){u=u>>>0,x=x>>>0,M||de(u,x,this.length);for(var n=this[u],q=1,U=0;++U<x&&(q*=256);)n+=this[u+U]*q;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(u,x,M){u=u>>>0,x=x>>>0,M||de(u,x,this.length);for(var n=this[u+--x],q=1;x>0&&(q*=256);)n+=this[u+--x]*q;return n},l.prototype.readUint8=l.prototype.readUInt8=function(u,x){return u=u>>>0,x||de(u,1,this.length),this[u]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(u,x){return u=u>>>0,x||de(u,2,this.length),this[u]|this[u+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(u,x){return u=u>>>0,x||de(u,2,this.length),this[u]<<8|this[u+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(u,x){return u=u>>>0,x||de(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(u,x){return u=u>>>0,x||de(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},l.prototype.readIntLE=function(u,x,M){u=u>>>0,x=x>>>0,M||de(u,x,this.length);for(var n=this[u],q=1,U=0;++U<x&&(q*=256);)n+=this[u+U]*q;return q*=128,n>=q&&(n-=Math.pow(2,8*x)),n},l.prototype.readIntBE=function(u,x,M){u=u>>>0,x=x>>>0,M||de(u,x,this.length);for(var n=x,q=1,U=this[u+--n];n>0&&(q*=256);)U+=this[u+--n]*q;return q*=128,U>=q&&(U-=Math.pow(2,8*x)),U},l.prototype.readInt8=function(u,x){return u=u>>>0,x||de(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},l.prototype.readInt16LE=function(u,x){u=u>>>0,x||de(u,2,this.length);var M=this[u]|this[u+1]<<8;return M&32768?M|4294901760:M},l.prototype.readInt16BE=function(u,x){u=u>>>0,x||de(u,2,this.length);var M=this[u+1]|this[u]<<8;return M&32768?M|4294901760:M},l.prototype.readInt32LE=function(u,x){return u=u>>>0,x||de(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},l.prototype.readInt32BE=function(u,x){return u=u>>>0,x||de(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},l.prototype.readFloatLE=function(u,x){return u=u>>>0,x||de(u,4,this.length),a.read(this,u,!0,23,4)},l.prototype.readFloatBE=function(u,x){return u=u>>>0,x||de(u,4,this.length),a.read(this,u,!1,23,4)},l.prototype.readDoubleLE=function(u,x){return u=u>>>0,x||de(u,8,this.length),a.read(this,u,!0,52,8)},l.prototype.readDoubleBE=function(u,x){return u=u>>>0,x||de(u,8,this.length),a.read(this,u,!1,52,8)};function he(ne,u,x,M,n,q){if(!l.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>n||u<q)throw new RangeError('"value" argument is out of bounds');if(x+M>ne.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(u,x,M,n){if(u=+u,x=x>>>0,M=M>>>0,!n){var q=Math.pow(2,8*M)-1;he(this,u,x,M,q,0)}var U=1,Q=0;for(this[x]=u&255;++Q<M&&(U*=256);)this[x+Q]=u/U&255;return x+M},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(u,x,M,n){if(u=+u,x=x>>>0,M=M>>>0,!n){var q=Math.pow(2,8*M)-1;he(this,u,x,M,q,0)}var U=M-1,Q=1;for(this[x+U]=u&255;--U>=0&&(Q*=256);)this[x+U]=u/Q&255;return x+M},l.prototype.writeUint8=l.prototype.writeUInt8=function(u,x,M){return u=+u,x=x>>>0,M||he(this,u,x,1,255,0),this[x]=u&255,x+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(u,x,M){return u=+u,x=x>>>0,M||he(this,u,x,2,65535,0),this[x]=u&255,this[x+1]=u>>>8,x+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(u,x,M){return u=+u,x=x>>>0,M||he(this,u,x,2,65535,0),this[x]=u>>>8,this[x+1]=u&255,x+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(u,x,M){return u=+u,x=x>>>0,M||he(this,u,x,4,4294967295,0),this[x+3]=u>>>24,this[x+2]=u>>>16,this[x+1]=u>>>8,this[x]=u&255,x+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(u,x,M){return u=+u,x=x>>>0,M||he(this,u,x,4,4294967295,0),this[x]=u>>>24,this[x+1]=u>>>16,this[x+2]=u>>>8,this[x+3]=u&255,x+4},l.prototype.writeIntLE=function(u,x,M,n){if(u=+u,x=x>>>0,!n){var q=Math.pow(2,8*M-1);he(this,u,x,M,q-1,-q)}var U=0,Q=1,ye=0;for(this[x]=u&255;++U<M&&(Q*=256);)u<0&&ye===0&&this[x+U-1]!==0&&(ye=1),this[x+U]=(u/Q>>0)-ye&255;return x+M},l.prototype.writeIntBE=function(u,x,M,n){if(u=+u,x=x>>>0,!n){var q=Math.pow(2,8*M-1);he(this,u,x,M,q-1,-q)}var U=M-1,Q=1,ye=0;for(this[x+U]=u&255;--U>=0&&(Q*=256);)u<0&&ye===0&&this[x+U+1]!==0&&(ye=1),this[x+U]=(u/Q>>0)-ye&255;return x+M},l.prototype.writeInt8=function(u,x,M){return u=+u,x=x>>>0,M||he(this,u,x,1,127,-128),u<0&&(u=255+u+1),this[x]=u&255,x+1},l.prototype.writeInt16LE=function(u,x,M){return u=+u,x=x>>>0,M||he(this,u,x,2,32767,-32768),this[x]=u&255,this[x+1]=u>>>8,x+2},l.prototype.writeInt16BE=function(u,x,M){return u=+u,x=x>>>0,M||he(this,u,x,2,32767,-32768),this[x]=u>>>8,this[x+1]=u&255,x+2},l.prototype.writeInt32LE=function(u,x,M){return u=+u,x=x>>>0,M||he(this,u,x,4,2147483647,-2147483648),this[x]=u&255,this[x+1]=u>>>8,this[x+2]=u>>>16,this[x+3]=u>>>24,x+4},l.prototype.writeInt32BE=function(u,x,M){return u=+u,x=x>>>0,M||he(this,u,x,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[x]=u>>>24,this[x+1]=u>>>16,this[x+2]=u>>>8,this[x+3]=u&255,x+4};function ge(ne,u,x,M,n,q){if(x+M>ne.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function me(ne,u,x,M,n){return u=+u,x=x>>>0,n||ge(ne,u,x,4),a.write(ne,u,x,M,23,4),x+4}l.prototype.writeFloatLE=function(u,x,M){return me(this,u,x,!0,M)},l.prototype.writeFloatBE=function(u,x,M){return me(this,u,x,!1,M)};function Oe(ne,u,x,M,n){return u=+u,x=x>>>0,n||ge(ne,u,x,8),a.write(ne,u,x,M,52,8),x+8}l.prototype.writeDoubleLE=function(u,x,M){return Oe(this,u,x,!0,M)},l.prototype.writeDoubleBE=function(u,x,M){return Oe(this,u,x,!1,M)},l.prototype.copy=function(u,x,M,n){if(!l.isBuffer(u))throw new TypeError("argument should be a Buffer");if(M||(M=0),!n&&n!==0&&(n=this.length),x>=u.length&&(x=u.length),x||(x=0),n>0&&n<M&&(n=M),n===M||u.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),u.length-x<n-M&&(n=u.length-x+M);var q=n-M;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,M,n):Uint8Array.prototype.set.call(u,this.subarray(M,n),x),q},l.prototype.fill=function(u,x,M,n){if(typeof u=="string"){if(typeof x=="string"?(n=x,x=0,M=this.length):typeof M=="string"&&(n=M,M=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(u.length===1){var q=u.charCodeAt(0);(n==="utf8"&&q<128||n==="latin1")&&(u=q)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(x<0||this.length<x||this.length<M)throw new RangeError("Out of range index");if(M<=x)return this;x=x>>>0,M=M===void 0?this.length:M>>>0,u||(u=0);var U;if(typeof u=="number")for(U=x;U<M;++U)this[U]=u;else{var Q=l.isBuffer(u)?u:l.from(u,n),ye=Q.length;if(ye===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(U=0;U<M-x;++U)this[U+x]=Q[U%ye]}return this};var fe=/[^+/0-9A-Za-z-_]/g;function _e(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(fe,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function Ee(ne,u){u=u||1/0;for(var x,M=ne.length,n=null,q=[],U=0;U<M;++U){if(x=ne.charCodeAt(U),x>55295&&x<57344){if(!n){if(x>56319){(u-=3)>-1&&q.push(239,191,189);continue}else if(U+1===M){(u-=3)>-1&&q.push(239,191,189);continue}n=x;continue}if(x<56320){(u-=3)>-1&&q.push(239,191,189),n=x;continue}x=(n-55296<<10|x-56320)+65536}else n&&(u-=3)>-1&&q.push(239,191,189);if(n=null,x<128){if((u-=1)<0)break;q.push(x)}else if(x<2048){if((u-=2)<0)break;q.push(x>>6|192,x&63|128)}else if(x<65536){if((u-=3)<0)break;q.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((u-=4)<0)break;q.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return q}function z(ne){for(var u=[],x=0;x<ne.length;++x)u.push(ne.charCodeAt(x)&255);return u}function d(ne,u){for(var x,M,n,q=[],U=0;U<ne.length&&!((u-=2)<0);++U)x=ne.charCodeAt(U),M=x>>8,n=x%256,q.push(n),q.push(M);return q}function P(ne){return t.toByteArray(_e(ne))}function A(ne,u,x,M){for(var n=0;n<M&&!(n+x>=u.length||n>=ne.length);++n)u[n+x]=ne[n];return n}function $(ne,u){return ne instanceof u||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===u.name}function ie(ne){return ne!==ne}var pe=(function(){for(var ne="0123456789abcdef",u=new Array(256),x=0;x<16;++x)for(var M=x*16,n=0;n<16;++n)u[M+n]=ne[x]+ne[n];return u})()})(buffer)),buffer}var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,(function(e,t){var a=requireBuffer(),p=a.Buffer;function g(c,l){for(var o in c)l[o]=c[o]}p.from&&p.alloc&&p.allocUnsafe&&p.allocUnsafeSlow?e.exports=a:(g(a,t),t.Buffer=m);function m(c,l,o){return p(c,l,o)}m.prototype=Object.create(p.prototype),g(p,m),m.from=function(c,l,o){if(typeof c=="number")throw new TypeError("Argument must not be a number");return p(c,l,o)},m.alloc=function(c,l,o){if(typeof c!="number")throw new TypeError("Argument must be a number");var s=p(c);return l!==void 0?typeof o=="string"?s.fill(l,o):s.fill(l):s.fill(0),s},m.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return p(c)},m.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(c)}})(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var paramBytesForAlg_1,hasRequiredParamBytesForAlg;function requireParamBytesForAlg(){if(hasRequiredParamBytesForAlg)return paramBytesForAlg_1;hasRequiredParamBytesForAlg=1;function e(p){var g=(p/8|0)+(p%8===0?0:1);return g}var t={ES256:e(256),ES384:e(384),ES512:e(521)};function a(p){var g=t[p];if(g)return g;throw new Error('Unknown algorithm "'+p+'"')}return paramBytesForAlg_1=a,paramBytesForAlg_1}var ecdsaSigFormatter,hasRequiredEcdsaSigFormatter;function requireEcdsaSigFormatter(){if(hasRequiredEcdsaSigFormatter)return ecdsaSigFormatter;hasRequiredEcdsaSigFormatter=1;var e=requireSafeBuffer().Buffer,t=requireParamBytesForAlg(),a=128,p=0,g=32,m=16,c=2,l=m|g|p<<6,o=c|p<<6;function s(O){return O.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(O){if(e.isBuffer(O))return O;if(typeof O=="string")return e.from(O,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function v(O,w){O=h(O);var I=t(w),_=I+1,T=O.length,C=0;if(O[C++]!==l)throw new Error('Could not find expected "seq"');var N=O[C++];if(N===(a|1)&&(N=O[C++]),T-C<N)throw new Error('"seq" specified length of "'+N+'", only "'+(T-C)+'" remaining');if(O[C++]!==o)throw new Error('Could not find expected "int" for "r"');var L=O[C++];if(T-C-2<L)throw new Error('"r" specified length of "'+L+'", only "'+(T-C-2)+'" available');if(_<L)throw new Error('"r" specified length of "'+L+'", max of "'+_+'" is acceptable');var D=C;if(C+=L,O[C++]!==o)throw new Error('Could not find expected "int" for "s"');var j=O[C++];if(T-C!==j)throw new Error('"s" specified length of "'+j+'", expected "'+(T-C)+'"');if(_<j)throw new Error('"s" specified length of "'+j+'", max of "'+_+'" is acceptable');var k=C;if(C+=j,C!==T)throw new Error('Expected to consume entire buffer, but "'+(T-C)+'" bytes remain');var V=I-L,G=I-j,J=e.allocUnsafe(V+L+G+j);for(C=0;C<V;++C)J[C]=0;O.copy(J,C,D+Math.max(-V,0),D+L),C=I;for(var W=C;C<W+G;++C)J[C]=0;return O.copy(J,C,k+Math.max(-G,0),k+j),J=J.toString("base64"),J=s(J),J}function b(O,w,I){for(var _=0;w+_<I&&O[w+_]===0;)++_;var T=O[w+_]>=a;return T&&--_,_}function y(O,w){O=h(O);var I=t(w),_=O.length;if(_!==I*2)throw new TypeError('"'+w+'" signatures must be "'+I*2+'" bytes, saw "'+_+'"');var T=b(O,0,I),C=b(O,I,O.length),N=I-T,L=I-C,D=2+N+1+1+L,j=D<a,k=e.allocUnsafe((j?2:3)+D),V=0;return k[V++]=l,j?k[V++]=D:(k[V++]=a|1,k[V++]=D&255),k[V++]=o,k[V++]=N,T<0?(k[V++]=0,V+=O.copy(k,V,0,I)):V+=O.copy(k,V,T,I),k[V++]=o,k[V++]=L,C<0?(k[V++]=0,O.copy(k,V,I)):O.copy(k,V,I+C),k}return ecdsaSigFormatter={derToJose:v,joseToDer:y},ecdsaSigFormatter}var authclient={},util$8={},hasRequiredUtil$8;function requireUtil$8(){if(hasRequiredUtil$8)return util$8;hasRequiredUtil$8=1;var e=util$8&&util$8.__classPrivateFieldGet||function(o,s,h,v){if(h==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?o!==s||!v:!s.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return h==="m"?v:h==="a"?v.call(o):v?v.value:s.get(o)},t,a,p,g;Object.defineProperty(util$8,"__esModule",{value:!0}),util$8.LRUCache=void 0,util$8.snakeToCamel=m,util$8.originalOrCamelOptions=c;function m(o){return o.replace(/([_][^_])/g,s=>s.slice(1).toUpperCase())}function c(o){function s(h){var v;const b=o||{};return(v=b[h])!==null&&v!==void 0?v:b[m(h)]}return{get:s}}class l{constructor(s){t.add(this),a.set(this,new Map),this.capacity=s.capacity,this.maxAge=s.maxAge}set(s,h){e(this,t,"m",p).call(this,s,h),e(this,t,"m",g).call(this)}get(s){const h=e(this,a,"f").get(s);if(h)return e(this,t,"m",p).call(this,s,h.value),e(this,t,"m",g).call(this),h.value}}return util$8.LRUCache=l,a=new WeakMap,t=new WeakSet,p=function(s,h){e(this,a,"f").delete(s),e(this,a,"f").set(s,{value:h,lastAccessed:Date.now()})},g=function(){const s=this.maxAge?Date.now()-this.maxAge:0;let h=e(this,a,"f").entries().next();for(;!h.done&&(e(this,a,"f").size>this.capacity||h.value[1].lastAccessed<s);)e(this,a,"f").delete(h.value[0]),h=e(this,a,"f").entries().next()},util$8}var hasRequiredAuthclient;function requireAuthclient(){return hasRequiredAuthclient||(hasRequiredAuthclient=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AuthClient=e.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=e.DEFAULT_UNIVERSE=void 0;const t=require$$1$3,a=requireSrc$f(),p=requireTransporters(),g=requireUtil$8();e.DEFAULT_UNIVERSE="googleapis.com",e.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=3e5;class m extends t.EventEmitter{constructor(l={}){var o,s,h,v,b;super(),this.credentials={},this.eagerRefreshThresholdMillis=e.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS,this.forceRefreshOnFailure=!1,this.universeDomain=e.DEFAULT_UNIVERSE;const y=(0,g.originalOrCamelOptions)(l);this.apiKey=l.apiKey,this.projectId=(o=y.get("project_id"))!==null&&o!==void 0?o:null,this.quotaProjectId=y.get("quota_project_id"),this.credentials=(s=y.get("credentials"))!==null&&s!==void 0?s:{},this.universeDomain=(h=y.get("universe_domain"))!==null&&h!==void 0?h:e.DEFAULT_UNIVERSE,this.transporter=(v=l.transporter)!==null&&v!==void 0?v:new p.DefaultTransporter,l.transporterOptions&&(this.transporter.defaults=l.transporterOptions),l.eagerRefreshThresholdMillis&&(this.eagerRefreshThresholdMillis=l.eagerRefreshThresholdMillis),this.forceRefreshOnFailure=(b=l.forceRefreshOnFailure)!==null&&b!==void 0?b:!1}get gaxios(){return this.transporter instanceof a.Gaxios?this.transporter:this.transporter instanceof p.DefaultTransporter?this.transporter.instance:"instance"in this.transporter&&this.transporter.instance instanceof a.Gaxios?this.transporter.instance:null}setCredentials(l){this.credentials=l}addSharedMetadataHeaders(l){return!l["x-goog-user-project"]&&this.quotaProjectId&&(l["x-goog-user-project"]=this.quotaProjectId),l}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}e.AuthClient=m})(authclient)),authclient}var loginticket={},hasRequiredLoginticket;function requireLoginticket(){if(hasRequiredLoginticket)return loginticket;hasRequiredLoginticket=1,Object.defineProperty(loginticket,"__esModule",{value:!0}),loginticket.LoginTicket=void 0;class e{constructor(a,p){this.envelope=a,this.payload=p}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){const a=this.getPayload();return a&&a.sub?a.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}}return loginticket.LoginTicket=e,loginticket}var hasRequiredOauth2client;function requireOauth2client(){if(hasRequiredOauth2client)return oauth2client;hasRequiredOauth2client=1,Object.defineProperty(oauth2client,"__esModule",{value:!0}),oauth2client.OAuth2Client=oauth2client.ClientAuthentication=oauth2client.CertificateFormat=oauth2client.CodeChallengeMethod=void 0;const e=requireSrc$f(),t=require$$1$3,a=require$$1$3,p=requireEcdsaSigFormatter(),g=requireCrypto(),m=requireAuthclient(),c=requireLoginticket();var l;(function(v){v.Plain="plain",v.S256="S256"})(l||(oauth2client.CodeChallengeMethod=l={}));var o;(function(v){v.PEM="PEM",v.JWK="JWK"})(o||(oauth2client.CertificateFormat=o={}));var s;(function(v){v.ClientSecretPost="ClientSecretPost",v.ClientSecretBasic="ClientSecretBasic",v.None="None"})(s||(oauth2client.ClientAuthentication=s={}));class h extends m.AuthClient{constructor(b,y,O){const w=b&&typeof b=="object"?b:{clientId:b,clientSecret:y,redirectUri:O};super(w),this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=o.PEM,this.refreshTokenPromises=new Map,this._clientId=w.clientId,this._clientSecret=w.clientSecret,this.redirectUri=w.redirectUri,this.endpoints={tokenInfoUrl:"https://oauth2.googleapis.com/tokeninfo",oauth2AuthBaseUrl:"https://accounts.google.com/o/oauth2/v2/auth",oauth2TokenUrl:"https://oauth2.googleapis.com/token",oauth2RevokeUrl:"https://oauth2.googleapis.com/revoke",oauth2FederatedSignonPemCertsUrl:"https://www.googleapis.com/oauth2/v1/certs",oauth2FederatedSignonJwkCertsUrl:"https://www.googleapis.com/oauth2/v3/certs",oauth2IapPublicKeyUrl:"https://www.gstatic.com/iap/verify/public_key",...w.endpoints},this.clientAuthentication=w.clientAuthentication||s.ClientSecretPost,this.issuers=w.issuers||["accounts.google.com","https://accounts.google.com",this.universeDomain]}generateAuthUrl(b={}){if(b.code_challenge_method&&!b.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");return b.response_type=b.response_type||"code",b.client_id=b.client_id||this._clientId,b.redirect_uri=b.redirect_uri||this.redirectUri,Array.isArray(b.scope)&&(b.scope=b.scope.join(" ")),this.endpoints.oauth2AuthBaseUrl.toString()+"?"+t.stringify(b)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}async generateCodeVerifierAsync(){const b=(0,g.createCrypto)(),O=b.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-"),I=(await b.sha256DigestBase64(O)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_");return{codeVerifier:O,codeChallenge:I}}getToken(b,y){const O=typeof b=="string"?{code:b}:b;if(y)this.getTokenAsync(O).then(w=>y(null,w.tokens,w.res),w=>y(w,null,w.response));else return this.getTokenAsync(O)}async getTokenAsync(b){const y=this.endpoints.oauth2TokenUrl.toString(),O={"Content-Type":"application/x-www-form-urlencoded"},w={client_id:b.client_id||this._clientId,code_verifier:b.codeVerifier,code:b.code,grant_type:"authorization_code",redirect_uri:b.redirect_uri||this.redirectUri};if(this.clientAuthentication===s.ClientSecretBasic){const T=Buffer.from(`${this._clientId}:${this._clientSecret}`);O.Authorization=`Basic ${T.toString("base64")}`}this.clientAuthentication===s.ClientSecretPost&&(w.client_secret=this._clientSecret);const I=await this.transporter.request({...h.RETRY_CONFIG,method:"POST",url:y,data:t.stringify(w),headers:O}),_=I.data;return I.data&&I.data.expires_in&&(_.expiry_date=new Date().getTime()+I.data.expires_in*1e3,delete _.expires_in),this.emit("tokens",_),{tokens:_,res:I}}async refreshToken(b){if(!b)return this.refreshTokenNoCache(b);if(this.refreshTokenPromises.has(b))return this.refreshTokenPromises.get(b);const y=this.refreshTokenNoCache(b).then(O=>(this.refreshTokenPromises.delete(b),O),O=>{throw this.refreshTokenPromises.delete(b),O});return this.refreshTokenPromises.set(b,y),y}async refreshTokenNoCache(b){var y;if(!b)throw new Error("No refresh token is set.");const O=this.endpoints.oauth2TokenUrl.toString(),w={refresh_token:b,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"};let I;try{I=await this.transporter.request({...h.RETRY_CONFIG,method:"POST",url:O,data:t.stringify(w),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(T){throw T instanceof e.GaxiosError&&T.message==="invalid_grant"&&(!((y=T.response)===null||y===void 0)&&y.data)&&/ReAuth/i.test(T.response.data.error_description)&&(T.message=JSON.stringify(T.response.data)),T}const _=I.data;return I.data&&I.data.expires_in&&(_.expiry_date=new Date().getTime()+I.data.expires_in*1e3,delete _.expires_in),this.emit("tokens",_),{tokens:_,res:I}}refreshAccessToken(b){if(b)this.refreshAccessTokenAsync().then(y=>b(null,y.credentials,y.res),b);else return this.refreshAccessTokenAsync()}async refreshAccessTokenAsync(){const b=await this.refreshToken(this.credentials.refresh_token),y=b.tokens;return y.refresh_token=this.credentials.refresh_token,this.credentials=y,{credentials:this.credentials,res:b.res}}getAccessToken(b){if(b)this.getAccessTokenAsync().then(y=>b(null,y.token,y.res),b);else return this.getAccessTokenAsync()}async getAccessTokenAsync(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token)if(this.refreshHandler){const O=await this.processAndValidateRefreshHandler();if(O?.access_token)return this.setCredentials(O),{token:this.credentials.access_token}}else throw new Error("No refresh token or refresh handler callback is set.");const y=await this.refreshAccessTokenAsync();if(!y.credentials||y.credentials&&!y.credentials.access_token)throw new Error("Could not refresh access token.");return{token:y.credentials.access_token,res:y.res}}else return{token:this.credentials.access_token}}async getRequestHeaders(b){return(await this.getRequestMetadataAsync(b)).headers}async getRequestMetadataAsync(b){const y=this.credentials;if(!y.access_token&&!y.refresh_token&&!this.apiKey&&!this.refreshHandler)throw new Error("No access, refresh token, API key or refresh handler callback is set.");if(y.access_token&&!this.isTokenExpiring()){y.token_type=y.token_type||"Bearer";const T={Authorization:y.token_type+" "+y.access_token};return{headers:this.addSharedMetadataHeaders(T)}}if(this.refreshHandler){const T=await this.processAndValidateRefreshHandler();if(T?.access_token){this.setCredentials(T);const C={Authorization:"Bearer "+this.credentials.access_token};return{headers:this.addSharedMetadataHeaders(C)}}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let O=null,w=null;try{O=await this.refreshToken(y.refresh_token),w=O.tokens}catch(T){const C=T;throw C.response&&(C.response.status===403||C.response.status===404)&&(C.message=`Could not refresh access token: ${C.message}`),C}const I=this.credentials;I.token_type=I.token_type||"Bearer",w.refresh_token=I.refresh_token,this.credentials=w;const _={Authorization:I.token_type+" "+w.access_token};return{headers:this.addSharedMetadataHeaders(_),res:O.res}}static getRevokeTokenUrl(b){return new h().getRevokeTokenURL(b).toString()}getRevokeTokenURL(b){const y=new URL(this.endpoints.oauth2RevokeUrl);return y.searchParams.append("token",b),y}revokeToken(b,y){const O={...h.RETRY_CONFIG,url:this.getRevokeTokenURL(b).toString(),method:"POST"};if(y)this.transporter.request(O).then(w=>y(null,w),y);else return this.transporter.request(O)}revokeCredentials(b){if(b)this.revokeCredentialsAsync().then(y=>b(null,y),b);else return this.revokeCredentialsAsync()}async revokeCredentialsAsync(){const b=this.credentials.access_token;if(this.credentials={},b)return this.revokeToken(b);throw new Error("No access token to revoke.")}request(b,y){if(y)this.requestAsync(b).then(O=>y(null,O),O=>y(O,O.response));else return this.requestAsync(b)}async requestAsync(b,y=!1){let O;try{const w=await this.getRequestMetadataAsync(b.url);b.headers=b.headers||{},w.headers&&w.headers["x-goog-user-project"]&&(b.headers["x-goog-user-project"]=w.headers["x-goog-user-project"]),w.headers&&w.headers.Authorization&&(b.headers.Authorization=w.headers.Authorization),this.apiKey&&(b.headers["X-Goog-Api-Key"]=this.apiKey),O=await this.transporter.request(b)}catch(w){const I=w.response;if(I){const _=I.status,T=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),C=this.credentials&&this.credentials.access_token&&!this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure)&&this.refreshHandler,N=I.config.data instanceof a.Readable,L=_===401||_===403;if(!y&&L&&!N&&T)return await this.refreshAccessTokenAsync(),this.requestAsync(b,!0);if(!y&&L&&!N&&C){const D=await this.processAndValidateRefreshHandler();return D?.access_token&&this.setCredentials(D),this.requestAsync(b,!0)}}throw w}return O}verifyIdToken(b,y){if(y&&typeof y!="function")throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(y)this.verifyIdTokenAsync(b).then(O=>y(null,O),y);else return this.verifyIdTokenAsync(b)}async verifyIdTokenAsync(b){if(!b.idToken)throw new Error("The verifyIdToken method requires an ID Token");const y=await this.getFederatedSignonCertsAsync();return await this.verifySignedJwtWithCertsAsync(b.idToken,y.certs,b.audience,this.issuers,b.maxExpiry)}async getTokenInfo(b){const{data:y}=await this.transporter.request({...h.RETRY_CONFIG,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${b}`},url:this.endpoints.tokenInfoUrl.toString()}),O=Object.assign({expiry_date:new Date().getTime()+y.expires_in*1e3,scopes:y.scope.split(" ")},y);return delete O.expires_in,delete O.scope,O}getFederatedSignonCerts(b){if(b)this.getFederatedSignonCertsAsync().then(y=>b(null,y.certs,y.res),b);else return this.getFederatedSignonCertsAsync()}async getFederatedSignonCertsAsync(){const b=new Date().getTime(),y=(0,g.hasBrowserCrypto)()?o.JWK:o.PEM;if(this.certificateExpiry&&b<this.certificateExpiry.getTime()&&this.certificateCacheFormat===y)return{certs:this.certificateCache,format:y};let O,w;switch(y){case o.PEM:w=this.endpoints.oauth2FederatedSignonPemCertsUrl.toString();break;case o.JWK:w=this.endpoints.oauth2FederatedSignonJwkCertsUrl.toString();break;default:throw new Error(`Unsupported certificate format ${y}`)}try{O=await this.transporter.request({...h.RETRY_CONFIG,url:w})}catch(N){throw N instanceof Error&&(N.message=`Failed to retrieve verification certificates: ${N.message}`),N}const I=O?O.headers["cache-control"]:void 0;let _=-1;if(I){const L=new RegExp("max-age=([0-9]*)").exec(I);L&&L.length===2&&(_=Number(L[1])*1e3)}let T={};switch(y){case o.PEM:T=O.data;break;case o.JWK:for(const N of O.data.keys)T[N.kid]=N;break;default:throw new Error(`Unsupported certificate format ${y}`)}const C=new Date;return this.certificateExpiry=_===-1?null:new Date(C.getTime()+_),this.certificateCache=T,this.certificateCacheFormat=y,{certs:T,format:y,res:O}}getIapPublicKeys(b){if(b)this.getIapPublicKeysAsync().then(y=>b(null,y.pubkeys,y.res),b);else return this.getIapPublicKeysAsync()}async getIapPublicKeysAsync(){let b;const y=this.endpoints.oauth2IapPublicKeyUrl.toString();try{b=await this.transporter.request({...h.RETRY_CONFIG,url:y})}catch(O){throw O instanceof Error&&(O.message=`Failed to retrieve verification certificates: ${O.message}`),O}return{pubkeys:b.data,res:b}}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}async verifySignedJwtWithCertsAsync(b,y,O,w,I){const _=(0,g.createCrypto)();I||(I=h.DEFAULT_MAX_TOKEN_LIFETIME_SECS_);const T=b.split(".");if(T.length!==3)throw new Error("Wrong number of segments in token: "+b);const C=T[0]+"."+T[1];let N=T[2],L,D;try{L=JSON.parse(_.decodeBase64StringUtf8(T[0]))}catch(X){throw X instanceof Error&&(X.message=`Can't parse token envelope: ${T[0]}': ${X.message}`),X}if(!L)throw new Error("Can't parse token envelope: "+T[0]);try{D=JSON.parse(_.decodeBase64StringUtf8(T[1]))}catch(X){throw X instanceof Error&&(X.message=`Can't parse token payload '${T[0]}`),X}if(!D)throw new Error("Can't parse token payload: "+T[1]);if(!Object.prototype.hasOwnProperty.call(y,L.kid))throw new Error("No pem found for envelope: "+JSON.stringify(L));const j=y[L.kid];if(L.alg==="ES256"&&(N=p.joseToDer(N,"ES256").toString("base64")),!await _.verify(j,C,N))throw new Error("Invalid token signature: "+b);if(!D.iat)throw new Error("No issue time in token: "+JSON.stringify(D));if(!D.exp)throw new Error("No expiration time in token: "+JSON.stringify(D));const V=Number(D.iat);if(isNaN(V))throw new Error("iat field using invalid format");const G=Number(D.exp);if(isNaN(G))throw new Error("exp field using invalid format");const J=new Date().getTime()/1e3;if(G>=J+I)throw new Error("Expiration time too far in future: "+JSON.stringify(D));const W=V-h.CLOCK_SKEW_SECS_,K=G+h.CLOCK_SKEW_SECS_;if(J<W)throw new Error("Token used too early, "+J+" < "+W+": "+JSON.stringify(D));if(J>K)throw new Error("Token used too late, "+J+" > "+K+": "+JSON.stringify(D));if(w&&w.indexOf(D.iss)<0)throw new Error("Invalid issuer, expected one of ["+w+"], but got "+D.iss);if(typeof O<"u"&&O!==null){const X=D.aud;let Y=!1;if(O.constructor===Array?Y=O.indexOf(X)>-1:Y=X===O,!Y)throw new Error("Wrong recipient, payload audience != requiredAudience")}return new c.LoginTicket(L,D)}async processAndValidateRefreshHandler(){if(this.refreshHandler){const b=await this.refreshHandler();if(!b.access_token)throw new Error("No access token is returned by the refreshHandler callback.");return b}}isTokenExpiring(){const b=this.credentials.expiry_date;return b?b<=new Date().getTime()+this.eagerRefreshThresholdMillis:!1}}return oauth2client.OAuth2Client=h,h.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo",h.CLOCK_SKEW_SECS_=300,h.DEFAULT_MAX_TOKEN_LIFETIME_SECS_=86400,oauth2client}var hasRequiredComputeclient;function requireComputeclient(){if(hasRequiredComputeclient)return computeclient;hasRequiredComputeclient=1,Object.defineProperty(computeclient,"__esModule",{value:!0}),computeclient.Compute=void 0;const e=requireSrc$f(),t=requireSrc$d(),a=requireOauth2client();class p extends a.OAuth2Client{constructor(m={}){super(m),this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=m.serviceAccountEmail||"default",this.scopes=Array.isArray(m.scopes)?m.scopes:m.scopes?[m.scopes]:[]}async refreshTokenNoCache(m){const c=`service-accounts/${this.serviceAccountEmail}/token`;let l;try{const s={property:c};this.scopes.length>0&&(s.params={scopes:this.scopes.join(",")}),l=await t.instance(s)}catch(s){throw s instanceof e.GaxiosError&&(s.message=`Could not refresh access token: ${s.message}`,this.wrapError(s)),s}const o=l;return l&&l.expires_in&&(o.expiry_date=new Date().getTime()+l.expires_in*1e3,delete o.expires_in),this.emit("tokens",o),{tokens:o,res:null}}async fetchIdToken(m){const c=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=${m}`;let l;try{const o={property:c};l=await t.instance(o)}catch(o){throw o instanceof Error&&(o.message=`Could not fetch ID token: ${o.message}`),o}return l}wrapError(m){const c=m.response;c&&c.status&&(m.status=c.status,c.status===403?m.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+m.message:c.status===404&&(m.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+m.message))}}return computeclient.Compute=p,computeclient}var idtokenclient={},hasRequiredIdtokenclient;function requireIdtokenclient(){if(hasRequiredIdtokenclient)return idtokenclient;hasRequiredIdtokenclient=1,Object.defineProperty(idtokenclient,"__esModule",{value:!0}),idtokenclient.IdTokenClient=void 0;const e=requireOauth2client();class t extends e.OAuth2Client{constructor(p){super(p),this.targetAudience=p.targetAudience,this.idTokenProvider=p.idTokenProvider}async getRequestMetadataAsync(p){if(!this.credentials.id_token||!this.credentials.expiry_date||this.isTokenExpiring()){const m=await this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:m,expiry_date:this.getIdTokenExpiryDate(m)}}return{headers:{Authorization:"Bearer "+this.credentials.id_token}}}getIdTokenExpiryDate(p){const g=p.split(".")[1];if(g)return JSON.parse(Buffer.from(g,"base64").toString("ascii")).exp*1e3}}return idtokenclient.IdTokenClient=t,idtokenclient}var envDetect={},hasRequiredEnvDetect;function requireEnvDetect(){if(hasRequiredEnvDetect)return envDetect;hasRequiredEnvDetect=1;var e={};Object.defineProperty(envDetect,"__esModule",{value:!0}),envDetect.GCPEnv=void 0,envDetect.clear=g,envDetect.getEnv=m;const t=requireSrc$d();var a;(function(b){b.APP_ENGINE="APP_ENGINE",b.KUBERNETES_ENGINE="KUBERNETES_ENGINE",b.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",b.COMPUTE_ENGINE="COMPUTE_ENGINE",b.CLOUD_RUN="CLOUD_RUN",b.NONE="NONE"})(a||(envDetect.GCPEnv=a={}));let p;function g(){p=void 0}async function m(){return p||(p=c(),p)}async function c(){let b=a.NONE;return l()?b=a.APP_ENGINE:o()?b=a.CLOUD_FUNCTIONS:await v()?await h()?b=a.KUBERNETES_ENGINE:s()?b=a.CLOUD_RUN:b=a.COMPUTE_ENGINE:b=a.NONE,b}function l(){return!!(e.GAE_SERVICE||e.GAE_MODULE_NAME)}function o(){return!!(e.FUNCTION_NAME||e.FUNCTION_TARGET)}function s(){return!!e.K_CONFIGURATION}async function h(){try{return await t.instance("attributes/cluster-name"),!0}catch{return!1}}async function v(){return t.isAvailable()}return envDetect}var jwtclient={},src$b={},jws$1={},dataStream$1,hasRequiredDataStream$1;function requireDataStream$1(){if(hasRequiredDataStream$1)return dataStream$1;hasRequiredDataStream$1=1;var e=requireSafeBuffer().Buffer,t=require$$1$3,a=require$$1$3;function p(g){if(this.buffer=null,this.writable=!0,this.readable=!0,!g)return this.buffer=e.alloc(0),this;if(typeof g.pipe=="function")return this.buffer=e.alloc(0),g.pipe(this),this;if(g.length||typeof g=="object")return this.buffer=g,this.writable=!1,process.nextTick((function(){this.emit("end",g),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof g+")")}return a.inherits(p,t),p.prototype.write=function(m){this.buffer=e.concat([this.buffer,e.from(m)]),this.emit("data",m)},p.prototype.end=function(m){m&&this.write(m),this.emit("end",m),this.emit("close"),this.writable=!1,this.readable=!1},dataStream$1=p,dataStream$1}var bufferEqualConstantTime,hasRequiredBufferEqualConstantTime;function requireBufferEqualConstantTime(){if(hasRequiredBufferEqualConstantTime)return bufferEqualConstantTime;hasRequiredBufferEqualConstantTime=1;var e=requireBuffer().Buffer,t=requireBuffer().SlowBuffer;bufferEqualConstantTime=a;function a(m,c){if(!e.isBuffer(m)||!e.isBuffer(c)||m.length!==c.length)return!1;for(var l=0,o=0;o<m.length;o++)l|=m[o]^c[o];return l===0}a.install=function(){e.prototype.equal=t.prototype.equal=function(c){return a(this,c)}};var p=e.prototype.equal,g=t.prototype.equal;return a.restore=function(){e.prototype.equal=p,t.prototype.equal=g},bufferEqualConstantTime}var jwa$1,hasRequiredJwa$1;function requireJwa$1(){if(hasRequiredJwa$1)return jwa$1;hasRequiredJwa$1=1;var e=requireSafeBuffer().Buffer,t=require$$1$3,a=requireEcdsaSigFormatter(),p=require$$1$3,g=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,m="secret must be a string or buffer",c="key must be a string or a buffer",l="key must be a string, a buffer or an object",o=typeof t.createPublicKey=="function";o&&(c+=" or a KeyObject",m+="or a KeyObject");function s(K){if(!e.isBuffer(K)&&typeof K!="string"&&(!o||typeof K!="object"||typeof K.type!="string"||typeof K.asymmetricKeyType!="string"||typeof K.export!="function"))throw O(c)}function h(K){if(!e.isBuffer(K)&&typeof K!="string"&&typeof K!="object")throw O(l)}function v(K){if(!e.isBuffer(K)){if(typeof K=="string")return K;if(!o||typeof K!="object"||K.type!=="secret"||typeof K.export!="function")throw O(m)}}function b(K){return K.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function y(K){K=K.toString();var X=4-K.length%4;if(X!==4)for(var Y=0;Y<X;++Y)K+="=";return K.replace(/\-/g,"+").replace(/_/g,"/")}function O(K){var X=[].slice.call(arguments,1),Y=p.format.bind(p,K).apply(null,X);return new TypeError(Y)}function w(K){return e.isBuffer(K)||typeof K=="string"}function I(K){return w(K)||(K=JSON.stringify(K)),K}function _(K){return function(Y,te){v(te),Y=I(Y);var oe=t.createHmac("sha"+K,te),le=(oe.update(Y),oe.digest("base64"));return b(le)}}var T,C="timingSafeEqual"in t?function(X,Y){return X.byteLength!==Y.byteLength?!1:t.timingSafeEqual(X,Y)}:function(X,Y){return T||(T=requireBufferEqualConstantTime()),T(X,Y)};function N(K){return function(Y,te,oe){var le=_(K)(Y,oe);return C(e.from(te),e.from(le))}}function L(K){return function(Y,te){h(te),Y=I(Y);var oe=t.createSign("RSA-SHA"+K),le=(oe.update(Y),oe.sign(te,"base64"));return b(le)}}function D(K){return function(Y,te,oe){s(oe),Y=I(Y),te=y(te);var le=t.createVerify("RSA-SHA"+K);return le.update(Y),le.verify(oe,te,"base64")}}function j(K){return function(Y,te){h(te),Y=I(Y);var oe=t.createSign("RSA-SHA"+K),le=(oe.update(Y),oe.sign({key:te,padding:t.constants.RSA_PKCS1_PSS_PADDING,saltLength:t.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return b(le)}}function k(K){return function(Y,te,oe){s(oe),Y=I(Y),te=y(te);var le=t.createVerify("RSA-SHA"+K);return le.update(Y),le.verify({key:oe,padding:t.constants.RSA_PKCS1_PSS_PADDING,saltLength:t.constants.RSA_PSS_SALTLEN_DIGEST},te,"base64")}}function V(K){var X=L(K);return function(){var te=X.apply(null,arguments);return te=a.derToJose(te,"ES"+K),te}}function G(K){var X=D(K);return function(te,oe,le){oe=a.joseToDer(oe,"ES"+K).toString("base64");var ee=X(te,oe,le);return ee}}function J(){return function(){return""}}function W(){return function(X,Y){return Y===""}}return jwa$1=function(X){var Y={hs:_,rs:L,ps:j,es:V,none:J},te={hs:N,rs:D,ps:k,es:G,none:W},oe=X.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!oe)throw O(g,X);var le=(oe[1]||oe[3]).toLowerCase(),ee=oe[2];return{sign:Y[le](ee),verify:te[le](ee)}},jwa$1}var tostring$1,hasRequiredTostring$1;function requireTostring$1(){if(hasRequiredTostring$1)return tostring$1;hasRequiredTostring$1=1;var e=requireBuffer().Buffer;return tostring$1=function(a){return typeof a=="string"?a:typeof a=="number"||e.isBuffer(a)?a.toString():JSON.stringify(a)},tostring$1}var signStream$1,hasRequiredSignStream$1;function requireSignStream$1(){if(hasRequiredSignStream$1)return signStream$1;hasRequiredSignStream$1=1;var e=requireSafeBuffer().Buffer,t=requireDataStream$1(),a=requireJwa$1(),p=require$$1$3,g=requireTostring$1(),m=require$$1$3;function c(h,v){return e.from(h,v).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(h,v,b){b=b||"utf8";var y=c(g(h),"binary"),O=c(g(v),b);return m.format("%s.%s",y,O)}function o(h){var v=h.header,b=h.payload,y=h.secret||h.privateKey,O=h.encoding,w=a(v.alg),I=l(v,b,O),_=w.sign(I,y);return m.format("%s.%s",I,_)}function s(h){var v=h.secret||h.privateKey||h.key,b=new t(v);this.readable=!0,this.header=h.header,this.encoding=h.encoding,this.secret=this.privateKey=this.key=b,this.payload=new t(h.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}return m.inherits(s,p),s.prototype.sign=function(){try{var v=o({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",v),this.emit("data",v),this.emit("end"),this.readable=!1,v}catch(b){this.readable=!1,this.emit("error",b),this.emit("close")}},s.sign=o,signStream$1=s,signStream$1}var verifyStream$1,hasRequiredVerifyStream$1;function requireVerifyStream$1(){if(hasRequiredVerifyStream$1)return verifyStream$1;hasRequiredVerifyStream$1=1;var e=requireSafeBuffer().Buffer,t=requireDataStream$1(),a=requireJwa$1(),p=require$$1$3,g=requireTostring$1(),m=require$$1$3,c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function l(_){return Object.prototype.toString.call(_)==="[object Object]"}function o(_){if(l(_))return _;try{return JSON.parse(_)}catch{return}}function s(_){var T=_.split(".",1)[0];return o(e.from(T,"base64").toString("binary"))}function h(_){return _.split(".",2).join(".")}function v(_){return _.split(".")[2]}function b(_,T){T=T||"utf8";var C=_.split(".")[1];return e.from(C,"base64").toString(T)}function y(_){return c.test(_)&&!!s(_)}function O(_,T,C){if(!T){var N=new Error("Missing algorithm parameter for jws.verify");throw N.code="MISSING_ALGORITHM",N}_=g(_);var L=v(_),D=h(_),j=a(T);return j.verify(D,L,C)}function w(_,T){if(T=T||{},_=g(_),!y(_))return null;var C=s(_);if(!C)return null;var N=b(_);return(C.typ==="JWT"||T.json)&&(N=JSON.parse(N,T.encoding)),{header:C,payload:N,signature:v(_)}}function I(_){_=_||{};var T=_.secret||_.publicKey||_.key,C=new t(T);this.readable=!0,this.algorithm=_.algorithm,this.encoding=_.encoding,this.secret=this.publicKey=this.key=C,this.signature=new t(_.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}return m.inherits(I,p),I.prototype.verify=function(){try{var T=O(this.signature.buffer,this.algorithm,this.key.buffer),C=w(this.signature.buffer,this.encoding);return this.emit("done",T,C),this.emit("data",T),this.emit("end"),this.readable=!1,T}catch(N){this.readable=!1,this.emit("error",N),this.emit("close")}},I.decode=w,I.isValid=y,I.verify=O,verifyStream$1=I,verifyStream$1}var hasRequiredJws$1;function requireJws$1(){if(hasRequiredJws$1)return jws$1;hasRequiredJws$1=1;var e=requireSignStream$1(),t=requireVerifyStream$1(),a=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return jws$1.ALGORITHMS=a,jws$1.sign=e.sign,jws$1.verify=t.verify,jws$1.decode=t.decode,jws$1.isValid=t.isValid,jws$1.createSign=function(g){return new e(g)},jws$1.createVerify=function(g){return new t(g)},jws$1}var hasRequiredSrc$c;function requireSrc$c(){if(hasRequiredSrc$c)return src$b;hasRequiredSrc$c=1;var e=src$b&&src$b.__classPrivateFieldGet||function(N,L,D,j){if(D==="a"&&!j)throw new TypeError("Private accessor was defined without a getter");if(typeof L=="function"?N!==L||!j:!L.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return D==="m"?j:D==="a"?j.call(N):j?j.value:L.get(N)},t=src$b&&src$b.__classPrivateFieldSet||function(N,L,D,j,k){if(j==="m")throw new TypeError("Private method is not writable");if(j==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof L=="function"?N!==L||!k:!L.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return j==="a"?k.call(N,D):k?k.value=D:L.set(N,D),D},a,p,g,m,c,l,o,s;Object.defineProperty(src$b,"__esModule",{value:!0}),src$b.GoogleToken=void 0;const h=require$$1$3,v=requireSrc$f(),b=requireJws$1(),y=require$$1$3,O=require$$1$3,w=h.readFile?(0,O.promisify)(h.readFile):async()=>{throw new T("use key rather than keyFile.","MISSING_CREDENTIALS")},I="https://www.googleapis.com/oauth2/v4/token",_="https://accounts.google.com/o/oauth2/revoke?token=";class T extends Error{constructor(L,D){super(L),this.code=D}}class C{get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}constructor(L){a.add(this),this.transporter={request:D=>(0,v.request)(D)},p.set(this,void 0),e(this,a,"m",o).call(this,L)}hasExpired(){const L=new Date().getTime();return this.rawToken&&this.expiresAt?L>=this.expiresAt:!0}isTokenExpiring(){var L;const D=new Date().getTime(),j=(L=this.eagerRefreshThresholdMillis)!==null&&L!==void 0?L:0;return this.rawToken&&this.expiresAt?this.expiresAt<=D+j:!0}getToken(L,D={}){if(typeof L=="object"&&(D=L,L=void 0),D=Object.assign({forceRefresh:!1},D),L){const j=L;e(this,a,"m",g).call(this,D).then(k=>j(null,k),L);return}return e(this,a,"m",g).call(this,D)}async getCredentials(L){switch(y.extname(L)){case".json":{const j=await w(L,"utf8"),k=JSON.parse(j),V=k.private_key,G=k.client_email;if(!V||!G)throw new T("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:V,clientEmail:G}}case".der":case".crt":case".pem":return{privateKey:await w(L,"utf8")};case".p12":case".pfx":throw new T("*.p12 certificates are not supported after v6.1.2. Consider utilizing *.json format or converting *.p12 to *.pem using the OpenSSL CLI.","UNKNOWN_CERTIFICATE_TYPE");default:throw new T("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, and *.pem.","UNKNOWN_CERTIFICATE_TYPE")}}revokeToken(L){if(L){e(this,a,"m",l).call(this).then(()=>L(),L);return}return e(this,a,"m",l).call(this)}}return src$b.GoogleToken=C,p=new WeakMap,a=new WeakSet,g=async function(L){if(e(this,p,"f")&&!L.forceRefresh)return e(this,p,"f");try{return await t(this,p,e(this,a,"m",m).call(this,L),"f")}finally{t(this,p,void 0,"f")}},m=async function(L){if(this.isTokenExpiring()===!1&&L.forceRefresh===!1)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw new Error("No key or keyFile set.");if(!this.key&&this.keyFile){const D=await this.getCredentials(this.keyFile);this.key=D.privateKey,this.iss=D.clientEmail||this.iss,D.clientEmail||e(this,a,"m",c).call(this)}return e(this,a,"m",s).call(this)},c=function(){if(!this.iss)throw new T("email is required.","MISSING_CREDENTIALS")},l=async function(){if(!this.accessToken)throw new Error("No token to revoke.");const L=_+this.accessToken;await this.transporter.request({url:L,retry:!0}),e(this,a,"m",o).call(this,{email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})},o=function(L={}){this.keyFile=L.keyFile,this.key=L.key,this.rawToken=void 0,this.iss=L.email||L.iss,this.sub=L.sub,this.additionalClaims=L.additionalClaims,typeof L.scope=="object"?this.scope=L.scope.join(" "):this.scope=L.scope,this.eagerRefreshThresholdMillis=L.eagerRefreshThresholdMillis,L.transporter&&(this.transporter=L.transporter)},s=async function(){var L,D;const j=Math.floor(new Date().getTime()/1e3),k=this.additionalClaims||{},V=Object.assign({iss:this.iss,scope:this.scope,aud:I,exp:j+3600,iat:j,sub:this.sub},k),G=b.sign({header:{alg:"RS256"},payload:V,secret:this.key});try{const J=await this.transporter.request({method:"POST",url:I,data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:G},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",retryConfig:{httpMethodsToRetry:["POST"]}});return this.rawToken=J.data,this.expiresAt=J.data.expires_in===null||J.data.expires_in===void 0?void 0:(j+J.data.expires_in)*1e3,this.rawToken}catch(J){this.rawToken=void 0,this.tokenExpires=void 0;const W=J.response&&(!((L=J.response)===null||L===void 0)&&L.data)?(D=J.response)===null||D===void 0?void 0:D.data:{};if(W.error){const K=W.error_description?`: ${W.error_description}`:"";J.message=`${W.error}${K}`}throw J}},src$b}var jwtaccess={},hasRequiredJwtaccess;function requireJwtaccess(){if(hasRequiredJwtaccess)return jwtaccess;hasRequiredJwtaccess=1,Object.defineProperty(jwtaccess,"__esModule",{value:!0}),jwtaccess.JWTAccess=void 0;const e=requireJws$1(),t=requireUtil$8(),a={alg:"RS256",typ:"JWT"};class p{constructor(m,c,l,o){this.cache=new t.LRUCache({capacity:500,maxAge:36e5}),this.email=m,this.key=c,this.keyId=l,this.eagerRefreshThresholdMillis=o??3e5}getCachedKey(m,c){let l=m;if(c&&Array.isArray(c)&&c.length?l=m?`${m}_${c.join("_")}`:`${c.join("_")}`:typeof c=="string"&&(l=m?`${m}_${c}`:c),!l)throw Error("Scopes or url must be provided");return l}getRequestHeaders(m,c,l){const o=this.getCachedKey(m,l),s=this.cache.get(o),h=Date.now();if(s&&s.expiration-h>this.eagerRefreshThresholdMillis)return s.headers;const v=Math.floor(Date.now()/1e3),b=p.getExpirationTime(v);let y;if(Array.isArray(l)&&(l=l.join(" ")),l?y={iss:this.email,sub:this.email,scope:l,exp:b,iat:v}:y={iss:this.email,sub:this.email,aud:m,exp:b,iat:v},c){for(const T in y)if(c[T])throw new Error(`The '${T}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`)}const O=this.keyId?{...a,kid:this.keyId}:a,w=Object.assign(y,c),_={Authorization:`Bearer ${e.sign({header:O,payload:w,secret:this.key})}`};return this.cache.set(o,{expiration:b*1e3,headers:_}),_}static getExpirationTime(m){return m+3600}fromJSON(m){if(!m)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!m.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!m.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=m.client_email,this.key=m.private_key,this.keyId=m.private_key_id,this.projectId=m.project_id}fromStream(m,c){if(c)this.fromStreamAsync(m).then(()=>c(),c);else return this.fromStreamAsync(m)}fromStreamAsync(m){return new Promise((c,l)=>{m||l(new Error("Must pass in a stream containing the service account auth settings."));let o="";m.setEncoding("utf8").on("data",s=>o+=s).on("error",l).on("end",()=>{try{const s=JSON.parse(o);this.fromJSON(s),c()}catch(s){l(s)}})})}}return jwtaccess.JWTAccess=p,jwtaccess}var hasRequiredJwtclient;function requireJwtclient(){if(hasRequiredJwtclient)return jwtclient;hasRequiredJwtclient=1,Object.defineProperty(jwtclient,"__esModule",{value:!0}),jwtclient.JWT=void 0;const e=requireSrc$c(),t=requireJwtaccess(),a=requireOauth2client(),p=requireAuthclient();class g extends a.OAuth2Client{constructor(c,l,o,s,h,v){const b=c&&typeof c=="object"?c:{email:c,keyFile:l,key:o,keyId:v,scopes:s,subject:h};super(b),this.email=b.email,this.keyFile=b.keyFile,this.key=b.key,this.keyId=b.keyId,this.scopes=b.scopes,this.subject=b.subject,this.additionalClaims=b.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(c){const l=new g(this);return l.scopes=c,l}async getRequestMetadataAsync(c){c=this.defaultServicePath?`https://${this.defaultServicePath}/`:c;const l=!this.hasUserScopes()&&c||this.useJWTAccessWithScope&&this.hasAnyScopes()||this.universeDomain!==p.DEFAULT_UNIVERSE;if(this.subject&&this.universeDomain!==p.DEFAULT_UNIVERSE)throw new RangeError(`Service Account user is configured for the credential. Domain-wide delegation is not supported in universes other than ${p.DEFAULT_UNIVERSE}`);if(!this.apiKey&&l)if(this.additionalClaims&&this.additionalClaims.target_audience){const{tokens:o}=await this.refreshToken();return{headers:this.addSharedMetadataHeaders({Authorization:`Bearer ${o.id_token}`})}}else{this.access||(this.access=new t.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis));let o;this.hasUserScopes()?o=this.scopes:c||(o=this.defaultScopes);const s=this.useJWTAccessWithScope||this.universeDomain!==p.DEFAULT_UNIVERSE,h=await this.access.getRequestHeaders(c??void 0,this.additionalClaims,s?o:void 0);return{headers:this.addSharedMetadataHeaders(h)}}else return this.hasAnyScopes()||this.apiKey?super.getRequestMetadataAsync(c):{headers:{}}}async fetchIdToken(c){const l=new e.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:c},transporter:this.transporter});if(await l.getToken({forceRefresh:!0}),!l.idToken)throw new Error("Unknown error: Failed to fetch ID token");return l.idToken}hasUserScopes(){return this.scopes?this.scopes.length>0:!1}hasAnyScopes(){return!!(this.scopes&&this.scopes.length>0||this.defaultScopes&&this.defaultScopes.length>0)}authorize(c){if(c)this.authorizeAsync().then(l=>c(null,l),c);else return this.authorizeAsync()}async authorizeAsync(){const c=await this.refreshToken();if(!c)throw new Error("No result returned");return this.credentials=c.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,c.tokens}async refreshTokenNoCache(c){const l=this.createGToken(),s={access_token:(await l.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:l.expiresAt,id_token:l.idToken};return this.emit("tokens",s),{res:null,tokens:s}}createGToken(){return this.gtoken||(this.gtoken=new e.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims,transporter:this.transporter})),this.gtoken}fromJSON(c){if(!c)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!c.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!c.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=c.client_email,this.key=c.private_key,this.keyId=c.private_key_id,this.projectId=c.project_id,this.quotaProjectId=c.quota_project_id,this.universeDomain=c.universe_domain||this.universeDomain}fromStream(c,l){if(l)this.fromStreamAsync(c).then(()=>l(),l);else return this.fromStreamAsync(c)}fromStreamAsync(c){return new Promise((l,o)=>{if(!c)throw new Error("Must pass in a stream containing the service account auth settings.");let s="";c.setEncoding("utf8").on("error",o).on("data",h=>s+=h).on("end",()=>{try{const h=JSON.parse(s);this.fromJSON(h),l()}catch(h){o(h)}})})}fromAPIKey(c){if(typeof c!="string")throw new Error("Must provide an API Key string.");this.apiKey=c}async getCredentials(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){const l=await this.createGToken().getCredentials(this.keyFile);return{private_key:l.privateKey,client_email:l.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")}}return jwtclient.JWT=g,jwtclient}var refreshclient={},hasRequiredRefreshclient;function requireRefreshclient(){if(hasRequiredRefreshclient)return refreshclient;hasRequiredRefreshclient=1,Object.defineProperty(refreshclient,"__esModule",{value:!0}),refreshclient.UserRefreshClient=refreshclient.USER_REFRESH_ACCOUNT_TYPE=void 0;const e=requireOauth2client(),t=require$$1$3;refreshclient.USER_REFRESH_ACCOUNT_TYPE="authorized_user";class a extends e.OAuth2Client{constructor(g,m,c,l,o){const s=g&&typeof g=="object"?g:{clientId:g,clientSecret:m,refreshToken:c,eagerRefreshThresholdMillis:l,forceRefreshOnFailure:o};super(s),this._refreshToken=s.refreshToken,this.credentials.refresh_token=s.refreshToken}async refreshTokenNoCache(g){return super.refreshTokenNoCache(this._refreshToken)}async fetchIdToken(g){return(await this.transporter.request({...a.RETRY_CONFIG,url:this.endpoints.oauth2TokenUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:(0,t.stringify)({client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token",refresh_token:this._refreshToken,target_audience:g})})).data.id_token}fromJSON(g){if(!g)throw new Error("Must pass in a JSON object containing the user refresh token");if(g.type!=="authorized_user")throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!g.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!g.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!g.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=g.client_id,this._clientSecret=g.client_secret,this._refreshToken=g.refresh_token,this.credentials.refresh_token=g.refresh_token,this.quotaProjectId=g.quota_project_id,this.universeDomain=g.universe_domain||this.universeDomain}fromStream(g,m){if(m)this.fromStreamAsync(g).then(()=>m(),m);else return this.fromStreamAsync(g)}async fromStreamAsync(g){return new Promise((m,c)=>{if(!g)return c(new Error("Must pass in a stream containing the user refresh token."));let l="";g.setEncoding("utf8").on("error",c).on("data",o=>l+=o).on("end",()=>{try{const o=JSON.parse(l);return this.fromJSON(o),m()}catch(o){return c(o)}})})}static fromJSON(g){const m=new a;return m.fromJSON(g),m}}return refreshclient.UserRefreshClient=a,refreshclient}var impersonated={},hasRequiredImpersonated;function requireImpersonated(){if(hasRequiredImpersonated)return impersonated;hasRequiredImpersonated=1,Object.defineProperty(impersonated,"__esModule",{value:!0}),impersonated.Impersonated=impersonated.IMPERSONATED_ACCOUNT_TYPE=void 0;const e=requireOauth2client(),t=requireSrc$f(),a=requireUtil$8();impersonated.IMPERSONATED_ACCOUNT_TYPE="impersonated_service_account";class p extends e.OAuth2Client{constructor(m={}){var c,l,o,s,h,v;if(super(m),this.credentials={expiry_date:1,refresh_token:"impersonated-placeholder"},this.sourceClient=(c=m.sourceClient)!==null&&c!==void 0?c:new e.OAuth2Client,this.targetPrincipal=(l=m.targetPrincipal)!==null&&l!==void 0?l:"",this.delegates=(o=m.delegates)!==null&&o!==void 0?o:[],this.targetScopes=(s=m.targetScopes)!==null&&s!==void 0?s:[],this.lifetime=(h=m.lifetime)!==null&&h!==void 0?h:3600,!!!(0,a.originalOrCamelOptions)(m).get("universe_domain"))this.universeDomain=this.sourceClient.universeDomain;else if(this.sourceClient.universeDomain!==this.universeDomain)throw new RangeError(`Universe domain ${this.sourceClient.universeDomain} in source credentials does not match ${this.universeDomain} universe domain set for impersonated credentials.`);this.endpoint=(v=m.endpoint)!==null&&v!==void 0?v:`https://iamcredentials.${this.universeDomain}`}async sign(m){await this.sourceClient.getAccessToken();const c=`projects/-/serviceAccounts/${this.targetPrincipal}`,l=`${this.endpoint}/v1/${c}:signBlob`,o={delegates:this.delegates,payload:Buffer.from(m).toString("base64")};return(await this.sourceClient.request({...p.RETRY_CONFIG,url:l,data:o,method:"POST"})).data}getTargetPrincipal(){return this.targetPrincipal}async refreshToken(){var m,c,l,o,s,h;try{await this.sourceClient.getAccessToken();const v="projects/-/serviceAccounts/"+this.targetPrincipal,b=`${this.endpoint}/v1/${v}:generateAccessToken`,y={delegates:this.delegates,scope:this.targetScopes,lifetime:this.lifetime+"s"},O=await this.sourceClient.request({...p.RETRY_CONFIG,url:b,data:y,method:"POST"}),w=O.data;return this.credentials.access_token=w.accessToken,this.credentials.expiry_date=Date.parse(w.expireTime),{tokens:this.credentials,res:O}}catch(v){if(!(v instanceof Error))throw v;let b=0,y="";throw v instanceof t.GaxiosError&&(b=(l=(c=(m=v?.response)===null||m===void 0?void 0:m.data)===null||c===void 0?void 0:c.error)===null||l===void 0?void 0:l.status,y=(h=(s=(o=v?.response)===null||o===void 0?void 0:o.data)===null||s===void 0?void 0:s.error)===null||h===void 0?void 0:h.message),b&&y?(v.message=`${b}: unable to impersonate: ${y}`,v):(v.message=`unable to impersonate: ${v}`,v)}}async fetchIdToken(m,c){var l,o;await this.sourceClient.getAccessToken();const s=`projects/-/serviceAccounts/${this.targetPrincipal}`,h=`${this.endpoint}/v1/${s}:generateIdToken`,v={delegates:this.delegates,audience:m,includeEmail:(l=c?.includeEmail)!==null&&l!==void 0?l:!0,useEmailAzp:(o=c?.includeEmail)!==null&&o!==void 0?o:!0};return(await this.sourceClient.request({...p.RETRY_CONFIG,url:h,data:v,method:"POST"})).data.token}}return impersonated.Impersonated=p,impersonated}var externalclient={},baseexternalclient={},stscredentials={},oauth2common={},hasRequiredOauth2common;function requireOauth2common(){if(hasRequiredOauth2common)return oauth2common;hasRequiredOauth2common=1,Object.defineProperty(oauth2common,"__esModule",{value:!0}),oauth2common.OAuthClientAuthHandler=void 0,oauth2common.getErrorFromOAuthErrorResponse=g;const e=require$$1$3,t=requireCrypto(),a=["PUT","POST","PATCH"];class p{constructor(c){this.clientAuthentication=c,this.crypto=(0,t.createCrypto)()}applyClientAuthenticationOptions(c,l){this.injectAuthenticatedHeaders(c,l),l||this.injectAuthenticatedRequestBody(c)}injectAuthenticatedHeaders(c,l){var o;if(l)c.headers=c.headers||{},Object.assign(c.headers,{Authorization:`Bearer ${l}}`});else if(((o=this.clientAuthentication)===null||o===void 0?void 0:o.confidentialClientType)==="basic"){c.headers=c.headers||{};const s=this.clientAuthentication.clientId,h=this.clientAuthentication.clientSecret||"",v=this.crypto.encodeBase64StringUtf8(`${s}:${h}`);Object.assign(c.headers,{Authorization:`Basic ${v}`})}}injectAuthenticatedRequestBody(c){var l;if(((l=this.clientAuthentication)===null||l===void 0?void 0:l.confidentialClientType)==="request-body"){const o=(c.method||"GET").toUpperCase();if(a.indexOf(o)!==-1){let s;const h=c.headers||{};for(const v in h)if(v.toLowerCase()==="content-type"&&h[v]){s=h[v].toLowerCase();break}if(s==="application/x-www-form-urlencoded"){c.data=c.data||"";const v=e.parse(c.data);Object.assign(v,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""}),c.data=e.stringify(v)}else if(s==="application/json")c.data=c.data||{},Object.assign(c.data,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""});else throw new Error(`${s} content-types are not supported with ${this.clientAuthentication.confidentialClientType} client authentication`)}else throw new Error(`${o} HTTP method does not support ${this.clientAuthentication.confidentialClientType} client authentication`)}}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}oauth2common.OAuthClientAuthHandler=p;function g(m,c){const l=m.error,o=m.error_description,s=m.error_uri;let h=`Error code ${l}`;typeof o<"u"&&(h+=`: ${o}`),typeof s<"u"&&(h+=` - ${s}`);const v=new Error(h);if(c){const b=Object.keys(c);c.stack&&b.push("stack"),b.forEach(y=>{y!=="message"&&Object.defineProperty(v,y,{value:c[y],writable:!1,enumerable:!0})})}return v}return oauth2common}var hasRequiredStscredentials;function requireStscredentials(){if(hasRequiredStscredentials)return stscredentials;hasRequiredStscredentials=1,Object.defineProperty(stscredentials,"__esModule",{value:!0}),stscredentials.StsCredentials=void 0;const e=requireSrc$f(),t=require$$1$3,a=requireTransporters(),p=requireOauth2common();class g extends p.OAuthClientAuthHandler{constructor(c,l){super(l),this.tokenExchangeEndpoint=c,this.transporter=new a.DefaultTransporter}async exchangeToken(c,l,o){var s,h,v;const b={grant_type:c.grantType,resource:c.resource,audience:c.audience,scope:(s=c.scope)===null||s===void 0?void 0:s.join(" "),requested_token_type:c.requestedTokenType,subject_token:c.subjectToken,subject_token_type:c.subjectTokenType,actor_token:(h=c.actingParty)===null||h===void 0?void 0:h.actorToken,actor_token_type:(v=c.actingParty)===null||v===void 0?void 0:v.actorTokenType,options:o&&JSON.stringify(o)};Object.keys(b).forEach(w=>{typeof b[w]>"u"&&delete b[w]});const y={"Content-Type":"application/x-www-form-urlencoded"};Object.assign(y,l||{});const O={...g.RETRY_CONFIG,url:this.tokenExchangeEndpoint.toString(),method:"POST",headers:y,data:t.stringify(b),responseType:"json"};this.applyClientAuthenticationOptions(O);try{const w=await this.transporter.request(O),I=w.data;return I.res=w,I}catch(w){throw w instanceof e.GaxiosError&&w.response?(0,p.getErrorFromOAuthErrorResponse)(w.response.data,w):w}}}return stscredentials.StsCredentials=g,stscredentials}var hasRequiredBaseexternalclient;function requireBaseexternalclient(){return hasRequiredBaseexternalclient||(hasRequiredBaseexternalclient=1,(function(e){var t=baseexternalclient&&baseexternalclient.__classPrivateFieldGet||function(C,N,L,D){if(L==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof N=="function"?C!==N||!D:!N.has(C))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?D:L==="a"?D.call(C):D?D.value:N.get(C)},a=baseexternalclient&&baseexternalclient.__classPrivateFieldSet||function(C,N,L,D,j){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!j)throw new TypeError("Private accessor was defined without a setter");if(typeof N=="function"?C!==N||!j:!N.has(C))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?j.call(C,L):j?j.value=L:N.set(C,L),L},p,g,m;Object.defineProperty(e,"__esModule",{value:!0}),e.BaseExternalAccountClient=e.DEFAULT_UNIVERSE=e.CLOUD_RESOURCE_MANAGER=e.EXTERNAL_ACCOUNT_TYPE=e.EXPIRATION_TIME_OFFSET=void 0;const c=require$$1$3,l=requireAuthclient(),o=requireStscredentials(),s=requireUtil$8(),h="urn:ietf:params:oauth:grant-type:token-exchange",v="urn:ietf:params:oauth:token-type:access_token",b="https://www.googleapis.com/auth/cloud-platform",y=3600;e.EXPIRATION_TIME_OFFSET=3e5,e.EXTERNAL_ACCOUNT_TYPE="external_account",e.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";const O="//iam\\.googleapis\\.com/locations/[^/]+/workforcePools/[^/]+/providers/.+",w="https://sts.{universeDomain}/v1/token",I=require$$4$2;var _=requireAuthclient();Object.defineProperty(e,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return _.DEFAULT_UNIVERSE}});class T extends l.AuthClient{constructor(N,L){var D;super({...N,...L}),p.add(this),g.set(this,null);const j=(0,s.originalOrCamelOptions)(N),k=j.get("type");if(k&&k!==e.EXTERNAL_ACCOUNT_TYPE)throw new Error(`Expected "${e.EXTERNAL_ACCOUNT_TYPE}" type but received "${N.type}"`);const V=j.get("client_id"),G=j.get("client_secret"),J=(D=j.get("token_url"))!==null&&D!==void 0?D:w.replace("{universeDomain}",this.universeDomain),W=j.get("subject_token_type"),K=j.get("workforce_pool_user_project"),X=j.get("service_account_impersonation_url"),Y=j.get("service_account_impersonation"),te=(0,s.originalOrCamelOptions)(Y).get("token_lifetime_seconds");this.cloudResourceManagerURL=new URL(j.get("cloud_resource_manager_url")||`https://cloudresourcemanager.${this.universeDomain}/v1/projects/`),V&&(this.clientAuth={confidentialClientType:"basic",clientId:V,clientSecret:G}),this.stsCredential=new o.StsCredentials(J,this.clientAuth),this.scopes=j.get("scopes")||[b],this.cachedAccessToken=null,this.audience=j.get("audience"),this.subjectTokenType=W,this.workforcePoolUserProject=K;const oe=new RegExp(O);if(this.workforcePoolUserProject&&!this.audience.match(oe))throw new Error("workforcePoolUserProject should not be set for non-workforce pool credentials.");this.serviceAccountImpersonationUrl=X,this.serviceAccountImpersonationLifetime=te,this.serviceAccountImpersonationLifetime?this.configLifetimeRequested=!0:(this.configLifetimeRequested=!1,this.serviceAccountImpersonationLifetime=y),this.projectNumber=this.getProjectNumber(this.audience),this.supplierContext={audience:this.audience,subjectTokenType:this.subjectTokenType,transporter:this.transporter}}getServiceAccountEmail(){var N;if(this.serviceAccountImpersonationUrl){if(this.serviceAccountImpersonationUrl.length>256)throw new RangeError(`URL is too long: ${this.serviceAccountImpersonationUrl}`);const D=/serviceAccounts\/(?<email>[^:]+):generateAccessToken$/.exec(this.serviceAccountImpersonationUrl);return((N=D?.groups)===null||N===void 0?void 0:N.email)||null}return null}setCredentials(N){super.setCredentials(N),this.cachedAccessToken=N}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const L={Authorization:`Bearer ${(await this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(L)}request(N,L){if(L)this.requestAsync(N).then(D=>L(null,D),D=>L(D,D.response));else return this.requestAsync(N)}async getProjectId(){const N=this.projectNumber||this.workforcePoolUserProject;if(this.projectId)return this.projectId;if(N){const L=await this.getRequestHeaders(),D=await this.transporter.request({...T.RETRY_CONFIG,headers:L,url:`${this.cloudResourceManagerURL.toString()}${N}`,responseType:"json"});return this.projectId=D.data.projectId,this.projectId}return null}async requestAsync(N,L=!1){let D;try{const j=await this.getRequestHeaders();N.headers=N.headers||{},j&&j["x-goog-user-project"]&&(N.headers["x-goog-user-project"]=j["x-goog-user-project"]),j&&j.Authorization&&(N.headers.Authorization=j.Authorization),D=await this.transporter.request(N)}catch(j){const k=j.response;if(k){const V=k.status,G=k.config.data instanceof c.Readable;if(!L&&(V===401||V===403)&&!G&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(N,!0)}throw j}return D}async refreshAccessTokenAsync(){a(this,g,t(this,g,"f")||t(this,p,"m",m).call(this),"f");try{return await t(this,g,"f")}finally{a(this,g,null,"f")}}getProjectNumber(N){const L=N.match(/\/projects\/([^/]+)/);return L?L[1]:null}async getImpersonatedAccessToken(N){const L={...T.RETRY_CONFIG,url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},data:{scope:this.getScopesArray(),lifetime:this.serviceAccountImpersonationLifetime+"s"},responseType:"json"},D=await this.transporter.request(L),j=D.data;return{access_token:j.accessToken,expiry_date:new Date(j.expireTime).getTime(),res:D}}isExpired(N){const L=new Date().getTime();return N.expiry_date?L>=N.expiry_date-this.eagerRefreshThresholdMillis:!1}getScopesArray(){return typeof this.scopes=="string"?[this.scopes]:this.scopes||[b]}getMetricsHeaderValue(){const N=process.version.replace(/^v/,""),L=this.serviceAccountImpersonationUrl!==void 0,D=this.credentialSourceType?this.credentialSourceType:"unknown";return`gl-node/${N} auth/${I.version} google-byoid-sdk source/${D} sa-impersonation/${L} config-lifetime/${this.configLifetimeRequested}`}}e.BaseExternalAccountClient=T,g=new WeakMap,p=new WeakSet,m=async function(){const N=await this.retrieveSubjectToken(),L={grantType:h,audience:this.audience,requestedTokenType:v,subjectToken:N,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[b]:this.getScopesArray()},D=!this.clientAuth&&this.workforcePoolUserProject?{userProject:this.workforcePoolUserProject}:void 0,j={"x-goog-api-client":this.getMetricsHeaderValue()},k=await this.stsCredential.exchangeToken(L,j,D);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=await this.getImpersonatedAccessToken(k.access_token):k.expires_in?this.cachedAccessToken={access_token:k.access_token,expiry_date:new Date().getTime()+k.expires_in*1e3,res:k.res}:this.cachedAccessToken={access_token:k.access_token,res:k.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken}})(baseexternalclient)),baseexternalclient}var identitypoolclient={},filesubjecttokensupplier={},hasRequiredFilesubjecttokensupplier;function requireFilesubjecttokensupplier(){if(hasRequiredFilesubjecttokensupplier)return filesubjecttokensupplier;hasRequiredFilesubjecttokensupplier=1;var e,t,a;Object.defineProperty(filesubjecttokensupplier,"__esModule",{value:!0}),filesubjecttokensupplier.FileSubjectTokenSupplier=void 0;const p=require$$1$3,g=require$$1$3,m=(0,p.promisify)((e=g.readFile)!==null&&e!==void 0?e:(()=>{})),c=(0,p.promisify)((t=g.realpath)!==null&&t!==void 0?t:(()=>{})),l=(0,p.promisify)((a=g.lstat)!==null&&a!==void 0?a:(()=>{}));class o{constructor(h){this.filePath=h.filePath,this.formatType=h.formatType,this.subjectTokenFieldName=h.subjectTokenFieldName}async getSubjectToken(h){let v=this.filePath;try{if(v=await c(v),!(await l(v)).isFile())throw new Error}catch(O){throw O instanceof Error&&(O.message=`The file at ${v} does not exist, or it is not a file. ${O.message}`),O}let b;const y=await m(v,{encoding:"utf8"});if(this.formatType==="text"?b=y:this.formatType==="json"&&this.subjectTokenFieldName&&(b=JSON.parse(y)[this.subjectTokenFieldName]),!b)throw new Error("Unable to parse the subject_token from the credential_source file");return b}}return filesubjecttokensupplier.FileSubjectTokenSupplier=o,filesubjecttokensupplier}var urlsubjecttokensupplier={},hasRequiredUrlsubjecttokensupplier;function requireUrlsubjecttokensupplier(){if(hasRequiredUrlsubjecttokensupplier)return urlsubjecttokensupplier;hasRequiredUrlsubjecttokensupplier=1,Object.defineProperty(urlsubjecttokensupplier,"__esModule",{value:!0}),urlsubjecttokensupplier.UrlSubjectTokenSupplier=void 0;class e{constructor(a){this.url=a.url,this.formatType=a.formatType,this.subjectTokenFieldName=a.subjectTokenFieldName,this.headers=a.headers,this.additionalGaxiosOptions=a.additionalGaxiosOptions}async getSubjectToken(a){const p={...this.additionalGaxiosOptions,url:this.url,method:"GET",headers:this.headers,responseType:this.formatType};let g;if(this.formatType==="text"?g=(await a.transporter.request(p)).data:this.formatType==="json"&&this.subjectTokenFieldName&&(g=(await a.transporter.request(p)).data[this.subjectTokenFieldName]),!g)throw new Error("Unable to parse the subject_token from the credential_source URL");return g}}return urlsubjecttokensupplier.UrlSubjectTokenSupplier=e,urlsubjecttokensupplier}var hasRequiredIdentitypoolclient;function requireIdentitypoolclient(){if(hasRequiredIdentitypoolclient)return identitypoolclient;hasRequiredIdentitypoolclient=1,Object.defineProperty(identitypoolclient,"__esModule",{value:!0}),identitypoolclient.IdentityPoolClient=void 0;const e=requireBaseexternalclient(),t=requireUtil$8(),a=requireFilesubjecttokensupplier(),p=requireUrlsubjecttokensupplier();class g extends e.BaseExternalAccountClient{constructor(c,l){super(c,l);const o=(0,t.originalOrCamelOptions)(c),s=o.get("credential_source"),h=o.get("subject_token_supplier");if(!s&&!h)throw new Error("A credential source or subject token supplier must be specified.");if(s&&h)throw new Error("Only one of credential source or subject token supplier can be specified.");if(h)this.subjectTokenSupplier=h,this.credentialSourceType="programmatic";else{const v=(0,t.originalOrCamelOptions)(s),b=(0,t.originalOrCamelOptions)(v.get("format")),y=b.get("type")||"text",O=b.get("subject_token_field_name");if(y!=="json"&&y!=="text")throw new Error(`Invalid credential_source format "${y}"`);if(y==="json"&&!O)throw new Error("Missing subject_token_field_name for JSON credential_source format");const w=v.get("file"),I=v.get("url"),_=v.get("headers");if(w&&I)throw new Error('No valid Identity Pool "credential_source" provided, must be either file or url.');if(w&&!I)this.credentialSourceType="file",this.subjectTokenSupplier=new a.FileSubjectTokenSupplier({filePath:w,formatType:y,subjectTokenFieldName:O});else if(!w&&I)this.credentialSourceType="url",this.subjectTokenSupplier=new p.UrlSubjectTokenSupplier({url:I,formatType:y,subjectTokenFieldName:O,headers:_,additionalGaxiosOptions:g.RETRY_CONFIG});else throw new Error('No valid Identity Pool "credential_source" provided, must be either file or url.')}}async retrieveSubjectToken(){return this.subjectTokenSupplier.getSubjectToken(this.supplierContext)}}return identitypoolclient.IdentityPoolClient=g,identitypoolclient}var awsclient={},awsrequestsigner={},hasRequiredAwsrequestsigner;function requireAwsrequestsigner(){if(hasRequiredAwsrequestsigner)return awsrequestsigner;hasRequiredAwsrequestsigner=1,Object.defineProperty(awsrequestsigner,"__esModule",{value:!0}),awsrequestsigner.AwsRequestSigner=void 0;const e=requireCrypto(),t="AWS4-HMAC-SHA256",a="aws4_request";class p{constructor(o,s){this.getCredentials=o,this.region=s,this.crypto=(0,e.createCrypto)()}async getRequestOptions(o){if(!o.url)throw new Error('"url" is required in "amzOptions"');const s=typeof o.data=="object"?JSON.stringify(o.data):o.data,h=o.url,v=o.method||"GET",b=o.body||s,y=o.headers,O=await this.getCredentials(),w=new URL(h),I=await c({crypto:this.crypto,host:w.host,canonicalUri:w.pathname,canonicalQuerystring:w.search.substr(1),method:v,region:this.region,securityCredentials:O,requestPayload:b,additionalAmzHeaders:y}),_=Object.assign(I.amzDate?{"x-amz-date":I.amzDate}:{},{Authorization:I.authorizationHeader,host:w.host},y||{});O.token&&Object.assign(_,{"x-amz-security-token":O.token});const T={url:h,method:v,headers:_};return typeof b<"u"&&(T.body=b),T}}awsrequestsigner.AwsRequestSigner=p;async function g(l,o,s){return await l.signWithHmacSha256(o,s)}async function m(l,o,s,h,v){const b=await g(l,`AWS4${o}`,s),y=await g(l,b,h),O=await g(l,y,v);return await g(l,O,"aws4_request")}async function c(l){const o=l.additionalAmzHeaders||{},s=l.requestPayload||"",h=l.host.split(".")[0],v=new Date,b=v.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),y=v.toISOString().replace(/[-]/g,"").replace(/T.*/,""),O={};Object.keys(o).forEach(G=>{O[G.toLowerCase()]=o[G]}),l.securityCredentials.token&&(O["x-amz-security-token"]=l.securityCredentials.token);const w=Object.assign({host:l.host},O.date?{}:{"x-amz-date":b},O);let I="";const _=Object.keys(w).sort();_.forEach(G=>{I+=`${G}:${w[G]}
`});const T=_.join(";"),C=await l.crypto.sha256DigestHex(s),N=`${l.method}
${l.canonicalUri}
${l.canonicalQuerystring}
${I}
${T}
${C}`,L=`${y}/${l.region}/${h}/${a}`,D=`${t}
${b}
${L}
`+await l.crypto.sha256DigestHex(N),j=await m(l.crypto,l.securityCredentials.secretAccessKey,y,l.region,h),k=await g(l.crypto,j,D),V=`${t} Credential=${l.securityCredentials.accessKeyId}/${L}, SignedHeaders=${T}, Signature=${(0,e.fromArrayBufferToHex)(k)}`;return{amzDate:O.date?void 0:b,authorizationHeader:V,canonicalQuerystring:l.canonicalQuerystring}}return awsrequestsigner}var defaultawssecuritycredentialssupplier={},hasRequiredDefaultawssecuritycredentialssupplier;function requireDefaultawssecuritycredentialssupplier(){if(hasRequiredDefaultawssecuritycredentialssupplier)return defaultawssecuritycredentialssupplier;hasRequiredDefaultawssecuritycredentialssupplier=1;var e={},t=defaultawssecuritycredentialssupplier&&defaultawssecuritycredentialssupplier.__classPrivateFieldGet||function(s,h,v,b){if(v==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?s!==h||!b:!h.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?b:v==="a"?b.call(s):b?b.value:h.get(s)},a,p,g,m,c,l;Object.defineProperty(defaultawssecuritycredentialssupplier,"__esModule",{value:!0}),defaultawssecuritycredentialssupplier.DefaultAwsSecurityCredentialsSupplier=void 0;class o{constructor(h){a.add(this),this.regionUrl=h.regionUrl,this.securityCredentialsUrl=h.securityCredentialsUrl,this.imdsV2SessionTokenUrl=h.imdsV2SessionTokenUrl,this.additionalGaxiosOptions=h.additionalGaxiosOptions}async getAwsRegion(h){if(t(this,a,"a",c))return t(this,a,"a",c);const v={};if(!t(this,a,"a",c)&&this.imdsV2SessionTokenUrl&&(v["x-aws-ec2-metadata-token"]=await t(this,a,"m",p).call(this,h.transporter)),!this.regionUrl)throw new Error('Unable to determine AWS region due to missing "options.credential_source.region_url"');const b={...this.additionalGaxiosOptions,url:this.regionUrl,method:"GET",responseType:"text",headers:v},y=await h.transporter.request(b);return y.data.substr(0,y.data.length-1)}async getAwsSecurityCredentials(h){if(t(this,a,"a",l))return t(this,a,"a",l);const v={};this.imdsV2SessionTokenUrl&&(v["x-aws-ec2-metadata-token"]=await t(this,a,"m",p).call(this,h.transporter));const b=await t(this,a,"m",g).call(this,v,h.transporter),y=await t(this,a,"m",m).call(this,b,v,h.transporter);return{accessKeyId:y.AccessKeyId,secretAccessKey:y.SecretAccessKey,token:y.Token}}}return defaultawssecuritycredentialssupplier.DefaultAwsSecurityCredentialsSupplier=o,a=new WeakSet,p=async function(h){const v={...this.additionalGaxiosOptions,url:this.imdsV2SessionTokenUrl,method:"PUT",responseType:"text",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"300"}};return(await h.request(v)).data},g=async function(h,v){if(!this.securityCredentialsUrl)throw new Error('Unable to determine AWS role name due to missing "options.credential_source.url"');const b={...this.additionalGaxiosOptions,url:this.securityCredentialsUrl,method:"GET",responseType:"text",headers:h};return(await v.request(b)).data},m=async function(h,v,b){return(await b.request({...this.additionalGaxiosOptions,url:`${this.securityCredentialsUrl}/${h}`,responseType:"json",headers:v})).data},c=function(){return e.AWS_REGION||e.AWS_DEFAULT_REGION||null},l=function(){return e.AWS_ACCESS_KEY_ID&&e.AWS_SECRET_ACCESS_KEY?{accessKeyId:e.AWS_ACCESS_KEY_ID,secretAccessKey:e.AWS_SECRET_ACCESS_KEY,token:e.AWS_SESSION_TOKEN}:null},defaultawssecuritycredentialssupplier}var hasRequiredAwsclient;function requireAwsclient(){if(hasRequiredAwsclient)return awsclient;hasRequiredAwsclient=1;var e=awsclient&&awsclient.__classPrivateFieldGet||function(o,s,h,v){if(h==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?o!==s||!v:!s.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return h==="m"?v:h==="a"?v.call(o):v?v.value:s.get(o)},t,a;Object.defineProperty(awsclient,"__esModule",{value:!0}),awsclient.AwsClient=void 0;const p=requireAwsrequestsigner(),g=requireBaseexternalclient(),m=requireDefaultawssecuritycredentialssupplier(),c=requireUtil$8();class l extends g.BaseExternalAccountClient{constructor(s,h){super(s,h);const v=(0,c.originalOrCamelOptions)(s),b=v.get("credential_source"),y=v.get("aws_security_credentials_supplier");if(!b&&!y)throw new Error("A credential source or AWS security credentials supplier must be specified.");if(b&&y)throw new Error("Only one of credential source or AWS security credentials supplier can be specified.");if(y)this.awsSecurityCredentialsSupplier=y,this.regionalCredVerificationUrl=e(t,t,"f",a),this.credentialSourceType="programmatic";else{const O=(0,c.originalOrCamelOptions)(b);this.environmentId=O.get("environment_id");const w=O.get("region_url"),I=O.get("url"),_=O.get("imdsv2_session_token_url");this.awsSecurityCredentialsSupplier=new m.DefaultAwsSecurityCredentialsSupplier({regionUrl:w,securityCredentialsUrl:I,imdsV2SessionTokenUrl:_}),this.regionalCredVerificationUrl=O.get("regional_cred_verification_url"),this.credentialSourceType="aws",this.validateEnvironmentId()}this.awsRequestSigner=null,this.region=""}validateEnvironmentId(){var s;const h=(s=this.environmentId)===null||s===void 0?void 0:s.match(/^(aws)(\d+)$/);if(!h||!this.regionalCredVerificationUrl)throw new Error('No valid AWS "credential_source" provided');if(parseInt(h[2],10)!==1)throw new Error(`aws version "${h[2]}" is not supported in the current build.`)}async retrieveSubjectToken(){this.awsRequestSigner||(this.region=await this.awsSecurityCredentialsSupplier.getAwsRegion(this.supplierContext),this.awsRequestSigner=new p.AwsRequestSigner(async()=>this.awsSecurityCredentialsSupplier.getAwsSecurityCredentials(this.supplierContext),this.region));const s=await this.awsRequestSigner.getRequestOptions({...t.RETRY_CONFIG,url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),h=[],v=Object.assign({"x-goog-cloud-target-resource":this.audience},s.headers);for(const b in v)h.push({key:b,value:v[b]});return encodeURIComponent(JSON.stringify({url:s.url,method:s.method,headers:h}))}}return awsclient.AwsClient=l,t=l,a={value:"https://sts.{region}.amazonaws.com?Action=GetCallerIdentity&Version=2011-06-15"},l.AWS_EC2_METADATA_IPV4_ADDRESS="169.254.169.254",l.AWS_EC2_METADATA_IPV6_ADDRESS="fd00:ec2::254",awsclient}var pluggableAuthClient={},executableResponse={},hasRequiredExecutableResponse;function requireExecutableResponse(){if(hasRequiredExecutableResponse)return executableResponse;hasRequiredExecutableResponse=1,Object.defineProperty(executableResponse,"__esModule",{value:!0}),executableResponse.InvalidSubjectTokenError=executableResponse.InvalidMessageFieldError=executableResponse.InvalidCodeFieldError=executableResponse.InvalidTokenTypeFieldError=executableResponse.InvalidExpirationTimeFieldError=executableResponse.InvalidSuccessFieldError=executableResponse.InvalidVersionFieldError=executableResponse.ExecutableResponseError=executableResponse.ExecutableResponse=void 0;const e="urn:ietf:params:oauth:token-type:saml2",t="urn:ietf:params:oauth:token-type:id_token",a="urn:ietf:params:oauth:token-type:jwt";class p{constructor(y){if(!y.version)throw new m("Executable response must contain a 'version' field.");if(y.success===void 0)throw new c("Executable response must contain a 'success' field.");if(this.version=y.version,this.success=y.success,this.success){if(this.expirationTime=y.expiration_time,this.tokenType=y.token_type,this.tokenType!==e&&this.tokenType!==t&&this.tokenType!==a)throw new o(`Executable response must contain a 'token_type' field when successful and it must be one of ${t}, ${a}, or ${e}.`);if(this.tokenType===e){if(!y.saml_response)throw new v(`Executable response must contain a 'saml_response' field when token_type=${e}.`);this.subjectToken=y.saml_response}else{if(!y.id_token)throw new v(`Executable response must contain a 'id_token' field when token_type=${t} or ${a}.`);this.subjectToken=y.id_token}}else{if(!y.code)throw new s("Executable response must contain a 'code' field when unsuccessful.");if(!y.message)throw new h("Executable response must contain a 'message' field when unsuccessful.");this.errorCode=y.code,this.errorMessage=y.message}}isValid(){return!this.isExpired()&&this.success}isExpired(){return this.expirationTime!==void 0&&this.expirationTime<Math.round(Date.now()/1e3)}}executableResponse.ExecutableResponse=p;class g extends Error{constructor(y){super(y),Object.setPrototypeOf(this,new.target.prototype)}}executableResponse.ExecutableResponseError=g;class m extends g{}executableResponse.InvalidVersionFieldError=m;class c extends g{}executableResponse.InvalidSuccessFieldError=c;class l extends g{}executableResponse.InvalidExpirationTimeFieldError=l;class o extends g{}executableResponse.InvalidTokenTypeFieldError=o;class s extends g{}executableResponse.InvalidCodeFieldError=s;class h extends g{}executableResponse.InvalidMessageFieldError=h;class v extends g{}return executableResponse.InvalidSubjectTokenError=v,executableResponse}var pluggableAuthHandler={},hasRequiredPluggableAuthHandler;function requirePluggableAuthHandler(){if(hasRequiredPluggableAuthHandler)return pluggableAuthHandler;hasRequiredPluggableAuthHandler=1;var e={};Object.defineProperty(pluggableAuthHandler,"__esModule",{value:!0}),pluggableAuthHandler.PluggableAuthHandler=void 0;const t=requirePluggableAuthClient(),a=requireExecutableResponse(),p=require$$1$3,g=require$$1$3;class m{constructor(l){if(!l.command)throw new Error("No command provided.");if(this.commandComponents=m.parseCommand(l.command),this.timeoutMillis=l.timeoutMillis,!this.timeoutMillis)throw new Error("No timeoutMillis provided.");this.outputFile=l.outputFile}retrieveResponseFromExecutable(l){return new Promise((o,s)=>{const h=p.spawn(this.commandComponents[0],this.commandComponents.slice(1),{env:{...e,...Object.fromEntries(l)}});let v="";h.stdout.on("data",y=>{v+=y}),h.stderr.on("data",y=>{v+=y});const b=setTimeout(()=>(h.removeAllListeners(),h.kill(),s(new Error("The executable failed to finish within the timeout specified."))),this.timeoutMillis);h.on("close",y=>{if(clearTimeout(b),y===0)try{const O=JSON.parse(v),w=new a.ExecutableResponse(O);return o(w)}catch(O){return O instanceof a.ExecutableResponseError?s(O):s(new a.ExecutableResponseError(`The executable returned an invalid response: ${v}`))}else return s(new t.ExecutableError(v,y.toString()))})})}async retrieveCachedResponse(){if(!this.outputFile||this.outputFile.length===0)return;let l;try{l=await g.promises.realpath(this.outputFile)}catch{return}if(!(await g.promises.lstat(l)).isFile())return;const o=await g.promises.readFile(l,{encoding:"utf8"});if(o!=="")try{const s=JSON.parse(o);return new a.ExecutableResponse(s).isValid()?new a.ExecutableResponse(s):void 0}catch(s){throw s instanceof a.ExecutableResponseError?s:new a.ExecutableResponseError(`The output file contained an invalid response: ${o}`)}}static parseCommand(l){const o=l.match(/(?:[^\s"]+|"[^"]*")+/g);if(!o)throw new Error(`Provided command: "${l}" could not be parsed.`);for(let s=0;s<o.length;s++)o[s][0]==='"'&&o[s].slice(-1)==='"'&&(o[s]=o[s].slice(1,-1));return o}}return pluggableAuthHandler.PluggableAuthHandler=m,pluggableAuthHandler}var hasRequiredPluggableAuthClient;function requirePluggableAuthClient(){if(hasRequiredPluggableAuthClient)return pluggableAuthClient;hasRequiredPluggableAuthClient=1;var e={};Object.defineProperty(pluggableAuthClient,"__esModule",{value:!0}),pluggableAuthClient.PluggableAuthClient=pluggableAuthClient.ExecutableError=void 0;const t=requireBaseexternalclient(),a=requireExecutableResponse(),p=requirePluggableAuthHandler();class g extends Error{constructor(b,y){super(`The executable failed with exit code: ${y} and error message: ${b}.`),this.code=y,Object.setPrototypeOf(this,new.target.prototype)}}pluggableAuthClient.ExecutableError=g;const m=30*1e3,c=5*1e3,l=120*1e3,o="GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES",s=1;class h extends t.BaseExternalAccountClient{constructor(b,y){if(super(b,y),!b.credential_source.executable)throw new Error('No valid Pluggable Auth "credential_source" provided.');if(this.command=b.credential_source.executable.command,!this.command)throw new Error('No valid Pluggable Auth "credential_source" provided.');if(b.credential_source.executable.timeout_millis===void 0)this.timeoutMillis=m;else if(this.timeoutMillis=b.credential_source.executable.timeout_millis,this.timeoutMillis<c||this.timeoutMillis>l)throw new Error(`Timeout must be between ${c} and ${l} milliseconds.`);this.outputFile=b.credential_source.executable.output_file,this.handler=new p.PluggableAuthHandler({command:this.command,timeoutMillis:this.timeoutMillis,outputFile:this.outputFile}),this.credentialSourceType="executable"}async retrieveSubjectToken(){if(e[o]!=="1")throw new Error("Pluggable Auth executables need to be explicitly allowed to run by setting the GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES environment Variable to 1.");let b;if(this.outputFile&&(b=await this.handler.retrieveCachedResponse()),!b){const y=new Map;y.set("GOOGLE_EXTERNAL_ACCOUNT_AUDIENCE",this.audience),y.set("GOOGLE_EXTERNAL_ACCOUNT_TOKEN_TYPE",this.subjectTokenType),y.set("GOOGLE_EXTERNAL_ACCOUNT_INTERACTIVE","0"),this.outputFile&&y.set("GOOGLE_EXTERNAL_ACCOUNT_OUTPUT_FILE",this.outputFile);const O=this.getServiceAccountEmail();O&&y.set("GOOGLE_EXTERNAL_ACCOUNT_IMPERSONATED_EMAIL",O),b=await this.handler.retrieveResponseFromExecutable(y)}if(b.version>s)throw new Error(`Version of executable is not currently supported, maximum supported version is ${s}.`);if(!b.success)throw new g(b.errorMessage,b.errorCode);if(this.outputFile&&!b.expirationTime)throw new a.InvalidExpirationTimeFieldError("The executable response must contain the `expiration_time` field for successful responses when an output_file has been specified in the configuration.");if(b.isExpired())throw new Error("Executable response is expired.");return b.subjectToken}}return pluggableAuthClient.PluggableAuthClient=h,pluggableAuthClient}var hasRequiredExternalclient;function requireExternalclient(){if(hasRequiredExternalclient)return externalclient;hasRequiredExternalclient=1,Object.defineProperty(externalclient,"__esModule",{value:!0}),externalclient.ExternalAccountClient=void 0;const e=requireBaseexternalclient(),t=requireIdentitypoolclient(),a=requireAwsclient(),p=requirePluggableAuthClient();class g{constructor(){throw new Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options), newPluggableAuthClientOptions, or via new GoogleAuth(options).getClient()")}static fromJSON(c,l){var o,s;return c&&c.type===e.EXTERNAL_ACCOUNT_TYPE?!((o=c.credential_source)===null||o===void 0)&&o.environment_id?new a.AwsClient(c,l):!((s=c.credential_source)===null||s===void 0)&&s.executable?new p.PluggableAuthClient(c,l):new t.IdentityPoolClient(c,l):null}}return externalclient.ExternalAccountClient=g,externalclient}var externalAccountAuthorizedUserClient={},hasRequiredExternalAccountAuthorizedUserClient;function requireExternalAccountAuthorizedUserClient(){if(hasRequiredExternalAccountAuthorizedUserClient)return externalAccountAuthorizedUserClient;hasRequiredExternalAccountAuthorizedUserClient=1,Object.defineProperty(externalAccountAuthorizedUserClient,"__esModule",{value:!0}),externalAccountAuthorizedUserClient.ExternalAccountAuthorizedUserClient=externalAccountAuthorizedUserClient.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE=void 0;const e=requireAuthclient(),t=requireOauth2common(),a=requireSrc$f(),p=require$$1$3,g=requireBaseexternalclient();externalAccountAuthorizedUserClient.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE="external_account_authorized_user";const m="https://sts.{universeDomain}/v1/oauthtoken";class c extends t.OAuthClientAuthHandler{constructor(s,h,v){super(v),this.url=s,this.transporter=h}async refreshToken(s,h){const v=new URLSearchParams({grant_type:"refresh_token",refresh_token:s}),b={"Content-Type":"application/x-www-form-urlencoded",...h},y={...c.RETRY_CONFIG,url:this.url,method:"POST",headers:b,data:v.toString(),responseType:"json"};this.applyClientAuthenticationOptions(y);try{const O=await this.transporter.request(y),w=O.data;return w.res=O,w}catch(O){throw O instanceof a.GaxiosError&&O.response?(0,t.getErrorFromOAuthErrorResponse)(O.response.data,O):O}}}class l extends e.AuthClient{constructor(s,h){var v;super({...s,...h}),s.universe_domain&&(this.universeDomain=s.universe_domain),this.refreshToken=s.refresh_token;const b={confidentialClientType:"basic",clientId:s.client_id,clientSecret:s.client_secret};this.externalAccountAuthorizedUserHandler=new c((v=s.token_url)!==null&&v!==void 0?v:m.replace("{universeDomain}",this.universeDomain),this.transporter,b),this.cachedAccessToken=null,this.quotaProjectId=s.quota_project_id,typeof h?.eagerRefreshThresholdMillis!="number"?this.eagerRefreshThresholdMillis=g.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=h.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!h?.forceRefreshOnFailure}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const h={Authorization:`Bearer ${(await this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(h)}request(s,h){if(h)this.requestAsync(s).then(v=>h(null,v),v=>h(v,v.response));else return this.requestAsync(s)}async requestAsync(s,h=!1){let v;try{const b=await this.getRequestHeaders();s.headers=s.headers||{},b&&b["x-goog-user-project"]&&(s.headers["x-goog-user-project"]=b["x-goog-user-project"]),b&&b.Authorization&&(s.headers.Authorization=b.Authorization),v=await this.transporter.request(s)}catch(b){const y=b.response;if(y){const O=y.status,w=y.config.data instanceof p.Readable;if(!h&&(O===401||O===403)&&!w&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(s,!0)}throw b}return v}async refreshAccessTokenAsync(){const s=await this.externalAccountAuthorizedUserHandler.refreshToken(this.refreshToken);return this.cachedAccessToken={access_token:s.access_token,expiry_date:new Date().getTime()+s.expires_in*1e3,res:s.res},s.refresh_token!==void 0&&(this.refreshToken=s.refresh_token),this.cachedAccessToken}isExpired(s){const h=new Date().getTime();return s.expiry_date?h>=s.expiry_date-this.eagerRefreshThresholdMillis:!1}}return externalAccountAuthorizedUserClient.ExternalAccountAuthorizedUserClient=l,externalAccountAuthorizedUserClient}var hasRequiredGoogleauth;function requireGoogleauth(){return hasRequiredGoogleauth||(hasRequiredGoogleauth=1,(function(e){var t={},a=googleauth&&googleauth.__classPrivateFieldGet||function(J,W,K,X){if(K==="a"&&!X)throw new TypeError("Private accessor was defined without a getter");if(typeof W=="function"?J!==W||!X:!W.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return K==="m"?X:K==="a"?X.call(J):X?X.value:W.get(J)},p=googleauth&&googleauth.__classPrivateFieldSet||function(J,W,K,X,Y){if(X==="m")throw new TypeError("Private method is not writable");if(X==="a"&&!Y)throw new TypeError("Private accessor was defined without a setter");if(typeof W=="function"?J!==W||!Y:!W.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?Y.call(J,K):Y?Y.value=K:W.set(J,K),K},g,m,c,l;Object.defineProperty(e,"__esModule",{value:!0}),e.GoogleAuth=e.GoogleAuthExceptionMessages=e.CLOUD_SDK_CLIENT_ID=void 0;const o=require$$1$3,s=require$$1$3,h=requireSrc$d(),v=require$$1$3,b=require$$1$3,y=requireCrypto(),O=requireTransporters(),w=requireComputeclient(),I=requireIdtokenclient(),_=requireEnvDetect(),T=requireJwtclient(),C=requireRefreshclient(),N=requireImpersonated(),L=requireExternalclient(),D=requireBaseexternalclient(),j=requireAuthclient(),k=requireExternalAccountAuthorizedUserClient(),V=requireUtil$8();e.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com",e.GoogleAuthExceptionMessages={API_KEY_WITH_CREDENTIALS:"API Keys and Credentials are mutually exclusive authentication methods and cannot be used together.",NO_PROJECT_ID_FOUND:`Unable to detect a Project Id in the current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`,NO_CREDENTIALS_FOUND:`Unable to find credentials in current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`,NO_ADC_FOUND:"Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.",NO_UNIVERSE_DOMAIN_FOUND:`Unable to detect a Universe Domain in the current environment.
To learn more about Universe Domain retrieval, visit: 
https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys`};class G{get isGCE(){return this.checkIsGCE}constructor(W={}){if(g.add(this),this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,m.set(this,null),this.clientOptions={},this._cachedProjectId=W.projectId||null,this.cachedCredential=W.authClient||null,this.keyFilename=W.keyFilename||W.keyFile,this.scopes=W.scopes,this.clientOptions=W.clientOptions||{},this.jsonContent=W.credentials||null,this.apiKey=W.apiKey||this.clientOptions.apiKey||null,this.apiKey&&(this.jsonContent||this.clientOptions.credentials))throw new RangeError(e.GoogleAuthExceptionMessages.API_KEY_WITH_CREDENTIALS);W.universeDomain&&(this.clientOptions.universeDomain=W.universeDomain)}setGapicJWTValues(W){W.defaultServicePath=this.defaultServicePath,W.useJWTAccessWithScope=this.useJWTAccessWithScope,W.defaultScopes=this.defaultScopes}getProjectId(W){if(W)this.getProjectIdAsync().then(K=>W(null,K),W);else return this.getProjectIdAsync()}async getProjectIdOptional(){try{return await this.getProjectId()}catch(W){if(W instanceof Error&&W.message===e.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)return null;throw W}}async findAndCacheProjectId(){let W=null;if(W||(W=await this.getProductionProjectId()),W||(W=await this.getFileProjectId()),W||(W=await this.getDefaultServiceProjectId()),W||(W=await this.getGCEProjectId()),W||(W=await this.getExternalAccountClientProjectId()),W)return this._cachedProjectId=W,W;throw new Error(e.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)}async getProjectIdAsync(){return this._cachedProjectId?this._cachedProjectId:(this._findProjectIdPromise||(this._findProjectIdPromise=this.findAndCacheProjectId()),this._findProjectIdPromise)}async getUniverseDomainFromMetadataServer(){var W;let K;try{K=await h.universe("universe-domain"),K||(K=j.DEFAULT_UNIVERSE)}catch(X){if(X&&((W=X?.response)===null||W===void 0?void 0:W.status)===404)K=j.DEFAULT_UNIVERSE;else throw X}return K}async getUniverseDomain(){let W=(0,V.originalOrCamelOptions)(this.clientOptions).get("universe_domain");try{W??(W=(await this.getClient()).universeDomain)}catch{W??(W=j.DEFAULT_UNIVERSE)}return W}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(W={},K){let X;if(typeof W=="function"?K=W:X=W,K)this.getApplicationDefaultAsync(X).then(Y=>K(null,Y.credential,Y.projectId),K);else return this.getApplicationDefaultAsync(X)}async getApplicationDefaultAsync(W={}){if(this.cachedCredential)return await a(this,g,"m",c).call(this,this.cachedCredential,null);let K;if(K=await this._tryGetApplicationCredentialsFromEnvironmentVariable(W),K)return K instanceof T.JWT?K.scopes=this.scopes:K instanceof D.BaseExternalAccountClient&&(K.scopes=this.getAnyScopes()),await a(this,g,"m",c).call(this,K);if(K=await this._tryGetApplicationCredentialsFromWellKnownFile(W),K)return K instanceof T.JWT?K.scopes=this.scopes:K instanceof D.BaseExternalAccountClient&&(K.scopes=this.getAnyScopes()),await a(this,g,"m",c).call(this,K);if(await this._checkIsGCE())return W.scopes=this.getAnyScopes(),await a(this,g,"m",c).call(this,new w.Compute(W));throw new Error(e.GoogleAuthExceptionMessages.NO_ADC_FOUND)}async _checkIsGCE(){return this.checkIsGCE===void 0&&(this.checkIsGCE=h.getGCPResidency()||await h.isAvailable()),this.checkIsGCE}async _tryGetApplicationCredentialsFromEnvironmentVariable(W){const K=t.GOOGLE_APPLICATION_CREDENTIALS||t.google_application_credentials;if(!K||K.length===0)return null;try{return this._getApplicationCredentialsFromFilePath(K,W)}catch(X){throw X instanceof Error&&(X.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${X.message}`),X}}async _tryGetApplicationCredentialsFromWellKnownFile(W){let K=null;if(this._isWindows())K=t.APPDATA;else{const Y=t.HOME;Y&&(K=b.join(Y,".config"))}return K&&(K=b.join(K,"gcloud","application_default_credentials.json"),s.existsSync(K)||(K=null)),K?await this._getApplicationCredentialsFromFilePath(K,W):null}async _getApplicationCredentialsFromFilePath(W,K={}){if(!W||W.length===0)throw new Error("The file path is invalid.");try{if(W=s.realpathSync(W),!s.lstatSync(W).isFile())throw new Error}catch(Y){throw Y instanceof Error&&(Y.message=`The file at ${W} does not exist, or it is not a file. ${Y.message}`),Y}const X=s.createReadStream(W);return this.fromStream(X,K)}fromImpersonatedJSON(W){var K,X,Y,te;if(!W)throw new Error("Must pass in a JSON object containing an  impersonated refresh token");if(W.type!==N.IMPERSONATED_ACCOUNT_TYPE)throw new Error(`The incoming JSON object does not have the "${N.IMPERSONATED_ACCOUNT_TYPE}" type`);if(!W.source_credentials)throw new Error("The incoming JSON object does not contain a source_credentials field");if(!W.service_account_impersonation_url)throw new Error("The incoming JSON object does not contain a service_account_impersonation_url field");const oe=this.fromJSON(W.source_credentials);if(((K=W.service_account_impersonation_url)===null||K===void 0?void 0:K.length)>256)throw new RangeError(`Target principal is too long: ${W.service_account_impersonation_url}`);const le=(Y=(X=/(?<target>[^/]+):(generateAccessToken|generateIdToken)$/.exec(W.service_account_impersonation_url))===null||X===void 0?void 0:X.groups)===null||Y===void 0?void 0:Y.target;if(!le)throw new RangeError(`Cannot extract target principal from ${W.service_account_impersonation_url}`);const ee=(te=this.getAnyScopes())!==null&&te!==void 0?te:[];return new N.Impersonated({...W,sourceClient:oe,targetPrincipal:le,targetScopes:Array.isArray(ee)?ee:[ee]})}fromJSON(W,K={}){let X;const Y=(0,V.originalOrCamelOptions)(K).get("universe_domain");return W.type===C.USER_REFRESH_ACCOUNT_TYPE?(X=new C.UserRefreshClient(K),X.fromJSON(W)):W.type===N.IMPERSONATED_ACCOUNT_TYPE?X=this.fromImpersonatedJSON(W):W.type===D.EXTERNAL_ACCOUNT_TYPE?(X=L.ExternalAccountClient.fromJSON(W,K),X.scopes=this.getAnyScopes()):W.type===k.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE?X=new k.ExternalAccountAuthorizedUserClient(W,K):(K.scopes=this.scopes,X=new T.JWT(K),this.setGapicJWTValues(X),X.fromJSON(W)),Y&&(X.universeDomain=Y),X}_cacheClientFromJSON(W,K){const X=this.fromJSON(W,K);return this.jsonContent=W,this.cachedCredential=X,X}fromStream(W,K={},X){let Y={};if(typeof K=="function"?X=K:Y=K,X)this.fromStreamAsync(W,Y).then(te=>X(null,te),X);else return this.fromStreamAsync(W,Y)}fromStreamAsync(W,K){return new Promise((X,Y)=>{if(!W)throw new Error("Must pass in a stream containing the Google auth settings.");const te=[];W.setEncoding("utf8").on("error",Y).on("data",oe=>te.push(oe)).on("end",()=>{try{try{const oe=JSON.parse(te.join("")),le=this._cacheClientFromJSON(oe,K);return X(le)}catch(oe){if(!this.keyFilename)throw oe;const le=new T.JWT({...this.clientOptions,keyFile:this.keyFilename});return this.cachedCredential=le,this.setGapicJWTValues(le),X(le)}}catch(oe){return Y(oe)}})})}fromAPIKey(W,K={}){return new T.JWT({...K,apiKey:W})}_isWindows(){const W=v.platform();return!!(W&&W.length>=3&&W.substring(0,3).toLowerCase()==="win")}async getDefaultServiceProjectId(){return new Promise(W=>{(0,o.exec)("gcloud config config-helper --format json",(K,X)=>{if(!K&&X)try{const Y=JSON.parse(X).configuration.properties.core.project;W(Y);return}catch{}W(null)})})}getProductionProjectId(){return t.GCLOUD_PROJECT||t.GOOGLE_CLOUD_PROJECT||t.gcloud_project||t.google_cloud_project}async getFileProjectId(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){const K=await this.getClient();if(K&&K.projectId)return K.projectId}const W=await this._tryGetApplicationCredentialsFromEnvironmentVariable();return W?W.projectId:null}async getExternalAccountClientProjectId(){return!this.jsonContent||this.jsonContent.type!==D.EXTERNAL_ACCOUNT_TYPE?null:await(await this.getClient()).getProjectId()}async getGCEProjectId(){try{return await h.project("project-id")}catch{return null}}getCredentials(W){if(W)this.getCredentialsAsync().then(K=>W(null,K),W);else return this.getCredentialsAsync()}async getCredentialsAsync(){const W=await this.getClient();if(W instanceof N.Impersonated)return{client_email:W.getTargetPrincipal()};if(W instanceof D.BaseExternalAccountClient){const K=W.getServiceAccountEmail();if(K)return{client_email:K,universe_domain:W.universeDomain}}if(this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key,universe_domain:this.jsonContent.universe_domain};if(await this._checkIsGCE()){const[K,X]=await Promise.all([h.instance("service-accounts/default/email"),this.getUniverseDomain()]);return{client_email:K,universe_domain:X}}throw new Error(e.GoogleAuthExceptionMessages.NO_CREDENTIALS_FOUND)}async getClient(){if(this.cachedCredential)return this.cachedCredential;p(this,m,a(this,m,"f")||a(this,g,"m",l).call(this),"f");try{return await a(this,m,"f")}finally{p(this,m,null,"f")}}async getIdTokenClient(W){const K=await this.getClient();if(!("fetchIdToken"in K))throw new Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new I.IdTokenClient({targetAudience:W,idTokenProvider:K})}async getAccessToken(){return(await(await this.getClient()).getAccessToken()).token}async getRequestHeaders(W){return(await this.getClient()).getRequestHeaders(W)}async authorizeRequest(W){W=W||{};const K=W.url||W.uri,Y=await(await this.getClient()).getRequestHeaders(K);return W.headers=Object.assign(W.headers||{},Y),W}async request(W){return(await this.getClient()).request(W)}getEnv(){return(0,_.getEnv)()}async sign(W,K){const X=await this.getClient(),Y=await this.getUniverseDomain();if(K=K||`https://iamcredentials.${Y}/v1/projects/-/serviceAccounts/`,X instanceof N.Impersonated)return(await X.sign(W)).signedBlob;const te=(0,y.createCrypto)();if(X instanceof T.JWT&&X.key)return await te.sign(X.key,W);const oe=await this.getCredentials();if(!oe.client_email)throw new Error("Cannot sign data without `client_email`.");return this.signBlob(te,oe.client_email,W,K)}async signBlob(W,K,X,Y){const te=new URL(Y+`${K}:signBlob`);return(await this.request({method:"POST",url:te.href,data:{payload:W.encodeBase64StringUtf8(X)},retry:!0,retryConfig:{httpMethodsToRetry:["POST"]}})).data.signedBlob}}e.GoogleAuth=G,m=new WeakMap,g=new WeakSet,c=async function(W,K=t.GOOGLE_CLOUD_QUOTA_PROJECT||null){const X=await this.getProjectIdOptional();return K&&(W.quotaProjectId=K),this.cachedCredential=W,{credential:W,projectId:X}},l=async function(){if(this.jsonContent)return this._cacheClientFromJSON(this.jsonContent,this.clientOptions);if(this.keyFilename){const W=b.resolve(this.keyFilename),K=s.createReadStream(W);return await this.fromStreamAsync(K,this.clientOptions)}else if(this.apiKey){const W=await this.fromAPIKey(this.apiKey,this.clientOptions);W.scopes=this.scopes;const{credential:K}=await a(this,g,"m",c).call(this,W);return K}else{const{credential:W}=await this.getApplicationDefaultAsync(this.clientOptions);return W}},G.DefaultTransporter=O.DefaultTransporter})(googleauth)),googleauth}var iam$1={},hasRequiredIam$1;function requireIam$1(){if(hasRequiredIam$1)return iam$1;hasRequiredIam$1=1,Object.defineProperty(iam$1,"__esModule",{value:!0}),iam$1.IAMAuth=void 0;class e{constructor(a,p){this.selector=a,this.token=p,this.selector=a,this.token=p}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}}return iam$1.IAMAuth=e,iam$1}var downscopedclient={},hasRequiredDownscopedclient;function requireDownscopedclient(){return hasRequiredDownscopedclient||(hasRequiredDownscopedclient=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DownscopedClient=e.EXPIRATION_TIME_OFFSET=e.MAX_ACCESS_BOUNDARY_RULES_COUNT=void 0;const t=require$$1$3,a=requireAuthclient(),p=requireStscredentials(),g="urn:ietf:params:oauth:grant-type:token-exchange",m="urn:ietf:params:oauth:token-type:access_token",c="urn:ietf:params:oauth:token-type:access_token";e.MAX_ACCESS_BOUNDARY_RULES_COUNT=10,e.EXPIRATION_TIME_OFFSET=3e5;class l extends a.AuthClient{constructor(s,h,v,b){if(super({...v,quotaProjectId:b}),this.authClient=s,this.credentialAccessBoundary=h,h.accessBoundary.accessBoundaryRules.length===0)throw new Error("At least one access boundary rule needs to be defined.");if(h.accessBoundary.accessBoundaryRules.length>e.MAX_ACCESS_BOUNDARY_RULES_COUNT)throw new Error(`The provided access boundary has more than ${e.MAX_ACCESS_BOUNDARY_RULES_COUNT} access boundary rules.`);for(const y of h.accessBoundary.accessBoundaryRules)if(y.availablePermissions.length===0)throw new Error("At least one permission should be defined in access boundary rules.");this.stsCredential=new p.StsCredentials(`https://sts.${this.universeDomain}/v1/token`),this.cachedDownscopedAccessToken=null}setCredentials(s){if(!s.expiry_date)throw new Error("The access token expiry_date field is missing in the provided credentials.");super.setCredentials(s),this.cachedDownscopedAccessToken=s}async getAccessToken(){return(!this.cachedDownscopedAccessToken||this.isExpired(this.cachedDownscopedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedDownscopedAccessToken.access_token,expirationTime:this.cachedDownscopedAccessToken.expiry_date,res:this.cachedDownscopedAccessToken.res}}async getRequestHeaders(){const h={Authorization:`Bearer ${(await this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(h)}request(s,h){if(h)this.requestAsync(s).then(v=>h(null,v),v=>h(v,v.response));else return this.requestAsync(s)}async requestAsync(s,h=!1){let v;try{const b=await this.getRequestHeaders();s.headers=s.headers||{},b&&b["x-goog-user-project"]&&(s.headers["x-goog-user-project"]=b["x-goog-user-project"]),b&&b.Authorization&&(s.headers.Authorization=b.Authorization),v=await this.transporter.request(s)}catch(b){const y=b.response;if(y){const O=y.status,w=y.config.data instanceof t.Readable;if(!h&&(O===401||O===403)&&!w&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(s,!0)}throw b}return v}async refreshAccessTokenAsync(){var s;const h=(await this.authClient.getAccessToken()).token,v={grantType:g,requestedTokenType:m,subjectToken:h,subjectTokenType:c},b=await this.stsCredential.exchangeToken(v,void 0,this.credentialAccessBoundary),y=((s=this.authClient.credentials)===null||s===void 0?void 0:s.expiry_date)||null,O=b.expires_in?new Date().getTime()+b.expires_in*1e3:y;return this.cachedDownscopedAccessToken={access_token:b.access_token,expiry_date:O,res:b.res},this.credentials={},Object.assign(this.credentials,this.cachedDownscopedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedDownscopedAccessToken.expiry_date,access_token:this.cachedDownscopedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedDownscopedAccessToken}isExpired(s){const h=new Date().getTime();return s.expiry_date?h>=s.expiry_date-this.eagerRefreshThresholdMillis:!1}}e.DownscopedClient=l})(downscopedclient)),downscopedclient}var passthrough={},hasRequiredPassthrough;function requirePassthrough(){if(hasRequiredPassthrough)return passthrough;hasRequiredPassthrough=1,Object.defineProperty(passthrough,"__esModule",{value:!0}),passthrough.PassThroughClient=void 0;const e=requireAuthclient();class t extends e.AuthClient{async request(g){return this.transporter.request(g)}async getAccessToken(){return{}}async getRequestHeaders(){return{}}}return passthrough.PassThroughClient=t,new t().getAccessToken(),passthrough}var hasRequiredSrc$b;function requireSrc$b(){return hasRequiredSrc$b||(hasRequiredSrc$b=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.GoogleAuth=e.auth=e.DefaultTransporter=e.PassThroughClient=e.ExecutableError=e.PluggableAuthClient=e.DownscopedClient=e.BaseExternalAccountClient=e.ExternalAccountClient=e.IdentityPoolClient=e.AwsRequestSigner=e.AwsClient=e.UserRefreshClient=e.LoginTicket=e.ClientAuthentication=e.OAuth2Client=e.CodeChallengeMethod=e.Impersonated=e.JWT=e.JWTAccess=e.IdTokenClient=e.IAMAuth=e.GCPEnv=e.Compute=e.DEFAULT_UNIVERSE=e.AuthClient=e.gaxios=e.gcpMetadata=void 0;const t=requireGoogleauth();Object.defineProperty(e,"GoogleAuth",{enumerable:!0,get:function(){return t.GoogleAuth}}),e.gcpMetadata=requireSrc$d(),e.gaxios=requireSrc$f();var a=requireAuthclient();Object.defineProperty(e,"AuthClient",{enumerable:!0,get:function(){return a.AuthClient}}),Object.defineProperty(e,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return a.DEFAULT_UNIVERSE}});var p=requireComputeclient();Object.defineProperty(e,"Compute",{enumerable:!0,get:function(){return p.Compute}});var g=requireEnvDetect();Object.defineProperty(e,"GCPEnv",{enumerable:!0,get:function(){return g.GCPEnv}});var m=requireIam$1();Object.defineProperty(e,"IAMAuth",{enumerable:!0,get:function(){return m.IAMAuth}});var c=requireIdtokenclient();Object.defineProperty(e,"IdTokenClient",{enumerable:!0,get:function(){return c.IdTokenClient}});var l=requireJwtaccess();Object.defineProperty(e,"JWTAccess",{enumerable:!0,get:function(){return l.JWTAccess}});var o=requireJwtclient();Object.defineProperty(e,"JWT",{enumerable:!0,get:function(){return o.JWT}});var s=requireImpersonated();Object.defineProperty(e,"Impersonated",{enumerable:!0,get:function(){return s.Impersonated}});var h=requireOauth2client();Object.defineProperty(e,"CodeChallengeMethod",{enumerable:!0,get:function(){return h.CodeChallengeMethod}}),Object.defineProperty(e,"OAuth2Client",{enumerable:!0,get:function(){return h.OAuth2Client}}),Object.defineProperty(e,"ClientAuthentication",{enumerable:!0,get:function(){return h.ClientAuthentication}});var v=requireLoginticket();Object.defineProperty(e,"LoginTicket",{enumerable:!0,get:function(){return v.LoginTicket}});var b=requireRefreshclient();Object.defineProperty(e,"UserRefreshClient",{enumerable:!0,get:function(){return b.UserRefreshClient}});var y=requireAwsclient();Object.defineProperty(e,"AwsClient",{enumerable:!0,get:function(){return y.AwsClient}});var O=requireAwsrequestsigner();Object.defineProperty(e,"AwsRequestSigner",{enumerable:!0,get:function(){return O.AwsRequestSigner}});var w=requireIdentitypoolclient();Object.defineProperty(e,"IdentityPoolClient",{enumerable:!0,get:function(){return w.IdentityPoolClient}});var I=requireExternalclient();Object.defineProperty(e,"ExternalAccountClient",{enumerable:!0,get:function(){return I.ExternalAccountClient}});var _=requireBaseexternalclient();Object.defineProperty(e,"BaseExternalAccountClient",{enumerable:!0,get:function(){return _.BaseExternalAccountClient}});var T=requireDownscopedclient();Object.defineProperty(e,"DownscopedClient",{enumerable:!0,get:function(){return T.DownscopedClient}});var C=requirePluggableAuthClient();Object.defineProperty(e,"PluggableAuthClient",{enumerable:!0,get:function(){return C.PluggableAuthClient}}),Object.defineProperty(e,"ExecutableError",{enumerable:!0,get:function(){return C.ExecutableError}});var N=requirePassthrough();Object.defineProperty(e,"PassThroughClient",{enumerable:!0,get:function(){return N.PassThroughClient}});var L=requireTransporters();Object.defineProperty(e,"DefaultTransporter",{enumerable:!0,get:function(){return L.DefaultTransporter}});const D=new t.GoogleAuth;e.auth=D})(src$f)),src$f}var forge,hasRequiredForge;function requireForge(){return hasRequiredForge||(hasRequiredForge=1,forge={options:{usePureJavaScript:!1}}),forge}var util$7={exports:{}},baseN,hasRequiredBaseN;function requireBaseN(){if(hasRequiredBaseN)return baseN;hasRequiredBaseN=1;var e={};baseN=e;var t={};e.encode=function(p,g,m){if(typeof g!="string")throw new TypeError('"alphabet" must be a string.');if(m!==void 0&&typeof m!="number")throw new TypeError('"maxline" must be a number.');var c="";if(!(p instanceof Uint8Array))c=a(p,g);else{var l=0,o=g.length,s=g.charAt(0),h=[0];for(l=0;l<p.length;++l){for(var v=0,b=p[l];v<h.length;++v)b+=h[v]<<8,h[v]=b%o,b=b/o|0;for(;b>0;)h.push(b%o),b=b/o|0}for(l=0;p[l]===0&&l<p.length-1;++l)c+=s;for(l=h.length-1;l>=0;--l)c+=g[h[l]]}if(m){var y=new RegExp(".{1,"+m+"}","g");c=c.match(y).join(`\r
`)}return c},e.decode=function(p,g){if(typeof p!="string")throw new TypeError('"input" must be a string.');if(typeof g!="string")throw new TypeError('"alphabet" must be a string.');var m=t[g];if(!m){m=t[g]=[];for(var c=0;c<g.length;++c)m[g.charCodeAt(c)]=c}p=p.replace(/\s/g,"");for(var l=g.length,o=g.charAt(0),s=[0],c=0;c<p.length;c++){var h=m[p.charCodeAt(c)];if(h===void 0)return;for(var v=0,b=h;v<s.length;++v)b+=s[v]*l,s[v]=b&255,b>>=8;for(;b>0;)s.push(b&255),b>>=8}for(var y=0;p[y]===o&&y<p.length-1;++y)s.push(0);return typeof Buffer<"u"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function a(p,g){var m=0,c=g.length,l=g.charAt(0),o=[0];for(m=0;m<p.length();++m){for(var s=0,h=p.at(m);s<o.length;++s)h+=o[s]<<8,o[s]=h%c,h=h/c|0;for(;h>0;)o.push(h%c),h=h/c|0}var v="";for(m=0;p.at(m)===0&&m<p.length()-1;++m)v+=l;for(m=o.length-1;m>=0;--m)v+=g[o[m]];return v}return baseN}var hasRequiredUtil$7;function requireUtil$7(){if(hasRequiredUtil$7)return util$7.exports;hasRequiredUtil$7=1;var e=requireForge(),t=requireBaseN(),a=util$7.exports=e.util=e.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){a.nextTick=process.nextTick,typeof setImmediate=="function"?a.setImmediate=setImmediate:a.setImmediate=a.nextTick;return}if(typeof setImmediate=="function"){a.setImmediate=function(){return setImmediate.apply(void 0,arguments)},a.nextTick=function(j){return setImmediate(j)};return}if(a.setImmediate=function(j){setTimeout(j,0)},typeof window<"u"&&typeof window.postMessage=="function"){let j=function(k){if(k.source===window&&k.data===_){k.stopPropagation();var V=T.slice();T.length=0,V.forEach(function(G){G()})}};var _="forge.setImmediate",T=[];a.setImmediate=function(k){T.push(k),T.length===1&&window.postMessage(_,"*")},window.addEventListener("message",j,!0)}if(typeof MutationObserver<"u"){var C=Date.now(),N=!0,L=document.createElement("div"),T=[];new MutationObserver(function(){var k=T.slice();T.length=0,k.forEach(function(V){V()})}).observe(L,{attributes:!0});var D=a.setImmediate;a.setImmediate=function(k){Date.now()-C>15?(C=Date.now(),D(k)):(T.push(k),T.length===1&&L.setAttribute("a",N=!N))}}a.nextTick=a.setImmediate})(),a.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,a.globalScope=(function(){return a.isNodejs?commonjsGlobal:typeof self>"u"?window:self})(),a.isArray=Array.isArray||function(_){return Object.prototype.toString.call(_)==="[object Array]"},a.isArrayBuffer=function(_){return typeof ArrayBuffer<"u"&&_ instanceof ArrayBuffer},a.isArrayBufferView=function(_){return _&&a.isArrayBuffer(_.buffer)&&_.byteLength!==void 0};function p(_){if(!(_===8||_===16||_===24||_===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+_)}a.ByteBuffer=g;function g(_){if(this.data="",this.read=0,typeof _=="string")this.data=_;else if(a.isArrayBuffer(_)||a.isArrayBufferView(_))if(typeof Buffer<"u"&&_ instanceof Buffer)this.data=_.toString("binary");else{var T=new Uint8Array(_);try{this.data=String.fromCharCode.apply(null,T)}catch{for(var C=0;C<T.length;++C)this.putByte(T[C])}}else(_ instanceof g||typeof _=="object"&&typeof _.data=="string"&&typeof _.read=="number")&&(this.data=_.data,this.read=_.read);this._constructedStringLength=0}a.ByteStringBuffer=g;var m=4096;a.ByteStringBuffer.prototype._optimizeConstructedString=function(_){this._constructedStringLength+=_,this._constructedStringLength>m&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(_){return this.putBytes(String.fromCharCode(_))},a.ByteStringBuffer.prototype.fillWithByte=function(_,T){_=String.fromCharCode(_);for(var C=this.data;T>0;)T&1&&(C+=_),T>>>=1,T>0&&(_+=_);return this.data=C,this._optimizeConstructedString(T),this},a.ByteStringBuffer.prototype.putBytes=function(_){return this.data+=_,this._optimizeConstructedString(_.length),this},a.ByteStringBuffer.prototype.putString=function(_){return this.putBytes(a.encodeUtf8(_))},a.ByteStringBuffer.prototype.putInt16=function(_){return this.putBytes(String.fromCharCode(_>>8&255)+String.fromCharCode(_&255))},a.ByteStringBuffer.prototype.putInt24=function(_){return this.putBytes(String.fromCharCode(_>>16&255)+String.fromCharCode(_>>8&255)+String.fromCharCode(_&255))},a.ByteStringBuffer.prototype.putInt32=function(_){return this.putBytes(String.fromCharCode(_>>24&255)+String.fromCharCode(_>>16&255)+String.fromCharCode(_>>8&255)+String.fromCharCode(_&255))},a.ByteStringBuffer.prototype.putInt16Le=function(_){return this.putBytes(String.fromCharCode(_&255)+String.fromCharCode(_>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(_){return this.putBytes(String.fromCharCode(_&255)+String.fromCharCode(_>>8&255)+String.fromCharCode(_>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(_){return this.putBytes(String.fromCharCode(_&255)+String.fromCharCode(_>>8&255)+String.fromCharCode(_>>16&255)+String.fromCharCode(_>>24&255))},a.ByteStringBuffer.prototype.putInt=function(_,T){p(T);var C="";do T-=8,C+=String.fromCharCode(_>>T&255);while(T>0);return this.putBytes(C)},a.ByteStringBuffer.prototype.putSignedInt=function(_,T){return _<0&&(_+=2<<T-1),this.putInt(_,T)},a.ByteStringBuffer.prototype.putBuffer=function(_){return this.putBytes(_.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var _=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,_},a.ByteStringBuffer.prototype.getInt24=function(){var _=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,_},a.ByteStringBuffer.prototype.getInt32=function(){var _=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,_},a.ByteStringBuffer.prototype.getInt16Le=function(){var _=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,_},a.ByteStringBuffer.prototype.getInt24Le=function(){var _=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,_},a.ByteStringBuffer.prototype.getInt32Le=function(){var _=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,_},a.ByteStringBuffer.prototype.getInt=function(_){p(_);var T=0;do T=(T<<8)+this.data.charCodeAt(this.read++),_-=8;while(_>0);return T},a.ByteStringBuffer.prototype.getSignedInt=function(_){var T=this.getInt(_),C=2<<_-2;return T>=C&&(T-=C<<1),T},a.ByteStringBuffer.prototype.getBytes=function(_){var T;return _?(_=Math.min(this.length(),_),T=this.data.slice(this.read,this.read+_),this.read+=_):_===0?T="":(T=this.read===0?this.data:this.data.slice(this.read),this.clear()),T},a.ByteStringBuffer.prototype.bytes=function(_){return typeof _>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+_)},a.ByteStringBuffer.prototype.at=function(_){return this.data.charCodeAt(this.read+_)},a.ByteStringBuffer.prototype.setAt=function(_,T){return this.data=this.data.substr(0,this.read+_)+String.fromCharCode(T)+this.data.substr(this.read+_+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var _=a.createBuffer(this.data);return _.read=this.read,_},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(_){var T=Math.max(0,this.length()-_);return this.data=this.data.substr(this.read,T),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var _="",T=this.read;T<this.data.length;++T){var C=this.data.charCodeAt(T);C<16&&(_+="0"),_+=C.toString(16)}return _},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())};function c(_,T){T=T||{},this.read=T.readOffset||0,this.growSize=T.growSize||1024;var C=a.isArrayBuffer(_),N=a.isArrayBufferView(_);if(C||N){C?this.data=new DataView(_):this.data=new DataView(_.buffer,_.byteOffset,_.byteLength),this.write="writeOffset"in T?T.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,_!=null&&this.putBytes(_),"writeOffset"in T&&(this.write=T.writeOffset)}a.DataBuffer=c,a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(_,T){if(this.length()>=_)return this;T=Math.max(T||this.growSize,_);var C=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),N=new Uint8Array(this.length()+T);return N.set(C),this.data=new DataView(N.buffer),this},a.DataBuffer.prototype.putByte=function(_){return this.accommodate(1),this.data.setUint8(this.write++,_),this},a.DataBuffer.prototype.fillWithByte=function(_,T){this.accommodate(T);for(var C=0;C<T;++C)this.data.setUint8(_);return this},a.DataBuffer.prototype.putBytes=function(_,T){if(a.isArrayBufferView(_)){var C=new Uint8Array(_.buffer,_.byteOffset,_.byteLength),N=C.byteLength-C.byteOffset;this.accommodate(N);var L=new Uint8Array(this.data.buffer,this.write);return L.set(C),this.write+=N,this}if(a.isArrayBuffer(_)){var C=new Uint8Array(_);this.accommodate(C.byteLength);var L=new Uint8Array(this.data.buffer);return L.set(C,this.write),this.write+=C.byteLength,this}if(_ instanceof a.DataBuffer||typeof _=="object"&&typeof _.read=="number"&&typeof _.write=="number"&&a.isArrayBufferView(_.data)){var C=new Uint8Array(_.data.byteLength,_.read,_.length());this.accommodate(C.byteLength);var L=new Uint8Array(_.data.byteLength,this.write);return L.set(C),this.write+=C.byteLength,this}if(_ instanceof a.ByteStringBuffer&&(_=_.data,T="binary"),T=T||"binary",typeof _=="string"){var D;if(T==="hex")return this.accommodate(Math.ceil(_.length/2)),D=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(_,D,this.write),this;if(T==="base64")return this.accommodate(Math.ceil(_.length/4)*3),D=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(_,D,this.write),this;if(T==="utf8"&&(_=a.encodeUtf8(_),T="binary"),T==="binary"||T==="raw")return this.accommodate(_.length),D=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(D),this;if(T==="utf16")return this.accommodate(_.length*2),D=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(D),this;throw new Error("Invalid encoding: "+T)}throw Error("Invalid parameter: "+_)},a.DataBuffer.prototype.putBuffer=function(_){return this.putBytes(_),_.clear(),this},a.DataBuffer.prototype.putString=function(_){return this.putBytes(_,"utf16")},a.DataBuffer.prototype.putInt16=function(_){return this.accommodate(2),this.data.setInt16(this.write,_),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(_){return this.accommodate(3),this.data.setInt16(this.write,_>>8&65535),this.data.setInt8(this.write,_>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(_){return this.accommodate(4),this.data.setInt32(this.write,_),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(_){return this.accommodate(2),this.data.setInt16(this.write,_,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(_){return this.accommodate(3),this.data.setInt8(this.write,_>>16&255),this.data.setInt16(this.write,_>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(_){return this.accommodate(4),this.data.setInt32(this.write,_,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(_,T){p(T),this.accommodate(T/8);do T-=8,this.data.setInt8(this.write++,_>>T&255);while(T>0);return this},a.DataBuffer.prototype.putSignedInt=function(_,T){return p(T),this.accommodate(T/8),_<0&&(_+=2<<T-1),this.putInt(_,T)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var _=this.data.getInt16(this.read);return this.read+=2,_},a.DataBuffer.prototype.getInt24=function(){var _=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,_},a.DataBuffer.prototype.getInt32=function(){var _=this.data.getInt32(this.read);return this.read+=4,_},a.DataBuffer.prototype.getInt16Le=function(){var _=this.data.getInt16(this.read,!0);return this.read+=2,_},a.DataBuffer.prototype.getInt24Le=function(){var _=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,_},a.DataBuffer.prototype.getInt32Le=function(){var _=this.data.getInt32(this.read,!0);return this.read+=4,_},a.DataBuffer.prototype.getInt=function(_){p(_);var T=0;do T=(T<<8)+this.data.getInt8(this.read++),_-=8;while(_>0);return T},a.DataBuffer.prototype.getSignedInt=function(_){var T=this.getInt(_),C=2<<_-2;return T>=C&&(T-=C<<1),T},a.DataBuffer.prototype.getBytes=function(_){var T;return _?(_=Math.min(this.length(),_),T=this.data.slice(this.read,this.read+_),this.read+=_):_===0?T="":(T=this.read===0?this.data:this.data.slice(this.read),this.clear()),T},a.DataBuffer.prototype.bytes=function(_){return typeof _>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+_)},a.DataBuffer.prototype.at=function(_){return this.data.getUint8(this.read+_)},a.DataBuffer.prototype.setAt=function(_,T){return this.data.setUint8(_,T),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var _=new Uint8Array(this.data.buffer,this.read),T=new Uint8Array(_.byteLength);T.set(_),this.data=new DataView(T),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(_){return this.write=Math.max(0,this.length()-_),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var _="",T=this.read;T<this.data.byteLength;++T){var C=this.data.getUint8(T);C<16&&(_+="0"),_+=C.toString(16)}return _},a.DataBuffer.prototype.toString=function(_){var T=new Uint8Array(this.data,this.read,this.length());if(_=_||"utf8",_==="binary"||_==="raw")return a.binary.raw.encode(T);if(_==="hex")return a.binary.hex.encode(T);if(_==="base64")return a.binary.base64.encode(T);if(_==="utf8")return a.text.utf8.decode(T);if(_==="utf16")return a.text.utf16.decode(T);throw new Error("Invalid encoding: "+_)},a.createBuffer=function(_,T){return T=T||"raw",_!==void 0&&T==="utf8"&&(_=a.encodeUtf8(_)),new a.ByteBuffer(_)},a.fillString=function(_,T){for(var C="";T>0;)T&1&&(C+=_),T>>>=1,T>0&&(_+=_);return C},a.xorBytes=function(_,T,C){for(var N="",L="",D="",j=0,k=0;C>0;--C,++j)L=_.charCodeAt(j)^T.charCodeAt(j),k>=10&&(N+=D,D="",k=0),D+=String.fromCharCode(L),++k;return N+=D,N},a.hexToBytes=function(_){var T="",C=0;for(_.length&!0&&(C=1,T+=String.fromCharCode(parseInt(_[0],16)));C<_.length;C+=2)T+=String.fromCharCode(parseInt(_.substr(C,2),16));return T},a.bytesToHex=function(_){return a.createBuffer(_).toHex()},a.int32ToBytes=function(_){return String.fromCharCode(_>>24&255)+String.fromCharCode(_>>16&255)+String.fromCharCode(_>>8&255)+String.fromCharCode(_&255)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";a.encode64=function(_,T){for(var C="",N="",L,D,j,k=0;k<_.length;)L=_.charCodeAt(k++),D=_.charCodeAt(k++),j=_.charCodeAt(k++),C+=l.charAt(L>>2),C+=l.charAt((L&3)<<4|D>>4),isNaN(D)?C+="==":(C+=l.charAt((D&15)<<2|j>>6),C+=isNaN(j)?"=":l.charAt(j&63)),T&&C.length>T&&(N+=C.substr(0,T)+`\r
`,C=C.substr(T));return N+=C,N},a.decode64=function(_){_=_.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var T="",C,N,L,D,j=0;j<_.length;)C=o[_.charCodeAt(j++)-43],N=o[_.charCodeAt(j++)-43],L=o[_.charCodeAt(j++)-43],D=o[_.charCodeAt(j++)-43],T+=String.fromCharCode(C<<2|N>>4),L!==64&&(T+=String.fromCharCode((N&15)<<4|L>>2),D!==64&&(T+=String.fromCharCode((L&3)<<6|D)));return T},a.encodeUtf8=function(_){return unescape(encodeURIComponent(_))},a.decodeUtf8=function(_){return decodeURIComponent(escape(_))},a.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:t.encode,decode:t.decode}},a.binary.raw.encode=function(_){return String.fromCharCode.apply(null,_)},a.binary.raw.decode=function(_,T,C){var N=T;N||(N=new Uint8Array(_.length)),C=C||0;for(var L=C,D=0;D<_.length;++D)N[L++]=_.charCodeAt(D);return T?L-C:N},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(_,T,C){var N=T;N||(N=new Uint8Array(Math.ceil(_.length/2))),C=C||0;var L=0,D=C;for(_.length&1&&(L=1,N[D++]=parseInt(_[0],16));L<_.length;L+=2)N[D++]=parseInt(_.substr(L,2),16);return T?D-C:N},a.binary.base64.encode=function(_,T){for(var C="",N="",L,D,j,k=0;k<_.byteLength;)L=_[k++],D=_[k++],j=_[k++],C+=l.charAt(L>>2),C+=l.charAt((L&3)<<4|D>>4),isNaN(D)?C+="==":(C+=l.charAt((D&15)<<2|j>>6),C+=isNaN(j)?"=":l.charAt(j&63)),T&&C.length>T&&(N+=C.substr(0,T)+`\r
`,C=C.substr(T));return N+=C,N},a.binary.base64.decode=function(_,T,C){var N=T;N||(N=new Uint8Array(Math.ceil(_.length/4)*3)),_=_.replace(/[^A-Za-z0-9\+\/\=]/g,""),C=C||0;for(var L,D,j,k,V=0,G=C;V<_.length;)L=o[_.charCodeAt(V++)-43],D=o[_.charCodeAt(V++)-43],j=o[_.charCodeAt(V++)-43],k=o[_.charCodeAt(V++)-43],N[G++]=L<<2|D>>4,j!==64&&(N[G++]=(D&15)<<4|j>>2,k!==64&&(N[G++]=(j&3)<<6|k));return T?G-C:N.subarray(0,G)},a.binary.base58.encode=function(_,T){return a.binary.baseN.encode(_,s,T)},a.binary.base58.decode=function(_,T){return a.binary.baseN.decode(_,s,T)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(_,T,C){_=a.encodeUtf8(_);var N=T;N||(N=new Uint8Array(_.length)),C=C||0;for(var L=C,D=0;D<_.length;++D)N[L++]=_.charCodeAt(D);return T?L-C:N},a.text.utf8.decode=function(_){return a.decodeUtf8(String.fromCharCode.apply(null,_))},a.text.utf16.encode=function(_,T,C){var N=T;N||(N=new Uint8Array(_.length*2));var L=new Uint16Array(N.buffer);C=C||0;for(var D=C,j=C,k=0;k<_.length;++k)L[j++]=_.charCodeAt(k),D+=2;return T?D-C:N},a.text.utf16.decode=function(_){return String.fromCharCode.apply(null,new Uint16Array(_.buffer))},a.deflate=function(_,T,C){if(T=a.decode64(_.deflate(a.encode64(T)).rval),C){var N=2,L=T.charCodeAt(1);L&32&&(N=6),T=T.substring(N,T.length-4)}return T},a.inflate=function(_,T,C){var N=_.inflate(a.encode64(T)).rval;return N===null?null:a.decode64(N)};var h=function(_,T,C){if(!_)throw new Error("WebStorage not available.");var N;if(C===null?N=_.removeItem(T):(C=a.encode64(JSON.stringify(C)),N=_.setItem(T,C)),typeof N<"u"&&N.rval!==!0){var L=new Error(N.error.message);throw L.id=N.error.id,L.name=N.error.name,L}},v=function(_,T){if(!_)throw new Error("WebStorage not available.");var C=_.getItem(T);if(_.init)if(C.rval===null){if(C.error){var N=new Error(C.error.message);throw N.id=C.error.id,N.name=C.error.name,N}C=null}else C=C.rval;return C!==null&&(C=JSON.parse(a.decode64(C))),C},b=function(_,T,C,N){var L=v(_,T);L===null&&(L={}),L[C]=N,h(_,T,L)},y=function(_,T,C){var N=v(_,T);return N!==null&&(N=C in N?N[C]:null),N},O=function(_,T,C){var N=v(_,T);if(N!==null&&C in N){delete N[C];var L=!0;for(var D in N){L=!1;break}L&&(N=null),h(_,T,N)}},w=function(_,T){h(_,T,null)},I=function(_,T,C){var N=null;typeof C>"u"&&(C=["web","flash"]);var L,D=!1,j=null;for(var k in C){L=C[k];try{if(L==="flash"||L==="both"){if(T[0]===null)throw new Error("Flash local storage not available.");N=_.apply(this,T),D=L==="flash"}(L==="web"||L==="both")&&(T[0]=localStorage,N=_.apply(this,T),D=!0)}catch(V){j=V}if(D)break}if(!D)throw j;return N};return a.setItem=function(_,T,C,N,L){I(b,arguments,L)},a.getItem=function(_,T,C,N){return I(y,arguments,N)},a.removeItem=function(_,T,C,N){I(O,arguments,N)},a.clearItems=function(_,T,C){I(w,arguments,C)},a.isEmpty=function(_){for(var T in _)if(_.hasOwnProperty(T))return!1;return!0},a.format=function(_){for(var T=/%./g,C,N,L=0,D=[],j=0;C=T.exec(_);){N=_.substring(j,T.lastIndex-2),N.length>0&&D.push(N),j=T.lastIndex;var k=C[0][1];switch(k){case"s":case"o":L<arguments.length?D.push(arguments[L+++1]):D.push("<?>");break;case"%":D.push("%");break;default:D.push("<%"+k+"?>")}}return D.push(_.substring(j)),D.join("")},a.formatNumber=function(_,T,C,N){var L=_,D=isNaN(T=Math.abs(T))?2:T,j=C===void 0?",":C,k=N===void 0?".":N,V=L<0?"-":"",G=parseInt(L=Math.abs(+L||0).toFixed(D),10)+"",J=G.length>3?G.length%3:0;return V+(J?G.substr(0,J)+k:"")+G.substr(J).replace(/(\d{3})(?=\d)/g,"$1"+k)+(D?j+Math.abs(L-G).toFixed(D).slice(2):"")},a.formatSize=function(_){return _>=1073741824?_=a.formatNumber(_/1073741824,2,".","")+" GiB":_>=1048576?_=a.formatNumber(_/1048576,2,".","")+" MiB":_>=1024?_=a.formatNumber(_/1024,0)+" KiB":_=a.formatNumber(_,0)+" bytes",_},a.bytesFromIP=function(_){return _.indexOf(".")!==-1?a.bytesFromIPv4(_):_.indexOf(":")!==-1?a.bytesFromIPv6(_):null},a.bytesFromIPv4=function(_){if(_=_.split("."),_.length!==4)return null;for(var T=a.createBuffer(),C=0;C<_.length;++C){var N=parseInt(_[C],10);if(isNaN(N))return null;T.putByte(N)}return T.getBytes()},a.bytesFromIPv6=function(_){var T=0;_=_.split(":").filter(function(j){return j.length===0&&++T,!0});for(var C=(8-_.length+T)*2,N=a.createBuffer(),L=0;L<8;++L){if(!_[L]||_[L].length===0){N.fillWithByte(0,C),C=0;continue}var D=a.hexToBytes(_[L]);D.length<2&&N.putByte(0),N.putBytes(D)}return N.getBytes()},a.bytesToIP=function(_){return _.length===4?a.bytesToIPv4(_):_.length===16?a.bytesToIPv6(_):null},a.bytesToIPv4=function(_){if(_.length!==4)return null;for(var T=[],C=0;C<_.length;++C)T.push(_.charCodeAt(C));return T.join(".")},a.bytesToIPv6=function(_){if(_.length!==16)return null;for(var T=[],C=[],N=0,L=0;L<_.length;L+=2){for(var D=a.bytesToHex(_[L]+_[L+1]);D[0]==="0"&&D!=="0";)D=D.substr(1);if(D==="0"){var j=C[C.length-1],k=T.length;!j||k!==j.end+1?C.push({start:k,end:k}):(j.end=k,j.end-j.start>C[N].end-C[N].start&&(N=C.length-1))}T.push(D)}if(C.length>0){var V=C[N];V.end-V.start>0&&(T.splice(V.start,V.end-V.start+1,""),V.start===0&&T.unshift(""),V.end===7&&T.push(""))}return T.join(":")},a.estimateCores=function(_,T){if(typeof _=="function"&&(T=_,_={}),_=_||{},"cores"in a&&!_.update)return T(null,a.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,T(null,a.cores);if(typeof Worker>"u")return a.cores=1,T(null,a.cores);if(typeof Blob>"u")return a.cores=2,T(null,a.cores);var C=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(j){var k=Date.now(),V=k+4;self.postMessage({st:k,et:V})})}).toString(),")()"],{type:"application/javascript"}));N([],5,16);function N(j,k,V){if(k===0){var G=Math.floor(j.reduce(function(J,W){return J+W},0)/j.length);return a.cores=Math.max(1,G),URL.revokeObjectURL(C),T(null,a.cores)}L(V,function(J,W){j.push(D(V,W)),N(j,k-1,V)})}function L(j,k){for(var V=[],G=[],J=0;J<j;++J){var W=new Worker(C);W.addEventListener("message",function(K){if(G.push(K.data),G.length===j){for(var X=0;X<j;++X)V[X].terminate();k(null,G)}}),V.push(W)}for(var J=0;J<j;++J)V[J].postMessage(J)}function D(j,k){for(var V=[],G=0;G<j;++G)for(var J=k[G],W=V[G]=[],K=0;K<j;++K)if(G!==K){var X=k[K];(J.st>X.st&&J.st<X.et||X.st>J.st&&X.st<J.et)&&W.push(K)}return V.reduce(function(Y,te){return Math.max(Y,te.length)},0)}},util$7.exports}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var e=requireForge();requireUtil$7(),cipher=e.cipher=e.cipher||{},e.cipher.algorithms=e.cipher.algorithms||{},e.cipher.createCipher=function(a,p){var g=a;if(typeof g=="string"&&(g=e.cipher.getAlgorithm(g),g&&(g=g())),!g)throw new Error("Unsupported algorithm: "+a);return new e.cipher.BlockCipher({algorithm:g,key:p,decrypt:!1})},e.cipher.createDecipher=function(a,p){var g=a;if(typeof g=="string"&&(g=e.cipher.getAlgorithm(g),g&&(g=g())),!g)throw new Error("Unsupported algorithm: "+a);return new e.cipher.BlockCipher({algorithm:g,key:p,decrypt:!0})},e.cipher.registerAlgorithm=function(a,p){a=a.toUpperCase(),e.cipher.algorithms[a]=p},e.cipher.getAlgorithm=function(a){return a=a.toUpperCase(),a in e.cipher.algorithms?e.cipher.algorithms[a]:null};var t=e.cipher.BlockCipher=function(a){this.algorithm=a.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=a.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=a.decrypt,this.algorithm.initialize(a)};return t.prototype.start=function(a){a=a||{};var p={};for(var g in a)p[g]=a[g];p.decrypt=this._decrypt,this._finish=!1,this._input=e.util.createBuffer(),this.output=a.output||e.util.createBuffer(),this.mode.start(p)},t.prototype.update=function(a){for(a&&this._input.putBuffer(a);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},t.prototype.finish=function(a){a&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(g){return a(this.blockSize,g,!1)},this.mode.unpad=function(g){return a(this.blockSize,g,!0)});var p={};return p.decrypt=this._decrypt,p.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,p)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,p))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,p))},cipher}var cipherModes={exports:{}},hasRequiredCipherModes;function requireCipherModes(){if(hasRequiredCipherModes)return cipherModes.exports;hasRequiredCipherModes=1;var e=requireForge();requireUtil$7(),e.cipher=e.cipher||{};var t=cipherModes.exports=e.cipher.modes=e.cipher.modes||{};t.ecb=function(m){m=m||{},this.name="ECB",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},t.ecb.prototype.start=function(m){},t.ecb.prototype.encrypt=function(m,c,l){if(m.length()<this.blockSize&&!(l&&m.length()>0))return!0;for(var o=0;o<this._ints;++o)this._inBlock[o]=m.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var o=0;o<this._ints;++o)c.putInt32(this._outBlock[o])},t.ecb.prototype.decrypt=function(m,c,l){if(m.length()<this.blockSize&&!(l&&m.length()>0))return!0;for(var o=0;o<this._ints;++o)this._inBlock[o]=m.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var o=0;o<this._ints;++o)c.putInt32(this._outBlock[o])},t.ecb.prototype.pad=function(m,c){var l=m.length()===this.blockSize?this.blockSize:this.blockSize-m.length();return m.fillWithByte(l,l),!0},t.ecb.prototype.unpad=function(m,c){if(c.overflow>0)return!1;var l=m.length(),o=m.at(l-1);return o>this.blockSize<<2?!1:(m.truncate(o),!0)},t.cbc=function(m){m=m||{},this.name="CBC",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},t.cbc.prototype.start=function(m){if(m.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in m)this._iv=a(m.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},t.cbc.prototype.encrypt=function(m,c,l){if(m.length()<this.blockSize&&!(l&&m.length()>0))return!0;for(var o=0;o<this._ints;++o)this._inBlock[o]=this._prev[o]^m.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var o=0;o<this._ints;++o)c.putInt32(this._outBlock[o]);this._prev=this._outBlock},t.cbc.prototype.decrypt=function(m,c,l){if(m.length()<this.blockSize&&!(l&&m.length()>0))return!0;for(var o=0;o<this._ints;++o)this._inBlock[o]=m.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var o=0;o<this._ints;++o)c.putInt32(this._prev[o]^this._outBlock[o]);this._prev=this._inBlock.slice(0)},t.cbc.prototype.pad=function(m,c){var l=m.length()===this.blockSize?this.blockSize:this.blockSize-m.length();return m.fillWithByte(l,l),!0},t.cbc.prototype.unpad=function(m,c){if(c.overflow>0)return!1;var l=m.length(),o=m.at(l-1);return o>this.blockSize<<2?!1:(m.truncate(o),!0)},t.cfb=function(m){m=m||{},this.name="CFB",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0},t.cfb.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");this._iv=a(m.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.cfb.prototype.encrypt=function(m,c,l){var o=m.length();if(o===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&o>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=m.getInt32()^this._outBlock[s],c.putInt32(this._inBlock[s]);return}var h=(this.blockSize-o)%this.blockSize;h>0&&(h=this.blockSize-h),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=m.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(h>0)m.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!l)return c.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;c.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=0},t.cfb.prototype.decrypt=function(m,c,l){var o=m.length();if(o===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&o>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=m.getInt32(),c.putInt32(this._inBlock[s]^this._outBlock[s]);return}var h=(this.blockSize-o)%this.blockSize;h>0&&(h=this.blockSize-h),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=m.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(h>0)m.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!l)return c.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;c.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=0},t.ofb=function(m){m=m||{},this.name="OFB",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0},t.ofb.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");this._iv=a(m.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.ofb.prototype.encrypt=function(m,c,l){var o=m.length();if(m.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&o>=this.blockSize){for(var s=0;s<this._ints;++s)c.putInt32(m.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];return}var h=(this.blockSize-o)%this.blockSize;h>0&&(h=this.blockSize-h),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(m.getInt32()^this._outBlock[s]);if(h>0)m.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!l)return c.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;c.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=0},t.ofb.prototype.decrypt=t.ofb.prototype.encrypt,t.ctr=function(m){m=m||{},this.name="CTR",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0},t.ctr.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");this._iv=a(m.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.ctr.prototype.encrypt=function(m,c,l){var o=m.length();if(o===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&o>=this.blockSize)for(var s=0;s<this._ints;++s)c.putInt32(m.getInt32()^this._outBlock[s]);else{var h=(this.blockSize-o)%this.blockSize;h>0&&(h=this.blockSize-h),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(m.getInt32()^this._outBlock[s]);if(h>0&&(m.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!l)return c.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;c.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=0}p(this._inBlock)},t.ctr.prototype.decrypt=t.ctr.prototype.encrypt,t.gcm=function(m){m=m||{},this.name="GCM",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0,this._R=3774873600},t.gcm.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");var c=e.util.createBuffer(m.iv);this._cipherLength=0;var l;if("additionalData"in m?l=e.util.createBuffer(m.additionalData):l=e.util.createBuffer(),"tagLength"in m?this._tagLength=m.tagLength:this._tagLength=128,this._tag=null,m.decrypt&&(this._tag=e.util.createBuffer(m.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var o=c.length();if(o===12)this._j0=[c.getInt32(),c.getInt32(),c.getInt32(),1];else{for(this._j0=[0,0,0,0];c.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[c.getInt32(),c.getInt32(),c.getInt32(),c.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(g(o*8)))}this._inBlock=this._j0.slice(0),p(this._inBlock),this._partialBytes=0,l=e.util.createBuffer(l),this._aDataLength=g(l.length()*8);var s=l.length()%this.blockSize;for(s&&l.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];l.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[l.getInt32(),l.getInt32(),l.getInt32(),l.getInt32()])},t.gcm.prototype.encrypt=function(m,c,l){var o=m.length();if(o===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&o>=this.blockSize){for(var s=0;s<this._ints;++s)c.putInt32(this._outBlock[s]^=m.getInt32());this._cipherLength+=this.blockSize}else{var h=(this.blockSize-o)%this.blockSize;h>0&&(h=this.blockSize-h),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(m.getInt32()^this._outBlock[s]);if(h<=0||l){if(l){var v=o%this.blockSize;this._cipherLength+=v,this._partialOutput.truncate(this.blockSize-v)}else this._cipherLength+=this.blockSize;for(var s=0;s<this._ints;++s)this._outBlock[s]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!l)return m.read-=this.blockSize,c.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;c.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),p(this._inBlock)},t.gcm.prototype.decrypt=function(m,c,l){var o=m.length();if(o<this.blockSize&&!(l&&o>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),p(this._inBlock),this._hashBlock[0]=m.getInt32(),this._hashBlock[1]=m.getInt32(),this._hashBlock[2]=m.getInt32(),this._hashBlock[3]=m.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)c.putInt32(this._outBlock[s]^this._hashBlock[s]);o<this.blockSize?this._cipherLength+=o%this.blockSize:this._cipherLength+=this.blockSize},t.gcm.prototype.afterFinish=function(m,c){var l=!0;c.decrypt&&c.overflow&&m.truncate(this.blockSize-c.overflow),this.tag=e.util.createBuffer();var o=this._aDataLength.concat(g(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,o);var s=[];this.cipher.encrypt(this._j0,s);for(var h=0;h<this._ints;++h)this.tag.putInt32(this._s[h]^s[h]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),c.decrypt&&this.tag.bytes()!==this._tag&&(l=!1),l},t.gcm.prototype.multiply=function(m,c){for(var l=[0,0,0,0],o=c.slice(0),s=0;s<128;++s){var h=m[s/32|0]&1<<31-s%32;h&&(l[0]^=o[0],l[1]^=o[1],l[2]^=o[2],l[3]^=o[3]),this.pow(o,o)}return l},t.gcm.prototype.pow=function(m,c){for(var l=m[3]&1,o=3;o>0;--o)c[o]=m[o]>>>1|(m[o-1]&1)<<31;c[0]=m[0]>>>1,l&&(c[0]^=this._R)},t.gcm.prototype.tableMultiply=function(m){for(var c=[0,0,0,0],l=0;l<32;++l){var o=l/8|0,s=m[o]>>>(7-l%8)*4&15,h=this._m[l][s];c[0]^=h[0],c[1]^=h[1],c[2]^=h[2],c[3]^=h[3]}return c},t.gcm.prototype.ghash=function(m,c,l){return c[0]^=l[0],c[1]^=l[1],c[2]^=l[2],c[3]^=l[3],this.tableMultiply(c)},t.gcm.prototype.generateHashTable=function(m,c){for(var l=8/c,o=4*l,s=16*l,h=new Array(s),v=0;v<s;++v){var b=[0,0,0,0],y=v/o|0,O=(o-1-v%o)*c;b[y]=1<<c-1<<O,h[v]=this.generateSubHashTable(this.multiply(b,m),c)}return h},t.gcm.prototype.generateSubHashTable=function(m,c){var l=1<<c,o=l>>>1,s=new Array(l);s[o]=m.slice(0);for(var h=o>>>1;h>0;)this.pow(s[2*h],s[h]=[]),h>>=1;for(h=2;h<o;){for(var v=1;v<h;++v){var b=s[h],y=s[v];s[h+v]=[b[0]^y[0],b[1]^y[1],b[2]^y[2],b[3]^y[3]]}h*=2}for(s[0]=[0,0,0,0],h=o+1;h<l;++h){var O=s[h^o];s[h]=[m[0]^O[0],m[1]^O[1],m[2]^O[2],m[3]^O[3]]}return s};function a(m,c){if(typeof m=="string"&&(m=e.util.createBuffer(m)),e.util.isArray(m)&&m.length>4){var l=m;m=e.util.createBuffer();for(var o=0;o<l.length;++o)m.putByte(l[o])}if(m.length()<c)throw new Error("Invalid IV length; got "+m.length()+" bytes and expected "+c+" bytes.");if(!e.util.isArray(m)){for(var s=[],h=c/4,o=0;o<h;++o)s.push(m.getInt32());m=s}return m}function p(m){m[m.length-1]=m[m.length-1]+1&4294967295}function g(m){return[m/4294967296|0,m&4294967295]}return cipherModes.exports}var aes,hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var e=requireForge();requireCipher(),requireCipherModes(),requireUtil$7(),aes=e.aes=e.aes||{},e.aes.startEncrypting=function(y,O,w,I){var _=b({key:y,output:w,decrypt:!1,mode:I});return _.start(O),_},e.aes.createEncryptionCipher=function(y,O){return b({key:y,output:null,decrypt:!1,mode:O})},e.aes.startDecrypting=function(y,O,w,I){var _=b({key:y,output:w,decrypt:!0,mode:I});return _.start(O),_},e.aes.createDecryptionCipher=function(y,O){return b({key:y,output:null,decrypt:!0,mode:O})},e.aes.Algorithm=function(y,O){a||s();var w=this;w.name=y,w.mode=new O({blockSize:16,cipher:{encrypt:function(I,_){return v(w._w,I,_,!1)},decrypt:function(I,_){return v(w._w,I,_,!0)}}}),w._init=!1},e.aes.Algorithm.prototype.initialize=function(y){if(!this._init){var O=y.key,w;if(typeof O=="string"&&(O.length===16||O.length===24||O.length===32))O=e.util.createBuffer(O);else if(e.util.isArray(O)&&(O.length===16||O.length===24||O.length===32)){w=O,O=e.util.createBuffer();for(var I=0;I<w.length;++I)O.putByte(w[I])}if(!e.util.isArray(O)){w=O,O=[];var _=w.length();if(_===16||_===24||_===32){_=_>>>2;for(var I=0;I<_;++I)O.push(w.getInt32())}}if(!e.util.isArray(O)||!(O.length===4||O.length===6||O.length===8))throw new Error("Invalid key parameter.");var T=this.mode.name,C=["CFB","OFB","CTR","GCM"].indexOf(T)!==-1;this._w=h(O,y.decrypt&&!C),this._init=!0}},e.aes._expandKey=function(y,O){return a||s(),h(y,O)},e.aes._updateBlock=v,t("AES-ECB",e.cipher.modes.ecb),t("AES-CBC",e.cipher.modes.cbc),t("AES-CFB",e.cipher.modes.cfb),t("AES-OFB",e.cipher.modes.ofb),t("AES-CTR",e.cipher.modes.ctr),t("AES-GCM",e.cipher.modes.gcm);function t(y,O){var w=function(){return new e.aes.Algorithm(y,O)};e.cipher.registerAlgorithm(y,w)}var a=!1,p=4,g,m,c,l,o;function s(){a=!0,c=[0,1,2,4,8,16,32,64,128,27,54];for(var y=new Array(256),O=0;O<128;++O)y[O]=O<<1,y[O+128]=O+128<<1^283;g=new Array(256),m=new Array(256),l=new Array(4),o=new Array(4);for(var O=0;O<4;++O)l[O]=new Array(256),o[O]=new Array(256);for(var w=0,I=0,_,T,C,N,L,D,j,O=0;O<256;++O){N=I^I<<1^I<<2^I<<3^I<<4,N=N>>8^N&255^99,g[w]=N,m[N]=w,L=y[N],_=y[w],T=y[_],C=y[T],D=L<<24^N<<16^N<<8^(N^L),j=(_^T^C)<<24^(w^C)<<16^(w^T^C)<<8^(w^_^C);for(var k=0;k<4;++k)l[k][w]=D,o[k][N]=j,D=D<<24|D>>>8,j=j<<24|j>>>8;w===0?w=I=1:(w=_^y[y[y[_^C]]],I^=y[y[I]])}}function h(y,O){for(var w=y.slice(0),I,_=1,T=w.length,C=T+6+1,N=p*C,L=T;L<N;++L)I=w[L-1],L%T===0?(I=g[I>>>16&255]<<24^g[I>>>8&255]<<16^g[I&255]<<8^g[I>>>24]^c[_]<<24,_++):T>6&&L%T===4&&(I=g[I>>>24]<<24^g[I>>>16&255]<<16^g[I>>>8&255]<<8^g[I&255]),w[L]=w[L-T]^I;if(O){var D,j=o[0],k=o[1],V=o[2],G=o[3],J=w.slice(0);N=w.length;for(var L=0,W=N-p;L<N;L+=p,W-=p)if(L===0||L===N-p)J[L]=w[W],J[L+1]=w[W+3],J[L+2]=w[W+2],J[L+3]=w[W+1];else for(var K=0;K<p;++K)D=w[W+K],J[L+(3&-K)]=j[g[D>>>24]]^k[g[D>>>16&255]]^V[g[D>>>8&255]]^G[g[D&255]];w=J}return w}function v(y,O,w,I){var _=y.length/4-1,T,C,N,L,D;I?(T=o[0],C=o[1],N=o[2],L=o[3],D=m):(T=l[0],C=l[1],N=l[2],L=l[3],D=g);var j,k,V,G,J,W,K;j=O[0]^y[0],k=O[I?3:1]^y[1],V=O[2]^y[2],G=O[I?1:3]^y[3];for(var X=3,Y=1;Y<_;++Y)J=T[j>>>24]^C[k>>>16&255]^N[V>>>8&255]^L[G&255]^y[++X],W=T[k>>>24]^C[V>>>16&255]^N[G>>>8&255]^L[j&255]^y[++X],K=T[V>>>24]^C[G>>>16&255]^N[j>>>8&255]^L[k&255]^y[++X],G=T[G>>>24]^C[j>>>16&255]^N[k>>>8&255]^L[V&255]^y[++X],j=J,k=W,V=K;w[0]=D[j>>>24]<<24^D[k>>>16&255]<<16^D[V>>>8&255]<<8^D[G&255]^y[++X],w[I?3:1]=D[k>>>24]<<24^D[V>>>16&255]<<16^D[G>>>8&255]<<8^D[j&255]^y[++X],w[2]=D[V>>>24]<<24^D[G>>>16&255]<<16^D[j>>>8&255]<<8^D[k&255]^y[++X],w[I?1:3]=D[G>>>24]<<24^D[j>>>16&255]<<16^D[k>>>8&255]<<8^D[V&255]^y[++X]}function b(y){y=y||{};var O=(y.mode||"CBC").toUpperCase(),w="AES-"+O,I;y.decrypt?I=e.cipher.createDecipher(w,y.key):I=e.cipher.createCipher(w,y.key);var _=I.start;return I.start=function(T,C){var N=null;C instanceof e.util.ByteBuffer&&(N=C,C={}),C=C||{},C.output=N,C.iv=T,_.call(I,C)},I}return aes}var aesCipherSuites={exports:{}},asn1={exports:{}},oids={exports:{}},hasRequiredOids;function requireOids(){if(hasRequiredOids)return oids.exports;hasRequiredOids=1;var e=requireForge();e.pki=e.pki||{};var t=oids.exports=e.pki.oids=e.oids=e.oids||{};function a(g,m){t[g]=m,t[m]=g}function p(g,m){t[g]=m}return a("1.2.840.113549.1.1.1","rsaEncryption"),a("1.2.840.113549.1.1.4","md5WithRSAEncryption"),a("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),a("1.2.840.113549.1.1.7","RSAES-OAEP"),a("1.2.840.113549.1.1.8","mgf1"),a("1.2.840.113549.1.1.9","pSpecified"),a("1.2.840.113549.1.1.10","RSASSA-PSS"),a("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),a("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),a("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),a("1.3.101.112","EdDSA25519"),a("1.2.840.10040.4.3","dsa-with-sha1"),a("1.3.14.3.2.7","desCBC"),a("1.3.14.3.2.26","sha1"),a("1.3.14.3.2.29","sha1WithRSASignature"),a("2.16.840.1.101.3.4.2.1","sha256"),a("2.16.840.1.101.3.4.2.2","sha384"),a("2.16.840.1.101.3.4.2.3","sha512"),a("2.16.840.1.101.3.4.2.4","sha224"),a("2.16.840.1.101.3.4.2.5","sha512-224"),a("2.16.840.1.101.3.4.2.6","sha512-256"),a("1.2.840.113549.2.2","md2"),a("1.2.840.113549.2.5","md5"),a("1.2.840.113549.1.7.1","data"),a("1.2.840.113549.1.7.2","signedData"),a("1.2.840.113549.1.7.3","envelopedData"),a("1.2.840.113549.1.7.4","signedAndEnvelopedData"),a("1.2.840.113549.1.7.5","digestedData"),a("1.2.840.113549.1.7.6","encryptedData"),a("1.2.840.113549.1.9.1","emailAddress"),a("1.2.840.113549.1.9.2","unstructuredName"),a("1.2.840.113549.1.9.3","contentType"),a("1.2.840.113549.1.9.4","messageDigest"),a("1.2.840.113549.1.9.5","signingTime"),a("1.2.840.113549.1.9.6","counterSignature"),a("1.2.840.113549.1.9.7","challengePassword"),a("1.2.840.113549.1.9.8","unstructuredAddress"),a("1.2.840.113549.1.9.14","extensionRequest"),a("1.2.840.113549.1.9.20","friendlyName"),a("1.2.840.113549.1.9.21","localKeyId"),a("1.2.840.113549.1.9.22.1","x509Certificate"),a("1.2.840.113549.1.12.10.1.1","keyBag"),a("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),a("1.2.840.113549.1.12.10.1.3","certBag"),a("1.2.840.113549.1.12.10.1.4","crlBag"),a("1.2.840.113549.1.12.10.1.5","secretBag"),a("1.2.840.113549.1.12.10.1.6","safeContentsBag"),a("1.2.840.113549.1.5.13","pkcs5PBES2"),a("1.2.840.113549.1.5.12","pkcs5PBKDF2"),a("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),a("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),a("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),a("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),a("1.2.840.113549.2.7","hmacWithSHA1"),a("1.2.840.113549.2.8","hmacWithSHA224"),a("1.2.840.113549.2.9","hmacWithSHA256"),a("1.2.840.113549.2.10","hmacWithSHA384"),a("1.2.840.113549.2.11","hmacWithSHA512"),a("1.2.840.113549.3.7","des-EDE3-CBC"),a("2.16.840.1.101.3.4.1.2","aes128-CBC"),a("2.16.840.1.101.3.4.1.22","aes192-CBC"),a("2.16.840.1.101.3.4.1.42","aes256-CBC"),a("2.5.4.3","commonName"),a("2.5.4.4","surname"),a("2.5.4.5","serialNumber"),a("2.5.4.6","countryName"),a("2.5.4.7","localityName"),a("2.5.4.8","stateOrProvinceName"),a("2.5.4.9","streetAddress"),a("2.5.4.10","organizationName"),a("2.5.4.11","organizationalUnitName"),a("2.5.4.12","title"),a("2.5.4.13","description"),a("2.5.4.15","businessCategory"),a("2.5.4.17","postalCode"),a("2.5.4.42","givenName"),a("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),a("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),a("2.16.840.1.113730.1.1","nsCertType"),a("2.16.840.1.113730.1.13","nsComment"),p("2.5.29.1","authorityKeyIdentifier"),p("2.5.29.2","keyAttributes"),p("2.5.29.3","certificatePolicies"),p("2.5.29.4","keyUsageRestriction"),p("2.5.29.5","policyMapping"),p("2.5.29.6","subtreesConstraint"),p("2.5.29.7","subjectAltName"),p("2.5.29.8","issuerAltName"),p("2.5.29.9","subjectDirectoryAttributes"),p("2.5.29.10","basicConstraints"),p("2.5.29.11","nameConstraints"),p("2.5.29.12","policyConstraints"),p("2.5.29.13","basicConstraints"),a("2.5.29.14","subjectKeyIdentifier"),a("2.5.29.15","keyUsage"),p("2.5.29.16","privateKeyUsagePeriod"),a("2.5.29.17","subjectAltName"),a("2.5.29.18","issuerAltName"),a("2.5.29.19","basicConstraints"),p("2.5.29.20","cRLNumber"),p("2.5.29.21","cRLReason"),p("2.5.29.22","expirationDate"),p("2.5.29.23","instructionCode"),p("2.5.29.24","invalidityDate"),p("2.5.29.25","cRLDistributionPoints"),p("2.5.29.26","issuingDistributionPoint"),p("2.5.29.27","deltaCRLIndicator"),p("2.5.29.28","issuingDistributionPoint"),p("2.5.29.29","certificateIssuer"),p("2.5.29.30","nameConstraints"),a("2.5.29.31","cRLDistributionPoints"),a("2.5.29.32","certificatePolicies"),p("2.5.29.33","policyMappings"),p("2.5.29.34","policyConstraints"),a("2.5.29.35","authorityKeyIdentifier"),p("2.5.29.36","policyConstraints"),a("2.5.29.37","extKeyUsage"),p("2.5.29.46","freshestCRL"),p("2.5.29.54","inhibitAnyPolicy"),a("1.3.6.1.4.1.11129.2.4.2","timestampList"),a("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),a("1.3.6.1.5.5.7.3.1","serverAuth"),a("1.3.6.1.5.5.7.3.2","clientAuth"),a("1.3.6.1.5.5.7.3.3","codeSigning"),a("1.3.6.1.5.5.7.3.4","emailProtection"),a("1.3.6.1.5.5.7.3.8","timeStamping"),oids.exports}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1.exports;hasRequiredAsn1=1;var e=requireForge();requireUtil$7(),requireOids();var t=asn1.exports=e.asn1=e.asn1||{};t.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},t.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},t.create=function(c,l,o,s,h){if(e.util.isArray(s)){for(var v=[],b=0;b<s.length;++b)s[b]!==void 0&&v.push(s[b]);s=v}var y={tagClass:c,type:l,constructed:o,composed:o||e.util.isArray(s),value:s};return h&&"bitStringContents"in h&&(y.bitStringContents=h.bitStringContents,y.original=t.copy(y)),y},t.copy=function(c,l){var o;if(e.util.isArray(c)){o=[];for(var s=0;s<c.length;++s)o.push(t.copy(c[s],l));return o}return typeof c=="string"?c:(o={tagClass:c.tagClass,type:c.type,constructed:c.constructed,composed:c.composed,value:t.copy(c.value,l)},l&&!l.excludeBitStringContents&&(o.bitStringContents=c.bitStringContents),o)},t.equals=function(c,l,o){if(e.util.isArray(c)){if(!e.util.isArray(l)||c.length!==l.length)return!1;for(var s=0;s<c.length;++s)if(!t.equals(c[s],l[s]))return!1;return!0}if(typeof c!=typeof l)return!1;if(typeof c=="string")return c===l;var h=c.tagClass===l.tagClass&&c.type===l.type&&c.constructed===l.constructed&&c.composed===l.composed&&t.equals(c.value,l.value);return o&&o.includeBitStringContents&&(h=h&&c.bitStringContents===l.bitStringContents),h},t.getBerValueLength=function(c){var l=c.getByte();if(l!==128){var o,s=l&128;return s?o=c.getInt((l&127)<<3):o=l,o}};function a(c,l,o){if(o>l){var s=new Error("Too few bytes to parse DER.");throw s.available=c.length(),s.remaining=l,s.requested=o,s}}var p=function(c,l){var o=c.getByte();if(l--,o!==128){var s,h=o&128;if(!h)s=o;else{var v=o&127;a(c,l,v),s=c.getInt(v<<3)}if(s<0)throw new Error("Negative length: "+s);return s}};t.fromDer=function(c,l){l===void 0&&(l={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof l=="boolean"&&(l={strict:l,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in l||(l.strict=!0),"parseAllBytes"in l||(l.parseAllBytes=!0),"decodeBitStrings"in l||(l.decodeBitStrings=!0),typeof c=="string"&&(c=e.util.createBuffer(c));var o=c.length(),s=g(c,c.length(),0,l);if(l.parseAllBytes&&c.length()!==0){var h=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw h.byteCount=o,h.remaining=c.length(),h}return s};function g(c,l,o,s){var h;a(c,l,2);var v=c.getByte();l--;var b=v&192,y=v&31;h=c.length();var O=p(c,l);if(l-=h-c.length(),O!==void 0&&O>l){if(s.strict){var w=new Error("Too few bytes to read ASN.1 value.");throw w.available=c.length(),w.remaining=l,w.requested=O,w}O=l}var I,_,T=(v&32)===32;if(T)if(I=[],O===void 0)for(;;){if(a(c,l,2),c.bytes(2)==="\0\0"){c.getBytes(2),l-=2;break}h=c.length(),I.push(g(c,l,o+1,s)),l-=h-c.length()}else for(;O>0;)h=c.length(),I.push(g(c,O,o+1,s)),l-=h-c.length(),O-=h-c.length();if(I===void 0&&b===t.Class.UNIVERSAL&&y===t.Type.BITSTRING&&(_=c.bytes(O)),I===void 0&&s.decodeBitStrings&&b===t.Class.UNIVERSAL&&y===t.Type.BITSTRING&&O>1){var C=c.read,N=l,L=0;if(y===t.Type.BITSTRING&&(a(c,l,1),L=c.getByte(),l--),L===0)try{h=c.length();var D={strict:!0,decodeBitStrings:!0},j=g(c,l,o+1,D),k=h-c.length();l-=k,y==t.Type.BITSTRING&&k++;var V=j.tagClass;k===O&&(V===t.Class.UNIVERSAL||V===t.Class.CONTEXT_SPECIFIC)&&(I=[j])}catch{}I===void 0&&(c.read=C,l=N)}if(I===void 0){if(O===void 0){if(s.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");O=l}if(y===t.Type.BMPSTRING)for(I="";O>0;O-=2)a(c,l,2),I+=String.fromCharCode(c.getInt16()),l-=2;else I=c.getBytes(O),l-=O}var G=_===void 0?null:{bitStringContents:_};return t.create(b,y,T,I,G)}t.toDer=function(c){var l=e.util.createBuffer(),o=c.tagClass|c.type,s=e.util.createBuffer(),h=!1;if("bitStringContents"in c&&(h=!0,c.original&&(h=t.equals(c,c.original))),h)s.putBytes(c.bitStringContents);else if(c.composed){c.constructed?o|=32:s.putByte(0);for(var v=0;v<c.value.length;++v)c.value[v]!==void 0&&s.putBuffer(t.toDer(c.value[v]))}else if(c.type===t.Type.BMPSTRING)for(var v=0;v<c.value.length;++v)s.putInt16(c.value.charCodeAt(v));else c.type===t.Type.INTEGER&&c.value.length>1&&(c.value.charCodeAt(0)===0&&(c.value.charCodeAt(1)&128)===0||c.value.charCodeAt(0)===255&&(c.value.charCodeAt(1)&128)===128)?s.putBytes(c.value.substr(1)):s.putBytes(c.value);if(l.putByte(o),s.length()<=127)l.putByte(s.length()&127);else{var b=s.length(),y="";do y+=String.fromCharCode(b&255),b=b>>>8;while(b>0);l.putByte(y.length|128);for(var v=y.length-1;v>=0;--v)l.putByte(y.charCodeAt(v))}return l.putBuffer(s),l},t.oidToDer=function(c){var l=c.split("."),o=e.util.createBuffer();o.putByte(40*parseInt(l[0],10)+parseInt(l[1],10));for(var s,h,v,b,y=2;y<l.length;++y){s=!0,h=[],v=parseInt(l[y],10);do b=v&127,v=v>>>7,s||(b|=128),h.push(b),s=!1;while(v>0);for(var O=h.length-1;O>=0;--O)o.putByte(h[O])}return o},t.derToOid=function(c){var l;typeof c=="string"&&(c=e.util.createBuffer(c));var o=c.getByte();l=Math.floor(o/40)+"."+o%40;for(var s=0;c.length()>0;)o=c.getByte(),s=s<<7,o&128?s+=o&127:(l+="."+(s+o),s=0);return l},t.utcTimeToDate=function(c){var l=new Date,o=parseInt(c.substr(0,2),10);o=o>=50?1900+o:2e3+o;var s=parseInt(c.substr(2,2),10)-1,h=parseInt(c.substr(4,2),10),v=parseInt(c.substr(6,2),10),b=parseInt(c.substr(8,2),10),y=0;if(c.length>11){var O=c.charAt(10),w=10;O!=="+"&&O!=="-"&&(y=parseInt(c.substr(10,2),10),w+=2)}if(l.setUTCFullYear(o,s,h),l.setUTCHours(v,b,y,0),w&&(O=c.charAt(w),O==="+"||O==="-")){var I=parseInt(c.substr(w+1,2),10),_=parseInt(c.substr(w+4,2),10),T=I*60+_;T*=6e4,O==="+"?l.setTime(+l-T):l.setTime(+l+T)}return l},t.generalizedTimeToDate=function(c){var l=new Date,o=parseInt(c.substr(0,4),10),s=parseInt(c.substr(4,2),10)-1,h=parseInt(c.substr(6,2),10),v=parseInt(c.substr(8,2),10),b=parseInt(c.substr(10,2),10),y=parseInt(c.substr(12,2),10),O=0,w=0,I=!1;c.charAt(c.length-1)==="Z"&&(I=!0);var _=c.length-5,T=c.charAt(_);if(T==="+"||T==="-"){var C=parseInt(c.substr(_+1,2),10),N=parseInt(c.substr(_+4,2),10);w=C*60+N,w*=6e4,T==="+"&&(w*=-1),I=!0}return c.charAt(14)==="."&&(O=parseFloat(c.substr(14),10)*1e3),I?(l.setUTCFullYear(o,s,h),l.setUTCHours(v,b,y,O),l.setTime(+l+w)):(l.setFullYear(o,s,h),l.setHours(v,b,y,O)),l},t.dateToUtcTime=function(c){if(typeof c=="string")return c;var l="",o=[];o.push((""+c.getUTCFullYear()).substr(2)),o.push(""+(c.getUTCMonth()+1)),o.push(""+c.getUTCDate()),o.push(""+c.getUTCHours()),o.push(""+c.getUTCMinutes()),o.push(""+c.getUTCSeconds());for(var s=0;s<o.length;++s)o[s].length<2&&(l+="0"),l+=o[s];return l+="Z",l},t.dateToGeneralizedTime=function(c){if(typeof c=="string")return c;var l="",o=[];o.push(""+c.getUTCFullYear()),o.push(""+(c.getUTCMonth()+1)),o.push(""+c.getUTCDate()),o.push(""+c.getUTCHours()),o.push(""+c.getUTCMinutes()),o.push(""+c.getUTCSeconds());for(var s=0;s<o.length;++s)o[s].length<2&&(l+="0"),l+=o[s];return l+="Z",l},t.integerToDer=function(c){var l=e.util.createBuffer();if(c>=-128&&c<128)return l.putSignedInt(c,8);if(c>=-32768&&c<32768)return l.putSignedInt(c,16);if(c>=-8388608&&c<8388608)return l.putSignedInt(c,24);if(c>=-2147483648&&c<2147483648)return l.putSignedInt(c,32);var o=new Error("Integer too large; max is 32-bits.");throw o.integer=c,o},t.derToInteger=function(c){typeof c=="string"&&(c=e.util.createBuffer(c));var l=c.length()*8;if(l>32)throw new Error("Integer too large; max is 32-bits.");return c.getSignedInt(l)},t.validate=function(c,l,o,s){var h=!1;if((c.tagClass===l.tagClass||typeof l.tagClass>"u")&&(c.type===l.type||typeof l.type>"u"))if(c.constructed===l.constructed||typeof l.constructed>"u"){if(h=!0,l.value&&e.util.isArray(l.value))for(var v=0,b=0;h&&b<l.value.length;++b)h=l.value[b].optional||!1,c.value[v]&&(h=t.validate(c.value[v],l.value[b],o,s),h?++v:l.value[b].optional&&(h=!0)),!h&&s&&s.push("["+l.name+'] Tag class "'+l.tagClass+'", type "'+l.type+'" expected value length "'+l.value.length+'", got "'+c.value.length+'"');if(h&&o&&(l.capture&&(o[l.capture]=c.value),l.captureAsn1&&(o[l.captureAsn1]=c),l.captureBitStringContents&&"bitStringContents"in c&&(o[l.captureBitStringContents]=c.bitStringContents),l.captureBitStringValue&&"bitStringContents"in c))if(c.bitStringContents.length<2)o[l.captureBitStringValue]="";else{var y=c.bitStringContents.charCodeAt(0);if(y!==0)throw new Error("captureBitStringValue only supported for zero unused bits");o[l.captureBitStringValue]=c.bitStringContents.slice(1)}}else s&&s.push("["+l.name+'] Expected constructed "'+l.constructed+'", got "'+c.constructed+'"');else s&&(c.tagClass!==l.tagClass&&s.push("["+l.name+'] Expected tag class "'+l.tagClass+'", got "'+c.tagClass+'"'),c.type!==l.type&&s.push("["+l.name+'] Expected type "'+l.type+'", got "'+c.type+'"'));return h};var m=/[^\\u0000-\\u00ff]/;return t.prettyPrint=function(c,l,o){var s="";l=l||0,o=o||2,l>0&&(s+=`
`);for(var h="",v=0;v<l*o;++v)h+=" ";switch(s+=h+"Tag: ",c.tagClass){case t.Class.UNIVERSAL:s+="Universal:";break;case t.Class.APPLICATION:s+="Application:";break;case t.Class.CONTEXT_SPECIFIC:s+="Context-Specific:";break;case t.Class.PRIVATE:s+="Private:";break}if(c.tagClass===t.Class.UNIVERSAL)switch(s+=c.type,c.type){case t.Type.NONE:s+=" (None)";break;case t.Type.BOOLEAN:s+=" (Boolean)";break;case t.Type.INTEGER:s+=" (Integer)";break;case t.Type.BITSTRING:s+=" (Bit string)";break;case t.Type.OCTETSTRING:s+=" (Octet string)";break;case t.Type.NULL:s+=" (Null)";break;case t.Type.OID:s+=" (Object Identifier)";break;case t.Type.ODESC:s+=" (Object Descriptor)";break;case t.Type.EXTERNAL:s+=" (External or Instance of)";break;case t.Type.REAL:s+=" (Real)";break;case t.Type.ENUMERATED:s+=" (Enumerated)";break;case t.Type.EMBEDDED:s+=" (Embedded PDV)";break;case t.Type.UTF8:s+=" (UTF8)";break;case t.Type.ROID:s+=" (Relative Object Identifier)";break;case t.Type.SEQUENCE:s+=" (Sequence)";break;case t.Type.SET:s+=" (Set)";break;case t.Type.PRINTABLESTRING:s+=" (Printable String)";break;case t.Type.IA5String:s+=" (IA5String (ASCII))";break;case t.Type.UTCTIME:s+=" (UTC time)";break;case t.Type.GENERALIZEDTIME:s+=" (Generalized time)";break;case t.Type.BMPSTRING:s+=" (BMP String)";break}else s+=c.type;if(s+=`
`,s+=h+"Constructed: "+c.constructed+`
`,c.composed){for(var b=0,y="",v=0;v<c.value.length;++v)c.value[v]!==void 0&&(b+=1,y+=t.prettyPrint(c.value[v],l+1,o),v+1<c.value.length&&(y+=","));s+=h+"Sub values: "+b+y}else{if(s+=h+"Value: ",c.type===t.Type.OID){var O=t.derToOid(c.value);s+=O,e.pki&&e.pki.oids&&O in e.pki.oids&&(s+=" ("+e.pki.oids[O]+") ")}if(c.type===t.Type.INTEGER)try{s+=t.derToInteger(c.value)}catch{s+="0x"+e.util.bytesToHex(c.value)}else if(c.type===t.Type.BITSTRING){if(c.value.length>1?s+="0x"+e.util.bytesToHex(c.value.slice(1)):s+="(none)",c.value.length>0){var w=c.value.charCodeAt(0);w==1?s+=" (1 unused bit shown)":w>1&&(s+=" ("+w+" unused bits shown)")}}else if(c.type===t.Type.OCTETSTRING)m.test(c.value)||(s+="("+c.value+") "),s+="0x"+e.util.bytesToHex(c.value);else if(c.type===t.Type.UTF8)try{s+=e.util.decodeUtf8(c.value)}catch(I){if(I.message==="URI malformed")s+="0x"+e.util.bytesToHex(c.value)+" (malformed UTF8)";else throw I}else c.type===t.Type.PRINTABLESTRING||c.type===t.Type.IA5String?s+=c.value:m.test(c.value)?s+="0x"+e.util.bytesToHex(c.value):c.value.length===0?s+="[null]":s+=c.value}return s},asn1.exports}var hmac={exports:{}},md,hasRequiredMd;function requireMd(){if(hasRequiredMd)return md;hasRequiredMd=1;var e=requireForge();return md=e.md=e.md||{},e.md.algorithms=e.md.algorithms||{},md}var hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac.exports;hasRequiredHmac=1;var e=requireForge();requireMd(),requireUtil$7();var t=hmac.exports=e.hmac=e.hmac||{};return t.create=function(){var a=null,p=null,g=null,m=null,c={};return c.start=function(l,o){if(l!==null)if(typeof l=="string")if(l=l.toLowerCase(),l in e.md.algorithms)p=e.md.algorithms[l].create();else throw new Error('Unknown hash algorithm "'+l+'"');else p=l;if(o===null)o=a;else{if(typeof o=="string")o=e.util.createBuffer(o);else if(e.util.isArray(o)){var s=o;o=e.util.createBuffer();for(var h=0;h<s.length;++h)o.putByte(s[h])}var v=o.length();v>p.blockLength&&(p.start(),p.update(o.bytes()),o=p.digest()),g=e.util.createBuffer(),m=e.util.createBuffer(),v=o.length();for(var h=0;h<v;++h){var s=o.at(h);g.putByte(54^s),m.putByte(92^s)}if(v<p.blockLength)for(var s=p.blockLength-v,h=0;h<s;++h)g.putByte(54),m.putByte(92);a=o,g=g.bytes(),m=m.bytes()}p.start(),p.update(g)},c.update=function(l){p.update(l)},c.getMac=function(){var l=p.digest().bytes();return p.start(),p.update(m),p.update(l),p.digest()},c.digest=c.getMac,c},hmac.exports}var md5$3={exports:{}},hasRequiredMd5$2;function requireMd5$2(){if(hasRequiredMd5$2)return md5$3.exports;hasRequiredMd5$2=1;var e=requireForge();requireMd(),requireUtil$7();var t=md5$3.exports=e.md5=e.md5||{};e.md.md5=e.md.algorithms.md5=t,t.create=function(){c||l();var s=null,h=e.util.createBuffer(),v=new Array(16),b={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return b.start=function(){b.messageLength=0,b.fullMessageLength=b.messageLength64=[];for(var y=b.messageLengthSize/4,O=0;O<y;++O)b.fullMessageLength.push(0);return h=e.util.createBuffer(),s={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},b},b.start(),b.update=function(y,O){O==="utf8"&&(y=e.util.encodeUtf8(y));var w=y.length;b.messageLength+=w,w=[w/4294967296>>>0,w>>>0];for(var I=b.fullMessageLength.length-1;I>=0;--I)b.fullMessageLength[I]+=w[1],w[1]=w[0]+(b.fullMessageLength[I]/4294967296>>>0),b.fullMessageLength[I]=b.fullMessageLength[I]>>>0,w[0]=w[1]/4294967296>>>0;return h.putBytes(y),o(s,v,h),(h.read>2048||h.length()===0)&&h.compact(),b},b.digest=function(){var y=e.util.createBuffer();y.putBytes(h.bytes());var O=b.fullMessageLength[b.fullMessageLength.length-1]+b.messageLengthSize,w=O&b.blockLength-1;y.putBytes(a.substr(0,b.blockLength-w));for(var I,_=0,T=b.fullMessageLength.length-1;T>=0;--T)I=b.fullMessageLength[T]*8+_,_=I/4294967296>>>0,y.putInt32Le(I>>>0);var C={h0:s.h0,h1:s.h1,h2:s.h2,h3:s.h3};o(C,v,y);var N=e.util.createBuffer();return N.putInt32Le(C.h0),N.putInt32Le(C.h1),N.putInt32Le(C.h2),N.putInt32Le(C.h3),N},b};var a=null,p=null,g=null,m=null,c=!1;function l(){a="",a+=e.util.fillString("\0",64),p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],g=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],m=new Array(64);for(var s=0;s<64;++s)m[s]=Math.floor(Math.abs(Math.sin(s+1))*4294967296);c=!0}function o(s,h,v){for(var b,y,O,w,I,_,T,C,N=v.length();N>=64;){for(y=s.h0,O=s.h1,w=s.h2,I=s.h3,C=0;C<16;++C)h[C]=v.getInt32Le(),_=I^O&(w^I),b=y+_+m[C]+h[C],T=g[C],y=I,I=w,w=O,O+=b<<T|b>>>32-T;for(;C<32;++C)_=w^I&(O^w),b=y+_+m[C]+h[p[C]],T=g[C],y=I,I=w,w=O,O+=b<<T|b>>>32-T;for(;C<48;++C)_=O^w^I,b=y+_+m[C]+h[p[C]],T=g[C],y=I,I=w,w=O,O+=b<<T|b>>>32-T;for(;C<64;++C)_=w^(O|~I),b=y+_+m[C]+h[p[C]],T=g[C],y=I,I=w,w=O,O+=b<<T|b>>>32-T;s.h0=s.h0+y|0,s.h1=s.h1+O|0,s.h2=s.h2+w|0,s.h3=s.h3+I|0,N-=64}}return md5$3.exports}var pem={exports:{}},hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem.exports;hasRequiredPem=1;var e=requireForge();requireUtil$7();var t=pem.exports=e.pem=e.pem||{};t.encode=function(g,m){m=m||{};var c="-----BEGIN "+g.type+`-----\r
`,l;if(g.procType&&(l={name:"Proc-Type",values:[String(g.procType.version),g.procType.type]},c+=a(l)),g.contentDomain&&(l={name:"Content-Domain",values:[g.contentDomain]},c+=a(l)),g.dekInfo&&(l={name:"DEK-Info",values:[g.dekInfo.algorithm]},g.dekInfo.parameters&&l.values.push(g.dekInfo.parameters),c+=a(l)),g.headers)for(var o=0;o<g.headers.length;++o)c+=a(g.headers[o]);return g.procType&&(c+=`\r
`),c+=e.util.encode64(g.body,m.maxline||64)+`\r
`,c+="-----END "+g.type+`-----\r
`,c},t.decode=function(g){for(var m=[],c=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,l=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/,s;s=c.exec(g),!!s;){var h=s[1];h==="NEW CERTIFICATE REQUEST"&&(h="CERTIFICATE REQUEST");var v={type:h,procType:null,contentDomain:null,dekInfo:null,headers:[],body:e.util.decode64(s[3])};if(m.push(v),!!s[2]){for(var b=s[2].split(o),y=0;s&&y<b.length;){for(var O=b[y].replace(/\s+$/,""),w=y+1;w<b.length;++w){var I=b[w];if(!/\s/.test(I[0]))break;O+=I,y=w}if(s=O.match(l),s){for(var _={name:s[1],values:[]},T=s[2].split(","),C=0;C<T.length;++C)_.values.push(p(T[C]));if(v.procType)if(!v.contentDomain&&_.name==="Content-Domain")v.contentDomain=T[0]||"";else if(!v.dekInfo&&_.name==="DEK-Info"){if(_.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');v.dekInfo={algorithm:T[0],parameters:T[1]||null}}else v.headers.push(_);else{if(_.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(_.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');v.procType={version:T[0],type:T[1]}}}++y}if(v.procType==="ENCRYPTED"&&!v.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(m.length===0)throw new Error("Invalid PEM formatted message.");return m};function a(g){for(var m=g.name+": ",c=[],l=function(b,y){return" "+y},o=0;o<g.values.length;++o)c.push(g.values[o].replace(/^(\S+\r\n)/,l));m+=c.join(",")+`\r
`;for(var s=0,h=-1,o=0;o<m.length;++o,++s)if(s>65&&h!==-1){var v=m[h];v===","?(++h,m=m.substr(0,h)+`\r
 `+m.substr(h)):m=m.substr(0,h)+`\r
`+v+m.substr(h+1),s=o-h-1,h=-1,++o}else(m[o]===" "||m[o]==="	"||m[o]===",")&&(h=o);return m}function p(g){return g.replace(/^\s+/,"")}return pem.exports}var pki={exports:{}},des,hasRequiredDes;function requireDes(){if(hasRequiredDes)return des;hasRequiredDes=1;var e=requireForge();requireCipher(),requireCipherModes(),requireUtil$7(),des=e.des=e.des||{},e.des.startEncrypting=function(y,O,w,I){var _=b({key:y,output:w,decrypt:!1,mode:I||(O===null?"ECB":"CBC")});return _.start(O),_},e.des.createEncryptionCipher=function(y,O){return b({key:y,output:null,decrypt:!1,mode:O})},e.des.startDecrypting=function(y,O,w,I){var _=b({key:y,output:w,decrypt:!0,mode:I||(O===null?"ECB":"CBC")});return _.start(O),_},e.des.createDecryptionCipher=function(y,O){return b({key:y,output:null,decrypt:!0,mode:O})},e.des.Algorithm=function(y,O){var w=this;w.name=y,w.mode=new O({blockSize:8,cipher:{encrypt:function(I,_){return v(w._keys,I,_,!1)},decrypt:function(I,_){return v(w._keys,I,_,!0)}}}),w._init=!1},e.des.Algorithm.prototype.initialize=function(y){if(!this._init){var O=e.util.createBuffer(y.key);if(this.name.indexOf("3DES")===0&&O.length()!==24)throw new Error("Invalid Triple-DES key size: "+O.length()*8);this._keys=h(O),this._init=!0}},t("DES-ECB",e.cipher.modes.ecb),t("DES-CBC",e.cipher.modes.cbc),t("DES-CFB",e.cipher.modes.cfb),t("DES-OFB",e.cipher.modes.ofb),t("DES-CTR",e.cipher.modes.ctr),t("3DES-ECB",e.cipher.modes.ecb),t("3DES-CBC",e.cipher.modes.cbc),t("3DES-CFB",e.cipher.modes.cfb),t("3DES-OFB",e.cipher.modes.ofb),t("3DES-CTR",e.cipher.modes.ctr);function t(y,O){var w=function(){return new e.des.Algorithm(y,O)};e.cipher.registerAlgorithm(y,w)}var a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],p=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],g=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],m=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],o=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],s=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function h(y){for(var O=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],w=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],I=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],_=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],T=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],C=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],N=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],L=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],D=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],j=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],k=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],V=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],G=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],J=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],W=y.length()>8?3:1,K=[],X=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Y=0,te,oe=0;oe<W;oe++){var le=y.getInt32(),ee=y.getInt32();te=(le>>>4^ee)&252645135,ee^=te,le^=te<<4,te=(ee>>>-16^le)&65535,le^=te,ee^=te<<-16,te=(le>>>2^ee)&858993459,ee^=te,le^=te<<2,te=(ee>>>-16^le)&65535,le^=te,ee^=te<<-16,te=(le>>>1^ee)&1431655765,ee^=te,le^=te<<1,te=(ee>>>8^le)&16711935,le^=te,ee^=te<<8,te=(le>>>1^ee)&1431655765,ee^=te,le^=te<<1,te=le<<8|ee>>>20&240,le=ee<<24|ee<<8&16711680|ee>>>8&65280|ee>>>24&240,ee=te;for(var se=0;se<X.length;++se){X[se]?(le=le<<2|le>>>26,ee=ee<<2|ee>>>26):(le=le<<1|le>>>27,ee=ee<<1|ee>>>27),le&=-15,ee&=-15;var de=O[le>>>28]|w[le>>>24&15]|I[le>>>20&15]|_[le>>>16&15]|T[le>>>12&15]|C[le>>>8&15]|N[le>>>4&15],he=L[ee>>>28]|D[ee>>>24&15]|j[ee>>>20&15]|k[ee>>>16&15]|V[ee>>>12&15]|G[ee>>>8&15]|J[ee>>>4&15];te=(he>>>16^de)&65535,K[Y++]=de^te,K[Y++]=he^te<<16}}return K}function v(y,O,w,I){var _=y.length===32?3:9,T;_===3?T=I?[30,-2,-2]:[0,32,2]:T=I?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var C,N=O[0],L=O[1];C=(N>>>4^L)&252645135,L^=C,N^=C<<4,C=(N>>>16^L)&65535,L^=C,N^=C<<16,C=(L>>>2^N)&858993459,N^=C,L^=C<<2,C=(L>>>8^N)&16711935,N^=C,L^=C<<8,C=(N>>>1^L)&1431655765,L^=C,N^=C<<1,N=N<<1|N>>>31,L=L<<1|L>>>31;for(var D=0;D<_;D+=3){for(var j=T[D+1],k=T[D+2],V=T[D];V!=j;V+=k){var G=L^y[V],J=(L>>>4|L<<28)^y[V+1];C=N,N=L,L=C^(p[G>>>24&63]|m[G>>>16&63]|l[G>>>8&63]|s[G&63]|a[J>>>24&63]|g[J>>>16&63]|c[J>>>8&63]|o[J&63])}C=N,N=L,L=C}N=N>>>1|N<<31,L=L>>>1|L<<31,C=(N>>>1^L)&1431655765,L^=C,N^=C<<1,C=(L>>>8^N)&16711935,N^=C,L^=C<<8,C=(L>>>2^N)&858993459,N^=C,L^=C<<2,C=(N>>>16^L)&65535,L^=C,N^=C<<16,C=(N>>>4^L)&252645135,L^=C,N^=C<<4,w[0]=N,w[1]=L}function b(y){y=y||{};var O=(y.mode||"CBC").toUpperCase(),w="DES-"+O,I;y.decrypt?I=e.cipher.createDecipher(w,y.key):I=e.cipher.createCipher(w,y.key);var _=I.start;return I.start=function(T,C){var N=null;C instanceof e.util.ByteBuffer&&(N=C,C={}),C=C||{},C.output=N,C.iv=T,_.call(I,C)},I}return des}var pbkdf2,hasRequiredPbkdf2;function requirePbkdf2(){if(hasRequiredPbkdf2)return pbkdf2;hasRequiredPbkdf2=1;var e=requireForge();requireHmac(),requireMd(),requireUtil$7();var t=e.pkcs5=e.pkcs5||{},a;return e.util.isNodejs&&!e.options.usePureJavaScript&&(a=require$$1$3),pbkdf2=e.pbkdf2=t.pbkdf2=function(p,g,m,c,l,o){if(typeof l=="function"&&(o=l,l=null),e.util.isNodejs&&!e.options.usePureJavaScript&&a.pbkdf2&&(l===null||typeof l!="object")&&(a.pbkdf2Sync.length>4||!l||l==="sha1"))return typeof l!="string"&&(l="sha1"),p=Buffer.from(p,"binary"),g=Buffer.from(g,"binary"),o?a.pbkdf2Sync.length===4?a.pbkdf2(p,g,m,c,function(D,j){if(D)return o(D);o(null,j.toString("binary"))}):a.pbkdf2(p,g,m,c,l,function(D,j){if(D)return o(D);o(null,j.toString("binary"))}):a.pbkdf2Sync.length===4?a.pbkdf2Sync(p,g,m,c).toString("binary"):a.pbkdf2Sync(p,g,m,c,l).toString("binary");if((typeof l>"u"||l===null)&&(l="sha1"),typeof l=="string"){if(!(l in e.md.algorithms))throw new Error("Unknown hash algorithm: "+l);l=e.md[l].create()}var s=l.digestLength;if(c>4294967295*s){var h=new Error("Derived key is too long.");if(o)return o(h);throw h}var v=Math.ceil(c/s),b=c-(v-1)*s,y=e.hmac.create();y.start(l,p);var O="",w,I,_;if(!o){for(var T=1;T<=v;++T){y.start(null,null),y.update(g),y.update(e.util.int32ToBytes(T)),w=_=y.digest().getBytes();for(var C=2;C<=m;++C)y.start(null,null),y.update(_),I=y.digest().getBytes(),w=e.util.xorBytes(w,I,s),_=I;O+=T<v?w:w.substr(0,b)}return O}var T=1,C;function N(){if(T>v)return o(null,O);y.start(null,null),y.update(g),y.update(e.util.int32ToBytes(T)),w=_=y.digest().getBytes(),C=2,L()}function L(){if(C<=m)return y.start(null,null),y.update(_),I=y.digest().getBytes(),w=e.util.xorBytes(w,I,s),_=I,++C,e.util.setImmediate(L);O+=T<v?w:w.substr(0,b),++T,N()}N()},pbkdf2}var random$1={exports:{}},sha256={exports:{}},hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256.exports;hasRequiredSha256=1;var e=requireForge();requireMd(),requireUtil$7();var t=sha256.exports=e.sha256=e.sha256||{};e.md.sha256=e.md.algorithms.sha256=t,t.create=function(){p||m();var l=null,o=e.util.createBuffer(),s=new Array(64),h={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return h.start=function(){h.messageLength=0,h.fullMessageLength=h.messageLength64=[];for(var v=h.messageLengthSize/4,b=0;b<v;++b)h.fullMessageLength.push(0);return o=e.util.createBuffer(),l={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},h},h.start(),h.update=function(v,b){b==="utf8"&&(v=e.util.encodeUtf8(v));var y=v.length;h.messageLength+=y,y=[y/4294967296>>>0,y>>>0];for(var O=h.fullMessageLength.length-1;O>=0;--O)h.fullMessageLength[O]+=y[1],y[1]=y[0]+(h.fullMessageLength[O]/4294967296>>>0),h.fullMessageLength[O]=h.fullMessageLength[O]>>>0,y[0]=y[1]/4294967296>>>0;return o.putBytes(v),c(l,s,o),(o.read>2048||o.length()===0)&&o.compact(),h},h.digest=function(){var v=e.util.createBuffer();v.putBytes(o.bytes());var b=h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize,y=b&h.blockLength-1;v.putBytes(a.substr(0,h.blockLength-y));for(var O,w,I=h.fullMessageLength[0]*8,_=0;_<h.fullMessageLength.length-1;++_)O=h.fullMessageLength[_+1]*8,w=O/4294967296>>>0,I+=w,v.putInt32(I>>>0),I=O>>>0;v.putInt32(I);var T={h0:l.h0,h1:l.h1,h2:l.h2,h3:l.h3,h4:l.h4,h5:l.h5,h6:l.h6,h7:l.h7};c(T,s,v);var C=e.util.createBuffer();return C.putInt32(T.h0),C.putInt32(T.h1),C.putInt32(T.h2),C.putInt32(T.h3),C.putInt32(T.h4),C.putInt32(T.h5),C.putInt32(T.h6),C.putInt32(T.h7),C},h};var a=null,p=!1,g=null;function m(){a="",a+=e.util.fillString("\0",64),g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=!0}function c(l,o,s){for(var h,v,b,y,O,w,I,_,T,C,N,L,D,j,k,V=s.length();V>=64;){for(I=0;I<16;++I)o[I]=s.getInt32();for(;I<64;++I)h=o[I-2],h=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,v=o[I-15],v=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3,o[I]=h+o[I-7]+v+o[I-16]|0;for(_=l.h0,T=l.h1,C=l.h2,N=l.h3,L=l.h4,D=l.h5,j=l.h6,k=l.h7,I=0;I<64;++I)y=(L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7),O=j^L&(D^j),b=(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),w=_&T|C&(_^T),h=k+y+O+g[I]+o[I],v=b+w,k=j,j=D,D=L,L=N+h>>>0,N=C,C=T,T=_,_=h+v>>>0;l.h0=l.h0+_|0,l.h1=l.h1+T|0,l.h2=l.h2+C|0,l.h3=l.h3+N|0,l.h4=l.h4+L|0,l.h5=l.h5+D|0,l.h6=l.h6+j|0,l.h7=l.h7+k|0,V-=64}}return sha256.exports}var prng={exports:{}},hasRequiredPrng;function requirePrng(){if(hasRequiredPrng)return prng.exports;hasRequiredPrng=1;var e=requireForge();requireUtil$7();var t=null;e.util.isNodejs&&!e.options.usePureJavaScript&&!process.versions["node-webkit"]&&(t=require$$1$3);var a=prng.exports=e.prng=e.prng||{};return a.create=function(p){for(var g={plugin:p,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},m=p.md,c=new Array(32),l=0;l<32;++l)c[l]=m.create();g.pools=c,g.pool=0,g.generate=function(b,y){if(!y)return g.generateSync(b);var O=g.plugin.cipher,w=g.plugin.increment,I=g.plugin.formatKey,_=g.plugin.formatSeed,T=e.util.createBuffer();g.key=null,C();function C(N){if(N)return y(N);if(T.length()>=b)return y(null,T.getBytes(b));if(g.generated>1048575&&(g.key=null),g.key===null)return e.util.nextTick(function(){o(C)});var L=O(g.key,g.seed);g.generated+=L.length,T.putBytes(L),g.key=I(O(g.key,w(g.seed))),g.seed=_(O(g.key,g.seed)),e.util.setImmediate(C)}},g.generateSync=function(b){var y=g.plugin.cipher,O=g.plugin.increment,w=g.plugin.formatKey,I=g.plugin.formatSeed;g.key=null;for(var _=e.util.createBuffer();_.length()<b;){g.generated>1048575&&(g.key=null),g.key===null&&s();var T=y(g.key,g.seed);g.generated+=T.length,_.putBytes(T),g.key=w(y(g.key,O(g.seed))),g.seed=I(y(g.key,g.seed))}return _.getBytes(b)};function o(b){if(g.pools[0].messageLength>=32)return h(),b();var y=32-g.pools[0].messageLength<<5;g.seedFile(y,function(O,w){if(O)return b(O);g.collect(w),h(),b()})}function s(){if(g.pools[0].messageLength>=32)return h();var b=32-g.pools[0].messageLength<<5;g.collect(g.seedFileSync(b)),h()}function h(){g.reseeds=g.reseeds===4294967295?0:g.reseeds+1;var b=g.plugin.md.create();b.update(g.keyBytes);for(var y=1,O=0;O<32;++O)g.reseeds%y===0&&(b.update(g.pools[O].digest().getBytes()),g.pools[O].start()),y=y<<1;g.keyBytes=b.digest().getBytes(),b.start(),b.update(g.keyBytes);var w=b.digest().getBytes();g.key=g.plugin.formatKey(g.keyBytes),g.seed=g.plugin.formatSeed(w),g.generated=0}function v(b){var y=null,O=e.util.globalScope,w=O.crypto||O.msCrypto;w&&w.getRandomValues&&(y=function(k){return w.getRandomValues(k)});var I=e.util.createBuffer();if(y)for(;I.length()<b;){var _=Math.max(1,Math.min(b-I.length(),65536)/4),T=new Uint32Array(Math.floor(_));try{y(T);for(var C=0;C<T.length;++C)I.putInt32(T[C])}catch(k){if(!(typeof QuotaExceededError<"u"&&k instanceof QuotaExceededError))throw k}}if(I.length()<b)for(var N,L,D,j=Math.floor(Math.random()*65536);I.length()<b;){L=16807*(j&65535),N=16807*(j>>16),L+=(N&32767)<<16,L+=N>>15,L=(L&2147483647)+(L>>31),j=L&4294967295;for(var C=0;C<3;++C)D=j>>>(C<<3),D^=Math.floor(Math.random()*256),I.putByte(D&255)}return I.getBytes(b)}return t?(g.seedFile=function(b,y){t.randomBytes(b,function(O,w){if(O)return y(O);y(null,w.toString())})},g.seedFileSync=function(b){return t.randomBytes(b).toString()}):(g.seedFile=function(b,y){try{y(null,v(b))}catch(O){y(O)}},g.seedFileSync=v),g.collect=function(b){for(var y=b.length,O=0;O<y;++O)g.pools[g.pool].update(b.substr(O,1)),g.pool=g.pool===31?0:g.pool+1},g.collectInt=function(b,y){for(var O="",w=0;w<y;w+=8)O+=String.fromCharCode(b>>w&255);g.collect(O)},g.registerWorker=function(b){if(b===self)g.seedFile=function(O,w){function I(_){var T=_.data;T.forge&&T.forge.prng&&(self.removeEventListener("message",I),w(T.forge.prng.err,T.forge.prng.bytes))}self.addEventListener("message",I),self.postMessage({forge:{prng:{needed:O}}})};else{var y=function(O){var w=O.data;w.forge&&w.forge.prng&&g.seedFile(w.forge.prng.needed,function(I,_){b.postMessage({forge:{prng:{err:I,bytes:_}}})})};b.addEventListener("message",y)}},g},prng.exports}var hasRequiredRandom;function requireRandom(){if(hasRequiredRandom)return random$1.exports;hasRequiredRandom=1;var e=requireForge();return requireAes(),requireSha256(),requirePrng(),requireUtil$7(),(function(){if(e.random&&e.random.getBytes){random$1.exports=e.random;return}(function(t){var a={},p=new Array(4),g=e.util.createBuffer();a.formatKey=function(b){var y=e.util.createBuffer(b);return b=new Array(4),b[0]=y.getInt32(),b[1]=y.getInt32(),b[2]=y.getInt32(),b[3]=y.getInt32(),e.aes._expandKey(b,!1)},a.formatSeed=function(b){var y=e.util.createBuffer(b);return b=new Array(4),b[0]=y.getInt32(),b[1]=y.getInt32(),b[2]=y.getInt32(),b[3]=y.getInt32(),b},a.cipher=function(b,y){return e.aes._updateBlock(b,y,p,!1),g.putInt32(p[0]),g.putInt32(p[1]),g.putInt32(p[2]),g.putInt32(p[3]),g.getBytes()},a.increment=function(b){return++b[3],b},a.md=e.md.sha256;function m(){var b=e.prng.create(a);return b.getBytes=function(y,O){return b.generate(y,O)},b.getBytesSync=function(y){return b.generate(y)},b}var c=m(),l=null,o=e.util.globalScope,s=o.crypto||o.msCrypto;if(s&&s.getRandomValues&&(l=function(b){return s.getRandomValues(b)}),e.options.usePureJavaScript||!e.util.isNodejs&&!l){if(c.collectInt(+new Date,32),typeof navigator<"u"){var h="";for(var v in navigator)try{typeof navigator[v]=="string"&&(h+=navigator[v])}catch{}c.collect(h),h=null}t&&(t().mousemove(function(b){c.collectInt(b.clientX,16),c.collectInt(b.clientY,16)}),t().keypress(function(b){c.collectInt(b.charCode,8)}))}if(!e.random)e.random=c;else for(var v in c)e.random[v]=c[v];e.random.createInstance=m,random$1.exports=e.random})(typeof jQuery<"u"?jQuery:null)})(),random$1.exports}var rc2,hasRequiredRc2;function requireRc2(){if(hasRequiredRc2)return rc2;hasRequiredRc2=1;var e=requireForge();requireUtil$7();var t=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],a=[1,2,3,5],p=function(c,l){return c<<l&65535|(c&65535)>>16-l},g=function(c,l){return(c&65535)>>l|c<<16-l&65535};rc2=e.rc2=e.rc2||{},e.rc2.expandKey=function(c,l){typeof c=="string"&&(c=e.util.createBuffer(c)),l=l||128;var o=c,s=c.length(),h=l,v=Math.ceil(h/8),b=255>>(h&7),y;for(y=s;y<128;y++)o.putByte(t[o.at(y-1)+o.at(y-s)&255]);for(o.setAt(128-v,t[o.at(128-v)&b]),y=127-v;y>=0;y--)o.setAt(y,t[o.at(y+1)^o.at(y+v)]);return o};var m=function(c,l,o){var s=!1,h=null,v=null,b=null,y,O,w,I,_=[];for(c=e.rc2.expandKey(c,l),w=0;w<64;w++)_.push(c.getInt16Le());o?(y=function(N){for(w=0;w<4;w++)N[w]+=_[I]+(N[(w+3)%4]&N[(w+2)%4])+(~N[(w+3)%4]&N[(w+1)%4]),N[w]=p(N[w],a[w]),I++},O=function(N){for(w=0;w<4;w++)N[w]+=_[N[(w+3)%4]&63]}):(y=function(N){for(w=3;w>=0;w--)N[w]=g(N[w],a[w]),N[w]-=_[I]+(N[(w+3)%4]&N[(w+2)%4])+(~N[(w+3)%4]&N[(w+1)%4]),I--},O=function(N){for(w=3;w>=0;w--)N[w]-=_[N[(w+3)%4]&63]});var T=function(N){var L=[];for(w=0;w<4;w++){var D=h.getInt16Le();b!==null&&(o?D^=b.getInt16Le():b.putInt16Le(D)),L.push(D&65535)}I=o?0:63;for(var j=0;j<N.length;j++)for(var k=0;k<N[j][0];k++)N[j][1](L);for(w=0;w<4;w++)b!==null&&(o?b.putInt16Le(L[w]):L[w]^=b.getInt16Le()),v.putInt16Le(L[w])},C=null;return C={start:function(N,L){N&&typeof N=="string"&&(N=e.util.createBuffer(N)),s=!1,h=e.util.createBuffer(),v=L||new e.util.createBuffer,b=N,C.output=v},update:function(N){for(s||h.putBuffer(N);h.length()>=8;)T([[5,y],[1,O],[6,y],[1,O],[5,y]])},finish:function(N){var L=!0;if(o)if(N)L=N(8,h,!o);else{var D=h.length()===8?8:8-h.length();h.fillWithByte(D,D)}if(L&&(s=!0,C.update()),!o&&(L=h.length()===0,L))if(N)L=N(8,v,!o);else{var j=v.length(),k=v.at(j-1);k>j?L=!1:v.truncate(k)}return L}},C};return e.rc2.startEncrypting=function(c,l,o){var s=e.rc2.createEncryptionCipher(c,128);return s.start(l,o),s},e.rc2.createEncryptionCipher=function(c,l){return m(c,l,!0)},e.rc2.startDecrypting=function(c,l,o){var s=e.rc2.createDecryptionCipher(c,128);return s.start(l,o),s},e.rc2.createDecryptionCipher=function(c,l){return m(c,l,!1)},rc2}var jsbn,hasRequiredJsbn;function requireJsbn(){if(hasRequiredJsbn)return jsbn;hasRequiredJsbn=1;var e=requireForge();jsbn=e.jsbn=e.jsbn||{};var t;function a(ve,Se,Te){this.data=[],ve!=null&&(typeof ve=="number"?this.fromNumber(ve,Se,Te):Se==null&&typeof ve!="string"?this.fromString(ve,256):this.fromString(ve,Se))}e.jsbn.BigInteger=a;function p(){return new a(null)}function g(ve,Se,Te,Ne,Ke,Ge){for(;--Ge>=0;){var et=Se*this.data[ve++]+Te.data[Ne]+Ke;Ke=Math.floor(et/67108864),Te.data[Ne++]=et&67108863}return Ke}function m(ve,Se,Te,Ne,Ke,Ge){for(var et=Se&32767,Ye=Se>>15;--Ge>=0;){var Rt=this.data[ve]&32767,$t=this.data[ve++]>>15,Qt=Ye*Rt+$t*et;Rt=et*Rt+((Qt&32767)<<15)+Te.data[Ne]+(Ke&1073741823),Ke=(Rt>>>30)+(Qt>>>15)+Ye*$t+(Ke>>>30),Te.data[Ne++]=Rt&1073741823}return Ke}function c(ve,Se,Te,Ne,Ke,Ge){for(var et=Se&16383,Ye=Se>>14;--Ge>=0;){var Rt=this.data[ve]&16383,$t=this.data[ve++]>>14,Qt=Ye*Rt+$t*et;Rt=et*Rt+((Qt&16383)<<14)+Te.data[Ne]+Ke,Ke=(Rt>>28)+(Qt>>14)+Ye*$t,Te.data[Ne++]=Rt&268435455}return Ke}typeof navigator>"u"?(a.prototype.am=c,t=28):navigator.appName=="Microsoft Internet Explorer"?(a.prototype.am=m,t=30):navigator.appName!="Netscape"?(a.prototype.am=g,t=26):(a.prototype.am=c,t=28),a.prototype.DB=t,a.prototype.DM=(1<<t)-1,a.prototype.DV=1<<t;var l=52;a.prototype.FV=Math.pow(2,l),a.prototype.F1=l-t,a.prototype.F2=2*t-l;var o="0123456789abcdefghijklmnopqrstuvwxyz",s=new Array,h,v;for(h=48,v=0;v<=9;++v)s[h++]=v;for(h=97,v=10;v<36;++v)s[h++]=v;for(h=65,v=10;v<36;++v)s[h++]=v;function b(ve){return o.charAt(ve)}function y(ve,Se){var Te=s[ve.charCodeAt(Se)];return Te??-1}function O(ve){for(var Se=this.t-1;Se>=0;--Se)ve.data[Se]=this.data[Se];ve.t=this.t,ve.s=this.s}function w(ve){this.t=1,this.s=ve<0?-1:0,ve>0?this.data[0]=ve:ve<-1?this.data[0]=ve+this.DV:this.t=0}function I(ve){var Se=p();return Se.fromInt(ve),Se}function _(ve,Se){var Te;if(Se==16)Te=4;else if(Se==8)Te=3;else if(Se==256)Te=8;else if(Se==2)Te=1;else if(Se==32)Te=5;else if(Se==4)Te=2;else{this.fromRadix(ve,Se);return}this.t=0,this.s=0;for(var Ne=ve.length,Ke=!1,Ge=0;--Ne>=0;){var et=Te==8?ve[Ne]&255:y(ve,Ne);if(et<0){ve.charAt(Ne)=="-"&&(Ke=!0);continue}Ke=!1,Ge==0?this.data[this.t++]=et:Ge+Te>this.DB?(this.data[this.t-1]|=(et&(1<<this.DB-Ge)-1)<<Ge,this.data[this.t++]=et>>this.DB-Ge):this.data[this.t-1]|=et<<Ge,Ge+=Te,Ge>=this.DB&&(Ge-=this.DB)}Te==8&&(ve[0]&128)!=0&&(this.s=-1,Ge>0&&(this.data[this.t-1]|=(1<<this.DB-Ge)-1<<Ge)),this.clamp(),Ke&&a.ZERO.subTo(this,this)}function T(){for(var ve=this.s&this.DM;this.t>0&&this.data[this.t-1]==ve;)--this.t}function C(ve){if(this.s<0)return"-"+this.negate().toString(ve);var Se;if(ve==16)Se=4;else if(ve==8)Se=3;else if(ve==2)Se=1;else if(ve==32)Se=5;else if(ve==4)Se=2;else return this.toRadix(ve);var Te=(1<<Se)-1,Ne,Ke=!1,Ge="",et=this.t,Ye=this.DB-et*this.DB%Se;if(et-- >0)for(Ye<this.DB&&(Ne=this.data[et]>>Ye)>0&&(Ke=!0,Ge=b(Ne));et>=0;)Ye<Se?(Ne=(this.data[et]&(1<<Ye)-1)<<Se-Ye,Ne|=this.data[--et]>>(Ye+=this.DB-Se)):(Ne=this.data[et]>>(Ye-=Se)&Te,Ye<=0&&(Ye+=this.DB,--et)),Ne>0&&(Ke=!0),Ke&&(Ge+=b(Ne));return Ke?Ge:"0"}function N(){var ve=p();return a.ZERO.subTo(this,ve),ve}function L(){return this.s<0?this.negate():this}function D(ve){var Se=this.s-ve.s;if(Se!=0)return Se;var Te=this.t;if(Se=Te-ve.t,Se!=0)return this.s<0?-Se:Se;for(;--Te>=0;)if((Se=this.data[Te]-ve.data[Te])!=0)return Se;return 0}function j(ve){var Se=1,Te;return(Te=ve>>>16)!=0&&(ve=Te,Se+=16),(Te=ve>>8)!=0&&(ve=Te,Se+=8),(Te=ve>>4)!=0&&(ve=Te,Se+=4),(Te=ve>>2)!=0&&(ve=Te,Se+=2),(Te=ve>>1)!=0&&(ve=Te,Se+=1),Se}function k(){return this.t<=0?0:this.DB*(this.t-1)+j(this.data[this.t-1]^this.s&this.DM)}function V(ve,Se){var Te;for(Te=this.t-1;Te>=0;--Te)Se.data[Te+ve]=this.data[Te];for(Te=ve-1;Te>=0;--Te)Se.data[Te]=0;Se.t=this.t+ve,Se.s=this.s}function G(ve,Se){for(var Te=ve;Te<this.t;++Te)Se.data[Te-ve]=this.data[Te];Se.t=Math.max(this.t-ve,0),Se.s=this.s}function J(ve,Se){var Te=ve%this.DB,Ne=this.DB-Te,Ke=(1<<Ne)-1,Ge=Math.floor(ve/this.DB),et=this.s<<Te&this.DM,Ye;for(Ye=this.t-1;Ye>=0;--Ye)Se.data[Ye+Ge+1]=this.data[Ye]>>Ne|et,et=(this.data[Ye]&Ke)<<Te;for(Ye=Ge-1;Ye>=0;--Ye)Se.data[Ye]=0;Se.data[Ge]=et,Se.t=this.t+Ge+1,Se.s=this.s,Se.clamp()}function W(ve,Se){Se.s=this.s;var Te=Math.floor(ve/this.DB);if(Te>=this.t){Se.t=0;return}var Ne=ve%this.DB,Ke=this.DB-Ne,Ge=(1<<Ne)-1;Se.data[0]=this.data[Te]>>Ne;for(var et=Te+1;et<this.t;++et)Se.data[et-Te-1]|=(this.data[et]&Ge)<<Ke,Se.data[et-Te]=this.data[et]>>Ne;Ne>0&&(Se.data[this.t-Te-1]|=(this.s&Ge)<<Ke),Se.t=this.t-Te,Se.clamp()}function K(ve,Se){for(var Te=0,Ne=0,Ke=Math.min(ve.t,this.t);Te<Ke;)Ne+=this.data[Te]-ve.data[Te],Se.data[Te++]=Ne&this.DM,Ne>>=this.DB;if(ve.t<this.t){for(Ne-=ve.s;Te<this.t;)Ne+=this.data[Te],Se.data[Te++]=Ne&this.DM,Ne>>=this.DB;Ne+=this.s}else{for(Ne+=this.s;Te<ve.t;)Ne-=ve.data[Te],Se.data[Te++]=Ne&this.DM,Ne>>=this.DB;Ne-=ve.s}Se.s=Ne<0?-1:0,Ne<-1?Se.data[Te++]=this.DV+Ne:Ne>0&&(Se.data[Te++]=Ne),Se.t=Te,Se.clamp()}function X(ve,Se){var Te=this.abs(),Ne=ve.abs(),Ke=Te.t;for(Se.t=Ke+Ne.t;--Ke>=0;)Se.data[Ke]=0;for(Ke=0;Ke<Ne.t;++Ke)Se.data[Ke+Te.t]=Te.am(0,Ne.data[Ke],Se,Ke,0,Te.t);Se.s=0,Se.clamp(),this.s!=ve.s&&a.ZERO.subTo(Se,Se)}function Y(ve){for(var Se=this.abs(),Te=ve.t=2*Se.t;--Te>=0;)ve.data[Te]=0;for(Te=0;Te<Se.t-1;++Te){var Ne=Se.am(Te,Se.data[Te],ve,2*Te,0,1);(ve.data[Te+Se.t]+=Se.am(Te+1,2*Se.data[Te],ve,2*Te+1,Ne,Se.t-Te-1))>=Se.DV&&(ve.data[Te+Se.t]-=Se.DV,ve.data[Te+Se.t+1]=1)}ve.t>0&&(ve.data[ve.t-1]+=Se.am(Te,Se.data[Te],ve,2*Te,0,1)),ve.s=0,ve.clamp()}function te(ve,Se,Te){var Ne=ve.abs();if(!(Ne.t<=0)){var Ke=this.abs();if(Ke.t<Ne.t){Se?.fromInt(0),Te!=null&&this.copyTo(Te);return}Te==null&&(Te=p());var Ge=p(),et=this.s,Ye=ve.s,Rt=this.DB-j(Ne.data[Ne.t-1]);Rt>0?(Ne.lShiftTo(Rt,Ge),Ke.lShiftTo(Rt,Te)):(Ne.copyTo(Ge),Ke.copyTo(Te));var $t=Ge.t,Qt=Ge.data[$t-1];if(Qt!=0){var Xt=Qt*(1<<this.F1)+($t>1?Ge.data[$t-2]>>this.F2:0),lr=this.FV/Xt,yr=(1<<this.F1)/Xt,Ht=1<<this.F2,ur=Te.t,Zt=ur-$t,ir=Se??p();for(Ge.dlShiftTo(Zt,ir),Te.compareTo(ir)>=0&&(Te.data[Te.t++]=1,Te.subTo(ir,Te)),a.ONE.dlShiftTo($t,ir),ir.subTo(Ge,Ge);Ge.t<$t;)Ge.data[Ge.t++]=0;for(;--Zt>=0;){var vr=Te.data[--ur]==Qt?this.DM:Math.floor(Te.data[ur]*lr+(Te.data[ur-1]+Ht)*yr);if((Te.data[ur]+=Ge.am(0,vr,Te,Zt,0,$t))<vr)for(Ge.dlShiftTo(Zt,ir),Te.subTo(ir,Te);Te.data[ur]<--vr;)Te.subTo(ir,Te)}Se!=null&&(Te.drShiftTo($t,Se),et!=Ye&&a.ZERO.subTo(Se,Se)),Te.t=$t,Te.clamp(),Rt>0&&Te.rShiftTo(Rt,Te),et<0&&a.ZERO.subTo(Te,Te)}}}function oe(ve){var Se=p();return this.abs().divRemTo(ve,null,Se),this.s<0&&Se.compareTo(a.ZERO)>0&&ve.subTo(Se,Se),Se}function le(ve){this.m=ve}function ee(ve){return ve.s<0||ve.compareTo(this.m)>=0?ve.mod(this.m):ve}function se(ve){return ve}function de(ve){ve.divRemTo(this.m,null,ve)}function he(ve,Se,Te){ve.multiplyTo(Se,Te),this.reduce(Te)}function ge(ve,Se){ve.squareTo(Se),this.reduce(Se)}le.prototype.convert=ee,le.prototype.revert=se,le.prototype.reduce=de,le.prototype.mulTo=he,le.prototype.sqrTo=ge;function me(){if(this.t<1)return 0;var ve=this.data[0];if((ve&1)==0)return 0;var Se=ve&3;return Se=Se*(2-(ve&15)*Se)&15,Se=Se*(2-(ve&255)*Se)&255,Se=Se*(2-((ve&65535)*Se&65535))&65535,Se=Se*(2-ve*Se%this.DV)%this.DV,Se>0?this.DV-Se:-Se}function Oe(ve){this.m=ve,this.mp=ve.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<ve.DB-15)-1,this.mt2=2*ve.t}function fe(ve){var Se=p();return ve.abs().dlShiftTo(this.m.t,Se),Se.divRemTo(this.m,null,Se),ve.s<0&&Se.compareTo(a.ZERO)>0&&this.m.subTo(Se,Se),Se}function _e(ve){var Se=p();return ve.copyTo(Se),this.reduce(Se),Se}function Ee(ve){for(;ve.t<=this.mt2;)ve.data[ve.t++]=0;for(var Se=0;Se<this.m.t;++Se){var Te=ve.data[Se]&32767,Ne=Te*this.mpl+((Te*this.mph+(ve.data[Se]>>15)*this.mpl&this.um)<<15)&ve.DM;for(Te=Se+this.m.t,ve.data[Te]+=this.m.am(0,Ne,ve,Se,0,this.m.t);ve.data[Te]>=ve.DV;)ve.data[Te]-=ve.DV,ve.data[++Te]++}ve.clamp(),ve.drShiftTo(this.m.t,ve),ve.compareTo(this.m)>=0&&ve.subTo(this.m,ve)}function z(ve,Se){ve.squareTo(Se),this.reduce(Se)}function d(ve,Se,Te){ve.multiplyTo(Se,Te),this.reduce(Te)}Oe.prototype.convert=fe,Oe.prototype.revert=_e,Oe.prototype.reduce=Ee,Oe.prototype.mulTo=d,Oe.prototype.sqrTo=z;function P(){return(this.t>0?this.data[0]&1:this.s)==0}function A(ve,Se){if(ve>4294967295||ve<1)return a.ONE;var Te=p(),Ne=p(),Ke=Se.convert(this),Ge=j(ve)-1;for(Ke.copyTo(Te);--Ge>=0;)if(Se.sqrTo(Te,Ne),(ve&1<<Ge)>0)Se.mulTo(Ne,Ke,Te);else{var et=Te;Te=Ne,Ne=et}return Se.revert(Te)}function $(ve,Se){var Te;return ve<256||Se.isEven()?Te=new le(Se):Te=new Oe(Se),this.exp(ve,Te)}a.prototype.copyTo=O,a.prototype.fromInt=w,a.prototype.fromString=_,a.prototype.clamp=T,a.prototype.dlShiftTo=V,a.prototype.drShiftTo=G,a.prototype.lShiftTo=J,a.prototype.rShiftTo=W,a.prototype.subTo=K,a.prototype.multiplyTo=X,a.prototype.squareTo=Y,a.prototype.divRemTo=te,a.prototype.invDigit=me,a.prototype.isEven=P,a.prototype.exp=A,a.prototype.toString=C,a.prototype.negate=N,a.prototype.abs=L,a.prototype.compareTo=D,a.prototype.bitLength=k,a.prototype.mod=oe,a.prototype.modPowInt=$,a.ZERO=I(0),a.ONE=I(1);function ie(){var ve=p();return this.copyTo(ve),ve}function pe(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function ne(){return this.t==0?this.s:this.data[0]<<24>>24}function u(){return this.t==0?this.s:this.data[0]<<16>>16}function x(ve){return Math.floor(Math.LN2*this.DB/Math.log(ve))}function M(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function n(ve){if(ve==null&&(ve=10),this.signum()==0||ve<2||ve>36)return"0";var Se=this.chunkSize(ve),Te=Math.pow(ve,Se),Ne=I(Te),Ke=p(),Ge=p(),et="";for(this.divRemTo(Ne,Ke,Ge);Ke.signum()>0;)et=(Te+Ge.intValue()).toString(ve).substr(1)+et,Ke.divRemTo(Ne,Ke,Ge);return Ge.intValue().toString(ve)+et}function q(ve,Se){this.fromInt(0),Se==null&&(Se=10);for(var Te=this.chunkSize(Se),Ne=Math.pow(Se,Te),Ke=!1,Ge=0,et=0,Ye=0;Ye<ve.length;++Ye){var Rt=y(ve,Ye);if(Rt<0){ve.charAt(Ye)=="-"&&this.signum()==0&&(Ke=!0);continue}et=Se*et+Rt,++Ge>=Te&&(this.dMultiply(Ne),this.dAddOffset(et,0),Ge=0,et=0)}Ge>0&&(this.dMultiply(Math.pow(Se,Ge)),this.dAddOffset(et,0)),Ke&&a.ZERO.subTo(this,this)}function U(ve,Se,Te){if(typeof Se=="number")if(ve<2)this.fromInt(1);else for(this.fromNumber(ve,Te),this.testBit(ve-1)||this.bitwiseTo(a.ONE.shiftLeft(ve-1),dt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(Se);)this.dAddOffset(2,0),this.bitLength()>ve&&this.subTo(a.ONE.shiftLeft(ve-1),this);else{var Ne=new Array,Ke=ve&7;Ne.length=(ve>>3)+1,Se.nextBytes(Ne),Ke>0?Ne[0]&=(1<<Ke)-1:Ne[0]=0,this.fromString(Ne,256)}}function Q(){var ve=this.t,Se=new Array;Se[0]=this.s;var Te=this.DB-ve*this.DB%8,Ne,Ke=0;if(ve-- >0)for(Te<this.DB&&(Ne=this.data[ve]>>Te)!=(this.s&this.DM)>>Te&&(Se[Ke++]=Ne|this.s<<this.DB-Te);ve>=0;)Te<8?(Ne=(this.data[ve]&(1<<Te)-1)<<8-Te,Ne|=this.data[--ve]>>(Te+=this.DB-8)):(Ne=this.data[ve]>>(Te-=8)&255,Te<=0&&(Te+=this.DB,--ve)),(Ne&128)!=0&&(Ne|=-256),Ke==0&&(this.s&128)!=(Ne&128)&&++Ke,(Ke>0||Ne!=this.s)&&(Se[Ke++]=Ne);return Se}function ye(ve){return this.compareTo(ve)==0}function Ie(ve){return this.compareTo(ve)<0?this:ve}function je(ve){return this.compareTo(ve)>0?this:ve}function ke(ve,Se,Te){var Ne,Ke,Ge=Math.min(ve.t,this.t);for(Ne=0;Ne<Ge;++Ne)Te.data[Ne]=Se(this.data[Ne],ve.data[Ne]);if(ve.t<this.t){for(Ke=ve.s&this.DM,Ne=Ge;Ne<this.t;++Ne)Te.data[Ne]=Se(this.data[Ne],Ke);Te.t=this.t}else{for(Ke=this.s&this.DM,Ne=Ge;Ne<ve.t;++Ne)Te.data[Ne]=Se(Ke,ve.data[Ne]);Te.t=ve.t}Te.s=Se(this.s,ve.s),Te.clamp()}function ze(ve,Se){return ve&Se}function it(ve){var Se=p();return this.bitwiseTo(ve,ze,Se),Se}function dt(ve,Se){return ve|Se}function _t(ve){var Se=p();return this.bitwiseTo(ve,dt,Se),Se}function St(ve,Se){return ve^Se}function lt(ve){var Se=p();return this.bitwiseTo(ve,St,Se),Se}function Ve(ve,Se){return ve&~Se}function Me(ve){var Se=p();return this.bitwiseTo(ve,Ve,Se),Se}function $e(){for(var ve=p(),Se=0;Se<this.t;++Se)ve.data[Se]=this.DM&~this.data[Se];return ve.t=this.t,ve.s=~this.s,ve}function Je(ve){var Se=p();return ve<0?this.rShiftTo(-ve,Se):this.lShiftTo(ve,Se),Se}function Ze(ve){var Se=p();return ve<0?this.lShiftTo(-ve,Se):this.rShiftTo(ve,Se),Se}function st(ve){if(ve==0)return-1;var Se=0;return(ve&65535)==0&&(ve>>=16,Se+=16),(ve&255)==0&&(ve>>=8,Se+=8),(ve&15)==0&&(ve>>=4,Se+=4),(ve&3)==0&&(ve>>=2,Se+=2),(ve&1)==0&&++Se,Se}function mt(){for(var ve=0;ve<this.t;++ve)if(this.data[ve]!=0)return ve*this.DB+st(this.data[ve]);return this.s<0?this.t*this.DB:-1}function bt(ve){for(var Se=0;ve!=0;)ve&=ve-1,++Se;return Se}function yt(){for(var ve=0,Se=this.s&this.DM,Te=0;Te<this.t;++Te)ve+=bt(this.data[Te]^Se);return ve}function Jt(ve){var Se=Math.floor(ve/this.DB);return Se>=this.t?this.s!=0:(this.data[Se]&1<<ve%this.DB)!=0}function Gt(ve,Se){var Te=a.ONE.shiftLeft(ve);return this.bitwiseTo(Te,Se,Te),Te}function Nt(ve){return this.changeBit(ve,dt)}function Lt(ve){return this.changeBit(ve,Ve)}function Pt(ve){return this.changeBit(ve,St)}function Dt(ve,Se){for(var Te=0,Ne=0,Ke=Math.min(ve.t,this.t);Te<Ke;)Ne+=this.data[Te]+ve.data[Te],Se.data[Te++]=Ne&this.DM,Ne>>=this.DB;if(ve.t<this.t){for(Ne+=ve.s;Te<this.t;)Ne+=this.data[Te],Se.data[Te++]=Ne&this.DM,Ne>>=this.DB;Ne+=this.s}else{for(Ne+=this.s;Te<ve.t;)Ne+=ve.data[Te],Se.data[Te++]=Ne&this.DM,Ne>>=this.DB;Ne+=ve.s}Se.s=Ne<0?-1:0,Ne>0?Se.data[Te++]=Ne:Ne<-1&&(Se.data[Te++]=this.DV+Ne),Se.t=Te,Se.clamp()}function kt(ve){var Se=p();return this.addTo(ve,Se),Se}function Et(ve){var Se=p();return this.subTo(ve,Se),Se}function Ot(ve){var Se=p();return this.multiplyTo(ve,Se),Se}function jt(ve){var Se=p();return this.divRemTo(ve,Se,null),Se}function qt(ve){var Se=p();return this.divRemTo(ve,null,Se),Se}function vt(ve){var Se=p(),Te=p();return this.divRemTo(ve,Se,Te),new Array(Se,Te)}function Tt(ve){this.data[this.t]=this.am(0,ve-1,this,0,0,this.t),++this.t,this.clamp()}function At(ve,Se){if(ve!=0){for(;this.t<=Se;)this.data[this.t++]=0;for(this.data[Se]+=ve;this.data[Se]>=this.DV;)this.data[Se]-=this.DV,++Se>=this.t&&(this.data[this.t++]=0),++this.data[Se]}}function Pe(){}function Ce(ve){return ve}function xe(ve,Se,Te){ve.multiplyTo(Se,Te)}function Ue(ve,Se){ve.squareTo(Se)}Pe.prototype.convert=Ce,Pe.prototype.revert=Ce,Pe.prototype.mulTo=xe,Pe.prototype.sqrTo=Ue;function Le(ve){return this.exp(ve,new Pe)}function nt(ve,Se,Te){var Ne=Math.min(this.t+ve.t,Se);for(Te.s=0,Te.t=Ne;Ne>0;)Te.data[--Ne]=0;var Ke;for(Ke=Te.t-this.t;Ne<Ke;++Ne)Te.data[Ne+this.t]=this.am(0,ve.data[Ne],Te,Ne,0,this.t);for(Ke=Math.min(ve.t,Se);Ne<Ke;++Ne)this.am(0,ve.data[Ne],Te,Ne,0,Se-Ne);Te.clamp()}function ht(ve,Se,Te){--Se;var Ne=Te.t=this.t+ve.t-Se;for(Te.s=0;--Ne>=0;)Te.data[Ne]=0;for(Ne=Math.max(Se-this.t,0);Ne<ve.t;++Ne)Te.data[this.t+Ne-Se]=this.am(Se-Ne,ve.data[Ne],Te,0,0,this.t+Ne-Se);Te.clamp(),Te.drShiftTo(1,Te)}function wt(ve){this.r2=p(),this.q3=p(),a.ONE.dlShiftTo(2*ve.t,this.r2),this.mu=this.r2.divide(ve),this.m=ve}function Wt(ve){if(ve.s<0||ve.t>2*this.m.t)return ve.mod(this.m);if(ve.compareTo(this.m)<0)return ve;var Se=p();return ve.copyTo(Se),this.reduce(Se),Se}function Mt(ve){return ve}function sr(ve){for(ve.drShiftTo(this.m.t-1,this.r2),ve.t>this.m.t+1&&(ve.t=this.m.t+1,ve.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);ve.compareTo(this.r2)<0;)ve.dAddOffset(1,this.m.t+1);for(ve.subTo(this.r2,ve);ve.compareTo(this.m)>=0;)ve.subTo(this.m,ve)}function pt(ve,Se){ve.squareTo(Se),this.reduce(Se)}function ut(ve,Se,Te){ve.multiplyTo(Se,Te),this.reduce(Te)}wt.prototype.convert=Wt,wt.prototype.revert=Mt,wt.prototype.reduce=sr,wt.prototype.mulTo=ut,wt.prototype.sqrTo=pt;function cr(ve,Se){var Te=ve.bitLength(),Ne,Ke=I(1),Ge;if(Te<=0)return Ke;Te<18?Ne=1:Te<48?Ne=3:Te<144?Ne=4:Te<768?Ne=5:Ne=6,Te<8?Ge=new le(Se):Se.isEven()?Ge=new wt(Se):Ge=new Oe(Se);var et=new Array,Ye=3,Rt=Ne-1,$t=(1<<Ne)-1;if(et[1]=Ge.convert(this),Ne>1){var Qt=p();for(Ge.sqrTo(et[1],Qt);Ye<=$t;)et[Ye]=p(),Ge.mulTo(Qt,et[Ye-2],et[Ye]),Ye+=2}var Xt=ve.t-1,lr,yr=!0,Ht=p(),ur;for(Te=j(ve.data[Xt])-1;Xt>=0;){for(Te>=Rt?lr=ve.data[Xt]>>Te-Rt&$t:(lr=(ve.data[Xt]&(1<<Te+1)-1)<<Rt-Te,Xt>0&&(lr|=ve.data[Xt-1]>>this.DB+Te-Rt)),Ye=Ne;(lr&1)==0;)lr>>=1,--Ye;if((Te-=Ye)<0&&(Te+=this.DB,--Xt),yr)et[lr].copyTo(Ke),yr=!1;else{for(;Ye>1;)Ge.sqrTo(Ke,Ht),Ge.sqrTo(Ht,Ke),Ye-=2;Ye>0?Ge.sqrTo(Ke,Ht):(ur=Ke,Ke=Ht,Ht=ur),Ge.mulTo(Ht,et[lr],Ke)}for(;Xt>=0&&(ve.data[Xt]&1<<Te)==0;)Ge.sqrTo(Ke,Ht),ur=Ke,Ke=Ht,Ht=ur,--Te<0&&(Te=this.DB-1,--Xt)}return Ge.revert(Ke)}function Ut(ve){var Se=this.s<0?this.negate():this.clone(),Te=ve.s<0?ve.negate():ve.clone();if(Se.compareTo(Te)<0){var Ne=Se;Se=Te,Te=Ne}var Ke=Se.getLowestSetBit(),Ge=Te.getLowestSetBit();if(Ge<0)return Se;for(Ke<Ge&&(Ge=Ke),Ge>0&&(Se.rShiftTo(Ge,Se),Te.rShiftTo(Ge,Te));Se.signum()>0;)(Ke=Se.getLowestSetBit())>0&&Se.rShiftTo(Ke,Se),(Ke=Te.getLowestSetBit())>0&&Te.rShiftTo(Ke,Te),Se.compareTo(Te)>=0?(Se.subTo(Te,Se),Se.rShiftTo(1,Se)):(Te.subTo(Se,Te),Te.rShiftTo(1,Te));return Ge>0&&Te.lShiftTo(Ge,Te),Te}function zt(ve){if(ve<=0)return 0;var Se=this.DV%ve,Te=this.s<0?ve-1:0;if(this.t>0)if(Se==0)Te=this.data[0]%ve;else for(var Ne=this.t-1;Ne>=0;--Ne)Te=(Se*Te+this.data[Ne])%ve;return Te}function Or(ve){var Se=ve.isEven();if(this.isEven()&&Se||ve.signum()==0)return a.ZERO;for(var Te=ve.clone(),Ne=this.clone(),Ke=I(1),Ge=I(0),et=I(0),Ye=I(1);Te.signum()!=0;){for(;Te.isEven();)Te.rShiftTo(1,Te),Se?((!Ke.isEven()||!Ge.isEven())&&(Ke.addTo(this,Ke),Ge.subTo(ve,Ge)),Ke.rShiftTo(1,Ke)):Ge.isEven()||Ge.subTo(ve,Ge),Ge.rShiftTo(1,Ge);for(;Ne.isEven();)Ne.rShiftTo(1,Ne),Se?((!et.isEven()||!Ye.isEven())&&(et.addTo(this,et),Ye.subTo(ve,Ye)),et.rShiftTo(1,et)):Ye.isEven()||Ye.subTo(ve,Ye),Ye.rShiftTo(1,Ye);Te.compareTo(Ne)>=0?(Te.subTo(Ne,Te),Se&&Ke.subTo(et,Ke),Ge.subTo(Ye,Ge)):(Ne.subTo(Te,Ne),Se&&et.subTo(Ke,et),Ye.subTo(Ge,Ye))}if(Ne.compareTo(a.ONE)!=0)return a.ZERO;if(Ye.compareTo(ve)>=0)return Ye.subtract(ve);if(Ye.signum()<0)Ye.addTo(ve,Ye);else return Ye;return Ye.signum()<0?Ye.add(ve):Ye}var rr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Yt=(1<<26)/rr[rr.length-1];function dr(ve){var Se,Te=this.abs();if(Te.t==1&&Te.data[0]<=rr[rr.length-1]){for(Se=0;Se<rr.length;++Se)if(Te.data[0]==rr[Se])return!0;return!1}if(Te.isEven())return!1;for(Se=1;Se<rr.length;){for(var Ne=rr[Se],Ke=Se+1;Ke<rr.length&&Ne<Yt;)Ne*=rr[Ke++];for(Ne=Te.modInt(Ne);Se<Ke;)if(Ne%rr[Se++]==0)return!1}return Te.millerRabin(ve)}function nr(ve){var Se=this.subtract(a.ONE),Te=Se.getLowestSetBit();if(Te<=0)return!1;for(var Ne=Se.shiftRight(Te),Ke=Lr(),Ge,et=0;et<ve;++et){do Ge=new a(this.bitLength(),Ke);while(Ge.compareTo(a.ONE)<=0||Ge.compareTo(Se)>=0);var Ye=Ge.modPow(Ne,this);if(Ye.compareTo(a.ONE)!=0&&Ye.compareTo(Se)!=0){for(var Rt=1;Rt++<Te&&Ye.compareTo(Se)!=0;)if(Ye=Ye.modPowInt(2,this),Ye.compareTo(a.ONE)==0)return!1;if(Ye.compareTo(Se)!=0)return!1}}return!0}function Lr(){return{nextBytes:function(ve){for(var Se=0;Se<ve.length;++Se)ve[Se]=Math.floor(Math.random()*256)}}}return a.prototype.chunkSize=x,a.prototype.toRadix=n,a.prototype.fromRadix=q,a.prototype.fromNumber=U,a.prototype.bitwiseTo=ke,a.prototype.changeBit=Gt,a.prototype.addTo=Dt,a.prototype.dMultiply=Tt,a.prototype.dAddOffset=At,a.prototype.multiplyLowerTo=nt,a.prototype.multiplyUpperTo=ht,a.prototype.modInt=zt,a.prototype.millerRabin=nr,a.prototype.clone=ie,a.prototype.intValue=pe,a.prototype.byteValue=ne,a.prototype.shortValue=u,a.prototype.signum=M,a.prototype.toByteArray=Q,a.prototype.equals=ye,a.prototype.min=Ie,a.prototype.max=je,a.prototype.and=it,a.prototype.or=_t,a.prototype.xor=lt,a.prototype.andNot=Me,a.prototype.not=$e,a.prototype.shiftLeft=Je,a.prototype.shiftRight=Ze,a.prototype.getLowestSetBit=mt,a.prototype.bitCount=yt,a.prototype.testBit=Jt,a.prototype.setBit=Nt,a.prototype.clearBit=Lt,a.prototype.flipBit=Pt,a.prototype.add=kt,a.prototype.subtract=Et,a.prototype.multiply=Ot,a.prototype.divide=jt,a.prototype.remainder=qt,a.prototype.divideAndRemainder=vt,a.prototype.modPow=cr,a.prototype.modInverse=Or,a.prototype.pow=Le,a.prototype.gcd=Ut,a.prototype.isProbablePrime=dr,jsbn}var pkcs1={exports:{}},sha1$3={exports:{}},hasRequiredSha1$2;function requireSha1$2(){if(hasRequiredSha1$2)return sha1$3.exports;hasRequiredSha1$2=1;var e=requireForge();requireMd(),requireUtil$7();var t=sha1$3.exports=e.sha1=e.sha1||{};e.md.sha1=e.md.algorithms.sha1=t,t.create=function(){p||g();var c=null,l=e.util.createBuffer(),o=new Array(80),s={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var h=s.messageLengthSize/4,v=0;v<h;++v)s.fullMessageLength.push(0);return l=e.util.createBuffer(),c={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},s},s.start(),s.update=function(h,v){v==="utf8"&&(h=e.util.encodeUtf8(h));var b=h.length;s.messageLength+=b,b=[b/4294967296>>>0,b>>>0];for(var y=s.fullMessageLength.length-1;y>=0;--y)s.fullMessageLength[y]+=b[1],b[1]=b[0]+(s.fullMessageLength[y]/4294967296>>>0),s.fullMessageLength[y]=s.fullMessageLength[y]>>>0,b[0]=b[1]/4294967296>>>0;return l.putBytes(h),m(c,o,l),(l.read>2048||l.length()===0)&&l.compact(),s},s.digest=function(){var h=e.util.createBuffer();h.putBytes(l.bytes());var v=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,b=v&s.blockLength-1;h.putBytes(a.substr(0,s.blockLength-b));for(var y,O,w=s.fullMessageLength[0]*8,I=0;I<s.fullMessageLength.length-1;++I)y=s.fullMessageLength[I+1]*8,O=y/4294967296>>>0,w+=O,h.putInt32(w>>>0),w=y>>>0;h.putInt32(w);var _={h0:c.h0,h1:c.h1,h2:c.h2,h3:c.h3,h4:c.h4};m(_,o,h);var T=e.util.createBuffer();return T.putInt32(_.h0),T.putInt32(_.h1),T.putInt32(_.h2),T.putInt32(_.h3),T.putInt32(_.h4),T},s};var a=null,p=!1;function g(){a="",a+=e.util.fillString("\0",64),p=!0}function m(c,l,o){for(var s,h,v,b,y,O,w,I,_=o.length();_>=64;){for(h=c.h0,v=c.h1,b=c.h2,y=c.h3,O=c.h4,I=0;I<16;++I)s=o.getInt32(),l[I]=s,w=y^v&(b^y),s=(h<<5|h>>>27)+w+O+1518500249+s,O=y,y=b,b=(v<<30|v>>>2)>>>0,v=h,h=s;for(;I<20;++I)s=l[I-3]^l[I-8]^l[I-14]^l[I-16],s=s<<1|s>>>31,l[I]=s,w=y^v&(b^y),s=(h<<5|h>>>27)+w+O+1518500249+s,O=y,y=b,b=(v<<30|v>>>2)>>>0,v=h,h=s;for(;I<32;++I)s=l[I-3]^l[I-8]^l[I-14]^l[I-16],s=s<<1|s>>>31,l[I]=s,w=v^b^y,s=(h<<5|h>>>27)+w+O+1859775393+s,O=y,y=b,b=(v<<30|v>>>2)>>>0,v=h,h=s;for(;I<40;++I)s=l[I-6]^l[I-16]^l[I-28]^l[I-32],s=s<<2|s>>>30,l[I]=s,w=v^b^y,s=(h<<5|h>>>27)+w+O+1859775393+s,O=y,y=b,b=(v<<30|v>>>2)>>>0,v=h,h=s;for(;I<60;++I)s=l[I-6]^l[I-16]^l[I-28]^l[I-32],s=s<<2|s>>>30,l[I]=s,w=v&b|y&(v^b),s=(h<<5|h>>>27)+w+O+2400959708+s,O=y,y=b,b=(v<<30|v>>>2)>>>0,v=h,h=s;for(;I<80;++I)s=l[I-6]^l[I-16]^l[I-28]^l[I-32],s=s<<2|s>>>30,l[I]=s,w=v^b^y,s=(h<<5|h>>>27)+w+O+3395469782+s,O=y,y=b,b=(v<<30|v>>>2)>>>0,v=h,h=s;c.h0=c.h0+h|0,c.h1=c.h1+v|0,c.h2=c.h2+b|0,c.h3=c.h3+y|0,c.h4=c.h4+O|0,_-=64}}return sha1$3.exports}var hasRequiredPkcs1;function requirePkcs1(){if(hasRequiredPkcs1)return pkcs1.exports;hasRequiredPkcs1=1;var e=requireForge();requireUtil$7(),requireRandom(),requireSha1$2();var t=pkcs1.exports=e.pkcs1=e.pkcs1||{};t.encode_rsa_oaep=function(p,g,m){var c,l,o,s;typeof m=="string"?(c=m,l=arguments[3]||void 0,o=arguments[4]||void 0):m&&(c=m.label||void 0,l=m.seed||void 0,o=m.md||void 0,m.mgf1&&m.mgf1.md&&(s=m.mgf1.md)),o?o.start():o=e.md.sha1.create(),s||(s=o);var h=Math.ceil(p.n.bitLength()/8),v=h-2*o.digestLength-2;if(g.length>v){var b=new Error("RSAES-OAEP input message length is too long.");throw b.length=g.length,b.maxLength=v,b}c||(c=""),o.update(c,"raw");for(var y=o.digest(),O="",w=v-g.length,I=0;I<w;I++)O+="\0";var _=y.getBytes()+O+""+g;if(!l)l=e.random.getBytes(o.digestLength);else if(l.length!==o.digestLength){var b=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw b.seedLength=l.length,b.digestLength=o.digestLength,b}var T=a(l,h-o.digestLength-1,s),C=e.util.xorBytes(_,T,_.length),N=a(C,o.digestLength,s),L=e.util.xorBytes(l,N,l.length);return"\0"+L+C},t.decode_rsa_oaep=function(p,g,m){var c,l,o;typeof m=="string"?(c=m,l=arguments[3]||void 0):m&&(c=m.label||void 0,l=m.md||void 0,m.mgf1&&m.mgf1.md&&(o=m.mgf1.md));var s=Math.ceil(p.n.bitLength()/8);if(g.length!==s){var C=new Error("RSAES-OAEP encoded message length is invalid.");throw C.length=g.length,C.expectedLength=s,C}if(l===void 0?l=e.md.sha1.create():l.start(),o||(o=l),s<2*l.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");c||(c=""),l.update(c,"raw");for(var h=l.digest().getBytes(),v=g.charAt(0),b=g.substring(1,l.digestLength+1),y=g.substring(1+l.digestLength),O=a(y,l.digestLength,o),w=e.util.xorBytes(b,O,b.length),I=a(w,s-l.digestLength-1,o),_=e.util.xorBytes(y,I,y.length),T=_.substring(0,l.digestLength),C=v!=="\0",N=0;N<l.digestLength;++N)C|=h.charAt(N)!==T.charAt(N);for(var L=1,D=l.digestLength,j=l.digestLength;j<_.length;j++){var k=_.charCodeAt(j),V=k&1^1,G=L?65534:0;C|=k&G,L=L&V,D+=L}if(C||_.charCodeAt(D)!==1)throw new Error("Invalid RSAES-OAEP padding.");return _.substring(D+1)};function a(p,g,m){m||(m=e.md.sha1.create());for(var c="",l=Math.ceil(g/m.digestLength),o=0;o<l;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);m.start(),m.update(p+s),c+=m.digest().getBytes()}return c.substring(0,g)}return pkcs1.exports}var prime={exports:{}},hasRequiredPrime;function requirePrime(){if(hasRequiredPrime)return prime.exports;hasRequiredPrime=1;var e=requireForge();return requireUtil$7(),requireJsbn(),requireRandom(),(function(){if(e.prime){prime.exports=e.prime;return}var t=prime.exports=e.prime=e.prime||{},a=e.jsbn.BigInteger,p=[6,4,2,4,2,4,6,2],g=new a(null);g.fromInt(30);var m=function(b,y){return b|y};t.generateProbablePrime=function(b,y,O){typeof y=="function"&&(O=y,y={}),y=y||{};var w=y.algorithm||"PRIMEINC";typeof w=="string"&&(w={name:w}),w.options=w.options||{};var I=y.prng||e.random,_={nextBytes:function(T){for(var C=I.getBytesSync(T.length),N=0;N<T.length;++N)T[N]=C.charCodeAt(N)}};if(w.name==="PRIMEINC")return c(b,_,w.options,O);throw new Error("Invalid prime generation algorithm: "+w.name)};function c(b,y,O,w){return"workers"in O?s(b,y,O,w):l(b,y,O,w)}function l(b,y,O,w){var I=h(b,y),_=0,T=v(I.bitLength());"millerRabinTests"in O&&(T=O.millerRabinTests);var C=10;"maxBlockTime"in O&&(C=O.maxBlockTime),o(I,b,y,_,T,C,w)}function o(b,y,O,w,I,_,T){var C=+new Date;do{if(b.bitLength()>y&&(b=h(y,O)),b.isProbablePrime(I))return T(null,b);b.dAddOffset(p[w++%8],0)}while(_<0||+new Date-C<_);e.util.setImmediate(function(){o(b,y,O,w,I,_,T)})}function s(b,y,O,w){if(typeof Worker>"u")return l(b,y,O,w);var I=h(b,y),_=O.workers,T=O.workLoad||100,C=T*30/8,N=O.workerScript||"forge/prime.worker.js";if(_===-1)return e.util.estimateCores(function(D,j){D&&(j=2),_=j-1,L()});L();function L(){_=Math.max(1,_);for(var D=[],j=0;j<_;++j)D[j]=new Worker(N);for(var j=0;j<_;++j)D[j].addEventListener("message",V);var k=!1;function V(G){if(!k){var J=G.data;if(J.found){for(var W=0;W<D.length;++W)D[W].terminate();return k=!0,w(null,new a(J.prime,16))}I.bitLength()>b&&(I=h(b,y));var K=I.toString(16);G.target.postMessage({hex:K,workLoad:T}),I.dAddOffset(C,0)}}}}function h(b,y){var O=new a(b,y),w=b-1;return O.testBit(w)||O.bitwiseTo(a.ONE.shiftLeft(w),m,O),O.dAddOffset(31-O.mod(g).byteValue(),0),O}function v(b){return b<=100?27:b<=150?18:b<=200?15:b<=250?12:b<=300?9:b<=350?8:b<=400?7:b<=500?6:b<=600?5:b<=800?4:b<=1250?3:2}})(),prime.exports}var rsa,hasRequiredRsa;function requireRsa(){if(hasRequiredRsa)return rsa;hasRequiredRsa=1;var e=requireForge();if(requireAsn1(),requireJsbn(),requireOids(),requirePkcs1(),requirePrime(),requireRandom(),requireUtil$7(),typeof t>"u")var t=e.jsbn.BigInteger;var a=e.util.isNodejs?require$$1$3:null,p=e.asn1,g=e.util;e.pki=e.pki||{},rsa=e.pki.rsa=e.rsa=e.rsa||{};var m=e.pki,c=[6,4,2,4,2,4,6,2],l={name:"PrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},o={name:"RSAPrivateKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},s={name:"RSAPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},h=e.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},v={name:"DigestInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:p.Class.UNIVERSAL,type:p.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},b=function(j){var k;if(j.algorithm in m.oids)k=m.oids[j.algorithm];else{var V=new Error("Unknown message digest algorithm.");throw V.algorithm=j.algorithm,V}var G=p.oidToDer(k).getBytes(),J=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]),W=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]);W.value.push(p.create(p.Class.UNIVERSAL,p.Type.OID,!1,G)),W.value.push(p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,""));var K=p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,j.digest().getBytes());return J.value.push(W),J.value.push(K),p.toDer(J).getBytes()},y=function(j,k,V){if(V)return j.modPow(k.e,k.n);if(!k.p||!k.q)return j.modPow(k.d,k.n);k.dP||(k.dP=k.d.mod(k.p.subtract(t.ONE))),k.dQ||(k.dQ=k.d.mod(k.q.subtract(t.ONE))),k.qInv||(k.qInv=k.q.modInverse(k.p));var G;do G=new t(e.util.bytesToHex(e.random.getBytes(k.n.bitLength()/8)),16);while(G.compareTo(k.n)>=0||!G.gcd(k.n).equals(t.ONE));j=j.multiply(G.modPow(k.e,k.n)).mod(k.n);for(var J=j.mod(k.p).modPow(k.dP,k.p),W=j.mod(k.q).modPow(k.dQ,k.q);J.compareTo(W)<0;)J=J.add(k.p);var K=J.subtract(W).multiply(k.qInv).mod(k.p).multiply(k.q).add(W);return K=K.multiply(G.modInverse(k.n)).mod(k.n),K};m.rsa.encrypt=function(j,k,V){var G=V,J,W=Math.ceil(k.n.bitLength()/8);V!==!1&&V!==!0?(G=V===2,J=O(j,k,V)):(J=e.util.createBuffer(),J.putBytes(j));for(var K=new t(J.toHex(),16),X=y(K,k,G),Y=X.toString(16),te=e.util.createBuffer(),oe=W-Math.ceil(Y.length/2);oe>0;)te.putByte(0),--oe;return te.putBytes(e.util.hexToBytes(Y)),te.getBytes()},m.rsa.decrypt=function(j,k,V,G){var J=Math.ceil(k.n.bitLength()/8);if(j.length!==J){var W=new Error("Encrypted message length is invalid.");throw W.length=j.length,W.expected=J,W}var K=new t(e.util.createBuffer(j).toHex(),16);if(K.compareTo(k.n)>=0)throw new Error("Encrypted message is invalid.");for(var X=y(K,k,V),Y=X.toString(16),te=e.util.createBuffer(),oe=J-Math.ceil(Y.length/2);oe>0;)te.putByte(0),--oe;return te.putBytes(e.util.hexToBytes(Y)),G!==!1?w(te.getBytes(),k,V):te.getBytes()},m.rsa.createKeyPairGenerationState=function(j,k,V){typeof j=="string"&&(j=parseInt(j,10)),j=j||2048,V=V||{};var G=V.prng||e.random,J={nextBytes:function(X){for(var Y=G.getBytesSync(X.length),te=0;te<X.length;++te)X[te]=Y.charCodeAt(te)}},W=V.algorithm||"PRIMEINC",K;if(W==="PRIMEINC")K={algorithm:W,state:0,bits:j,rng:J,eInt:k||65537,e:new t(null),p:null,q:null,qBits:j>>1,pBits:j-(j>>1),pqState:0,num:null,keys:null},K.e.fromInt(K.eInt);else throw new Error("Invalid key generation algorithm: "+W);return K},m.rsa.stepKeyPairGenerationState=function(j,k){"algorithm"in j||(j.algorithm="PRIMEINC");var V=new t(null);V.fromInt(30);for(var G=0,J=function(le,ee){return le|ee},W=+new Date,K,X=0;j.keys===null&&(k<=0||X<k);){if(j.state===0){var Y=j.p===null?j.pBits:j.qBits,te=Y-1;j.pqState===0?(j.num=new t(Y,j.rng),j.num.testBit(te)||j.num.bitwiseTo(t.ONE.shiftLeft(te),J,j.num),j.num.dAddOffset(31-j.num.mod(V).byteValue(),0),G=0,++j.pqState):j.pqState===1?j.num.bitLength()>Y?j.pqState=0:j.num.isProbablePrime(T(j.num.bitLength()))?++j.pqState:j.num.dAddOffset(c[G++%8],0):j.pqState===2?j.pqState=j.num.subtract(t.ONE).gcd(j.e).compareTo(t.ONE)===0?3:0:j.pqState===3&&(j.pqState=0,j.p===null?j.p=j.num:j.q=j.num,j.p!==null&&j.q!==null&&++j.state,j.num=null)}else if(j.state===1)j.p.compareTo(j.q)<0&&(j.num=j.p,j.p=j.q,j.q=j.num),++j.state;else if(j.state===2)j.p1=j.p.subtract(t.ONE),j.q1=j.q.subtract(t.ONE),j.phi=j.p1.multiply(j.q1),++j.state;else if(j.state===3)j.phi.gcd(j.e).compareTo(t.ONE)===0?++j.state:(j.p=null,j.q=null,j.state=0);else if(j.state===4)j.n=j.p.multiply(j.q),j.n.bitLength()===j.bits?++j.state:(j.q=null,j.state=0);else if(j.state===5){var oe=j.e.modInverse(j.phi);j.keys={privateKey:m.rsa.setPrivateKey(j.n,j.e,oe,j.p,j.q,oe.mod(j.p1),oe.mod(j.q1),j.q.modInverse(j.p)),publicKey:m.rsa.setPublicKey(j.n,j.e)}}K=+new Date,X+=K-W,W=K}return j.keys!==null},m.rsa.generateKeyPair=function(j,k,V,G){if(arguments.length===1?typeof j=="object"?(V=j,j=void 0):typeof j=="function"&&(G=j,j=void 0):arguments.length===2?typeof j=="number"?typeof k=="function"?(G=k,k=void 0):typeof k!="number"&&(V=k,k=void 0):(V=j,G=k,j=void 0,k=void 0):arguments.length===3&&(typeof k=="number"?typeof V=="function"&&(G=V,V=void 0):(G=V,V=k,k=void 0)),V=V||{},j===void 0&&(j=V.bits||2048),k===void 0&&(k=V.e||65537),!e.options.usePureJavaScript&&!V.prng&&j>=256&&j<=16384&&(k===65537||k===3)){if(G){if(C("generateKeyPair"))return a.generateKeyPair("rsa",{modulusLength:j,publicExponent:k,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(X,Y,te){if(X)return G(X);G(null,{privateKey:m.privateKeyFromPem(te),publicKey:m.publicKeyFromPem(Y)})});if(N("generateKey")&&N("exportKey"))return g.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:j,publicExponent:D(k),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(X){return g.globalScope.crypto.subtle.exportKey("pkcs8",X.privateKey)}).then(void 0,function(X){G(X)}).then(function(X){if(X){var Y=m.privateKeyFromAsn1(p.fromDer(e.util.createBuffer(X)));G(null,{privateKey:Y,publicKey:m.setRsaPublicKey(Y.n,Y.e)})}});if(L("generateKey")&&L("exportKey")){var J=g.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:j,publicExponent:D(k),hash:{name:"SHA-256"}},!0,["sign","verify"]);J.oncomplete=function(X){var Y=X.target.result,te=g.globalScope.msCrypto.subtle.exportKey("pkcs8",Y.privateKey);te.oncomplete=function(oe){var le=oe.target.result,ee=m.privateKeyFromAsn1(p.fromDer(e.util.createBuffer(le)));G(null,{privateKey:ee,publicKey:m.setRsaPublicKey(ee.n,ee.e)})},te.onerror=function(oe){G(oe)}},J.onerror=function(X){G(X)};return}}else if(C("generateKeyPairSync")){var W=a.generateKeyPairSync("rsa",{modulusLength:j,publicExponent:k,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:m.privateKeyFromPem(W.privateKey),publicKey:m.publicKeyFromPem(W.publicKey)}}}var K=m.rsa.createKeyPairGenerationState(j,k,V);if(!G)return m.rsa.stepKeyPairGenerationState(K,0),K.keys;I(K,V,G)},m.setRsaPublicKey=m.rsa.setPublicKey=function(j,k){var V={n:j,e:k};return V.encrypt=function(G,J,W){if(typeof J=="string"?J=J.toUpperCase():J===void 0&&(J="RSAES-PKCS1-V1_5"),J==="RSAES-PKCS1-V1_5")J={encode:function(X,Y,te){return O(X,Y,2).getBytes()}};else if(J==="RSA-OAEP"||J==="RSAES-OAEP")J={encode:function(X,Y){return e.pkcs1.encode_rsa_oaep(Y,X,W)}};else if(["RAW","NONE","NULL",null].indexOf(J)!==-1)J={encode:function(X){return X}};else if(typeof J=="string")throw new Error('Unsupported encryption scheme: "'+J+'".');var K=J.encode(G,V,!0);return m.rsa.encrypt(K,V,!0)},V.verify=function(G,J,W,K){typeof W=="string"?W=W.toUpperCase():W===void 0&&(W="RSASSA-PKCS1-V1_5"),K===void 0&&(K={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in K||(K._parseAllDigestBytes=!0),W==="RSASSA-PKCS1-V1_5"?W={verify:function(Y,te){te=w(te,V,!0);var oe=p.fromDer(te,{parseAllBytes:K._parseAllDigestBytes}),le={},ee=[];if(!p.validate(oe,v,le,ee)){var se=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw se.errors=ee,se}var de=p.derToOid(le.algorithmIdentifier);if(!(de===e.oids.md2||de===e.oids.md5||de===e.oids.sha1||de===e.oids.sha224||de===e.oids.sha256||de===e.oids.sha384||de===e.oids.sha512||de===e.oids["sha512-224"]||de===e.oids["sha512-256"])){var se=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw se.oid=de,se}if((de===e.oids.md2||de===e.oids.md5)&&!("parameters"in le))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return Y===le.digest}}:(W==="NONE"||W==="NULL"||W===null)&&(W={verify:function(Y,te){return te=w(te,V,!0),Y===te}});var X=m.rsa.decrypt(J,V,!0,!1);return W.verify(G,X,V.n.bitLength())},V},m.setRsaPrivateKey=m.rsa.setPrivateKey=function(j,k,V,G,J,W,K,X){var Y={n:j,e:k,d:V,p:G,q:J,dP:W,dQ:K,qInv:X};return Y.decrypt=function(te,oe,le){typeof oe=="string"?oe=oe.toUpperCase():oe===void 0&&(oe="RSAES-PKCS1-V1_5");var ee=m.rsa.decrypt(te,Y,!1,!1);if(oe==="RSAES-PKCS1-V1_5")oe={decode:w};else if(oe==="RSA-OAEP"||oe==="RSAES-OAEP")oe={decode:function(se,de){return e.pkcs1.decode_rsa_oaep(de,se,le)}};else if(["RAW","NONE","NULL",null].indexOf(oe)!==-1)oe={decode:function(se){return se}};else throw new Error('Unsupported encryption scheme: "'+oe+'".');return oe.decode(ee,Y,!1)},Y.sign=function(te,oe){var le=!1;typeof oe=="string"&&(oe=oe.toUpperCase()),oe===void 0||oe==="RSASSA-PKCS1-V1_5"?(oe={encode:b},le=1):(oe==="NONE"||oe==="NULL"||oe===null)&&(oe={encode:function(){return te}},le=1);var ee=oe.encode(te,Y.n.bitLength());return m.rsa.encrypt(ee,Y,le)},Y},m.wrapRsaPrivateKey=function(j){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(0).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(m.oids.rsaEncryption).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,p.toDer(j).getBytes())])},m.privateKeyFromAsn1=function(j){var k={},V=[];if(p.validate(j,l,k,V)&&(j=p.fromDer(e.util.createBuffer(k.privateKey))),k={},V=[],!p.validate(j,o,k,V)){var G=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw G.errors=V,G}var J,W,K,X,Y,te,oe,le;return J=e.util.createBuffer(k.privateKeyModulus).toHex(),W=e.util.createBuffer(k.privateKeyPublicExponent).toHex(),K=e.util.createBuffer(k.privateKeyPrivateExponent).toHex(),X=e.util.createBuffer(k.privateKeyPrime1).toHex(),Y=e.util.createBuffer(k.privateKeyPrime2).toHex(),te=e.util.createBuffer(k.privateKeyExponent1).toHex(),oe=e.util.createBuffer(k.privateKeyExponent2).toHex(),le=e.util.createBuffer(k.privateKeyCoefficient).toHex(),m.setRsaPrivateKey(new t(J,16),new t(W,16),new t(K,16),new t(X,16),new t(Y,16),new t(te,16),new t(oe,16),new t(le,16))},m.privateKeyToAsn1=m.privateKeyToRSAPrivateKey=function(j){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(0).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_(j.n)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_(j.e)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_(j.d)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_(j.p)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_(j.q)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_(j.dP)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_(j.dQ)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_(j.qInv))])},m.publicKeyFromAsn1=function(j){var k={},V=[];if(p.validate(j,h,k,V)){var G=p.derToOid(k.publicKeyOid);if(G!==m.oids.rsaEncryption){var J=new Error("Cannot read public key. Unknown OID.");throw J.oid=G,J}j=k.rsaPublicKey}if(V=[],!p.validate(j,s,k,V)){var J=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw J.errors=V,J}var W=e.util.createBuffer(k.publicKeyModulus).toHex(),K=e.util.createBuffer(k.publicKeyExponent).toHex();return m.setRsaPublicKey(new t(W,16),new t(K,16))},m.publicKeyToAsn1=m.publicKeyToSubjectPublicKeyInfo=function(j){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(m.oids.rsaEncryption).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]),p.create(p.Class.UNIVERSAL,p.Type.BITSTRING,!1,[m.publicKeyToRSAPublicKey(j)])])},m.publicKeyToRSAPublicKey=function(j){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_(j.n)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_(j.e))])};function O(j,k,V){var G=e.util.createBuffer(),J=Math.ceil(k.n.bitLength()/8);if(j.length>J-11){var W=new Error("Message is too long for PKCS#1 v1.5 padding.");throw W.length=j.length,W.max=J-11,W}G.putByte(0),G.putByte(V);var K=J-3-j.length,X;if(V===0||V===1){X=V===0?0:255;for(var Y=0;Y<K;++Y)G.putByte(X)}else for(;K>0;){for(var te=0,oe=e.random.getBytes(K),Y=0;Y<K;++Y)X=oe.charCodeAt(Y),X===0?++te:G.putByte(X);K=te}return G.putByte(0),G.putBytes(j),G}function w(j,k,V,G){var J=Math.ceil(k.n.bitLength()/8),W=e.util.createBuffer(j),K=W.getByte(),X=W.getByte();if(K!==0||V&&X!==0&&X!==1||!V&&X!=2||V&&X===0&&typeof G>"u")throw new Error("Encryption block is invalid.");var Y=0;if(X===0){Y=J-3-G;for(var te=0;te<Y;++te)if(W.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(X===1)for(Y=0;W.length()>1;){if(W.getByte()!==255){--W.read;break}++Y}else if(X===2)for(Y=0;W.length()>1;){if(W.getByte()===0){--W.read;break}++Y}var oe=W.getByte();if(oe!==0||Y!==J-3-W.length())throw new Error("Encryption block is invalid.");return W.getBytes()}function I(j,k,V){typeof k=="function"&&(V=k,k={}),k=k||{};var G={algorithm:{name:k.algorithm||"PRIMEINC",options:{workers:k.workers||2,workLoad:k.workLoad||100,workerScript:k.workerScript}}};"prng"in k&&(G.prng=k.prng),J();function J(){W(j.pBits,function(X,Y){if(X)return V(X);if(j.p=Y,j.q!==null)return K(X,j.q);W(j.qBits,K)})}function W(X,Y){e.prime.generateProbablePrime(X,G,Y)}function K(X,Y){if(X)return V(X);if(j.q=Y,j.p.compareTo(j.q)<0){var te=j.p;j.p=j.q,j.q=te}if(j.p.subtract(t.ONE).gcd(j.e).compareTo(t.ONE)!==0){j.p=null,J();return}if(j.q.subtract(t.ONE).gcd(j.e).compareTo(t.ONE)!==0){j.q=null,W(j.qBits,K);return}if(j.p1=j.p.subtract(t.ONE),j.q1=j.q.subtract(t.ONE),j.phi=j.p1.multiply(j.q1),j.phi.gcd(j.e).compareTo(t.ONE)!==0){j.p=j.q=null,J();return}if(j.n=j.p.multiply(j.q),j.n.bitLength()!==j.bits){j.q=null,W(j.qBits,K);return}var oe=j.e.modInverse(j.phi);j.keys={privateKey:m.rsa.setPrivateKey(j.n,j.e,oe,j.p,j.q,oe.mod(j.p1),oe.mod(j.q1),j.q.modInverse(j.p)),publicKey:m.rsa.setPublicKey(j.n,j.e)},V(null,j.keys)}}function _(j){var k=j.toString(16);k[0]>="8"&&(k="00"+k);var V=e.util.hexToBytes(k);return V.length>1&&(V.charCodeAt(0)===0&&(V.charCodeAt(1)&128)===0||V.charCodeAt(0)===255&&(V.charCodeAt(1)&128)===128)?V.substr(1):V}function T(j){return j<=100?27:j<=150?18:j<=200?15:j<=250?12:j<=300?9:j<=350?8:j<=400?7:j<=500?6:j<=600?5:j<=800?4:j<=1250?3:2}function C(j){return e.util.isNodejs&&typeof a[j]=="function"}function N(j){return typeof g.globalScope<"u"&&typeof g.globalScope.crypto=="object"&&typeof g.globalScope.crypto.subtle=="object"&&typeof g.globalScope.crypto.subtle[j]=="function"}function L(j){return typeof g.globalScope<"u"&&typeof g.globalScope.msCrypto=="object"&&typeof g.globalScope.msCrypto.subtle=="object"&&typeof g.globalScope.msCrypto.subtle[j]=="function"}function D(j){for(var k=e.util.hexToBytes(j.toString(16)),V=new Uint8Array(k.length),G=0;G<k.length;++G)V[G]=k.charCodeAt(G);return V}return rsa}var pbe,hasRequiredPbe;function requirePbe(){if(hasRequiredPbe)return pbe;hasRequiredPbe=1;var e=requireForge();if(requireAes(),requireAsn1(),requireDes(),requireMd(),requireOids(),requirePbkdf2(),requirePem(),requireRandom(),requireRc2(),requireRsa(),requireUtil$7(),typeof t>"u")var t=e.jsbn.BigInteger;var a=e.asn1,p=e.pki=e.pki||{};pbe=p.pbe=e.pbe=e.pbe||{};var g=p.oids,m={name:"EncryptedPrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l={name:"pkcs-12PbeParams",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"iterations"}]};p.encryptPrivateKeyInfo=function(b,y,O){O=O||{},O.saltSize=O.saltSize||8,O.count=O.count||2048,O.algorithm=O.algorithm||"aes128",O.prfAlgorithm=O.prfAlgorithm||"sha1";var w=e.random.getBytesSync(O.saltSize),I=O.count,_=a.integerToDer(I),T,C,N;if(O.algorithm.indexOf("aes")===0||O.algorithm==="des"){var L,D,j;switch(O.algorithm){case"aes128":T=16,L=16,D=g["aes128-CBC"],j=e.aes.createEncryptionCipher;break;case"aes192":T=24,L=16,D=g["aes192-CBC"],j=e.aes.createEncryptionCipher;break;case"aes256":T=32,L=16,D=g["aes256-CBC"],j=e.aes.createEncryptionCipher;break;case"des":T=8,L=8,D=g.desCBC,j=e.des.createEncryptionCipher;break;default:var k=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw k.algorithm=O.algorithm,k}var V="hmacWith"+O.prfAlgorithm.toUpperCase(),G=h(V),J=e.pkcs5.pbkdf2(y,w,I,T,G),W=e.random.getBytesSync(L),K=j(J);K.start(W),K.update(a.toDer(b)),K.finish(),N=K.output.getBytes();var X=v(w,_,T,V);C=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(g.pkcs5PBES2).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(g.pkcs5PBKDF2).getBytes()),X]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(D).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,W)])])])}else if(O.algorithm==="3des"){T=24;var Y=new e.util.ByteBuffer(w),J=p.pbe.generatePkcs12Key(y,Y,1,I,T),W=p.pbe.generatePkcs12Key(y,Y,2,I,T),K=e.des.createEncryptionCipher(J);K.start(W),K.update(a.toDer(b)),K.finish(),N=K.output.getBytes(),C=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(g["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,w),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_.getBytes())])])}else{var k=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw k.algorithm=O.algorithm,k}var te=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[C,a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,N)]);return te},p.decryptPrivateKeyInfo=function(b,y){var O=null,w={},I=[];if(!a.validate(b,m,w,I)){var _=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw _.errors=I,_}var T=a.derToOid(w.encryptionOid),C=p.pbe.getCipher(T,w.encryptionParams,y),N=e.util.createBuffer(w.encryptedData);return C.update(N),C.finish()&&(O=a.fromDer(C.output)),O},p.encryptedPrivateKeyToPem=function(b,y){var O={type:"ENCRYPTED PRIVATE KEY",body:a.toDer(b).getBytes()};return e.pem.encode(O,{maxline:y})},p.encryptedPrivateKeyFromPem=function(b){var y=e.pem.decode(b)[0];if(y.type!=="ENCRYPTED PRIVATE KEY"){var O=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw O.headerType=y.type,O}if(y.procType&&y.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return a.fromDer(y.body)},p.encryptRsaPrivateKey=function(b,y,O){if(O=O||{},!O.legacy){var w=p.wrapRsaPrivateKey(p.privateKeyToAsn1(b));return w=p.encryptPrivateKeyInfo(w,y,O),p.encryptedPrivateKeyToPem(w)}var I,_,T,C;switch(O.algorithm){case"aes128":I="AES-128-CBC",T=16,_=e.random.getBytesSync(16),C=e.aes.createEncryptionCipher;break;case"aes192":I="AES-192-CBC",T=24,_=e.random.getBytesSync(16),C=e.aes.createEncryptionCipher;break;case"aes256":I="AES-256-CBC",T=32,_=e.random.getBytesSync(16),C=e.aes.createEncryptionCipher;break;case"3des":I="DES-EDE3-CBC",T=24,_=e.random.getBytesSync(8),C=e.des.createEncryptionCipher;break;case"des":I="DES-CBC",T=8,_=e.random.getBytesSync(8),C=e.des.createEncryptionCipher;break;default:var N=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+O.algorithm+'".');throw N.algorithm=O.algorithm,N}var L=e.pbe.opensslDeriveBytes(y,_.substr(0,8),T),D=C(L);D.start(_),D.update(a.toDer(p.privateKeyToAsn1(b))),D.finish();var j={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:I,parameters:e.util.bytesToHex(_).toUpperCase()},body:D.output.getBytes()};return e.pem.encode(j)},p.decryptRsaPrivateKey=function(b,y){var O=null,w=e.pem.decode(b)[0];if(w.type!=="ENCRYPTED PRIVATE KEY"&&w.type!=="PRIVATE KEY"&&w.type!=="RSA PRIVATE KEY"){var I=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw I.headerType=I,I}if(w.procType&&w.procType.type==="ENCRYPTED"){var _,T;switch(w.dekInfo.algorithm){case"DES-CBC":_=8,T=e.des.createDecryptionCipher;break;case"DES-EDE3-CBC":_=24,T=e.des.createDecryptionCipher;break;case"AES-128-CBC":_=16,T=e.aes.createDecryptionCipher;break;case"AES-192-CBC":_=24,T=e.aes.createDecryptionCipher;break;case"AES-256-CBC":_=32,T=e.aes.createDecryptionCipher;break;case"RC2-40-CBC":_=5,T=function(j){return e.rc2.createDecryptionCipher(j,40)};break;case"RC2-64-CBC":_=8,T=function(j){return e.rc2.createDecryptionCipher(j,64)};break;case"RC2-128-CBC":_=16,T=function(j){return e.rc2.createDecryptionCipher(j,128)};break;default:var I=new Error('Could not decrypt private key; unsupported encryption algorithm "'+w.dekInfo.algorithm+'".');throw I.algorithm=w.dekInfo.algorithm,I}var C=e.util.hexToBytes(w.dekInfo.parameters),N=e.pbe.opensslDeriveBytes(y,C.substr(0,8),_),L=T(N);if(L.start(C),L.update(e.util.createBuffer(w.body)),L.finish())O=L.output.getBytes();else return O}else O=w.body;return w.type==="ENCRYPTED PRIVATE KEY"?O=p.decryptPrivateKeyInfo(a.fromDer(O),y):O=a.fromDer(O),O!==null&&(O=p.privateKeyFromAsn1(O)),O},p.pbe.generatePkcs12Key=function(b,y,O,w,I,_){var T,C;if(typeof _>"u"||_===null){if(!("sha1"in e.md))throw new Error('"sha1" hash algorithm unavailable.');_=e.md.sha1.create()}var N=_.digestLength,L=_.blockLength,D=new e.util.ByteBuffer,j=new e.util.ByteBuffer;if(b!=null){for(C=0;C<b.length;C++)j.putInt16(b.charCodeAt(C));j.putInt16(0)}var k=j.length(),V=y.length(),G=new e.util.ByteBuffer;G.fillWithByte(O,L);var J=L*Math.ceil(V/L),W=new e.util.ByteBuffer;for(C=0;C<J;C++)W.putByte(y.at(C%V));var K=L*Math.ceil(k/L),X=new e.util.ByteBuffer;for(C=0;C<K;C++)X.putByte(j.at(C%k));var Y=W;Y.putBuffer(X);for(var te=Math.ceil(I/N),oe=1;oe<=te;oe++){var le=new e.util.ByteBuffer;le.putBytes(G.bytes()),le.putBytes(Y.bytes());for(var ee=0;ee<w;ee++)_.start(),_.update(le.getBytes()),le=_.digest();var se=new e.util.ByteBuffer;for(C=0;C<L;C++)se.putByte(le.at(C%N));var de=Math.ceil(V/L)+Math.ceil(k/L),he=new e.util.ByteBuffer;for(T=0;T<de;T++){var ge=new e.util.ByteBuffer(Y.getBytes(L)),me=511;for(C=se.length()-1;C>=0;C--)me=me>>8,me+=se.at(C)+ge.at(C),ge.setAt(C,me&255);he.putBuffer(ge)}Y=he,D.putBuffer(le)}return D.truncate(D.length()-I),D},p.pbe.getCipher=function(b,y,O){switch(b){case p.oids.pkcs5PBES2:return p.pbe.getCipherForPBES2(b,y,O);case p.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case p.oids["pbewithSHAAnd40BitRC2-CBC"]:return p.pbe.getCipherForPKCS12PBE(b,y,O);default:var w=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw w.oid=b,w.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],w}},p.pbe.getCipherForPBES2=function(b,y,O){var w={},I=[];if(!a.validate(y,c,w,I)){var _=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw _.errors=I,_}if(b=a.derToOid(w.kdfOid),b!==p.oids.pkcs5PBKDF2){var _=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw _.oid=b,_.supportedOids=["pkcs5PBKDF2"],_}if(b=a.derToOid(w.encOid),b!==p.oids["aes128-CBC"]&&b!==p.oids["aes192-CBC"]&&b!==p.oids["aes256-CBC"]&&b!==p.oids["des-EDE3-CBC"]&&b!==p.oids.desCBC){var _=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw _.oid=b,_.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],_}var T=w.kdfSalt,C=e.util.createBuffer(w.kdfIterationCount);C=C.getInt(C.length()<<3);var N,L;switch(p.oids[b]){case"aes128-CBC":N=16,L=e.aes.createDecryptionCipher;break;case"aes192-CBC":N=24,L=e.aes.createDecryptionCipher;break;case"aes256-CBC":N=32,L=e.aes.createDecryptionCipher;break;case"des-EDE3-CBC":N=24,L=e.des.createDecryptionCipher;break;case"desCBC":N=8,L=e.des.createDecryptionCipher;break}var D=s(w.prfOid),j=e.pkcs5.pbkdf2(O,T,C,N,D),k=w.encIv,V=L(j);return V.start(k),V},p.pbe.getCipherForPKCS12PBE=function(b,y,O){var w={},I=[];if(!a.validate(y,l,w,I)){var _=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw _.errors=I,_}var T=e.util.createBuffer(w.salt),C=e.util.createBuffer(w.iterations);C=C.getInt(C.length()<<3);var N,L,D;switch(b){case p.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:N=24,L=8,D=e.des.startDecrypting;break;case p.oids["pbewithSHAAnd40BitRC2-CBC"]:N=5,L=8,D=function(J,W){var K=e.rc2.createDecryptionCipher(J,40);return K.start(W,null),K};break;default:var _=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw _.oid=b,_}var j=s(w.prfOid),k=p.pbe.generatePkcs12Key(O,T,1,C,N,j);j.start();var V=p.pbe.generatePkcs12Key(O,T,2,C,L,j);return D(k,V)},p.pbe.opensslDeriveBytes=function(b,y,O,w){if(typeof w>"u"||w===null){if(!("md5"in e.md))throw new Error('"md5" hash algorithm unavailable.');w=e.md.md5.create()}y===null&&(y="");for(var I=[o(w,b+y)],_=16,T=1;_<O;++T,_+=16)I.push(o(w,I[T-1]+b+y));return I.join("").substr(0,O)};function o(b,y){return b.start().update(y).digest().getBytes()}function s(b){var y;if(!b)y="hmacWithSHA1";else if(y=p.oids[a.derToOid(b)],!y){var O=new Error("Unsupported PRF OID.");throw O.oid=b,O.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],O}return h(y)}function h(b){var y=e.md;switch(b){case"hmacWithSHA224":y=e.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":b=b.substr(8).toLowerCase();break;default:var O=new Error("Unsupported PRF algorithm.");throw O.algorithm=b,O.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],O}if(!y||!(b in y))throw new Error("Unknown hash algorithm: "+b);return y[b].create()}function v(b,y,O,w){var I=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,b),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,y.getBytes())]);return w!=="hmacWithSHA1"&&I.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,e.util.hexToBytes(O.toString(16))),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(p.oids[w]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])),I}return pbe}var pkcs12={exports:{}},pkcs7asn1={exports:{}},hasRequiredPkcs7asn1;function requirePkcs7asn1(){if(hasRequiredPkcs7asn1)return pkcs7asn1.exports;hasRequiredPkcs7asn1=1;var e=requireForge();requireAsn1(),requireUtil$7();var t=e.asn1,a=pkcs7asn1.exports=e.pkcs7asn1=e.pkcs7asn1||{};e.pkcs7=e.pkcs7||{},e.pkcs7.asn1=a;var p={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=p;var g={name:"EncryptedContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator={name:"EnvelopedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(g)},a.encryptedDataValidator={name:"EncryptedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"}].concat(g)};var m={name:"SignerInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};return a.signedDataValidator={name:"SignedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},p,{name:"SignedData.Certificates",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,capture:"signerInfos",optional:!0,value:[m]}]},a.recipientInfoValidator={name:"RecipientInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]},pkcs7asn1.exports}var x509={exports:{}},mgf1={exports:{}},hasRequiredMgf1;function requireMgf1(){if(hasRequiredMgf1)return mgf1.exports;hasRequiredMgf1=1;var e=requireForge();requireUtil$7(),e.mgf=e.mgf||{};var t=mgf1.exports=e.mgf.mgf1=e.mgf1=e.mgf1||{};return t.create=function(a){var p={generate:function(g,m){for(var c=new e.util.ByteBuffer,l=Math.ceil(m/a.digestLength),o=0;o<l;o++){var s=new e.util.ByteBuffer;s.putInt32(o),a.start(),a.update(g+s.getBytes()),c.putBuffer(a.digest())}return c.truncate(c.length()-m),c.getBytes()}};return p},mgf1.exports}var mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var e=requireForge();return requireMgf1(),mgf=e.mgf=e.mgf||{},e.mgf.mgf1=e.mgf1,mgf}var pss={exports:{}},hasRequiredPss;function requirePss(){if(hasRequiredPss)return pss.exports;hasRequiredPss=1;var e=requireForge();requireRandom(),requireUtil$7();var t=pss.exports=e.pss=e.pss||{};return t.create=function(a){arguments.length===3&&(a={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var p=a.md,g=a.mgf,m=p.digestLength,c=a.salt||null;typeof c=="string"&&(c=e.util.createBuffer(c));var l;if("saltLength"in a)l=a.saltLength;else if(c!==null)l=c.length();else throw new Error("Salt length not specified or specific salt not given.");if(c!==null&&c.length()!==l)throw new Error("Given salt length does not match length of given salt.");var o=a.prng||e.random,s={};return s.encode=function(h,v){var b,y=v-1,O=Math.ceil(y/8),w=h.digest().getBytes();if(O<m+l+2)throw new Error("Message is too long to encrypt.");var I;c===null?I=o.getBytesSync(l):I=c.bytes();var _=new e.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(w),_.putBytes(I),p.start(),p.update(_.getBytes());var T=p.digest().getBytes(),C=new e.util.ByteBuffer;C.fillWithByte(0,O-l-m-2),C.putByte(1),C.putBytes(I);var N=C.getBytes(),L=O-m-1,D=g.generate(T,L),j="";for(b=0;b<L;b++)j+=String.fromCharCode(N.charCodeAt(b)^D.charCodeAt(b));var k=65280>>8*O-y&255;return j=String.fromCharCode(j.charCodeAt(0)&~k)+j.substr(1),j+T+""},s.verify=function(h,v,b){var y,O=b-1,w=Math.ceil(O/8);if(v=v.substr(-w),w<m+l+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(v.charCodeAt(w-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var I=w-m-1,_=v.substr(0,I),T=v.substr(I,m),C=65280>>8*w-O&255;if((_.charCodeAt(0)&C)!==0)throw new Error("Bits beyond keysize not zero as expected.");var N=g.generate(T,I),L="";for(y=0;y<I;y++)L+=String.fromCharCode(_.charCodeAt(y)^N.charCodeAt(y));L=String.fromCharCode(L.charCodeAt(0)&~C)+L.substr(1);var D=w-m-l-2;for(y=0;y<D;y++)if(L.charCodeAt(y)!==0)throw new Error("Leftmost octets not zero as expected");if(L.charCodeAt(D)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var j=L.substr(-l),k=new e.util.ByteBuffer;k.fillWithByte(0,8),k.putBytes(h),k.putBytes(j),p.start(),p.update(k.getBytes());var V=p.digest().getBytes();return T===V},s},pss.exports}var hasRequiredX509;function requireX509(){if(hasRequiredX509)return x509.exports;hasRequiredX509=1;var e=requireForge();requireAes(),requireAsn1(),requireDes(),requireMd(),requireMgf(),requireOids(),requirePem(),requirePss(),requireRsa(),requireUtil$7();var t=e.asn1,a=x509.exports=e.pki=e.pki||{},p=a.oids,g={};g.CN=p.commonName,g.commonName="CN",g.C=p.countryName,g.countryName="C",g.L=p.localityName,g.localityName="L",g.ST=p.stateOrProvinceName,g.stateOrProvinceName="ST",g.O=p.organizationName,g.organizationName="O",g.OU=p.organizationalUnitName,g.organizationalUnitName="OU",g.E=p.emailAddress,g.emailAddress="E";var m=e.pki.rsa.publicKeyValidator,c={name:"Certificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},m,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},l={name:"rsapss",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},o={name:"CertificationRequestInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},m,{name:"CertificationRequestInfo.attributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0}]}]}]},s={name:"CertificationRequest",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[o,{name:"CertificationRequest.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};a.RDNAttributesAsArray=function(D,j){for(var k=[],V,G,J,W=0;W<D.value.length;++W){V=D.value[W];for(var K=0;K<V.value.length;++K)J={},G=V.value[K],J.type=t.derToOid(G.value[0].value),J.value=G.value[1].value,J.valueTagClass=G.value[1].type,J.type in p&&(J.name=p[J.type],J.name in g&&(J.shortName=g[J.name])),j&&(j.update(J.type),j.update(J.value)),k.push(J)}return k},a.CRIAttributesAsArray=function(D){for(var j=[],k=0;k<D.length;++k)for(var V=D[k],G=t.derToOid(V.value[0].value),J=V.value[1].value,W=0;W<J.length;++W){var K={};if(K.type=G,K.value=J[W].value,K.valueTagClass=J[W].type,K.type in p&&(K.name=p[K.type],K.name in g&&(K.shortName=g[K.name])),K.type===p.extensionRequest){K.extensions=[];for(var X=0;X<K.value.length;++X)K.extensions.push(a.certificateExtensionFromAsn1(K.value[X]))}j.push(K)}return j};function h(D,j){typeof j=="string"&&(j={shortName:j});for(var k=null,V,G=0;k===null&&G<D.attributes.length;++G)V=D.attributes[G],(j.type&&j.type===V.type||j.name&&j.name===V.name||j.shortName&&j.shortName===V.shortName)&&(k=V);return k}var v=function(D,j,k){var V={};if(D!==p["RSASSA-PSS"])return V;k&&(V={hash:{algorithmOid:p.sha1},mgf:{algorithmOid:p.mgf1,hash:{algorithmOid:p.sha1}},saltLength:20});var G={},J=[];if(!t.validate(j,l,G,J)){var W=new Error("Cannot read RSASSA-PSS parameter block.");throw W.errors=J,W}return G.hashOid!==void 0&&(V.hash=V.hash||{},V.hash.algorithmOid=t.derToOid(G.hashOid)),G.maskGenOid!==void 0&&(V.mgf=V.mgf||{},V.mgf.algorithmOid=t.derToOid(G.maskGenOid),V.mgf.hash=V.mgf.hash||{},V.mgf.hash.algorithmOid=t.derToOid(G.maskGenHashOid)),G.saltLength!==void 0&&(V.saltLength=G.saltLength.charCodeAt(0)),V},b=function(D){switch(p[D.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return e.md.sha1.create();case"md5WithRSAEncryption":return e.md.md5.create();case"sha256WithRSAEncryption":return e.md.sha256.create();case"sha384WithRSAEncryption":return e.md.sha384.create();case"sha512WithRSAEncryption":return e.md.sha512.create();case"RSASSA-PSS":return e.md.sha256.create();default:var j=new Error("Could not compute "+D.type+" digest. Unknown signature OID.");throw j.signatureOid=D.signatureOid,j}},y=function(D){var j=D.certificate,k;switch(j.signatureOid){case p.sha1WithRSAEncryption:case p.sha1WithRSASignature:break;case p["RSASSA-PSS"]:var V,G;if(V=p[j.signatureParameters.mgf.hash.algorithmOid],V===void 0||e.md[V]===void 0){var J=new Error("Unsupported MGF hash function.");throw J.oid=j.signatureParameters.mgf.hash.algorithmOid,J.name=V,J}if(G=p[j.signatureParameters.mgf.algorithmOid],G===void 0||e.mgf[G]===void 0){var J=new Error("Unsupported MGF function.");throw J.oid=j.signatureParameters.mgf.algorithmOid,J.name=G,J}if(G=e.mgf[G].create(e.md[V].create()),V=p[j.signatureParameters.hash.algorithmOid],V===void 0||e.md[V]===void 0){var J=new Error("Unsupported RSASSA-PSS hash function.");throw J.oid=j.signatureParameters.hash.algorithmOid,J.name=V,J}k=e.pss.create(e.md[V].create(),G,j.signatureParameters.saltLength);break}return j.publicKey.verify(D.md.digest().getBytes(),D.signature,k)};a.certificateFromPem=function(D,j,k){var V=e.pem.decode(D)[0];if(V.type!=="CERTIFICATE"&&V.type!=="X509 CERTIFICATE"&&V.type!=="TRUSTED CERTIFICATE"){var G=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw G.headerType=V.type,G}if(V.procType&&V.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var J=t.fromDer(V.body,k);return a.certificateFromAsn1(J,j)},a.certificateToPem=function(D,j){var k={type:"CERTIFICATE",body:t.toDer(a.certificateToAsn1(D)).getBytes()};return e.pem.encode(k,{maxline:j})},a.publicKeyFromPem=function(D){var j=e.pem.decode(D)[0];if(j.type!=="PUBLIC KEY"&&j.type!=="RSA PUBLIC KEY"){var k=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw k.headerType=j.type,k}if(j.procType&&j.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var V=t.fromDer(j.body);return a.publicKeyFromAsn1(V)},a.publicKeyToPem=function(D,j){var k={type:"PUBLIC KEY",body:t.toDer(a.publicKeyToAsn1(D)).getBytes()};return e.pem.encode(k,{maxline:j})},a.publicKeyToRSAPublicKeyPem=function(D,j){var k={type:"RSA PUBLIC KEY",body:t.toDer(a.publicKeyToRSAPublicKey(D)).getBytes()};return e.pem.encode(k,{maxline:j})},a.getPublicKeyFingerprint=function(D,j){j=j||{};var k=j.md||e.md.sha1.create(),V=j.type||"RSAPublicKey",G;switch(V){case"RSAPublicKey":G=t.toDer(a.publicKeyToRSAPublicKey(D)).getBytes();break;case"SubjectPublicKeyInfo":G=t.toDer(a.publicKeyToAsn1(D)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+j.type+'".')}k.start(),k.update(G);var J=k.digest();if(j.encoding==="hex"){var W=J.toHex();return j.delimiter?W.match(/.{2}/g).join(j.delimiter):W}else{if(j.encoding==="binary")return J.getBytes();if(j.encoding)throw new Error('Unknown encoding "'+j.encoding+'".')}return J},a.certificationRequestFromPem=function(D,j,k){var V=e.pem.decode(D)[0];if(V.type!=="CERTIFICATE REQUEST"){var G=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw G.headerType=V.type,G}if(V.procType&&V.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var J=t.fromDer(V.body,k);return a.certificationRequestFromAsn1(J,j)},a.certificationRequestToPem=function(D,j){var k={type:"CERTIFICATE REQUEST",body:t.toDer(a.certificationRequestToAsn1(D)).getBytes()};return e.pem.encode(k,{maxline:j})},a.createCertificate=function(){var D={};return D.version=2,D.serialNumber="00",D.signatureOid=null,D.signature=null,D.siginfo={},D.siginfo.algorithmOid=null,D.validity={},D.validity.notBefore=new Date,D.validity.notAfter=new Date,D.issuer={},D.issuer.getField=function(j){return h(D.issuer,j)},D.issuer.addField=function(j){w([j]),D.issuer.attributes.push(j)},D.issuer.attributes=[],D.issuer.hash=null,D.subject={},D.subject.getField=function(j){return h(D.subject,j)},D.subject.addField=function(j){w([j]),D.subject.attributes.push(j)},D.subject.attributes=[],D.subject.hash=null,D.extensions=[],D.publicKey=null,D.md=null,D.setSubject=function(j,k){w(j),D.subject.attributes=j,delete D.subject.uniqueId,k&&(D.subject.uniqueId=k),D.subject.hash=null},D.setIssuer=function(j,k){w(j),D.issuer.attributes=j,delete D.issuer.uniqueId,k&&(D.issuer.uniqueId=k),D.issuer.hash=null},D.setExtensions=function(j){for(var k=0;k<j.length;++k)I(j[k],{cert:D});D.extensions=j},D.getExtension=function(j){typeof j=="string"&&(j={name:j});for(var k=null,V,G=0;k===null&&G<D.extensions.length;++G)V=D.extensions[G],(j.id&&V.id===j.id||j.name&&V.name===j.name)&&(k=V);return k},D.sign=function(j,k){D.md=k||e.md.sha1.create();var V=p[D.md.algorithm+"WithRSAEncryption"];if(!V){var G=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw G.algorithm=D.md.algorithm,G}D.signatureOid=D.siginfo.algorithmOid=V,D.tbsCertificate=a.getTBSCertificate(D);var J=t.toDer(D.tbsCertificate);D.md.update(J.getBytes()),D.signature=j.sign(D.md)},D.verify=function(j){var k=!1;if(!D.issued(j)){var V=j.issuer,G=D.subject,J=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw J.expectedIssuer=G.attributes,J.actualIssuer=V.attributes,J}var W=j.md;if(W===null){W=b({signatureOid:j.signatureOid,type:"certificate"});var K=j.tbsCertificate||a.getTBSCertificate(j),X=t.toDer(K);W.update(X.getBytes())}return W!==null&&(k=y({certificate:D,md:W,signature:j.signature})),k},D.isIssuer=function(j){var k=!1,V=D.issuer,G=j.subject;if(V.hash&&G.hash)k=V.hash===G.hash;else if(V.attributes.length===G.attributes.length){k=!0;for(var J,W,K=0;k&&K<V.attributes.length;++K)J=V.attributes[K],W=G.attributes[K],(J.type!==W.type||J.value!==W.value)&&(k=!1)}return k},D.issued=function(j){return j.isIssuer(D)},D.generateSubjectKeyIdentifier=function(){return a.getPublicKeyFingerprint(D.publicKey,{type:"RSAPublicKey"})},D.verifySubjectKeyIdentifier=function(){for(var j=p.subjectKeyIdentifier,k=0;k<D.extensions.length;++k){var V=D.extensions[k];if(V.id===j){var G=D.generateSubjectKeyIdentifier().getBytes();return e.util.hexToBytes(V.subjectKeyIdentifier)===G}}return!1},D},a.certificateFromAsn1=function(D,j){var k={},V=[];if(!t.validate(D,c,k,V)){var G=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw G.errors=V,G}var J=t.derToOid(k.publicKeyOid);if(J!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var W=a.createCertificate();W.version=k.certVersion?k.certVersion.charCodeAt(0):0;var K=e.util.createBuffer(k.certSerialNumber);W.serialNumber=K.toHex(),W.signatureOid=e.asn1.derToOid(k.certSignatureOid),W.signatureParameters=v(W.signatureOid,k.certSignatureParams,!0),W.siginfo.algorithmOid=e.asn1.derToOid(k.certinfoSignatureOid),W.siginfo.parameters=v(W.siginfo.algorithmOid,k.certinfoSignatureParams,!1),W.signature=k.certSignature;var X=[];if(k.certValidity1UTCTime!==void 0&&X.push(t.utcTimeToDate(k.certValidity1UTCTime)),k.certValidity2GeneralizedTime!==void 0&&X.push(t.generalizedTimeToDate(k.certValidity2GeneralizedTime)),k.certValidity3UTCTime!==void 0&&X.push(t.utcTimeToDate(k.certValidity3UTCTime)),k.certValidity4GeneralizedTime!==void 0&&X.push(t.generalizedTimeToDate(k.certValidity4GeneralizedTime)),X.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(X.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(W.validity.notBefore=X[0],W.validity.notAfter=X[1],W.tbsCertificate=k.tbsCertificate,j){W.md=b({signatureOid:W.signatureOid,type:"certificate"});var Y=t.toDer(W.tbsCertificate);W.md.update(Y.getBytes())}var te=e.md.sha1.create(),oe=t.toDer(k.certIssuer);te.update(oe.getBytes()),W.issuer.getField=function(se){return h(W.issuer,se)},W.issuer.addField=function(se){w([se]),W.issuer.attributes.push(se)},W.issuer.attributes=a.RDNAttributesAsArray(k.certIssuer),k.certIssuerUniqueId&&(W.issuer.uniqueId=k.certIssuerUniqueId),W.issuer.hash=te.digest().toHex();var le=e.md.sha1.create(),ee=t.toDer(k.certSubject);return le.update(ee.getBytes()),W.subject.getField=function(se){return h(W.subject,se)},W.subject.addField=function(se){w([se]),W.subject.attributes.push(se)},W.subject.attributes=a.RDNAttributesAsArray(k.certSubject),k.certSubjectUniqueId&&(W.subject.uniqueId=k.certSubjectUniqueId),W.subject.hash=le.digest().toHex(),k.certExtensions?W.extensions=a.certificateExtensionsFromAsn1(k.certExtensions):W.extensions=[],W.publicKey=a.publicKeyFromAsn1(k.subjectPublicKeyInfo),W},a.certificateExtensionsFromAsn1=function(D){for(var j=[],k=0;k<D.value.length;++k)for(var V=D.value[k],G=0;G<V.value.length;++G)j.push(a.certificateExtensionFromAsn1(V.value[G]));return j},a.certificateExtensionFromAsn1=function(D){var j={};if(j.id=t.derToOid(D.value[0].value),j.critical=!1,D.value[1].type===t.Type.BOOLEAN?(j.critical=D.value[1].value.charCodeAt(0)!==0,j.value=D.value[2].value):j.value=D.value[1].value,j.id in p){if(j.name=p[j.id],j.name==="keyUsage"){var k=t.fromDer(j.value),V=0,G=0;k.value.length>1&&(V=k.value.charCodeAt(1),G=k.value.length>2?k.value.charCodeAt(2):0),j.digitalSignature=(V&128)===128,j.nonRepudiation=(V&64)===64,j.keyEncipherment=(V&32)===32,j.dataEncipherment=(V&16)===16,j.keyAgreement=(V&8)===8,j.keyCertSign=(V&4)===4,j.cRLSign=(V&2)===2,j.encipherOnly=(V&1)===1,j.decipherOnly=(G&128)===128}else if(j.name==="basicConstraints"){var k=t.fromDer(j.value);k.value.length>0&&k.value[0].type===t.Type.BOOLEAN?j.cA=k.value[0].value.charCodeAt(0)!==0:j.cA=!1;var J=null;k.value.length>0&&k.value[0].type===t.Type.INTEGER?J=k.value[0].value:k.value.length>1&&(J=k.value[1].value),J!==null&&(j.pathLenConstraint=t.derToInteger(J))}else if(j.name==="extKeyUsage")for(var k=t.fromDer(j.value),W=0;W<k.value.length;++W){var K=t.derToOid(k.value[W].value);K in p?j[p[K]]=!0:j[K]=!0}else if(j.name==="nsCertType"){var k=t.fromDer(j.value),V=0;k.value.length>1&&(V=k.value.charCodeAt(1)),j.client=(V&128)===128,j.server=(V&64)===64,j.email=(V&32)===32,j.objsign=(V&16)===16,j.reserved=(V&8)===8,j.sslCA=(V&4)===4,j.emailCA=(V&2)===2,j.objCA=(V&1)===1}else if(j.name==="subjectAltName"||j.name==="issuerAltName"){j.altNames=[];for(var X,k=t.fromDer(j.value),Y=0;Y<k.value.length;++Y){X=k.value[Y];var te={type:X.type,value:X.value};switch(j.altNames.push(te),X.type){case 1:case 2:case 6:break;case 7:te.ip=e.util.bytesToIP(X.value);break;case 8:te.oid=t.derToOid(X.value);break}}}else if(j.name==="subjectKeyIdentifier"){var k=t.fromDer(j.value);j.subjectKeyIdentifier=e.util.bytesToHex(k.value)}}return j},a.certificationRequestFromAsn1=function(D,j){var k={},V=[];if(!t.validate(D,s,k,V)){var G=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw G.errors=V,G}var J=t.derToOid(k.publicKeyOid);if(J!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var W=a.createCertificationRequest();if(W.version=k.csrVersion?k.csrVersion.charCodeAt(0):0,W.signatureOid=e.asn1.derToOid(k.csrSignatureOid),W.signatureParameters=v(W.signatureOid,k.csrSignatureParams,!0),W.siginfo.algorithmOid=e.asn1.derToOid(k.csrSignatureOid),W.siginfo.parameters=v(W.siginfo.algorithmOid,k.csrSignatureParams,!1),W.signature=k.csrSignature,W.certificationRequestInfo=k.certificationRequestInfo,j){W.md=b({signatureOid:W.signatureOid,type:"certification request"});var K=t.toDer(W.certificationRequestInfo);W.md.update(K.getBytes())}var X=e.md.sha1.create();return W.subject.getField=function(Y){return h(W.subject,Y)},W.subject.addField=function(Y){w([Y]),W.subject.attributes.push(Y)},W.subject.attributes=a.RDNAttributesAsArray(k.certificationRequestInfoSubject,X),W.subject.hash=X.digest().toHex(),W.publicKey=a.publicKeyFromAsn1(k.subjectPublicKeyInfo),W.getAttribute=function(Y){return h(W,Y)},W.addAttribute=function(Y){w([Y]),W.attributes.push(Y)},W.attributes=a.CRIAttributesAsArray(k.certificationRequestInfoAttributes||[]),W},a.createCertificationRequest=function(){var D={};return D.version=0,D.signatureOid=null,D.signature=null,D.siginfo={},D.siginfo.algorithmOid=null,D.subject={},D.subject.getField=function(j){return h(D.subject,j)},D.subject.addField=function(j){w([j]),D.subject.attributes.push(j)},D.subject.attributes=[],D.subject.hash=null,D.publicKey=null,D.attributes=[],D.getAttribute=function(j){return h(D,j)},D.addAttribute=function(j){w([j]),D.attributes.push(j)},D.md=null,D.setSubject=function(j){w(j),D.subject.attributes=j,D.subject.hash=null},D.setAttributes=function(j){w(j),D.attributes=j},D.sign=function(j,k){D.md=k||e.md.sha1.create();var V=p[D.md.algorithm+"WithRSAEncryption"];if(!V){var G=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw G.algorithm=D.md.algorithm,G}D.signatureOid=D.siginfo.algorithmOid=V,D.certificationRequestInfo=a.getCertificationRequestInfo(D);var J=t.toDer(D.certificationRequestInfo);D.md.update(J.getBytes()),D.signature=j.sign(D.md)},D.verify=function(){var j=!1,k=D.md;if(k===null){k=b({signatureOid:D.signatureOid,type:"certification request"});var V=D.certificationRequestInfo||a.getCertificationRequestInfo(D),G=t.toDer(V);k.update(G.getBytes())}return k!==null&&(j=y({certificate:D,md:k,signature:D.signature})),j},D};function O(D){for(var j=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),k,V,G=D.attributes,J=0;J<G.length;++J){k=G[J];var W=k.value,K=t.Type.PRINTABLESTRING;"valueTagClass"in k&&(K=k.valueTagClass,K===t.Type.UTF8&&(W=e.util.encodeUtf8(W))),V=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(k.type).getBytes()),t.create(t.Class.UNIVERSAL,K,!1,W)])]),j.value.push(V)}return j}function w(D){for(var j,k=0;k<D.length;++k){if(j=D[k],typeof j.name>"u"&&(j.type&&j.type in a.oids?j.name=a.oids[j.type]:j.shortName&&j.shortName in g&&(j.name=a.oids[g[j.shortName]])),typeof j.type>"u")if(j.name&&j.name in a.oids)j.type=a.oids[j.name];else{var V=new Error("Attribute type not specified.");throw V.attribute=j,V}if(typeof j.shortName>"u"&&j.name&&j.name in g&&(j.shortName=g[j.name]),j.type===p.extensionRequest&&(j.valueConstructed=!0,j.valueTagClass=t.Type.SEQUENCE,!j.value&&j.extensions)){j.value=[];for(var G=0;G<j.extensions.length;++G)j.value.push(a.certificateExtensionToAsn1(I(j.extensions[G])))}if(typeof j.value>"u"){var V=new Error("Attribute value not specified.");throw V.attribute=j,V}}}function I(D,j){if(j=j||{},typeof D.name>"u"&&D.id&&D.id in a.oids&&(D.name=a.oids[D.id]),typeof D.id>"u")if(D.name&&D.name in a.oids)D.id=a.oids[D.name];else{var k=new Error("Extension ID not specified.");throw k.extension=D,k}if(typeof D.value<"u")return D;if(D.name==="keyUsage"){var V=0,G=0,J=0;D.digitalSignature&&(G|=128,V=7),D.nonRepudiation&&(G|=64,V=6),D.keyEncipherment&&(G|=32,V=5),D.dataEncipherment&&(G|=16,V=4),D.keyAgreement&&(G|=8,V=3),D.keyCertSign&&(G|=4,V=2),D.cRLSign&&(G|=2,V=1),D.encipherOnly&&(G|=1,V=0),D.decipherOnly&&(J|=128,V=7);var W=String.fromCharCode(V);J!==0?W+=String.fromCharCode(G)+String.fromCharCode(J):G!==0&&(W+=String.fromCharCode(G)),D.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,W)}else if(D.name==="basicConstraints")D.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),D.cA&&D.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,"")),"pathLenConstraint"in D&&D.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(D.pathLenConstraint).getBytes()));else if(D.name==="extKeyUsage"){D.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var K=D.value.value;for(var X in D)D[X]===!0&&(X in p?K.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(p[X]).getBytes())):X.indexOf(".")!==-1&&K.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(X).getBytes())))}else if(D.name==="nsCertType"){var V=0,G=0;D.client&&(G|=128,V=7),D.server&&(G|=64,V=6),D.email&&(G|=32,V=5),D.objsign&&(G|=16,V=4),D.reserved&&(G|=8,V=3),D.sslCA&&(G|=4,V=2),D.emailCA&&(G|=2,V=1),D.objCA&&(G|=1,V=0);var W=String.fromCharCode(V);G!==0&&(W+=String.fromCharCode(G)),D.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,W)}else if(D.name==="subjectAltName"||D.name==="issuerAltName"){D.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);for(var Y,te=0;te<D.altNames.length;++te){Y=D.altNames[te];var W=Y.value;if(Y.type===7&&Y.ip){if(W=e.util.bytesFromIP(Y.ip),W===null){var k=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw k.extension=D,k}}else Y.type===8&&(Y.oid?W=t.oidToDer(t.oidToDer(Y.oid)):W=t.oidToDer(W));D.value.value.push(t.create(t.Class.CONTEXT_SPECIFIC,Y.type,!1,W))}}else if(D.name==="nsComment"&&j.cert){if(!/^[\x00-\x7F]*$/.test(D.comment)||D.comment.length<1||D.comment.length>128)throw new Error('Invalid "nsComment" content.');D.value=t.create(t.Class.UNIVERSAL,t.Type.IA5STRING,!1,D.comment)}else if(D.name==="subjectKeyIdentifier"&&j.cert){var oe=j.cert.generateSubjectKeyIdentifier();D.subjectKeyIdentifier=oe.toHex(),D.value=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,oe.getBytes())}else if(D.name==="authorityKeyIdentifier"&&j.cert){D.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var K=D.value.value;if(D.keyIdentifier){var le=D.keyIdentifier===!0?j.cert.generateSubjectKeyIdentifier().getBytes():D.keyIdentifier;K.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!1,le))}if(D.authorityCertIssuer){var ee=[t.create(t.Class.CONTEXT_SPECIFIC,4,!0,[O(D.authorityCertIssuer===!0?j.cert.issuer:D.authorityCertIssuer)])];K.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,ee))}if(D.serialNumber){var se=e.util.hexToBytes(D.serialNumber===!0?j.cert.serialNumber:D.serialNumber);K.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!1,se))}}else if(D.name==="cRLDistributionPoints"){D.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);for(var K=D.value.value,de=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),he=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]),Y,te=0;te<D.altNames.length;++te){Y=D.altNames[te];var W=Y.value;if(Y.type===7&&Y.ip){if(W=e.util.bytesFromIP(Y.ip),W===null){var k=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw k.extension=D,k}}else Y.type===8&&(Y.oid?W=t.oidToDer(t.oidToDer(Y.oid)):W=t.oidToDer(W));he.value.push(t.create(t.Class.CONTEXT_SPECIFIC,Y.type,!1,W))}de.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[he])),K.push(de)}if(typeof D.value>"u"){var k=new Error("Extension value not specified.");throw k.extension=D,k}return D}function _(D,j){if(D===p["RSASSA-PSS"]){var k=[];return j.hash.algorithmOid!==void 0&&k.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(j.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])),j.mgf.algorithmOid!==void 0&&k.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(j.mgf.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(j.mgf.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])])),j.saltLength!==void 0&&k.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(j.saltLength).getBytes())])),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,k)}else return t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")}function T(D){var j=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);if(D.attributes.length===0)return j;for(var k=D.attributes,V=0;V<k.length;++V){var G=k[V],J=G.value,W=t.Type.UTF8;"valueTagClass"in G&&(W=G.valueTagClass),W===t.Type.UTF8&&(J=e.util.encodeUtf8(J));var K=!1;"valueConstructed"in G&&(K=G.valueConstructed);var X=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(G.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,W,K,J)])]);j.value.push(X)}return j}var C=new Date("1950-01-01T00:00:00Z"),N=new Date("2050-01-01T00:00:00Z");function L(D){return D>=C&&D<N?t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(D)):t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(D))}return a.getTBSCertificate=function(D){var j=L(D.validity.notBefore),k=L(D.validity.notAfter),V=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(D.version).getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(D.serialNumber)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(D.siginfo.algorithmOid).getBytes()),_(D.siginfo.algorithmOid,D.siginfo.parameters)]),O(D.issuer),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[j,k]),O(D.subject),a.publicKeyToAsn1(D.publicKey)]);return D.issuer.uniqueId&&V.value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+D.issuer.uniqueId)])),D.subject.uniqueId&&V.value.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+D.subject.uniqueId)])),D.extensions.length>0&&V.value.push(a.certificateExtensionsToAsn1(D.extensions)),V},a.getCertificationRequestInfo=function(D){var j=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(D.version).getBytes()),O(D.subject),a.publicKeyToAsn1(D.publicKey),T(D)]);return j},a.distinguishedNameToAsn1=function(D){return O(D)},a.certificateToAsn1=function(D){var j=D.tbsCertificate||a.getTBSCertificate(D);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[j,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(D.signatureOid).getBytes()),_(D.signatureOid,D.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+D.signature)])},a.certificateExtensionsToAsn1=function(D){var j=t.create(t.Class.CONTEXT_SPECIFIC,3,!0,[]),k=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);j.value.push(k);for(var V=0;V<D.length;++V)k.value.push(a.certificateExtensionToAsn1(D[V]));return j},a.certificateExtensionToAsn1=function(D){var j=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);j.value.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(D.id).getBytes())),D.critical&&j.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,""));var k=D.value;return typeof D.value!="string"&&(k=t.toDer(k).getBytes()),j.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,k)),j},a.certificationRequestToAsn1=function(D){var j=D.certificationRequestInfo||a.getCertificationRequestInfo(D);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[j,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(D.signatureOid).getBytes()),_(D.signatureOid,D.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+D.signature)])},a.createCaStore=function(D){var j={certs:{}};j.getIssuer=function(W){var K=k(W.issuer);return K},j.addCertificate=function(W){if(typeof W=="string"&&(W=e.pki.certificateFromPem(W)),V(W.subject),!j.hasCertificate(W))if(W.subject.hash in j.certs){var K=j.certs[W.subject.hash];e.util.isArray(K)||(K=[K]),K.push(W),j.certs[W.subject.hash]=K}else j.certs[W.subject.hash]=W},j.hasCertificate=function(W){typeof W=="string"&&(W=e.pki.certificateFromPem(W));var K=k(W.subject);if(!K)return!1;e.util.isArray(K)||(K=[K]);for(var X=t.toDer(a.certificateToAsn1(W)).getBytes(),Y=0;Y<K.length;++Y){var te=t.toDer(a.certificateToAsn1(K[Y])).getBytes();if(X===te)return!0}return!1},j.listAllCertificates=function(){var W=[];for(var K in j.certs)if(j.certs.hasOwnProperty(K)){var X=j.certs[K];if(!e.util.isArray(X))W.push(X);else for(var Y=0;Y<X.length;++Y)W.push(X[Y])}return W},j.removeCertificate=function(W){var K;if(typeof W=="string"&&(W=e.pki.certificateFromPem(W)),V(W.subject),!j.hasCertificate(W))return null;var X=k(W.subject);if(!e.util.isArray(X))return K=j.certs[W.subject.hash],delete j.certs[W.subject.hash],K;for(var Y=t.toDer(a.certificateToAsn1(W)).getBytes(),te=0;te<X.length;++te){var oe=t.toDer(a.certificateToAsn1(X[te])).getBytes();Y===oe&&(K=X[te],X.splice(te,1))}return X.length===0&&delete j.certs[W.subject.hash],K};function k(W){return V(W),j.certs[W.hash]||null}function V(W){if(!W.hash){var K=e.md.sha1.create();W.attributes=a.RDNAttributesAsArray(O(W),K),W.hash=K.digest().toHex()}}if(D)for(var G=0;G<D.length;++G){var J=D[G];j.addCertificate(J)}return j},a.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},a.verifyCertificateChain=function(D,j,k){typeof k=="function"&&(k={verify:k}),k=k||{},j=j.slice(0);var V=j.slice(0),G=k.validityCheckDate;typeof G>"u"&&(G=new Date);var J=!0,W=null,K=0;do{var X=j.shift(),Y=null,te=!1;if(G&&(G<X.validity.notBefore||G>X.validity.notAfter)&&(W={message:"Certificate is not valid yet or has expired.",error:a.certificateError.certificate_expired,notBefore:X.validity.notBefore,notAfter:X.validity.notAfter,now:G}),W===null){if(Y=j[0]||D.getIssuer(X),Y===null&&X.isIssuer(X)&&(te=!0,Y=X),Y){var oe=Y;e.util.isArray(oe)||(oe=[oe]);for(var le=!1;!le&&oe.length>0;){Y=oe.shift();try{le=Y.verify(X)}catch{}}le||(W={message:"Certificate signature is invalid.",error:a.certificateError.bad_certificate})}W===null&&(!Y||te)&&!D.hasCertificate(X)&&(W={message:"Certificate is not trusted.",error:a.certificateError.unknown_ca})}if(W===null&&Y&&!X.isIssuer(Y)&&(W={message:"Certificate issuer is invalid.",error:a.certificateError.bad_certificate}),W===null)for(var ee={keyUsage:!0,basicConstraints:!0},se=0;W===null&&se<X.extensions.length;++se){var de=X.extensions[se];de.critical&&!(de.name in ee)&&(W={message:"Certificate has an unsupported critical extension.",error:a.certificateError.unsupported_certificate})}if(W===null&&(!J||j.length===0&&(!Y||te))){var he=X.getExtension("basicConstraints"),ge=X.getExtension("keyUsage");if(ge!==null&&(!ge.keyCertSign||he===null)&&(W={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:a.certificateError.bad_certificate}),W===null&&he!==null&&!he.cA&&(W={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:a.certificateError.bad_certificate}),W===null&&ge!==null&&"pathLenConstraint"in he){var me=K-1;me>he.pathLenConstraint&&(W={message:"Certificate basicConstraints pathLenConstraint violated.",error:a.certificateError.bad_certificate})}}var Oe=W===null?!0:W.error,fe=k.verify?k.verify(Oe,K,V):Oe;if(fe===!0)W=null;else throw Oe===!0&&(W={message:"The application rejected the certificate.",error:a.certificateError.bad_certificate}),(fe||fe===0)&&(typeof fe=="object"&&!e.util.isArray(fe)?(fe.message&&(W.message=fe.message),fe.error&&(W.error=fe.error)):typeof fe=="string"&&(W.error=fe)),W;J=!1,++K}while(j.length>0);return!0},x509.exports}var hasRequiredPkcs12;function requirePkcs12(){if(hasRequiredPkcs12)return pkcs12.exports;hasRequiredPkcs12=1;var e=requireForge();requireAsn1(),requireHmac(),requireOids(),requirePkcs7asn1(),requirePbe(),requireRandom(),requireRsa(),requireSha1$2(),requireUtil$7(),requireX509();var t=e.asn1,a=e.pki,p=pkcs12.exports=e.pkcs12=e.pkcs12||{},g={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},m={name:"PFX",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},g,{name:"PFX.macData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},c={name:"SafeBag",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},l={name:"Attribute",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,capture:"values"}]},o={name:"CertBag",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:t.Class.UNIVERSAL,type:t.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function s(w,I,_,T){for(var C=[],N=0;N<w.length;N++)for(var L=0;L<w[N].safeBags.length;L++){var D=w[N].safeBags[L];if(!(T!==void 0&&D.type!==T)){if(I===null){C.push(D);continue}D.attributes[I]!==void 0&&D.attributes[I].indexOf(_)>=0&&C.push(D)}}return C}p.pkcs12FromAsn1=function(w,I,_){typeof I=="string"?(_=I,I=!0):I===void 0&&(I=!0);var T={},C=[];if(!t.validate(w,m,T,C)){var N=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw N.errors=N,N}var L={version:T.version.charCodeAt(0),safeContents:[],getBags:function(Y){var te={},oe;return"localKeyId"in Y?oe=Y.localKeyId:"localKeyIdHex"in Y&&(oe=e.util.hexToBytes(Y.localKeyIdHex)),oe===void 0&&!("friendlyName"in Y)&&"bagType"in Y&&(te[Y.bagType]=s(L.safeContents,null,null,Y.bagType)),oe!==void 0&&(te.localKeyId=s(L.safeContents,"localKeyId",oe,Y.bagType)),"friendlyName"in Y&&(te.friendlyName=s(L.safeContents,"friendlyName",Y.friendlyName,Y.bagType)),te},getBagsByFriendlyName:function(Y,te){return s(L.safeContents,"friendlyName",Y,te)},getBagsByLocalKeyId:function(Y,te){return s(L.safeContents,"localKeyId",Y,te)}};if(T.version.charCodeAt(0)!==3){var N=new Error("PKCS#12 PFX of version other than 3 not supported.");throw N.version=T.version.charCodeAt(0),N}if(t.derToOid(T.contentType)!==a.oids.data){var N=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw N.oid=t.derToOid(T.contentType),N}var D=T.content.value[0];if(D.tagClass!==t.Class.UNIVERSAL||D.type!==t.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(D=h(D),T.mac){var j=null,k=0,V=t.derToOid(T.macAlgorithm);switch(V){case a.oids.sha1:j=e.md.sha1.create(),k=20;break;case a.oids.sha256:j=e.md.sha256.create(),k=32;break;case a.oids.sha384:j=e.md.sha384.create(),k=48;break;case a.oids.sha512:j=e.md.sha512.create(),k=64;break;case a.oids.md5:j=e.md.md5.create(),k=16;break}if(j===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+V);var G=new e.util.ByteBuffer(T.macSalt),J="macIterations"in T?parseInt(e.util.bytesToHex(T.macIterations),16):1,W=p.generateKey(_,G,3,J,k,j),K=e.hmac.create();K.start(j,W),K.update(D.value);var X=K.getMac();if(X.getBytes()!==T.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return v(L,D.value,I,_),L};function h(w){if(w.composed||w.constructed){for(var I=e.util.createBuffer(),_=0;_<w.value.length;++_)I.putBytes(w.value[_].value);w.composed=w.constructed=!1,w.value=I.getBytes()}return w}function v(w,I,_,T){if(I=t.fromDer(I,_),I.tagClass!==t.Class.UNIVERSAL||I.type!==t.Type.SEQUENCE||I.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var C=0;C<I.value.length;C++){var N=I.value[C],L={},D=[];if(!t.validate(N,g,L,D)){var j=new Error("Cannot read ContentInfo.");throw j.errors=D,j}var k={encrypted:!1},V=null,G=L.content.value[0];switch(t.derToOid(L.contentType)){case a.oids.data:if(G.tagClass!==t.Class.UNIVERSAL||G.type!==t.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");V=h(G).value;break;case a.oids.encryptedData:V=b(G,T),k.encrypted=!0;break;default:var j=new Error("Unsupported PKCS#12 contentType.");throw j.contentType=t.derToOid(L.contentType),j}k.safeBags=y(V,_,T),w.safeContents.push(k)}}function b(w,I){var _={},T=[];if(!t.validate(w,e.pkcs7.asn1.encryptedDataValidator,_,T)){var C=new Error("Cannot read EncryptedContentInfo.");throw C.errors=T,C}var N=t.derToOid(_.contentType);if(N!==a.oids.data){var C=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw C.oid=N,C}N=t.derToOid(_.encAlgorithm);var L=a.pbe.getCipher(N,_.encParameter,I),D=h(_.encryptedContentAsn1),j=e.util.createBuffer(D.value);if(L.update(j),!L.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return L.output.getBytes()}function y(w,I,_){if(!I&&w.length===0)return[];if(w=t.fromDer(w,I),w.tagClass!==t.Class.UNIVERSAL||w.type!==t.Type.SEQUENCE||w.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var T=[],C=0;C<w.value.length;C++){var N=w.value[C],L={},D=[];if(!t.validate(N,c,L,D)){var j=new Error("Cannot read SafeBag.");throw j.errors=D,j}var k={type:t.derToOid(L.bagId),attributes:O(L.bagAttributes)};T.push(k);var V,G,J=L.bagValue.value[0];switch(k.type){case a.oids.pkcs8ShroudedKeyBag:if(J=a.decryptPrivateKeyInfo(J,_),J===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case a.oids.keyBag:try{k.key=a.privateKeyFromAsn1(J)}catch{k.key=null,k.asn1=J}continue;case a.oids.certBag:V=o,G=function(){if(t.derToOid(L.certId)!==a.oids.x509Certificate){var K=new Error("Unsupported certificate type, only X.509 supported.");throw K.oid=t.derToOid(L.certId),K}var X=t.fromDer(L.cert,I);try{k.cert=a.certificateFromAsn1(X,!0)}catch{k.cert=null,k.asn1=X}};break;default:var j=new Error("Unsupported PKCS#12 SafeBag type.");throw j.oid=k.type,j}if(V!==void 0&&!t.validate(J,V,L,D)){var j=new Error("Cannot read PKCS#12 "+V.name);throw j.errors=D,j}G()}return T}function O(w){var I={};if(w!==void 0)for(var _=0;_<w.length;++_){var T={},C=[];if(!t.validate(w[_],l,T,C)){var N=new Error("Cannot read PKCS#12 BagAttribute.");throw N.errors=C,N}var L=t.derToOid(T.oid);if(a.oids[L]!==void 0){I[a.oids[L]]=[];for(var D=0;D<T.values.length;++D)I[a.oids[L]].push(T.values[D].value)}}return I}return p.toPkcs12Asn1=function(w,I,_,T){T=T||{},T.saltSize=T.saltSize||8,T.count=T.count||2048,T.algorithm=T.algorithm||T.encAlgorithm||"aes128","useMac"in T||(T.useMac=!0),"localKeyId"in T||(T.localKeyId=null),"generateLocalKeyId"in T||(T.generateLocalKeyId=!0);var C=T.localKeyId,N;if(C!==null)C=e.util.hexToBytes(C);else if(T.generateLocalKeyId)if(I){var L=e.util.isArray(I)?I[0]:I;typeof L=="string"&&(L=a.certificateFromPem(L));var D=e.md.sha1.create();D.update(t.toDer(a.certificateToAsn1(L)).getBytes()),C=D.digest().getBytes()}else C=e.random.getBytes(20);var j=[];C!==null&&j.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.oids.localKeyId).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,C)])])),"friendlyName"in T&&j.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.oids.friendlyName).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.BMPSTRING,!1,T.friendlyName)])])),j.length>0&&(N=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,j));var k=[],V=[];I!==null&&(e.util.isArray(I)?V=I:V=[I]);for(var G=[],J=0;J<V.length;++J){I=V[J],typeof I=="string"&&(I=a.certificateFromPem(I));var W=J===0?N:void 0,K=a.certificateToAsn1(I),X=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.oids.certBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.oids.x509Certificate).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(K).getBytes())])])]),W]);G.push(X)}if(G.length>0){var Y=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,G),te=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(Y).getBytes())])]);k.push(te)}var oe=null;if(w!==null){var le=a.wrapRsaPrivateKey(a.privateKeyToAsn1(w));_===null?oe=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.oids.keyBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[le]),N]):oe=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.oids.pkcs8ShroudedKeyBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[a.encryptPrivateKeyInfo(le,_,T)]),N]);var ee=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[oe]),se=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(ee).getBytes())])]);k.push(se)}var de=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,k),he;if(T.useMac){var D=e.md.sha1.create(),ge=new e.util.ByteBuffer(e.random.getBytes(T.saltSize)),me=T.count,w=p.generateKey(_,ge,3,me,20),Oe=e.hmac.create();Oe.start(D,w),Oe.update(t.toDer(de).getBytes());var fe=Oe.getMac();he=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.oids.sha1).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,fe.getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,ge.getBytes()),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(me).getBytes())])}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(3).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(de).getBytes())])]),he])},p.generateKey=e.pbe.generatePkcs12Key,pkcs12.exports}var hasRequiredPki;function requirePki(){if(hasRequiredPki)return pki.exports;hasRequiredPki=1;var e=requireForge();requireAsn1(),requireOids(),requirePbe(),requirePem(),requirePbkdf2(),requirePkcs12(),requirePss(),requireRsa(),requireUtil$7(),requireX509();var t=e.asn1,a=pki.exports=e.pki=e.pki||{};return a.pemToDer=function(p){var g=e.pem.decode(p)[0];if(g.procType&&g.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return e.util.createBuffer(g.body)},a.privateKeyFromPem=function(p){var g=e.pem.decode(p)[0];if(g.type!=="PRIVATE KEY"&&g.type!=="RSA PRIVATE KEY"){var m=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw m.headerType=g.type,m}if(g.procType&&g.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var c=t.fromDer(g.body);return a.privateKeyFromAsn1(c)},a.privateKeyToPem=function(p,g){var m={type:"RSA PRIVATE KEY",body:t.toDer(a.privateKeyToAsn1(p)).getBytes()};return e.pem.encode(m,{maxline:g})},a.privateKeyInfoToPem=function(p,g){var m={type:"PRIVATE KEY",body:t.toDer(p).getBytes()};return e.pem.encode(m,{maxline:g})},pki.exports}var tls_1,hasRequiredTls;function requireTls(){if(hasRequiredTls)return tls_1;hasRequiredTls=1;var e=requireForge();requireAsn1(),requireHmac(),requireMd5$2(),requirePem(),requirePki(),requireRandom(),requireSha1$2(),requireUtil$7();var t=function(z,d,P,A){var $=e.util.createBuffer(),ie=z.length>>1,pe=ie+(z.length&1),ne=z.substr(0,pe),u=z.substr(ie,pe),x=e.util.createBuffer(),M=e.hmac.create();P=d+P;var n=Math.ceil(A/16),q=Math.ceil(A/20);M.start("MD5",ne);var U=e.util.createBuffer();x.putBytes(P);for(var Q=0;Q<n;++Q)M.start(null,null),M.update(x.getBytes()),x.putBuffer(M.digest()),M.start(null,null),M.update(x.bytes()+P),U.putBuffer(M.digest());M.start("SHA1",u);var ye=e.util.createBuffer();x.clear(),x.putBytes(P);for(var Q=0;Q<q;++Q)M.start(null,null),M.update(x.getBytes()),x.putBuffer(M.digest()),M.start(null,null),M.update(x.bytes()+P),ye.putBuffer(M.digest());return $.putBytes(e.util.xorBytes(U.getBytes(),ye.getBytes(),A)),$},a=function(z,d,P){var A=e.hmac.create();A.start("SHA1",z);var $=e.util.createBuffer();return $.putInt32(d[0]),$.putInt32(d[1]),$.putByte(P.type),$.putByte(P.version.major),$.putByte(P.version.minor),$.putInt16(P.length),$.putBytes(P.fragment.bytes()),A.update($.getBytes()),A.digest().getBytes()},p=function(z,d,P){var A=!1;try{var $=z.deflate(d.fragment.getBytes());d.fragment=e.util.createBuffer($),d.length=$.length,A=!0}catch{}return A},g=function(z,d,P){var A=!1;try{var $=z.inflate(d.fragment.getBytes());d.fragment=e.util.createBuffer($),d.length=$.length,A=!0}catch{}return A},m=function(z,d){var P=0;switch(d){case 1:P=z.getByte();break;case 2:P=z.getInt16();break;case 3:P=z.getInt24();break;case 4:P=z.getInt32();break}return e.util.createBuffer(z.getBytes(P))},c=function(z,d,P){z.putInt(P.length(),d<<3),z.putBuffer(P)},l={};l.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},l.SupportedVersions=[l.Versions.TLS_1_1,l.Versions.TLS_1_0],l.Version=l.SupportedVersions[0],l.MaxFragment=15360,l.ConnectionEnd={server:0,client:1},l.PRFAlgorithm={tls_prf_sha256:0},l.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},l.CipherType={stream:0,block:1,aead:2},l.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},l.CompressionMethod={none:0,deflate:1},l.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},l.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},l.Alert={},l.Alert.Level={warning:1,fatal:2},l.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},l.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},l.CipherSuites={},l.getCipherSuite=function(z){var d=null;for(var P in l.CipherSuites){var A=l.CipherSuites[P];if(A.id[0]===z.charCodeAt(0)&&A.id[1]===z.charCodeAt(1)){d=A;break}}return d},l.handleUnexpected=function(z,d){var P=!z.open&&z.entity===l.ConnectionEnd.client;P||z.error(z,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})},l.handleHelloRequest=function(z,d,P){!z.handshaking&&z.handshakes>0&&(l.queue(z,l.createAlert(z,{level:l.Alert.Level.warning,description:l.Alert.Description.no_renegotiation})),l.flush(z)),z.process()},l.parseHelloMessage=function(z,d,P){var A=null,$=z.entity===l.ConnectionEnd.client;if(P<38)z.error(z,{message:$?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});else{var ie=d.fragment,pe=ie.length();if(A={version:{major:ie.getByte(),minor:ie.getByte()},random:e.util.createBuffer(ie.getBytes(32)),session_id:m(ie,1),extensions:[]},$?(A.cipher_suite=ie.getBytes(2),A.compression_method=ie.getByte()):(A.cipher_suites=m(ie,2),A.compression_methods=m(ie,1)),pe=P-(pe-ie.length()),pe>0){for(var ne=m(ie,2);ne.length()>0;)A.extensions.push({type:[ne.getByte(),ne.getByte()],data:m(ne,2)});if(!$)for(var u=0;u<A.extensions.length;++u){var x=A.extensions[u];if(x.type[0]===0&&x.type[1]===0)for(var M=m(x.data,2);M.length()>0;){var n=M.getByte();if(n!==0)break;z.session.extensions.server_name.serverNameList.push(m(M,2).getBytes())}}}if(z.session.version&&(A.version.major!==z.session.version.major||A.version.minor!==z.session.version.minor))return z.error(z,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});if($)z.session.cipherSuite=l.getCipherSuite(A.cipher_suite);else for(var q=e.util.createBuffer(A.cipher_suites.bytes());q.length()>0&&(z.session.cipherSuite=l.getCipherSuite(q.getBytes(2)),z.session.cipherSuite===null););if(z.session.cipherSuite===null)return z.error(z,{message:"No cipher suites in common.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure},cipherSuite:e.util.bytesToHex(A.cipher_suite)});$?z.session.compressionMethod=A.compression_method:z.session.compressionMethod=l.CompressionMethod.none}return A},l.createSecurityParameters=function(z,d){var P=z.entity===l.ConnectionEnd.client,A=d.random.bytes(),$=P?z.session.sp.client_random:A,ie=P?A:l.createRandom().getBytes();z.session.sp={entity:z.entity,prf_algorithm:l.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:z.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:$,server_random:ie}},l.handleServerHello=function(z,d,P){var A=l.parseHelloMessage(z,d,P);if(!z.fail){if(A.version.minor<=z.version.minor)z.version.minor=A.version.minor;else return z.error(z,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});z.session.version=z.version;var $=A.session_id.bytes();$.length>0&&$===z.session.id?(z.expect=y,z.session.resuming=!0,z.session.sp.server_random=A.random.bytes()):(z.expect=s,z.session.resuming=!1,l.createSecurityParameters(z,A)),z.session.id=$,z.process()}},l.handleClientHello=function(z,d,P){var A=l.parseHelloMessage(z,d,P);if(!z.fail){var $=A.session_id.bytes(),ie=null;if(z.sessionCache&&(ie=z.sessionCache.getSession($),ie===null?$="":(ie.version.major!==A.version.major||ie.version.minor>A.version.minor)&&(ie=null,$="")),$.length===0&&($=e.random.getBytes(32)),z.session.id=$,z.session.clientHelloVersion=A.version,z.session.sp={},ie)z.version=z.session.version=ie.version,z.session.sp=ie.sp;else{for(var pe,ne=1;ne<l.SupportedVersions.length&&(pe=l.SupportedVersions[ne],!(pe.minor<=A.version.minor));++ne);z.version={major:pe.major,minor:pe.minor},z.session.version=z.version}ie!==null?(z.expect=L,z.session.resuming=!0,z.session.sp.client_random=A.random.bytes()):(z.expect=z.verifyClient!==!1?T:C,z.session.resuming=!1,l.createSecurityParameters(z,A)),z.open=!0,l.queue(z,l.createRecord(z,{type:l.ContentType.handshake,data:l.createServerHello(z)})),z.session.resuming?(l.queue(z,l.createRecord(z,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),z.state.pending=l.createConnectionState(z),z.state.current.write=z.state.pending.write,l.queue(z,l.createRecord(z,{type:l.ContentType.handshake,data:l.createFinished(z)}))):(l.queue(z,l.createRecord(z,{type:l.ContentType.handshake,data:l.createCertificate(z)})),z.fail||(l.queue(z,l.createRecord(z,{type:l.ContentType.handshake,data:l.createServerKeyExchange(z)})),z.verifyClient!==!1&&l.queue(z,l.createRecord(z,{type:l.ContentType.handshake,data:l.createCertificateRequest(z)})),l.queue(z,l.createRecord(z,{type:l.ContentType.handshake,data:l.createServerHelloDone(z)})))),l.flush(z),z.process()}},l.handleCertificate=function(z,d,P){if(P<3)return z.error(z,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var A=d.fragment,$={certificate_list:m(A,3)},ie,pe,ne=[];try{for(;$.certificate_list.length()>0;)ie=m($.certificate_list,3),pe=e.asn1.fromDer(ie),ie=e.pki.certificateFromAsn1(pe,!0),ne.push(ie)}catch(x){return z.error(z,{message:"Could not parse certificate list.",cause:x,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var u=z.entity===l.ConnectionEnd.client;(u||z.verifyClient===!0)&&ne.length===0?z.error(z,{message:u?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}}):ne.length===0?z.expect=u?h:C:(u?z.session.serverCertificate=ne[0]:z.session.clientCertificate=ne[0],l.verifyCertificateChain(z,ne)&&(z.expect=u?h:C)),z.process()},l.handleServerKeyExchange=function(z,d,P){if(P>0)return z.error(z,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});z.expect=v,z.process()},l.handleClientKeyExchange=function(z,d,P){if(P<48)return z.error(z,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});var A=d.fragment,$={enc_pre_master_secret:m(A,2).getBytes()},ie=null;if(z.getPrivateKey)try{ie=z.getPrivateKey(z,z.session.serverCertificate),ie=e.pki.privateKeyFromPem(ie)}catch(u){z.error(z,{message:"Could not get private key.",cause:u,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}if(ie===null)return z.error(z,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}});try{var pe=z.session.sp;pe.pre_master_secret=ie.decrypt($.enc_pre_master_secret);var ne=z.session.clientHelloVersion;if(ne.major!==pe.pre_master_secret.charCodeAt(0)||ne.minor!==pe.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{pe.pre_master_secret=e.random.getBytes(48)}z.expect=L,z.session.clientCertificate!==null&&(z.expect=N),z.process()},l.handleCertificateRequest=function(z,d,P){if(P<3)return z.error(z,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var A=d.fragment,$={certificate_types:m(A,1),certificate_authorities:m(A,2)};z.session.certificateRequest=$,z.expect=b,z.process()},l.handleCertificateVerify=function(z,d,P){if(P<2)return z.error(z,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var A=d.fragment;A.read-=4;var $=A.bytes();A.read+=4;var ie={signature:m(A,2).getBytes()},pe=e.util.createBuffer();pe.putBuffer(z.session.md5.digest()),pe.putBuffer(z.session.sha1.digest()),pe=pe.getBytes();try{var ne=z.session.clientCertificate;if(!ne.publicKey.verify(pe,ie.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");z.session.md5.update($),z.session.sha1.update($)}catch{return z.error(z,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure}})}z.expect=L,z.process()},l.handleServerHelloDone=function(z,d,P){if(P>0)return z.error(z,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.record_overflow}});if(z.serverCertificate===null){var A={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.insufficient_security}},$=0,ie=z.verify(z,A.alert.description,$,[]);if(ie!==!0)return(ie||ie===0)&&(typeof ie=="object"&&!e.util.isArray(ie)?(ie.message&&(A.message=ie.message),ie.alert&&(A.alert.description=ie.alert)):typeof ie=="number"&&(A.alert.description=ie)),z.error(z,A)}z.session.certificateRequest!==null&&(d=l.createRecord(z,{type:l.ContentType.handshake,data:l.createCertificate(z)}),l.queue(z,d)),d=l.createRecord(z,{type:l.ContentType.handshake,data:l.createClientKeyExchange(z)}),l.queue(z,d),z.expect=I;var pe=function(ne,u){ne.session.certificateRequest!==null&&ne.session.clientCertificate!==null&&l.queue(ne,l.createRecord(ne,{type:l.ContentType.handshake,data:l.createCertificateVerify(ne,u)})),l.queue(ne,l.createRecord(ne,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),ne.state.pending=l.createConnectionState(ne),ne.state.current.write=ne.state.pending.write,l.queue(ne,l.createRecord(ne,{type:l.ContentType.handshake,data:l.createFinished(ne)})),ne.expect=y,l.flush(ne),ne.process()};if(z.session.certificateRequest===null||z.session.clientCertificate===null)return pe(z,null);l.getClientSignature(z,pe)},l.handleChangeCipherSpec=function(z,d){if(d.fragment.getByte()!==1)return z.error(z,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var P=z.entity===l.ConnectionEnd.client;(z.session.resuming&&P||!z.session.resuming&&!P)&&(z.state.pending=l.createConnectionState(z)),z.state.current.read=z.state.pending.read,(!z.session.resuming&&P||z.session.resuming&&!P)&&(z.state.pending=null),z.expect=P?O:D,z.process()},l.handleFinished=function(z,d,P){var A=d.fragment;A.read-=4;var $=A.bytes();A.read+=4;var ie=d.fragment.getBytes();A=e.util.createBuffer(),A.putBuffer(z.session.md5.digest()),A.putBuffer(z.session.sha1.digest());var pe=z.entity===l.ConnectionEnd.client,ne=pe?"server finished":"client finished",u=z.session.sp,x=12,M=t;if(A=M(u.master_secret,ne,A.getBytes(),x),A.getBytes()!==ie)return z.error(z,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decrypt_error}});z.session.md5.update($),z.session.sha1.update($),(z.session.resuming&&pe||!z.session.resuming&&!pe)&&(l.queue(z,l.createRecord(z,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),z.state.current.write=z.state.pending.write,z.state.pending=null,l.queue(z,l.createRecord(z,{type:l.ContentType.handshake,data:l.createFinished(z)}))),z.expect=pe?w:j,z.handshaking=!1,++z.handshakes,z.peerCertificate=pe?z.session.serverCertificate:z.session.clientCertificate,l.flush(z),z.isConnected=!0,z.connected(z),z.process()},l.handleAlert=function(z,d){var P=d.fragment,A={level:P.getByte(),description:P.getByte()},$;switch(A.description){case l.Alert.Description.close_notify:$="Connection closed.";break;case l.Alert.Description.unexpected_message:$="Unexpected message.";break;case l.Alert.Description.bad_record_mac:$="Bad record MAC.";break;case l.Alert.Description.decryption_failed:$="Decryption failed.";break;case l.Alert.Description.record_overflow:$="Record overflow.";break;case l.Alert.Description.decompression_failure:$="Decompression failed.";break;case l.Alert.Description.handshake_failure:$="Handshake failure.";break;case l.Alert.Description.bad_certificate:$="Bad certificate.";break;case l.Alert.Description.unsupported_certificate:$="Unsupported certificate.";break;case l.Alert.Description.certificate_revoked:$="Certificate revoked.";break;case l.Alert.Description.certificate_expired:$="Certificate expired.";break;case l.Alert.Description.certificate_unknown:$="Certificate unknown.";break;case l.Alert.Description.illegal_parameter:$="Illegal parameter.";break;case l.Alert.Description.unknown_ca:$="Unknown certificate authority.";break;case l.Alert.Description.access_denied:$="Access denied.";break;case l.Alert.Description.decode_error:$="Decode error.";break;case l.Alert.Description.decrypt_error:$="Decrypt error.";break;case l.Alert.Description.export_restriction:$="Export restriction.";break;case l.Alert.Description.protocol_version:$="Unsupported protocol version.";break;case l.Alert.Description.insufficient_security:$="Insufficient security.";break;case l.Alert.Description.internal_error:$="Internal error.";break;case l.Alert.Description.user_canceled:$="User canceled.";break;case l.Alert.Description.no_renegotiation:$="Renegotiation not supported.";break;default:$="Unknown error.";break}if(A.description===l.Alert.Description.close_notify)return z.close();z.error(z,{message:$,send:!1,origin:z.entity===l.ConnectionEnd.client?"server":"client",alert:A}),z.process()},l.handleHandshake=function(z,d){var P=d.fragment,A=P.getByte(),$=P.getInt24();if($>P.length())return z.fragmented=d,d.fragment=e.util.createBuffer(),P.read-=4,z.process();z.fragmented=null,P.read-=4;var ie=P.bytes($+4);P.read+=4,A in he[z.entity][z.expect]?(z.entity===l.ConnectionEnd.server&&!z.open&&!z.fail&&(z.handshaking=!0,z.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:e.md.md5.create(),sha1:e.md.sha1.create()}),A!==l.HandshakeType.hello_request&&A!==l.HandshakeType.certificate_verify&&A!==l.HandshakeType.finished&&(z.session.md5.update(ie),z.session.sha1.update(ie)),he[z.entity][z.expect][A](z,d,$)):l.handleUnexpected(z,d)},l.handleApplicationData=function(z,d){z.data.putBuffer(d.fragment),z.dataReady(z),z.process()},l.handleHeartbeat=function(z,d){var P=d.fragment,A=P.getByte(),$=P.getInt16(),ie=P.getBytes($);if(A===l.HeartbeatMessageType.heartbeat_request){if(z.handshaking||$>ie.length)return z.process();l.queue(z,l.createRecord(z,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_response,ie)})),l.flush(z)}else if(A===l.HeartbeatMessageType.heartbeat_response){if(ie!==z.expectedHeartbeatPayload)return z.process();z.heartbeatReceived&&z.heartbeatReceived(z,e.util.createBuffer(ie))}z.process()};var o=0,s=1,h=2,v=3,b=4,y=5,O=6,w=7,I=8,_=0,T=1,C=2,N=3,L=4,D=5,j=6,k=l.handleUnexpected,V=l.handleChangeCipherSpec,G=l.handleAlert,J=l.handleHandshake,W=l.handleApplicationData,K=l.handleHeartbeat,X=[];X[l.ConnectionEnd.client]=[[k,G,J,k,K],[k,G,J,k,K],[k,G,J,k,K],[k,G,J,k,K],[k,G,J,k,K],[V,G,k,k,K],[k,G,J,k,K],[k,G,J,W,K],[k,G,J,k,K]],X[l.ConnectionEnd.server]=[[k,G,J,k,K],[k,G,J,k,K],[k,G,J,k,K],[k,G,J,k,K],[V,G,k,k,K],[k,G,J,k,K],[k,G,J,W,K],[k,G,J,k,K]];var Y=l.handleHelloRequest,te=l.handleServerHello,oe=l.handleCertificate,le=l.handleServerKeyExchange,ee=l.handleCertificateRequest,se=l.handleServerHelloDone,de=l.handleFinished,he=[];he[l.ConnectionEnd.client]=[[k,k,te,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[Y,k,k,k,k,k,k,k,k,k,k,oe,le,ee,se,k,k,k,k,k,k],[Y,k,k,k,k,k,k,k,k,k,k,k,le,ee,se,k,k,k,k,k,k],[Y,k,k,k,k,k,k,k,k,k,k,k,k,ee,se,k,k,k,k,k,k],[Y,k,k,k,k,k,k,k,k,k,k,k,k,k,se,k,k,k,k,k,k],[Y,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[Y,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,de],[Y,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[Y,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k]];var ge=l.handleClientHello,me=l.handleClientKeyExchange,Oe=l.handleCertificateVerify;he[l.ConnectionEnd.server]=[[k,ge,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,oe,k,k,k,k,k,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,me,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,Oe,k,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,de],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k]],l.generateKeys=function(z,d){var P=t,A=d.client_random+d.server_random;z.session.resuming||(d.master_secret=P(d.pre_master_secret,"master secret",A,48).bytes(),d.pre_master_secret=null),A=d.server_random+d.client_random;var $=2*d.mac_key_length+2*d.enc_key_length,ie=z.version.major===l.Versions.TLS_1_0.major&&z.version.minor===l.Versions.TLS_1_0.minor;ie&&($+=2*d.fixed_iv_length);var pe=P(d.master_secret,"key expansion",A,$),ne={client_write_MAC_key:pe.getBytes(d.mac_key_length),server_write_MAC_key:pe.getBytes(d.mac_key_length),client_write_key:pe.getBytes(d.enc_key_length),server_write_key:pe.getBytes(d.enc_key_length)};return ie&&(ne.client_write_IV=pe.getBytes(d.fixed_iv_length),ne.server_write_IV=pe.getBytes(d.fixed_iv_length)),ne},l.createConnectionState=function(z){var d=z.entity===l.ConnectionEnd.client,P=function(){var ie={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(pe){return!0},compressionState:null,compressFunction:function(pe){return!0},updateSequenceNumber:function(){ie.sequenceNumber[1]===4294967295?(ie.sequenceNumber[1]=0,++ie.sequenceNumber[0]):++ie.sequenceNumber[1]}};return ie},A={read:P(),write:P()};if(A.read.update=function(ie,pe){return A.read.cipherFunction(pe,A.read)?A.read.compressFunction(ie,pe,A.read)||ie.error(ie,{message:"Could not decompress record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decompression_failure}}):ie.error(ie,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_record_mac}}),!ie.fail},A.write.update=function(ie,pe){return A.write.compressFunction(ie,pe,A.write)?A.write.cipherFunction(pe,A.write)||ie.error(ie,{message:"Could not encrypt record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):ie.error(ie,{message:"Could not compress record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}),!ie.fail},z.session){var $=z.session.sp;switch(z.session.cipherSuite.initSecurityParameters($),$.keys=l.generateKeys(z,$),A.read.macKey=d?$.keys.server_write_MAC_key:$.keys.client_write_MAC_key,A.write.macKey=d?$.keys.client_write_MAC_key:$.keys.server_write_MAC_key,z.session.cipherSuite.initConnectionState(A,z,$),$.compression_algorithm){case l.CompressionMethod.none:break;case l.CompressionMethod.deflate:A.read.compressFunction=g,A.write.compressFunction=p;break;default:throw new Error("Unsupported compression algorithm.")}}return A},l.createRandom=function(){var z=new Date,d=+z+z.getTimezoneOffset()*6e4,P=e.util.createBuffer();return P.putInt32(d),P.putBytes(e.random.getBytes(28)),P},l.createRecord=function(z,d){if(!d.data)return null;var P={type:d.type,version:{major:z.version.major,minor:z.version.minor},length:d.data.length(),fragment:d.data};return P},l.createAlert=function(z,d){var P=e.util.createBuffer();return P.putByte(d.level),P.putByte(d.description),l.createRecord(z,{type:l.ContentType.alert,data:P})},l.createClientHello=function(z){z.session.clientHelloVersion={major:z.version.major,minor:z.version.minor};for(var d=e.util.createBuffer(),P=0;P<z.cipherSuites.length;++P){var A=z.cipherSuites[P];d.putByte(A.id[0]),d.putByte(A.id[1])}var $=d.length(),ie=e.util.createBuffer();ie.putByte(l.CompressionMethod.none);var pe=ie.length(),ne=e.util.createBuffer();if(z.virtualHost){var u=e.util.createBuffer();u.putByte(0),u.putByte(0);var x=e.util.createBuffer();x.putByte(0),c(x,2,e.util.createBuffer(z.virtualHost));var M=e.util.createBuffer();c(M,2,x),c(u,2,M),ne.putBuffer(u)}var n=ne.length();n>0&&(n+=2);var q=z.session.id,U=q.length+1+2+4+28+2+$+1+pe+n,Q=e.util.createBuffer();return Q.putByte(l.HandshakeType.client_hello),Q.putInt24(U),Q.putByte(z.version.major),Q.putByte(z.version.minor),Q.putBytes(z.session.sp.client_random),c(Q,1,e.util.createBuffer(q)),c(Q,2,d),c(Q,1,ie),n>0&&c(Q,2,ne),Q},l.createServerHello=function(z){var d=z.session.id,P=d.length+1+2+4+28+2+1,A=e.util.createBuffer();return A.putByte(l.HandshakeType.server_hello),A.putInt24(P),A.putByte(z.version.major),A.putByte(z.version.minor),A.putBytes(z.session.sp.server_random),c(A,1,e.util.createBuffer(d)),A.putByte(z.session.cipherSuite.id[0]),A.putByte(z.session.cipherSuite.id[1]),A.putByte(z.session.compressionMethod),A},l.createCertificate=function(z){var d=z.entity===l.ConnectionEnd.client,P=null;if(z.getCertificate){var A;d?A=z.session.certificateRequest:A=z.session.extensions.server_name.serverNameList,P=z.getCertificate(z,A)}var $=e.util.createBuffer();if(P!==null)try{e.util.isArray(P)||(P=[P]);for(var ie=null,pe=0;pe<P.length;++pe){var ne=e.pem.decode(P[pe])[0];if(ne.type!=="CERTIFICATE"&&ne.type!=="X509 CERTIFICATE"&&ne.type!=="TRUSTED CERTIFICATE"){var u=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw u.headerType=ne.type,u}if(ne.procType&&ne.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var x=e.util.createBuffer(ne.body);ie===null&&(ie=e.asn1.fromDer(x.bytes(),!1));var M=e.util.createBuffer();c(M,3,x),$.putBuffer(M)}P=e.pki.certificateFromAsn1(ie),d?z.session.clientCertificate=P:z.session.serverCertificate=P}catch(U){return z.error(z,{message:"Could not send certificate list.",cause:U,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var n=3+$.length(),q=e.util.createBuffer();return q.putByte(l.HandshakeType.certificate),q.putInt24(n),c(q,3,$),q},l.createClientKeyExchange=function(z){var d=e.util.createBuffer();d.putByte(z.session.clientHelloVersion.major),d.putByte(z.session.clientHelloVersion.minor),d.putBytes(e.random.getBytes(46));var P=z.session.sp;P.pre_master_secret=d.getBytes();var A=z.session.serverCertificate.publicKey;d=A.encrypt(P.pre_master_secret);var $=d.length+2,ie=e.util.createBuffer();return ie.putByte(l.HandshakeType.client_key_exchange),ie.putInt24($),ie.putInt16(d.length),ie.putBytes(d),ie},l.createServerKeyExchange=function(z){var d=e.util.createBuffer();return d},l.getClientSignature=function(z,d){var P=e.util.createBuffer();P.putBuffer(z.session.md5.digest()),P.putBuffer(z.session.sha1.digest()),P=P.getBytes(),z.getSignature=z.getSignature||function(A,$,ie){var pe=null;if(A.getPrivateKey)try{pe=A.getPrivateKey(A,A.session.clientCertificate),pe=e.pki.privateKeyFromPem(pe)}catch(ne){A.error(A,{message:"Could not get private key.",cause:ne,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}pe===null?A.error(A,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):$=pe.sign($,null),ie(A,$)},z.getSignature(z,P,d)},l.createCertificateVerify=function(z,d){var P=d.length+2,A=e.util.createBuffer();return A.putByte(l.HandshakeType.certificate_verify),A.putInt24(P),A.putInt16(d.length),A.putBytes(d),A},l.createCertificateRequest=function(z){var d=e.util.createBuffer();d.putByte(1);var P=e.util.createBuffer();for(var A in z.caStore.certs){var $=z.caStore.certs[A],ie=e.pki.distinguishedNameToAsn1($.subject),pe=e.asn1.toDer(ie);P.putInt16(pe.length()),P.putBuffer(pe)}var ne=1+d.length()+2+P.length(),u=e.util.createBuffer();return u.putByte(l.HandshakeType.certificate_request),u.putInt24(ne),c(u,1,d),c(u,2,P),u},l.createServerHelloDone=function(z){var d=e.util.createBuffer();return d.putByte(l.HandshakeType.server_hello_done),d.putInt24(0),d},l.createChangeCipherSpec=function(){var z=e.util.createBuffer();return z.putByte(1),z},l.createFinished=function(z){var d=e.util.createBuffer();d.putBuffer(z.session.md5.digest()),d.putBuffer(z.session.sha1.digest());var P=z.entity===l.ConnectionEnd.client,A=z.session.sp,$=12,ie=t,pe=P?"client finished":"server finished";d=ie(A.master_secret,pe,d.getBytes(),$);var ne=e.util.createBuffer();return ne.putByte(l.HandshakeType.finished),ne.putInt24(d.length()),ne.putBuffer(d),ne},l.createHeartbeat=function(z,d,P){typeof P>"u"&&(P=d.length);var A=e.util.createBuffer();A.putByte(z),A.putInt16(P),A.putBytes(d);var $=A.length(),ie=Math.max(16,$-P-3);return A.putBytes(e.random.getBytes(ie)),A},l.queue=function(z,d){if(d&&!(d.fragment.length()===0&&(d.type===l.ContentType.handshake||d.type===l.ContentType.alert||d.type===l.ContentType.change_cipher_spec))){if(d.type===l.ContentType.handshake){var P=d.fragment.bytes();z.session.md5.update(P),z.session.sha1.update(P),P=null}var A;if(d.fragment.length()<=l.MaxFragment)A=[d];else{A=[];for(var $=d.fragment.bytes();$.length>l.MaxFragment;)A.push(l.createRecord(z,{type:d.type,data:e.util.createBuffer($.slice(0,l.MaxFragment))})),$=$.slice(l.MaxFragment);$.length>0&&A.push(l.createRecord(z,{type:d.type,data:e.util.createBuffer($)}))}for(var ie=0;ie<A.length&&!z.fail;++ie){var pe=A[ie],ne=z.state.current.write;ne.update(z,pe)&&z.records.push(pe)}}},l.flush=function(z){for(var d=0;d<z.records.length;++d){var P=z.records[d];z.tlsData.putByte(P.type),z.tlsData.putByte(P.version.major),z.tlsData.putByte(P.version.minor),z.tlsData.putInt16(P.fragment.length()),z.tlsData.putBuffer(z.records[d].fragment)}return z.records=[],z.tlsDataReady(z)};var fe=function(z){switch(z){case!0:return!0;case e.pki.certificateError.bad_certificate:return l.Alert.Description.bad_certificate;case e.pki.certificateError.unsupported_certificate:return l.Alert.Description.unsupported_certificate;case e.pki.certificateError.certificate_revoked:return l.Alert.Description.certificate_revoked;case e.pki.certificateError.certificate_expired:return l.Alert.Description.certificate_expired;case e.pki.certificateError.certificate_unknown:return l.Alert.Description.certificate_unknown;case e.pki.certificateError.unknown_ca:return l.Alert.Description.unknown_ca;default:return l.Alert.Description.bad_certificate}},_e=function(z){switch(z){case!0:return!0;case l.Alert.Description.bad_certificate:return e.pki.certificateError.bad_certificate;case l.Alert.Description.unsupported_certificate:return e.pki.certificateError.unsupported_certificate;case l.Alert.Description.certificate_revoked:return e.pki.certificateError.certificate_revoked;case l.Alert.Description.certificate_expired:return e.pki.certificateError.certificate_expired;case l.Alert.Description.certificate_unknown:return e.pki.certificateError.certificate_unknown;case l.Alert.Description.unknown_ca:return e.pki.certificateError.unknown_ca;default:return e.pki.certificateError.bad_certificate}};l.verifyCertificateChain=function(z,d){try{var P={};for(var A in z.verifyOptions)P[A]=z.verifyOptions[A];P.verify=function(ie,pe,ne){var u=fe(ie),x=z.verify(z,ie,pe,ne);if(x!==!0){if(typeof x=="object"&&!e.util.isArray(x)){var M=new Error("The application rejected the certificate.");throw M.send=!0,M.alert={level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate},x.message&&(M.message=x.message),x.alert&&(M.alert.description=x.alert),M}x!==ie&&(x=_e(x))}return x},e.pki.verifyCertificateChain(z.caStore,d,P)}catch(ie){var $=ie;(typeof $!="object"||e.util.isArray($))&&($={send:!0,alert:{level:l.Alert.Level.fatal,description:fe(ie)}}),"send"in $||($.send=!0),"alert"in $||($.alert={level:l.Alert.Level.fatal,description:fe($.error)}),z.error(z,$)}return!z.fail},l.createSessionCache=function(z,d){var P=null;if(z&&z.getSession&&z.setSession&&z.order)P=z;else{P={},P.cache=z||{},P.capacity=Math.max(d||100,1),P.order=[];for(var A in z)P.order.length<=d?P.order.push(A):delete z[A];P.getSession=function($){var ie=null,pe=null;if($?pe=e.util.bytesToHex($):P.order.length>0&&(pe=P.order[0]),pe!==null&&pe in P.cache){ie=P.cache[pe],delete P.cache[pe];for(var ne in P.order)if(P.order[ne]===pe){P.order.splice(ne,1);break}}return ie},P.setSession=function($,ie){if(P.order.length===P.capacity){var pe=P.order.shift();delete P.cache[pe]}var pe=e.util.bytesToHex($);P.order.push(pe),P.cache[pe]=ie}}return P},l.createConnection=function(z){var d=null;z.caStore?e.util.isArray(z.caStore)?d=e.pki.createCaStore(z.caStore):d=z.caStore:d=e.pki.createCaStore();var P=z.cipherSuites||null;if(P===null){P=[];for(var A in l.CipherSuites)P.push(l.CipherSuites[A])}var $=z.server?l.ConnectionEnd.server:l.ConnectionEnd.client,ie=z.sessionCache?l.createSessionCache(z.sessionCache):null,pe={version:{major:l.Version.major,minor:l.Version.minor},entity:$,sessionId:z.sessionId,caStore:d,sessionCache:ie,cipherSuites:P,connected:z.connected,virtualHost:z.virtualHost||null,verifyClient:z.verifyClient||!1,verify:z.verify||function(M,n,q,U){return n},verifyOptions:z.verifyOptions||{},getCertificate:z.getCertificate||null,getPrivateKey:z.getPrivateKey||null,getSignature:z.getSignature||null,input:e.util.createBuffer(),tlsData:e.util.createBuffer(),data:e.util.createBuffer(),tlsDataReady:z.tlsDataReady,dataReady:z.dataReady,heartbeatReceived:z.heartbeatReceived,closed:z.closed,error:function(M,n){n.origin=n.origin||(M.entity===l.ConnectionEnd.client?"client":"server"),n.send&&(l.queue(M,l.createAlert(M,n.alert)),l.flush(M));var q=n.fatal!==!1;q&&(M.fail=!0),z.error(M,n),q&&M.close(!1)},deflate:z.deflate||null,inflate:z.inflate||null};pe.reset=function(M){pe.version={major:l.Version.major,minor:l.Version.minor},pe.record=null,pe.session=null,pe.peerCertificate=null,pe.state={pending:null,current:null},pe.expect=pe.entity===l.ConnectionEnd.client?o:_,pe.fragmented=null,pe.records=[],pe.open=!1,pe.handshakes=0,pe.handshaking=!1,pe.isConnected=!1,pe.fail=!(M||typeof M>"u"),pe.input.clear(),pe.tlsData.clear(),pe.data.clear(),pe.state.current=l.createConnectionState(pe)},pe.reset();var ne=function(M,n){var q=n.type-l.ContentType.change_cipher_spec,U=X[M.entity][M.expect];q in U?U[q](M,n):l.handleUnexpected(M,n)},u=function(M){var n=0,q=M.input,U=q.length();if(U<5)n=5-U;else{M.record={type:q.getByte(),version:{major:q.getByte(),minor:q.getByte()},length:q.getInt16(),fragment:e.util.createBuffer(),ready:!1};var Q=M.record.version.major===M.version.major;Q&&M.session&&M.session.version&&(Q=M.record.version.minor===M.version.minor),Q||M.error(M,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}})}return n},x=function(M){var n=0,q=M.input,U=q.length();if(U<M.record.length)n=M.record.length-U;else{M.record.fragment.putBytes(q.getBytes(M.record.length)),q.compact();var Q=M.state.current.read;Q.update(M,M.record)&&(M.fragmented!==null&&(M.fragmented.type===M.record.type?(M.fragmented.fragment.putBuffer(M.record.fragment),M.record=M.fragmented):M.error(M,{message:"Invalid fragmented record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})),M.record.ready=!0)}return n};return pe.handshake=function(M){if(pe.entity!==l.ConnectionEnd.client)pe.error(pe,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(pe.handshaking)pe.error(pe,{message:"Handshake already in progress.",fatal:!1});else{pe.fail&&!pe.open&&pe.handshakes===0&&(pe.fail=!1),pe.handshaking=!0,M=M||"";var n=null;M.length>0&&(pe.sessionCache&&(n=pe.sessionCache.getSession(M)),n===null&&(M="")),M.length===0&&pe.sessionCache&&(n=pe.sessionCache.getSession(),n!==null&&(M=n.id)),pe.session={id:M,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:e.md.md5.create(),sha1:e.md.sha1.create()},n&&(pe.version=n.version,pe.session.sp=n.sp),pe.session.sp.client_random=l.createRandom().getBytes(),pe.open=!0,l.queue(pe,l.createRecord(pe,{type:l.ContentType.handshake,data:l.createClientHello(pe)})),l.flush(pe)}},pe.process=function(M){var n=0;return M&&pe.input.putBytes(M),pe.fail||(pe.record!==null&&pe.record.ready&&pe.record.fragment.isEmpty()&&(pe.record=null),pe.record===null&&(n=u(pe)),!pe.fail&&pe.record!==null&&!pe.record.ready&&(n=x(pe)),!pe.fail&&pe.record!==null&&pe.record.ready&&ne(pe,pe.record)),n},pe.prepare=function(M){return l.queue(pe,l.createRecord(pe,{type:l.ContentType.application_data,data:e.util.createBuffer(M)})),l.flush(pe)},pe.prepareHeartbeatRequest=function(M,n){return M instanceof e.util.ByteBuffer&&(M=M.bytes()),typeof n>"u"&&(n=M.length),pe.expectedHeartbeatPayload=M,l.queue(pe,l.createRecord(pe,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_request,M,n)})),l.flush(pe)},pe.close=function(M){if(!pe.fail&&pe.sessionCache&&pe.session){var n={id:pe.session.id,version:pe.session.version,sp:pe.session.sp};n.sp.keys=null,pe.sessionCache.setSession(n.id,n)}pe.open&&(pe.open=!1,pe.input.clear(),(pe.isConnected||pe.handshaking)&&(pe.isConnected=pe.handshaking=!1,l.queue(pe,l.createAlert(pe,{level:l.Alert.Level.warning,description:l.Alert.Description.close_notify})),l.flush(pe)),pe.closed(pe)),pe.reset(M)},pe},tls_1=e.tls=e.tls||{};for(var Ee in l)typeof l[Ee]!="function"&&(e.tls[Ee]=l[Ee]);return e.tls.prf_tls1=t,e.tls.hmac_sha1=a,e.tls.createSessionCache=l.createSessionCache,e.tls.createConnection=l.createConnection,tls_1}var hasRequiredAesCipherSuites;function requireAesCipherSuites(){if(hasRequiredAesCipherSuites)return aesCipherSuites.exports;hasRequiredAesCipherSuites=1;var e=requireForge();requireAes(),requireTls();var t=aesCipherSuites.exports=e.tls;t.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(o){o.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,o.cipher_type=t.CipherType.block,o.enc_key_length=16,o.block_length=16,o.fixed_iv_length=16,o.record_iv_length=16,o.mac_algorithm=t.MACAlgorithm.hmac_sha1,o.mac_length=20,o.mac_key_length=20},initConnectionState:a},t.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(o){o.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,o.cipher_type=t.CipherType.block,o.enc_key_length=32,o.block_length=16,o.fixed_iv_length=16,o.record_iv_length=16,o.mac_algorithm=t.MACAlgorithm.hmac_sha1,o.mac_length=20,o.mac_key_length=20},initConnectionState:a};function a(o,s,h){var v=s.entity===e.tls.ConnectionEnd.client;o.read.cipherState={init:!1,cipher:e.cipher.createDecipher("AES-CBC",v?h.keys.server_write_key:h.keys.client_write_key),iv:v?h.keys.server_write_IV:h.keys.client_write_IV},o.write.cipherState={init:!1,cipher:e.cipher.createCipher("AES-CBC",v?h.keys.client_write_key:h.keys.server_write_key),iv:v?h.keys.client_write_IV:h.keys.server_write_IV},o.read.cipherFunction=c,o.write.cipherFunction=p,o.read.macLength=o.write.macLength=h.mac_length,o.read.macFunction=o.write.macFunction=t.hmac_sha1}function p(o,s){var h=!1,v=s.macFunction(s.macKey,s.sequenceNumber,o);o.fragment.putBytes(v),s.updateSequenceNumber();var b;o.version.minor===t.Versions.TLS_1_0.minor?b=s.cipherState.init?null:s.cipherState.iv:b=e.random.getBytesSync(16),s.cipherState.init=!0;var y=s.cipherState.cipher;return y.start({iv:b}),o.version.minor>=t.Versions.TLS_1_1.minor&&y.output.putBytes(b),y.update(o.fragment),y.finish(g)&&(o.fragment=y.output,o.length=o.fragment.length(),h=!0),h}function g(o,s,h){if(!h){var v=o-s.length()%o;s.fillWithByte(v-1,v)}return!0}function m(o,s,h){var v=!0;if(h){for(var b=s.length(),y=s.last(),O=b-1-y;O<b-1;++O)v=v&&s.at(O)==y;v&&s.truncate(y+1)}return v}function c(o,s){var h=!1,v;o.version.minor===t.Versions.TLS_1_0.minor?v=s.cipherState.init?null:s.cipherState.iv:v=o.fragment.getBytes(16),s.cipherState.init=!0;var b=s.cipherState.cipher;b.start({iv:v}),b.update(o.fragment),h=b.finish(m);var y=s.macLength,O=e.random.getBytesSync(y),w=b.output.length();w>=y?(o.fragment=b.output.getBytes(w-y),O=b.output.getBytes(y)):o.fragment=b.output.getBytes(),o.fragment=e.util.createBuffer(o.fragment),o.length=o.fragment.length();var I=s.macFunction(s.macKey,s.sequenceNumber,o);return s.updateSequenceNumber(),h=l(s.macKey,O,I)&&h,h}function l(o,s,h){var v=e.hmac.create();return v.start("SHA1",o),v.update(s),s=v.digest().getBytes(),v.start(null,null),v.update(h),h=v.digest().getBytes(),s===h}return aesCipherSuites.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512.exports;hasRequiredSha512=1;var e=requireForge();requireMd(),requireUtil$7();var t=sha512.exports=e.sha512=e.sha512||{};e.md.sha512=e.md.algorithms.sha512=t;var a=e.sha384=e.sha512.sha384=e.sha512.sha384||{};a.create=function(){return t.create("SHA-384")},e.md.sha384=e.md.algorithms.sha384=a,e.sha512.sha256=e.sha512.sha256||{create:function(){return t.create("SHA-512/256")}},e.md["sha512/256"]=e.md.algorithms["sha512/256"]=e.sha512.sha256,e.sha512.sha224=e.sha512.sha224||{create:function(){return t.create("SHA-512/224")}},e.md["sha512/224"]=e.md.algorithms["sha512/224"]=e.sha512.sha224,t.create=function(s){if(g||l(),typeof s>"u"&&(s="SHA-512"),!(s in c))throw new Error("Invalid SHA-512 algorithm: "+s);for(var h=c[s],v=null,b=e.util.createBuffer(),y=new Array(80),O=0;O<80;++O)y[O]=new Array(2);var w=64;switch(s){case"SHA-384":w=48;break;case"SHA-512/256":w=32;break;case"SHA-512/224":w=28;break}var I={algorithm:s.replace("-","").toLowerCase(),blockLength:128,digestLength:w,messageLength:0,fullMessageLength:null,messageLengthSize:16};return I.start=function(){I.messageLength=0,I.fullMessageLength=I.messageLength128=[];for(var _=I.messageLengthSize/4,T=0;T<_;++T)I.fullMessageLength.push(0);b=e.util.createBuffer(),v=new Array(h.length);for(var T=0;T<h.length;++T)v[T]=h[T].slice(0);return I},I.start(),I.update=function(_,T){T==="utf8"&&(_=e.util.encodeUtf8(_));var C=_.length;I.messageLength+=C,C=[C/4294967296>>>0,C>>>0];for(var N=I.fullMessageLength.length-1;N>=0;--N)I.fullMessageLength[N]+=C[1],C[1]=C[0]+(I.fullMessageLength[N]/4294967296>>>0),I.fullMessageLength[N]=I.fullMessageLength[N]>>>0,C[0]=C[1]/4294967296>>>0;return b.putBytes(_),o(v,y,b),(b.read>2048||b.length()===0)&&b.compact(),I},I.digest=function(){var _=e.util.createBuffer();_.putBytes(b.bytes());var T=I.fullMessageLength[I.fullMessageLength.length-1]+I.messageLengthSize,C=T&I.blockLength-1;_.putBytes(p.substr(0,I.blockLength-C));for(var N,L,D=I.fullMessageLength[0]*8,j=0;j<I.fullMessageLength.length-1;++j)N=I.fullMessageLength[j+1]*8,L=N/4294967296>>>0,D+=L,_.putInt32(D>>>0),D=N>>>0;_.putInt32(D);for(var k=new Array(v.length),j=0;j<v.length;++j)k[j]=v[j].slice(0);o(k,y,_);var V=e.util.createBuffer(),G;s==="SHA-512"?G=k.length:s==="SHA-384"?G=k.length-2:G=k.length-4;for(var j=0;j<G;++j)V.putInt32(k[j][0]),(j!==G-1||s!=="SHA-512/224")&&V.putInt32(k[j][1]);return V},I};var p=null,g=!1,m=null,c=null;function l(){p="",p+=e.util.fillString("\0",128),m=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],c={},c["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],g=!0}function o(s,h,v){for(var b,y,O,w,I,_,T,C,N,L,D,j,k,V,G,J,W,K,X,Y,te,oe,le,ee,se,de,he,ge,me,Oe,fe,_e,Ee,z,d,P=v.length();P>=128;){for(me=0;me<16;++me)h[me][0]=v.getInt32()>>>0,h[me][1]=v.getInt32()>>>0;for(;me<80;++me)_e=h[me-2],Oe=_e[0],fe=_e[1],b=((Oe>>>19|fe<<13)^(fe>>>29|Oe<<3)^Oe>>>6)>>>0,y=((Oe<<13|fe>>>19)^(fe<<3|Oe>>>29)^(Oe<<26|fe>>>6))>>>0,z=h[me-15],Oe=z[0],fe=z[1],O=((Oe>>>1|fe<<31)^(Oe>>>8|fe<<24)^Oe>>>7)>>>0,w=((Oe<<31|fe>>>1)^(Oe<<24|fe>>>8)^(Oe<<25|fe>>>7))>>>0,Ee=h[me-7],d=h[me-16],fe=y+Ee[1]+w+d[1],h[me][0]=b+Ee[0]+O+d[0]+(fe/4294967296>>>0)>>>0,h[me][1]=fe>>>0;for(k=s[0][0],V=s[0][1],G=s[1][0],J=s[1][1],W=s[2][0],K=s[2][1],X=s[3][0],Y=s[3][1],te=s[4][0],oe=s[4][1],le=s[5][0],ee=s[5][1],se=s[6][0],de=s[6][1],he=s[7][0],ge=s[7][1],me=0;me<80;++me)T=((te>>>14|oe<<18)^(te>>>18|oe<<14)^(oe>>>9|te<<23))>>>0,C=((te<<18|oe>>>14)^(te<<14|oe>>>18)^(oe<<23|te>>>9))>>>0,N=(se^te&(le^se))>>>0,L=(de^oe&(ee^de))>>>0,I=((k>>>28|V<<4)^(V>>>2|k<<30)^(V>>>7|k<<25))>>>0,_=((k<<4|V>>>28)^(V<<30|k>>>2)^(V<<25|k>>>7))>>>0,D=(k&G|W&(k^G))>>>0,j=(V&J|K&(V^J))>>>0,fe=ge+C+L+m[me][1]+h[me][1],b=he+T+N+m[me][0]+h[me][0]+(fe/4294967296>>>0)>>>0,y=fe>>>0,fe=_+j,O=I+D+(fe/4294967296>>>0)>>>0,w=fe>>>0,he=se,ge=de,se=le,de=ee,le=te,ee=oe,fe=Y+y,te=X+b+(fe/4294967296>>>0)>>>0,oe=fe>>>0,X=W,Y=K,W=G,K=J,G=k,J=V,fe=y+w,k=b+O+(fe/4294967296>>>0)>>>0,V=fe>>>0;fe=s[0][1]+V,s[0][0]=s[0][0]+k+(fe/4294967296>>>0)>>>0,s[0][1]=fe>>>0,fe=s[1][1]+J,s[1][0]=s[1][0]+G+(fe/4294967296>>>0)>>>0,s[1][1]=fe>>>0,fe=s[2][1]+K,s[2][0]=s[2][0]+W+(fe/4294967296>>>0)>>>0,s[2][1]=fe>>>0,fe=s[3][1]+Y,s[3][0]=s[3][0]+X+(fe/4294967296>>>0)>>>0,s[3][1]=fe>>>0,fe=s[4][1]+oe,s[4][0]=s[4][0]+te+(fe/4294967296>>>0)>>>0,s[4][1]=fe>>>0,fe=s[5][1]+ee,s[5][0]=s[5][0]+le+(fe/4294967296>>>0)>>>0,s[5][1]=fe>>>0,fe=s[6][1]+de,s[6][0]=s[6][0]+se+(fe/4294967296>>>0)>>>0,s[6][1]=fe>>>0,fe=s[7][1]+ge,s[7][0]=s[7][0]+he+(fe/4294967296>>>0)>>>0,s[7][1]=fe>>>0,P-=128}}return sha512.exports}var asn1Validator={},hasRequiredAsn1Validator;function requireAsn1Validator(){if(hasRequiredAsn1Validator)return asn1Validator;hasRequiredAsn1Validator=1;var e=requireForge();requireAsn1();var t=e.asn1;return asn1Validator.privateKeyValidator={name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},asn1Validator.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]},asn1Validator}var ed25519_1,hasRequiredEd25519;function requireEd25519(){if(hasRequiredEd25519)return ed25519_1;hasRequiredEd25519=1;var e=requireForge();requireJsbn(),requireRandom(),requireSha512(),requireUtil$7();var t=requireAsn1Validator(),a=t.publicKeyValidator,p=t.privateKeyValidator;if(typeof g>"u")var g=e.jsbn.BigInteger;var m=e.util.ByteBuffer,c=typeof Buffer>"u"?Uint8Array:Buffer;e.pki=e.pki||{},ed25519_1=e.pki.ed25519=e.ed25519=e.ed25519||{};var l=e.ed25519;l.constants={},l.constants.PUBLIC_KEY_BYTE_LENGTH=32,l.constants.PRIVATE_KEY_BYTE_LENGTH=64,l.constants.SEED_BYTE_LENGTH=32,l.constants.SIGN_BYTE_LENGTH=64,l.constants.HASH_BYTE_LENGTH=64,l.generateKeyPair=function(z){z=z||{};var d=z.seed;if(d===void 0)d=e.random.getBytesSync(l.constants.SEED_BYTE_LENGTH);else if(typeof d=="string"){if(d.length!==l.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+l.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(d instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');d=o({message:d,encoding:"binary"});for(var P=new c(l.constants.PUBLIC_KEY_BYTE_LENGTH),A=new c(l.constants.PRIVATE_KEY_BYTE_LENGTH),$=0;$<32;++$)A[$]=d[$];return T(P,A),{publicKey:P,privateKey:A}},l.privateKeyFromAsn1=function(z){var d={},P=[],A=e.asn1.validate(z,p,d,P);if(!A){var $=new Error("Invalid Key.");throw $.errors=P,$}var ie=e.asn1.derToOid(d.privateKeyOid),pe=e.oids.EdDSA25519;if(ie!==pe)throw new Error('Invalid OID "'+ie+'"; OID must be "'+pe+'".');var ne=d.privateKey,u=o({message:e.asn1.fromDer(ne).value,encoding:"binary"});return{privateKeyBytes:u}},l.publicKeyFromAsn1=function(z){var d={},P=[],A=e.asn1.validate(z,a,d,P);if(!A){var $=new Error("Invalid Key.");throw $.errors=P,$}var ie=e.asn1.derToOid(d.publicKeyOid),pe=e.oids.EdDSA25519;if(ie!==pe)throw new Error('Invalid OID "'+ie+'"; OID must be "'+pe+'".');var ne=d.ed25519PublicKey;if(ne.length!==l.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return o({message:ne,encoding:"binary"})},l.publicKeyFromPrivateKey=function(z){z=z||{};var d=o({message:z.privateKey,encoding:"binary"});if(d.length!==l.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+l.constants.PRIVATE_KEY_BYTE_LENGTH);for(var P=new c(l.constants.PUBLIC_KEY_BYTE_LENGTH),A=0;A<P.length;++A)P[A]=d[32+A];return P},l.sign=function(z){z=z||{};var d=o(z),P=o({message:z.privateKey,encoding:"binary"});if(P.length===l.constants.SEED_BYTE_LENGTH){var A=l.generateKeyPair({seed:P});P=A.privateKey}else if(P.length!==l.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+l.constants.SEED_BYTE_LENGTH+" or "+l.constants.PRIVATE_KEY_BYTE_LENGTH);var $=new c(l.constants.SIGN_BYTE_LENGTH+d.length);C($,d,d.length,P);for(var ie=new c(l.constants.SIGN_BYTE_LENGTH),pe=0;pe<ie.length;++pe)ie[pe]=$[pe];return ie},l.verify=function(z){z=z||{};var d=o(z);if(z.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var P=o({message:z.signature,encoding:"binary"});if(P.length!==l.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+l.constants.SIGN_BYTE_LENGTH);var A=o({message:z.publicKey,encoding:"binary"});if(A.length!==l.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+l.constants.PUBLIC_KEY_BYTE_LENGTH);var $=new c(l.constants.SIGN_BYTE_LENGTH+d.length),ie=new c(l.constants.SIGN_BYTE_LENGTH+d.length),pe;for(pe=0;pe<l.constants.SIGN_BYTE_LENGTH;++pe)$[pe]=P[pe];for(pe=0;pe<d.length;++pe)$[pe+l.constants.SIGN_BYTE_LENGTH]=d[pe];return N(ie,$,$.length,A)>=0};function o(z){var d=z.message;if(d instanceof Uint8Array||d instanceof c)return d;var P=z.encoding;if(d===void 0)if(z.md)d=z.md.digest().getBytes(),P="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof d=="string"&&!P)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof d=="string"){if(typeof Buffer<"u")return Buffer.from(d,P);d=new m(d,P)}else if(!(d instanceof m))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var A=new c(d.length()),$=0;$<A.length;++$)A[$]=d.at($);return A}var s=me(),h=me([1]),v=me([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),b=me([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=me([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),O=me([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),I=me([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(z,d){var P=e.md.sha512.create(),A=new m(z);P.update(A.getBytes(d),"binary");var $=P.digest().getBytes();if(typeof Buffer<"u")return Buffer.from($,"binary");for(var ie=new c(l.constants.HASH_BYTE_LENGTH),pe=0;pe<64;++pe)ie[pe]=$.charCodeAt(pe);return ie}function T(z,d){var P=[me(),me(),me(),me()],A,$=_(d,32);for($[0]&=248,$[31]&=127,$[31]|=64,ee(P,$),V(z,P),A=0;A<32;++A)d[A+32]=z[A];return 0}function C(z,d,P,A){var $,ie,pe=new Float64Array(64),ne=[me(),me(),me(),me()],u=_(A,32);u[0]&=248,u[31]&=127,u[31]|=64;var x=P+64;for($=0;$<P;++$)z[64+$]=d[$];for($=0;$<32;++$)z[32+$]=u[32+$];var M=_(z.subarray(32),P+32);for(D(M),ee(ne,M),V(z,ne),$=32;$<64;++$)z[$]=A[$];var n=_(z,P+64);for(D(n),$=32;$<64;++$)pe[$]=0;for($=0;$<32;++$)pe[$]=M[$];for($=0;$<32;++$)for(ie=0;ie<32;ie++)pe[$+ie]+=n[$]*u[ie];return L(z.subarray(32),pe),x}function N(z,d,P,A){var $,ie,pe=new c(32),ne=[me(),me(),me(),me()],u=[me(),me(),me(),me()];if(ie=-1,P<64||J(u,A))return-1;for($=0;$<P;++$)z[$]=d[$];for($=0;$<32;++$)z[$+32]=A[$];var x=_(z,P);if(D(x),le(ne,u,x),ee(u,d.subarray(32)),j(ne,u),V(pe,ne),P-=64,Y(d,0,pe,0)){for($=0;$<P;++$)z[$]=0;return-1}for($=0;$<P;++$)z[$]=d[$+64];return ie=P,ie}function L(z,d){var P,A,$,ie;for(A=63;A>=32;--A){for(P=0,$=A-32,ie=A-12;$<ie;++$)d[$]+=P-16*d[A]*w[$-(A-32)],P=d[$]+128>>8,d[$]-=P*256;d[$]+=P,d[A]=0}for(P=0,$=0;$<32;++$)d[$]+=P-(d[31]>>4)*w[$],P=d[$]>>8,d[$]&=255;for($=0;$<32;++$)d[$]-=P*w[$];for(A=0;A<32;++A)d[A+1]+=d[A]>>8,z[A]=d[A]&255}function D(z){for(var d=new Float64Array(64),P=0;P<64;++P)d[P]=z[P],z[P]=0;L(z,d)}function j(z,d){var P=me(),A=me(),$=me(),ie=me(),pe=me(),ne=me(),u=me(),x=me(),M=me();fe(P,z[1],z[0]),fe(M,d[1],d[0]),Ee(P,P,M),Oe(A,z[0],z[1]),Oe(M,d[0],d[1]),Ee(A,A,M),Ee($,z[3],d[3]),Ee($,$,b),Ee(ie,z[2],d[2]),Oe(ie,ie,ie),fe(pe,A,P),fe(ne,ie,$),Oe(u,ie,$),Oe(x,A,P),Ee(z[0],pe,ne),Ee(z[1],x,u),Ee(z[2],u,ne),Ee(z[3],pe,x)}function k(z,d,P){for(var A=0;A<4;++A)ge(z[A],d[A],P)}function V(z,d){var P=me(),A=me(),$=me();de($,d[2]),Ee(P,d[0],$),Ee(A,d[1],$),G(z,A),z[31]^=oe(P)<<7}function G(z,d){var P,A,$,ie=me(),pe=me();for(P=0;P<16;++P)pe[P]=d[P];for(he(pe),he(pe),he(pe),A=0;A<2;++A){for(ie[0]=pe[0]-65517,P=1;P<15;++P)ie[P]=pe[P]-65535-(ie[P-1]>>16&1),ie[P-1]&=65535;ie[15]=pe[15]-32767-(ie[14]>>16&1),$=ie[15]>>16&1,ie[14]&=65535,ge(pe,ie,1-$)}for(P=0;P<16;P++)z[2*P]=pe[P]&255,z[2*P+1]=pe[P]>>8}function J(z,d){var P=me(),A=me(),$=me(),ie=me(),pe=me(),ne=me(),u=me();return se(z[2],h),W(z[1],d),_e($,z[1]),Ee(ie,$,v),fe($,$,z[2]),Oe(ie,z[2],ie),_e(pe,ie),_e(ne,pe),Ee(u,ne,pe),Ee(P,u,$),Ee(P,P,ie),K(P,P),Ee(P,P,$),Ee(P,P,ie),Ee(P,P,ie),Ee(z[0],P,ie),_e(A,z[0]),Ee(A,A,ie),X(A,$)&&Ee(z[0],z[0],I),_e(A,z[0]),Ee(A,A,ie),X(A,$)?-1:(oe(z[0])===d[31]>>7&&fe(z[0],s,z[0]),Ee(z[3],z[0],z[1]),0)}function W(z,d){var P;for(P=0;P<16;++P)z[P]=d[2*P]+(d[2*P+1]<<8);z[15]&=32767}function K(z,d){var P=me(),A;for(A=0;A<16;++A)P[A]=d[A];for(A=250;A>=0;--A)_e(P,P),A!==1&&Ee(P,P,d);for(A=0;A<16;++A)z[A]=P[A]}function X(z,d){var P=new c(32),A=new c(32);return G(P,z),G(A,d),Y(P,0,A,0)}function Y(z,d,P,A){return te(z,d,P,A,32)}function te(z,d,P,A,$){var ie,pe=0;for(ie=0;ie<$;++ie)pe|=z[d+ie]^P[A+ie];return(1&pe-1>>>8)-1}function oe(z){var d=new c(32);return G(d,z),d[0]&1}function le(z,d,P){var A,$;for(se(z[0],s),se(z[1],h),se(z[2],h),se(z[3],s),$=255;$>=0;--$)A=P[$/8|0]>>($&7)&1,k(z,d,A),j(d,z),j(z,z),k(z,d,A)}function ee(z,d){var P=[me(),me(),me(),me()];se(P[0],y),se(P[1],O),se(P[2],h),Ee(P[3],y,O),le(z,P,d)}function se(z,d){var P;for(P=0;P<16;P++)z[P]=d[P]|0}function de(z,d){var P=me(),A;for(A=0;A<16;++A)P[A]=d[A];for(A=253;A>=0;--A)_e(P,P),A!==2&&A!==4&&Ee(P,P,d);for(A=0;A<16;++A)z[A]=P[A]}function he(z){var d,P,A=1;for(d=0;d<16;++d)P=z[d]+A+65535,A=Math.floor(P/65536),z[d]=P-A*65536;z[0]+=A-1+37*(A-1)}function ge(z,d,P){for(var A,$=~(P-1),ie=0;ie<16;++ie)A=$&(z[ie]^d[ie]),z[ie]^=A,d[ie]^=A}function me(z){var d,P=new Float64Array(16);if(z)for(d=0;d<z.length;++d)P[d]=z[d];return P}function Oe(z,d,P){for(var A=0;A<16;++A)z[A]=d[A]+P[A]}function fe(z,d,P){for(var A=0;A<16;++A)z[A]=d[A]-P[A]}function _e(z,d){Ee(z,d,d)}function Ee(z,d,P){var A,$,ie=0,pe=0,ne=0,u=0,x=0,M=0,n=0,q=0,U=0,Q=0,ye=0,Ie=0,je=0,ke=0,ze=0,it=0,dt=0,_t=0,St=0,lt=0,Ve=0,Me=0,$e=0,Je=0,Ze=0,st=0,mt=0,bt=0,yt=0,Jt=0,Gt=0,Nt=P[0],Lt=P[1],Pt=P[2],Dt=P[3],kt=P[4],Et=P[5],Ot=P[6],jt=P[7],qt=P[8],vt=P[9],Tt=P[10],At=P[11],Pe=P[12],Ce=P[13],xe=P[14],Ue=P[15];A=d[0],ie+=A*Nt,pe+=A*Lt,ne+=A*Pt,u+=A*Dt,x+=A*kt,M+=A*Et,n+=A*Ot,q+=A*jt,U+=A*qt,Q+=A*vt,ye+=A*Tt,Ie+=A*At,je+=A*Pe,ke+=A*Ce,ze+=A*xe,it+=A*Ue,A=d[1],pe+=A*Nt,ne+=A*Lt,u+=A*Pt,x+=A*Dt,M+=A*kt,n+=A*Et,q+=A*Ot,U+=A*jt,Q+=A*qt,ye+=A*vt,Ie+=A*Tt,je+=A*At,ke+=A*Pe,ze+=A*Ce,it+=A*xe,dt+=A*Ue,A=d[2],ne+=A*Nt,u+=A*Lt,x+=A*Pt,M+=A*Dt,n+=A*kt,q+=A*Et,U+=A*Ot,Q+=A*jt,ye+=A*qt,Ie+=A*vt,je+=A*Tt,ke+=A*At,ze+=A*Pe,it+=A*Ce,dt+=A*xe,_t+=A*Ue,A=d[3],u+=A*Nt,x+=A*Lt,M+=A*Pt,n+=A*Dt,q+=A*kt,U+=A*Et,Q+=A*Ot,ye+=A*jt,Ie+=A*qt,je+=A*vt,ke+=A*Tt,ze+=A*At,it+=A*Pe,dt+=A*Ce,_t+=A*xe,St+=A*Ue,A=d[4],x+=A*Nt,M+=A*Lt,n+=A*Pt,q+=A*Dt,U+=A*kt,Q+=A*Et,ye+=A*Ot,Ie+=A*jt,je+=A*qt,ke+=A*vt,ze+=A*Tt,it+=A*At,dt+=A*Pe,_t+=A*Ce,St+=A*xe,lt+=A*Ue,A=d[5],M+=A*Nt,n+=A*Lt,q+=A*Pt,U+=A*Dt,Q+=A*kt,ye+=A*Et,Ie+=A*Ot,je+=A*jt,ke+=A*qt,ze+=A*vt,it+=A*Tt,dt+=A*At,_t+=A*Pe,St+=A*Ce,lt+=A*xe,Ve+=A*Ue,A=d[6],n+=A*Nt,q+=A*Lt,U+=A*Pt,Q+=A*Dt,ye+=A*kt,Ie+=A*Et,je+=A*Ot,ke+=A*jt,ze+=A*qt,it+=A*vt,dt+=A*Tt,_t+=A*At,St+=A*Pe,lt+=A*Ce,Ve+=A*xe,Me+=A*Ue,A=d[7],q+=A*Nt,U+=A*Lt,Q+=A*Pt,ye+=A*Dt,Ie+=A*kt,je+=A*Et,ke+=A*Ot,ze+=A*jt,it+=A*qt,dt+=A*vt,_t+=A*Tt,St+=A*At,lt+=A*Pe,Ve+=A*Ce,Me+=A*xe,$e+=A*Ue,A=d[8],U+=A*Nt,Q+=A*Lt,ye+=A*Pt,Ie+=A*Dt,je+=A*kt,ke+=A*Et,ze+=A*Ot,it+=A*jt,dt+=A*qt,_t+=A*vt,St+=A*Tt,lt+=A*At,Ve+=A*Pe,Me+=A*Ce,$e+=A*xe,Je+=A*Ue,A=d[9],Q+=A*Nt,ye+=A*Lt,Ie+=A*Pt,je+=A*Dt,ke+=A*kt,ze+=A*Et,it+=A*Ot,dt+=A*jt,_t+=A*qt,St+=A*vt,lt+=A*Tt,Ve+=A*At,Me+=A*Pe,$e+=A*Ce,Je+=A*xe,Ze+=A*Ue,A=d[10],ye+=A*Nt,Ie+=A*Lt,je+=A*Pt,ke+=A*Dt,ze+=A*kt,it+=A*Et,dt+=A*Ot,_t+=A*jt,St+=A*qt,lt+=A*vt,Ve+=A*Tt,Me+=A*At,$e+=A*Pe,Je+=A*Ce,Ze+=A*xe,st+=A*Ue,A=d[11],Ie+=A*Nt,je+=A*Lt,ke+=A*Pt,ze+=A*Dt,it+=A*kt,dt+=A*Et,_t+=A*Ot,St+=A*jt,lt+=A*qt,Ve+=A*vt,Me+=A*Tt,$e+=A*At,Je+=A*Pe,Ze+=A*Ce,st+=A*xe,mt+=A*Ue,A=d[12],je+=A*Nt,ke+=A*Lt,ze+=A*Pt,it+=A*Dt,dt+=A*kt,_t+=A*Et,St+=A*Ot,lt+=A*jt,Ve+=A*qt,Me+=A*vt,$e+=A*Tt,Je+=A*At,Ze+=A*Pe,st+=A*Ce,mt+=A*xe,bt+=A*Ue,A=d[13],ke+=A*Nt,ze+=A*Lt,it+=A*Pt,dt+=A*Dt,_t+=A*kt,St+=A*Et,lt+=A*Ot,Ve+=A*jt,Me+=A*qt,$e+=A*vt,Je+=A*Tt,Ze+=A*At,st+=A*Pe,mt+=A*Ce,bt+=A*xe,yt+=A*Ue,A=d[14],ze+=A*Nt,it+=A*Lt,dt+=A*Pt,_t+=A*Dt,St+=A*kt,lt+=A*Et,Ve+=A*Ot,Me+=A*jt,$e+=A*qt,Je+=A*vt,Ze+=A*Tt,st+=A*At,mt+=A*Pe,bt+=A*Ce,yt+=A*xe,Jt+=A*Ue,A=d[15],it+=A*Nt,dt+=A*Lt,_t+=A*Pt,St+=A*Dt,lt+=A*kt,Ve+=A*Et,Me+=A*Ot,$e+=A*jt,Je+=A*qt,Ze+=A*vt,st+=A*Tt,mt+=A*At,bt+=A*Pe,yt+=A*Ce,Jt+=A*xe,Gt+=A*Ue,ie+=38*dt,pe+=38*_t,ne+=38*St,u+=38*lt,x+=38*Ve,M+=38*Me,n+=38*$e,q+=38*Je,U+=38*Ze,Q+=38*st,ye+=38*mt,Ie+=38*bt,je+=38*yt,ke+=38*Jt,ze+=38*Gt,$=1,A=ie+$+65535,$=Math.floor(A/65536),ie=A-$*65536,A=pe+$+65535,$=Math.floor(A/65536),pe=A-$*65536,A=ne+$+65535,$=Math.floor(A/65536),ne=A-$*65536,A=u+$+65535,$=Math.floor(A/65536),u=A-$*65536,A=x+$+65535,$=Math.floor(A/65536),x=A-$*65536,A=M+$+65535,$=Math.floor(A/65536),M=A-$*65536,A=n+$+65535,$=Math.floor(A/65536),n=A-$*65536,A=q+$+65535,$=Math.floor(A/65536),q=A-$*65536,A=U+$+65535,$=Math.floor(A/65536),U=A-$*65536,A=Q+$+65535,$=Math.floor(A/65536),Q=A-$*65536,A=ye+$+65535,$=Math.floor(A/65536),ye=A-$*65536,A=Ie+$+65535,$=Math.floor(A/65536),Ie=A-$*65536,A=je+$+65535,$=Math.floor(A/65536),je=A-$*65536,A=ke+$+65535,$=Math.floor(A/65536),ke=A-$*65536,A=ze+$+65535,$=Math.floor(A/65536),ze=A-$*65536,A=it+$+65535,$=Math.floor(A/65536),it=A-$*65536,ie+=$-1+37*($-1),$=1,A=ie+$+65535,$=Math.floor(A/65536),ie=A-$*65536,A=pe+$+65535,$=Math.floor(A/65536),pe=A-$*65536,A=ne+$+65535,$=Math.floor(A/65536),ne=A-$*65536,A=u+$+65535,$=Math.floor(A/65536),u=A-$*65536,A=x+$+65535,$=Math.floor(A/65536),x=A-$*65536,A=M+$+65535,$=Math.floor(A/65536),M=A-$*65536,A=n+$+65535,$=Math.floor(A/65536),n=A-$*65536,A=q+$+65535,$=Math.floor(A/65536),q=A-$*65536,A=U+$+65535,$=Math.floor(A/65536),U=A-$*65536,A=Q+$+65535,$=Math.floor(A/65536),Q=A-$*65536,A=ye+$+65535,$=Math.floor(A/65536),ye=A-$*65536,A=Ie+$+65535,$=Math.floor(A/65536),Ie=A-$*65536,A=je+$+65535,$=Math.floor(A/65536),je=A-$*65536,A=ke+$+65535,$=Math.floor(A/65536),ke=A-$*65536,A=ze+$+65535,$=Math.floor(A/65536),ze=A-$*65536,A=it+$+65535,$=Math.floor(A/65536),it=A-$*65536,ie+=$-1+37*($-1),z[0]=ie,z[1]=pe,z[2]=ne,z[3]=u,z[4]=x,z[5]=M,z[6]=n,z[7]=q,z[8]=U,z[9]=Q,z[10]=ye,z[11]=Ie,z[12]=je,z[13]=ke,z[14]=ze,z[15]=it}return ed25519_1}var kem,hasRequiredKem;function requireKem(){if(hasRequiredKem)return kem;hasRequiredKem=1;var e=requireForge();requireUtil$7(),requireRandom(),requireJsbn(),kem=e.kem=e.kem||{};var t=e.jsbn.BigInteger;e.kem.rsa={},e.kem.rsa.create=function(p,g){g=g||{};var m=g.prng||e.random,c={};return c.encrypt=function(l,o){var s=Math.ceil(l.n.bitLength()/8),h;do h=new t(e.util.bytesToHex(m.getBytesSync(s)),16).mod(l.n);while(h.compareTo(t.ONE)<=0);h=e.util.hexToBytes(h.toString(16));var v=s-h.length;v>0&&(h=e.util.fillString("\0",v)+h);var b=l.encrypt(h,"NONE"),y=p.generate(h,o);return{encapsulation:b,key:y}},c.decrypt=function(l,o,s){var h=l.decrypt(o,"NONE");return p.generate(h,s)},c},e.kem.kdf1=function(p,g){a(this,p,0,g||p.digestLength)},e.kem.kdf2=function(p,g){a(this,p,1,g||p.digestLength)};function a(p,g,m,c){p.generate=function(l,o){for(var s=new e.util.ByteBuffer,h=Math.ceil(o/c)+m,v=new e.util.ByteBuffer,b=m;b<h;++b){v.putInt32(b),g.start(),g.update(l+v.getBytes());var y=g.digest();s.putBytes(y.getBytes(c))}return s.truncate(s.length()-o),s.getBytes()}}return kem}var log,hasRequiredLog;function requireLog(){if(hasRequiredLog)return log;hasRequiredLog=1;var e=requireForge();requireUtil$7(),log=e.log=e.log||{},e.log.levels=["none","error","warning","info","debug","verbose","max"];var t={},a=[],p=null;e.log.LEVEL_LOCKED=2,e.log.NO_LEVEL_CHECK=4,e.log.INTERPOLATE=8;for(var g=0;g<e.log.levels.length;++g){var m=e.log.levels[g];t[m]={index:g,name:m.toUpperCase()}}e.log.logMessage=function(b){for(var y=t[b.level].index,O=0;O<a.length;++O){var w=a[O];if(w.flags&e.log.NO_LEVEL_CHECK)w.f(b);else{var I=t[w.level].index;y<=I&&w.f(w,b)}}},e.log.prepareStandard=function(b){"standard"in b||(b.standard=t[b.level].name+" ["+b.category+"] "+b.message)},e.log.prepareFull=function(b){if(!("full"in b)){var y=[b.message];y=y.concat([]),b.full=e.util.format.apply(this,y)}},e.log.prepareStandardFull=function(b){"standardFull"in b||(e.log.prepareStandard(b),b.standardFull=b.standard)};for(var c=["error","warning","info","debug","verbose"],g=0;g<c.length;++g)(function(y){e.log[y]=function(O,w){var I=Array.prototype.slice.call(arguments).slice(2),_={timestamp:new Date,level:y,category:O,message:w,arguments:I};e.log.logMessage(_)}})(c[g]);if(e.log.makeLogger=function(b){var y={flags:0,f:b};return e.log.setLevel(y,"none"),y},e.log.setLevel=function(b,y){var O=!1;if(b&&!(b.flags&e.log.LEVEL_LOCKED))for(var w=0;w<e.log.levels.length;++w){var I=e.log.levels[w];if(y==I){b.level=y,O=!0;break}}return O},e.log.lock=function(b,y){typeof y>"u"||y?b.flags|=e.log.LEVEL_LOCKED:b.flags&=~e.log.LEVEL_LOCKED},e.log.addLogger=function(b){a.push(b)},typeof console<"u"&&"log"in console){var l;if(console.error&&console.warn&&console.info&&console.debug){var o={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},s=function(b,y){e.log.prepareStandard(y);var O=o[y.level],w=[y.standard];w=w.concat(y.arguments.slice()),O.apply(console,w)};l=e.log.makeLogger(s)}else{var s=function(y,O){e.log.prepareStandardFull(O),console.log(O.standardFull)};l=e.log.makeLogger(s)}e.log.setLevel(l,"debug"),e.log.addLogger(l),p=l}else console={log:function(){}};if(p!==null&&typeof window<"u"&&window.location){var h=new URL(window.location.href).searchParams;if(h.has("console.level")&&e.log.setLevel(p,h.get("console.level").slice(-1)[0]),h.has("console.lock")){var v=h.get("console.lock").slice(-1)[0];v=="true"&&e.log.lock(p)}}return e.log.consoleLogger=p,log}var md_all,hasRequiredMd_all;function requireMd_all(){return hasRequiredMd_all||(hasRequiredMd_all=1,md_all=requireMd(),requireMd5$2(),requireSha1$2(),requireSha256(),requireSha512()),md_all}var pkcs7={exports:{}},hasRequiredPkcs7;function requirePkcs7(){if(hasRequiredPkcs7)return pkcs7.exports;hasRequiredPkcs7=1;var e=requireForge();requireAes(),requireAsn1(),requireDes(),requireOids(),requirePem(),requirePkcs7asn1(),requireRandom(),requireUtil$7(),requireX509();var t=e.asn1,a=pkcs7.exports=e.pkcs7=e.pkcs7||{};a.messageFromPem=function(y){var O=e.pem.decode(y)[0];if(O.type!=="PKCS7"){var w=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw w.headerType=O.type,w}if(O.procType&&O.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var I=t.fromDer(O.body);return a.messageFromAsn1(I)},a.messageToPem=function(y,O){var w={type:"PKCS7",body:t.toDer(y.toAsn1()).getBytes()};return e.pem.encode(w,{maxline:O})},a.messageFromAsn1=function(y){var O={},w=[];if(!t.validate(y,a.asn1.contentInfoValidator,O,w)){var I=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw I.errors=w,I}var _=t.derToOid(O.contentType),T;switch(_){case e.pki.oids.envelopedData:T=a.createEnvelopedData();break;case e.pki.oids.encryptedData:T=a.createEncryptedData();break;case e.pki.oids.signedData:T=a.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+_+" is not (yet) supported.")}return T.fromAsn1(O.content.value[0]),T},a.createSignedData=function(){var y=null;return y={type:e.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(I){if(v(y,I,a.asn1.signedDataValidator),y.certificates=[],y.crls=[],y.digestAlgorithmIdentifiers=[],y.contentInfo=null,y.signerInfos=[],y.rawCapture.certificates)for(var _=y.rawCapture.certificates.value,T=0;T<_.length;++T)y.certificates.push(e.pki.certificateFromAsn1(_[T]))},toAsn1:function(){y.contentInfo||y.sign();for(var I=[],_=0;_<y.certificates.length;++_)I.push(e.pki.certificateToAsn1(y.certificates[_]));var T=[],C=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(y.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,y.digestAlgorithmIdentifiers),y.contentInfo])]);return I.length>0&&C.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,I)),T.length>0&&C.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,T)),C.value[0].value.push(t.create(t.Class.UNIVERSAL,t.Type.SET,!0,y.signerInfos)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(y.type).getBytes()),C])},addSigner:function(I){var _=I.issuer,T=I.serialNumber;if(I.certificate){var C=I.certificate;typeof C=="string"&&(C=e.pki.certificateFromPem(C)),_=C.issuer.attributes,T=C.serialNumber}var N=I.key;if(!N)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof N=="string"&&(N=e.pki.privateKeyFromPem(N));var L=I.digestAlgorithm||e.pki.oids.sha1;switch(L){case e.pki.oids.sha1:case e.pki.oids.sha256:case e.pki.oids.sha384:case e.pki.oids.sha512:case e.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+L)}var D=I.authenticatedAttributes||[];if(D.length>0){for(var j=!1,k=!1,V=0;V<D.length;++V){var G=D[V];if(!j&&G.type===e.pki.oids.contentType){if(j=!0,k)break;continue}if(!k&&G.type===e.pki.oids.messageDigest){if(k=!0,j)break;continue}}if(!j||!k)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}y.signers.push({key:N,version:1,issuer:_,serialNumber:T,digestAlgorithm:L,signatureAlgorithm:e.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:D,unauthenticatedAttributes:[]})},sign:function(I){if(I=I||{},(typeof y.content!="object"||y.contentInfo===null)&&(y.contentInfo=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.pki.oids.data).getBytes())]),"content"in y)){var _;y.content instanceof e.util.ByteBuffer?_=y.content.bytes():typeof y.content=="string"&&(_=e.util.encodeUtf8(y.content)),I.detached?y.detachedContent=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,_):y.contentInfo.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,_)]))}if(y.signers.length!==0){var T=O();w(T)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(I){typeof I=="string"&&(I=e.pki.certificateFromPem(I)),y.certificates.push(I)},addCertificateRevokationList:function(I){throw new Error("PKCS#7 CRL support not yet implemented.")}},y;function O(){for(var I={},_=0;_<y.signers.length;++_){var T=y.signers[_],C=T.digestAlgorithm;C in I||(I[C]=e.md[e.pki.oids[C]].create()),T.authenticatedAttributes.length===0?T.md=I[C]:T.md=e.md[e.pki.oids[C]].create()}y.digestAlgorithmIdentifiers=[];for(var C in I)y.digestAlgorithmIdentifiers.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(C).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]));return I}function w(I){var _;if(y.detachedContent?_=y.detachedContent:(_=y.contentInfo.value[1],_=_.value[0]),!_)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var T=t.derToOid(y.contentInfo.value[0].value),C=t.toDer(_);C.getByte(),t.getBerValueLength(C),C=C.getBytes();for(var N in I)I[N].start().update(C);for(var L=new Date,D=0;D<y.signers.length;++D){var j=y.signers[D];if(j.authenticatedAttributes.length===0){if(T!==e.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{j.authenticatedAttributesAsn1=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var k=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[]),V=0;V<j.authenticatedAttributes.length;++V){var G=j.authenticatedAttributes[V];G.type===e.pki.oids.messageDigest?G.value=I[j.digestAlgorithm].digest():G.type===e.pki.oids.signingTime&&(G.value||(G.value=L)),k.value.push(s(G)),j.authenticatedAttributesAsn1.value.push(s(G))}C=t.toDer(k).getBytes(),j.md.start().update(C)}j.signature=j.key.sign(j.md,"RSASSA-PKCS1-V1_5")}y.signerInfos=o(y.signers)}},a.createEncryptedData=function(){var y=null;return y={type:e.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(O){v(y,O,a.asn1.encryptedDataValidator)},decrypt:function(O){O!==void 0&&(y.encryptedContent.key=O),b(y)}},y},a.createEnvelopedData=function(){var y=null;return y={type:e.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(O){var w=v(y,O,a.asn1.envelopedDataValidator);y.recipients=m(w.recipientInfos.value)},toAsn1:function(){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(y.type).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(y.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,c(y.recipients)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,h(y.encryptedContent))])])])},findRecipient:function(O){for(var w=O.issuer.attributes,I=0;I<y.recipients.length;++I){var _=y.recipients[I],T=_.issuer;if(_.serialNumber===O.serialNumber&&T.length===w.length){for(var C=!0,N=0;N<w.length;++N)if(T[N].type!==w[N].type||T[N].value!==w[N].value){C=!1;break}if(C)return _}}return null},decrypt:function(O,w){if(y.encryptedContent.key===void 0&&O!==void 0&&w!==void 0)switch(O.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:case e.pki.oids.desCBC:var I=w.decrypt(O.encryptedContent.content);y.encryptedContent.key=e.util.createBuffer(I);break;default:throw new Error("Unsupported asymmetric cipher, OID "+O.encryptedContent.algorithm)}b(y)},addRecipient:function(O){y.recipients.push({version:0,issuer:O.issuer.attributes,serialNumber:O.serialNumber,encryptedContent:{algorithm:e.pki.oids.rsaEncryption,key:O.publicKey}})},encrypt:function(O,w){if(y.encryptedContent.content===void 0){w=w||y.encryptedContent.algorithm,O=O||y.encryptedContent.key;var I,_,T;switch(w){case e.pki.oids["aes128-CBC"]:I=16,_=16,T=e.aes.createEncryptionCipher;break;case e.pki.oids["aes192-CBC"]:I=24,_=16,T=e.aes.createEncryptionCipher;break;case e.pki.oids["aes256-CBC"]:I=32,_=16,T=e.aes.createEncryptionCipher;break;case e.pki.oids["des-EDE3-CBC"]:I=24,_=8,T=e.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+w)}if(O===void 0)O=e.util.createBuffer(e.random.getBytes(I));else if(O.length()!=I)throw new Error("Symmetric key has wrong length; got "+O.length()+" bytes, expected "+I+".");y.encryptedContent.algorithm=w,y.encryptedContent.key=O,y.encryptedContent.parameter=e.util.createBuffer(e.random.getBytes(_));var C=T(O);if(C.start(y.encryptedContent.parameter.copy()),C.update(y.content),!C.finish())throw new Error("Symmetric encryption failed.");y.encryptedContent.content=C.output}for(var N=0;N<y.recipients.length;++N){var L=y.recipients[N];if(L.encryptedContent.content===void 0)if(L.encryptedContent.algorithm===e.pki.oids.rsaEncryption)L.encryptedContent.content=L.encryptedContent.key.encrypt(y.encryptedContent.key.data);else throw new Error("Unsupported asymmetric cipher, OID "+L.encryptedContent.algorithm)}}},y};function p(y){var O={},w=[];if(!t.validate(y,a.asn1.recipientInfoValidator,O,w)){var I=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw I.errors=w,I}return{version:O.version.charCodeAt(0),issuer:e.pki.RDNAttributesAsArray(O.issuer),serialNumber:e.util.createBuffer(O.serial).toHex(),encryptedContent:{algorithm:t.derToOid(O.encAlgorithm),parameter:O.encParameter?O.encParameter.value:void 0,content:O.encKey}}}function g(y){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(y.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:y.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(y.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(y.encryptedContent.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,y.encryptedContent.content)])}function m(y){for(var O=[],w=0;w<y.length;++w)O.push(p(y[w]));return O}function c(y){for(var O=[],w=0;w<y.length;++w)O.push(g(y[w]));return O}function l(y){var O=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(y.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:y.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(y.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(y.digestAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])]);if(y.authenticatedAttributesAsn1&&O.value.push(y.authenticatedAttributesAsn1),O.value.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(y.signatureAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])),O.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,y.signature)),y.unauthenticatedAttributes.length>0){for(var w=t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[]),I=0;I<y.unauthenticatedAttributes.length;++I){var _=y.unauthenticatedAttributes[I];w.values.push(s(_))}O.value.push(w)}return O}function o(y){for(var O=[],w=0;w<y.length;++w)O.push(l(y[w]));return O}function s(y){var O;if(y.type===e.pki.oids.contentType)O=t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(y.value).getBytes());else if(y.type===e.pki.oids.messageDigest)O=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,y.value.bytes());else if(y.type===e.pki.oids.signingTime){var w=new Date("1950-01-01T00:00:00Z"),I=new Date("2050-01-01T00:00:00Z"),_=y.value;if(typeof _=="string"){var T=Date.parse(_);isNaN(T)?_.length===13?_=t.utcTimeToDate(_):_=t.generalizedTimeToDate(_):_=new Date(T)}_>=w&&_<I?O=t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(_)):O=t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(_))}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(y.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[O])])}function h(y){return[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.pki.oids.data).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(y.algorithm).getBytes()),y.parameter?t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,y.parameter.getBytes()):void 0]),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,y.content.getBytes())])]}function v(y,O,w){var I={},_=[];if(!t.validate(O,w,I,_)){var T=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw T.errors=T,T}var C=t.derToOid(I.contentType);if(C!==e.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(I.encryptedContent){var N="";if(e.util.isArray(I.encryptedContent))for(var L=0;L<I.encryptedContent.length;++L){if(I.encryptedContent[L].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");N+=I.encryptedContent[L].value}else N=I.encryptedContent;y.encryptedContent={algorithm:t.derToOid(I.encAlgorithm),parameter:e.util.createBuffer(I.encParameter.value),content:e.util.createBuffer(N)}}if(I.content){var N="";if(e.util.isArray(I.content))for(var L=0;L<I.content.length;++L){if(I.content[L].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");N+=I.content[L].value}else N=I.content;y.content=e.util.createBuffer(N)}return y.version=I.version.charCodeAt(0),y.rawCapture=I,I}function b(y){if(y.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(y.content===void 0){var O;switch(y.encryptedContent.algorithm){case e.pki.oids["aes128-CBC"]:case e.pki.oids["aes192-CBC"]:case e.pki.oids["aes256-CBC"]:O=e.aes.createDecryptionCipher(y.encryptedContent.key);break;case e.pki.oids.desCBC:case e.pki.oids["des-EDE3-CBC"]:O=e.des.createDecryptionCipher(y.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+y.encryptedContent.algorithm)}if(O.start(y.encryptedContent.parameter),O.update(y.encryptedContent.content),!O.finish())throw new Error("Symmetric decryption failed.");y.content=O.output}}return pkcs7.exports}var ssh={exports:{}},hasRequiredSsh;function requireSsh(){if(hasRequiredSsh)return ssh.exports;hasRequiredSsh=1;var e=requireForge();requireAes(),requireHmac(),requireMd5$2(),requireSha1$2(),requireUtil$7();var t=ssh.exports=e.ssh=e.ssh||{};t.privateKeyToPutty=function(m,c,l){l=l||"",c=c||"";var o="ssh-rsa",s=c===""?"none":"aes256-cbc",h="PuTTY-User-Key-File-2: "+o+`\r
`;h+="Encryption: "+s+`\r
`,h+="Comment: "+l+`\r
`;var v=e.util.createBuffer();p(v,o),a(v,m.e),a(v,m.n);var b=e.util.encode64(v.bytes(),64),y=Math.floor(b.length/66)+1;h+="Public-Lines: "+y+`\r
`,h+=b;var O=e.util.createBuffer();a(O,m.d),a(O,m.p),a(O,m.q),a(O,m.qInv);var w;if(!c)w=e.util.encode64(O.bytes(),64);else{var I=O.length()+16-1;I-=I%16;var _=g(O.bytes());_.truncate(_.length()-I+O.length()),O.putBuffer(_);var T=e.util.createBuffer();T.putBuffer(g("\0\0\0\0",c)),T.putBuffer(g("\0\0\0",c));var C=e.aes.createEncryptionCipher(T.truncate(8),"CBC");C.start(e.util.createBuffer().fillWithByte(0,16)),C.update(O.copy()),C.finish();var N=C.output;N.truncate(16),w=e.util.encode64(N.bytes(),64)}y=Math.floor(w.length/66)+1,h+=`\r
Private-Lines: `+y+`\r
`,h+=w;var L=g("putty-private-key-file-mac-key",c),D=e.util.createBuffer();p(D,o),p(D,s),p(D,l),D.putInt32(v.length()),D.putBuffer(v),D.putInt32(O.length()),D.putBuffer(O);var j=e.hmac.create();return j.start("sha1",L),j.update(D.bytes()),h+=`\r
Private-MAC: `+j.digest().toHex()+`\r
`,h},t.publicKeyToOpenSSH=function(m,c){var l="ssh-rsa";c=c||"";var o=e.util.createBuffer();return p(o,l),a(o,m.e),a(o,m.n),l+" "+e.util.encode64(o.bytes())+" "+c},t.privateKeyToOpenSSH=function(m,c){return c?e.pki.encryptRsaPrivateKey(m,c,{legacy:!0,algorithm:"aes128"}):e.pki.privateKeyToPem(m)},t.getPublicKeyFingerprint=function(m,c){c=c||{};var l=c.md||e.md.md5.create(),o="ssh-rsa",s=e.util.createBuffer();p(s,o),a(s,m.e),a(s,m.n),l.start(),l.update(s.getBytes());var h=l.digest();if(c.encoding==="hex"){var v=h.toHex();return c.delimiter?v.match(/.{2}/g).join(c.delimiter):v}else{if(c.encoding==="binary")return h.getBytes();if(c.encoding)throw new Error('Unknown encoding "'+c.encoding+'".')}return h};function a(m,c){var l=c.toString(16);l[0]>="8"&&(l="00"+l);var o=e.util.hexToBytes(l);m.putInt32(o.length),m.putBytes(o)}function p(m,c){m.putInt32(c.length),m.putString(c)}function g(){for(var m=e.md.sha1.create(),c=arguments.length,l=0;l<c;++l)m.update(arguments[l]);return m.digest()}return ssh.exports}var lib$3,hasRequiredLib$3;function requireLib$3(){return hasRequiredLib$3||(hasRequiredLib$3=1,lib$3=requireForge(),requireAes(),requireAesCipherSuites(),requireAsn1(),requireCipher(),requireDes(),requireEd25519(),requireHmac(),requireKem(),requireLog(),requireMd_all(),requireMgf1(),requirePbkdf2(),requirePem(),requirePkcs1(),requirePkcs12(),requirePkcs7(),requirePki(),requirePrime(),requirePrng(),requirePss(),requireRandom(),requireRc2(),requireSsh(),requireTls(),requireUtil$7()),lib$3}var hasRequiredCredentialInternal;function requireCredentialInternal(){if(hasRequiredCredentialInternal)return credentialInternal;hasRequiredCredentialInternal=1;Object.defineProperty(credentialInternal,"__esModule",{value:!0}),credentialInternal.ImpersonatedServiceAccountCredential=credentialInternal.RefreshTokenCredential=credentialInternal.ServiceAccountCredential=credentialInternal.ApplicationDefaultCredential=void 0,credentialInternal.isApplicationDefault=b,credentialInternal.getApplicationDefault=y;const e=require$$1$3,t=requireSrc$b(),a=requireError(),p=requireValidator$1(),g=["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/firebase.database","https://www.googleapis.com/auth/firebase.messaging","https://www.googleapis.com/auth/identitytoolkit","https://www.googleapis.com/auth/userinfo.email"];class m{constructor(T){this.googleAuth=new t.GoogleAuth({scopes:g,clientOptions:{transporterOptions:{agent:T}}})}async getAccessToken(){this.authClient||(this.authClient=await this.googleAuth.getClient()),await this.authClient.getAccessToken();const T=this.authClient.credentials;return this.quotaProjectId=this.authClient.quotaProjectId,I(T)}async getProjectId(){return this.projectId||(this.projectId=await this.googleAuth.getProjectId()),Promise.resolve(this.projectId)}getQuotaProjectId(){return this.quotaProjectId||(this.quotaProjectId=this.authClient?.quotaProjectId),this.quotaProjectId}async isComputeEngineCredential(){return this.authClient||(this.authClient=await this.googleAuth.getClient()),Promise.resolve(this.authClient instanceof t.Compute)}async getIDToken(T){if(await this.isComputeEngineCredential())return this.authClient.fetchIdToken(T);throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Credentials type should be Compute Engine Credentials.")}async getServiceAccountEmail(){if(this.accountId)return Promise.resolve(this.accountId);const{client_email:T}=await this.googleAuth.getCredentials();return this.accountId=T??"",Promise.resolve(this.accountId)}}credentialInternal.ApplicationDefaultCredential=m;class c{constructor(T,C,N=!1){this.serviceAccountPathOrObject=T,this.httpAgent=C,this.implicit=N;const L=typeof T=="string"?l.fromPath(T):new l(T);this.projectId=L.projectId,this.privateKey=L.privateKey,this.clientEmail=L.clientEmail}getGoogleAuth(){if(this.googleAuth)return this.googleAuth;const{auth:T,client:C}=w(this.serviceAccountPathOrObject,this.httpAgent);return this.googleAuth=T,this.authClient=C,this.googleAuth}async getAccessToken(){const T=this.getGoogleAuth();this.authClient===void 0&&(this.authClient=await T.getClient()),await this.authClient.getAccessToken();const C=this.authClient.credentials;return I(C)}}credentialInternal.ServiceAccountCredential=c;class l{static fromPath(T){try{return new l(JSON.parse(e.readFileSync(T,"utf8")))}catch(C){throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse service account json file: "+C)}}constructor(T){if(!p.isNonNullObject(T))throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Service account must be an object.");O(this,T,"projectId","project_id"),O(this,T,"privateKey","private_key"),O(this,T,"clientEmail","client_email");let C;if(p.isNonEmptyString(this.projectId)?p.isNonEmptyString(this.privateKey)?p.isNonEmptyString(this.clientEmail)||(C='Service account object must contain a string "client_email" property.'):C='Service account object must contain a string "private_key" property.':C='Service account object must contain a string "project_id" property.',typeof C<"u")throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,C);const N=requireLib$3();try{N.pki.privateKeyFromPem(this.privateKey)}catch(L){throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse private key: "+L)}}}class o{constructor(T,C,N=!1){this.refreshTokenPathOrObject=T,this.httpAgent=C,this.implicit=N,typeof T=="string"?s.validateFromPath(T):s.validateFromJSON(T)}getGoogleAuth(){if(this.googleAuth)return this.googleAuth;const{auth:T,client:C}=w(this.refreshTokenPathOrObject,this.httpAgent);return this.googleAuth=T,this.authClient=C,this.googleAuth}async getAccessToken(){const T=this.getGoogleAuth();this.authClient===void 0&&(this.authClient=await T.getClient()),await this.authClient.getAccessToken();const C=this.authClient.credentials;return I(C)}}credentialInternal.RefreshTokenCredential=o;class s{static validateFromPath(T){try{s.validateFromJSON(JSON.parse(e.readFileSync(T,"utf8")))}catch(C){throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse refresh token file: "+C)}}static validateFromJSON(T){const C={clientId:"",clientSecret:"",refreshToken:"",type:""};O(C,T,"clientId","client_id"),O(C,T,"clientSecret","client_secret"),O(C,T,"refreshToken","refresh_token"),O(C,T,"type","type");let N;if(p.isNonEmptyString(C.clientId)?p.isNonEmptyString(C.clientSecret)?p.isNonEmptyString(C.refreshToken)?p.isNonEmptyString(C.type)||(N='Refresh token must contain a "type" property.'):N='Refresh token must contain a "refresh_token" property.':N='Refresh token must contain a "client_secret" property.':N='Refresh token must contain a "client_id" property.',typeof N<"u")throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,N)}}class h{constructor(T,C,N=!1){this.impersonatedServiceAccountPathOrObject=T,this.httpAgent=C,this.implicit=N,typeof T=="string"?v.validateFromPath(T):v.validateFromJSON(T)}getGoogleAuth(){if(this.googleAuth)return this.googleAuth;const{auth:T,client:C}=w(this.impersonatedServiceAccountPathOrObject,this.httpAgent);return this.googleAuth=T,this.authClient=C,this.googleAuth}async getAccessToken(){const T=this.getGoogleAuth();this.authClient===void 0&&(this.authClient=await T.getClient()),await this.authClient.getAccessToken();const C=this.authClient.credentials;return I(C)}}credentialInternal.ImpersonatedServiceAccountCredential=h;class v{static validateFromPath(T){try{v.validateFromJSON(JSON.parse(e.readFileSync(T,"utf8")))}catch(C){throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse impersonated service account file: "+C)}}static validateFromJSON(T){const{client_id:C,client_secret:N,refresh_token:L,type:D}=T.source_credentials;let j;if(p.isNonEmptyString(C)?p.isNonEmptyString(N)?p.isNonEmptyString(L)?p.isNonEmptyString(D)||(j='Impersonated Service Account must contain a "source_credentials.type" property.'):j='Impersonated Service Account must contain a "source_credentials.refresh_token" property.':j='Impersonated Service Account must contain a "source_credentials.client_secret" property.':j='Impersonated Service Account must contain a "source_credentials.client_id" property.',typeof j<"u")throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,j)}}function b(_){return _ instanceof m||_ instanceof o&&_.implicit}function y(_){return new m(_)}function O(_,T,C,N){const L=T[C]||T[N];typeof L<"u"&&(_[C]=L)}function w(_,T){let C;const N=new t.GoogleAuth({scopes:g,clientOptions:{transporterOptions:{agent:T}},keyFile:typeof _=="string"?_:void 0});if(typeof _=="object"){if(!p.isNonNullObject(_))throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Service account must be an object.");O(_,_,"project_id","projectId"),O(_,_,"private_key","privateKey"),O(_,_,"client_email","clientEmail"),C=N.fromJSON(_)}return{auth:N,client:C}}function I(_){const T=_?.access_token,C=_?.expiry_date;if(typeof T!="string")throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse Google auth credential: access_token must be a non empty string.");if(typeof C!="number")throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse Google auth credential: Invalid expiry_date.");return{..._,access_token:T,expires_in:Math.floor((C-new Date().getTime())/1e3)}}return credentialInternal}var firebaseApp={};var hasRequiredFirebaseApp;function requireFirebaseApp(){if(hasRequiredFirebaseApp)return firebaseApp;hasRequiredFirebaseApp=1;Object.defineProperty(firebaseApp,"__esModule",{value:!0}),firebaseApp.FirebaseApp=firebaseApp.FirebaseAppInternals=void 0;const e=requireCredentialInternal(),t=requireValidator$1(),a=requireDeepCopy(),p=requireError(),g=300*1e3;class m{constructor(s){this.credential_=s,this.tokenListeners_=[],this.isRefreshing=!1}getToken(s=!1){return(s||this.shouldRefresh())&&(this.promiseToCachedToken_=this.refreshToken()),this.promiseToCachedToken_}getCachedToken(){return this.cachedToken_||null}refreshToken(){return this.isRefreshing=!0,Promise.resolve(this.credential_.getAccessToken()).then(s=>{if(!t.isNonNullObject(s)||typeof s.expires_in!="number"||typeof s.access_token!="string")throw new p.FirebaseAppError(p.AppErrorCodes.INVALID_CREDENTIAL,`Invalid access token generated: "${JSON.stringify(s)}". Valid access tokens must be an object with the "expires_in" (number) and "access_token" (string) properties.`);const h={accessToken:s.access_token,expirationTime:Date.now()+s.expires_in*1e3};return(!this.cachedToken_||this.cachedToken_.accessToken!==h.accessToken||this.cachedToken_.expirationTime!==h.expirationTime)&&(this.cachedToken_=h,this.tokenListeners_.forEach(v=>{v(h.accessToken)})),h}).catch(s=>{let h=typeof s=="string"?s:s.message;throw h=`Credential implementation provided to initializeApp() via the "credential" property failed to fetch a valid Google OAuth2 access token with the following error: "${h}".`,h.indexOf("invalid_grant")!==-1&&(h+=" There are two likely causes: (1) your server time is not properly synced or (2) your certificate key file has been revoked. To solve (1), re-sync the time on your server. To solve (2), make sure the key ID for your key file is still present at https://console.firebase.google.com/iam-admin/serviceaccounts/project. If not, generate a new key file at https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk."),new p.FirebaseAppError(p.AppErrorCodes.INVALID_CREDENTIAL,h)}).finally(()=>{this.isRefreshing=!1})}shouldRefresh(){return(!this.cachedToken_||this.cachedToken_.expirationTime-Date.now()<=g)&&!this.isRefreshing}addAuthTokenListener(s){this.tokenListeners_.push(s),this.cachedToken_&&s(this.cachedToken_.accessToken)}removeAuthTokenListener(s){this.tokenListeners_=this.tokenListeners_.filter(h=>h!==s)}}firebaseApp.FirebaseAppInternals=m;class c{constructor(s,h,v){if(this.appStore=v,this.services_={},this.isDeleted_=!1,this.name_=h,this.options_=(0,a.deepCopy)(s),!t.isNonNullObject(this.options_))throw new p.FirebaseAppError(p.AppErrorCodes.INVALID_APP_OPTIONS,`Invalid Firebase app options passed as the first argument to initializeApp() for the app named "${this.name_}". Options must be a non-null object.`);"credential"in this.options_||(this.options_.credential=(0,e.getApplicationDefault)(this.options_.httpAgent));const y=this.options_.credential;if(typeof y!="object"||y===null||typeof y.getAccessToken!="function")throw new p.FirebaseAppError(p.AppErrorCodes.INVALID_APP_OPTIONS,`Invalid Firebase app options passed as the first argument to initializeApp() for the app named "${this.name_}". The "credential" property must be an object which implements the Credential interface.`);this.INTERNAL=new m(y)}get name(){return this.checkDestroyed_(),this.name_}get options(){return this.checkDestroyed_(),(0,a.deepCopy)(this.options_)}getOrInitService(s,h){return this.ensureService_(s,()=>h(this))}delete(){return this.checkDestroyed_(),this.appStore?.removeApp(this.name),Promise.all(Object.keys(this.services_).map(s=>{const h=this.services_[s];return l(h)?h.delete():Promise.resolve()})).then(()=>{this.services_={},this.isDeleted_=!0})}ensureService_(s,h){return this.checkDestroyed_(),s in this.services_||(this.services_[s]=h()),this.services_[s]}checkDestroyed_(){if(this.isDeleted_)throw new p.FirebaseAppError(p.AppErrorCodes.APP_DELETED,`Firebase app named "${this.name_}" has already been deleted.`)}}firebaseApp.FirebaseApp=c;function l(o){return typeof o.delete=="function"}return firebaseApp}var hasRequiredLifecycle;function requireLifecycle(){return hasRequiredLifecycle||(hasRequiredLifecycle=1,(function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0}),e.FIREBASE_CONFIG_VAR=e.defaultAppStore=e.AppStore=void 0,e.initializeApp=s,e.getApp=h,e.getApps=v,e.deleteApp=b;const a=require$$1$3,p=requireValidator$1(),g=requireError(),m=requireCredentialInternal(),c=requireFirebaseApp(),l="[DEFAULT]";class o{constructor(){this.appStore=new Map}initializeApp(w,I=l){if(typeof w>"u"&&(w=y(),w.credential=(0,m.getApplicationDefault)()),typeof I!="string"||I==="")throw new g.FirebaseAppError(g.AppErrorCodes.INVALID_APP_NAME,`Invalid Firebase app name "${I}" provided. App name must be a non-empty string.`);if(this.appStore.has(I))throw I===l?new g.FirebaseAppError(g.AppErrorCodes.DUPLICATE_APP,"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."):new g.FirebaseAppError(g.AppErrorCodes.DUPLICATE_APP,`Firebase app named "${I}" already exists. This means you called initializeApp() more than once with the same app name as the second argument. Make sure you provide a unique name every time you call initializeApp().`);const _=new c.FirebaseApp(w,I,this);return this.appStore.set(_.name,_),_}getApp(w=l){if(typeof w!="string"||w==="")throw new g.FirebaseAppError(g.AppErrorCodes.INVALID_APP_NAME,`Invalid Firebase app name "${w}" provided. App name must be a non-empty string.`);if(!this.appStore.has(w)){let I=w===l?"The default Firebase app does not exist. ":`Firebase app named "${w}" does not exist. `;throw I+="Make sure you call initializeApp() before using any of the Firebase services.",new g.FirebaseAppError(g.AppErrorCodes.NO_APP,I)}return this.appStore.get(w)}getApps(){return Array.from(this.appStore.values())}deleteApp(w){if(typeof w!="object"||w===null||!("options"in w))throw new g.FirebaseAppError(g.AppErrorCodes.INVALID_ARGUMENT,"Invalid app argument.");return h(w.name).delete()}clearAllApps(){const w=[];return this.getApps().forEach(I=>{w.push(this.deleteApp(I))}),Promise.all(w).then()}removeApp(w){this.appStore.delete(w)}}e.AppStore=o,e.defaultAppStore=new o;function s(O,w=l){return e.defaultAppStore.initializeApp(O,w)}function h(O=l){return e.defaultAppStore.getApp(O)}function v(){return e.defaultAppStore.getApps()}function b(O){return e.defaultAppStore.deleteApp(O)}e.FIREBASE_CONFIG_VAR="FIREBASE_CONFIG";function y(){const O=t[e.FIREBASE_CONFIG_VAR];if(!p.isNonEmptyString(O))return{};try{const w=O.startsWith("{")?O:a.readFileSync(O,"utf8");return JSON.parse(w)}catch(w){throw new g.FirebaseAppError(g.AppErrorCodes.INVALID_APP_OPTIONS,"Failed to parse app options file: "+w)}}})(lifecycle)),lifecycle}var credentialFactory={};var hasRequiredCredentialFactory;function requireCredentialFactory(){if(hasRequiredCredentialFactory)return credentialFactory;hasRequiredCredentialFactory=1;Object.defineProperty(credentialFactory,"__esModule",{value:!0}),credentialFactory.applicationDefault=g,credentialFactory.cert=m,credentialFactory.refreshToken=c,credentialFactory.clearGlobalAppDefaultCred=l;const e=requireCredentialInternal();let t;const a={},p={};function g(o){return typeof t>"u"&&(t=(0,e.getApplicationDefault)(o)),t}function m(o,s){const h=JSON.stringify(o);return h in a||(a[h]=new e.ServiceAccountCredential(o,s)),a[h]}function c(o,s){const h=JSON.stringify(o);return h in p||(p[h]=new e.RefreshTokenCredential(o,s)),p[h]}function l(){t=void 0}return credentialFactory}var utils$2={};const version$6="13.4.0",require$$2$2={version:version$6};var hasRequiredUtils$2;function requireUtils$2(){if(hasRequiredUtils$2)return utils$2;hasRequiredUtils$2=1;var e={};Object.defineProperty(utils$2,"__esModule",{value:!0}),utils$2.getSdkVersion=g,utils$2.getMetricsHeader=m,utils$2.renameProperties=c,utils$2.addReadonlyGetter=l,utils$2.getExplicitProjectId=o,utils$2.findProjectId=s,utils$2.getExplicitServiceAccountEmail=h,utils$2.findServiceAccountEmail=v,utils$2.toWebSafeBase64=b,utils$2.formatString=y,utils$2.generateUpdateMask=O,utils$2.transformMillisecondsToSecondsString=w,utils$2.parseResourceName=I;const t=requireCredentialInternal(),a=requireValidator$1();let p;function g(){if(!p){const{version:_}=require$$2$2;p=_}return p}function m(){return`gl-node/${process.versions.node} fire-admin/${g()}`}function c(_,T){Object.keys(T).forEach(C=>{if(C in _){const N=T[C];_[N]=_[C],delete _[C]}})}function l(_,T,C){Object.defineProperty(_,T,{value:C,writable:!1,enumerable:!0})}function o(_){const T=_.options;if(a.isNonEmptyString(T.projectId))return T.projectId;const C=_.options.credential;if(C instanceof t.ServiceAccountCredential)return C.projectId;const N=e.GOOGLE_CLOUD_PROJECT||e.GCLOUD_PROJECT;return a.isNonEmptyString(N)?N:null}function s(_){const T=o(_);if(T)return Promise.resolve(T);const C=_.options.credential;return C instanceof t.ApplicationDefaultCredential?C.getProjectId():Promise.resolve(null)}function h(_){const T=_.options;if(a.isNonEmptyString(T.serviceAccountId))return T.serviceAccountId;const C=_.options.credential;return C instanceof t.ServiceAccountCredential?C.clientEmail:null}function v(_){const T=h(_);if(T)return Promise.resolve(T);const C=_.options.credential;return C instanceof t.ApplicationDefaultCredential?C.getServiceAccountEmail():Promise.resolve(null)}function b(_){return _.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")}function y(_,T){let C=_;return Object.keys(T||{}).forEach(N=>{C=C.replace(new RegExp("{"+N+"}","g"),T[N])}),C}function O(_,T=[],C=""){const N=[];if(!a.isNonNullObject(_))return N;for(const L in _)if(typeof _[L]<"u"){const D=C?`${C}.${L}`:L;if(T.indexOf(D)!==-1)N.push(L);else{const j=O(_[L],T,D);j.length>0?j.forEach(k=>{N.push(`${L}.${k}`)}):N.push(L)}}return N}function w(_){let T;const C=Math.floor(_/1e3),N=Math.floor((_-C*1e3)*1e6);if(N>0){let L=N.toString();for(;L.length<9;)L="0"+L;T=`${C}.${L}s`}else T=`${C}s`;return T}function I(_,T){if(!_.includes("/"))return{resourceId:_};const N=new RegExp(`^(projects/([^/]+)/)?locations/([^/]+)/${T}/([^/]+)$`).exec(_);if(N===null)throw new Error("Invalid resource name format.");const L=N[2],D=N[3],j=N[4];return{projectId:L,locationId:D,resourceId:j}}return utils$2}var auth$1={},authApiRequest={},apiRequest={},main$1={exports:{}},sbmh,hasRequiredSbmh;function requireSbmh(){if(hasRequiredSbmh)return sbmh;hasRequiredSbmh=1;const{EventEmitter:e}=require$$1$3,{inherits:t}=require$$1$3;function a(p){if(typeof p=="string"&&(p=Buffer.from(p)),!Buffer.isBuffer(p))throw new TypeError("The needle has to be a String or a Buffer.");const g=p.length,m=g-1;if(g===0)throw new Error("The needle cannot be an empty String/Buffer.");if(g>256)throw new Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Uint8Array(256).fill(g),this._lookbehind_size=0,this._needle=p,this._bufpos=0,this._lookbehind=Buffer.alloc(m);for(var c=0;c<m;++c)this._occ[p[c]]=m-c}return t(a,e),a.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},a.prototype.push=function(p,g){Buffer.isBuffer(p)||(p=Buffer.from(p,"binary"));const m=p.length;this._bufpos=g||0;let c;for(;c!==m&&this.matches<this.maxMatches;)c=this._sbmh_feed(p);return c},a.prototype._sbmh_feed=function(p){const g=p.length,m=this._needle,c=m.length,l=c-1,o=m[l];let s=-this._lookbehind_size,h;if(s<0){for(;s<0&&s<=g-c;){if(h=p[s+l],h===o&&this._sbmh_memcmp(p,s,l))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=s+c;s+=this._occ[h]}for(;s<0&&!this._sbmh_memcmp(p,s,g-s);)++s;if(s>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{const v=this._lookbehind_size+s;return v>0&&this.emit("info",!1,this._lookbehind,0,v),this._lookbehind_size-=v,this._lookbehind.copy(this._lookbehind,0,v,this._lookbehind_size),p.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=g,this._bufpos=g,g}}if(s=p.indexOf(m,s+this._bufpos),s!==-1)return++this.matches,s===0?this.emit("info",!0):this.emit("info",!0,p,this._bufpos,s),this._bufpos=s+c;for(s=g-l,s<0&&(s=0);s!==g&&(p[s]!==m[0]||Buffer.compare(p.subarray(s+1,g),m.subarray(1,g-s))!==0);)++s;return s!==g&&(p.copy(this._lookbehind,0,s,g),this._lookbehind_size=g-s),s!==0&&this.emit("info",!1,p,this._bufpos,s),this._bufpos=g,g},a.prototype._sbmh_lookup_char=function(p,g){return g<0?this._lookbehind[this._lookbehind_size+g]:p[g]},a.prototype._sbmh_memcmp=function(p,g,m){for(var c=0;c<m;++c)if(this._sbmh_lookup_char(p,g+c)!==this._needle[c])return!1;return!0},sbmh=a,sbmh}var PartStream_1,hasRequiredPartStream;function requirePartStream(){if(hasRequiredPartStream)return PartStream_1;hasRequiredPartStream=1;const e=require$$1$3.inherits,t=require$$1$3.Readable;function a(p){t.call(this,p)}return e(a,t),a.prototype._read=function(p){},PartStream_1=a,PartStream_1}var getLimit,hasRequiredGetLimit;function requireGetLimit(){return hasRequiredGetLimit||(hasRequiredGetLimit=1,getLimit=function(t,a,p){if(!t||t[a]===void 0||t[a]===null)return p;if(typeof t[a]!="number"||isNaN(t[a]))throw new TypeError("Limit "+a+" is not a valid number");return t[a]}),getLimit}var HeaderParser_1,hasRequiredHeaderParser;function requireHeaderParser(){if(hasRequiredHeaderParser)return HeaderParser_1;hasRequiredHeaderParser=1;const e=require$$1$3.EventEmitter,t=require$$1$3.inherits,a=requireGetLimit(),p=requireSbmh(),g=Buffer.from(`\r
\r
`),m=/\r\n/g,c=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function l(o){e.call(this),o=o||{};const s=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=a(o,"maxHeaderPairs",2e3),this.maxHeaderSize=a(o,"maxHeaderSize",81920),this.buffer="",this.header={},this.finished=!1,this.ss=new p(g),this.ss.on("info",function(h,v,b,y){v&&!s.maxed&&(s.nread+y-b>=s.maxHeaderSize?(y=s.maxHeaderSize-s.nread+b,s.nread=s.maxHeaderSize,s.maxed=!0):s.nread+=y-b,s.buffer+=v.toString("binary",b,y)),h&&s._finish()})}return t(l,e),l.prototype.push=function(o){const s=this.ss.push(o);if(this.finished)return s},l.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()},l.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;const o=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",o)},l.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;const o=this.buffer.split(m),s=o.length;let h,v;for(var b=0;b<s;++b){if(o[b].length===0)continue;if((o[b][0]==="	"||o[b][0]===" ")&&v){this.header[v][this.header[v].length-1]+=o[b];continue}const y=o[b].indexOf(":");if(y===-1||y===0)return;if(h=c.exec(o[b]),v=h[1].toLowerCase(),this.header[v]=this.header[v]||[],this.header[v].push(h[2]||""),++this.npairs===this.maxHeaderPairs)break}},HeaderParser_1=l,HeaderParser_1}var Dicer_1,hasRequiredDicer;function requireDicer(){if(hasRequiredDicer)return Dicer_1;hasRequiredDicer=1;const e=require$$1$3.Writable,t=require$$1$3.inherits,a=requireSbmh(),p=requirePartStream(),g=requireHeaderParser(),m=45,c=Buffer.from("-"),l=Buffer.from(`\r
`),o=function(){};function s(h){if(!(this instanceof s))return new s(h);if(e.call(this,h),!h||!h.headerFirst&&typeof h.boundary!="string")throw new TypeError("Boundary required");typeof h.boundary=="string"?this.setBoundary(h.boundary):this._bparser=void 0,this._headerFirst=h.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:h.partHwm},this._pause=!1;const v=this;this._hparser=new g(h),this._hparser.on("header",function(b){v._inHeader=!1,v._part.emit("header",b)})}return t(s,e),s.prototype.emit=function(h){if(h==="finish"&&!this._realFinish){if(!this._finished){const v=this;process.nextTick(function(){if(v.emit("error",new Error("Unexpected end of multipart data")),v._part&&!v._ignoreData){const b=v._isPreamble?"Preamble":"Part";v._part.emit("error",new Error(b+" terminated early due to unexpected end of multipart data")),v._part.push(null),process.nextTick(function(){v._realFinish=!0,v.emit("finish"),v._realFinish=!1});return}v._realFinish=!0,v.emit("finish"),v._realFinish=!1})}}else e.prototype.emit.apply(this,arguments)},s.prototype._write=function(h,v,b){if(!this._hparser&&!this._bparser)return b();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new p(this._partOpts),this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._ignore());const y=this._hparser.push(h);if(!this._inHeader&&y!==void 0&&y<h.length)h=h.slice(y);else return b()}this._firstWrite&&(this._bparser.push(l),this._firstWrite=!1),this._bparser.push(h),this._pause?this._cb=b:b()},s.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0},s.prototype.setBoundary=function(h){const v=this;this._bparser=new a(`\r
--`+h),this._bparser.on("info",function(b,y,O,w){v._oninfo(b,y,O,w)})},s.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",o),this._part.resume())},s.prototype._oninfo=function(h,v,b,y){let O;const w=this;let I=0,_,T=!0;if(!this._part&&this._justMatched&&v){for(;this._dashes<2&&b+I<y;)if(v[b+I]===m)++I,++this._dashes;else{this._dashes&&(O=c),this._dashes=0;break}if(this._dashes===2&&(b+I<y&&this.listenerCount("trailer")!==0&&this.emit("trailer",v.slice(b+I,y)),this.reset(),this._finished=!0,w._parts===0&&(w._realFinish=!0,w.emit("finish"),w._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new p(this._partOpts),this._part._read=function(C){w._unpause()},this._isPreamble&&this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._isPreamble!==!0&&this.listenerCount("part")!==0?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),v&&b<y&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(O&&(T=this._part.push(O)),T=this._part.push(v.slice(b,y)),T||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(O&&this._hparser.push(O),_=this._hparser.push(v.slice(b,y)),!this._inHeader&&_!==void 0&&_<y&&this._oninfo(!1,v,b+_,y))),h&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:b!==y&&(++this._parts,this._part.on("end",function(){--w._parts===0&&(w._finished?(w._realFinish=!0,w.emit("finish"),w._realFinish=!1):w._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)},s.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){const h=this._cb;this._cb=void 0,h()}},Dicer_1=s,Dicer_1}var decodeText_1,hasRequiredDecodeText;function requireDecodeText(){if(hasRequiredDecodeText)return decodeText_1;hasRequiredDecodeText=1;const e=new TextDecoder("utf-8"),t=new Map([["utf-8",e],["utf8",e]]);function a(m){let c;for(;;)switch(m){case"utf-8":case"utf8":return p.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return p.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return p.utf16le;case"base64":return p.base64;default:if(c===void 0){c=!0,m=m.toLowerCase();continue}return p.other.bind(m)}}const p={utf8:(m,c)=>m.length===0?"":(typeof m=="string"&&(m=Buffer.from(m,c)),m.utf8Slice(0,m.length)),latin1:(m,c)=>m.length===0?"":typeof m=="string"?m:m.latin1Slice(0,m.length),utf16le:(m,c)=>m.length===0?"":(typeof m=="string"&&(m=Buffer.from(m,c)),m.ucs2Slice(0,m.length)),base64:(m,c)=>m.length===0?"":(typeof m=="string"&&(m=Buffer.from(m,c)),m.base64Slice(0,m.length)),other:(m,c)=>{if(m.length===0)return"";if(typeof m=="string"&&(m=Buffer.from(m,c)),t.has(this.toString()))try{return t.get(this).decode(m)}catch{}return typeof m=="string"?m:m.toString()}};function g(m,c,l){return m&&a(l)(m,c)}return decodeText_1=g,decodeText_1}var parseParams_1,hasRequiredParseParams;function requireParseParams(){if(hasRequiredParseParams)return parseParams_1;hasRequiredParseParams=1;const e=requireDecodeText(),t=/%[a-fA-F0-9][a-fA-F0-9]/g,a={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"\x07","%08":"\b","%09":"	","%0a":`
`,"%0A":`
`,"%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"\x1B","%1B":"\x1B","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"","%7F":"","%80":"","%81":"","%82":"","%83":"","%84":"","%85":"","%86":"","%87":"","%88":"","%89":"","%8a":"","%8A":"","%8b":"","%8B":"","%8c":"","%8C":"","%8d":"","%8D":"","%8e":"","%8E":"","%8f":"","%8F":"","%90":"","%91":"","%92":"","%93":"","%94":"","%95":"","%96":"","%97":"","%98":"","%99":"","%9a":"","%9A":"","%9b":"","%9B":"","%9c":"","%9C":"","%9d":"","%9D":"","%9e":"","%9E":"","%9f":"","%9F":"","%a0":"","%A0":"","%a1":"","%A1":"","%a2":"","%A2":"","%a3":"","%A3":"","%a4":"","%A4":"","%a5":"","%A5":"","%a6":"","%A6":"","%a7":"","%A7":"","%a8":"","%A8":"","%a9":"","%A9":"","%aa":"","%Aa":"","%aA":"","%AA":"","%ab":"","%Ab":"","%aB":"","%AB":"","%ac":"","%Ac":"","%aC":"","%AC":"","%ad":"","%Ad":"","%aD":"","%AD":"","%ae":"","%Ae":"","%aE":"","%AE":"","%af":"","%Af":"","%aF":"","%AF":"","%b0":"","%B0":"","%b1":"","%B1":"","%b2":"","%B2":"","%b3":"","%B3":"","%b4":"","%B4":"","%b5":"","%B5":"","%b6":"","%B6":"","%b7":"","%B7":"","%b8":"","%B8":"","%b9":"","%B9":"","%ba":"","%Ba":"","%bA":"","%BA":"","%bb":"","%Bb":"","%bB":"","%BB":"","%bc":"","%Bc":"","%bC":"","%BC":"","%bd":"","%Bd":"","%bD":"","%BD":"","%be":"","%Be":"","%bE":"","%BE":"","%bf":"","%Bf":"","%bF":"","%BF":"","%c0":"","%C0":"","%c1":"","%C1":"","%c2":"","%C2":"","%c3":"","%C3":"","%c4":"","%C4":"","%c5":"","%C5":"","%c6":"","%C6":"","%c7":"","%C7":"","%c8":"","%C8":"","%c9":"","%C9":"","%ca":"","%Ca":"","%cA":"","%CA":"","%cb":"","%Cb":"","%cB":"","%CB":"","%cc":"","%Cc":"","%cC":"","%CC":"","%cd":"","%Cd":"","%cD":"","%CD":"","%ce":"","%Ce":"","%cE":"","%CE":"","%cf":"","%Cf":"","%cF":"","%CF":"","%d0":"","%D0":"","%d1":"","%D1":"","%d2":"","%D2":"","%d3":"","%D3":"","%d4":"","%D4":"","%d5":"","%D5":"","%d6":"","%D6":"","%d7":"","%D7":"","%d8":"","%D8":"","%d9":"","%D9":"","%da":"","%Da":"","%dA":"","%DA":"","%db":"","%Db":"","%dB":"","%DB":"","%dc":"","%Dc":"","%dC":"","%DC":"","%dd":"","%Dd":"","%dD":"","%DD":"","%de":"","%De":"","%dE":"","%DE":"","%df":"","%Df":"","%dF":"","%DF":"","%e0":"","%E0":"","%e1":"","%E1":"","%e2":"","%E2":"","%e3":"","%E3":"","%e4":"","%E4":"","%e5":"","%E5":"","%e6":"","%E6":"","%e7":"","%E7":"","%e8":"","%E8":"","%e9":"","%E9":"","%ea":"","%Ea":"","%eA":"","%EA":"","%eb":"","%Eb":"","%eB":"","%EB":"","%ec":"","%Ec":"","%eC":"","%EC":"","%ed":"","%Ed":"","%eD":"","%ED":"","%ee":"","%Ee":"","%eE":"","%EE":"","%ef":"","%Ef":"","%eF":"","%EF":"","%f0":"","%F0":"","%f1":"","%F1":"","%f2":"","%F2":"","%f3":"","%F3":"","%f4":"","%F4":"","%f5":"","%F5":"","%f6":"","%F6":"","%f7":"","%F7":"","%f8":"","%F8":"","%f9":"","%F9":"","%fa":"","%Fa":"","%fA":"","%FA":"","%fb":"","%Fb":"","%fB":"","%FB":"","%fc":"","%Fc":"","%fC":"","%FC":"","%fd":"","%Fd":"","%fD":"","%FD":"","%fe":"","%Fe":"","%fE":"","%FE":"","%ff":"","%Ff":"","%fF":"","%FF":""};function p(s){return a[s]}const g=0,m=1,c=2,l=3;function o(s){const h=[];let v=g,b="",y=!1,O=!1,w=0,I="";const _=s.length;for(var T=0;T<_;++T){const C=s[T];if(C==="\\"&&y)if(O)O=!1;else{O=!0;continue}else if(C==='"')if(O)O=!1;else{if(y)for(y=!1,v=g;T+1<_&&s[T+1]!==";";)++T;else y=!0;continue}else if(O&&y&&(I+="\\"),O=!1,(v===c||v===l)&&C==="'"){v===c?(v=l,b=I.substring(1)):v=m,I="";continue}else if(v===g&&(C==="*"||C==="=")&&h.length){v=C==="*"?c:m,h[w]=[I,void 0],I="";continue}else if(!y&&C===";"){v=g,b?(I.length&&(I=e(I.replace(t,p),"binary",b)),b=""):I.length&&(I=e(I,"binary","utf8")),h[w]===void 0?h[w]=I:h[w][1]=I,I="",++w;continue}else if(!y&&(C===" "||C==="	"))continue;I+=C}return b&&I.length?I=e(I.replace(t,p),"binary",b):I&&(I=e(I,"binary","utf8")),h[w]===void 0?I&&(h[w]=I):h[w][1]=I,h}return parseParams_1=o,parseParams_1}var basename,hasRequiredBasename;function requireBasename(){return hasRequiredBasename||(hasRequiredBasename=1,basename=function(t){if(typeof t!="string")return"";for(var a=t.length-1;a>=0;--a)switch(t.charCodeAt(a)){case 47:case 92:return t=t.slice(a+1),t===".."||t==="."?"":t}return t===".."||t==="."?"":t}),basename}var multipart,hasRequiredMultipart;function requireMultipart(){if(hasRequiredMultipart)return multipart;hasRequiredMultipart=1;const{Readable:e}=require$$1$3,{inherits:t}=require$$1$3,a=requireDicer(),p=requireParseParams(),g=requireDecodeText(),m=requireBasename(),c=requireGetLimit(),l=/^boundary$/i,o=/^form-data$/i,s=/^charset$/i,h=/^filename$/i,v=/^name$/i;b.detect=/^multipart\/form-data/i;function b(w,I){let _,T;const C=this;let N;const L=I.limits,D=I.isPartAFile||((fe,_e,Ee)=>_e==="application/octet-stream"||Ee!==void 0),j=I.parsedConType||[],k=I.defCharset||"utf8",V=I.preservePath,G={highWaterMark:I.fileHwm};for(_=0,T=j.length;_<T;++_)if(Array.isArray(j[_])&&l.test(j[_][0])){N=j[_][1];break}function J(){de===0&&me&&!w._done&&(me=!1,C.end())}if(typeof N!="string")throw new Error("Multipart: Boundary not found");const W=c(L,"fieldSize",1*1024*1024),K=c(L,"fileSize",1/0),X=c(L,"files",1/0),Y=c(L,"fields",1/0),te=c(L,"parts",1/0),oe=c(L,"headerPairs",2e3),le=c(L,"headerSize",80*1024);let ee=0,se=0,de=0,he,ge,me=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=w;const Oe={boundary:N,maxHeaderPairs:oe,maxHeaderSize:le,partHwm:G.highWaterMark,highWaterMark:I.highWaterMark};this.parser=new a(Oe),this.parser.on("drain",function(){if(C._needDrain=!1,C._cb&&!C._pause){const fe=C._cb;C._cb=void 0,fe()}}).on("part",function fe(_e){if(++C._nparts>te)return C.parser.removeListener("part",fe),C.parser.on("part",y),w.hitPartsLimit=!0,w.emit("partsLimit"),y(_e);if(ge){const Ee=ge;Ee.emit("end"),Ee.removeAllListeners("end")}_e.on("header",function(Ee){let z,d,P,A,$,ie,pe=0;if(Ee["content-type"]&&(P=p(Ee["content-type"][0]),P[0])){for(z=P[0].toLowerCase(),_=0,T=P.length;_<T;++_)if(s.test(P[_][0])){A=P[_][1].toLowerCase();break}}if(z===void 0&&(z="text/plain"),A===void 0&&(A=k),Ee["content-disposition"]){if(P=p(Ee["content-disposition"][0]),!o.test(P[0]))return y(_e);for(_=0,T=P.length;_<T;++_)v.test(P[_][0])?d=P[_][1]:h.test(P[_][0])&&(ie=P[_][1],V||(ie=m(ie)))}else return y(_e);Ee["content-transfer-encoding"]?$=Ee["content-transfer-encoding"][0].toLowerCase():$="7bit";let ne,u;if(D(d,z,ie)){if(ee===X)return w.hitFilesLimit||(w.hitFilesLimit=!0,w.emit("filesLimit")),y(_e);if(++ee,w.listenerCount("file")===0){C.parser._ignore();return}++de;const x=new O(G);he=x,x.on("end",function(){if(--de,C._pause=!1,J(),C._cb&&!C._needDrain){const M=C._cb;C._cb=void 0,M()}}),x._read=function(M){if(C._pause&&(C._pause=!1,C._cb&&!C._needDrain)){const n=C._cb;C._cb=void 0,n()}},w.emit("file",d,x,ie,$,z),ne=function(M){if((pe+=M.length)>K){const n=K-pe+M.length;n>0&&x.push(M.slice(0,n)),x.truncated=!0,x.bytesRead=K,_e.removeAllListeners("data"),x.emit("limit");return}else x.push(M)||(C._pause=!0);x.bytesRead=pe},u=function(){he=void 0,x.push(null)}}else{if(se===Y)return w.hitFieldsLimit||(w.hitFieldsLimit=!0,w.emit("fieldsLimit")),y(_e);++se,++de;let x="",M=!1;ge=_e,ne=function(n){if((pe+=n.length)>W){const q=W-(pe-n.length);x+=n.toString("binary",0,q),M=!0,_e.removeAllListeners("data")}else x+=n.toString("binary")},u=function(){ge=void 0,x.length&&(x=g(x,"binary",A)),w.emit("field",d,x,!1,M,$,z),--de,J()}}_e._readableState.sync=!1,_e.on("data",ne),_e.on("end",u)}).on("error",function(Ee){he&&he.emit("error",Ee)})}).on("error",function(fe){w.emit("error",fe)}).on("finish",function(){me=!0,J()})}b.prototype.write=function(w,I){const _=this.parser.write(w);_&&!this._pause?I():(this._needDrain=!_,this._cb=I)},b.prototype.end=function(){const w=this;w.parser.writable?w.parser.end():w._boy._done||process.nextTick(function(){w._boy._done=!0,w._boy.emit("finish")})};function y(w){w.resume()}function O(w){e.call(this,w),this.bytesRead=0,this.truncated=!1}return t(O,e),O.prototype._read=function(w){},multipart=b,multipart}var Decoder_1,hasRequiredDecoder$1;function requireDecoder$1(){if(hasRequiredDecoder$1)return Decoder_1;hasRequiredDecoder$1=1;const e=/\+/g,t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function a(){this.buffer=void 0}return a.prototype.write=function(p){p=p.replace(e," ");let g="",m=0,c=0;const l=p.length;for(;m<l;++m)this.buffer!==void 0?t[p.charCodeAt(m)]?(this.buffer+=p[m],++c,this.buffer.length===2&&(g+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(g+="%"+this.buffer,this.buffer=void 0,--m):p[m]==="%"&&(m>c&&(g+=p.substring(c,m),c=m),this.buffer="",++c);return c<l&&this.buffer===void 0&&(g+=p.substring(c)),g},a.prototype.reset=function(){this.buffer=void 0},Decoder_1=a,Decoder_1}var urlencoded,hasRequiredUrlencoded;function requireUrlencoded(){if(hasRequiredUrlencoded)return urlencoded;hasRequiredUrlencoded=1;const e=requireDecoder$1(),t=requireDecodeText(),a=requireGetLimit(),p=/^charset$/i;g.detect=/^application\/x-www-form-urlencoded/i;function g(m,c){const l=c.limits,o=c.parsedConType;this.boy=m,this.fieldSizeLimit=a(l,"fieldSize",1048576),this.fieldNameSizeLimit=a(l,"fieldNameSize",100),this.fieldsLimit=a(l,"fields",1/0);let s;for(var h=0,v=o.length;h<v;++h)if(Array.isArray(o[h])&&p.test(o[h][0])){s=o[h][1].toLowerCase();break}s===void 0&&(s=c.defCharset||"utf8"),this.decoder=new e,this.charset=s,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}return g.prototype.write=function(m,c){if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),c();let l,o,s,h=0;const v=m.length;for(;h<v;)if(this._state==="key"){for(l=o=void 0,s=h;s<v;++s){if(this._checkingBytes||++h,m[s]===61){l=s;break}else if(m[s]===38){o=s;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesKey}if(l!==void 0)l>h&&(this._key+=this.decoder.write(m.toString("binary",h,l))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),h=l+1;else if(o!==void 0){++this._fields;let b;const y=this._keyTrunc;if(o>h?b=this._key+=this.decoder.write(m.toString("binary",h,o)):b=this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),b.length&&this.boy.emit("field",t(b,"binary",this.charset),"",y,!1),h=o+1,this._fields===this.fieldsLimit)return c()}else this._hitLimit?(s>h&&(this._key+=this.decoder.write(m.toString("binary",h,s))),h=s,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(h<v&&(this._key+=this.decoder.write(m.toString("binary",h))),h=v)}else{for(o=void 0,s=h;s<v;++s){if(this._checkingBytes||++h,m[s]===38){o=s;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesVal}if(o!==void 0){if(++this._fields,o>h&&(this._val+=this.decoder.write(m.toString("binary",h,o))),this.boy.emit("field",t(this._key,"binary",this.charset),t(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),h=o+1,this._fields===this.fieldsLimit)return c()}else this._hitLimit?(s>h&&(this._val+=this.decoder.write(m.toString("binary",h,s))),h=s,(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(h<v&&(this._val+=this.decoder.write(m.toString("binary",h))),h=v)}c()},g.prototype.end=function(){this.boy._done||(this._state==="key"&&this._key.length>0?this.boy.emit("field",t(this._key,"binary",this.charset),"",this._keyTrunc,!1):this._state==="val"&&this.boy.emit("field",t(this._key,"binary",this.charset),t(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))},urlencoded=g,urlencoded}var hasRequiredMain;function requireMain(){if(hasRequiredMain)return main$1.exports;hasRequiredMain=1;const e=require$$1$3.Writable,{inherits:t}=require$$1$3,a=requireDicer(),p=requireMultipart(),g=requireUrlencoded(),m=requireParseParams();function c(l){if(!(this instanceof c))return new c(l);if(typeof l!="object")throw new TypeError("Busboy expected an options-Object.");if(typeof l.headers!="object")throw new TypeError("Busboy expected an options-Object with headers-attribute.");if(typeof l.headers["content-type"]!="string")throw new TypeError("Missing Content-Type-header.");const{headers:o,...s}=l;this.opts={autoDestroy:!1,...s},e.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(o),this._finished=!1}return t(c,e),c.prototype.emit=function(l){if(l==="finish"){if(this._done){if(this._finished)return}else{this._parser?.end();return}this._finished=!0}e.prototype.emit.apply(this,arguments)},c.prototype.getParserByHeaders=function(l){const o=m(l["content-type"]),s={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:l,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:o,preservePath:this.opts.preservePath};if(p.detect.test(o[0]))return new p(this,s);if(g.detect.test(o[0]))return new g(this,s);throw new Error("Unsupported Content-Type.")},c.prototype._write=function(l,o,s){this._parser.write(l,s)},main$1.exports=c,main$1.exports.default=c,main$1.exports.Busboy=c,main$1.exports.Dicer=a,main$1.exports}var hasRequiredApiRequest;function requireApiRequest(){if(hasRequiredApiRequest)return apiRequest;hasRequiredApiRequest=1;var e={};Object.defineProperty(apiRequest,"__esModule",{value:!0}),apiRequest.Http2SessionHandler=apiRequest.ExponentialBackoffPoller=apiRequest.ApiSettings=apiRequest.AuthorizedHttp2Client=apiRequest.AuthorizedHttpClient=apiRequest.Http2Client=apiRequest.HttpClient=apiRequest.RequestClient=apiRequest.RequestResponseError=void 0,apiRequest.defaultRetryConfig=y,apiRequest.parseHttpResponse=T;const t=requireError(),a=requireValidator$1(),p=require$$1$3,g=require$$1$3,m=require$$1$3,c=require$$1$3,l=require$$1$3,o=requireCredentialInternal(),s=requireUtils$2();class h{constructor(Y){this.status=Y.status,this.headers=Y.headers,this.text=Y.data;try{if(!Y.data)throw new t.FirebaseAppError(t.AppErrorCodes.INTERNAL_ERROR,"HTTP response missing data.");this.parsedData=JSON.parse(Y.data)}catch(te){this.parsedData=void 0,this.parseError=te}this.request=`${Y.config.method} ${Y.config.url}`}get data(){if(this.isJson())return this.parsedData;throw new t.FirebaseAppError(t.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,`Error while parsing response data: "${this.parseError.toString()}". Raw server response: "${this.text}". Status code: "${this.status}". Outgoing request: "${this.request}."`)}isJson(){return typeof this.parsedData<"u"}}class v{constructor(Y){this.status=Y.status,this.headers=Y.headers,this.multipart=Y.multipart}get text(){throw new t.FirebaseAppError(t.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,"Unable to parse multipart payload as text")}get data(){throw new t.FirebaseAppError(t.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,"Unable to parse multipart payload as JSON")}isJson(){return!1}}class b extends Error{constructor(Y){super(`Server responded with status ${Y.status}.`),this.response=Y,Object.setPrototypeOf(this,b.prototype)}}apiRequest.RequestResponseError=b;function y(){return{maxRetries:4,statusCodes:[503],ioErrorCodes:["ECONNRESET","ETIMEDOUT"],backOffFactor:.5,maxDelayInMillis:6e4}}function O(X){if(!a.isNumber(X.maxRetries)||X.maxRetries<0)throw new t.FirebaseAppError(t.AppErrorCodes.INVALID_ARGUMENT,"maxRetries must be a non-negative integer");if(typeof X.backOffFactor<"u"&&(!a.isNumber(X.backOffFactor)||X.backOffFactor<0))throw new t.FirebaseAppError(t.AppErrorCodes.INVALID_ARGUMENT,"backOffFactor must be a non-negative number");if(!a.isNumber(X.maxDelayInMillis)||X.maxDelayInMillis<0)throw new t.FirebaseAppError(t.AppErrorCodes.INVALID_ARGUMENT,"maxDelayInMillis must be a non-negative integer");if(typeof X.statusCodes<"u"&&!a.isArray(X.statusCodes))throw new t.FirebaseAppError(t.AppErrorCodes.INVALID_ARGUMENT,"statusCodes must be an array");if(typeof X.ioErrorCodes<"u"&&!a.isArray(X.ioErrorCodes))throw new t.FirebaseAppError(t.AppErrorCodes.INVALID_ARGUMENT,"ioErrorCodes must be an array")}class w{constructor(Y=y()){Y&&(this.retry=Y,O(this.retry))}createRequestResponse(Y){return Y.multipart?new v(Y):new h(Y)}waitForRetry(Y){return Y>0?new Promise(te=>{setTimeout(te,Y)}):Promise.resolve()}getRetryDelayMillis(Y,te){if(!this.isRetryEligible(Y,te))return[0,!1];const oe=te.response;if(oe&&oe.headers["retry-after"]){const le=this.parseRetryAfterIntoMillis(oe.headers["retry-after"]);if(le>0)return[le,!0]}return[this.backOffDelayMillis(Y),!0]}isRetryEligible(Y,te){return!this.retry||Y>=this.retry.maxRetries?!1:te.response?(this.retry.statusCodes||[]).indexOf(te.response.status)!==-1:te.code?(this.retry.ioErrorCodes||[]).indexOf(te.code)!==-1:!1}parseRetryAfterIntoMillis(Y){const te=parseInt(Y,10);if(!isNaN(te))return te*1e3;const oe=new Date(Y);return isNaN(oe.getTime())?-1:oe.getTime()-Date.now()}backOffDelayMillis(Y){if(Y===0)return 0;if(!this.retry)throw new t.FirebaseAppError(t.AppErrorCodes.INTERNAL_ERROR,"Expected this.retry to exist.");const te=this.retry.backOffFactor||0,oe=2**Y*te;return Math.min(oe*1e3,this.retry.maxDelayInMillis)}}apiRequest.RequestClient=w;class I extends w{constructor(Y){super(Y)}send(Y){return this.sendWithRetry(Y)}sendWithRetry(Y,te=0){return N.invoke(Y).then(oe=>this.createRequestResponse(oe)).catch(oe=>{const[le,ee]=this.getRetryDelayMillis(te,oe);if(ee&&this.retry&&le<=this.retry.maxDelayInMillis)return this.waitForRetry(le).then(()=>this.sendWithRetry(Y,te+1));throw oe.response?new b(this.createRequestResponse(oe.response)):oe.code==="ETIMEDOUT"?new t.FirebaseAppError(t.AppErrorCodes.NETWORK_TIMEOUT,`Error while making request: ${oe.message}.`):new t.FirebaseAppError(t.AppErrorCodes.NETWORK_ERROR,`Error while making request: ${oe.message}. Error code: ${oe.code}`)})}}apiRequest.HttpClient=I;class _ extends w{constructor(Y=y()){super(Y)}send(Y){return this.sendWithRetry(Y)}sendWithRetry(Y,te=0){return L.invoke(Y).then(oe=>this.createRequestResponse(oe)).catch(oe=>{const[le,ee]=this.getRetryDelayMillis(te,oe);if(ee&&this.retry&&le<=this.retry.maxDelayInMillis)return this.waitForRetry(le).then(()=>this.sendWithRetry(Y,te+1));throw oe.response?new b(this.createRequestResponse(oe.response)):oe.code==="ETIMEDOUT"?new t.FirebaseAppError(t.AppErrorCodes.NETWORK_TIMEOUT,`Error while making request: ${oe.message}.`):new t.FirebaseAppError(t.AppErrorCodes.NETWORK_ERROR,`Error while making request: ${oe.message}. Error code: ${oe.code}`)})}}apiRequest.Http2Client=_;function T(X,Y){const te=a.isBuffer(X)?X.toString("utf-8"):X,oe=te.indexOf(`\r
\r
`),le=te.substring(0,oe).split(`\r
`),se=le[0].trim().split(/\s/)[1],de={};le.slice(1).forEach(me=>{const Oe=me.indexOf(":"),fe=me.substring(0,Oe).trim().toLowerCase(),_e=me.substring(Oe+1).trim();de[fe]=_e});let he=te.substring(oe+4);he.endsWith(`
`)&&(he=he.slice(0,-1)),he.endsWith("\r")&&(he=he.slice(0,-1));const ge={status:parseInt(se,10),headers:de,data:he,config:Y,request:null};if(!a.isNumber(ge.status))throw new t.FirebaseAppError(t.AppErrorCodes.INTERNAL_ERROR,"Malformed HTTP status line.");return new h(ge)}class C{constructor(Y){this.configImpl=Y}getMultipartBoundary(Y){const te=Y["content-type"];if(!te||!te.startsWith("multipart/"))return null;const oe=te.split(";"),le={};return oe.slice(1).map(se=>se.trim().split("=")).reduce((se,de)=>{if(de.length===2){const he={};return he[de[0]]=de[1],Object.assign(se,he)}return se},le).boundary}handleMultipartResponse(Y,te,oe){const le=requireMain(),ee=new le.Dicer({boundary:oe}),se=[];ee.on("part",de=>{const he=[];de.on("data",ge=>{he.push(ge)}),de.on("end",()=>{se.push(Buffer.concat(he))})}),ee.on("finish",()=>{Y.data=void 0,Y.multipart=se,this.finalizeResponse(Y)}),te.pipe(ee)}handleRegularResponse(Y,te){const oe=[];te.on("data",le=>{oe.push(le)}),te.on("error",le=>{const ee=Y.request;ee&&ee.destroyed||this.enhanceAndReject(le,null,ee)}),te.on("end",()=>{Y.data=Buffer.concat(oe).toString(),this.finalizeResponse(Y)})}finalizeResponse(Y){Y.status>=200&&Y.status<300?this.resolve(Y):this.rejectWithError("Request failed with status code "+Y.status,null,Y.request,Y)}rejectWithError(Y,te,oe,le){const ee=new Error(Y);this.enhanceAndReject(ee,te,oe,le)}enhanceAndReject(Y,te,oe,le){this.reject(this.enhanceError(Y,te,oe,le))}enhanceError(Y,te,oe,le){return Y.config=this.configImpl,te&&(Y.code=te),Y.request=oe,Y.response=le,Y}}class N extends C{static invoke(Y){return new N(Y).promise}constructor(Y){const te=new j(Y);super(te);try{this.httpConfigImpl=te,this.options=this.httpConfigImpl.buildRequestOptions(),this.entity=this.httpConfigImpl.buildEntity(this.options.headers),this.promise=new Promise((oe,le)=>{this.resolve=oe,this.reject=le,this.execute()})}catch(oe){this.promise=Promise.reject(this.enhanceError(oe,null))}}execute(){const te=(this.options.protocol==="https:"?g:p).request(this.options,ee=>{this.handleResponse(ee,te)});te.on("error",ee=>{te.aborted||this.enhanceAndReject(ee,null,te)});const oe=this.httpConfigImpl.timeout,le=()=>{te.destroy(),this.rejectWithError(`timeout of ${oe}ms exceeded`,"ETIMEDOUT",te)};oe&&te.setTimeout(oe,le),te.end(this.entity)}handleResponse(Y,te){if(te.aborted)return;if(!Y.statusCode)throw new t.FirebaseAppError(t.AppErrorCodes.INTERNAL_ERROR,"Expected a statusCode on the response from a ClientRequest");const oe={status:Y.statusCode,headers:Y.headers,request:te,data:void 0,config:this.httpConfigImpl},le=this.getMultipartBoundary(Y.headers),ee=this.uncompressResponse(Y);le?this.handleMultipartResponse(oe,ee,le):this.handleRegularResponse(oe,ee)}uncompressResponse(Y){let te=Y;const oe=["gzip","compress","deflate"];if(Y.headers["content-encoding"]&&oe.indexOf(Y.headers["content-encoding"])!==-1){const le=require$$1$3;te=te.pipe(le.createUnzip()),delete Y.headers["content-encoding"]}return te}}class L extends C{static invoke(Y){return new L(Y).promise}constructor(Y){const te=new k(Y);super(te);try{this.http2ConfigImpl=te,this.options=this.http2ConfigImpl.buildRequestOptions(),this.entity=this.http2ConfigImpl.buildEntity(this.options.headers),this.promise=new Promise((oe,le)=>{this.resolve=oe,this.reject=le,this.execute()})}catch(oe){this.promise=Promise.reject(this.enhanceError(oe,null))}}execute(){const Y=this.http2ConfigImpl.http2SessionHandler.session.request({":method":this.options.method,":scheme":this.options.protocol,":path":this.options.path,...this.options.headers});Y.on("response",le=>{this.handleHttp2Response(le,Y)}),Y.on("error",le=>{Y.aborted||this.enhanceAndReject(le,null,Y)});const te=this.http2ConfigImpl.timeout,oe=()=>{Y.destroy(),this.rejectWithError(`timeout of ${te}ms exceeded`,"ETIMEDOUT",Y)};te&&Y.setTimeout(te,oe),Y.end(this.entity)}handleHttp2Response(Y,te){if(te.aborted)return;if(!Y[":status"])throw new t.FirebaseAppError(t.AppErrorCodes.INTERNAL_ERROR,"Expected a statusCode on the response from a ClientRequest");const oe={status:Y[":status"],headers:Y,request:te,data:void 0,config:this.http2ConfigImpl},le=this.getMultipartBoundary(Y),ee=this.uncompressResponse(Y,te);le?this.handleMultipartResponse(oe,ee,le):this.handleRegularResponse(oe,ee)}uncompressResponse(Y,te){let oe=te;const le=["gzip","compress","deflate"];if(Y["content-encoding"]&&le.indexOf(Y["content-encoding"])!==-1){const ee=require$$1$3;oe=oe.pipe(ee.createUnzip()),delete Y["content-encoding"]}return oe}}class D{constructor(Y){this.config=Y,this.config=Y}get method(){return this.config.method}get url(){return this.config.url}get headers(){return this.config.headers}get data(){return this.config.data}get timeout(){return this.config.timeout}buildEntity(Y){let te;if(!this.hasEntity()||!this.isEntityEnclosingRequest())return te;if(a.isBuffer(this.data))te=this.data;else if(a.isObject(this.data))te=Buffer.from(JSON.stringify(this.data),"utf-8"),typeof Y["content-type"]>"u"&&(Y["content-type"]="application/json;charset=utf-8");else if(a.isString(this.data))te=Buffer.from(this.data,"utf-8");else throw new Error("Request data must be a string, a Buffer or a json serializable object");return Y["Content-Length"]=te.length.toString(),te}buildUrl(){const Y=this.urlWithProtocol();if(!this.hasEntity()||this.isEntityEnclosingRequest())return c.parse(Y);if(!a.isObject(this.data))throw new Error(`${this.method} requests cannot have a body`);const te=new c.URL(Y),oe=this.data;for(const le in oe)Object.prototype.hasOwnProperty.call(oe,le)&&te.searchParams.append(le,oe[le]);return c.parse(te.toString())}urlWithProtocol(){const Y=this.url;return Y.startsWith("http://")||Y.startsWith("https://")?Y:`https://${Y}`}hasEntity(){return!!this.data}isEntityEnclosingRequest(){return this.method!=="GET"&&this.method!=="HEAD"}}class j extends D{constructor(Y){super(Y),this.httpConfig=Y}get httpAgent(){return this.httpConfig.httpAgent}buildRequestOptions(){const Y=this.buildUrl(),te=Y.protocol;let oe=Y.port;return oe||(oe=te==="https:"?"443":"80"),{protocol:te,hostname:Y.hostname,port:oe,path:Y.path,method:this.method,agent:this.httpAgent,headers:Object.assign({},this.headers)}}}class k extends D{constructor(Y){super(Y),this.http2Config=Y}get http2SessionHandler(){return this.http2Config.http2SessionHandler}buildRequestOptions(){const Y=this.buildUrl();return{protocol:Y.protocol,path:Y.path,method:this.method,headers:Object.assign({},this.headers)}}}class V extends I{constructor(Y){super(),this.app=Y}send(Y){return this.getToken().then(te=>{const oe=Object.assign({},Y);oe.headers=Object.assign({},Y.headers);const le="Authorization";oe.headers[le]=`Bearer ${te}`;let ee;return this.app.options.credential instanceof o.ApplicationDefaultCredential&&(ee=this.app.options.credential.getQuotaProjectId()),ee=e.GOOGLE_CLOUD_QUOTA_PROJECT||ee,!oe.headers["x-goog-user-project"]&&a.isNonEmptyString(ee)&&(oe.headers["x-goog-user-project"]=ee),!oe.httpAgent&&this.app.options.httpAgent&&(oe.httpAgent=this.app.options.httpAgent),oe.headers["X-Goog-Api-Client"]=(0,s.getMetricsHeader)(),super.send(oe)})}getToken(){return this.app.INTERNAL.getToken().then(Y=>Y.accessToken)}}apiRequest.AuthorizedHttpClient=V;class G extends _{constructor(Y){super(),this.app=Y}send(Y){return this.getToken().then(te=>{const oe=Object.assign({},Y);oe.headers=Object.assign({},Y.headers);const le="Authorization";oe.headers[le]=`Bearer ${te}`;let ee;return this.app.options.credential instanceof o.ApplicationDefaultCredential&&(ee=this.app.options.credential.getQuotaProjectId()),ee=e.GOOGLE_CLOUD_QUOTA_PROJECT||ee,!oe.headers["x-goog-user-project"]&&a.isNonEmptyString(ee)&&(oe.headers["x-goog-user-project"]=ee),oe.headers["X-Goog-Api-Client"]=(0,s.getMetricsHeader)(),super.send(oe)})}getToken(){return this.app.INTERNAL.getToken().then(Y=>Y.accessToken)}}apiRequest.AuthorizedHttp2Client=G;class J{constructor(Y,te="POST"){this.endpoint=Y,this.httpMethod=te,this.setRequestValidator(null).setResponseValidator(null)}getEndpoint(){return this.endpoint}getHttpMethod(){return this.httpMethod}setRequestValidator(Y){const te=()=>{};return this.requestValidator=Y||te,this}getRequestValidator(){return this.requestValidator}setResponseValidator(Y){const te=()=>{};return this.responseValidator=Y||te,this}getResponseValidator(){return this.responseValidator}}apiRequest.ApiSettings=J;class W extends l.EventEmitter{constructor(Y=1e3,te=1e4,oe=6e4){super(),this.initialPollingDelayMillis=Y,this.maxPollingDelayMillis=te,this.masterTimeoutMillis=oe,this.numTries=0,this.completed=!1}poll(Y){if(this.pollCallback)throw new Error("poll() can only be called once per instance of ExponentialBackoffPoller");return this.pollCallback=Y,this.on("poll",this.repoll),this.masterTimer=setTimeout(()=>{this.completed||(this.markCompleted(),this.reject(new Error("ExponentialBackoffPoller deadline exceeded - Master timeout reached")))},this.masterTimeoutMillis),new Promise((te,oe)=>{this.resolve=te,this.reject=oe,this.repoll()})}repoll(){this.pollCallback().then(Y=>{if(!this.completed){if(!Y){this.repollTimer=setTimeout(()=>this.emit("poll"),this.getPollingDelayMillis()),this.numTries++;return}this.markCompleted(),this.resolve(Y)}}).catch(Y=>{this.completed||(this.markCompleted(),this.reject(Y))})}getPollingDelayMillis(){const Y=Math.pow(2,this.numTries)*this.initialPollingDelayMillis;return Math.min(Y,this.maxPollingDelayMillis)}markCompleted(){this.completed=!0,this.masterTimer&&clearTimeout(this.masterTimer),this.repollTimer&&clearTimeout(this.repollTimer)}}apiRequest.ExponentialBackoffPoller=W;class K{constructor(Y){this.promise=new Promise((te,oe)=>{this.resolve=te,this.reject=oe,this.http2Session=this.createSession(Y)})}createSession(Y){if(!this.http2Session||this.isClosed){const te={peerMaxConcurrentStreams:100,ALPNProtocols:["h2"]},oe=m.connect(Y,te);return oe.on("goaway",(le,ee,se)=>{this.reject(new t.FirebaseAppError(t.AppErrorCodes.NETWORK_ERROR,`Error while making requests: GOAWAY - ${se?.toString()}, Error code: ${le}`))}),oe.on("error",le=>{let ee;le.name=="AggregateError"&&le.errors?ee=`Session error while making requests: ${le.code} - ${le.name}: [${le.errors.map(se=>se.message).join(", ")}]`:ee=`Session error while making requests: ${le.code} - ${le.message} `,this.reject(new t.FirebaseAppError(t.AppErrorCodes.NETWORK_ERROR,ee))}),oe.on("close",()=>{this.resolve()}),oe}return this.http2Session}invoke(){return this.promise}get session(){return this.http2Session}get isClosed(){return this.http2Session.closed}close(){this.http2Session.close()}}return apiRequest.Http2SessionHandler=K,apiRequest}var userImportBuilder={};var hasRequiredUserImportBuilder;function requireUserImportBuilder(){if(hasRequiredUserImportBuilder)return userImportBuilder;hasRequiredUserImportBuilder=1;Object.defineProperty(userImportBuilder,"__esModule",{value:!0}),userImportBuilder.UserImportBuilder=void 0,userImportBuilder.convertMultiFactorInfoToServerFormat=g;const e=requireDeepCopy(),t=requireUtils$2(),a=requireValidator$1(),p=requireError();function g(s){let h;if(typeof s.enrollmentTime<"u")if(a.isUTCDateString(s.enrollmentTime))h=new Date(s.enrollmentTime).toISOString();else throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ENROLLMENT_TIME,`The second factor "enrollmentTime" for "${s.uid}" must be a valid UTC date string.`);if(m(s)){const v={mfaEnrollmentId:s.uid,displayName:s.displayName,phoneInfo:s.phoneNumber,enrolledAt:h};for(const b in v)typeof v[b]>"u"&&delete v[b];return v}else throw new p.FirebaseAuthError(p.AuthClientErrorCode.UNSUPPORTED_SECOND_FACTOR,`Unsupported second factor "${JSON.stringify(s)}" provided.`)}function m(s){return s.factorId==="phone"}function c(s,h){return typeof s[h]<"u"&&s[h]!==null?parseInt(s[h].toString(),10):NaN}function l(s,h){const v={localId:s.uid,email:s.email,emailVerified:s.emailVerified,displayName:s.displayName,disabled:s.disabled,photoUrl:s.photoURL,phoneNumber:s.phoneNumber,providerUserInfo:[],mfaInfo:[],tenantId:s.tenantId,customAttributes:s.customClaims&&JSON.stringify(s.customClaims)};if(typeof s.passwordHash<"u"){if(!a.isBuffer(s.passwordHash))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_PASSWORD_HASH);v.passwordHash=t.toWebSafeBase64(s.passwordHash)}if(typeof s.passwordSalt<"u"){if(!a.isBuffer(s.passwordSalt))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_PASSWORD_SALT);v.salt=t.toWebSafeBase64(s.passwordSalt)}a.isNonNullObject(s.metadata)&&(a.isNonEmptyString(s.metadata.creationTime)&&(v.createdAt=new Date(s.metadata.creationTime).getTime()),a.isNonEmptyString(s.metadata.lastSignInTime)&&(v.lastLoginAt=new Date(s.metadata.lastSignInTime).getTime())),a.isArray(s.providerData)&&s.providerData.forEach(y=>{v.providerUserInfo.push({providerId:y.providerId,rawId:y.uid,email:y.email,displayName:y.displayName,photoUrl:y.photoURL})}),a.isNonNullObject(s.multiFactor)&&a.isNonEmptyArray(s.multiFactor.enrolledFactors)&&s.multiFactor.enrolledFactors.forEach(y=>{v.mfaInfo.push(g(y))});let b;for(b in v)typeof v[b]>"u"&&delete v[b];return v.providerUserInfo.length===0&&delete v.providerUserInfo,v.mfaInfo.length===0&&delete v.mfaInfo,typeof h=="function"&&h(v),v}class o{constructor(h,v,b){this.requiresHashOptions=!1,this.validatedUsers=[],this.userImportResultErrors=[],this.indexMap={},this.validatedUsers=this.populateUsers(h,b),this.validatedOptions=this.populateOptions(v,this.requiresHashOptions)}buildRequest(){const h=this.validatedUsers.map(v=>(0,e.deepCopy)(v));return(0,e.deepExtend)({users:h},(0,e.deepCopy)(this.validatedOptions))}buildResponse(h){const v={successCount:this.validatedUsers.length,failureCount:this.userImportResultErrors.length,errors:(0,e.deepCopy)(this.userImportResultErrors)};return v.failureCount+=h.length,v.successCount-=h.length,h.forEach(b=>{v.errors.push({index:this.indexMap[b.index],error:new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_USER_IMPORT,b.message)})}),v.errors.sort((b,y)=>b.index-y.index),v}populateOptions(h,v){let b;if(!v)return{};if(!a.isNonNullObject(h))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,'"UserImportOptions" are required when importing users with passwords.');if(!a.isNonNullObject(h.hash))throw new p.FirebaseAuthError(p.AuthClientErrorCode.MISSING_HASH_ALGORITHM,'"hash.algorithm" is missing from the provided "UserImportOptions".');if(typeof h.hash.algorithm>"u"||!a.isNonEmptyString(h.hash.algorithm))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_ALGORITHM,'"hash.algorithm" must be a string matching the list of supported algorithms.');let y;switch(h.hash.algorithm){case"HMAC_SHA512":case"HMAC_SHA256":case"HMAC_SHA1":case"HMAC_MD5":if(!a.isBuffer(h.hash.key))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_KEY,`A non-empty "hash.key" byte buffer must be provided for hash algorithm ${h.hash.algorithm}.`);b={hashAlgorithm:h.hash.algorithm,signerKey:t.toWebSafeBase64(h.hash.key)};break;case"MD5":case"SHA1":case"SHA256":case"SHA512":{y=c(h.hash,"rounds");const O=h.hash.algorithm==="MD5"?0:1;if(isNaN(y)||y<O||y>8192)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_ROUNDS,`A valid "hash.rounds" number between ${O} and 8192 must be provided for hash algorithm ${h.hash.algorithm}.`);b={hashAlgorithm:h.hash.algorithm,rounds:y};break}case"PBKDF_SHA1":case"PBKDF2_SHA256":if(y=c(h.hash,"rounds"),isNaN(y)||y<0||y>12e4)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_ROUNDS,`A valid "hash.rounds" number between 0 and 120000 must be provided for hash algorithm ${h.hash.algorithm}.`);b={hashAlgorithm:h.hash.algorithm,rounds:y};break;case"SCRYPT":{if(!a.isBuffer(h.hash.key))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_KEY,`A "hash.key" byte buffer must be provided for hash algorithm ${h.hash.algorithm}.`);if(y=c(h.hash,"rounds"),isNaN(y)||y<=0||y>8)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_ROUNDS,`A valid "hash.rounds" number between 1 and 8 must be provided for hash algorithm ${h.hash.algorithm}.`);const O=c(h.hash,"memoryCost");if(isNaN(O)||O<=0||O>14)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_MEMORY_COST,`A valid "hash.memoryCost" number between 1 and 14 must be provided for hash algorithm ${h.hash.algorithm}.`);if(typeof h.hash.saltSeparator<"u"&&!a.isBuffer(h.hash.saltSeparator))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_SALT_SEPARATOR,'"hash.saltSeparator" must be a byte buffer.');b={hashAlgorithm:h.hash.algorithm,signerKey:t.toWebSafeBase64(h.hash.key),rounds:y,memoryCost:O,saltSeparator:t.toWebSafeBase64(h.hash.saltSeparator||Buffer.from(""))};break}case"BCRYPT":b={hashAlgorithm:h.hash.algorithm};break;case"STANDARD_SCRYPT":{const O=c(h.hash,"memoryCost");if(isNaN(O))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_MEMORY_COST,`A valid "hash.memoryCost" number must be provided for hash algorithm ${h.hash.algorithm}.`);const w=c(h.hash,"parallelization");if(isNaN(w))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_PARALLELIZATION,`A valid "hash.parallelization" number must be provided for hash algorithm ${h.hash.algorithm}.`);const I=c(h.hash,"blockSize");if(isNaN(I))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_BLOCK_SIZE,`A valid "hash.blockSize" number must be provided for hash algorithm ${h.hash.algorithm}.`);const _=c(h.hash,"derivedKeyLength");if(isNaN(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_DERIVED_KEY_LENGTH,`A valid "hash.derivedKeyLength" number must be provided for hash algorithm ${h.hash.algorithm}.`);b={hashAlgorithm:h.hash.algorithm,cpuMemCost:O,parallelization:w,blockSize:I,dkLen:_};break}default:throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_HASH_ALGORITHM,`Unsupported hash algorithm provider "${h.hash.algorithm}".`)}return b}populateUsers(h,v){const b=[];return h.forEach((y,O)=>{try{const w=l(y,v);typeof w.passwordHash<"u"&&(this.requiresHashOptions=!0),b.push(w),this.indexMap[b.length-1]=O}catch(w){this.userImportResultErrors.push({index:O,error:w})}}),b}}return userImportBuilder.UserImportBuilder=o,userImportBuilder}var actionCodeSettingsBuilder={};var hasRequiredActionCodeSettingsBuilder;function requireActionCodeSettingsBuilder(){if(hasRequiredActionCodeSettingsBuilder)return actionCodeSettingsBuilder;hasRequiredActionCodeSettingsBuilder=1;Object.defineProperty(actionCodeSettingsBuilder,"__esModule",{value:!0}),actionCodeSettingsBuilder.ActionCodeSettingsBuilder=void 0;const e=requireValidator$1(),t=requireError();class a{constructor(g){if(!e.isNonNullObject(g))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings" must be a non-null object.');if(typeof g.url>"u")throw new t.FirebaseAuthError(t.AuthClientErrorCode.MISSING_CONTINUE_URI);if(!e.isURL(g.url))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONTINUE_URI);if(this.continueUrl=g.url,typeof g.handleCodeInApp<"u"&&!e.isBoolean(g.handleCodeInApp))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.handleCodeInApp" must be a boolean.');if(this.canHandleCodeInApp=g.handleCodeInApp||!1,typeof g.dynamicLinkDomain<"u"&&!e.isNonEmptyString(g.dynamicLinkDomain))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_DYNAMIC_LINK_DOMAIN);if(this.dynamicLinkDomain=g.dynamicLinkDomain,typeof g.linkDomain<"u"&&!e.isNonEmptyString(g.linkDomain))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_HOSTING_LINK_DOMAIN);if(this.linkDomain=g.linkDomain,typeof g.iOS<"u"){if(e.isNonNullObject(g.iOS)){if(typeof g.iOS.bundleId>"u")throw new t.FirebaseAuthError(t.AuthClientErrorCode.MISSING_IOS_BUNDLE_ID);if(!e.isNonEmptyString(g.iOS.bundleId))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.iOS.bundleId" must be a valid non-empty string.')}else throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.iOS" must be a valid non-null object.');this.ibi=g.iOS.bundleId}if(typeof g.android<"u"){if(e.isNonNullObject(g.android)){if(typeof g.android.packageName>"u")throw new t.FirebaseAuthError(t.AuthClientErrorCode.MISSING_ANDROID_PACKAGE_NAME);if(e.isNonEmptyString(g.android.packageName)){if(typeof g.android.minimumVersion<"u"&&!e.isNonEmptyString(g.android.minimumVersion))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.minimumVersion" must be a valid non-empty string.');if(typeof g.android.installApp<"u"&&!e.isBoolean(g.android.installApp))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.installApp" must be a valid boolean.')}else throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.packageName" must be a valid non-empty string.')}else throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android" must be a valid non-null object.');this.apn=g.android.packageName,this.amv=g.android.minimumVersion,this.installApp=g.android.installApp||!1}}buildRequest(){const g={continueUrl:this.continueUrl,canHandleCodeInApp:this.canHandleCodeInApp,dynamicLinkDomain:this.dynamicLinkDomain,linkDomain:this.linkDomain,androidPackageName:this.apn,androidMinimumVersion:this.amv,androidInstallApp:this.installApp,iOSBundleId:this.ibi};for(const m in g)Object.prototype.hasOwnProperty.call(g,m)&&(typeof g[m]>"u"||g[m]===null)&&delete g[m];return g}}return actionCodeSettingsBuilder.ActionCodeSettingsBuilder=a,actionCodeSettingsBuilder}var tenant={},authConfig={};var hasRequiredAuthConfig;function requireAuthConfig(){return hasRequiredAuthConfig||(hasRequiredAuthConfig=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EmailPrivacyAuthConfig=e.PasswordPolicyAuthConfig=e.MobileLinksAuthConfig=e.RecaptchaAuthConfig=e.SmsRegionsAuthConfig=e.OIDCConfig=e.SAMLConfig=e.EmailSignInConfig=e.MultiFactorAuthConfig=e.MAXIMUM_TEST_PHONE_NUMBERS=void 0,e.validateTestPhoneNumbers=l;const t=requireValidator$1(),a=requireDeepCopy(),p=requireError();e.MAXIMUM_TEST_PHONE_NUMBERS=10;const g={phone:"PHONE_SMS"},m=Object.keys(g).reduce((I,_)=>(I[g[_]]=_,I),{});class c{static buildServerRequest(_){const T={};return c.validate(_),Object.prototype.hasOwnProperty.call(_,"state")&&(T.state=_.state),Object.prototype.hasOwnProperty.call(_,"factorIds")&&((_.factorIds||[]).forEach(C=>{typeof T.enabledProviders>"u"&&(T.enabledProviders=[]),T.enabledProviders.push(g[C])}),_.factorIds&&_.factorIds.length===0&&(T.enabledProviders=[])),Object.prototype.hasOwnProperty.call(_,"providerConfigs")&&(T.providerConfigs=_.providerConfigs),T}static validate(_){const T={state:!0,factorIds:!0,providerConfigs:!0};if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig" must be a non-null object.');for(const C in _)if(!(C in T))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${C}" is not a valid MultiFactorConfig parameter.`);if(typeof _.state<"u"&&_.state!=="ENABLED"&&_.state!=="DISABLED")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.state" must be either "ENABLED" or "DISABLED".');if(typeof _.factorIds<"u"){if(!t.isArray(_.factorIds))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.factorIds" must be an array of valid "AuthFactorTypes".');_.factorIds.forEach(C=>{if(typeof g[C]>"u")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${C}" is not a valid "AuthFactorType".`)})}if(typeof _.providerConfigs<"u"){if(!t.isArray(_.providerConfigs))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.providerConfigs" must be an array of valid "MultiFactorProviderConfig."');_.providerConfigs.forEach(C=>{if(typeof C>"u"||!t.isObject(C))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${C}" is not a valid "MultiFactorProviderConfig" type.`);const N={state:!0,totpProviderConfig:!0};for(const j in C)if(!(j in N))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${j}" is not a valid ProviderConfig parameter.`);if(typeof C.state>"u"||C.state!=="ENABLED"&&C.state!=="DISABLED")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.providerConfigs.state" must be either "ENABLED" or "DISABLED".');if(typeof C.totpProviderConfig>"u")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.providerConfigs.totpProviderConfig" must be defined.');const L={adjacentIntervals:!0};for(const j in C.totpProviderConfig)if(!(j in L))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${j}" is not a valid TotpProviderConfig parameter.`);const D=C.totpProviderConfig.adjacentIntervals;if(typeof D<"u"&&(!Number.isInteger(D)||D<0||D>10))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,'"MultiFactorConfig.providerConfigs.totpProviderConfig.adjacentIntervals" must be a valid number between 0 and 10 (both inclusive).')})}}constructor(_){if(typeof _.state>"u")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor configuration response");this.state=_.state,this.factorIds=[],(_.enabledProviders||[]).forEach(T=>{typeof m[T]<"u"&&this.factorIds.push(m[T])}),this.providerConfigs=[],(_.providerConfigs||[]).forEach(T=>{if(typeof T<"u"){if(typeof T.state>"u"||typeof T.totpProviderConfig>"u"||typeof T.totpProviderConfig.adjacentIntervals<"u"&&typeof T.totpProviderConfig.adjacentIntervals!="number")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor configuration response");this.providerConfigs.push(T)}})}toJSON(){return{state:this.state,factorIds:this.factorIds,providerConfigs:this.providerConfigs}}}e.MultiFactorAuthConfig=c;function l(I){if(!t.isObject(I))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,'"testPhoneNumbers" must be a map of phone number / code pairs.');if(Object.keys(I).length>e.MAXIMUM_TEST_PHONE_NUMBERS)throw new p.FirebaseAuthError(p.AuthClientErrorCode.MAXIMUM_TEST_PHONE_NUMBER_EXCEEDED);for(const _ in I){if(!t.isPhoneNumber(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_TESTING_PHONE_NUMBER,`"${_}" is not a valid E.164 standard compliant phone number.`);if(!t.isString(I[_])||!/^[\d]{6}$/.test(I[_]))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_TESTING_PHONE_NUMBER,`"${I[_]}" is not a valid 6 digit code string.`)}}class o{static buildServerRequest(_){const T={};return o.validate(_),Object.prototype.hasOwnProperty.call(_,"enabled")&&(T.allowPasswordSignup=_.enabled),Object.prototype.hasOwnProperty.call(_,"passwordRequired")&&(T.enableEmailLinkSignin=!_.passwordRequired),T}static validate(_){const T={enabled:!0,passwordRequired:!0};if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig" must be a non-null object.');for(const C in _)if(!(C in T))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,`"${C}" is not a valid EmailSignInConfig parameter.`);if(typeof _.enabled<"u"&&!t.isBoolean(_.enabled))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig.enabled" must be a boolean.');if(typeof _.passwordRequired<"u"&&!t.isBoolean(_.passwordRequired))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig.passwordRequired" must be a boolean.')}constructor(_){if(typeof _.allowPasswordSignup>"u")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid email sign-in configuration response");this.enabled=_.allowPasswordSignup,this.passwordRequired=!_.enableEmailLinkSignin}toJSON(){return{enabled:this.enabled,passwordRequired:this.passwordRequired}}}e.EmailSignInConfig=o;class s{static buildServerRequest(_,T=!1){if(!(t.isNonNullObject(_)&&(_.providerId||T)))return null;const N={};if(s.validate(_,T),N.enabled=_.enabled,N.displayName=_.displayName,(_.idpEntityId||_.ssoURL||_.x509Certificates)&&(N.idpConfig={idpEntityId:_.idpEntityId,ssoUrl:_.ssoURL,signRequest:_.enableRequestSigning,idpCertificates:typeof _.x509Certificates>"u"?void 0:[]},_.x509Certificates))for(const L of _.x509Certificates||[])N.idpConfig.idpCertificates.push({x509Certificate:L});return(_.callbackURL||_.rpEntityId)&&(N.spConfig={spEntityId:_.rpEntityId,callbackUri:_.callbackURL}),N}static getProviderIdFromResourceName(_){const T=_.match(/\/inboundSamlConfigs\/(saml\..*)$/);return!T||T.length<2?null:T[1]}static isProviderId(_){return t.isNonEmptyString(_)&&_.indexOf("saml.")===0}static validate(_,T=!1){const C={enabled:!0,displayName:!0,providerId:!0,idpEntityId:!0,ssoURL:!0,x509Certificates:!0,rpEntityId:!0,callbackURL:!0,enableRequestSigning:!0};if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig" must be a valid non-null object.');for(const N in _)if(!(N in C))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${N}" is not a valid SAML config parameter.`);if(t.isNonEmptyString(_.providerId)){if(_.providerId.indexOf("saml.")!==0)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_PROVIDER_ID,'"SAMLAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "saml.".')}else if(!T)throw new p.FirebaseAuthError(_.providerId?p.AuthClientErrorCode.INVALID_PROVIDER_ID:p.AuthClientErrorCode.MISSING_PROVIDER_ID,'"SAMLAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "saml.".');if(!(T&&typeof _.idpEntityId>"u")&&!t.isNonEmptyString(_.idpEntityId))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.idpEntityId" must be a valid non-empty string.');if(!(T&&typeof _.ssoURL>"u")&&!t.isURL(_.ssoURL))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.ssoURL" must be a valid URL string.');if(!(T&&typeof _.rpEntityId>"u")&&!t.isNonEmptyString(_.rpEntityId))throw new p.FirebaseAuthError(_.rpEntityId?p.AuthClientErrorCode.INVALID_CONFIG:p.AuthClientErrorCode.MISSING_SAML_RELYING_PARTY_CONFIG,'"SAMLAuthProviderConfig.rpEntityId" must be a valid non-empty string.');if(!(T&&typeof _.callbackURL>"u")&&!t.isURL(_.callbackURL))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.callbackURL" must be a valid URL string.');if(!(T&&typeof _.x509Certificates>"u")&&!t.isArray(_.x509Certificates))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.x509Certificates" must be a valid array of X509 certificate strings.');if((_.x509Certificates||[]).forEach(N=>{if(!t.isNonEmptyString(N))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.x509Certificates" must be a valid array of X509 certificate strings.')}),typeof _.enableRequestSigning<"u"&&!t.isBoolean(_.enableRequestSigning))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.enableRequestSigning" must be a boolean.');if(typeof _.enabled<"u"&&!t.isBoolean(_.enabled))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.enabled" must be a boolean.');if(typeof _.displayName<"u"&&!t.isString(_.displayName))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.displayName" must be a valid string.')}constructor(_){if(!_||!_.idpConfig||!_.idpConfig.idpEntityId||!_.idpConfig.ssoUrl||!_.spConfig||!_.spConfig.spEntityId||!_.name||!(t.isString(_.name)&&s.getProviderIdFromResourceName(_.name)))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");const T=s.getProviderIdFromResourceName(_.name);if(!T)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");this.providerId=T,this.rpEntityId=_.spConfig.spEntityId,this.callbackURL=_.spConfig.callbackUri,this.idpEntityId=_.idpConfig.idpEntityId,this.ssoURL=_.idpConfig.ssoUrl,this.enableRequestSigning=!!_.idpConfig.signRequest;const C=[];for(const N of _.idpConfig.idpCertificates||[])N.x509Certificate&&C.push(N.x509Certificate);this.x509Certificates=C,this.enabled=!!_.enabled,this.displayName=_.displayName}toJSON(){return{enabled:this.enabled,displayName:this.displayName,providerId:this.providerId,idpEntityId:this.idpEntityId,ssoURL:this.ssoURL,x509Certificates:(0,a.deepCopy)(this.x509Certificates),rpEntityId:this.rpEntityId,callbackURL:this.callbackURL,enableRequestSigning:this.enableRequestSigning}}}e.SAMLConfig=s;class h{static buildServerRequest(_,T=!1){if(!(t.isNonNullObject(_)&&(_.providerId||T)))return null;const N={};return h.validate(_,T),N.enabled=_.enabled,N.displayName=_.displayName,N.issuer=_.issuer,N.clientId=_.clientId,typeof _.clientSecret<"u"&&(N.clientSecret=_.clientSecret),typeof _.responseType<"u"&&(N.responseType=_.responseType),N}static getProviderIdFromResourceName(_){const T=_.match(/\/oauthIdpConfigs\/(oidc\..*)$/);return!T||T.length<2?null:T[1]}static isProviderId(_){return t.isNonEmptyString(_)&&_.indexOf("oidc.")===0}static validate(_,T=!1){const C={enabled:!0,displayName:!0,providerId:!0,clientId:!0,issuer:!0,clientSecret:!0,responseType:!0},N={idToken:!0,code:!0};if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig" must be a valid non-null object.');for(const L in _)if(!(L in C))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${L}" is not a valid OIDC config parameter.`);if(t.isNonEmptyString(_.providerId)){if(_.providerId.indexOf("oidc.")!==0)throw new p.FirebaseAuthError(_.providerId?p.AuthClientErrorCode.INVALID_PROVIDER_ID:p.AuthClientErrorCode.MISSING_PROVIDER_ID,'"OIDCAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "oidc.".')}else if(!T)throw new p.FirebaseAuthError(_.providerId?p.AuthClientErrorCode.INVALID_PROVIDER_ID:p.AuthClientErrorCode.MISSING_PROVIDER_ID,'"OIDCAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "oidc.".');if(!(T&&typeof _.clientId>"u")&&!t.isNonEmptyString(_.clientId))throw new p.FirebaseAuthError(_.clientId?p.AuthClientErrorCode.INVALID_OAUTH_CLIENT_ID:p.AuthClientErrorCode.MISSING_OAUTH_CLIENT_ID,'"OIDCAuthProviderConfig.clientId" must be a valid non-empty string.');if(!(T&&typeof _.issuer>"u")&&!t.isURL(_.issuer))throw new p.FirebaseAuthError(_.issuer?p.AuthClientErrorCode.INVALID_CONFIG:p.AuthClientErrorCode.MISSING_ISSUER,'"OIDCAuthProviderConfig.issuer" must be a valid URL string.');if(typeof _.enabled<"u"&&!t.isBoolean(_.enabled))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.enabled" must be a boolean.');if(typeof _.displayName<"u"&&!t.isString(_.displayName))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.displayName" must be a valid string.');if(typeof _.clientSecret<"u"&&!t.isNonEmptyString(_.clientSecret))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.clientSecret" must be a valid string.');if(t.isNonNullObject(_.responseType)&&typeof _.responseType<"u"){Object.keys(_.responseType).forEach(V=>{if(!(V in N))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${V}" is not a valid OAuthResponseType parameter.`)});const L=_.responseType.idToken;if(typeof L<"u"&&!t.isBoolean(L))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,'"OIDCAuthProviderConfig.responseType.idToken" must be a boolean.');const D=_.responseType.code;if(typeof D<"u"){if(!t.isBoolean(D))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,'"OIDCAuthProviderConfig.responseType.code" must be a boolean.');if(D&&typeof _.clientSecret>"u")throw new p.FirebaseAuthError(p.AuthClientErrorCode.MISSING_OAUTH_CLIENT_SECRET,"The OAuth configuration client secret is required to enable OIDC code flow.")}const j=Object.keys(_.responseType).length,k=Object.values(_.responseType).filter(Boolean).length;if(j>1&&k!==1)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_OAUTH_RESPONSETYPE,"Only exactly one OAuth responseType should be set to true.")}}constructor(_){if(!_||!_.issuer||!_.clientId||!_.name||!(t.isString(_.name)&&h.getProviderIdFromResourceName(_.name)))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid OIDC configuration response");const T=h.getProviderIdFromResourceName(_.name);if(!T)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");this.providerId=T,this.clientId=_.clientId,this.issuer=_.issuer,this.enabled=!!_.enabled,this.displayName=_.displayName,typeof _.clientSecret<"u"&&(this.clientSecret=_.clientSecret),typeof _.responseType<"u"&&(this.responseType=_.responseType)}toJSON(){return{enabled:this.enabled,displayName:this.displayName,providerId:this.providerId,issuer:this.issuer,clientId:this.clientId,clientSecret:(0,a.deepCopy)(this.clientSecret),responseType:(0,a.deepCopy)(this.responseType)}}}e.OIDCConfig=h;class v{static validate(_){if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SmsRegionConfig" must be a non-null object.');const T={allowlistOnly:!0,allowByDefault:!0};for(const C in _)if(!(C in T))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${C}" is not a valid SmsRegionConfig parameter.`);if(typeof _.allowByDefault<"u"&&typeof _.allowlistOnly<"u")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'SmsRegionConfig cannot have both "allowByDefault" and "allowlistOnly" parameters.');if(typeof _.allowByDefault<"u"){const C={disallowedRegions:!0};for(const N in _.allowByDefault)if(!(N in C))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${N}" is not a valid SmsRegionConfig.allowByDefault parameter.`);if(typeof _.allowByDefault.disallowedRegions<"u"&&!t.isArray(_.allowByDefault.disallowedRegions))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SmsRegionConfig.allowByDefault.disallowedRegions" must be a valid string array.')}if(typeof _.allowlistOnly<"u"){const C={allowedRegions:!0};for(const N in _.allowlistOnly)if(!(N in C))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${N}" is not a valid SmsRegionConfig.allowlistOnly parameter.`);if(typeof _.allowlistOnly.allowedRegions<"u"&&!t.isArray(_.allowlistOnly.allowedRegions))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"SmsRegionConfig.allowlistOnly.allowedRegions" must be a valid string array.')}}}e.SmsRegionsAuthConfig=v;class b{constructor(_){const T=Object.fromEntries(Object.entries(_).filter(([,C])=>C!==void 0));T.tollFraudManagedRules!==void 0&&(this.smsTollFraudManagedRules=T.tollFraudManagedRules,delete T.tollFraudManagedRules),Object.assign(this,T)}static buildServerRequest(_){b.validate(_);const T={};return typeof _.emailPasswordEnforcementState<"u"&&(T.emailPasswordEnforcementState=_.emailPasswordEnforcementState),typeof _.phoneEnforcementState<"u"&&(T.phoneEnforcementState=_.phoneEnforcementState),typeof _.managedRules<"u"&&(T.managedRules=_.managedRules),typeof _.recaptchaKeys<"u"&&(T.recaptchaKeys=_.recaptchaKeys),typeof _.useAccountDefender<"u"&&(T.useAccountDefender=_.useAccountDefender),typeof _.useSmsBotScore<"u"&&(T.useSmsBotScore=_.useSmsBotScore),typeof _.useSmsTollFraudProtection<"u"&&(T.useSmsTollFraudProtection=_.useSmsTollFraudProtection),typeof _.smsTollFraudManagedRules<"u"&&(T.tollFraudManagedRules=_.smsTollFraudManagedRules),T}static validate(_){const T={emailPasswordEnforcementState:!0,phoneEnforcementState:!0,managedRules:!0,recaptchaKeys:!0,useAccountDefender:!0,useSmsBotScore:!0,useSmsTollFraudProtection:!0,smsTollFraudManagedRules:!0};if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig" must be a non-null object.');for(const C in _)if(!(C in T))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${C}" is not a valid RecaptchaConfig parameter.`);if(typeof _.emailPasswordEnforcementState<"u"){if(!t.isNonEmptyString(_.emailPasswordEnforcementState))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,'"RecaptchaConfig.emailPasswordEnforcementState" must be a valid non-empty string.');if(_.emailPasswordEnforcementState!=="OFF"&&_.emailPasswordEnforcementState!=="AUDIT"&&_.emailPasswordEnforcementState!=="ENFORCE")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.emailPasswordEnforcementState" must be either "OFF", "AUDIT" or "ENFORCE".')}if(typeof _.phoneEnforcementState<"u"){if(!t.isNonEmptyString(_.phoneEnforcementState))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_ARGUMENT,'"RecaptchaConfig.phoneEnforcementState" must be a valid non-empty string.');if(_.phoneEnforcementState!=="OFF"&&_.phoneEnforcementState!=="AUDIT"&&_.phoneEnforcementState!=="ENFORCE")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.phoneEnforcementState" must be either "OFF", "AUDIT" or "ENFORCE".')}if(typeof _.managedRules<"u"){if(!t.isArray(_.managedRules))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.managedRules" must be an array of valid "RecaptchaManagedRule".');_.managedRules.forEach(C=>{b.validateManagedRule(C)})}if(typeof _.useAccountDefender<"u"&&!t.isBoolean(_.useAccountDefender))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.useAccountDefender" must be a boolean value".');if(typeof _.useSmsBotScore<"u"&&!t.isBoolean(_.useSmsBotScore))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.useSmsBotScore" must be a boolean value".');if(typeof _.useSmsTollFraudProtection<"u"&&!t.isBoolean(_.useSmsTollFraudProtection))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.useSmsTollFraudProtection" must be a boolean value".');if(typeof _.smsTollFraudManagedRules<"u"){if(!t.isArray(_.smsTollFraudManagedRules))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.smsTollFraudManagedRules" must be an array of valid "RecaptchaTollFraudManagedRule".');_.smsTollFraudManagedRules.forEach(C=>{b.validateTollFraudManagedRule(C)})}}static validateManagedRule(_){const T={endScore:!0,action:!0};if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaManagedRule" must be a non-null object.');for(const C in _)if(!(C in T))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${C}" is not a valid RecaptchaManagedRule parameter.`);if(typeof _.action<"u"&&_.action!=="BLOCK")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaManagedRule.action" must be "BLOCK".')}static validateTollFraudManagedRule(_){const T={startScore:!0,action:!0};if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaTollFraudManagedRule" must be a non-null object.');for(const C in _)if(!(C in T))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${C}" is not a valid RecaptchaTollFraudManagedRule parameter.`);if(typeof _.action<"u"&&_.action!=="BLOCK")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaTollFraudManagedRule.action" must be "BLOCK".')}}e.RecaptchaAuthConfig=b;class y{static validate(_){if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"MobileLinksConfig" must be a non-null object.');const T={domain:!0};for(const C in _)if(!(C in T))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${C}" is not a valid "MobileLinksConfig" parameter.`);if(typeof _.domain<"u"&&_.domain!=="HOSTING_DOMAIN"&&_.domain!=="FIREBASE_DYNAMIC_LINK_DOMAIN")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"MobileLinksConfig.domain" must be either "HOSTING_DOMAIN" or "FIREBASE_DYNAMIC_LINK_DOMAIN".')}}e.MobileLinksAuthConfig=y;class O{static buildServerRequest(_){const T={};O.validate(_),Object.prototype.hasOwnProperty.call(_,"enforcementState")&&(T.passwordPolicyEnforcementState=_.enforcementState),T.forceUpgradeOnSignin=!1,Object.prototype.hasOwnProperty.call(_,"forceUpgradeOnSignin")&&(T.forceUpgradeOnSignin=_.forceUpgradeOnSignin);const C={containsUppercaseCharacter:!1,containsLowercaseCharacter:!1,containsNonAlphanumericCharacter:!1,containsNumericCharacter:!1,minPasswordLength:6,maxPasswordLength:4096};return T.passwordPolicyVersions=[],Object.prototype.hasOwnProperty.call(_,"constraints")&&_&&(_.constraints?.requireUppercase!==void 0&&(C.containsUppercaseCharacter=_.constraints.requireUppercase),_.constraints?.requireLowercase!==void 0&&(C.containsLowercaseCharacter=_.constraints.requireLowercase),_.constraints?.requireNonAlphanumeric!==void 0&&(C.containsNonAlphanumericCharacter=_.constraints.requireNonAlphanumeric),_.constraints?.requireNumeric!==void 0&&(C.containsNumericCharacter=_.constraints.requireNumeric),_.constraints?.minLength!==void 0&&(C.minPasswordLength=_.constraints.minLength),_.constraints?.maxLength!==void 0&&(C.maxPasswordLength=_.constraints.maxLength)),T.passwordPolicyVersions.push({customStrengthOptions:C}),T}static validate(_){const T={enforcementState:!0,forceUpgradeOnSignin:!0,constraints:!0};if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig" must be a non-null object.');for(const C in _)if(!(C in T))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${C}" is not a valid PasswordPolicyConfig parameter.`);if(typeof _.enforcementState>"u"||!(_.enforcementState==="ENFORCE"||_.enforcementState==="OFF"))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.enforcementState" must be either "ENFORCE" or "OFF".');if(typeof _.forceUpgradeOnSignin<"u"&&!t.isBoolean(_.forceUpgradeOnSignin))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.forceUpgradeOnSignin" must be a boolean.');if(typeof _.constraints<"u"){if(_.enforcementState==="ENFORCE"&&!t.isNonNullObject(_.constraints))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints" must be a non-empty object.');const C={requireUppercase:!0,requireLowercase:!0,requireNumeric:!0,requireNonAlphanumeric:!0,minLength:!0,maxLength:!0};for(const N in _.constraints)if(!(N in C))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${N}" is not a valid PasswordPolicyConfig.constraints parameter.`);if(typeof _.constraints.requireUppercase<"u"&&!t.isBoolean(_.constraints.requireUppercase))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireUppercase" must be a boolean.');if(typeof _.constraints.requireLowercase<"u"&&!t.isBoolean(_.constraints.requireLowercase))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireLowercase" must be a boolean.');if(typeof _.constraints.requireNonAlphanumeric<"u"&&!t.isBoolean(_.constraints.requireNonAlphanumeric))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireNonAlphanumeric" must be a boolean.');if(typeof _.constraints.requireNumeric<"u"&&!t.isBoolean(_.constraints.requireNumeric))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireNumeric" must be a boolean.');if(typeof _.constraints.minLength>"u")_.constraints.minLength=6;else if(t.isNumber(_.constraints.minLength)){if(!(_.constraints.minLength>=6&&_.constraints.minLength<=30))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.minLength" must be an integer between 6 and 30, inclusive.')}else throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.minLength" must be a number.');if(typeof _.constraints.maxLength>"u")_.constraints.maxLength=4096;else if(t.isNumber(_.constraints.maxLength)){if(!(_.constraints.maxLength>=_.constraints.minLength&&_.constraints.maxLength<=4096))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.maxLength" must be greater than or equal to minLength and at max 4096.')}else throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.maxLength" must be a number.')}else if(_.enforcementState==="ENFORCE")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints" must be defined.')}constructor(_){if(typeof _.passwordPolicyEnforcementState>"u")throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid password policy configuration response");this.enforcementState=_.passwordPolicyEnforcementState;let T={};typeof _.passwordPolicyVersions<"u"&&(_.passwordPolicyVersions||[]).forEach(C=>{T={requireLowercase:C.customStrengthOptions?.containsLowercaseCharacter,requireUppercase:C.customStrengthOptions?.containsUppercaseCharacter,requireNonAlphanumeric:C.customStrengthOptions?.containsNonAlphanumericCharacter,requireNumeric:C.customStrengthOptions?.containsNumericCharacter,minLength:C.customStrengthOptions?.minPasswordLength,maxLength:C.customStrengthOptions?.maxPasswordLength}}),this.constraints=T,this.forceUpgradeOnSignin=!!_.forceUpgradeOnSignin}}e.PasswordPolicyAuthConfig=O;class w{static validate(_){if(!t.isNonNullObject(_))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"EmailPrivacyConfig" must be a non-null object.');const T={enableImprovedEmailPrivacy:!0};for(const C in _)if(!(C in T))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,`"${C}" is not a valid "EmailPrivacyConfig" parameter.`);if(typeof _.enableImprovedEmailPrivacy<"u"&&!t.isBoolean(_.enableImprovedEmailPrivacy))throw new p.FirebaseAuthError(p.AuthClientErrorCode.INVALID_CONFIG,'"EmailPrivacyConfig.enableImprovedEmailPrivacy" must be a valid boolean value.')}}e.EmailPrivacyAuthConfig=w})(authConfig)),authConfig}var hasRequiredTenant;function requireTenant(){if(hasRequiredTenant)return tenant;hasRequiredTenant=1;Object.defineProperty(tenant,"__esModule",{value:!0}),tenant.Tenant=void 0;const e=requireValidator$1(),t=requireDeepCopy(),a=requireError(),p=requireAuthConfig();class g{static buildServerRequest(c,l){g.validate(c,l);let o={};return typeof c.emailSignInConfig<"u"&&(o=p.EmailSignInConfig.buildServerRequest(c.emailSignInConfig)),typeof c.displayName<"u"&&(o.displayName=c.displayName),typeof c.anonymousSignInEnabled<"u"&&(o.enableAnonymousUser=c.anonymousSignInEnabled),typeof c.multiFactorConfig<"u"&&(o.mfaConfig=p.MultiFactorAuthConfig.buildServerRequest(c.multiFactorConfig)),typeof c.testPhoneNumbers<"u"&&(o.testPhoneNumbers=c.testPhoneNumbers??{}),typeof c.smsRegionConfig<"u"&&(o.smsRegionConfig=c.smsRegionConfig),typeof c.recaptchaConfig<"u"&&(o.recaptchaConfig=p.RecaptchaAuthConfig.buildServerRequest(c.recaptchaConfig)),typeof c.passwordPolicyConfig<"u"&&(o.passwordPolicyConfig=p.PasswordPolicyAuthConfig.buildServerRequest(c.passwordPolicyConfig)),typeof c.emailPrivacyConfig<"u"&&(o.emailPrivacyConfig=c.emailPrivacyConfig),o}static getTenantIdFromResourceName(c){const l=c.match(/\/tenants\/(.*)$/);return!l||l.length<2?null:l[1]}static validate(c,l){const o={displayName:!0,emailSignInConfig:!0,anonymousSignInEnabled:!0,multiFactorConfig:!0,testPhoneNumbers:!0,smsRegionConfig:!0,recaptchaConfig:!0,passwordPolicyConfig:!0,emailPrivacyConfig:!0},s=l?"CreateTenantRequest":"UpdateTenantRequest";if(!e.isNonNullObject(c))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_ARGUMENT,`"${s}" must be a valid non-null object.`);for(const h in c)if(!(h in o))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_ARGUMENT,`"${h}" is not a valid ${s} parameter.`);if(typeof c.displayName<"u"&&!e.isNonEmptyString(c.displayName))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_ARGUMENT,`"${s}.displayName" must be a valid non-empty string.`);if(typeof c.emailSignInConfig<"u"&&p.EmailSignInConfig.buildServerRequest(c.emailSignInConfig),typeof c.testPhoneNumbers<"u"&&c.testPhoneNumbers!==null)(0,p.validateTestPhoneNumbers)(c.testPhoneNumbers);else if(c.testPhoneNumbers===null&&l)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_ARGUMENT,`"${s}.testPhoneNumbers" must be a non-null object.`);typeof c.multiFactorConfig<"u"&&p.MultiFactorAuthConfig.buildServerRequest(c.multiFactorConfig),typeof c.smsRegionConfig<"u"&&p.SmsRegionsAuthConfig.validate(c.smsRegionConfig),typeof c.recaptchaConfig<"u"&&p.RecaptchaAuthConfig.buildServerRequest(c.recaptchaConfig),typeof c.passwordPolicyConfig<"u"&&p.PasswordPolicyAuthConfig.buildServerRequest(c.passwordPolicyConfig),typeof c.emailPrivacyConfig<"u"&&p.EmailPrivacyAuthConfig.validate(c.emailPrivacyConfig)}constructor(c){const l=g.getTenantIdFromResourceName(c.name);if(!l)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid tenant response");this.tenantId=l,this.displayName=c.displayName;try{this.emailSignInConfig_=new p.EmailSignInConfig(c)}catch{this.emailSignInConfig_=new p.EmailSignInConfig({allowPasswordSignup:!1})}this.anonymousSignInEnabled=!!c.enableAnonymousUser,typeof c.mfaConfig<"u"&&(this.multiFactorConfig_=new p.MultiFactorAuthConfig(c.mfaConfig)),typeof c.testPhoneNumbers<"u"&&(this.testPhoneNumbers=(0,t.deepCopy)(c.testPhoneNumbers||{})),typeof c.smsRegionConfig<"u"&&(this.smsRegionConfig=(0,t.deepCopy)(c.smsRegionConfig)),typeof c.recaptchaConfig<"u"&&(this.recaptchaConfig_=new p.RecaptchaAuthConfig(c.recaptchaConfig)),typeof c.passwordPolicyConfig<"u"&&(this.passwordPolicyConfig=new p.PasswordPolicyAuthConfig(c.passwordPolicyConfig)),typeof c.emailPrivacyConfig<"u"&&(this.emailPrivacyConfig=(0,t.deepCopy)(c.emailPrivacyConfig))}get emailSignInConfig(){return this.emailSignInConfig_}get multiFactorConfig(){return this.multiFactorConfig_}get recaptchaConfig(){return this.recaptchaConfig_}toJSON(){const c={tenantId:this.tenantId,displayName:this.displayName,emailSignInConfig:this.emailSignInConfig_?.toJSON(),multiFactorConfig:this.multiFactorConfig_?.toJSON(),anonymousSignInEnabled:this.anonymousSignInEnabled,testPhoneNumbers:this.testPhoneNumbers,smsRegionConfig:(0,t.deepCopy)(this.smsRegionConfig),recaptchaConfig:(0,t.deepCopy)(this.recaptchaConfig),passwordPolicyConfig:(0,t.deepCopy)(this.passwordPolicyConfig),emailPrivacyConfig:(0,t.deepCopy)(this.emailPrivacyConfig)};return typeof c.multiFactorConfig>"u"&&delete c.multiFactorConfig,typeof c.testPhoneNumbers>"u"&&delete c.testPhoneNumbers,typeof c.smsRegionConfig>"u"&&delete c.smsRegionConfig,typeof c.recaptchaConfig>"u"&&delete c.recaptchaConfig,typeof c.passwordPolicyConfig>"u"&&delete c.passwordPolicyConfig,typeof c.emailPrivacyConfig>"u"&&delete c.emailPrivacyConfig,c}}return tenant.Tenant=g,tenant}var identifier={};var hasRequiredIdentifier;function requireIdentifier(){if(hasRequiredIdentifier)return identifier;hasRequiredIdentifier=1;Object.defineProperty(identifier,"__esModule",{value:!0}),identifier.isUidIdentifier=e,identifier.isEmailIdentifier=t,identifier.isPhoneIdentifier=a,identifier.isProviderIdentifier=p;function e(g){return g.uid!==void 0}function t(g){return g.email!==void 0}function a(g){return g.phoneNumber!==void 0}function p(g){const m=g;return m.providerId!==void 0&&m.providerUid!==void 0}return identifier}var projectConfig={};var hasRequiredProjectConfig;function requireProjectConfig(){if(hasRequiredProjectConfig)return projectConfig;hasRequiredProjectConfig=1,Object.defineProperty(projectConfig,"__esModule",{value:!0}),projectConfig.ProjectConfig=void 0;const e=requireValidator$1(),t=requireError(),a=requireAuthConfig(),p=requireDeepCopy();class g{get multiFactorConfig(){return this.multiFactorConfig_}get recaptchaConfig(){return this.recaptchaConfig_}static validate(c){if(!e.isNonNullObject(c))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"UpdateProjectConfigRequest" must be a valid non-null object.');const l={smsRegionConfig:!0,multiFactorConfig:!0,recaptchaConfig:!0,passwordPolicyConfig:!0,emailPrivacyConfig:!0,mobileLinksConfig:!0};for(const o in c)if(!(o in l))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,`"${o}" is not a valid UpdateProjectConfigRequest parameter.`);typeof c.smsRegionConfig<"u"&&a.SmsRegionsAuthConfig.validate(c.smsRegionConfig),typeof c.multiFactorConfig<"u"&&a.MultiFactorAuthConfig.validate(c.multiFactorConfig),typeof c.recaptchaConfig<"u"&&a.RecaptchaAuthConfig.validate(c.recaptchaConfig),typeof c.passwordPolicyConfig<"u"&&a.PasswordPolicyAuthConfig.validate(c.passwordPolicyConfig),typeof c.emailPrivacyConfig<"u"&&a.EmailPrivacyAuthConfig.validate(c.emailPrivacyConfig),typeof c.mobileLinksConfig<"u"&&a.MobileLinksAuthConfig.validate(c.mobileLinksConfig)}static buildServerRequest(c){g.validate(c);const l={};return typeof c.smsRegionConfig<"u"&&(l.smsRegionConfig=c.smsRegionConfig),typeof c.multiFactorConfig<"u"&&(l.mfa=a.MultiFactorAuthConfig.buildServerRequest(c.multiFactorConfig)),typeof c.recaptchaConfig<"u"&&(l.recaptchaConfig=a.RecaptchaAuthConfig.buildServerRequest(c.recaptchaConfig)),typeof c.passwordPolicyConfig<"u"&&(l.passwordPolicyConfig=a.PasswordPolicyAuthConfig.buildServerRequest(c.passwordPolicyConfig)),typeof c.emailPrivacyConfig<"u"&&(l.emailPrivacyConfig=c.emailPrivacyConfig),typeof c.mobileLinksConfig<"u"&&(l.mobileLinksConfig=c.mobileLinksConfig),l}constructor(c){typeof c.smsRegionConfig<"u"&&(this.smsRegionConfig=c.smsRegionConfig),typeof c.mfa<"u"&&(this.multiFactorConfig_=new a.MultiFactorAuthConfig(c.mfa)),typeof c.recaptchaConfig<"u"&&(this.recaptchaConfig_=new a.RecaptchaAuthConfig(c.recaptchaConfig)),typeof c.passwordPolicyConfig<"u"&&(this.passwordPolicyConfig=new a.PasswordPolicyAuthConfig(c.passwordPolicyConfig)),typeof c.emailPrivacyConfig<"u"&&(this.emailPrivacyConfig=c.emailPrivacyConfig),typeof c.mobileLinksConfig<"u"&&(this.mobileLinksConfig=c.mobileLinksConfig)}toJSON(){const c={smsRegionConfig:(0,p.deepCopy)(this.smsRegionConfig),multiFactorConfig:(0,p.deepCopy)(this.multiFactorConfig),recaptchaConfig:(0,p.deepCopy)(this.recaptchaConfig),passwordPolicyConfig:(0,p.deepCopy)(this.passwordPolicyConfig),emailPrivacyConfig:(0,p.deepCopy)(this.emailPrivacyConfig),mobileLinksConfig:(0,p.deepCopy)(this.mobileLinksConfig)};return typeof c.smsRegionConfig>"u"&&delete c.smsRegionConfig,typeof c.multiFactorConfig>"u"&&delete c.multiFactorConfig,typeof c.recaptchaConfig>"u"&&delete c.recaptchaConfig,typeof c.passwordPolicyConfig>"u"&&delete c.passwordPolicyConfig,typeof c.emailPrivacyConfig>"u"&&delete c.emailPrivacyConfig,typeof c.mobileLinksConfig>"u"&&delete c.mobileLinksConfig,c}}return projectConfig.ProjectConfig=g,projectConfig}var hasRequiredAuthApiRequest;function requireAuthApiRequest(){return hasRequiredAuthApiRequest||(hasRequiredAuthApiRequest=1,(function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0}),e.TenantAwareAuthRequestHandler=e.AuthRequestHandler=e.AbstractAuthRequestHandler=e.FIREBASE_AUTH_SIGN_UP_NEW_USER=e.FIREBASE_AUTH_SET_ACCOUNT_INFO=e.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS=e.FIREBASE_AUTH_DELETE_ACCOUNT=e.FIREBASE_AUTH_GET_ACCOUNTS_INFO=e.FIREBASE_AUTH_GET_ACCOUNT_INFO=e.FIREBASE_AUTH_DOWNLOAD_ACCOUNT=e.FIREBASE_AUTH_UPLOAD_ACCOUNT=e.FIREBASE_AUTH_CREATE_SESSION_COOKIE=e.EMAIL_ACTION_REQUEST_TYPES=e.RESERVED_CLAIMS=void 0,e.useEmulator=q;const a=requireValidator$1(),p=requireDeepCopy(),g=requireError(),m=requireApiRequest(),c=requireUtils$2(),l=requireUserImportBuilder(),o=requireActionCodeSettingsBuilder(),s=requireTenant(),h=requireIdentifier(),v=requireAuthConfig(),b=requireProjectConfig(),y={"X-Client-Version":`Node/Admin/${c.getSdkVersion()}`},O=25e3;e.RESERVED_CLAIMS=["acr","amr","at_hash","aud","auth_time","azp","cnf","c_hash","exp","iat","iss","jti","nbf","nonce","sub","firebase"],e.EMAIL_ACTION_REQUEST_TYPES=["PASSWORD_RESET","VERIFY_EMAIL","EMAIL_SIGNIN","VERIFY_AND_CHANGE_EMAIL"];const w=1e3,I=1e3,_=1e3,T=100,C=1e3,N=300,L=336*60*60,D=100,j="https://identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}",k="http://{host}/identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}",V=j.replace("projects/{projectId}","projects/{projectId}/tenants/{tenantId}"),G=k.replace("projects/{projectId}","projects/{projectId}/tenants/{tenantId}"),J=1e3;var W;(function(U){U.Create="create",U.Update="update",U.Upload="upload"})(W||(W={}));class K{constructor(Q,ye="v1"){this.app=Q,this.version=ye,q()?this.urlFormat=c.formatString(k,{host:n()}):this.urlFormat=j}getUrl(Q,ye){return this.getProjectId().then(Ie=>{const je={version:this.version,projectId:Ie,api:Q||""},ke=c.formatString(this.urlFormat,je);return c.formatString(ke,ye||{})})}getProjectId(){return this.projectId?Promise.resolve(this.projectId):c.findProjectId(this.app).then(Q=>{if(!a.isNonEmptyString(Q))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_CREDENTIAL,"Failed to determine project ID for Auth. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectId=Q,Q})}}class X extends K{constructor(Q,ye,Ie){super(Q,ye),this.app=Q,this.version=ye,this.tenantId=Ie,q()?this.urlFormat=c.formatString(G,{host:n()}):this.urlFormat=V}getUrl(Q,ye){return super.getUrl(Q,ye).then(Ie=>c.formatString(Ie,{tenantId:this.tenantId}))}}class Y extends m.AuthorizedHttpClient{getToken(){return q()?Promise.resolve("owner"):super.getToken()}}function te(U){const Q={mfaEnrollmentId:!0,displayName:!0,phoneInfo:!0,enrolledAt:!0};for(const Ie in U)Ie in Q||delete U[Ie];const ye=U.mfaEnrollmentId||U.phoneInfo||JSON.stringify(U);if(typeof U.mfaEnrollmentId<"u"&&!a.isNonEmptyString(U.mfaEnrollmentId))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_UID,'The second factor "uid" must be a valid non-empty string.');if(typeof U.displayName<"u"&&!a.isString(U.displayName))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_DISPLAY_NAME,`The second factor "displayName" for "${ye}" must be a valid string.`);if(typeof U.enrolledAt<"u"&&!a.isISODateString(U.enrolledAt))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ENROLLMENT_TIME,`The second factor "enrollmentTime" for "${ye}" must be a valid UTC date string.`);if(typeof U.phoneInfo<"u"){if(!a.isPhoneNumber(U.phoneInfo))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PHONE_NUMBER,`The second factor "phoneNumber" for "${ye}" must be a non-empty E.164 standard compliant identifier string.`)}else throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ENROLLED_FACTORS,"MFAInfo object provided is invalid.")}function oe(U){const Q={rawId:!0,providerId:!0,email:!0,displayName:!0,photoUrl:!0};for(const ye in U)ye in Q||delete U[ye];if(!a.isNonEmptyString(U.providerId))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_ID);if(typeof U.displayName<"u"&&typeof U.displayName!="string")throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_DISPLAY_NAME,`The provider "displayName" for "${U.providerId}" must be a valid string.`);if(!a.isNonEmptyString(U.rawId))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_UID,`The provider "uid" for "${U.providerId}" must be a valid non-empty string.`);if(typeof U.email<"u"&&!a.isEmail(U.email))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_EMAIL,`The provider "email" for "${U.providerId}" must be a valid email string.`);if(typeof U.photoUrl<"u"&&!a.isURL(U.photoUrl))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PHOTO_URL,`The provider "photoURL" for "${U.providerId}" must be a valid URL string.`)}function le(U,Q){const ye=Q===W.Upload,Ie={displayName:!0,localId:!0,email:!0,password:!0,rawPassword:!0,emailVerified:!0,photoUrl:!0,disabled:!0,disableUser:!0,deleteAttribute:!0,deleteProvider:!0,sanityCheck:!0,phoneNumber:!0,customAttributes:!0,validSince:!0,linkProviderUserInfo:!ye,tenantId:ye,passwordHash:ye,salt:ye,createdAt:ye,lastLoginAt:ye,providerUserInfo:ye,mfaInfo:ye,mfa:!ye};for(const ke in U)ke in Ie||delete U[ke];if(typeof U.tenantId<"u"&&!a.isNonEmptyString(U.tenantId))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_TENANT_ID);if(typeof U.displayName<"u"&&!a.isString(U.displayName))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_DISPLAY_NAME);if((typeof U.localId<"u"||ye)&&!a.isUid(U.localId))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_UID);if(typeof U.email<"u"&&!a.isEmail(U.email))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_EMAIL);if(typeof U.phoneNumber<"u"&&!a.isPhoneNumber(U.phoneNumber))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PHONE_NUMBER);if(typeof U.password<"u"&&!a.isPassword(U.password))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PASSWORD);if(typeof U.rawPassword<"u"&&!a.isPassword(U.rawPassword))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PASSWORD);if(typeof U.emailVerified<"u"&&typeof U.emailVerified!="boolean")throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_EMAIL_VERIFIED);if(typeof U.photoUrl<"u"&&!a.isURL(U.photoUrl))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PHOTO_URL);if(typeof U.disabled<"u"&&typeof U.disabled!="boolean")throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_DISABLED_FIELD);if(typeof U.validSince<"u"&&!a.isNumber(U.validSince))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_TOKENS_VALID_AFTER_TIME);if(typeof U.createdAt<"u"&&!a.isNumber(U.createdAt))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_CREATION_TIME);if(typeof U.lastLoginAt<"u"&&!a.isNumber(U.lastLoginAt))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_LAST_SIGN_IN_TIME);if(typeof U.disableUser<"u"&&typeof U.disableUser!="boolean")throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_DISABLED_FIELD);if(typeof U.customAttributes<"u"){let ke;try{ke=JSON.parse(U.customAttributes)}catch(it){throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_CLAIMS,it.message)}const ze=[];if(e.RESERVED_CLAIMS.forEach(it=>{Object.prototype.hasOwnProperty.call(ke,it)&&ze.push(it)}),ze.length>0)throw new g.FirebaseAuthError(g.AuthClientErrorCode.FORBIDDEN_CLAIM,ze.length>1?`Developer claims "${ze.join('", "')}" are reserved and cannot be specified.`:`Developer claim "${ze[0]}" is reserved and cannot be specified.`);if(U.customAttributes.length>w)throw new g.FirebaseAuthError(g.AuthClientErrorCode.CLAIMS_TOO_LARGE,`Developer claims payload should not exceed ${w} characters.`)}if(typeof U.passwordHash<"u"&&!a.isString(U.passwordHash))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PASSWORD_HASH);if(typeof U.salt<"u"&&!a.isString(U.salt))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PASSWORD_SALT);if(typeof U.providerUserInfo<"u"&&!a.isArray(U.providerUserInfo))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_DATA);a.isArray(U.providerUserInfo)&&U.providerUserInfo.forEach(ke=>{oe(ke)}),typeof U.linkProviderUserInfo<"u"&&oe(U.linkProviderUserInfo);let je=null;if(U.mfaInfo?je=U.mfaInfo:U.mfa&&U.mfa.enrollments&&(je=U.mfa.enrollments),je){if(!a.isArray(je))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ENROLLED_FACTORS);je.forEach(ke=>{te(ke)})}}e.FIREBASE_AUTH_CREATE_SESSION_COOKIE=new m.ApiSettings(":createSessionCookie","POST").setRequestValidator(U=>{if(!a.isNonEmptyString(U.idToken))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ID_TOKEN);if(!a.isNumber(U.validDuration)||U.validDuration<N||U.validDuration>L)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)}).setResponseValidator(U=>{if(!a.isNonEmptyString(U.sessionCookie))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR)}),e.FIREBASE_AUTH_UPLOAD_ACCOUNT=new m.ApiSettings("/accounts:batchCreate","POST"),e.FIREBASE_AUTH_DOWNLOAD_ACCOUNT=new m.ApiSettings("/accounts:batchGet","GET").setRequestValidator(U=>{if(typeof U.nextPageToken<"u"&&!a.isNonEmptyString(U.nextPageToken))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!a.isNumber(U.maxResults)||U.maxResults<=0||U.maxResults>I)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,`Required "maxResults" must be a positive integer that does not exceed ${I}.`)}),e.FIREBASE_AUTH_GET_ACCOUNT_INFO=new m.ApiSettings("/accounts:lookup","POST").setRequestValidator(U=>{if(!U.localId&&!U.email&&!U.phoneNumber&&!U.federatedUserId)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")}).setResponseValidator(U=>{if(!U.users||!U.users.length)throw new g.FirebaseAuthError(g.AuthClientErrorCode.USER_NOT_FOUND)}),e.FIREBASE_AUTH_GET_ACCOUNTS_INFO=new m.ApiSettings("/accounts:lookup","POST").setRequestValidator(U=>{if(!U.localId&&!U.email&&!U.phoneNumber&&!U.federatedUserId)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")}),e.FIREBASE_AUTH_DELETE_ACCOUNT=new m.ApiSettings("/accounts:delete","POST").setRequestValidator(U=>{if(!U.localId)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")}),e.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS=new m.ApiSettings("/accounts:batchDelete","POST").setRequestValidator(U=>{if(!U.localIds)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifiers");if(typeof U.force>"u"||U.force!==!0)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing force=true field")}).setResponseValidator(U=>{(U.errors||[]).forEach(ye=>{if(typeof ye.index>"u")throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server BatchDeleteAccountResponse is missing an errors.index field");if(!ye.localId)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server BatchDeleteAccountResponse is missing an errors.localId field")})}),e.FIREBASE_AUTH_SET_ACCOUNT_INFO=new m.ApiSettings("/accounts:update","POST").setRequestValidator(U=>{if(typeof U.localId>"u")throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier");if(typeof U.tenantId<"u")throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,'"tenantId" is an invalid "UpdateRequest" property.');le(U,W.Update)}).setResponseValidator(U=>{if(!U.localId)throw new g.FirebaseAuthError(g.AuthClientErrorCode.USER_NOT_FOUND)}),e.FIREBASE_AUTH_SIGN_UP_NEW_USER=new m.ApiSettings("/accounts","POST").setRequestValidator(U=>{if(typeof U.customAttributes<"u")throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,'"customAttributes" cannot be set when creating a new user.');if(typeof U.validSince<"u")throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,'"validSince" cannot be set when creating a new user.');if(typeof U.tenantId<"u")throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,'"tenantId" is an invalid "CreateRequest" property.');le(U,W.Create)}).setResponseValidator(U=>{if(!U.localId)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new user")});const ee=new m.ApiSettings("/accounts:sendOobCode","POST").setRequestValidator(U=>{if(!a.isEmail(U.email))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_EMAIL);if(typeof U.newEmail<"u"&&!a.isEmail(U.newEmail))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_NEW_EMAIL);if(e.EMAIL_ACTION_REQUEST_TYPES.indexOf(U.requestType)===-1)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,`"${U.requestType}" is not a supported email action request type.`)}).setResponseValidator(U=>{if(!U.oobLink)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create the email action link")}),se=new m.ApiSettings("/oauthIdpConfigs/{providerId}","GET").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get OIDC configuration")}),de=new m.ApiSettings("/oauthIdpConfigs/{providerId}","DELETE"),he=new m.ApiSettings("/oauthIdpConfigs?oauthIdpConfigId={providerId}","POST").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new OIDC configuration")}),ge=new m.ApiSettings("/oauthIdpConfigs/{providerId}?updateMask={updateMask}","PATCH").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update OIDC configuration")}),me=new m.ApiSettings("/oauthIdpConfigs","GET").setRequestValidator(U=>{if(typeof U.pageToken<"u"&&!a.isNonEmptyString(U.pageToken))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!a.isNumber(U.pageSize)||U.pageSize<=0||U.pageSize>D)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,`Required "maxResults" must be a positive integer that does not exceed ${D}.`)}),Oe=new m.ApiSettings("/inboundSamlConfigs/{providerId}","GET").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get SAML configuration")}),fe=new m.ApiSettings("/inboundSamlConfigs/{providerId}","DELETE"),_e=new m.ApiSettings("/inboundSamlConfigs?inboundSamlConfigId={providerId}","POST").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new SAML configuration")}),Ee=new m.ApiSettings("/inboundSamlConfigs/{providerId}?updateMask={updateMask}","PATCH").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update SAML configuration")}),z=new m.ApiSettings("/inboundSamlConfigs","GET").setRequestValidator(U=>{if(typeof U.pageToken<"u"&&!a.isNonEmptyString(U.pageToken))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!a.isNumber(U.pageSize)||U.pageSize<=0||U.pageSize>D)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,`Required "maxResults" must be a positive integer that does not exceed ${D}.`)});class d{static getErrorCode(Q){return a.isNonNullObject(Q)&&Q.error&&Q.error.message||null}static addUidToRequest(Q,ye){if(!a.isUid(Q.uid))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_UID);return ye.localId?ye.localId.push(Q.uid):ye.localId=[Q.uid],ye}static addEmailToRequest(Q,ye){if(!a.isEmail(Q.email))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_EMAIL);return ye.email?ye.email.push(Q.email):ye.email=[Q.email],ye}static addPhoneToRequest(Q,ye){if(!a.isPhoneNumber(Q.phoneNumber))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PHONE_NUMBER);return ye.phoneNumber?ye.phoneNumber.push(Q.phoneNumber):ye.phoneNumber=[Q.phoneNumber],ye}static addProviderToRequest(Q,ye){if(!a.isNonEmptyString(Q.providerId))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_ID);if(!a.isNonEmptyString(Q.providerUid))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_UID);const Ie={providerId:Q.providerId,rawId:Q.providerUid};return ye.federatedUserId?ye.federatedUserId.push(Ie):ye.federatedUserId=[Ie],ye}constructor(Q){if(this.app=Q,typeof Q!="object"||Q===null||!("options"in Q))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.auth() must be a valid Firebase app instance.");this.httpClient=new Y(Q)}createSessionCookie(Q,ye){const Ie={idToken:Q,validDuration:Math.floor(ye/1e3)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_CREATE_SESSION_COOKIE,Ie).then(je=>je.sessionCookie)}getAccountInfoByUid(Q){if(!a.isUid(Q))return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_UID));const ye={localId:[Q]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_GET_ACCOUNT_INFO,ye)}getAccountInfoByEmail(Q){if(!a.isEmail(Q))return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_EMAIL));const ye={email:[Q]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_GET_ACCOUNT_INFO,ye)}getAccountInfoByPhoneNumber(Q){if(!a.isPhoneNumber(Q))return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PHONE_NUMBER));const ye={phoneNumber:[Q]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_GET_ACCOUNT_INFO,ye)}getAccountInfoByFederatedUid(Q,ye){if(!a.isNonEmptyString(Q)||!a.isNonEmptyString(ye))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_ID);const Ie={federatedUserId:[{providerId:Q,rawId:ye}]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_GET_ACCOUNT_INFO,Ie)}getAccountInfoByIdentifiers(Q){if(Q.length===0)return Promise.resolve({users:[]});if(Q.length>T)throw new g.FirebaseAuthError(g.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"`identifiers` parameter must have <= "+T+" entries.");let ye={};for(const Ie of Q)if((0,h.isUidIdentifier)(Ie))ye=d.addUidToRequest(Ie,ye);else if((0,h.isEmailIdentifier)(Ie))ye=d.addEmailToRequest(Ie,ye);else if((0,h.isPhoneIdentifier)(Ie))ye=d.addPhoneToRequest(Ie,ye);else if((0,h.isProviderIdentifier)(Ie))ye=d.addProviderToRequest(Ie,ye);else throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"Unrecognized identifier: "+Ie);return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_GET_ACCOUNTS_INFO,ye)}downloadAccount(Q=I,ye){const Ie={maxResults:Q,nextPageToken:ye};return typeof Ie.nextPageToken>"u"&&delete Ie.nextPageToken,this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_DOWNLOAD_ACCOUNT,Ie).then(je=>(je.users||(je.users=[]),je))}uploadAccount(Q,ye){const Ie=new l.UserImportBuilder(Q,ye,ke=>{le(ke,W.Upload)}),je=Ie.buildRequest();if(a.isArray(Q)&&Q.length>_)throw new g.FirebaseAuthError(g.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,`A maximum of ${_} users can be imported at once.`);return!je.users||je.users.length===0?Promise.resolve(Ie.buildResponse([])):this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_UPLOAD_ACCOUNT,je).then(ke=>{const ze=ke.error||[];return Ie.buildResponse(ze)})}deleteAccount(Q){if(!a.isUid(Q))return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_UID));const ye={localId:Q};return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_DELETE_ACCOUNT,ye)}deleteAccounts(Q,ye){if(Q.length===0)return Promise.resolve({});if(Q.length>C)throw new g.FirebaseAuthError(g.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"`uids` parameter must have <= "+C+" entries.");const Ie={localIds:[],force:ye};return Q.forEach(je=>{if(!a.isUid(je))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_UID);Ie.localIds.push(je)}),this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS,Ie)}setCustomUserClaims(Q,ye){if(a.isUid(Q)){if(!a.isObject(ye))return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"CustomUserClaims argument must be an object or null."))}else return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_UID));ye===null&&(ye={});const Ie={localId:Q,customAttributes:JSON.stringify(ye)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_SET_ACCOUNT_INFO,Ie).then(je=>je.localId)}updateExistingAccount(Q,ye){if(a.isUid(Q))if(a.isNonNullObject(ye)){if(a.isNonNullObject(ye.providerToLink)){if(!a.isNonEmptyString(ye.providerToLink.providerId))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"providerToLink.providerId of properties argument must be a non-empty string.");if(!a.isNonEmptyString(ye.providerToLink.uid))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"providerToLink.uid of properties argument must be a non-empty string.")}else if(typeof ye.providersToUnlink<"u"){if(!a.isArray(ye.providersToUnlink))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"providersToUnlink of properties argument must be an array of strings.");ye.providersToUnlink.forEach(ke=>{if(!a.isNonEmptyString(ke))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"providersToUnlink of properties argument must be an array of strings.")})}}else return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"Properties argument must be a non-null object."));else return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_UID));const Ie=(0,p.deepCopy)(ye);Ie.localId=Q;const je={displayName:"DISPLAY_NAME",photoURL:"PHOTO_URL"};Ie.deleteAttribute=[];for(const ke in je)Ie[ke]===null&&(Ie.deleteAttribute.push(je[ke]),delete Ie[ke]);if(Ie.deleteAttribute.length===0&&delete Ie.deleteAttribute,Ie.phoneNumber===null&&(Ie.deleteProvider?Ie.deleteProvider.push("phone"):Ie.deleteProvider=["phone"],delete Ie.phoneNumber),typeof Ie.providerToLink<"u"&&(Ie.linkProviderUserInfo=(0,p.deepCopy)(Ie.providerToLink),delete Ie.providerToLink,Ie.linkProviderUserInfo.rawId=Ie.linkProviderUserInfo.uid,delete Ie.linkProviderUserInfo.uid),typeof Ie.providersToUnlink<"u"&&(a.isArray(Ie.deleteProvider)||(Ie.deleteProvider=[]),Ie.deleteProvider=Ie.deleteProvider.concat(Ie.providersToUnlink),delete Ie.providersToUnlink),typeof Ie.photoURL<"u"&&(Ie.photoUrl=Ie.photoURL,delete Ie.photoURL),typeof Ie.disabled<"u"&&(Ie.disableUser=Ie.disabled,delete Ie.disabled),a.isNonNullObject(Ie.multiFactor)){if(Ie.multiFactor.enrolledFactors===null)Ie.mfa={};else if(a.isArray(Ie.multiFactor.enrolledFactors)){Ie.mfa={enrollments:[]};try{Ie.multiFactor.enrolledFactors.forEach(ke=>{Ie.mfa.enrollments.push((0,l.convertMultiFactorInfoToServerFormat)(ke))})}catch(ke){return Promise.reject(ke)}Ie.mfa.enrollments.length===0&&delete Ie.mfa.enrollments}delete Ie.multiFactor}return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_SET_ACCOUNT_INFO,Ie).then(ke=>ke.localId)}revokeRefreshTokens(Q){if(!a.isUid(Q))return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_UID));const ye={localId:Q,validSince:Math.floor(new Date().getTime()/1e3)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_SET_ACCOUNT_INFO,ye).then(Ie=>Ie.localId)}createNewAccount(Q){if(!a.isNonNullObject(Q))return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"Properties argument must be a non-null object."));const ye=(0,p.deepCopy)(Q);if(typeof ye.photoURL<"u"&&(ye.photoUrl=ye.photoURL,delete ye.photoURL),typeof ye.uid<"u"&&(ye.localId=ye.uid,delete ye.uid),a.isNonNullObject(ye.multiFactor)){if(a.isNonEmptyArray(ye.multiFactor.enrolledFactors)){const Ie=[];try{ye.multiFactor.enrolledFactors.forEach(je=>{if("enrollmentTime"in je)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,'"enrollmentTime" is not supported when adding second factors via "createUser()"');if("uid"in je)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,'"uid" is not supported when adding second factors via "createUser()"');Ie.push((0,l.convertMultiFactorInfoToServerFormat)(je))})}catch(je){return Promise.reject(je)}ye.mfaInfo=Ie}delete ye.multiFactor}return this.invokeRequestHandler(this.getAuthUrlBuilder(),e.FIREBASE_AUTH_SIGN_UP_NEW_USER,ye).then(Ie=>Ie.localId)}getEmailActionLink(Q,ye,Ie,je){let ke={requestType:Q,email:ye,returnOobLink:!0,...typeof je<"u"&&{newEmail:je}};if(typeof Ie>"u"&&Q==="EMAIL_SIGNIN")return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"`actionCodeSettings` is required when `requestType` === 'EMAIL_SIGNIN'"));if(typeof Ie<"u"||Q==="EMAIL_SIGNIN")try{const ze=new o.ActionCodeSettingsBuilder(Ie);ke=(0,p.deepExtend)(ke,ze.buildRequest())}catch(ze){return Promise.reject(ze)}return Q==="VERIFY_AND_CHANGE_EMAIL"&&typeof je>"u"?Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,"`newEmail` is required when `requestType` === 'VERIFY_AND_CHANGE_EMAIL'")):this.invokeRequestHandler(this.getAuthUrlBuilder(),ee,ke).then(ze=>ze.oobLink)}getOAuthIdpConfig(Q){return v.OIDCConfig.isProviderId(Q)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),se,{},{providerId:Q}):Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_ID))}listOAuthIdpConfigs(Q=D,ye){const Ie={pageSize:Q};return typeof ye<"u"&&(Ie.pageToken=ye),this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),me,Ie).then(je=>(je.oauthIdpConfigs||(je.oauthIdpConfigs=[],delete je.nextPageToken),je))}deleteOAuthIdpConfig(Q){return v.OIDCConfig.isProviderId(Q)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),de,{},{providerId:Q}).then(()=>{}):Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_ID))}createOAuthIdpConfig(Q){let ye;try{ye=v.OIDCConfig.buildServerRequest(Q)||{}}catch(je){return Promise.reject(je)}const Ie=Q.providerId;return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),he,ye,{providerId:Ie}).then(je=>{if(!v.OIDCConfig.getProviderIdFromResourceName(je.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new OIDC provider configuration");return je})}updateOAuthIdpConfig(Q,ye){if(!v.OIDCConfig.isProviderId(Q))return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_ID));let Ie;try{Ie=v.OIDCConfig.buildServerRequest(ye,!0)||{}}catch(ke){return Promise.reject(ke)}const je=c.generateUpdateMask(Ie);return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),ge,Ie,{providerId:Q,updateMask:je.join(",")}).then(ke=>{if(!v.OIDCConfig.getProviderIdFromResourceName(ke.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update OIDC provider configuration");return ke})}getInboundSamlConfig(Q){return v.SAMLConfig.isProviderId(Q)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),Oe,{},{providerId:Q}):Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_ID))}listInboundSamlConfigs(Q=D,ye){const Ie={pageSize:Q};return typeof ye<"u"&&(Ie.pageToken=ye),this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),z,Ie).then(je=>(je.inboundSamlConfigs||(je.inboundSamlConfigs=[],delete je.nextPageToken),je))}deleteInboundSamlConfig(Q){return v.SAMLConfig.isProviderId(Q)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),fe,{},{providerId:Q}).then(()=>{}):Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_ID))}createInboundSamlConfig(Q){let ye;try{ye=v.SAMLConfig.buildServerRequest(Q)||{}}catch(je){return Promise.reject(je)}const Ie=Q.providerId;return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),_e,ye,{providerId:Ie}).then(je=>{if(!v.SAMLConfig.getProviderIdFromResourceName(je.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new SAML provider configuration");return je})}updateInboundSamlConfig(Q,ye){if(!v.SAMLConfig.isProviderId(Q))return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PROVIDER_ID));let Ie;try{Ie=v.SAMLConfig.buildServerRequest(ye,!0)||{}}catch(ke){return Promise.reject(ke)}const je=c.generateUpdateMask(Ie);return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),Ee,Ie,{providerId:Q,updateMask:je.join(",")}).then(ke=>{if(!v.SAMLConfig.getProviderIdFromResourceName(ke.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update SAML provider configuration");return ke})}invokeRequestHandler(Q,ye,Ie,je){return Q.getUrl(ye.getEndpoint(),je).then(ke=>{Ie&&ye.getRequestValidator()(Ie);const ze={method:ye.getHttpMethod(),url:ke,headers:y,data:Ie,timeout:O};return this.httpClient.send(ze)}).then(ke=>(ye.getResponseValidator()(ke.data),ke.data)).catch(ke=>{if(ke instanceof m.RequestResponseError){const ze=ke.response.data,it=d.getErrorCode(ze);throw it?g.FirebaseAuthError.fromServerError(it,void 0,ze):new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"Error returned from server: "+ze+". Additionally, an internal error occurred while attempting to extract the errorcode from the error.")}throw ke})}getAuthUrlBuilder(){return this.authUrlBuilder||(this.authUrlBuilder=this.newAuthUrlBuilder()),this.authUrlBuilder}getProjectConfigUrlBuilder(){return this.projectConfigUrlBuilder||(this.projectConfigUrlBuilder=this.newProjectConfigUrlBuilder()),this.projectConfigUrlBuilder}}e.AbstractAuthRequestHandler=d;const P=new m.ApiSettings("/config","GET").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get project config")}),A=new m.ApiSettings("/config?updateMask={updateMask}","PATCH").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update project config")}),$=new m.ApiSettings("/tenants/{tenantId}","GET").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get tenant")}),ie=new m.ApiSettings("/tenants/{tenantId}","DELETE"),pe=new m.ApiSettings("/tenants/{tenantId}?updateMask={updateMask}","PATCH").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name)||!s.Tenant.getTenantIdFromResourceName(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update tenant")}),ne=new m.ApiSettings("/tenants","GET").setRequestValidator(U=>{if(typeof U.pageToken<"u"&&!a.isNonEmptyString(U.pageToken))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!a.isNumber(U.pageSize)||U.pageSize<=0||U.pageSize>J)throw new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_ARGUMENT,`Required "maxResults" must be a positive non-zero number that does not exceed the allowed ${J}.`)}),u=new m.ApiSettings("/tenants","POST").setResponseValidator(U=>{if(!a.isNonEmptyString(U.name)||!s.Tenant.getTenantIdFromResourceName(U.name))throw new g.FirebaseAuthError(g.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new tenant")});class x extends d{constructor(Q){super(Q),this.authResourceUrlBuilder=new K(Q,"v2")}newAuthUrlBuilder(){return new K(this.app,"v1")}newProjectConfigUrlBuilder(){return new K(this.app,"v2")}getProjectConfig(){return this.invokeRequestHandler(this.authResourceUrlBuilder,P,{},{}).then(Q=>Q)}updateProjectConfig(Q){try{const ye=b.ProjectConfig.buildServerRequest(Q),Ie=c.generateUpdateMask(ye);return this.invokeRequestHandler(this.authResourceUrlBuilder,A,ye,{updateMask:Ie.join(",")}).then(je=>je)}catch(ye){return Promise.reject(ye)}}getTenant(Q){return a.isNonEmptyString(Q)?this.invokeRequestHandler(this.authResourceUrlBuilder,$,{},{tenantId:Q}).then(ye=>ye):Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_TENANT_ID))}listTenants(Q=J,ye){const Ie={pageSize:Q,pageToken:ye};return typeof Ie.pageToken>"u"&&delete Ie.pageToken,this.invokeRequestHandler(this.authResourceUrlBuilder,ne,Ie).then(je=>(je.tenants||(je.tenants=[],delete je.nextPageToken),je))}deleteTenant(Q){return a.isNonEmptyString(Q)?this.invokeRequestHandler(this.authResourceUrlBuilder,ie,void 0,{tenantId:Q}).then(()=>{}):Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_TENANT_ID))}createTenant(Q){try{const ye=s.Tenant.buildServerRequest(Q,!0);return this.invokeRequestHandler(this.authResourceUrlBuilder,u,ye).then(Ie=>Ie)}catch(ye){return Promise.reject(ye)}}updateTenant(Q,ye){if(!a.isNonEmptyString(Q))return Promise.reject(new g.FirebaseAuthError(g.AuthClientErrorCode.INVALID_TENANT_ID));try{const Ie=s.Tenant.buildServerRequest(ye,!1),je=c.generateUpdateMask(Ie,["testPhoneNumbers"]);return this.invokeRequestHandler(this.authResourceUrlBuilder,pe,Ie,{tenantId:Q,updateMask:je.join(",")}).then(ke=>ke)}catch(Ie){return Promise.reject(Ie)}}}e.AuthRequestHandler=x;class M extends d{constructor(Q,ye){super(Q),this.tenantId=ye}newAuthUrlBuilder(){return new X(this.app,"v1",this.tenantId)}newProjectConfigUrlBuilder(){return new X(this.app,"v2",this.tenantId)}uploadAccount(Q,ye){return Q.forEach((Ie,je)=>{if(a.isNonEmptyString(Ie.tenantId)&&Ie.tenantId!==this.tenantId)throw new g.FirebaseAuthError(g.AuthClientErrorCode.MISMATCHING_TENANT_ID,`UserRecord of index "${je}" has mismatching tenant ID "${Ie.tenantId}"`)}),super.uploadAccount(Q,ye)}}e.TenantAwareAuthRequestHandler=M;function n(){return t.FIREBASE_AUTH_EMULATOR_HOST}function q(){return!!n()}})(authApiRequest)),authApiRequest}var tenantManager={},baseAuth={},tokenGenerator$1={},cryptoSigner={};var hasRequiredCryptoSigner;function requireCryptoSigner(){if(hasRequiredCryptoSigner)return cryptoSigner;hasRequiredCryptoSigner=1;Object.defineProperty(cryptoSigner,"__esModule",{value:!0}),cryptoSigner.CryptoSignerErrorCode=cryptoSigner.CryptoSignerError=cryptoSigner.IAMSigner=cryptoSigner.ServiceAccountSigner=void 0,cryptoSigner.cryptoSignerFromApp=l;const e=requireCredentialInternal(),t=requireApiRequest(),a=requireUtils$2(),p=requireValidator$1(),g="RS256";class m{constructor(v){if(this.credential=v,this.algorithm=g,!v)throw new o({code:s.INVALID_CREDENTIAL,message:"INTERNAL ASSERT: Must provide a service account credential to initialize ServiceAccountSigner."})}sign(v){const y=require$$1$3.createSign("RSA-SHA256");return y.update(v),Promise.resolve(y.sign(this.credential.privateKey))}getAccountId(){return Promise.resolve(this.credential.clientEmail)}}cryptoSigner.ServiceAccountSigner=m;class c{constructor(v,b){if(this.algorithm=g,!v)throw new o({code:s.INVALID_ARGUMENT,message:"INTERNAL ASSERT: Must provide a HTTP client to initialize IAMSigner."});if(b&&(typeof b!="object"||b===null||!("options"in b)))throw new o({code:s.INVALID_ARGUMENT,message:"INTERNAL ASSERT: Must provide a valid Firebase app instance."});this.httpClient=v,this.app=b}sign(v){return this.getAccountId().then(b=>{const y={method:"POST",url:`https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/${b}:signBlob`,data:{payload:v.toString("base64")}};return this.httpClient.send(y)}).then(b=>Buffer.from(b.data.signedBlob,"base64")).catch(b=>{throw b instanceof t.RequestResponseError?new o({code:s.SERVER_ERROR,message:b.message,cause:b}):b})}async getAccountId(){if(p.isNonEmptyString(this.serviceAccountId))return this.serviceAccountId;if(this.app){const y=await a.findServiceAccountEmail(this.app);if(y)return this.serviceAccountId=y,y}const v={method:"GET",url:"http://metadata/computeMetadata/v1/instance/service-accounts/default/email",headers:{"Metadata-Flavor":"Google"}};return new t.HttpClient().send(v).then(y=>{if(!y.text)throw new o({code:s.INTERNAL_ERROR,message:"HTTP Response missing payload"});return this.serviceAccountId=y.text,y.text}).catch(y=>{throw new o({code:s.INVALID_CREDENTIAL,message:`Failed to determine service account. Make sure to initialize the SDK with a service account credential. Alternatively specify a service account with iam.serviceAccounts.signBlob permission. Original error: ${y}`})})}}cryptoSigner.IAMSigner=c;function l(h){const v=h.options.credential;return v instanceof e.ServiceAccountCredential?new m(v):new c(new t.AuthorizedHttpClient(h),h)}class o extends Error{constructor(v){super(v.message),this.errorInfo=v,this.__proto__=o.prototype}get code(){return this.errorInfo.code}get message(){return this.errorInfo.message}get cause(){return this.errorInfo.cause}}cryptoSigner.CryptoSignerError=o;class s{}return cryptoSigner.CryptoSignerErrorCode=s,s.INVALID_ARGUMENT="invalid-argument",s.INTERNAL_ERROR="internal-error",s.INVALID_CREDENTIAL="invalid-credential",s.SERVER_ERROR="server-error",cryptoSigner}var hasRequiredTokenGenerator$1;function requireTokenGenerator$1(){return hasRequiredTokenGenerator$1||(hasRequiredTokenGenerator$1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FirebaseTokenGenerator=e.EmulatedSigner=e.BLACKLISTED_CLAIMS=void 0,e.handleCryptoSignerError=h;const t=requireError(),a=requireCryptoSigner(),p=requireValidator$1(),g=requireUtils$2(),m="none",c=3600;e.BLACKLISTED_CLAIMS=["acr","amr","at_hash","aud","auth_time","azp","cnf","c_hash","exp","iat","iss","jti","nbf","nonce"];const l="https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit";class o{constructor(){this.algorithm=m}sign(y){return Promise.resolve(Buffer.from(""))}getAccountId(){return Promise.resolve("firebase-auth-emulator@example.com")}}e.EmulatedSigner=o;class s{constructor(y,O){if(this.tenantId=O,!p.isNonNullObject(y))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CREDENTIAL,"INTERNAL ASSERT: Must provide a CryptoSigner to use FirebaseTokenGenerator.");if(typeof this.tenantId<"u"&&!p.isNonEmptyString(this.tenantId))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"`tenantId` argument must be a non-empty string.");this.signer=y}createCustomToken(y,O){let w;if(p.isNonEmptyString(y)?y.length>128?w="`uid` argument must a uid with less than or equal to 128 characters.":this.isDeveloperClaimsValid_(O)||(w="`developerClaims` argument must be a valid, non-null object containing the developer claims."):w="`uid` argument must be a non-empty string uid.",w)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,w);const I={};if(typeof O<"u"){for(const _ in O)if(Object.prototype.hasOwnProperty.call(O,_)){if(e.BLACKLISTED_CLAIMS.indexOf(_)!==-1)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,`Developer claim "${_}" is reserved and cannot be specified.`);I[_]=O[_]}}return this.signer.getAccountId().then(_=>{const T={alg:this.signer.algorithm,typ:"JWT"},C=Math.floor(Date.now()/1e3),N={aud:l,iat:C,exp:C+c,iss:_,sub:_,uid:y};this.tenantId&&(N.tenant_id=this.tenantId),Object.keys(I).length>0&&(N.claims=I);const L=`${this.encodeSegment(T)}.${this.encodeSegment(N)}`,D=this.signer.sign(Buffer.from(L));return Promise.all([L,D])}).then(([_,T])=>`${_}.${this.encodeSegment(T)}`).catch(_=>{throw h(_)})}encodeSegment(y){const O=y instanceof Buffer?y:Buffer.from(JSON.stringify(y));return(0,g.toWebSafeBase64)(O).replace(/=+$/,"")}isDeveloperClaimsValid_(y){return typeof y>"u"?!0:p.isNonNullObject(y)}}e.FirebaseTokenGenerator=s;function h(b){if(!(b instanceof a.CryptoSignerError))return b;if(b.code===a.CryptoSignerErrorCode.SERVER_ERROR&&p.isNonNullObject(b.cause)){const O=b.cause.response.data;if(p.isNonNullObject(O)&&O.error){const w=O.error.status,_=`${O.error.message}; Please refer to https://firebase.google.com/docs/auth/admin/create-custom-tokens for more details on how to use and troubleshoot this feature.`;return t.FirebaseAuthError.fromServerError(w,_,O)}return new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"Error returned from server: "+O+". Additionally, an internal error occurred while attempting to extract the errorcode from the error.")}return new t.FirebaseAuthError(v(b.code),b.message)}function v(b){switch(b){case a.CryptoSignerErrorCode.INVALID_CREDENTIAL:return t.AuthClientErrorCode.INVALID_CREDENTIAL;case a.CryptoSignerErrorCode.INVALID_ARGUMENT:return t.AuthClientErrorCode.INVALID_ARGUMENT;default:return t.AuthClientErrorCode.INTERNAL_ERROR}}})(tokenGenerator$1)),tokenGenerator$1}var tokenVerifier$1={},jwt={},jws={},dataStream,hasRequiredDataStream;function requireDataStream(){if(hasRequiredDataStream)return dataStream;hasRequiredDataStream=1;var e=requireSafeBuffer().Buffer,t=require$$1$3,a=require$$1$3;function p(g){if(this.buffer=null,this.writable=!0,this.readable=!0,!g)return this.buffer=e.alloc(0),this;if(typeof g.pipe=="function")return this.buffer=e.alloc(0),g.pipe(this),this;if(g.length||typeof g=="object")return this.buffer=g,this.writable=!1,process.nextTick((function(){this.emit("end",g),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof g+")")}return a.inherits(p,t),p.prototype.write=function(m){this.buffer=e.concat([this.buffer,e.from(m)]),this.emit("data",m)},p.prototype.end=function(m){m&&this.write(m),this.emit("end",m),this.emit("close"),this.writable=!1,this.readable=!1},dataStream=p,dataStream}var jwa,hasRequiredJwa;function requireJwa(){if(hasRequiredJwa)return jwa;hasRequiredJwa=1;var e=requireSafeBuffer().Buffer,t=require$$1$3,a=requireEcdsaSigFormatter(),p=require$$1$3,g=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,m="secret must be a string or buffer",c="key must be a string or a buffer",l="key must be a string, a buffer or an object",o=typeof t.createPublicKey=="function";o&&(c+=" or a KeyObject",m+="or a KeyObject");function s(K){if(!e.isBuffer(K)&&typeof K!="string"&&(!o||typeof K!="object"||typeof K.type!="string"||typeof K.asymmetricKeyType!="string"||typeof K.export!="function"))throw O(c)}function h(K){if(!e.isBuffer(K)&&typeof K!="string"&&typeof K!="object")throw O(l)}function v(K){if(!e.isBuffer(K)){if(typeof K=="string")return K;if(!o||typeof K!="object"||K.type!=="secret"||typeof K.export!="function")throw O(m)}}function b(K){return K.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function y(K){K=K.toString();var X=4-K.length%4;if(X!==4)for(var Y=0;Y<X;++Y)K+="=";return K.replace(/\-/g,"+").replace(/_/g,"/")}function O(K){var X=[].slice.call(arguments,1),Y=p.format.bind(p,K).apply(null,X);return new TypeError(Y)}function w(K){return e.isBuffer(K)||typeof K=="string"}function I(K){return w(K)||(K=JSON.stringify(K)),K}function _(K){return function(Y,te){v(te),Y=I(Y);var oe=t.createHmac("sha"+K,te),le=(oe.update(Y),oe.digest("base64"));return b(le)}}var T,C="timingSafeEqual"in t?function(X,Y){return X.byteLength!==Y.byteLength?!1:t.timingSafeEqual(X,Y)}:function(X,Y){return T||(T=requireBufferEqualConstantTime()),T(X,Y)};function N(K){return function(Y,te,oe){var le=_(K)(Y,oe);return C(e.from(te),e.from(le))}}function L(K){return function(Y,te){h(te),Y=I(Y);var oe=t.createSign("RSA-SHA"+K),le=(oe.update(Y),oe.sign(te,"base64"));return b(le)}}function D(K){return function(Y,te,oe){s(oe),Y=I(Y),te=y(te);var le=t.createVerify("RSA-SHA"+K);return le.update(Y),le.verify(oe,te,"base64")}}function j(K){return function(Y,te){h(te),Y=I(Y);var oe=t.createSign("RSA-SHA"+K),le=(oe.update(Y),oe.sign({key:te,padding:t.constants.RSA_PKCS1_PSS_PADDING,saltLength:t.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return b(le)}}function k(K){return function(Y,te,oe){s(oe),Y=I(Y),te=y(te);var le=t.createVerify("RSA-SHA"+K);return le.update(Y),le.verify({key:oe,padding:t.constants.RSA_PKCS1_PSS_PADDING,saltLength:t.constants.RSA_PSS_SALTLEN_DIGEST},te,"base64")}}function V(K){var X=L(K);return function(){var te=X.apply(null,arguments);return te=a.derToJose(te,"ES"+K),te}}function G(K){var X=D(K);return function(te,oe,le){oe=a.joseToDer(oe,"ES"+K).toString("base64");var ee=X(te,oe,le);return ee}}function J(){return function(){return""}}function W(){return function(X,Y){return Y===""}}return jwa=function(X){var Y={hs:_,rs:L,ps:j,es:V,none:J},te={hs:N,rs:D,ps:k,es:G,none:W},oe=X.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!oe)throw O(g,X);var le=(oe[1]||oe[3]).toLowerCase(),ee=oe[2];return{sign:Y[le](ee),verify:te[le](ee)}},jwa}var tostring,hasRequiredTostring;function requireTostring(){if(hasRequiredTostring)return tostring;hasRequiredTostring=1;var e=requireBuffer().Buffer;return tostring=function(a){return typeof a=="string"?a:typeof a=="number"||e.isBuffer(a)?a.toString():JSON.stringify(a)},tostring}var signStream,hasRequiredSignStream;function requireSignStream(){if(hasRequiredSignStream)return signStream;hasRequiredSignStream=1;var e=requireSafeBuffer().Buffer,t=requireDataStream(),a=requireJwa(),p=require$$1$3,g=requireTostring(),m=require$$1$3;function c(h,v){return e.from(h,v).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(h,v,b){b=b||"utf8";var y=c(g(h),"binary"),O=c(g(v),b);return m.format("%s.%s",y,O)}function o(h){var v=h.header,b=h.payload,y=h.secret||h.privateKey,O=h.encoding,w=a(v.alg),I=l(v,b,O),_=w.sign(I,y);return m.format("%s.%s",I,_)}function s(h){var v=h.secret||h.privateKey||h.key,b=new t(v);this.readable=!0,this.header=h.header,this.encoding=h.encoding,this.secret=this.privateKey=this.key=b,this.payload=new t(h.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}return m.inherits(s,p),s.prototype.sign=function(){try{var v=o({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",v),this.emit("data",v),this.emit("end"),this.readable=!1,v}catch(b){this.readable=!1,this.emit("error",b),this.emit("close")}},s.sign=o,signStream=s,signStream}var verifyStream,hasRequiredVerifyStream;function requireVerifyStream(){if(hasRequiredVerifyStream)return verifyStream;hasRequiredVerifyStream=1;var e=requireSafeBuffer().Buffer,t=requireDataStream(),a=requireJwa(),p=require$$1$3,g=requireTostring(),m=require$$1$3,c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function l(_){return Object.prototype.toString.call(_)==="[object Object]"}function o(_){if(l(_))return _;try{return JSON.parse(_)}catch{return}}function s(_){var T=_.split(".",1)[0];return o(e.from(T,"base64").toString("binary"))}function h(_){return _.split(".",2).join(".")}function v(_){return _.split(".")[2]}function b(_,T){T=T||"utf8";var C=_.split(".")[1];return e.from(C,"base64").toString(T)}function y(_){return c.test(_)&&!!s(_)}function O(_,T,C){if(!T){var N=new Error("Missing algorithm parameter for jws.verify");throw N.code="MISSING_ALGORITHM",N}_=g(_);var L=v(_),D=h(_),j=a(T);return j.verify(D,L,C)}function w(_,T){if(T=T||{},_=g(_),!y(_))return null;var C=s(_);if(!C)return null;var N=b(_);return(C.typ==="JWT"||T.json)&&(N=JSON.parse(N,T.encoding)),{header:C,payload:N,signature:v(_)}}function I(_){_=_||{};var T=_.secret||_.publicKey||_.key,C=new t(T);this.readable=!0,this.algorithm=_.algorithm,this.encoding=_.encoding,this.secret=this.publicKey=this.key=C,this.signature=new t(_.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}return m.inherits(I,p),I.prototype.verify=function(){try{var T=O(this.signature.buffer,this.algorithm,this.key.buffer),C=w(this.signature.buffer,this.encoding);return this.emit("done",T,C),this.emit("data",T),this.emit("end"),this.readable=!1,T}catch(N){this.readable=!1,this.emit("error",N),this.emit("close")}},I.decode=w,I.isValid=y,I.verify=O,verifyStream=I,verifyStream}var hasRequiredJws;function requireJws(){if(hasRequiredJws)return jws;hasRequiredJws=1;var e=requireSignStream(),t=requireVerifyStream(),a=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return jws.ALGORITHMS=a,jws.sign=e.sign,jws.verify=t.verify,jws.decode=t.decode,jws.isValid=t.isValid,jws.createSign=function(g){return new e(g)},jws.createVerify=function(g){return new t(g)},jws}var decode$2,hasRequiredDecode;function requireDecode(){if(hasRequiredDecode)return decode$2;hasRequiredDecode=1;var e=requireJws();return decode$2=function(t,a){a=a||{};var p=e.decode(t,a);if(!p)return null;var g=p.payload;if(typeof g=="string")try{var m=JSON.parse(g);m!==null&&typeof m=="object"&&(g=m)}catch{}return a.complete===!0?{header:p.header,payload:g,signature:p.signature}:g},decode$2}var JsonWebTokenError_1,hasRequiredJsonWebTokenError;function requireJsonWebTokenError(){if(hasRequiredJsonWebTokenError)return JsonWebTokenError_1;hasRequiredJsonWebTokenError=1;var e=function(t,a){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,a&&(this.inner=a)};return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,JsonWebTokenError_1=e,JsonWebTokenError_1}var NotBeforeError_1,hasRequiredNotBeforeError;function requireNotBeforeError(){if(hasRequiredNotBeforeError)return NotBeforeError_1;hasRequiredNotBeforeError=1;var e=requireJsonWebTokenError(),t=function(a,p){e.call(this,a),this.name="NotBeforeError",this.date=p};return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,NotBeforeError_1=t,NotBeforeError_1}var TokenExpiredError_1,hasRequiredTokenExpiredError;function requireTokenExpiredError(){if(hasRequiredTokenExpiredError)return TokenExpiredError_1;hasRequiredTokenExpiredError=1;var e=requireJsonWebTokenError(),t=function(a,p){e.call(this,a),this.name="TokenExpiredError",this.expiredAt=p};return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,TokenExpiredError_1=t,TokenExpiredError_1}var timespan,hasRequiredTimespan;function requireTimespan(){if(hasRequiredTimespan)return timespan;hasRequiredTimespan=1;var e=requireMs();return timespan=function(t,a){var p=a||Math.floor(Date.now()/1e3);if(typeof t=="string"){var g=e(t);return typeof g>"u"?void 0:Math.floor(p+g/1e3)}else return typeof t=="number"?p+t:void 0},timespan}var re$1={exports:{}},constants$1,hasRequiredConstants$1;function requireConstants$1(){if(hasRequiredConstants$1)return constants$1;hasRequiredConstants$1=1;const e="2.0.0",t=256,a=Number.MAX_SAFE_INTEGER||9007199254740991,p=16,g=t-6;return constants$1={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:p,MAX_SAFE_BUILD_LENGTH:g,MAX_SAFE_INTEGER:a,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},constants$1}var debug_1,hasRequiredDebug;function requireDebug(){if(hasRequiredDebug)return debug_1;hasRequiredDebug=1;var e={};return debug_1=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{},debug_1}var hasRequiredRe;function requireRe(){return hasRequiredRe||(hasRequiredRe=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:p,MAX_LENGTH:g}=requireConstants$1(),m=requireDebug();t=e.exports={};const c=t.re=[],l=t.safeRe=[],o=t.src=[],s=t.safeSrc=[],h=t.t={};let v=0;const b="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",g],[b,p]],O=I=>{for(const[_,T]of y)I=I.split(`${_}*`).join(`${_}{0,${T}}`).split(`${_}+`).join(`${_}{1,${T}}`);return I},w=(I,_,T)=>{const C=O(_),N=v++;m(I,N,_),h[I]=N,o[N]=_,s[N]=C,c[N]=new RegExp(_,T?"g":void 0),l[N]=new RegExp(C,T?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${b}*`),w("MAINVERSION",`(${o[h.NUMERICIDENTIFIER]})\\.(${o[h.NUMERICIDENTIFIER]})\\.(${o[h.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${o[h.NUMERICIDENTIFIERLOOSE]})\\.(${o[h.NUMERICIDENTIFIERLOOSE]})\\.(${o[h.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${o[h.NONNUMERICIDENTIFIER]}|${o[h.NUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${o[h.NONNUMERICIDENTIFIER]}|${o[h.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASE",`(?:-(${o[h.PRERELEASEIDENTIFIER]}(?:\\.${o[h.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${o[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[h.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${b}+`),w("BUILD",`(?:\\+(${o[h.BUILDIDENTIFIER]}(?:\\.${o[h.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${o[h.MAINVERSION]}${o[h.PRERELEASE]}?${o[h.BUILD]}?`),w("FULL",`^${o[h.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${o[h.MAINVERSIONLOOSE]}${o[h.PRERELEASELOOSE]}?${o[h.BUILD]}?`),w("LOOSE",`^${o[h.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${o[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${o[h.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${o[h.XRANGEIDENTIFIER]})(?:\\.(${o[h.XRANGEIDENTIFIER]})(?:\\.(${o[h.XRANGEIDENTIFIER]})(?:${o[h.PRERELEASE]})?${o[h.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${o[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[h.XRANGEIDENTIFIERLOOSE]})(?:${o[h.PRERELEASELOOSE]})?${o[h.BUILD]}?)?)?`),w("XRANGE",`^${o[h.GTLT]}\\s*${o[h.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${o[h.GTLT]}\\s*${o[h.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${a}})(?:\\.(\\d{1,${a}}))?(?:\\.(\\d{1,${a}}))?`),w("COERCE",`${o[h.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",o[h.COERCEPLAIN]+`(?:${o[h.PRERELEASE]})?(?:${o[h.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",o[h.COERCE],!0),w("COERCERTLFULL",o[h.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${o[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",w("TILDE",`^${o[h.LONETILDE]}${o[h.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${o[h.LONETILDE]}${o[h.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${o[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",w("CARET",`^${o[h.LONECARET]}${o[h.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${o[h.LONECARET]}${o[h.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${o[h.GTLT]}\\s*(${o[h.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${o[h.GTLT]}\\s*(${o[h.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${o[h.GTLT]}\\s*(${o[h.LOOSEPLAIN]}|${o[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${o[h.XRANGEPLAIN]})\\s+-\\s+(${o[h.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${o[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[h.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(re$1,re$1.exports)),re$1.exports}var parseOptions_1,hasRequiredParseOptions;function requireParseOptions(){if(hasRequiredParseOptions)return parseOptions_1;hasRequiredParseOptions=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return parseOptions_1=p=>p?typeof p!="object"?e:p:t,parseOptions_1}var identifiers,hasRequiredIdentifiers;function requireIdentifiers(){if(hasRequiredIdentifiers)return identifiers;hasRequiredIdentifiers=1;const e=/^[0-9]+$/,t=(p,g)=>{const m=e.test(p),c=e.test(g);return m&&c&&(p=+p,g=+g),p===g?0:m&&!c?-1:c&&!m?1:p<g?-1:1};return identifiers={compareIdentifiers:t,rcompareIdentifiers:(p,g)=>t(g,p)},identifiers}var semver$1,hasRequiredSemver$1;function requireSemver$1(){if(hasRequiredSemver$1)return semver$1;hasRequiredSemver$1=1;const e=requireDebug(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:a}=requireConstants$1(),{safeRe:p,t:g}=requireRe(),m=requireParseOptions(),{compareIdentifiers:c}=requireIdentifiers();class l{constructor(s,h){if(h=m(h),s instanceof l){if(s.loose===!!h.loose&&s.includePrerelease===!!h.includePrerelease)return s;s=s.version}else if(typeof s!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof s}".`);if(s.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",s,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const v=s.trim().match(h.loose?p[g.LOOSE]:p[g.FULL]);if(!v)throw new TypeError(`Invalid Version: ${s}`);if(this.raw=s,this.major=+v[1],this.minor=+v[2],this.patch=+v[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");v[4]?this.prerelease=v[4].split(".").map(b=>{if(/^[0-9]+$/.test(b)){const y=+b;if(y>=0&&y<a)return y}return b}):this.prerelease=[],this.build=v[5]?v[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(s){if(e("SemVer.compare",this.version,this.options,s),!(s instanceof l)){if(typeof s=="string"&&s===this.version)return 0;s=new l(s,this.options)}return s.version===this.version?0:this.compareMain(s)||this.comparePre(s)}compareMain(s){return s instanceof l||(s=new l(s,this.options)),c(this.major,s.major)||c(this.minor,s.minor)||c(this.patch,s.patch)}comparePre(s){if(s instanceof l||(s=new l(s,this.options)),this.prerelease.length&&!s.prerelease.length)return-1;if(!this.prerelease.length&&s.prerelease.length)return 1;if(!this.prerelease.length&&!s.prerelease.length)return 0;let h=0;do{const v=this.prerelease[h],b=s.prerelease[h];if(e("prerelease compare",h,v,b),v===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(v===void 0)return-1;if(v===b)continue;return c(v,b)}while(++h)}compareBuild(s){s instanceof l||(s=new l(s,this.options));let h=0;do{const v=this.build[h],b=s.build[h];if(e("build compare",h,v,b),v===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(v===void 0)return-1;if(v===b)continue;return c(v,b)}while(++h)}inc(s,h,v){if(s.startsWith("pre")){if(!h&&v===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const b=`-${h}`.match(this.options.loose?p[g.PRERELEASELOOSE]:p[g.PRERELEASE]);if(!b||b[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(s){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,v);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,v);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,v),this.inc("pre",h,v);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,v),this.inc("pre",h,v);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const b=Number(v)?1:0;if(this.prerelease.length===0)this.prerelease=[b];else{let y=this.prerelease.length;for(;--y>=0;)typeof this.prerelease[y]=="number"&&(this.prerelease[y]++,y=-2);if(y===-1){if(h===this.prerelease.join(".")&&v===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(b)}}if(h){let y=[h,b];v===!1&&(y=[h]),c(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=y):this.prerelease=y}break}default:throw new Error(`invalid increment argument: ${s}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return semver$1=l,semver$1}var parse_1$1,hasRequiredParse$3;function requireParse$3(){if(hasRequiredParse$3)return parse_1$1;hasRequiredParse$3=1;const e=requireSemver$1();return parse_1$1=(a,p,g=!1)=>{if(a instanceof e)return a;try{return new e(a,p)}catch(m){if(!g)return null;throw m}},parse_1$1}var valid_1,hasRequiredValid$1;function requireValid$1(){if(hasRequiredValid$1)return valid_1;hasRequiredValid$1=1;const e=requireParse$3();return valid_1=(a,p)=>{const g=e(a,p);return g?g.version:null},valid_1}var clean_1,hasRequiredClean;function requireClean(){if(hasRequiredClean)return clean_1;hasRequiredClean=1;const e=requireParse$3();return clean_1=(a,p)=>{const g=e(a.trim().replace(/^[=v]+/,""),p);return g?g.version:null},clean_1}var inc_1,hasRequiredInc;function requireInc(){if(hasRequiredInc)return inc_1;hasRequiredInc=1;const e=requireSemver$1();return inc_1=(a,p,g,m,c)=>{typeof g=="string"&&(c=m,m=g,g=void 0);try{return new e(a instanceof e?a.version:a,g).inc(p,m,c).version}catch{return null}},inc_1}var diff_1,hasRequiredDiff;function requireDiff(){if(hasRequiredDiff)return diff_1;hasRequiredDiff=1;const e=requireParse$3();return diff_1=(a,p)=>{const g=e(a,null,!0),m=e(p,null,!0),c=g.compare(m);if(c===0)return null;const l=c>0,o=l?g:m,s=l?m:g,h=!!o.prerelease.length;if(!!s.prerelease.length&&!h){if(!s.patch&&!s.minor)return"major";if(s.compareMain(o)===0)return s.minor&&!s.patch?"minor":"patch"}const b=h?"pre":"";return g.major!==m.major?b+"major":g.minor!==m.minor?b+"minor":g.patch!==m.patch?b+"patch":"prerelease"},diff_1}var major_1,hasRequiredMajor;function requireMajor(){if(hasRequiredMajor)return major_1;hasRequiredMajor=1;const e=requireSemver$1();return major_1=(a,p)=>new e(a,p).major,major_1}var minor_1,hasRequiredMinor;function requireMinor(){if(hasRequiredMinor)return minor_1;hasRequiredMinor=1;const e=requireSemver$1();return minor_1=(a,p)=>new e(a,p).minor,minor_1}var patch_1,hasRequiredPatch;function requirePatch(){if(hasRequiredPatch)return patch_1;hasRequiredPatch=1;const e=requireSemver$1();return patch_1=(a,p)=>new e(a,p).patch,patch_1}var prerelease_1,hasRequiredPrerelease;function requirePrerelease(){if(hasRequiredPrerelease)return prerelease_1;hasRequiredPrerelease=1;const e=requireParse$3();return prerelease_1=(a,p)=>{const g=e(a,p);return g&&g.prerelease.length?g.prerelease:null},prerelease_1}var compare_1,hasRequiredCompare;function requireCompare(){if(hasRequiredCompare)return compare_1;hasRequiredCompare=1;const e=requireSemver$1();return compare_1=(a,p,g)=>new e(a,g).compare(new e(p,g)),compare_1}var rcompare_1,hasRequiredRcompare;function requireRcompare(){if(hasRequiredRcompare)return rcompare_1;hasRequiredRcompare=1;const e=requireCompare();return rcompare_1=(a,p,g)=>e(p,a,g),rcompare_1}var compareLoose_1,hasRequiredCompareLoose;function requireCompareLoose(){if(hasRequiredCompareLoose)return compareLoose_1;hasRequiredCompareLoose=1;const e=requireCompare();return compareLoose_1=(a,p)=>e(a,p,!0),compareLoose_1}var compareBuild_1,hasRequiredCompareBuild;function requireCompareBuild(){if(hasRequiredCompareBuild)return compareBuild_1;hasRequiredCompareBuild=1;const e=requireSemver$1();return compareBuild_1=(a,p,g)=>{const m=new e(a,g),c=new e(p,g);return m.compare(c)||m.compareBuild(c)},compareBuild_1}var sort_1,hasRequiredSort;function requireSort(){if(hasRequiredSort)return sort_1;hasRequiredSort=1;const e=requireCompareBuild();return sort_1=(a,p)=>a.sort((g,m)=>e(g,m,p)),sort_1}var rsort_1,hasRequiredRsort;function requireRsort(){if(hasRequiredRsort)return rsort_1;hasRequiredRsort=1;const e=requireCompareBuild();return rsort_1=(a,p)=>a.sort((g,m)=>e(m,g,p)),rsort_1}var gt_1,hasRequiredGt;function requireGt(){if(hasRequiredGt)return gt_1;hasRequiredGt=1;const e=requireCompare();return gt_1=(a,p,g)=>e(a,p,g)>0,gt_1}var lt_1,hasRequiredLt;function requireLt(){if(hasRequiredLt)return lt_1;hasRequiredLt=1;const e=requireCompare();return lt_1=(a,p,g)=>e(a,p,g)<0,lt_1}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;const e=requireCompare();return eq_1=(a,p,g)=>e(a,p,g)===0,eq_1}var neq_1,hasRequiredNeq;function requireNeq(){if(hasRequiredNeq)return neq_1;hasRequiredNeq=1;const e=requireCompare();return neq_1=(a,p,g)=>e(a,p,g)!==0,neq_1}var gte_1,hasRequiredGte;function requireGte(){if(hasRequiredGte)return gte_1;hasRequiredGte=1;const e=requireCompare();return gte_1=(a,p,g)=>e(a,p,g)>=0,gte_1}var lte_1,hasRequiredLte;function requireLte(){if(hasRequiredLte)return lte_1;hasRequiredLte=1;const e=requireCompare();return lte_1=(a,p,g)=>e(a,p,g)<=0,lte_1}var cmp_1,hasRequiredCmp;function requireCmp(){if(hasRequiredCmp)return cmp_1;hasRequiredCmp=1;const e=requireEq(),t=requireNeq(),a=requireGt(),p=requireGte(),g=requireLt(),m=requireLte();return cmp_1=(l,o,s,h)=>{switch(o){case"===":return typeof l=="object"&&(l=l.version),typeof s=="object"&&(s=s.version),l===s;case"!==":return typeof l=="object"&&(l=l.version),typeof s=="object"&&(s=s.version),l!==s;case"":case"=":case"==":return e(l,s,h);case"!=":return t(l,s,h);case">":return a(l,s,h);case">=":return p(l,s,h);case"<":return g(l,s,h);case"<=":return m(l,s,h);default:throw new TypeError(`Invalid operator: ${o}`)}},cmp_1}var coerce_1,hasRequiredCoerce;function requireCoerce(){if(hasRequiredCoerce)return coerce_1;hasRequiredCoerce=1;const e=requireSemver$1(),t=requireParse$3(),{safeRe:a,t:p}=requireRe();return coerce_1=(m,c)=>{if(m instanceof e)return m;if(typeof m=="number"&&(m=String(m)),typeof m!="string")return null;c=c||{};let l=null;if(!c.rtl)l=m.match(c.includePrerelease?a[p.COERCEFULL]:a[p.COERCE]);else{const y=c.includePrerelease?a[p.COERCERTLFULL]:a[p.COERCERTL];let O;for(;(O=y.exec(m))&&(!l||l.index+l[0].length!==m.length);)(!l||O.index+O[0].length!==l.index+l[0].length)&&(l=O),y.lastIndex=O.index+O[1].length+O[2].length;y.lastIndex=-1}if(l===null)return null;const o=l[2],s=l[3]||"0",h=l[4]||"0",v=c.includePrerelease&&l[5]?`-${l[5]}`:"",b=c.includePrerelease&&l[6]?`+${l[6]}`:"";return t(`${o}.${s}.${h}${v}${b}`,c)},coerce_1}var lrucache,hasRequiredLrucache;function requireLrucache(){if(hasRequiredLrucache)return lrucache;hasRequiredLrucache=1;class e{constructor(){this.max=1e3,this.map=new Map}get(a){const p=this.map.get(a);if(p!==void 0)return this.map.delete(a),this.map.set(a,p),p}delete(a){return this.map.delete(a)}set(a,p){if(!this.delete(a)&&p!==void 0){if(this.map.size>=this.max){const m=this.map.keys().next().value;this.delete(m)}this.map.set(a,p)}return this}}return lrucache=e,lrucache}var range,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range;hasRequiredRange=1;const e=/\s+/g;class t{constructor(Y,te){if(te=g(te),Y instanceof t)return Y.loose===!!te.loose&&Y.includePrerelease===!!te.includePrerelease?Y:new t(Y.raw,te);if(Y instanceof m)return this.raw=Y.value,this.set=[[Y]],this.formatted=void 0,this;if(this.options=te,this.loose=!!te.loose,this.includePrerelease=!!te.includePrerelease,this.raw=Y.trim().replace(e," "),this.set=this.raw.split("||").map(oe=>this.parseRange(oe.trim())).filter(oe=>oe.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const oe=this.set[0];if(this.set=this.set.filter(le=>!w(le[0])),this.set.length===0)this.set=[oe];else if(this.set.length>1){for(const le of this.set)if(le.length===1&&I(le[0])){this.set=[le];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let Y=0;Y<this.set.length;Y++){Y>0&&(this.formatted+="||");const te=this.set[Y];for(let oe=0;oe<te.length;oe++)oe>0&&(this.formatted+=" "),this.formatted+=te[oe].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(Y){const oe=((this.options.includePrerelease&&y)|(this.options.loose&&O))+":"+Y,le=p.get(oe);if(le)return le;const ee=this.options.loose,se=ee?o[s.HYPHENRANGELOOSE]:o[s.HYPHENRANGE];Y=Y.replace(se,W(this.options.includePrerelease)),c("hyphen replace",Y),Y=Y.replace(o[s.COMPARATORTRIM],h),c("comparator trim",Y),Y=Y.replace(o[s.TILDETRIM],v),c("tilde trim",Y),Y=Y.replace(o[s.CARETTRIM],b),c("caret trim",Y);let de=Y.split(" ").map(Oe=>T(Oe,this.options)).join(" ").split(/\s+/).map(Oe=>J(Oe,this.options));ee&&(de=de.filter(Oe=>(c("loose invalid filter",Oe,this.options),!!Oe.match(o[s.COMPARATORLOOSE])))),c("range list",de);const he=new Map,ge=de.map(Oe=>new m(Oe,this.options));for(const Oe of ge){if(w(Oe))return[Oe];he.set(Oe.value,Oe)}he.size>1&&he.has("")&&he.delete("");const me=[...he.values()];return p.set(oe,me),me}intersects(Y,te){if(!(Y instanceof t))throw new TypeError("a Range is required");return this.set.some(oe=>_(oe,te)&&Y.set.some(le=>_(le,te)&&oe.every(ee=>le.every(se=>ee.intersects(se,te)))))}test(Y){if(!Y)return!1;if(typeof Y=="string")try{Y=new l(Y,this.options)}catch{return!1}for(let te=0;te<this.set.length;te++)if(K(this.set[te],Y,this.options))return!0;return!1}}range=t;const a=requireLrucache(),p=new a,g=requireParseOptions(),m=requireComparator(),c=requireDebug(),l=requireSemver$1(),{safeRe:o,t:s,comparatorTrimReplace:h,tildeTrimReplace:v,caretTrimReplace:b}=requireRe(),{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:O}=requireConstants$1(),w=X=>X.value==="<0.0.0-0",I=X=>X.value==="",_=(X,Y)=>{let te=!0;const oe=X.slice();let le=oe.pop();for(;te&&oe.length;)te=oe.every(ee=>le.intersects(ee,Y)),le=oe.pop();return te},T=(X,Y)=>(c("comp",X,Y),X=D(X,Y),c("caret",X),X=N(X,Y),c("tildes",X),X=k(X,Y),c("xrange",X),X=G(X,Y),c("stars",X),X),C=X=>!X||X.toLowerCase()==="x"||X==="*",N=(X,Y)=>X.trim().split(/\s+/).map(te=>L(te,Y)).join(" "),L=(X,Y)=>{const te=Y.loose?o[s.TILDELOOSE]:o[s.TILDE];return X.replace(te,(oe,le,ee,se,de)=>{c("tilde",X,oe,le,ee,se,de);let he;return C(le)?he="":C(ee)?he=`>=${le}.0.0 <${+le+1}.0.0-0`:C(se)?he=`>=${le}.${ee}.0 <${le}.${+ee+1}.0-0`:de?(c("replaceTilde pr",de),he=`>=${le}.${ee}.${se}-${de} <${le}.${+ee+1}.0-0`):he=`>=${le}.${ee}.${se} <${le}.${+ee+1}.0-0`,c("tilde return",he),he})},D=(X,Y)=>X.trim().split(/\s+/).map(te=>j(te,Y)).join(" "),j=(X,Y)=>{c("caret",X,Y);const te=Y.loose?o[s.CARETLOOSE]:o[s.CARET],oe=Y.includePrerelease?"-0":"";return X.replace(te,(le,ee,se,de,he)=>{c("caret",X,le,ee,se,de,he);let ge;return C(ee)?ge="":C(se)?ge=`>=${ee}.0.0${oe} <${+ee+1}.0.0-0`:C(de)?ee==="0"?ge=`>=${ee}.${se}.0${oe} <${ee}.${+se+1}.0-0`:ge=`>=${ee}.${se}.0${oe} <${+ee+1}.0.0-0`:he?(c("replaceCaret pr",he),ee==="0"?se==="0"?ge=`>=${ee}.${se}.${de}-${he} <${ee}.${se}.${+de+1}-0`:ge=`>=${ee}.${se}.${de}-${he} <${ee}.${+se+1}.0-0`:ge=`>=${ee}.${se}.${de}-${he} <${+ee+1}.0.0-0`):(c("no pr"),ee==="0"?se==="0"?ge=`>=${ee}.${se}.${de}${oe} <${ee}.${se}.${+de+1}-0`:ge=`>=${ee}.${se}.${de}${oe} <${ee}.${+se+1}.0-0`:ge=`>=${ee}.${se}.${de} <${+ee+1}.0.0-0`),c("caret return",ge),ge})},k=(X,Y)=>(c("replaceXRanges",X,Y),X.split(/\s+/).map(te=>V(te,Y)).join(" ")),V=(X,Y)=>{X=X.trim();const te=Y.loose?o[s.XRANGELOOSE]:o[s.XRANGE];return X.replace(te,(oe,le,ee,se,de,he)=>{c("xRange",X,oe,le,ee,se,de,he);const ge=C(ee),me=ge||C(se),Oe=me||C(de),fe=Oe;return le==="="&&fe&&(le=""),he=Y.includePrerelease?"-0":"",ge?le===">"||le==="<"?oe="<0.0.0-0":oe="*":le&&fe?(me&&(se=0),de=0,le===">"?(le=">=",me?(ee=+ee+1,se=0,de=0):(se=+se+1,de=0)):le==="<="&&(le="<",me?ee=+ee+1:se=+se+1),le==="<"&&(he="-0"),oe=`${le+ee}.${se}.${de}${he}`):me?oe=`>=${ee}.0.0${he} <${+ee+1}.0.0-0`:Oe&&(oe=`>=${ee}.${se}.0${he} <${ee}.${+se+1}.0-0`),c("xRange return",oe),oe})},G=(X,Y)=>(c("replaceStars",X,Y),X.trim().replace(o[s.STAR],"")),J=(X,Y)=>(c("replaceGTE0",X,Y),X.trim().replace(o[Y.includePrerelease?s.GTE0PRE:s.GTE0],"")),W=X=>(Y,te,oe,le,ee,se,de,he,ge,me,Oe,fe)=>(C(oe)?te="":C(le)?te=`>=${oe}.0.0${X?"-0":""}`:C(ee)?te=`>=${oe}.${le}.0${X?"-0":""}`:se?te=`>=${te}`:te=`>=${te}${X?"-0":""}`,C(ge)?he="":C(me)?he=`<${+ge+1}.0.0-0`:C(Oe)?he=`<${ge}.${+me+1}.0-0`:fe?he=`<=${ge}.${me}.${Oe}-${fe}`:X?he=`<${ge}.${me}.${+Oe+1}-0`:he=`<=${he}`,`${te} ${he}`.trim()),K=(X,Y,te)=>{for(let oe=0;oe<X.length;oe++)if(!X[oe].test(Y))return!1;if(Y.prerelease.length&&!te.includePrerelease){for(let oe=0;oe<X.length;oe++)if(c(X[oe].semver),X[oe].semver!==m.ANY&&X[oe].semver.prerelease.length>0){const le=X[oe].semver;if(le.major===Y.major&&le.minor===Y.minor&&le.patch===Y.patch)return!0}return!1}return!0};return range}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(h,v){if(v=a(v),h instanceof t){if(h.loose===!!v.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),c("comparator",h,v),this.options=v,this.loose=!!v.loose,this.parse(h),this.semver===e?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(h){const v=this.options.loose?p[g.COMPARATORLOOSE]:p[g.COMPARATOR],b=h.match(v);if(!b)throw new TypeError(`Invalid comparator: ${h}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new l(b[2],this.options.loose):this.semver=e}toString(){return this.value}test(h){if(c("Comparator.test",h,this.options.loose),this.semver===e||h===e)return!0;if(typeof h=="string")try{h=new l(h,this.options)}catch{return!1}return m(h,this.operator,this.semver,this.options)}intersects(h,v){if(!(h instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new o(h.value,v).test(this.value):h.operator===""?h.value===""?!0:new o(this.value,v).test(h.semver):(v=a(v),v.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!v.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||m(this.semver,"<",h.semver,v)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||m(this.semver,">",h.semver,v)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}comparator=t;const a=requireParseOptions(),{safeRe:p,t:g}=requireRe(),m=requireCmp(),c=requireDebug(),l=requireSemver$1(),o=requireRange();return comparator}var satisfies_1,hasRequiredSatisfies;function requireSatisfies(){if(hasRequiredSatisfies)return satisfies_1;hasRequiredSatisfies=1;const e=requireRange();return satisfies_1=(a,p,g)=>{try{p=new e(p,g)}catch{return!1}return p.test(a)},satisfies_1}var toComparators_1,hasRequiredToComparators;function requireToComparators(){if(hasRequiredToComparators)return toComparators_1;hasRequiredToComparators=1;const e=requireRange();return toComparators_1=(a,p)=>new e(a,p).set.map(g=>g.map(m=>m.value).join(" ").trim().split(" ")),toComparators_1}var maxSatisfying_1,hasRequiredMaxSatisfying;function requireMaxSatisfying(){if(hasRequiredMaxSatisfying)return maxSatisfying_1;hasRequiredMaxSatisfying=1;const e=requireSemver$1(),t=requireRange();return maxSatisfying_1=(p,g,m)=>{let c=null,l=null,o=null;try{o=new t(g,m)}catch{return null}return p.forEach(s=>{o.test(s)&&(!c||l.compare(s)===-1)&&(c=s,l=new e(c,m))}),c},maxSatisfying_1}var minSatisfying_1,hasRequiredMinSatisfying;function requireMinSatisfying(){if(hasRequiredMinSatisfying)return minSatisfying_1;hasRequiredMinSatisfying=1;const e=requireSemver$1(),t=requireRange();return minSatisfying_1=(p,g,m)=>{let c=null,l=null,o=null;try{o=new t(g,m)}catch{return null}return p.forEach(s=>{o.test(s)&&(!c||l.compare(s)===1)&&(c=s,l=new e(c,m))}),c},minSatisfying_1}var minVersion_1,hasRequiredMinVersion;function requireMinVersion(){if(hasRequiredMinVersion)return minVersion_1;hasRequiredMinVersion=1;const e=requireSemver$1(),t=requireRange(),a=requireGt();return minVersion_1=(g,m)=>{g=new t(g,m);let c=new e("0.0.0");if(g.test(c)||(c=new e("0.0.0-0"),g.test(c)))return c;c=null;for(let l=0;l<g.set.length;++l){const o=g.set[l];let s=null;o.forEach(h=>{const v=new e(h.semver.version);switch(h.operator){case">":v.prerelease.length===0?v.patch++:v.prerelease.push(0),v.raw=v.format();case"":case">=":(!s||a(v,s))&&(s=v);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${h.operator}`)}}),s&&(!c||a(c,s))&&(c=s)}return c&&g.test(c)?c:null},minVersion_1}var valid,hasRequiredValid;function requireValid(){if(hasRequiredValid)return valid;hasRequiredValid=1;const e=requireRange();return valid=(a,p)=>{try{return new e(a,p).range||"*"}catch{return null}},valid}var outside_1,hasRequiredOutside;function requireOutside(){if(hasRequiredOutside)return outside_1;hasRequiredOutside=1;const e=requireSemver$1(),t=requireComparator(),{ANY:a}=t,p=requireRange(),g=requireSatisfies(),m=requireGt(),c=requireLt(),l=requireLte(),o=requireGte();return outside_1=(h,v,b,y)=>{h=new e(h,y),v=new p(v,y);let O,w,I,_,T;switch(b){case">":O=m,w=l,I=c,_=">",T=">=";break;case"<":O=c,w=o,I=m,_="<",T="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(g(h,v,y))return!1;for(let C=0;C<v.set.length;++C){const N=v.set[C];let L=null,D=null;if(N.forEach(j=>{j.semver===a&&(j=new t(">=0.0.0")),L=L||j,D=D||j,O(j.semver,L.semver,y)?L=j:I(j.semver,D.semver,y)&&(D=j)}),L.operator===_||L.operator===T||(!D.operator||D.operator===_)&&w(h,D.semver))return!1;if(D.operator===T&&I(h,D.semver))return!1}return!0},outside_1}var gtr_1,hasRequiredGtr;function requireGtr(){if(hasRequiredGtr)return gtr_1;hasRequiredGtr=1;const e=requireOutside();return gtr_1=(a,p,g)=>e(a,p,">",g),gtr_1}var ltr_1,hasRequiredLtr;function requireLtr(){if(hasRequiredLtr)return ltr_1;hasRequiredLtr=1;const e=requireOutside();return ltr_1=(a,p,g)=>e(a,p,"<",g),ltr_1}var intersects_1,hasRequiredIntersects;function requireIntersects(){if(hasRequiredIntersects)return intersects_1;hasRequiredIntersects=1;const e=requireRange();return intersects_1=(a,p,g)=>(a=new e(a,g),p=new e(p,g),a.intersects(p,g)),intersects_1}var simplify,hasRequiredSimplify;function requireSimplify(){if(hasRequiredSimplify)return simplify;hasRequiredSimplify=1;const e=requireSatisfies(),t=requireCompare();return simplify=(a,p,g)=>{const m=[];let c=null,l=null;const o=a.sort((b,y)=>t(b,y,g));for(const b of o)e(b,p,g)?(l=b,c||(c=b)):(l&&m.push([c,l]),l=null,c=null);c&&m.push([c,null]);const s=[];for(const[b,y]of m)b===y?s.push(b):!y&&b===o[0]?s.push("*"):y?b===o[0]?s.push(`<=${y}`):s.push(`${b} - ${y}`):s.push(`>=${b}`);const h=s.join(" || "),v=typeof p.raw=="string"?p.raw:String(p);return h.length<v.length?h:p},simplify}var subset_1,hasRequiredSubset;function requireSubset(){if(hasRequiredSubset)return subset_1;hasRequiredSubset=1;const e=requireRange(),t=requireComparator(),{ANY:a}=t,p=requireSatisfies(),g=requireCompare(),m=(v,b,y={})=>{if(v===b)return!0;v=new e(v,y),b=new e(b,y);let O=!1;e:for(const w of v.set){for(const I of b.set){const _=o(w,I,y);if(O=O||_!==null,_)continue e}if(O)return!1}return!0},c=[new t(">=0.0.0-0")],l=[new t(">=0.0.0")],o=(v,b,y)=>{if(v===b)return!0;if(v.length===1&&v[0].semver===a){if(b.length===1&&b[0].semver===a)return!0;y.includePrerelease?v=c:v=l}if(b.length===1&&b[0].semver===a){if(y.includePrerelease)return!0;b=l}const O=new Set;let w,I;for(const k of v)k.operator===">"||k.operator===">="?w=s(w,k,y):k.operator==="<"||k.operator==="<="?I=h(I,k,y):O.add(k.semver);if(O.size>1)return null;let _;if(w&&I){if(_=g(w.semver,I.semver,y),_>0)return null;if(_===0&&(w.operator!==">="||I.operator!=="<="))return null}for(const k of O){if(w&&!p(k,String(w),y)||I&&!p(k,String(I),y))return null;for(const V of b)if(!p(k,String(V),y))return!1;return!0}let T,C,N,L,D=I&&!y.includePrerelease&&I.semver.prerelease.length?I.semver:!1,j=w&&!y.includePrerelease&&w.semver.prerelease.length?w.semver:!1;D&&D.prerelease.length===1&&I.operator==="<"&&D.prerelease[0]===0&&(D=!1);for(const k of b){if(L=L||k.operator===">"||k.operator===">=",N=N||k.operator==="<"||k.operator==="<=",w){if(j&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===j.major&&k.semver.minor===j.minor&&k.semver.patch===j.patch&&(j=!1),k.operator===">"||k.operator===">="){if(T=s(w,k,y),T===k&&T!==w)return!1}else if(w.operator===">="&&!p(w.semver,String(k),y))return!1}if(I){if(D&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===D.major&&k.semver.minor===D.minor&&k.semver.patch===D.patch&&(D=!1),k.operator==="<"||k.operator==="<="){if(C=h(I,k,y),C===k&&C!==I)return!1}else if(I.operator==="<="&&!p(I.semver,String(k),y))return!1}if(!k.operator&&(I||w)&&_!==0)return!1}return!(w&&N&&!I&&_!==0||I&&L&&!w&&_!==0||j||D)},s=(v,b,y)=>{if(!v)return b;const O=g(v.semver,b.semver,y);return O>0?v:O<0||b.operator===">"&&v.operator===">="?b:v},h=(v,b,y)=>{if(!v)return b;const O=g(v.semver,b.semver,y);return O<0?v:O>0||b.operator==="<"&&v.operator==="<="?b:v};return subset_1=m,subset_1}var semver,hasRequiredSemver;function requireSemver(){if(hasRequiredSemver)return semver;hasRequiredSemver=1;const e=requireRe(),t=requireConstants$1(),a=requireSemver$1(),p=requireIdentifiers(),g=requireParse$3(),m=requireValid$1(),c=requireClean(),l=requireInc(),o=requireDiff(),s=requireMajor(),h=requireMinor(),v=requirePatch(),b=requirePrerelease(),y=requireCompare(),O=requireRcompare(),w=requireCompareLoose(),I=requireCompareBuild(),_=requireSort(),T=requireRsort(),C=requireGt(),N=requireLt(),L=requireEq(),D=requireNeq(),j=requireGte(),k=requireLte(),V=requireCmp(),G=requireCoerce(),J=requireComparator(),W=requireRange(),K=requireSatisfies(),X=requireToComparators(),Y=requireMaxSatisfying(),te=requireMinSatisfying(),oe=requireMinVersion(),le=requireValid(),ee=requireOutside(),se=requireGtr(),de=requireLtr(),he=requireIntersects(),ge=requireSimplify(),me=requireSubset();return semver={parse:g,valid:m,clean:c,inc:l,diff:o,major:s,minor:h,patch:v,prerelease:b,compare:y,rcompare:O,compareLoose:w,compareBuild:I,sort:_,rsort:T,gt:C,lt:N,eq:L,neq:D,gte:j,lte:k,cmp:V,coerce:G,Comparator:J,Range:W,satisfies:K,toComparators:X,maxSatisfying:Y,minSatisfying:te,minVersion:oe,validRange:le,outside:ee,gtr:se,ltr:de,intersects:he,simplifyRange:ge,subset:me,SemVer:a,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:p.compareIdentifiers,rcompareIdentifiers:p.rcompareIdentifiers},semver}var asymmetricKeyDetailsSupported,hasRequiredAsymmetricKeyDetailsSupported;function requireAsymmetricKeyDetailsSupported(){return hasRequiredAsymmetricKeyDetailsSupported||(hasRequiredAsymmetricKeyDetailsSupported=1,asymmetricKeyDetailsSupported=requireSemver().satisfies(process.version,">=15.7.0")),asymmetricKeyDetailsSupported}var rsaPssKeyDetailsSupported,hasRequiredRsaPssKeyDetailsSupported;function requireRsaPssKeyDetailsSupported(){return hasRequiredRsaPssKeyDetailsSupported||(hasRequiredRsaPssKeyDetailsSupported=1,rsaPssKeyDetailsSupported=requireSemver().satisfies(process.version,">=16.9.0")),rsaPssKeyDetailsSupported}var validateAsymmetricKey,hasRequiredValidateAsymmetricKey;function requireValidateAsymmetricKey(){if(hasRequiredValidateAsymmetricKey)return validateAsymmetricKey;hasRequiredValidateAsymmetricKey=1;const e=requireAsymmetricKeyDetailsSupported(),t=requireRsaPssKeyDetailsSupported(),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},p={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return validateAsymmetricKey=function(g,m){if(!g||!m)return;const c=m.asymmetricKeyType;if(!c)return;const l=a[c];if(!l)throw new Error(`Unknown key type "${c}".`);if(!l.includes(g))throw new Error(`"alg" parameter for "${c}" key type must be one of: ${l.join(", ")}.`);if(e)switch(c){case"ec":const o=m.asymmetricKeyDetails.namedCurve,s=p[g];if(o!==s)throw new Error(`"alg" parameter "${g}" requires curve "${s}".`);break;case"rsa-pss":if(t){const h=parseInt(g.slice(-3),10),{hashAlgorithm:v,mgf1HashAlgorithm:b,saltLength:y}=m.asymmetricKeyDetails;if(v!==`sha${h}`||b!==v)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${g}.`);if(y!==void 0&&y>h>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${g}.`)}break}},validateAsymmetricKey}var psSupported,hasRequiredPsSupported;function requirePsSupported(){if(hasRequiredPsSupported)return psSupported;hasRequiredPsSupported=1;var e=requireSemver();return psSupported=e.satisfies(process.version,"^6.12.0 || >=8.0.0"),psSupported}var verify$1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify$1;hasRequiredVerify=1;const e=requireJsonWebTokenError(),t=requireNotBeforeError(),a=requireTokenExpiredError(),p=requireDecode(),g=requireTimespan(),m=requireValidateAsymmetricKey(),c=requirePsSupported(),l=requireJws(),{KeyObject:o,createSecretKey:s,createPublicKey:h}=require$$1$3,v=["RS256","RS384","RS512"],b=["ES256","ES384","ES512"],y=["RS256","RS384","RS512"],O=["HS256","HS384","HS512"];return c&&(v.splice(v.length,0,"PS256","PS384","PS512"),y.splice(y.length,0,"PS256","PS384","PS512")),verify$1=function(w,I,_,T){typeof _=="function"&&!T&&(T=_,_={}),_||(_={}),_=Object.assign({},_);let C;if(T?C=T:C=function(V,G){if(V)throw V;return G},_.clockTimestamp&&typeof _.clockTimestamp!="number")return C(new e("clockTimestamp must be a number"));if(_.nonce!==void 0&&(typeof _.nonce!="string"||_.nonce.trim()===""))return C(new e("nonce must be a non-empty string"));if(_.allowInvalidAsymmetricKeyTypes!==void 0&&typeof _.allowInvalidAsymmetricKeyTypes!="boolean")return C(new e("allowInvalidAsymmetricKeyTypes must be a boolean"));const N=_.clockTimestamp||Math.floor(Date.now()/1e3);if(!w)return C(new e("jwt must be provided"));if(typeof w!="string")return C(new e("jwt must be a string"));const L=w.split(".");if(L.length!==3)return C(new e("jwt malformed"));let D;try{D=p(w,{complete:!0})}catch(V){return C(V)}if(!D)return C(new e("invalid token"));const j=D.header;let k;if(typeof I=="function"){if(!T)return C(new e("verify must be called asynchronous if secret or public key is provided as a callback"));k=I}else k=function(V,G){return G(null,I)};return k(j,function(V,G){if(V)return C(new e("error in secret or public key callback: "+V.message));const J=L[2].trim()!=="";if(!J&&G)return C(new e("jwt signature is required"));if(J&&!G)return C(new e("secret or public key must be provided"));if(!J&&!_.algorithms)return C(new e('please specify "none" in "algorithms" to verify unsigned tokens'));if(G!=null&&!(G instanceof o))try{G=h(G)}catch{try{G=s(typeof G=="string"?Buffer.from(G):G)}catch{return C(new e("secretOrPublicKey is not valid key material"))}}if(_.algorithms||(G.type==="secret"?_.algorithms=O:["rsa","rsa-pss"].includes(G.asymmetricKeyType)?_.algorithms=y:G.asymmetricKeyType==="ec"?_.algorithms=b:_.algorithms=v),_.algorithms.indexOf(D.header.alg)===-1)return C(new e("invalid algorithm"));if(j.alg.startsWith("HS")&&G.type!=="secret")return C(new e(`secretOrPublicKey must be a symmetric key when using ${j.alg}`));if(/^(?:RS|PS|ES)/.test(j.alg)&&G.type!=="public")return C(new e(`secretOrPublicKey must be an asymmetric key when using ${j.alg}`));if(!_.allowInvalidAsymmetricKeyTypes)try{m(j.alg,G)}catch(X){return C(X)}let W;try{W=l.verify(w,D.header.alg,G)}catch(X){return C(X)}if(!W)return C(new e("invalid signature"));const K=D.payload;if(typeof K.nbf<"u"&&!_.ignoreNotBefore){if(typeof K.nbf!="number")return C(new e("invalid nbf value"));if(K.nbf>N+(_.clockTolerance||0))return C(new t("jwt not active",new Date(K.nbf*1e3)))}if(typeof K.exp<"u"&&!_.ignoreExpiration){if(typeof K.exp!="number")return C(new e("invalid exp value"));if(N>=K.exp+(_.clockTolerance||0))return C(new a("jwt expired",new Date(K.exp*1e3)))}if(_.audience){const X=Array.isArray(_.audience)?_.audience:[_.audience];if(!(Array.isArray(K.aud)?K.aud:[K.aud]).some(function(oe){return X.some(function(le){return le instanceof RegExp?le.test(oe):le===oe})}))return C(new e("jwt audience invalid. expected: "+X.join(" or ")))}if(_.issuer&&(typeof _.issuer=="string"&&K.iss!==_.issuer||Array.isArray(_.issuer)&&_.issuer.indexOf(K.iss)===-1))return C(new e("jwt issuer invalid. expected: "+_.issuer));if(_.subject&&K.sub!==_.subject)return C(new e("jwt subject invalid. expected: "+_.subject));if(_.jwtid&&K.jti!==_.jwtid)return C(new e("jwt jwtid invalid. expected: "+_.jwtid));if(_.nonce&&K.nonce!==_.nonce)return C(new e("jwt nonce invalid. expected: "+_.nonce));if(_.maxAge){if(typeof K.iat!="number")return C(new e("iat required when maxAge is specified"));const X=g(_.maxAge,K.iat);if(typeof X>"u")return C(new e('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(N>=X+(_.clockTolerance||0))return C(new a("maxAge exceeded",new Date(X*1e3)))}if(_.complete===!0){const X=D.signature;return C(null,{header:j,payload:K,signature:X})}return C(null,K)})},verify$1}var lodash_includes,hasRequiredLodash_includes;function requireLodash_includes(){if(hasRequiredLodash_includes)return lodash_includes;hasRequiredLodash_includes=1;var e=1/0,t=9007199254740991,a=17976931348623157e292,p=NaN,g="[object Arguments]",m="[object Function]",c="[object GeneratorFunction]",l="[object String]",o="[object Symbol]",s=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,b=/^0o[0-7]+$/i,y=/^(?:0|[1-9]\d*)$/,O=parseInt;function w(A,$){for(var ie=-1,pe=A?A.length:0,ne=Array(pe);++ie<pe;)ne[ie]=$(A[ie],ie,A);return ne}function I(A,$,ie,pe){for(var ne=A.length,u=ie+-1;++u<ne;)if($(A[u],u,A))return u;return-1}function _(A,$,ie){if($!==$)return I(A,T,ie);for(var pe=ie-1,ne=A.length;++pe<ne;)if(A[pe]===$)return pe;return-1}function T(A){return A!==A}function C(A,$){for(var ie=-1,pe=Array(A);++ie<A;)pe[ie]=$(ie);return pe}function N(A,$){return w($,function(ie){return A[ie]})}function L(A,$){return function(ie){return A($(ie))}}var D=Object.prototype,j=D.hasOwnProperty,k=D.toString,V=D.propertyIsEnumerable,G=L(Object.keys,Object),J=Math.max;function W(A,$){var ie=le(A)||oe(A)?C(A.length,String):[],pe=ie.length,ne=!!pe;for(var u in A)j.call(A,u)&&!(ne&&(u=="length"||X(u,pe)))&&ie.push(u);return ie}function K(A){if(!Y(A))return G(A);var $=[];for(var ie in Object(A))j.call(A,ie)&&ie!="constructor"&&$.push(ie);return $}function X(A,$){return $=$??t,!!$&&(typeof A=="number"||y.test(A))&&A>-1&&A%1==0&&A<$}function Y(A){var $=A&&A.constructor,ie=typeof $=="function"&&$.prototype||D;return A===ie}function te(A,$,ie,pe){A=ee(A)?A:P(A),ie=ie&&!pe?Ee(ie):0;var ne=A.length;return ie<0&&(ie=J(ne+ie,0)),Oe(A)?ie<=ne&&A.indexOf($,ie)>-1:!!ne&&_(A,$,ie)>-1}function oe(A){return se(A)&&j.call(A,"callee")&&(!V.call(A,"callee")||k.call(A)==g)}var le=Array.isArray;function ee(A){return A!=null&&he(A.length)&&!de(A)}function se(A){return me(A)&&ee(A)}function de(A){var $=ge(A)?k.call(A):"";return $==m||$==c}function he(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=t}function ge(A){var $=typeof A;return!!A&&($=="object"||$=="function")}function me(A){return!!A&&typeof A=="object"}function Oe(A){return typeof A=="string"||!le(A)&&me(A)&&k.call(A)==l}function fe(A){return typeof A=="symbol"||me(A)&&k.call(A)==o}function _e(A){if(!A)return A===0?A:0;if(A=z(A),A===e||A===-e){var $=A<0?-1:1;return $*a}return A===A?A:0}function Ee(A){var $=_e(A),ie=$%1;return $===$?ie?$-ie:$:0}function z(A){if(typeof A=="number")return A;if(fe(A))return p;if(ge(A)){var $=typeof A.valueOf=="function"?A.valueOf():A;A=ge($)?$+"":$}if(typeof A!="string")return A===0?A:+A;A=A.replace(s,"");var ie=v.test(A);return ie||b.test(A)?O(A.slice(2),ie?2:8):h.test(A)?p:+A}function d(A){return ee(A)?W(A):K(A)}function P(A){return A?N(A,d(A)):[]}return lodash_includes=te,lodash_includes}var lodash_isboolean,hasRequiredLodash_isboolean;function requireLodash_isboolean(){if(hasRequiredLodash_isboolean)return lodash_isboolean;hasRequiredLodash_isboolean=1;var e="[object Boolean]",t=Object.prototype,a=t.toString;function p(m){return m===!0||m===!1||g(m)&&a.call(m)==e}function g(m){return!!m&&typeof m=="object"}return lodash_isboolean=p,lodash_isboolean}var lodash_isinteger,hasRequiredLodash_isinteger;function requireLodash_isinteger(){if(hasRequiredLodash_isinteger)return lodash_isinteger;hasRequiredLodash_isinteger=1;var e=1/0,t=17976931348623157e292,a=NaN,p="[object Symbol]",g=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,o=parseInt,s=Object.prototype,h=s.toString;function v(T){return typeof T=="number"&&T==I(T)}function b(T){var C=typeof T;return!!T&&(C=="object"||C=="function")}function y(T){return!!T&&typeof T=="object"}function O(T){return typeof T=="symbol"||y(T)&&h.call(T)==p}function w(T){if(!T)return T===0?T:0;if(T=_(T),T===e||T===-e){var C=T<0?-1:1;return C*t}return T===T?T:0}function I(T){var C=w(T),N=C%1;return C===C?N?C-N:C:0}function _(T){if(typeof T=="number")return T;if(O(T))return a;if(b(T)){var C=typeof T.valueOf=="function"?T.valueOf():T;T=b(C)?C+"":C}if(typeof T!="string")return T===0?T:+T;T=T.replace(g,"");var N=c.test(T);return N||l.test(T)?o(T.slice(2),N?2:8):m.test(T)?a:+T}return lodash_isinteger=v,lodash_isinteger}var lodash_isnumber,hasRequiredLodash_isnumber;function requireLodash_isnumber(){if(hasRequiredLodash_isnumber)return lodash_isnumber;hasRequiredLodash_isnumber=1;var e="[object Number]",t=Object.prototype,a=t.toString;function p(m){return!!m&&typeof m=="object"}function g(m){return typeof m=="number"||p(m)&&a.call(m)==e}return lodash_isnumber=g,lodash_isnumber}var lodash_isplainobject,hasRequiredLodash_isplainobject;function requireLodash_isplainobject(){if(hasRequiredLodash_isplainobject)return lodash_isplainobject;hasRequiredLodash_isplainobject=1;var e="[object Object]";function t(b){var y=!1;if(b!=null&&typeof b.toString!="function")try{y=!!(b+"")}catch{}return y}function a(b,y){return function(O){return b(y(O))}}var p=Function.prototype,g=Object.prototype,m=p.toString,c=g.hasOwnProperty,l=m.call(Object),o=g.toString,s=a(Object.getPrototypeOf,Object);function h(b){return!!b&&typeof b=="object"}function v(b){if(!h(b)||o.call(b)!=e||t(b))return!1;var y=s(b);if(y===null)return!0;var O=c.call(y,"constructor")&&y.constructor;return typeof O=="function"&&O instanceof O&&m.call(O)==l}return lodash_isplainobject=v,lodash_isplainobject}var lodash_isstring,hasRequiredLodash_isstring;function requireLodash_isstring(){if(hasRequiredLodash_isstring)return lodash_isstring;hasRequiredLodash_isstring=1;var e="[object String]",t=Object.prototype,a=t.toString,p=Array.isArray;function g(c){return!!c&&typeof c=="object"}function m(c){return typeof c=="string"||!p(c)&&g(c)&&a.call(c)==e}return lodash_isstring=m,lodash_isstring}var lodash_once,hasRequiredLodash_once;function requireLodash_once(){if(hasRequiredLodash_once)return lodash_once;hasRequiredLodash_once=1;var e="Expected a function",t=1/0,a=17976931348623157e292,p=NaN,g="[object Symbol]",m=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,h=Object.prototype,v=h.toString;function b(N,L){var D;if(typeof L!="function")throw new TypeError(e);return N=T(N),function(){return--N>0&&(D=L.apply(this,arguments)),N<=1&&(L=void 0),D}}function y(N){return b(2,N)}function O(N){var L=typeof N;return!!N&&(L=="object"||L=="function")}function w(N){return!!N&&typeof N=="object"}function I(N){return typeof N=="symbol"||w(N)&&v.call(N)==g}function _(N){if(!N)return N===0?N:0;if(N=C(N),N===t||N===-t){var L=N<0?-1:1;return L*a}return N===N?N:0}function T(N){var L=_(N),D=L%1;return L===L?D?L-D:L:0}function C(N){if(typeof N=="number")return N;if(I(N))return p;if(O(N)){var L=typeof N.valueOf=="function"?N.valueOf():N;N=O(L)?L+"":L}if(typeof N!="string")return N===0?N:+N;N=N.replace(m,"");var D=l.test(N);return D||o.test(N)?s(N.slice(2),D?2:8):c.test(N)?p:+N}return lodash_once=y,lodash_once}var sign$1,hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$1;hasRequiredSign=1;const e=requireTimespan(),t=requirePsSupported(),a=requireValidateAsymmetricKey(),p=requireJws(),g=requireLodash_includes(),m=requireLodash_isboolean(),c=requireLodash_isinteger(),l=requireLodash_isnumber(),o=requireLodash_isplainobject(),s=requireLodash_isstring(),h=requireLodash_once(),{KeyObject:v,createSecretKey:b,createPrivateKey:y}=require$$1$3,O=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];t&&O.splice(3,0,"PS256","PS384","PS512");const w={expiresIn:{isValid:function(D){return c(D)||s(D)&&D},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(D){return c(D)||s(D)&&D},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(D){return s(D)||Array.isArray(D)},message:'"audience" must be a string or array'},algorithm:{isValid:g.bind(null,O),message:'"algorithm" must be a valid string enum value'},header:{isValid:o,message:'"header" must be an object'},encoding:{isValid:s,message:'"encoding" must be a string'},issuer:{isValid:s,message:'"issuer" must be a string'},subject:{isValid:s,message:'"subject" must be a string'},jwtid:{isValid:s,message:'"jwtid" must be a string'},noTimestamp:{isValid:m,message:'"noTimestamp" must be a boolean'},keyid:{isValid:s,message:'"keyid" must be a string'},mutatePayload:{isValid:m,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:m,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:m,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},I={iat:{isValid:l,message:'"iat" should be a number of seconds'},exp:{isValid:l,message:'"exp" should be a number of seconds'},nbf:{isValid:l,message:'"nbf" should be a number of seconds'}};function _(D,j,k,V){if(!o(k))throw new Error('Expected "'+V+'" to be a plain object.');Object.keys(k).forEach(function(G){const J=D[G];if(!J){if(!j)throw new Error('"'+G+'" is not allowed in "'+V+'"');return}if(!J.isValid(k[G]))throw new Error(J.message)})}function T(D){return _(w,!1,D,"options")}function C(D){return _(I,!0,D,"payload")}const N={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},L=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return sign$1=function(D,j,k,V){typeof k=="function"?(V=k,k={}):k=k||{};const G=typeof D=="object"&&!Buffer.isBuffer(D),J=Object.assign({alg:k.algorithm||"HS256",typ:G?"JWT":void 0,kid:k.keyid},k.header);function W(Y){if(V)return V(Y);throw Y}if(!j&&k.algorithm!=="none")return W(new Error("secretOrPrivateKey must have a value"));if(j!=null&&!(j instanceof v))try{j=y(j)}catch{try{j=b(typeof j=="string"?Buffer.from(j):j)}catch{return W(new Error("secretOrPrivateKey is not valid key material"))}}if(J.alg.startsWith("HS")&&j.type!=="secret")return W(new Error(`secretOrPrivateKey must be a symmetric key when using ${J.alg}`));if(/^(?:RS|PS|ES)/.test(J.alg)){if(j.type!=="private")return W(new Error(`secretOrPrivateKey must be an asymmetric key when using ${J.alg}`));if(!k.allowInsecureKeySizes&&!J.alg.startsWith("ES")&&j.asymmetricKeyDetails!==void 0&&j.asymmetricKeyDetails.modulusLength<2048)return W(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${J.alg}`))}if(typeof D>"u")return W(new Error("payload is required"));if(G){try{C(D)}catch(Y){return W(Y)}k.mutatePayload||(D=Object.assign({},D))}else{const Y=L.filter(function(te){return typeof k[te]<"u"});if(Y.length>0)return W(new Error("invalid "+Y.join(",")+" option for "+typeof D+" payload"))}if(typeof D.exp<"u"&&typeof k.expiresIn<"u")return W(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof D.nbf<"u"&&typeof k.notBefore<"u")return W(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{T(k)}catch(Y){return W(Y)}if(!k.allowInvalidAsymmetricKeyTypes)try{a(J.alg,j)}catch(Y){return W(Y)}const K=D.iat||Math.floor(Date.now()/1e3);if(k.noTimestamp?delete D.iat:G&&(D.iat=K),typeof k.notBefore<"u"){try{D.nbf=e(k.notBefore,K)}catch(Y){return W(Y)}if(typeof D.nbf>"u")return W(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof k.expiresIn<"u"&&typeof D=="object"){try{D.exp=e(k.expiresIn,K)}catch(Y){return W(Y)}if(typeof D.exp>"u")return W(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(N).forEach(function(Y){const te=N[Y];if(typeof k[Y]<"u"){if(typeof D[te]<"u")return W(new Error('Bad "options.'+Y+'" option. The payload already has an "'+te+'" property.'));D[te]=k[Y]}});const X=k.encoding||"utf8";if(typeof V=="function")V=V&&h(V),p.createSign({header:J,privateKey:j,payload:D,encoding:X}).once("error",V).once("done",function(Y){if(!k.allowInsecureKeySizes&&/^(?:RS|PS)/.test(J.alg)&&Y.length<256)return V(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${J.alg}`));V(null,Y)});else{let Y=p.sign({header:J,payload:D,secret:j,encoding:X});if(!k.allowInsecureKeySizes&&/^(?:RS|PS)/.test(J.alg)&&Y.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${J.alg}`);return Y}},sign$1}var jsonwebtoken,hasRequiredJsonwebtoken;function requireJsonwebtoken(){return hasRequiredJsonwebtoken||(hasRequiredJsonwebtoken=1,jsonwebtoken={decode:requireDecode(),verify:requireVerify(),sign:requireSign(),JsonWebTokenError:requireJsonWebTokenError(),NotBeforeError:requireNotBeforeError(),TokenExpiredError:requireTokenExpiredError()}),jsonwebtoken}var src$a={exports:{}};const crypto$1=crypto,isCryptoKey=e=>e instanceof CryptoKey,digest=async(e,t)=>{const a=`SHA-${e.slice(-3)}`;return new Uint8Array(await crypto$1.subtle.digest(a,t))},encoder=new TextEncoder,decoder=new TextDecoder,MAX_INT32=2**32;function concat(...e){const t=e.reduce((g,{length:m})=>g+m,0),a=new Uint8Array(t);let p=0;return e.forEach(g=>{a.set(g,p),p+=g.length}),a}function p2s(e,t){return concat(encoder.encode(e),new Uint8Array([0]),t)}function writeUInt32BE(e,t,a){if(t<0||t>=MAX_INT32)throw new RangeError(`value must be >= 0 and <= ${MAX_INT32-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,t&255],a)}function uint64be(e){const t=Math.floor(e/MAX_INT32),a=e%MAX_INT32,p=new Uint8Array(8);return writeUInt32BE(p,t,0),writeUInt32BE(p,a,4),p}function uint32be(e){const t=new Uint8Array(4);return writeUInt32BE(t,e),t}function lengthAndInput(e){return concat(uint32be(e.length),e)}async function concatKdf(e,t,a){const p=Math.ceil((t>>3)/32),g=new Uint8Array(p*32);for(let m=0;m<p;m++){const c=new Uint8Array(4+e.length+a.length);c.set(uint32be(m+1)),c.set(e,4),c.set(a,4+e.length),g.set(await digest("sha256",c),m*32)}return g.slice(0,t>>3)}const encodeBase64=e=>{let t=e;typeof t=="string"&&(t=encoder.encode(t));const a=32768,p=[];for(let g=0;g<t.length;g+=a)p.push(String.fromCharCode.apply(null,t.subarray(g,g+a)));return btoa(p.join(""))},encode$1=e=>encodeBase64(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),decodeBase64=e=>{const t=atob(e),a=new Uint8Array(t.length);for(let p=0;p<t.length;p++)a[p]=t.charCodeAt(p);return a},decode$1=e=>{let t=e;t instanceof Uint8Array&&(t=decoder.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return decodeBase64(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class JOSEError extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var a;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(a=Error.captureStackTrace)===null||a===void 0||a.call(Error,this,this.constructor)}}class JWTClaimValidationFailed extends JOSEError{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(t,a="unspecified",p="unspecified"){super(t),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=a,this.reason=p}}class JWTExpired extends JOSEError{static get code(){return"ERR_JWT_EXPIRED"}constructor(t,a="unspecified",p="unspecified"){super(t),this.code="ERR_JWT_EXPIRED",this.claim=a,this.reason=p}}class JOSEAlgNotAllowed extends JOSEError{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class JOSENotSupported extends JOSEError{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class JWEDecryptionFailed extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class JWEDecompressionFailed extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class JWEInvalid extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class JWSInvalid extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class JWTInvalid extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class JWKInvalid extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class JWKSInvalid extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class JWKSNoMatchingKey extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class JWKSMultipleMatchingKeys extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class JWKSTimeout extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class JWSSignatureVerificationFailed extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const errors$1=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed,JOSEError,JOSENotSupported,JWEDecompressionFailed,JWEDecryptionFailed,JWEInvalid,JWKInvalid,JWKSInvalid,JWKSMultipleMatchingKeys,JWKSNoMatchingKey,JWKSTimeout,JWSInvalid,JWSSignatureVerificationFailed,JWTClaimValidationFailed,JWTExpired,JWTInvalid},Symbol.toStringTag,{value:"Module"})),random=crypto$1.getRandomValues.bind(crypto$1);function bitLength$1(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}const generateIv=e=>random(new Uint8Array(bitLength$1(e)>>3)),checkIvLength=(e,t)=>{if(t.length<<3!==bitLength$1(e))throw new JWEInvalid("Invalid Initialization Vector length")},checkCekLength=(e,t)=>{const a=e.byteLength<<3;if(a!==t)throw new JWEInvalid(`Invalid Content Encryption Key length. Expected ${t} bits, got ${a} bits`)},timingSafeEqual=(e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const a=e.length;let p=0,g=-1;for(;++g<a;)p|=e[g]^t[g];return p===0};function unusable(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function isAlgorithm(e,t){return e.name===t}function getHashLength(e){return parseInt(e.name.slice(4),10)}function getNamedCurve$1(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function checkUsage(e,t){if(t.length&&!t.some(a=>e.usages.includes(a))){let a="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const p=t.pop();a+=`one of ${t.join(", ")}, or ${p}.`}else t.length===2?a+=`one of ${t[0]} or ${t[1]}.`:a+=`${t[0]}.`;throw new TypeError(a)}}function checkSigCryptoKey(e,t,...a){switch(t){case"HS256":case"HS384":case"HS512":{if(!isAlgorithm(e.algorithm,"HMAC"))throw unusable("HMAC");const p=parseInt(t.slice(2),10);if(getHashLength(e.algorithm.hash)!==p)throw unusable(`SHA-${p}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!isAlgorithm(e.algorithm,"RSASSA-PKCS1-v1_5"))throw unusable("RSASSA-PKCS1-v1_5");const p=parseInt(t.slice(2),10);if(getHashLength(e.algorithm.hash)!==p)throw unusable(`SHA-${p}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!isAlgorithm(e.algorithm,"RSA-PSS"))throw unusable("RSA-PSS");const p=parseInt(t.slice(2),10);if(getHashLength(e.algorithm.hash)!==p)throw unusable(`SHA-${p}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw unusable("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!isAlgorithm(e.algorithm,"ECDSA"))throw unusable("ECDSA");const p=getNamedCurve$1(t);if(e.algorithm.namedCurve!==p)throw unusable(p,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}checkUsage(e,a)}function checkEncCryptoKey(e,t,...a){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!isAlgorithm(e.algorithm,"AES-GCM"))throw unusable("AES-GCM");const p=parseInt(t.slice(1,4),10);if(e.algorithm.length!==p)throw unusable(p,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!isAlgorithm(e.algorithm,"AES-KW"))throw unusable("AES-KW");const p=parseInt(t.slice(1,4),10);if(e.algorithm.length!==p)throw unusable(p,"algorithm.length");break}case"ECDH":{switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw unusable("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!isAlgorithm(e.algorithm,"PBKDF2"))throw unusable("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!isAlgorithm(e.algorithm,"RSA-OAEP"))throw unusable("RSA-OAEP");const p=parseInt(t.slice(9),10)||1;if(getHashLength(e.algorithm.hash)!==p)throw unusable(`SHA-${p}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}checkUsage(e,a)}function message$1(e,t,...a){if(a.length>2){const p=a.pop();e+=`one of type ${a.join(", ")}, or ${p}.`}else a.length===2?e+=`one of type ${a[0]} or ${a[1]}.`:e+=`of type ${a[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const invalidKeyInput=(e,...t)=>message$1("Key must be ",e,...t);function withAlg(e,t,...a){return message$1(`Key for the ${e} algorithm must be `,t,...a)}const isKeyLike=e=>isCryptoKey(e),types$4=["CryptoKey"];async function cbcDecrypt(e,t,a,p,g,m){if(!(t instanceof Uint8Array))throw new TypeError(invalidKeyInput(t,"Uint8Array"));const c=parseInt(e.slice(1,4),10),l=await crypto$1.subtle.importKey("raw",t.subarray(c>>3),"AES-CBC",!1,["decrypt"]),o=await crypto$1.subtle.importKey("raw",t.subarray(0,c>>3),{hash:`SHA-${c<<1}`,name:"HMAC"},!1,["sign"]),s=concat(m,p,a,uint64be(m.length<<3)),h=new Uint8Array((await crypto$1.subtle.sign("HMAC",o,s)).slice(0,c>>3));let v;try{v=timingSafeEqual(g,h)}catch{}if(!v)throw new JWEDecryptionFailed;let b;try{b=new Uint8Array(await crypto$1.subtle.decrypt({iv:p,name:"AES-CBC"},l,a))}catch{}if(!b)throw new JWEDecryptionFailed;return b}async function gcmDecrypt(e,t,a,p,g,m){let c;t instanceof Uint8Array?c=await crypto$1.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(checkEncCryptoKey(t,e,"decrypt"),c=t);try{return new Uint8Array(await crypto$1.subtle.decrypt({additionalData:m,iv:p,name:"AES-GCM",tagLength:128},c,concat(a,g)))}catch{throw new JWEDecryptionFailed}}const decrypt$2=async(e,t,a,p,g,m)=>{if(!isCryptoKey(t)&&!(t instanceof Uint8Array))throw new TypeError(invalidKeyInput(t,...types$4,"Uint8Array"));switch(checkIvLength(e,p),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&checkCekLength(t,parseInt(e.slice(-3),10)),cbcDecrypt(e,t,a,p,g,m);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&checkCekLength(t,parseInt(e.slice(1,4),10)),gcmDecrypt(e,t,a,p,g,m);default:throw new JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}},inflate=async()=>{throw new JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},deflate=async()=>{throw new JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},isDisjoint=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let a;for(const p of t){const g=Object.keys(p);if(!a||a.size===0){a=new Set(g);continue}for(const m of g){if(a.has(m))return!1;a.add(m)}}return!0};function isObjectLike(e){return typeof e=="object"&&e!==null}function isObject(e){if(!isObjectLike(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const bogusWebCrypto=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function checkKeySize(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function getCryptoKey$2(e,t,a){if(isCryptoKey(e))return checkEncCryptoKey(e,t,a),e;if(e instanceof Uint8Array)return crypto$1.subtle.importKey("raw",e,"AES-KW",!0,[a]);throw new TypeError(invalidKeyInput(e,...types$4,"Uint8Array"))}const wrap$1=async(e,t,a)=>{const p=await getCryptoKey$2(t,e,"wrapKey");checkKeySize(p,e);const g=await crypto$1.subtle.importKey("raw",a,...bogusWebCrypto);return new Uint8Array(await crypto$1.subtle.wrapKey("raw",g,p,"AES-KW"))},unwrap$1=async(e,t,a)=>{const p=await getCryptoKey$2(t,e,"unwrapKey");checkKeySize(p,e);const g=await crypto$1.subtle.unwrapKey("raw",a,p,"AES-KW",...bogusWebCrypto);return new Uint8Array(await crypto$1.subtle.exportKey("raw",g))};async function deriveKey$1(e,t,a,p,g=new Uint8Array(0),m=new Uint8Array(0)){if(!isCryptoKey(e))throw new TypeError(invalidKeyInput(e,...types$4));if(checkEncCryptoKey(e,"ECDH"),!isCryptoKey(t))throw new TypeError(invalidKeyInput(t,...types$4));checkEncCryptoKey(t,"ECDH","deriveBits");const c=concat(lengthAndInput(encoder.encode(a)),lengthAndInput(g),lengthAndInput(m),uint32be(p));let l;e.algorithm.name==="X25519"?l=256:e.algorithm.name==="X448"?l=448:l=Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3;const o=new Uint8Array(await crypto$1.subtle.deriveBits({name:e.algorithm.name,public:e},t,l));return concatKdf(o,p,c)}async function generateEpk(e){if(!isCryptoKey(e))throw new TypeError(invalidKeyInput(e,...types$4));return crypto$1.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function ecdhAllowed(e){if(!isCryptoKey(e))throw new TypeError(invalidKeyInput(e,...types$4));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||e.algorithm.name==="X25519"||e.algorithm.name==="X448"}function checkP2s(e){if(!(e instanceof Uint8Array)||e.length<8)throw new JWEInvalid("PBES2 Salt Input must be 8 or more octets")}function getCryptoKey$1(e,t){if(e instanceof Uint8Array)return crypto$1.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(isCryptoKey(e))return checkEncCryptoKey(e,t,"deriveBits","deriveKey"),e;throw new TypeError(invalidKeyInput(e,...types$4,"Uint8Array"))}async function deriveKey(e,t,a,p){checkP2s(e);const g=p2s(t,e),m=parseInt(t.slice(13,16),10),c={hash:`SHA-${t.slice(8,11)}`,iterations:a,name:"PBKDF2",salt:g},l={length:m,name:"AES-KW"},o=await getCryptoKey$1(p,t);if(o.usages.includes("deriveBits"))return new Uint8Array(await crypto$1.subtle.deriveBits(c,o,m));if(o.usages.includes("deriveKey"))return crypto$1.subtle.deriveKey(c,o,l,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const encrypt$2=async(e,t,a,p=2048,g=random(new Uint8Array(16)))=>{const m=await deriveKey(g,e,p,t);return{encryptedKey:await wrap$1(e.slice(-6),m,a),p2c:p,p2s:encode$1(g)}},decrypt$1=async(e,t,a,p,g)=>{const m=await deriveKey(g,e,p,t);return unwrap$1(e.slice(-6),m,a)};function subtleRsaEs(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}const checkKeyLength=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:a}=t.algorithm;if(typeof a!="number"||a<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},encrypt$1=async(e,t,a)=>{if(!isCryptoKey(t))throw new TypeError(invalidKeyInput(t,...types$4));if(checkEncCryptoKey(t,e,"encrypt","wrapKey"),checkKeyLength(e,t),t.usages.includes("encrypt"))return new Uint8Array(await crypto$1.subtle.encrypt(subtleRsaEs(e),t,a));if(t.usages.includes("wrapKey")){const p=await crypto$1.subtle.importKey("raw",a,...bogusWebCrypto);return new Uint8Array(await crypto$1.subtle.wrapKey("raw",p,t,subtleRsaEs(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},decrypt=async(e,t,a)=>{if(!isCryptoKey(t))throw new TypeError(invalidKeyInput(t,...types$4));if(checkEncCryptoKey(t,e,"decrypt","unwrapKey"),checkKeyLength(e,t),t.usages.includes("decrypt"))return new Uint8Array(await crypto$1.subtle.decrypt(subtleRsaEs(e),t,a));if(t.usages.includes("unwrapKey")){const p=await crypto$1.subtle.unwrapKey("raw",a,t,subtleRsaEs(e),...bogusWebCrypto);return new Uint8Array(await crypto$1.subtle.exportKey("raw",p))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function bitLength(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}const generateCek=e=>random(new Uint8Array(bitLength(e)>>3)),formatPEM=(e,t)=>{const a=(e.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${t}-----
${a}
-----END ${t}-----`},genericExport=async(e,t,a)=>{if(!isCryptoKey(a))throw new TypeError(invalidKeyInput(a,...types$4));if(!a.extractable)throw new TypeError("CryptoKey is not extractable");if(a.type!==e)throw new TypeError(`key is not a ${e} key`);return formatPEM(encodeBase64(new Uint8Array(await crypto$1.subtle.exportKey(t,a))),`${e.toUpperCase()} KEY`)},toSPKI=e=>genericExport("public","spki",e),toPKCS8=e=>genericExport("private","pkcs8",e),findOid=(e,t,a=0)=>{a===0&&(t.unshift(t.length),t.unshift(6));let p=e.indexOf(t[0],a);if(p===-1)return!1;const g=e.subarray(p,p+t.length);return g.length!==t.length?!1:g.every((m,c)=>m===t[c])||findOid(e,t,p+1)},getNamedCurve=e=>{switch(!0){case findOid(e,[42,134,72,206,61,3,1,7]):return"P-256";case findOid(e,[43,129,4,0,34]):return"P-384";case findOid(e,[43,129,4,0,35]):return"P-521";case findOid(e,[43,101,110]):return"X25519";case findOid(e,[43,101,111]):return"X448";case findOid(e,[43,101,112]):return"Ed25519";case findOid(e,[43,101,113]):return"Ed448";default:throw new JOSENotSupported("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},genericImport=async(e,t,a,p,g)=>{var m;let c,l;const o=new Uint8Array(atob(a.replace(e,"")).split("").map(h=>h.charCodeAt(0))),s=t==="spki";switch(p){case"PS256":case"PS384":case"PS512":c={name:"RSA-PSS",hash:`SHA-${p.slice(-3)}`},l=s?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":c={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${p.slice(-3)}`},l=s?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":c={name:"RSA-OAEP",hash:`SHA-${parseInt(p.slice(-3),10)||1}`},l=s?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":c={name:"ECDSA",namedCurve:"P-256"},l=s?["verify"]:["sign"];break;case"ES384":c={name:"ECDSA",namedCurve:"P-384"},l=s?["verify"]:["sign"];break;case"ES512":c={name:"ECDSA",namedCurve:"P-521"},l=s?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const h=getNamedCurve(o);c=h.startsWith("P-")?{name:"ECDH",namedCurve:h}:{name:h},l=s?[]:["deriveBits"];break}case"EdDSA":c={name:getNamedCurve(o)},l=s?["verify"]:["sign"];break;default:throw new JOSENotSupported('Invalid or unsupported "alg" (Algorithm) value')}return crypto$1.subtle.importKey(t,o,c,(m=g?.extractable)!==null&&m!==void 0?m:!1,l)},fromPKCS8=(e,t,a)=>genericImport(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,a),fromSPKI=(e,t,a)=>genericImport(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,a);function getElement(e){let t=[],a=0;for(;a<e.length;){let p=parseElement(e.subarray(a));t.push(p),a+=p.byteLength}return t}function parseElement(e){let t=0,a=e[0]&31;if(t++,a===31){for(a=0;e[t]>=128;)a=a*128+e[t]-128,t++;a=a*128+e[t]-128,t++}let p=0;if(e[t]<128)p=e[t],t++;else if(p===128){for(p=0;e[t+p]!==0||e[t+p+1]!==0;){if(p>e.byteLength)throw new TypeError("invalid indefinite form length");p++}const m=t+p+2;return{byteLength:m,contents:e.subarray(t,t+p),raw:e.subarray(0,m)}}else{let m=e[t]&127;t++,p=0;for(let c=0;c<m;c++)p=p*256+e[t],t++}const g=t+p;return{byteLength:g,contents:e.subarray(t,g),raw:e.subarray(0,g)}}function spkiFromX509(e){const t=getElement(getElement(parseElement(e).contents)[0].contents);return encodeBase64(t[t[0].raw[0]===160?6:5].raw)}function getSPKI(e){const t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),a=decodeBase64(t);return formatPEM(spkiFromX509(a),"PUBLIC KEY")}const fromX509=(e,t,a)=>{let p;try{p=getSPKI(e)}catch(g){throw new TypeError("Failed to parse the X.509 certificate",{cause:g})}return fromSPKI(p,t,a)};function subtleMapping(e){let t,a;switch(e.kty){case"oct":{switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},a=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new JOSENotSupported(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},a=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},a=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},a=["deriveBits"];break;default:throw new JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},a=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},a=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},a=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},a=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},a=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},a=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},a=e.d?["deriveBits"]:[];break;default:throw new JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},a=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},a=e.d?["deriveBits"]:[];break;default:throw new JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:a}}const parse$3=async e=>{var t,a;if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:p,keyUsages:g}=subtleMapping(e),m=[p,(t=e.ext)!==null&&t!==void 0?t:!1,(a=e.key_ops)!==null&&a!==void 0?a:g];if(p.name==="PBKDF2")return crypto$1.subtle.importKey("raw",decode$1(e.k),...m);const c={...e};return delete c.alg,delete c.use,crypto$1.subtle.importKey("jwk",c,...m)};async function importSPKI(e,t,a){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return fromSPKI(e,t,a)}async function importX509(e,t,a){if(typeof e!="string"||e.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');return fromX509(e,t,a)}async function importPKCS8(e,t,a){if(typeof e!="string"||e.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return fromPKCS8(e,t,a)}async function importJWK(e,t,a){var p;if(!isObject(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return a??(a=e.ext!==!0),a?parse$3({...e,alg:t,ext:(p=e.ext)!==null&&p!==void 0?p:!1}):decode$1(e.k);case"RSA":if(e.oth!==void 0)throw new JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return parse$3({...e,alg:t});default:throw new JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}const symmetricTypeCheck=(e,t)=>{if(!(t instanceof Uint8Array)){if(!isKeyLike(t))throw new TypeError(withAlg(e,t,...types$4,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${types$4.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},asymmetricTypeCheck=(e,t,a)=>{if(!isKeyLike(t))throw new TypeError(withAlg(e,t,...types$4));if(t.type==="secret")throw new TypeError(`${types$4.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(a==="sign"&&t.type==="public")throw new TypeError(`${types$4.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(a==="decrypt"&&t.type==="public")throw new TypeError(`${types$4.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&a==="verify"&&t.type==="private")throw new TypeError(`${types$4.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&a==="encrypt"&&t.type==="private")throw new TypeError(`${types$4.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},checkKeyType=(e,t,a)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?symmetricTypeCheck(e,t):asymmetricTypeCheck(e,t,a)};async function cbcEncrypt(e,t,a,p,g){if(!(a instanceof Uint8Array))throw new TypeError(invalidKeyInput(a,"Uint8Array"));const m=parseInt(e.slice(1,4),10),c=await crypto$1.subtle.importKey("raw",a.subarray(m>>3),"AES-CBC",!1,["encrypt"]),l=await crypto$1.subtle.importKey("raw",a.subarray(0,m>>3),{hash:`SHA-${m<<1}`,name:"HMAC"},!1,["sign"]),o=new Uint8Array(await crypto$1.subtle.encrypt({iv:p,name:"AES-CBC"},c,t)),s=concat(g,p,o,uint64be(g.length<<3)),h=new Uint8Array((await crypto$1.subtle.sign("HMAC",l,s)).slice(0,m>>3));return{ciphertext:o,tag:h}}async function gcmEncrypt(e,t,a,p,g){let m;a instanceof Uint8Array?m=await crypto$1.subtle.importKey("raw",a,"AES-GCM",!1,["encrypt"]):(checkEncCryptoKey(a,e,"encrypt"),m=a);const c=new Uint8Array(await crypto$1.subtle.encrypt({additionalData:g,iv:p,name:"AES-GCM",tagLength:128},m,t)),l=c.slice(-16);return{ciphertext:c.slice(0,-16),tag:l}}const encrypt=async(e,t,a,p,g)=>{if(!isCryptoKey(a)&&!(a instanceof Uint8Array))throw new TypeError(invalidKeyInput(a,...types$4,"Uint8Array"));switch(checkIvLength(e,p),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return a instanceof Uint8Array&&checkCekLength(a,parseInt(e.slice(-3),10)),cbcEncrypt(e,t,a,p,g);case"A128GCM":case"A192GCM":case"A256GCM":return a instanceof Uint8Array&&checkCekLength(a,parseInt(e.slice(1,4),10)),gcmEncrypt(e,t,a,p,g);default:throw new JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};async function wrap(e,t,a,p){const g=e.slice(0,7);p||(p=generateIv(g));const{ciphertext:m,tag:c}=await encrypt(g,a,t,p,new Uint8Array(0));return{encryptedKey:m,iv:encode$1(p),tag:encode$1(c)}}async function unwrap(e,t,a,p,g){const m=e.slice(0,7);return decrypt$2(m,t,a,p,g,new Uint8Array(0))}async function decryptKeyManagement(e,t,a,p,g){switch(checkKeyType(e,t,"decrypt"),e){case"dir":{if(a!==void 0)throw new JWEInvalid("Encountered unexpected JWE Encrypted Key");return t}case"ECDH-ES":if(a!==void 0)throw new JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!isObject(p.epk))throw new JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!ecdhAllowed(t))throw new JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const m=await importJWK(p.epk,e);let c,l;if(p.apu!==void 0){if(typeof p.apu!="string")throw new JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{c=decode$1(p.apu)}catch{throw new JWEInvalid("Failed to base64url decode the apu")}}if(p.apv!==void 0){if(typeof p.apv!="string")throw new JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{l=decode$1(p.apv)}catch{throw new JWEInvalid("Failed to base64url decode the apv")}}const o=await deriveKey$1(m,t,e==="ECDH-ES"?p.enc:e,e==="ECDH-ES"?bitLength(p.enc):parseInt(e.slice(-5,-2),10),c,l);if(e==="ECDH-ES")return o;if(a===void 0)throw new JWEInvalid("JWE Encrypted Key missing");return unwrap$1(e.slice(-6),o,a)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(a===void 0)throw new JWEInvalid("JWE Encrypted Key missing");return decrypt(e,t,a)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(a===void 0)throw new JWEInvalid("JWE Encrypted Key missing");if(typeof p.p2c!="number")throw new JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');const m=g?.maxPBES2Count||1e4;if(p.p2c>m)throw new JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof p.p2s!="string")throw new JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let c;try{c=decode$1(p.p2s)}catch{throw new JWEInvalid("Failed to base64url decode the p2s")}return decrypt$1(e,t,a,p.p2c,c)}case"A128KW":case"A192KW":case"A256KW":{if(a===void 0)throw new JWEInvalid("JWE Encrypted Key missing");return unwrap$1(e,t,a)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(a===void 0)throw new JWEInvalid("JWE Encrypted Key missing");if(typeof p.iv!="string")throw new JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof p.tag!="string")throw new JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');let m;try{m=decode$1(p.iv)}catch{throw new JWEInvalid("Failed to base64url decode the iv")}let c;try{c=decode$1(p.tag)}catch{throw new JWEInvalid("Failed to base64url decode the tag")}return unwrap(e,t,a,m,c)}default:throw new JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function validateCrit(e,t,a,p,g){if(g.crit!==void 0&&p.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!p||p.crit===void 0)return new Set;if(!Array.isArray(p.crit)||p.crit.length===0||p.crit.some(c=>typeof c!="string"||c.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let m;a!==void 0?m=new Map([...Object.entries(a),...t.entries()]):m=t;for(const c of p.crit){if(!m.has(c))throw new JOSENotSupported(`Extension Header Parameter "${c}" is not recognized`);if(g[c]===void 0)throw new e(`Extension Header Parameter "${c}" is missing`);if(m.get(c)&&p[c]===void 0)throw new e(`Extension Header Parameter "${c}" MUST be integrity protected`)}return new Set(p.crit)}const validateAlgorithms=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(a=>typeof a!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function flattenedDecrypt(e,t,a){var p;if(!isObject(e))throw new JWEInvalid("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new JWEInvalid("JOSE Header missing");if(typeof e.iv!="string")throw new JWEInvalid("JWE Initialization Vector missing or incorrect type");if(typeof e.ciphertext!="string")throw new JWEInvalid("JWE Ciphertext missing or incorrect type");if(typeof e.tag!="string")throw new JWEInvalid("JWE Authentication Tag missing or incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new JWEInvalid("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new JWEInvalid("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new JWEInvalid("JWE AAD incorrect type");if(e.header!==void 0&&!isObject(e.header))throw new JWEInvalid("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!isObject(e.unprotected))throw new JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");let g;if(e.protected)try{const N=decode$1(e.protected);g=JSON.parse(decoder.decode(N))}catch{throw new JWEInvalid("JWE Protected Header is invalid")}if(!isDisjoint(g,e.header,e.unprotected))throw new JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const m={...g,...e.header,...e.unprotected};if(validateCrit(JWEInvalid,new Map,a?.crit,g,m),m.zip!==void 0){if(!g||!g.zip)throw new JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(m.zip!=="DEF")throw new JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:c,enc:l}=m;if(typeof c!="string"||!c)throw new JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if(typeof l!="string"||!l)throw new JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");const o=a&&validateAlgorithms("keyManagementAlgorithms",a.keyManagementAlgorithms),s=a&&validateAlgorithms("contentEncryptionAlgorithms",a.contentEncryptionAlgorithms);if(o&&!o.has(c))throw new JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(s&&!s.has(l))throw new JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');let h;if(e.encrypted_key!==void 0)try{h=decode$1(e.encrypted_key)}catch{throw new JWEInvalid("Failed to base64url decode the encrypted_key")}let v=!1;typeof t=="function"&&(t=await t(g,e),v=!0);let b;try{b=await decryptKeyManagement(c,t,h,m,a)}catch(N){if(N instanceof TypeError||N instanceof JWEInvalid||N instanceof JOSENotSupported)throw N;b=generateCek(l)}let y,O;try{y=decode$1(e.iv)}catch{throw new JWEInvalid("Failed to base64url decode the iv")}try{O=decode$1(e.tag)}catch{throw new JWEInvalid("Failed to base64url decode the tag")}const w=encoder.encode((p=e.protected)!==null&&p!==void 0?p:"");let I;e.aad!==void 0?I=concat(w,encoder.encode("."),encoder.encode(e.aad)):I=w;let _;try{_=decode$1(e.ciphertext)}catch{throw new JWEInvalid("Failed to base64url decode the ciphertext")}let T=await decrypt$2(l,b,_,y,O,I);m.zip==="DEF"&&(T=await(a?.inflateRaw||inflate)(T));const C={plaintext:T};if(e.protected!==void 0&&(C.protectedHeader=g),e.aad!==void 0)try{C.additionalAuthenticatedData=decode$1(e.aad)}catch{throw new JWEInvalid("Failed to base64url decode the aad")}return e.unprotected!==void 0&&(C.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(C.unprotectedHeader=e.header),v?{...C,key:t}:C}async function compactDecrypt(e,t,a){if(e instanceof Uint8Array&&(e=decoder.decode(e)),typeof e!="string")throw new JWEInvalid("Compact JWE must be a string or Uint8Array");const{0:p,1:g,2:m,3:c,4:l,length:o}=e.split(".");if(o!==5)throw new JWEInvalid("Invalid Compact JWE");const s=await flattenedDecrypt({ciphertext:c,iv:m||void 0,protected:p||void 0,tag:l||void 0,encrypted_key:g||void 0},t,a),h={plaintext:s.plaintext,protectedHeader:s.protectedHeader};return typeof t=="function"?{...h,key:s.key}:h}async function generalDecrypt(e,t,a){if(!isObject(e))throw new JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(isObject))throw new JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new JWEInvalid("JWE Recipients has no members");for(const p of e.recipients)try{return await flattenedDecrypt({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:p.encrypted_key,header:p.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,a)}catch{}throw new JWEDecryptionFailed}const keyToJWK=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:encode$1(e)};if(!isCryptoKey(e))throw new TypeError(invalidKeyInput(e,...types$4,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:a,alg:p,use:g,...m}=await crypto$1.subtle.exportKey("jwk",e);return m};async function exportSPKI(e){return toSPKI(e)}async function exportPKCS8(e){return toPKCS8(e)}async function exportJWK(e){return keyToJWK(e)}async function encryptKeyManagement(e,t,a,p,g={}){let m,c,l;switch(checkKeyType(e,a,"encrypt"),e){case"dir":{l=a;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ecdhAllowed(a))throw new JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:o,apv:s}=g;let{epk:h}=g;h||(h=(await generateEpk(a)).privateKey);const{x:v,y:b,crv:y,kty:O}=await exportJWK(h),w=await deriveKey$1(a,h,e==="ECDH-ES"?t:e,e==="ECDH-ES"?bitLength(t):parseInt(e.slice(-5,-2),10),o,s);if(c={epk:{x:v,crv:y,kty:O}},O==="EC"&&(c.epk.y=b),o&&(c.apu=encode$1(o)),s&&(c.apv=encode$1(s)),e==="ECDH-ES"){l=w;break}l=p||generateCek(t);const I=e.slice(-6);m=await wrap$1(I,w,l);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{l=p||generateCek(t),m=await encrypt$1(e,a,l);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{l=p||generateCek(t);const{p2c:o,p2s:s}=g;({encryptedKey:m,...c}=await encrypt$2(e,a,l,o,s));break}case"A128KW":case"A192KW":case"A256KW":{l=p||generateCek(t),m=await wrap$1(e,a,l);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{l=p||generateCek(t);const{iv:o}=g;({encryptedKey:m,...c}=await wrap(e,a,l,o));break}default:throw new JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:l,encryptedKey:m,parameters:c}}const unprotected=Symbol();class FlattenedEncrypt{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}async encrypt(t,a){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!isDisjoint(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const p={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(validateCrit(JWEInvalid,new Map,a?.crit,this._protectedHeader,p),p.zip!==void 0){if(!this._protectedHeader||!this._protectedHeader.zip)throw new JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(p.zip!=="DEF")throw new JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:g,enc:m}=p;if(typeof g!="string"||!g)throw new JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof m!="string"||!m)throw new JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let c;if(g==="dir"){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if(g==="ECDH-ES"&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");let l;{let O;({cek:l,encryptedKey:c,parameters:O}=await encryptKeyManagement(g,m,t,this._cek,this._keyManagementParameters)),O&&(a&&unprotected in a?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...O}:this.setUnprotectedHeader(O):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...O}:this.setProtectedHeader(O))}this._iv||(this._iv=generateIv(m));let o,s,h;this._protectedHeader?s=encoder.encode(encode$1(JSON.stringify(this._protectedHeader))):s=encoder.encode(""),this._aad?(h=encode$1(this._aad),o=concat(s,encoder.encode("."),encoder.encode(h))):o=s;let v,b;if(p.zip==="DEF"){const O=await(a?.deflateRaw||deflate)(this._plaintext);({ciphertext:v,tag:b}=await encrypt(m,O,l,this._iv,o))}else({ciphertext:v,tag:b}=await encrypt(m,this._plaintext,l,this._iv,o));const y={ciphertext:encode$1(v),iv:encode$1(this._iv),tag:encode$1(b)};return c&&(y.encrypted_key=encode$1(c)),h&&(y.aad=h),this._protectedHeader&&(y.protected=decoder.decode(s)),this._sharedUnprotectedHeader&&(y.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(y.header=this._unprotectedHeader),y}}class IndividualRecipient{constructor(t,a,p){this.parent=t,this.key=a,this.options=p}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addRecipient(...t){return this.parent.addRecipient(...t)}encrypt(...t){return this.parent.encrypt(...t)}done(){return this.parent}}class GeneralEncrypt{constructor(t){this._recipients=[],this._plaintext=t}addRecipient(t,a){const p=new IndividualRecipient(this,t,{crit:a?.crit});return this._recipients.push(p),p}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}async encrypt(t){var a,p,g;if(!this._recipients.length)throw new JWEInvalid("at least one recipient must be added");if(t={deflateRaw:t?.deflateRaw},this._recipients.length===1){const[o]=this._recipients,s=await new FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(o.unprotectedHeader).encrypt(o.key,{...o.options,...t});let h={ciphertext:s.ciphertext,iv:s.iv,recipients:[{}],tag:s.tag};return s.aad&&(h.aad=s.aad),s.protected&&(h.protected=s.protected),s.unprotected&&(h.unprotected=s.unprotected),s.encrypted_key&&(h.recipients[0].encrypted_key=s.encrypted_key),s.header&&(h.recipients[0].header=s.header),h}let m;for(let o=0;o<this._recipients.length;o++){const s=this._recipients[o];if(!isDisjoint(this._protectedHeader,this._unprotectedHeader,s.unprotectedHeader))throw new JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const h={...this._protectedHeader,...this._unprotectedHeader,...s.unprotectedHeader},{alg:v}=h;if(typeof v!="string"||!v)throw new JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(v==="dir"||v==="ECDH-ES")throw new JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof h.enc!="string"||!h.enc)throw new JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!m)m=h.enc;else if(m!==h.enc)throw new JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(validateCrit(JWEInvalid,new Map,s.options.crit,this._protectedHeader,h),h.zip!==void 0&&(!this._protectedHeader||!this._protectedHeader.zip))throw new JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const c=generateCek(m);let l={ciphertext:"",iv:"",recipients:[],tag:""};for(let o=0;o<this._recipients.length;o++){const s=this._recipients[o],h={};l.recipients.push(h);const b={...this._protectedHeader,...this._unprotectedHeader,...s.unprotectedHeader}.alg.startsWith("PBES2")?2048+o:void 0;if(o===0){const w=await new FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(c).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(s.unprotectedHeader).setKeyManagementParameters({p2c:b}).encrypt(s.key,{...s.options,...t,[unprotected]:!0});l.ciphertext=w.ciphertext,l.iv=w.iv,l.tag=w.tag,w.aad&&(l.aad=w.aad),w.protected&&(l.protected=w.protected),w.unprotected&&(l.unprotected=w.unprotected),h.encrypted_key=w.encrypted_key,w.header&&(h.header=w.header);continue}const{encryptedKey:y,parameters:O}=await encryptKeyManagement(((a=s.unprotectedHeader)===null||a===void 0?void 0:a.alg)||((p=this._protectedHeader)===null||p===void 0?void 0:p.alg)||((g=this._unprotectedHeader)===null||g===void 0?void 0:g.alg),m,s.key,c,{p2c:b});h.encrypted_key=encode$1(y),(s.unprotectedHeader||O)&&(h.header={...s.unprotectedHeader,...O})}return l}}function subtleDsa(e,t){const a=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:a,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:a,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:a,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:a,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function getCryptoKey(e,t,a){if(isCryptoKey(t))return checkSigCryptoKey(t,e,a),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(invalidKeyInput(t,...types$4));return crypto$1.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[a])}throw new TypeError(invalidKeyInput(t,...types$4,"Uint8Array"))}const verify=async(e,t,a,p)=>{const g=await getCryptoKey(e,t,"verify");checkKeyLength(e,g);const m=subtleDsa(e,g.algorithm);try{return await crypto$1.subtle.verify(m,g,a,p)}catch{return!1}};async function flattenedVerify(e,t,a){var p;if(!isObject(e))throw new JWSInvalid("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new JWSInvalid("JWS Protected Header incorrect type");if(e.payload===void 0)throw new JWSInvalid("JWS Payload missing");if(typeof e.signature!="string")throw new JWSInvalid("JWS Signature missing or incorrect type");if(e.header!==void 0&&!isObject(e.header))throw new JWSInvalid("JWS Unprotected Header incorrect type");let g={};if(e.protected)try{const I=decode$1(e.protected);g=JSON.parse(decoder.decode(I))}catch{throw new JWSInvalid("JWS Protected Header is invalid")}if(!isDisjoint(g,e.header))throw new JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const m={...g,...e.header},c=validateCrit(JWSInvalid,new Map([["b64",!0]]),a?.crit,g,m);let l=!0;if(c.has("b64")&&(l=g.b64,typeof l!="boolean"))throw new JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=m;if(typeof o!="string"||!o)throw new JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');const s=a&&validateAlgorithms("algorithms",a.algorithms);if(s&&!s.has(o))throw new JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(l){if(typeof e.payload!="string")throw new JWSInvalid("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let h=!1;typeof t=="function"&&(t=await t(g,e),h=!0),checkKeyType(o,t,"verify");const v=concat(encoder.encode((p=e.protected)!==null&&p!==void 0?p:""),encoder.encode("."),typeof e.payload=="string"?encoder.encode(e.payload):e.payload);let b;try{b=decode$1(e.signature)}catch{throw new JWSInvalid("Failed to base64url decode the signature")}if(!await verify(o,t,b,v))throw new JWSSignatureVerificationFailed;let O;if(l)try{O=decode$1(e.payload)}catch{throw new JWSInvalid("Failed to base64url decode the payload")}else typeof e.payload=="string"?O=encoder.encode(e.payload):O=e.payload;const w={payload:O};return e.protected!==void 0&&(w.protectedHeader=g),e.header!==void 0&&(w.unprotectedHeader=e.header),h?{...w,key:t}:w}async function compactVerify(e,t,a){if(e instanceof Uint8Array&&(e=decoder.decode(e)),typeof e!="string")throw new JWSInvalid("Compact JWS must be a string or Uint8Array");const{0:p,1:g,2:m,length:c}=e.split(".");if(c!==3)throw new JWSInvalid("Invalid Compact JWS");const l=await flattenedVerify({payload:g,protected:p,signature:m},t,a),o={payload:l.payload,protectedHeader:l.protectedHeader};return typeof t=="function"?{...o,key:l.key}:o}async function generalVerify(e,t,a){if(!isObject(e))throw new JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(isObject))throw new JWSInvalid("JWS Signatures missing or incorrect type");for(const p of e.signatures)try{return await flattenedVerify({header:p.header,payload:e.payload,protected:p.protected,signature:p.signature},t,a)}catch{}throw new JWSSignatureVerificationFailed}const epoch=e=>Math.floor(e.getTime()/1e3),minute=60,hour=minute*60,day=hour*24,week=day*7,year=day*365.25,REGEX$1=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,secs=e=>{const t=REGEX$1.exec(e);if(!t)throw new TypeError("Invalid time period format");const a=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(a);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(a*minute);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(a*hour);case"day":case"days":case"d":return Math.round(a*day);case"week":case"weeks":case"w":return Math.round(a*week);default:return Math.round(a*year)}},normalizeTyp=e=>e.toLowerCase().replace(/^application\//,""),checkAudiencePresence=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,jwtPayload=(e,t,a={})=>{const{typ:p}=a;if(p&&(typeof e.typ!="string"||normalizeTyp(e.typ)!==normalizeTyp(p)))throw new JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");let g;try{g=JSON.parse(decoder.decode(t))}catch{}if(!isObject(g))throw new JWTInvalid("JWT Claims Set must be a top-level JSON object");const{requiredClaims:m=[],issuer:c,subject:l,audience:o,maxTokenAge:s}=a;s!==void 0&&m.push("iat"),o!==void 0&&m.push("aud"),l!==void 0&&m.push("sub"),c!==void 0&&m.push("iss");for(const y of new Set(m.reverse()))if(!(y in g))throw new JWTClaimValidationFailed(`missing required "${y}" claim`,y,"missing");if(c&&!(Array.isArray(c)?c:[c]).includes(g.iss))throw new JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(l&&g.sub!==l)throw new JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(o&&!checkAudiencePresence(g.aud,typeof o=="string"?[o]:o))throw new JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");let h;switch(typeof a.clockTolerance){case"string":h=secs(a.clockTolerance);break;case"number":h=a.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:v}=a,b=epoch(v||new Date);if((g.iat!==void 0||s)&&typeof g.iat!="number")throw new JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(g.nbf!==void 0){if(typeof g.nbf!="number")throw new JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(g.nbf>b+h)throw new JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(g.exp!==void 0){if(typeof g.exp!="number")throw new JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(g.exp<=b-h)throw new JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(s){const y=b-g.iat,O=typeof s=="number"?s:secs(s);if(y-h>O)throw new JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(y<0-h)throw new JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return g};async function jwtVerify(e,t,a){var p;const g=await compactVerify(e,t,a);if(!((p=g.protectedHeader.crit)===null||p===void 0)&&p.includes("b64")&&g.protectedHeader.b64===!1)throw new JWTInvalid("JWTs MUST NOT use unencoded payload");const c={payload:jwtPayload(g.protectedHeader,g.payload,a),protectedHeader:g.protectedHeader};return typeof t=="function"?{...c,key:g.key}:c}async function jwtDecrypt(e,t,a){const p=await compactDecrypt(e,t,a),g=jwtPayload(p.protectedHeader,p.plaintext,a),{protectedHeader:m}=p;if(m.iss!==void 0&&m.iss!==g.iss)throw new JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(m.sub!==void 0&&m.sub!==g.sub)throw new JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(m.aud!==void 0&&JSON.stringify(m.aud)!==JSON.stringify(g.aud))throw new JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");const c={payload:g,protectedHeader:m};return typeof t=="function"?{...c,key:p.key}:c}class CompactEncrypt{constructor(t){this._flattened=new FlattenedEncrypt(t)}setContentEncryptionKey(t){return this._flattened.setContentEncryptionKey(t),this}setInitializationVector(t){return this._flattened.setInitializationVector(t),this}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}setKeyManagementParameters(t){return this._flattened.setKeyManagementParameters(t),this}async encrypt(t,a){const p=await this._flattened.encrypt(t,a);return[p.protected,p.encrypted_key,p.iv,p.ciphertext,p.tag].join(".")}}const sign=async(e,t,a)=>{const p=await getCryptoKey(e,t,"sign");checkKeyLength(e,p);const g=await crypto$1.subtle.sign(subtleDsa(e,p.algorithm),p,a);return new Uint8Array(g)};class FlattenedSign{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,a){if(!this._protectedHeader&&!this._unprotectedHeader)throw new JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!isDisjoint(this._protectedHeader,this._unprotectedHeader))throw new JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const p={...this._protectedHeader,...this._unprotectedHeader},g=validateCrit(JWSInvalid,new Map([["b64",!0]]),a?.crit,this._protectedHeader,p);let m=!0;if(g.has("b64")&&(m=this._protectedHeader.b64,typeof m!="boolean"))throw new JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:c}=p;if(typeof c!="string"||!c)throw new JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');checkKeyType(c,t,"sign");let l=this._payload;m&&(l=encoder.encode(encode$1(l)));let o;this._protectedHeader?o=encoder.encode(encode$1(JSON.stringify(this._protectedHeader))):o=encoder.encode("");const s=concat(o,encoder.encode("."),l),h=await sign(c,t,s),v={signature:encode$1(h),payload:""};return m&&(v.payload=decoder.decode(l)),this._unprotectedHeader&&(v.header=this._unprotectedHeader),this._protectedHeader&&(v.protected=decoder.decode(o)),v}}class CompactSign{constructor(t){this._flattened=new FlattenedSign(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,a){const p=await this._flattened.sign(t,a);if(p.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${p.protected}.${p.payload}.${p.signature}`}}class IndividualSignature{constructor(t,a,p){this.parent=t,this.key=a,this.options=p}setProtectedHeader(t){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=t,this}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addSignature(...t){return this.parent.addSignature(...t)}sign(...t){return this.parent.sign(...t)}done(){return this.parent}}class GeneralSign{constructor(t){this._signatures=[],this._payload=t}addSignature(t,a){const p=new IndividualSignature(this,t,a);return this._signatures.push(p),p}async sign(){if(!this._signatures.length)throw new JWSInvalid("at least one signature must be added");const t={signatures:[],payload:""};for(let a=0;a<this._signatures.length;a++){const p=this._signatures[a],g=new FlattenedSign(this._payload);g.setProtectedHeader(p.protectedHeader),g.setUnprotectedHeader(p.unprotectedHeader);const{payload:m,...c}=await g.sign(p.key,p.options);if(a===0)t.payload=m;else if(t.payload!==m)throw new JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");t.signatures.push(c)}return t}}class ProduceJWT{constructor(t){if(!isObject(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:t}:this._payload={...this._payload,nbf:epoch(new Date)+secs(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:t}:this._payload={...this._payload,exp:epoch(new Date)+secs(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:epoch(new Date)}:this._payload={...this._payload,iat:t},this}}class SignJWT extends ProduceJWT{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,a){var p;const g=new CompactSign(encoder.encode(JSON.stringify(this._payload)));if(g.setProtectedHeader(this._protectedHeader),Array.isArray((p=this._protectedHeader)===null||p===void 0?void 0:p.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new JWTInvalid("JWTs MUST NOT use unencoded payload");return g.sign(t,a)}}class EncryptJWT extends ProduceJWT{setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(t,a){const p=new CompactEncrypt(encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),p.setProtectedHeader(this._protectedHeader),this._iv&&p.setInitializationVector(this._iv),this._cek&&p.setContentEncryptionKey(this._cek),this._keyManagementParameters&&p.setKeyManagementParameters(this._keyManagementParameters),p.encrypt(t,a)}}const check=(e,t)=>{if(typeof e!="string"||!e)throw new JWKInvalid(`${t} missing or invalid`)};async function calculateJwkThumbprint(e,t){if(!isObject(e))throw new TypeError("JWK must be an object");if(t??(t="sha256"),t!=="sha256"&&t!=="sha384"&&t!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let a;switch(e.kty){case"EC":check(e.crv,'"crv" (Curve) Parameter'),check(e.x,'"x" (X Coordinate) Parameter'),check(e.y,'"y" (Y Coordinate) Parameter'),a={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":check(e.crv,'"crv" (Subtype of Key Pair) Parameter'),check(e.x,'"x" (Public Key) Parameter'),a={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":check(e.e,'"e" (Exponent) Parameter'),check(e.n,'"n" (Modulus) Parameter'),a={e:e.e,kty:e.kty,n:e.n};break;case"oct":check(e.k,'"k" (Key Value) Parameter'),a={k:e.k,kty:e.kty};break;default:throw new JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}const p=encoder.encode(JSON.stringify(a));return encode$1(await digest(t,p))}async function calculateJwkThumbprintUri(e,t){t??(t="sha256");const a=await calculateJwkThumbprint(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${a}`}async function EmbeddedJWK(e,t){const a={...e,...t?.header};if(!isObject(a.jwk))throw new JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const p=await importJWK({...a.jwk,ext:!0},a.alg,!0);if(p instanceof Uint8Array||p.type!=="public")throw new JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return p}function getKtyFromAlg(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}function isJWKSLike(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(isJWKLike)}function isJWKLike(e){return isObject(e)}function clone(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class LocalJWKSet{constructor(t){if(this._cached=new WeakMap,!isJWKSLike(t))throw new JWKSInvalid("JSON Web Key Set malformed");this._jwks=clone(t)}async getKey(t,a){const{alg:p,kid:g}={...t,...a?.header},m=getKtyFromAlg(p),c=this._jwks.keys.filter(s=>{let h=m===s.kty;if(h&&typeof g=="string"&&(h=g===s.kid),h&&typeof s.alg=="string"&&(h=p===s.alg),h&&typeof s.use=="string"&&(h=s.use==="sig"),h&&Array.isArray(s.key_ops)&&(h=s.key_ops.includes("verify")),h&&p==="EdDSA"&&(h=s.crv==="Ed25519"||s.crv==="Ed448"),h)switch(p){case"ES256":h=s.crv==="P-256";break;case"ES256K":h=s.crv==="secp256k1";break;case"ES384":h=s.crv==="P-384";break;case"ES512":h=s.crv==="P-521";break}return h}),{0:l,length:o}=c;if(o===0)throw new JWKSNoMatchingKey;if(o!==1){const s=new JWKSMultipleMatchingKeys,{_cached:h}=this;throw s[Symbol.asyncIterator]=async function*(){for(const v of c)try{yield await importWithAlgCache(h,v,p)}catch{continue}},s}return importWithAlgCache(this._cached,l,p)}}async function importWithAlgCache(e,t,a){const p=e.get(t)||e.set(t,{}).get(t);if(p[a]===void 0){const g=await importJWK({...t,ext:!0},a);if(g instanceof Uint8Array||g.type!=="public")throw new JWKSInvalid("JSON Web Key Set members must be public keys");p[a]=g}return p[a]}function createLocalJWKSet(e){const t=new LocalJWKSet(e);return async function(a,p){return t.getKey(a,p)}}const fetchJwks=async(e,t,a)=>{let p,g,m=!1;typeof AbortController=="function"&&(p=new AbortController,g=setTimeout(()=>{m=!0,p.abort()},t));const c=await fetch(e.href,{signal:p?p.signal:void 0,redirect:"manual",headers:a.headers}).catch(l=>{throw m?new JWKSTimeout:l});if(g!==void 0&&clearTimeout(g),c.status!==200)throw new JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await c.json()}catch{throw new JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function isCloudflareWorkers(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}class RemoteJWKSet extends LocalJWKSet{constructor(t,a){if(super({keys:[]}),this._jwks=void 0,!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:a?.agent,headers:a?.headers},this._timeoutDuration=typeof a?.timeoutDuration=="number"?a?.timeoutDuration:5e3,this._cooldownDuration=typeof a?.cooldownDuration=="number"?a?.cooldownDuration:3e4,this._cacheMaxAge=typeof a?.cacheMaxAge=="number"?a?.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,a){(!this._jwks||!this.fresh())&&await this.reload();try{return await super.getKey(t,a)}catch(p){if(p instanceof JWKSNoMatchingKey&&this.coolingDown()===!1)return await this.reload(),super.getKey(t,a);throw p}}async reload(){this._pendingFetch&&isCloudflareWorkers()&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=fetchJwks(this._url,this._timeoutDuration,this._options).then(t=>{if(!isJWKSLike(t))throw new JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:t.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(t=>{throw this._pendingFetch=void 0,t})),await this._pendingFetch}}function createRemoteJWKSet(e,t){const a=new RemoteJWKSet(e,t);return async function(p,g){return a.getKey(p,g)}}class UnsecuredJWT extends ProduceJWT{encode(){const t=encode$1(JSON.stringify({alg:"none"})),a=encode$1(JSON.stringify(this._payload));return`${t}.${a}.`}static decode(t,a){if(typeof t!="string")throw new JWTInvalid("Unsecured JWT must be a string");const{0:p,1:g,2:m,length:c}=t.split(".");if(c!==3||m!=="")throw new JWTInvalid("Invalid Unsecured JWT");let l;try{if(l=JSON.parse(decoder.decode(decode$1(p))),l.alg!=="none")throw new Error}catch{throw new JWTInvalid("Invalid Unsecured JWT")}return{payload:jwtPayload(l,decode$1(g),a),header:l}}}const encode=encode$1,decode=decode$1,base64url=Object.freeze(Object.defineProperty({__proto__:null,decode,encode},Symbol.toStringTag,{value:"Module"}));function decodeProtectedHeader(e){let t;if(typeof e=="string"){const a=e.split(".");(a.length===3||a.length===5)&&([t]=a)}else if(typeof e=="object"&&e)if("protected"in e)t=e.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof t!="string"||!t)throw new Error;const a=JSON.parse(decoder.decode(decode(t)));if(!isObject(a))throw new Error;return a}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function decodeJwt(e){if(typeof e!="string")throw new JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:a}=e.split(".");if(a===5)throw new JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(a!==3)throw new JWTInvalid("Invalid JWT");if(!t)throw new JWTInvalid("JWTs must contain a payload");let p;try{p=decode(t)}catch{throw new JWTInvalid("Failed to base64url decode the payload")}let g;try{g=JSON.parse(decoder.decode(p))}catch{throw new JWTInvalid("Failed to parse the decoded payload as JSON")}if(!isObject(g))throw new JWTInvalid("Invalid JWT Claims Set");return g}async function generateSecret$1(e,t){var a;let p,g,m;switch(e){case"HS256":case"HS384":case"HS512":p=parseInt(e.slice(-3),10),g={name:"HMAC",hash:`SHA-${p}`,length:p},m=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return p=parseInt(e.slice(-3),10),random(new Uint8Array(p>>3));case"A128KW":case"A192KW":case"A256KW":p=parseInt(e.slice(1,4),10),g={name:"AES-KW",length:p},m=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":p=parseInt(e.slice(1,4),10),g={name:"AES-GCM",length:p},m=["encrypt","decrypt"];break;default:throw new JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return crypto$1.subtle.generateKey(g,(a=t?.extractable)!==null&&a!==void 0?a:!1,m)}function getModulusLengthOption(e){var t;const a=(t=e?.modulusLength)!==null&&t!==void 0?t:2048;if(typeof a!="number"||a<2048)throw new JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return a}async function generateKeyPair$1(e,t){var a,p,g;let m,c;switch(e){case"PS256":case"PS384":case"PS512":m={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:getModulusLengthOption(t)},c=["sign","verify"];break;case"RS256":case"RS384":case"RS512":m={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:getModulusLengthOption(t)},c=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":m={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:getModulusLengthOption(t)},c=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":m={name:"ECDSA",namedCurve:"P-256"},c=["sign","verify"];break;case"ES384":m={name:"ECDSA",namedCurve:"P-384"},c=["sign","verify"];break;case"ES512":m={name:"ECDSA",namedCurve:"P-521"},c=["sign","verify"];break;case"EdDSA":c=["sign","verify"];const l=(a=t?.crv)!==null&&a!==void 0?a:"Ed25519";switch(l){case"Ed25519":case"Ed448":m={name:l};break;default:throw new JOSENotSupported("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{c=["deriveKey","deriveBits"];const o=(p=t?.crv)!==null&&p!==void 0?p:"P-256";switch(o){case"P-256":case"P-384":case"P-521":{m={name:"ECDH",namedCurve:o};break}case"X25519":case"X448":m={name:o};break;default:throw new JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return crypto$1.subtle.generateKey(m,(g=t?.extractable)!==null&&g!==void 0?g:!1,c)}async function generateKeyPair(e,t){return generateKeyPair$1(e,t)}async function generateSecret(e,t){return generateSecret$1(e,t)}const value$1="WebCryptoAPI",browser$3=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt,CompactSign,EmbeddedJWK,EncryptJWT,FlattenedEncrypt,FlattenedSign,GeneralEncrypt,GeneralSign,SignJWT,UnsecuredJWT,base64url,calculateJwkThumbprint,calculateJwkThumbprintUri,compactDecrypt,compactVerify,createLocalJWKSet,createRemoteJWKSet,cryptoRuntime:value$1,decodeJwt,decodeProtectedHeader,errors:errors$1,exportJWK,exportPKCS8,exportSPKI,flattenedDecrypt,flattenedVerify,generalDecrypt,generalVerify,generateKeyPair,generateSecret,importJWK,importPKCS8,importSPKI,importX509,jwtDecrypt,jwtVerify},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(browser$3);var JwksError_1,hasRequiredJwksError;function requireJwksError(){if(hasRequiredJwksError)return JwksError_1;hasRequiredJwksError=1;function e(t){Error.call(this,t),Error.captureStackTrace(this,this.constructor),this.name="JwksError",this.message=t}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,JwksError_1=e,JwksError_1}var utils$1,hasRequiredUtils$1;function requireUtils$1(){if(hasRequiredUtils$1)return utils$1;hasRequiredUtils$1=1;const e=require$$0$3,t=requireJwksError();function a(g){if(g.alg)return g.alg;if(g.kty==="RSA")return"RS256";if(g.kty==="EC")switch(g.crv){case"P-256":return"ES256";case"secp256k1":return"ES256K";case"P-384":return"ES384";case"P-521":return"ES512"}if(g.kty==="OKP")switch(g.crv){case"Ed25519":case"Ed448":return"EdDSA"}throw new t("Unsupported JWK")}async function p(g){const m=[];g=g.filter(({use:c})=>c==="sig"||c===void 0).filter(({kty:c})=>c==="RSA"||c==="EC"||c==="OKP");for(const c of g)try{const l=await e.importJWK({...c,ext:!0},a(c));if(l.type!=="public")continue;let o;if(l[Symbol.toStringTag]==="CryptoKey"){const s=await e.exportSPKI(l);o=()=>s}else o=()=>l.export({format:"pem",type:"spki"});m.push({get publicKey(){return o()},get rsaPublicKey(){return o()},getPublicKey(){return o()},...typeof c.kid=="string"&&c.kid?{kid:c.kid}:void 0,...typeof c.alg=="string"&&c.alg?{alg:c.alg}:void 0})}catch{continue}return m}return utils$1={retrieveSigningKeys:p},utils$1}var request={},hasRequiredRequest;function requireRequest(){if(hasRequiredRequest)return request;hasRequiredRequest=1;const e=require$$1$3,t=require$$1$3,a=require$$1$3;return request.default=p=>p.fetcher?p.fetcher(p.uri):new Promise((g,m)=>{const{hostname:c,path:l,port:o,protocol:s}=a.parse(p.uri),h={hostname:c,path:l,port:o,method:"GET",...p.headers&&{headers:{...p.headers}},...p.timeout&&{timeout:p.timeout},...p.agent&&{agent:p.agent}},b=(s==="https:"?t:e).request(h,y=>{let O="";y.setEncoding("utf8"),y.on("data",w=>{O+=w}),y.on("end",()=>{if(y.statusCode<200||y.statusCode>=300){const w=y.body&&(y.body.message||y.body)||y.statusMessage||`Http Error ${y.statusCode}`;m({errorMsg:w})}else try{g(O&&JSON.parse(O))}catch(w){m(w)}})});b.on("timeout",()=>b.destroy()).on("error",y=>m(y)).end()}),request}var cache={},async={},iterator,hasRequiredIterator;function requireIterator(){return hasRequiredIterator||(hasRequiredIterator=1,iterator=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),iterator}var yallist,hasRequiredYallist;function requireYallist(){if(hasRequiredYallist)return yallist;hasRequiredYallist=1,yallist=e,e.Node=g,e.create=e;function e(m){var c=this;if(c instanceof e||(c=new e),c.tail=null,c.head=null,c.length=0,m&&typeof m.forEach=="function")m.forEach(function(s){c.push(s)});else if(arguments.length>0)for(var l=0,o=arguments.length;l<o;l++)c.push(arguments[l]);return c}e.prototype.removeNode=function(m){if(m.list!==this)throw new Error("removing node which does not belong to this list");var c=m.next,l=m.prev;return c&&(c.prev=l),l&&(l.next=c),m===this.head&&(this.head=c),m===this.tail&&(this.tail=l),m.list.length--,m.next=null,m.prev=null,m.list=null,c},e.prototype.unshiftNode=function(m){if(m!==this.head){m.list&&m.list.removeNode(m);var c=this.head;m.list=this,m.next=c,c&&(c.prev=m),this.head=m,this.tail||(this.tail=m),this.length++}},e.prototype.pushNode=function(m){if(m!==this.tail){m.list&&m.list.removeNode(m);var c=this.tail;m.list=this,m.prev=c,c&&(c.next=m),this.tail=m,this.head||(this.head=m),this.length++}},e.prototype.push=function(){for(var m=0,c=arguments.length;m<c;m++)a(this,arguments[m]);return this.length},e.prototype.unshift=function(){for(var m=0,c=arguments.length;m<c;m++)p(this,arguments[m]);return this.length},e.prototype.pop=function(){if(this.tail){var m=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,m}},e.prototype.shift=function(){if(this.head){var m=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,m}},e.prototype.forEach=function(m,c){c=c||this;for(var l=this.head,o=0;l!==null;o++)m.call(c,l.value,o,this),l=l.next},e.prototype.forEachReverse=function(m,c){c=c||this;for(var l=this.tail,o=this.length-1;l!==null;o--)m.call(c,l.value,o,this),l=l.prev},e.prototype.get=function(m){for(var c=0,l=this.head;l!==null&&c<m;c++)l=l.next;if(c===m&&l!==null)return l.value},e.prototype.getReverse=function(m){for(var c=0,l=this.tail;l!==null&&c<m;c++)l=l.prev;if(c===m&&l!==null)return l.value},e.prototype.map=function(m,c){c=c||this;for(var l=new e,o=this.head;o!==null;)l.push(m.call(c,o.value,this)),o=o.next;return l},e.prototype.mapReverse=function(m,c){c=c||this;for(var l=new e,o=this.tail;o!==null;)l.push(m.call(c,o.value,this)),o=o.prev;return l},e.prototype.reduce=function(m,c){var l,o=this.head;if(arguments.length>1)l=c;else if(this.head)o=this.head.next,l=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;o!==null;s++)l=m(l,o.value,s),o=o.next;return l},e.prototype.reduceReverse=function(m,c){var l,o=this.tail;if(arguments.length>1)l=c;else if(this.tail)o=this.tail.prev,l=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;o!==null;s--)l=m(l,o.value,s),o=o.prev;return l},e.prototype.toArray=function(){for(var m=new Array(this.length),c=0,l=this.head;l!==null;c++)m[c]=l.value,l=l.next;return m},e.prototype.toArrayReverse=function(){for(var m=new Array(this.length),c=0,l=this.tail;l!==null;c++)m[c]=l.value,l=l.prev;return m},e.prototype.slice=function(m,c){c=c||this.length,c<0&&(c+=this.length),m=m||0,m<0&&(m+=this.length);var l=new e;if(c<m||c<0)return l;m<0&&(m=0),c>this.length&&(c=this.length);for(var o=0,s=this.head;s!==null&&o<m;o++)s=s.next;for(;s!==null&&o<c;o++,s=s.next)l.push(s.value);return l},e.prototype.sliceReverse=function(m,c){c=c||this.length,c<0&&(c+=this.length),m=m||0,m<0&&(m+=this.length);var l=new e;if(c<m||c<0)return l;m<0&&(m=0),c>this.length&&(c=this.length);for(var o=this.length,s=this.tail;s!==null&&o>c;o--)s=s.prev;for(;s!==null&&o>m;o--,s=s.prev)l.push(s.value);return l},e.prototype.splice=function(m,c,...l){m>this.length&&(m=this.length-1),m<0&&(m=this.length+m);for(var o=0,s=this.head;s!==null&&o<m;o++)s=s.next;for(var h=[],o=0;s&&o<c;o++)h.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var o=0;o<l.length;o++)s=t(this,s,l[o]);return h},e.prototype.reverse=function(){for(var m=this.head,c=this.tail,l=m;l!==null;l=l.prev){var o=l.prev;l.prev=l.next,l.next=o}return this.head=c,this.tail=m,this};function t(m,c,l){var o=c===m.head?new g(l,null,c,m):new g(l,c,c.next,m);return o.next===null&&(m.tail=o),o.prev===null&&(m.head=o),m.length++,o}function a(m,c){m.tail=new g(c,m.tail,null,m),m.head||(m.head=m.tail),m.length++}function p(m,c){m.head=new g(c,null,m.head,m),m.tail||(m.tail=m.head),m.length++}function g(m,c,l,o){if(!(this instanceof g))return new g(m,c,l,o);this.list=o,this.value=m,c?(c.next=this,this.prev=c):this.prev=null,l?(l.prev=this,this.next=l):this.next=null}try{requireIterator()(e)}catch{}return yallist}var lruCache,hasRequiredLruCache;function requireLruCache(){if(hasRequiredLruCache)return lruCache;hasRequiredLruCache=1;const e=requireYallist(),t=Symbol("max"),a=Symbol("length"),p=Symbol("lengthCalculator"),g=Symbol("allowStale"),m=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),o=Symbol("lruList"),s=Symbol("cache"),h=Symbol("updateAgeOnGet"),v=()=>1;class b{constructor(N){if(typeof N=="number"&&(N={max:N}),N||(N={}),N.max&&(typeof N.max!="number"||N.max<0))throw new TypeError("max must be a non-negative number");this[t]=N.max||1/0;const L=N.length||v;if(this[p]=typeof L!="function"?v:L,this[g]=N.stale||!1,N.maxAge&&typeof N.maxAge!="number")throw new TypeError("maxAge must be a number");this[m]=N.maxAge||0,this[c]=N.dispose,this[l]=N.noDisposeOnSet||!1,this[h]=N.updateAgeOnGet||!1,this.reset()}set max(N){if(typeof N!="number"||N<0)throw new TypeError("max must be a non-negative number");this[t]=N||1/0,w(this)}get max(){return this[t]}set allowStale(N){this[g]=!!N}get allowStale(){return this[g]}set maxAge(N){if(typeof N!="number")throw new TypeError("maxAge must be a non-negative number");this[m]=N,w(this)}get maxAge(){return this[m]}set lengthCalculator(N){typeof N!="function"&&(N=v),N!==this[p]&&(this[p]=N,this[a]=0,this[o].forEach(L=>{L.length=this[p](L.value,L.key),this[a]+=L.length})),w(this)}get lengthCalculator(){return this[p]}get length(){return this[a]}get itemCount(){return this[o].length}rforEach(N,L){L=L||this;for(let D=this[o].tail;D!==null;){const j=D.prev;T(this,N,D,L),D=j}}forEach(N,L){L=L||this;for(let D=this[o].head;D!==null;){const j=D.next;T(this,N,D,L),D=j}}keys(){return this[o].toArray().map(N=>N.key)}values(){return this[o].toArray().map(N=>N.value)}reset(){this[c]&&this[o]&&this[o].length&&this[o].forEach(N=>this[c](N.key,N.value)),this[s]=new Map,this[o]=new e,this[a]=0}dump(){return this[o].map(N=>O(this,N)?!1:{k:N.key,v:N.value,e:N.now+(N.maxAge||0)}).toArray().filter(N=>N)}dumpLru(){return this[o]}set(N,L,D){if(D=D||this[m],D&&typeof D!="number")throw new TypeError("maxAge must be a number");const j=D?Date.now():0,k=this[p](L,N);if(this[s].has(N)){if(k>this[t])return I(this,this[s].get(N)),!1;const J=this[s].get(N).value;return this[c]&&(this[l]||this[c](N,J.value)),J.now=j,J.maxAge=D,J.value=L,this[a]+=k-J.length,J.length=k,this.get(N),w(this),!0}const V=new _(N,L,k,j,D);return V.length>this[t]?(this[c]&&this[c](N,L),!1):(this[a]+=V.length,this[o].unshift(V),this[s].set(N,this[o].head),w(this),!0)}has(N){if(!this[s].has(N))return!1;const L=this[s].get(N).value;return!O(this,L)}get(N){return y(this,N,!0)}peek(N){return y(this,N,!1)}pop(){const N=this[o].tail;return N?(I(this,N),N.value):null}del(N){I(this,this[s].get(N))}load(N){this.reset();const L=Date.now();for(let D=N.length-1;D>=0;D--){const j=N[D],k=j.e||0;if(k===0)this.set(j.k,j.v);else{const V=k-L;V>0&&this.set(j.k,j.v,V)}}}prune(){this[s].forEach((N,L)=>y(this,L,!1))}}const y=(C,N,L)=>{const D=C[s].get(N);if(D){const j=D.value;if(O(C,j)){if(I(C,D),!C[g])return}else L&&(C[h]&&(D.value.now=Date.now()),C[o].unshiftNode(D));return j.value}},O=(C,N)=>{if(!N||!N.maxAge&&!C[m])return!1;const L=Date.now()-N.now;return N.maxAge?L>N.maxAge:C[m]&&L>C[m]},w=C=>{if(C[a]>C[t])for(let N=C[o].tail;C[a]>C[t]&&N!==null;){const L=N.prev;I(C,N),N=L}},I=(C,N)=>{if(N){const L=N.value;C[c]&&C[c](L.key,L.value),C[a]-=L.length,C[s].delete(L.key),C[o].removeNode(N)}};class _{constructor(N,L,D,j,k){this.key=N,this.value=L,this.length=D,this.now=j,this.maxAge=k||0}}const T=(C,N,L,D)=>{let j=L.value;O(C,j)&&(I(C,L),C[g]||(j=void 0)),j&&N.call(D,j.value,j.key,C)};return lruCache=b,lruCache}var lodash_clonedeep={exports:{}};lodash_clonedeep.exports;var hasRequiredLodash_clonedeep;function requireLodash_clonedeep(){return hasRequiredLodash_clonedeep||(hasRequiredLodash_clonedeep=1,(function(e,t){var a=200,p="__lodash_hash_undefined__",g=9007199254740991,m="[object Arguments]",c="[object Array]",l="[object Boolean]",o="[object Date]",s="[object Error]",h="[object Function]",v="[object GeneratorFunction]",b="[object Map]",y="[object Number]",O="[object Object]",w="[object Promise]",I="[object RegExp]",_="[object Set]",T="[object String]",C="[object Symbol]",N="[object WeakMap]",L="[object ArrayBuffer]",D="[object DataView]",j="[object Float32Array]",k="[object Float64Array]",V="[object Int8Array]",G="[object Int16Array]",J="[object Int32Array]",W="[object Uint8Array]",K="[object Uint8ClampedArray]",X="[object Uint16Array]",Y="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,oe=/\w*$/,le=/^\[object .+?Constructor\]$/,ee=/^(?:0|[1-9]\d*)$/,se={};se[m]=se[c]=se[L]=se[D]=se[l]=se[o]=se[j]=se[k]=se[V]=se[G]=se[J]=se[b]=se[y]=se[O]=se[I]=se[_]=se[T]=se[C]=se[W]=se[K]=se[X]=se[Y]=!0,se[s]=se[h]=se[N]=!1;var de=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,he=typeof self=="object"&&self&&self.Object===Object&&self,ge=de||he||Function("return this")(),me=t&&!t.nodeType&&t,Oe=me&&!0&&e&&!e.nodeType&&e,fe=Oe&&Oe.exports===me;function _e(Ae,Fe){return Ae.set(Fe[0],Fe[1]),Ae}function Ee(Ae,Fe){return Ae.add(Fe),Ae}function z(Ae,Fe){for(var We=-1,at=Ae?Ae.length:0;++We<at&&Fe(Ae[We],We,Ae)!==!1;);return Ae}function d(Ae,Fe){for(var We=-1,at=Fe.length,er=Ae.length;++We<at;)Ae[er+We]=Fe[We];return Ae}function P(Ae,Fe,We,at){for(var er=-1,gr=Ae?Ae.length:0;++er<gr;)We=Fe(We,Ae[er],er,Ae);return We}function A(Ae,Fe){for(var We=-1,at=Array(Ae);++We<Ae;)at[We]=Fe(We);return at}function $(Ae,Fe){return Ae?.[Fe]}function ie(Ae){var Fe=!1;if(Ae!=null&&typeof Ae.toString!="function")try{Fe=!!(Ae+"")}catch{}return Fe}function pe(Ae){var Fe=-1,We=Array(Ae.size);return Ae.forEach(function(at,er){We[++Fe]=[er,at]}),We}function ne(Ae,Fe){return function(We){return Ae(Fe(We))}}function u(Ae){var Fe=-1,We=Array(Ae.size);return Ae.forEach(function(at){We[++Fe]=at}),We}var x=Array.prototype,M=Function.prototype,n=Object.prototype,q=ge["__core-js_shared__"],U=(function(){var Ae=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return Ae?"Symbol(src)_1."+Ae:""})(),Q=M.toString,ye=n.hasOwnProperty,Ie=n.toString,je=RegExp("^"+Q.call(ye).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ke=fe?ge.Buffer:void 0,ze=ge.Symbol,it=ge.Uint8Array,dt=ne(Object.getPrototypeOf,Object),_t=Object.create,St=n.propertyIsEnumerable,lt=x.splice,Ve=Object.getOwnPropertySymbols,Me=ke?ke.isBuffer:void 0,$e=ne(Object.keys,Object),Je=vr(ge,"DataView"),Ze=vr(ge,"Map"),st=vr(ge,"Promise"),mt=vr(ge,"Set"),bt=vr(ge,"WeakMap"),yt=vr(Object,"create"),Jt=xr(Je),Gt=xr(Ze),Nt=xr(st),Lt=xr(mt),Pt=xr(bt),Dt=ze?ze.prototype:void 0,kt=Dt?Dt.valueOf:void 0;function Et(Ae){var Fe=-1,We=Ae?Ae.length:0;for(this.clear();++Fe<We;){var at=Ae[Fe];this.set(at[0],at[1])}}function Ot(){this.__data__=yt?yt(null):{}}function jt(Ae){return this.has(Ae)&&delete this.__data__[Ae]}function qt(Ae){var Fe=this.__data__;if(yt){var We=Fe[Ae];return We===p?void 0:We}return ye.call(Fe,Ae)?Fe[Ae]:void 0}function vt(Ae){var Fe=this.__data__;return yt?Fe[Ae]!==void 0:ye.call(Fe,Ae)}function Tt(Ae,Fe){var We=this.__data__;return We[Ae]=yt&&Fe===void 0?p:Fe,this}Et.prototype.clear=Ot,Et.prototype.delete=jt,Et.prototype.get=qt,Et.prototype.has=vt,Et.prototype.set=Tt;function At(Ae){var Fe=-1,We=Ae?Ae.length:0;for(this.clear();++Fe<We;){var at=Ae[Fe];this.set(at[0],at[1])}}function Pe(){this.__data__=[]}function Ce(Ae){var Fe=this.__data__,We=dr(Fe,Ae);if(We<0)return!1;var at=Fe.length-1;return We==at?Fe.pop():lt.call(Fe,We,1),!0}function xe(Ae){var Fe=this.__data__,We=dr(Fe,Ae);return We<0?void 0:Fe[We][1]}function Ue(Ae){return dr(this.__data__,Ae)>-1}function Le(Ae,Fe){var We=this.__data__,at=dr(We,Ae);return at<0?We.push([Ae,Fe]):We[at][1]=Fe,this}At.prototype.clear=Pe,At.prototype.delete=Ce,At.prototype.get=xe,At.prototype.has=Ue,At.prototype.set=Le;function nt(Ae){var Fe=-1,We=Ae?Ae.length:0;for(this.clear();++Fe<We;){var at=Ae[Fe];this.set(at[0],at[1])}}function ht(){this.__data__={hash:new Et,map:new(Ze||At),string:new Et}}function wt(Ae){return ir(this,Ae).delete(Ae)}function Wt(Ae){return ir(this,Ae).get(Ae)}function Mt(Ae){return ir(this,Ae).has(Ae)}function sr(Ae,Fe){return ir(this,Ae).set(Ae,Fe),this}nt.prototype.clear=ht,nt.prototype.delete=wt,nt.prototype.get=Wt,nt.prototype.has=Mt,nt.prototype.set=sr;function pt(Ae){this.__data__=new At(Ae)}function ut(){this.__data__=new At}function cr(Ae){return this.__data__.delete(Ae)}function Ut(Ae){return this.__data__.get(Ae)}function zt(Ae){return this.__data__.has(Ae)}function Or(Ae,Fe){var We=this.__data__;if(We instanceof At){var at=We.__data__;if(!Ze||at.length<a-1)return at.push([Ae,Fe]),this;We=this.__data__=new nt(at)}return We.set(Ae,Fe),this}pt.prototype.clear=ut,pt.prototype.delete=cr,pt.prototype.get=Ut,pt.prototype.has=zt,pt.prototype.set=Or;function rr(Ae,Fe){var We=Mr(Ae)||Hr(Ae)?A(Ae.length,String):[],at=We.length,er=!!at;for(var gr in Ae)ye.call(Ae,gr)&&!(er&&(gr=="length"||Nr(gr,at)))&&We.push(gr);return We}function Yt(Ae,Fe,We){var at=Ae[Fe];(!(ye.call(Ae,Fe)&&sn(at,We))||We===void 0&&!(Fe in Ae))&&(Ae[Fe]=We)}function dr(Ae,Fe){for(var We=Ae.length;We--;)if(sn(Ae[We][0],Fe))return We;return-1}function nr(Ae,Fe){return Ae&&Ht(Fe,kr(Fe),Ae)}function Lr(Ae,Fe,We,at,er,gr,br){var pr;if(at&&(pr=gr?at(Ae,er,gr,br):at(Ae)),pr!==void 0)return pr;if(!wr(Ae))return Ae;var r=Mr(Ae);if(r){if(pr=nn(Ae),!Fe)return yr(Ae,pr)}else{var E=_r(Ae),S=E==h||E==v;if(un(Ae))return Ge(Ae,Fe);if(E==O||E==m||S&&!gr){if(ie(Ae))return gr?Ae:{};if(pr=qr(S?{}:Ae),!Fe)return ur(Ae,nr(pr,Ae))}else{if(!se[E])return gr?Ae:{};pr=hn(Ae,E,Lr,Fe)}}br||(br=new pt);var ue=br.get(Ae);if(ue)return ue;if(br.set(Ae,pr),!r)var Qe=We?Zt(Ae):kr(Ae);return z(Qe||Ae,function(Mn,Un){Qe&&(Un=Mn,Mn=Ae[Un]),Yt(pr,Un,Lr(Mn,Fe,We,at,Un,Ae,br))}),pr}function ve(Ae){return wr(Ae)?_t(Ae):{}}function Se(Ae,Fe,We){var at=Fe(Ae);return Mr(Ae)?at:d(at,We(Ae))}function Te(Ae){return Ie.call(Ae)}function Ne(Ae){if(!wr(Ae)||on(Ae))return!1;var Fe=zr(Ae)||ie(Ae)?je:le;return Fe.test(xr(Ae))}function Ke(Ae){if(!Dr(Ae))return $e(Ae);var Fe=[];for(var We in Object(Ae))ye.call(Ae,We)&&We!="constructor"&&Fe.push(We);return Fe}function Ge(Ae,Fe){if(Fe)return Ae.slice();var We=new Ae.constructor(Ae.length);return Ae.copy(We),We}function et(Ae){var Fe=new Ae.constructor(Ae.byteLength);return new it(Fe).set(new it(Ae)),Fe}function Ye(Ae,Fe){var We=Fe?et(Ae.buffer):Ae.buffer;return new Ae.constructor(We,Ae.byteOffset,Ae.byteLength)}function Rt(Ae,Fe,We){var at=Fe?We(pe(Ae),!0):pe(Ae);return P(at,_e,new Ae.constructor)}function $t(Ae){var Fe=new Ae.constructor(Ae.source,oe.exec(Ae));return Fe.lastIndex=Ae.lastIndex,Fe}function Qt(Ae,Fe,We){var at=Fe?We(u(Ae),!0):u(Ae);return P(at,Ee,new Ae.constructor)}function Xt(Ae){return kt?Object(kt.call(Ae)):{}}function lr(Ae,Fe){var We=Fe?et(Ae.buffer):Ae.buffer;return new Ae.constructor(We,Ae.byteOffset,Ae.length)}function yr(Ae,Fe){var We=-1,at=Ae.length;for(Fe||(Fe=Array(at));++We<at;)Fe[We]=Ae[We];return Fe}function Ht(Ae,Fe,We,at){We||(We={});for(var er=-1,gr=Fe.length;++er<gr;){var br=Fe[er],pr=void 0;Yt(We,br,pr===void 0?Ae[br]:pr)}return We}function ur(Ae,Fe){return Ht(Ae,Gr(Ae),Fe)}function Zt(Ae){return Se(Ae,kr,Gr)}function ir(Ae,Fe){var We=Ae.__data__;return Fr(Fe)?We[typeof Fe=="string"?"string":"hash"]:We.map}function vr(Ae,Fe){var We=$(Ae,Fe);return Ne(We)?We:void 0}var Gr=Ve?ne(Ve,Object):Yr,_r=Te;(Je&&_r(new Je(new ArrayBuffer(1)))!=D||Ze&&_r(new Ze)!=b||st&&_r(st.resolve())!=w||mt&&_r(new mt)!=_||bt&&_r(new bt)!=N)&&(_r=function(Ae){var Fe=Ie.call(Ae),We=Fe==O?Ae.constructor:void 0,at=We?xr(We):void 0;if(at)switch(at){case Jt:return D;case Gt:return b;case Nt:return w;case Lt:return _;case Pt:return N}return Fe});function nn(Ae){var Fe=Ae.length,We=Ae.constructor(Fe);return Fe&&typeof Ae[0]=="string"&&ye.call(Ae,"index")&&(We.index=Ae.index,We.input=Ae.input),We}function qr(Ae){return typeof Ae.constructor=="function"&&!Dr(Ae)?ve(dt(Ae)):{}}function hn(Ae,Fe,We,at){var er=Ae.constructor;switch(Fe){case L:return et(Ae);case l:case o:return new er(+Ae);case D:return Ye(Ae,at);case j:case k:case V:case G:case J:case W:case K:case X:case Y:return lr(Ae,at);case b:return Rt(Ae,at,We);case y:case T:return new er(Ae);case I:return $t(Ae);case _:return Qt(Ae,at,We);case C:return Xt(Ae)}}function Nr(Ae,Fe){return Fe=Fe??g,!!Fe&&(typeof Ae=="number"||ee.test(Ae))&&Ae>-1&&Ae%1==0&&Ae<Fe}function Fr(Ae){var Fe=typeof Ae;return Fe=="string"||Fe=="number"||Fe=="symbol"||Fe=="boolean"?Ae!=="__proto__":Ae===null}function on(Ae){return!!U&&U in Ae}function Dr(Ae){var Fe=Ae&&Ae.constructor,We=typeof Fe=="function"&&Fe.prototype||n;return Ae===We}function xr(Ae){if(Ae!=null){try{return Q.call(Ae)}catch{}try{return Ae+""}catch{}}return""}function an(Ae){return Lr(Ae,!0,!0)}function sn(Ae,Fe){return Ae===Fe||Ae!==Ae&&Fe!==Fe}function Hr(Ae){return Jr(Ae)&&ye.call(Ae,"callee")&&(!St.call(Ae,"callee")||Ie.call(Ae)==m)}var Mr=Array.isArray;function ln(Ae){return Ae!=null&&gn(Ae.length)&&!zr(Ae)}function Jr(Ae){return mn(Ae)&&ln(Ae)}var un=Me||Qr;function zr(Ae){var Fe=wr(Ae)?Ie.call(Ae):"";return Fe==h||Fe==v}function gn(Ae){return typeof Ae=="number"&&Ae>-1&&Ae%1==0&&Ae<=g}function wr(Ae){var Fe=typeof Ae;return!!Ae&&(Fe=="object"||Fe=="function")}function mn(Ae){return!!Ae&&typeof Ae=="object"}function kr(Ae){return ln(Ae)?rr(Ae):Ke(Ae)}function Yr(){return[]}function Qr(){return!1}e.exports=an})(lodash_clonedeep,lodash_clonedeep.exports)),lodash_clonedeep.exports}var freeze={},hasRequiredFreeze;function requireFreeze(){if(hasRequiredFreeze)return freeze;hasRequiredFreeze=1,Object.defineProperty(freeze,"__esModule",{value:!0}),freeze.deepFreeze=void 0;function e(t){return t&&(Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(a){t.hasOwnProperty(a)&&t[a]!==null&&(typeof t[a]=="object"||typeof t[a]=="function")&&t[a].constructor!==Buffer&&!Object.isFrozen(t[a])&&e(t[a])})),t}return freeze.deepFreeze=e,freeze}var sync={},hasRequiredSync;function requireSync(){if(hasRequiredSync)return sync;hasRequiredSync=1;var e=sync&&sync.__read||function(o,s){var h=typeof Symbol=="function"&&o[Symbol.iterator];if(!h)return o;var v=h.call(o),b,y=[],O;try{for(;(s===void 0||s-- >0)&&!(b=v.next()).done;)y.push(b.value)}catch(w){O={error:w}}finally{try{b&&!b.done&&(h=v.return)&&h.call(v)}finally{if(O)throw O.error}}return y},t=sync&&sync.__spread||function(){for(var o=[],s=0;s<arguments.length;s++)o=o.concat(e(arguments[s]));return o},a=sync&&sync.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(sync,"__esModule",{value:!0}),sync.syncMemoizer=void 0;var p=a(requireLruCache()),g=require$$1$3,m=a(requireLodash_clonedeep()),c=requireFreeze();function l(o){var s=new p.default(o),h=o.load,v=o.hash,b=o.bypass,y=o.itemMaxAge,O=o.freeze,w=o.clone,I=new g.EventEmitter,_=Object.assign({del:T,reset:function(){return s.reset()},keys:s.keys.bind(s),on:I.on.bind(I),once:I.once.bind(I)},o);if(o.disable)return Object.assign(h,_);function T(){var j=v.apply(void 0,t(arguments));s.del(j)}function C(j){for(var k=[],V=1;V<arguments.length;V++)k[V-1]=arguments[V];I.emit.apply(I,t([j],k))}function N(j){return j&&j.then&&typeof j.then=="function"}function L(j){var k=j;return w&&(N(k)?k=k.then(m.default):k=m.default(k)),O&&(N(k)?k=k.then(c.deepFreeze):c.deepFreeze(k)),k}var D=function(){for(var j=[],k=0;k<arguments.length;k++)j[k]=arguments[k];if(b&&b.apply(void 0,t(j)))return C.apply(void 0,t(["miss"],j)),h.apply(void 0,t(j));var V=v.apply(void 0,t(j)),G=s.get(V);if(G)return C.apply(void 0,t(["hit"],j)),L(G);C.apply(void 0,t(["miss"],j));var J=h.apply(void 0,t(j));return y?s.set(V,J,y.apply(void 0,t(j.concat([J])))):s.set(V,J),L(J)};return Object.assign(D,_)}return sync.syncMemoizer=l,sync}var hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var e=async&&async.__read||function(h,v){var b=typeof Symbol=="function"&&h[Symbol.iterator];if(!b)return h;var y=b.call(h),O,w=[],I;try{for(;(v===void 0||v-- >0)&&!(O=y.next()).done;)w.push(O.value)}catch(_){I={error:_}}finally{try{O&&!O.done&&(b=y.return)&&b.call(y)}finally{if(I)throw I.error}}return w},t=async&&async.__spread||function(){for(var h=[],v=0;v<arguments.length;v++)h=h.concat(e(arguments[v]));return h},a=async&&async.__values||function(h){var v=typeof Symbol=="function"&&Symbol.iterator,b=v&&h[v],y=0;if(b)return b.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},p=async&&async.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(async,"__esModule",{value:!0}),async.asyncMemoizer=void 0;var g=p(requireLruCache()),m=require$$1$3,c=p(requireLodash_clonedeep()),l=requireFreeze(),o=requireSync();function s(h){var v=new g.default(h),b=h.load,y=h.hash,O=h.bypass,w=h.itemMaxAge,I=h.freeze,_=h.clone,T=h.queueMaxAge||1e3,C=new Map,N=new m.EventEmitter,L=Object.assign({del:D,reset:function(){return v.reset()},keys:v.keys.bind(v),on:N.on.bind(N),once:N.once.bind(N)},h);if(h.disable)return Object.assign(b,L);function D(){for(var J=[],W=0;W<arguments.length;W++)J[W]=arguments[W];var K=y.apply(void 0,t(J));v.del(K)}function j(J,W,K){I&&K.forEach(l.deepFreeze),w?v.set(J,K,w.apply(void 0,t(W.concat(K)))):v.set(J,K)}function k(J,W){var K,X;try{for(var Y=a(J),te=Y.next();!te.done;te=Y.next()){var oe=te.value;_?setImmediate.apply(void 0,t([oe],W.map(c.default))):setImmediate.apply(void 0,t([oe],W))}}catch(le){K={error:le}}finally{try{te&&!te.done&&(X=Y.return)&&X.call(Y)}finally{if(K)throw K.error}}}function V(J){for(var W=[],K=1;K<arguments.length;K++)W[K-1]=arguments[K];N.emit.apply(N,t([J],W))}function G(){for(var J=[],W=0;W<arguments.length;W++)J[W]=arguments[W];var K=J.slice(0,-1),X=J.slice(-1).pop(),Y;if(O&&O.apply(void 0,t(K)))return V.apply(void 0,t(["miss"],K)),b.apply(void 0,t(J));K.length===0&&!y?Y="_":Y=y.apply(void 0,t(K));var te=v.get(Y);if(te)return V.apply(void 0,t(["hit"],K)),k([X],[null].concat(te));var oe=C.get(Y);if(oe&&oe.expiresAt>Date.now()){oe.queue.push(X),V.apply(void 0,t(["queue"],K));return}V.apply(void 0,t(["miss"],K));var le=Date.now(),ee=[X];C.set(Y,{queue:ee,expiresAt:le+T});var se=function(){for(var de=[],he=0;he<arguments.length;he++)de[he]=arguments[he];var ge=de[0];ge||j(Y,K,de.slice(1)),C.delete(Y),V.apply(void 0,t(["loaded",Date.now()-le],K)),k(ee,de)};b.apply(void 0,t(K,[se]))}return Object.assign(G,L)}return async.asyncMemoizer=s,s.sync=o.syncMemoizer,async}var lib$2,hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib$2;hasRequiredLib$2=1;var e=requireAsync();return lib$2=e.asyncMemoizer,lib$2}var hasRequiredCache;function requireCache(){if(hasRequiredCache)return cache;hasRequiredCache=1;const e=requireBrowser$2()("jwks"),t=requireLib$2(),{promisify:a,callbackify:p}=require$$1$3;function g(m,{cacheMaxEntries:c=5,cacheMaxAge:l=6e5}){return e(`Configured caching of signing keys. Max: ${c} / Age: ${l}`),a(t({hash:o=>o,load:p(m.getSigningKey.bind(m)),maxAge:l,max:c}))}return cache.default=g,cache}var rateLimit={},limiter={},tokenBucket,hasRequiredTokenBucket;function requireTokenBucket(){if(hasRequiredTokenBucket)return tokenBucket;hasRequiredTokenBucket=1;var e=function(t,a,p,g){if(this.bucketSize=t,this.tokensPerInterval=a,typeof p=="string")switch(p){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=1e3*60;break;case"hr":case"hour":this.interval=1e3*60*60;break;case"day":this.interval=1e3*60*60*24;break;default:throw new Error("Invaid interval "+p)}else this.interval=p;this.parentBucket=g,this.content=0,this.lastDrip=+new Date};return e.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(t,a){var p=this;if(!this.bucketSize)return process.nextTick(a.bind(null,null,t,Number.POSITIVE_INFINITY)),!0;if(t>this.bucketSize)return process.nextTick(a.bind(null,"Requested tokens "+t+" exceeds bucket size "+this.bucketSize,null)),!1;if(this.drip(),t>this.content)return g();if(this.parentBucket)return this.parentBucket.removeTokens(t,function(m,c){if(m)return a(m,null);if(t>p.content)return g();p.content-=t,a(null,Math.min(c,p.content))});return this.content-=t,process.nextTick(a.bind(null,null,this.content)),!0;function g(){var m=Math.ceil((t-p.content)*(p.interval/p.tokensPerInterval));return setTimeout(function(){p.removeTokens(t,a)},m),!1}},tryRemoveTokens:function(t){return this.bucketSize?t>this.bucketSize||(this.drip(),t>this.content)||this.parentBucket&&!this.parentBucket.tryRemoveTokens(t)?!1:(this.content-=t,!0):!0},drip:function(){if(!this.tokensPerInterval){this.content=this.bucketSize;return}var t=+new Date,a=Math.max(t-this.lastDrip,0);this.lastDrip=t;var p=a*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+p,this.bucketSize)}},tokenBucket=e,tokenBucket}var clock,hasRequiredClock;function requireClock(){if(hasRequiredClock)return clock;hasRequiredClock=1;var e=function(){if(typeof process<"u"&&process.hrtime){var t=process.hrtime(),a=t[0],p=t[1];return a*1e3+Math.floor(p/1e6)}return new Date().getTime()};return clock=e,clock}var rateLimiter$1,hasRequiredRateLimiter$1;function requireRateLimiter$1(){if(hasRequiredRateLimiter$1)return rateLimiter$1;hasRequiredRateLimiter$1=1;var e=requireTokenBucket(),t=requireClock(),a=function(p,g,m){this.tokenBucket=new e(p,p,g,null),this.tokenBucket.content=p,this.curIntervalStart=t(),this.tokensThisInterval=0,this.fireImmediately=m};return a.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(p,g){if(p>this.tokenBucket.bucketSize)return process.nextTick(g.bind(null,"Requested tokens "+p+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var m=this,c=t();if((c<this.curIntervalStart||c-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=c,this.tokensThisInterval=0),p>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(g.bind(null,null,-1));else{var l=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-c);setTimeout(function(){m.tokenBucket.removeTokens(p,o)},l)}return!1}return this.tokenBucket.removeTokens(p,o);function o(s,h){if(s)return g(s,null);m.tokensThisInterval+=p,g(null,h)}},tryRemoveTokens:function(p){if(p>this.tokenBucket.bucketSize)return!1;var g=t();if((g<this.curIntervalStart||g-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=g,this.tokensThisInterval=0),p>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var m=this.tokenBucket.tryRemoveTokens(p);return m&&(this.tokensThisInterval+=p),m},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},rateLimiter$1=a,rateLimiter$1}var hasRequiredLimiter;function requireLimiter(){return hasRequiredLimiter||(hasRequiredLimiter=1,limiter.RateLimiter=requireRateLimiter$1(),limiter.TokenBucket=requireTokenBucket()),limiter}var JwksRateLimitError_1,hasRequiredJwksRateLimitError;function requireJwksRateLimitError(){if(hasRequiredJwksRateLimitError)return JwksRateLimitError_1;hasRequiredJwksRateLimitError=1;function e(t){Error.call(this,t),Error.captureStackTrace(this,this.constructor),this.name="JwksRateLimitError",this.message=t}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,JwksRateLimitError_1=e,JwksRateLimitError_1}var hasRequiredRateLimit;function requireRateLimit(){if(hasRequiredRateLimit)return rateLimit;hasRequiredRateLimit=1;const e=requireBrowser$2()("jwks"),{RateLimiter:t}=requireLimiter(),a=requireJwksRateLimitError();function p(g,{jwksRequestsPerMinute:m=10}){const c=g.getSigningKey.bind(g),l=new t(m,"minute",!0);return e(`Configured rate limiting to JWKS endpoint at ${m}/minute`),async o=>await new Promise((s,h)=>{l.removeTokens(1,async(v,b)=>{if(v&&h(v),e("Requests to the JWKS endpoint available for the next minute:",b),b<0)e("Too many requests to the JWKS endpoint"),h(new a("Too many requests to the JWKS endpoint"));else try{const y=await c(o);s(y)}catch(y){h(y)}})})}return rateLimit.default=p,rateLimit}var interceptor={},hasRequiredInterceptor;function requireInterceptor(){if(hasRequiredInterceptor)return interceptor;hasRequiredInterceptor=1;const e=requireUtils$1().retrieveSigningKeys;function t(a,{getKeysInterceptor:p}){const g=a.getSigningKey.bind(a);return async m=>{const c=await p();let l;if(c&&c.length&&(l=await e(c)),l&&l.length){const o=l.find(s=>!m||s.kid===m);if(o)return o}return g(m)}}return interceptor.default=t,interceptor}var callbackSupport={},hasRequiredCallbackSupport;function requireCallbackSupport(){if(hasRequiredCallbackSupport)return callbackSupport;hasRequiredCallbackSupport=1;const{callbackify:e}=require$$1$3,t=a=>{const p=a.getSigningKey.bind(a);return(g,m)=>m?e(p)(g,m):p(g)};return callbackSupport.default=t,callbackSupport}var wrappers$2,hasRequiredWrappers$2;function requireWrappers$2(){return hasRequiredWrappers$2||(hasRequiredWrappers$2=1,wrappers$2={request:requireRequest().default,cacheSigningKey:requireCache().default,rateLimitSigningKey:requireRateLimit().default,getKeysInterceptor:requireInterceptor().default,callbackSupport:requireCallbackSupport().default}),wrappers$2}var SigningKeyNotFoundError_1,hasRequiredSigningKeyNotFoundError;function requireSigningKeyNotFoundError(){if(hasRequiredSigningKeyNotFoundError)return SigningKeyNotFoundError_1;hasRequiredSigningKeyNotFoundError=1;function e(t){Error.call(this,t),Error.captureStackTrace(this,this.constructor),this.name="SigningKeyNotFoundError",this.message=t}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,SigningKeyNotFoundError_1=e,SigningKeyNotFoundError_1}var JwksClient_1,hasRequiredJwksClient;function requireJwksClient(){if(hasRequiredJwksClient)return JwksClient_1;hasRequiredJwksClient=1;const e=requireBrowser$2()("jwks"),{retrieveSigningKeys:t}=requireUtils$1(),{request:a,cacheSigningKey:p,rateLimitSigningKey:g,getKeysInterceptor:m,callbackSupport:c}=requireWrappers$2(),l=requireJwksError(),o=requireSigningKeyNotFoundError();class s{constructor(v){this.options={rateLimit:!1,cache:!0,timeout:3e4,...v},this.options.getKeysInterceptor&&(this.getSigningKey=m(this,v)),this.options.rateLimit&&(this.getSigningKey=g(this,v)),this.options.cache&&(this.getSigningKey=p(this,v)),this.getSigningKey=c(this,v)}async getKeys(){e(`Fetching keys from '${this.options.jwksUri}'`);try{const v=await a({uri:this.options.jwksUri,headers:this.options.requestHeaders,agent:this.options.requestAgent,timeout:this.options.timeout,fetcher:this.options.fetcher});return e("Keys:",v.keys),v.keys}catch(v){const{errorMsg:b}=v;throw e("Failure:",b||v),b?new l(b):v}}async getSigningKeys(){const v=await this.getKeys();if(!v||!v.length)throw new l("The JWKS endpoint did not contain any keys");const b=await t(v);if(!b.length)throw new l("The JWKS endpoint did not contain any signing keys");return e("Signing Keys:",b),b}async getSigningKey(v){e(`Fetching signing key for '${v}'`);const b=await this.getSigningKeys(),y=v!=null;if(!y&&b.length>1)throw e("No KID specified and JWKS endpoint returned more than 1 key"),new o("No KID specified and JWKS endpoint returned more than 1 key");const O=b.find(w=>!y||w.kid===v);if(O)return O;throw e(`Unable to find a signing key that matches '${v}'`),new o(`Unable to find a signing key that matches '${v}'`)}}return JwksClient_1={JwksClient:s},JwksClient_1}var ArgumentError_1,hasRequiredArgumentError;function requireArgumentError(){if(hasRequiredArgumentError)return ArgumentError_1;hasRequiredArgumentError=1;function e(t){Error.call(this,t),Error.captureStackTrace(this,this.constructor),this.name="ArgumentError",this.message=t}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,ArgumentError_1=e,ArgumentError_1}var errors,hasRequiredErrors;function requireErrors(){return hasRequiredErrors||(hasRequiredErrors=1,errors={ArgumentError:requireArgumentError(),JwksError:requireJwksError(),JwksRateLimitError:requireJwksRateLimitError(),SigningKeyNotFoundError:requireSigningKeyNotFoundError()}),errors}var hapi={exports:{}},config,hasRequiredConfig;function requireConfig(){return hasRequiredConfig||(hasRequiredConfig=1,config=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES256K","ES384","ES512","EdDSA"]),config}var hasRequiredHapi;function requireHapi(){return hasRequiredHapi||(hasRequiredHapi=1,(function(e){const{ArgumentError:t}=requireErrors(),{JwksClient:a}=requireJwksClient(),p=requireConfig(),g=(m,c)=>{if(m&&m.name==="SigningKeyNotFoundError"||m)return c(m,null,null)};e.exports.hapiJwt2KeyAsync=m=>{const c=e.exports.hapiJwt2Key(m);return function(l){return new Promise((o,s)=>{c(l,(v,b)=>{!b||v?s(v):o({key:b})})})}},e.exports.hapiJwt2Key=function(m){if(m==null)throw new t("An options object must be provided when initializing hapiJwt2Key");const c=new a(m),l=m.handleSigningKeyError||g;return function(s,h){if(!s||!s.header)return h(new Error("Cannot find a signing certificate if there is no header"),null,null);if(!p.includes(s.header.alg))return h(new Error("Unsupported algorithm "+s.header.alg+" supplied."),null,null);c.getSigningKey(s.header.kid).then(v=>h(null,v.publicKey||v.rsaPublicKey,v)).catch(v=>l(v,b=>h(b,null,null)))}}})(hapi)),hapi.exports}var express={},hasRequiredExpress;function requireExpress(){if(hasRequiredExpress)return express;hasRequiredExpress=1;const{ArgumentError:e}=requireErrors(),{JwksClient:t}=requireJwksClient(),a=requireConfig(),p=(g,m)=>{if(g&&g.name==="SigningKeyNotFoundError")return m(null);if(g)return m(g)};return express.expressJwtSecret=function(g){if(g==null)throw new e("An options object must be provided when initializing expressJwtSecret");const m=new t(g),c=g.handleSigningKeyError||p,l=async(o,s)=>{if(!s)return;const h=s.header;if(!(!h||!a.includes(h.alg)))try{const v=await m.getSigningKey(h.kid);return v.publicKey||v.rsaPublicKey}catch(v){return new Promise((b,y)=>{c(v,O=>{if(!O)return b();y(O)})})}};return function(s,h,v,b){if(arguments.length===4){l(s,{header:h}).then(y=>{setImmediate(b,null,y)}).catch(y=>{setImmediate(b,y)});return}return l(s,arguments[1])}},express}var koa={},hasRequiredKoa;function requireKoa(){if(hasRequiredKoa)return koa;hasRequiredKoa=1;const{ArgumentError:e}=requireErrors(),{JwksClient:t}=requireJwksClient(),a=requireConfig();return koa.koaJwtSecret=function(p={}){if(!p.jwksUri)throw new e("No JWKS provided. Please provide a jwksUri");const g=new t(p);return function({alg:c,kid:l}={}){return new Promise((o,s)=>{if(!a.includes(c))return s(new Error("Missing / invalid token algorithm"));g.getSigningKey(l).then(h=>{o(h.publicKey||h.rsaPublicKey)}).catch(h=>p.handleSigningKeyError?p.handleSigningKeyError(h).then(s):s(h))})}},koa}var passport={},hasRequiredPassport;function requirePassport(){if(hasRequiredPassport)return passport;hasRequiredPassport=1;const e=require$$0$3,{ArgumentError:t}=requireErrors(),{JwksClient:a}=requireJwksClient(),p=requireConfig(),g=(m,c)=>{if(m&&m.name==="SigningKeyNotFoundError")return c(null);if(m)return c(m)};return passport.passportJwtSecret=function(m){if(m==null)throw new t("An options object must be provided when initializing passportJwtSecret");if(!m.jwksUri)throw new t("No JWKS provided. Please provide a jwksUri");const c=new a(m),l=m.handleSigningKeyError||g;return function(s,h,v){let b;try{b={payload:e.decodeJwt(h),header:e.decodeProtectedHeader(h)}}catch{b=null}if(!b||!p.includes(b.header.alg))return v(null,null);c.getSigningKey(b.header.kid).then(y=>{v(null,y.publicKey||y.rsaPublicKey)}).catch(y=>{l(y,O=>v(O,null))})}},passport}var hasRequiredSrc$a;function requireSrc$a(){if(hasRequiredSrc$a)return src$a.exports;hasRequiredSrc$a=1;const{JwksClient:e}=requireJwksClient(),t=requireErrors(),{hapiJwt2Key:a,hapiJwt2KeyAsync:p}=requireHapi(),{expressJwtSecret:g}=requireExpress(),{koaJwtSecret:m}=requireKoa(),{passportJwtSecret:c}=requirePassport();return src$a.exports=l=>new e(l),src$a.exports.JwksClient=e,src$a.exports.ArgumentError=t.ArgumentError,src$a.exports.JwksError=t.JwksError,src$a.exports.JwksRateLimitError=t.JwksRateLimitError,src$a.exports.SigningKeyNotFoundError=t.SigningKeyNotFoundError,src$a.exports.expressJwtSecret=g,src$a.exports.hapiJwt2Key=a,src$a.exports.hapiJwt2KeyAsync=p,src$a.exports.koaJwtSecret=m,src$a.exports.passportJwtSecret=c,src$a.exports}var hasRequiredJwt;function requireJwt(){return hasRequiredJwt||(hasRequiredJwt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.JwtErrorCode=e.JwtError=e.EmulatorSignatureVerifier=e.PublicKeySignatureVerifier=e.UrlKeyFetcher=e.JwksFetcher=e.ALGORITHM_RS256=void 0,e.verifyJwtSignature=O,e.decodeJwt=w;const t=requireValidator$1(),a=requireJsonwebtoken(),p=requireSrc$a(),g=requireApiRequest();e.ALGORITHM_RS256="RS256";const m="error in secret or public key callback: ",c="no-matching-kid-error",l="no-kid-in-header-error",o=3600;class s{constructor(C,N){if(this.publicKeysExpireAt=0,!t.isURL(C))throw new Error("The provided JWKS URL is not a valid URL.");this.client=p({jwksUri:C,cache:!1,requestAgent:N})}fetchPublicKeys(){return this.shouldRefresh()?this.refresh():Promise.resolve(this.publicKeys)}shouldRefresh(){return!this.publicKeys||this.publicKeysExpireAt<=Date.now()}refresh(){return this.client.getSigningKeys().then(C=>{this.publicKeysExpireAt=0;const N=C.reduce((L,D)=>(L[D.kid]=D.getPublicKey(),L),{});return this.publicKeysExpireAt=Date.now()+o*6*1e3,this.publicKeys=N,N}).catch(C=>{throw new Error(`Error fetching Json Web Keys: ${C.message}`)})}}e.JwksFetcher=s;class h{constructor(C,N){if(this.clientCertUrl=C,this.httpAgent=N,this.publicKeysExpireAt=0,!t.isURL(C))throw new Error("The provided public client certificate URL is not a valid URL.")}fetchPublicKeys(){return this.shouldRefresh()?this.refresh():Promise.resolve(this.publicKeys)}shouldRefresh(){return!this.publicKeys||this.publicKeysExpireAt<=Date.now()}refresh(){const C=new g.HttpClient,N={method:"GET",url:this.clientCertUrl,httpAgent:this.httpAgent};return C.send(N).then(L=>{if(!L.isJson()||L.data.error)throw new g.RequestResponseError(L);return this.publicKeysExpireAt=0,Object.prototype.hasOwnProperty.call(L.headers,"cache-control")&&L.headers["cache-control"].split(",").forEach(k=>{const V=k.trim().split("=");if(V[0]==="max-age"){const G=+V[1];this.publicKeysExpireAt=Date.now()+G*1e3}}),this.publicKeys=L.data,L.data}).catch(L=>{if(L instanceof g.RequestResponseError){let D="Error fetching public keys for Google certs: ";const j=L.response;throw j.isJson()&&j.data.error?(D+=`${j.data.error}`,j.data.error_description&&(D+=" ("+j.data.error_description+")")):D+=`${j.text}`,new Error(D)}throw L})}}e.UrlKeyFetcher=h;class v{constructor(C){if(this.keyFetcher=C,!t.isNonNullObject(C))throw new Error("The provided key fetcher is not an object or null.")}static withCertificateUrl(C,N){return new v(new h(C,N))}static withJwksUrl(C,N){return new v(new s(C,N))}verify(C){return t.isString(C)?O(C,y(this.keyFetcher),{algorithms:[e.ALGORITHM_RS256]}).catch(N=>{if(N.code===_.NO_KID_IN_HEADER)return this.verifyWithoutKid(C);throw N}):Promise.reject(new I(_.INVALID_ARGUMENT,"The provided token must be a string."))}verifyWithoutKid(C){return this.keyFetcher.fetchPublicKeys().then(N=>this.verifyWithAllKeys(C,N))}verifyWithAllKeys(C,N){const L=[];return Object.values(N).forEach(D=>{const j=O(C,D).then(()=>!0).catch(k=>{if(k.code===_.TOKEN_EXPIRED)throw k;return!1});L.push(j)}),Promise.all(L).then(D=>{if(D.every(j=>j===!1))throw new I(_.INVALID_SIGNATURE,"Invalid token signature.")})}}e.PublicKeySignatureVerifier=v;class b{verify(C){return O(C,void 0,{algorithms:["none"]})}}e.EmulatorSignatureVerifier=b;function y(T){return(C,N)=>{C.kid||N(new Error(l));const L=C.kid||"";T.fetchPublicKeys().then(D=>{Object.prototype.hasOwnProperty.call(D,L)?N(null,D[L]):N(new Error(c))}).catch(D=>{N(D)})}}function O(T,C,N){return t.isString(T)?new Promise((L,D)=>{a.verify(T,C,N,j=>{if(!j)return L();if(j.name==="TokenExpiredError")return D(new I(_.TOKEN_EXPIRED,"The provided token has expired. Get a fresh token from your client app and try again."));if(j.name==="JsonWebTokenError"&&j.message&&j.message.includes(m)){const k=j.message.split(m).pop()||"Error fetching public keys.";let V=_.KEY_FETCH_ERROR;return k===c?V=_.NO_MATCHING_KID:k===l&&(V=_.NO_KID_IN_HEADER),D(new I(V,k))}return D(new I(_.INVALID_SIGNATURE,j.message))})}):Promise.reject(new I(_.INVALID_ARGUMENT,"The provided token must be a string."))}function w(T){if(!t.isString(T))return Promise.reject(new I(_.INVALID_ARGUMENT,"The provided token must be a string."));const C=a.decode(T,{complete:!0});if(!C)return Promise.reject(new I(_.INVALID_ARGUMENT,"Decoding token failed."));const N=C?.header,L=C?.payload;return Promise.resolve({header:N,payload:L})}class I extends Error{constructor(C,N){super(N),this.code=C,this.message=N,this.__proto__=I.prototype}}e.JwtError=I;var _;(function(T){T.INVALID_ARGUMENT="invalid-argument",T.INVALID_CREDENTIAL="invalid-credential",T.TOKEN_EXPIRED="token-expired",T.INVALID_SIGNATURE="invalid-token",T.NO_MATCHING_KID="no-matching-kid-error",T.NO_KID_IN_HEADER="no-kid-error",T.KEY_FETCH_ERROR="key-fetch-error"})(_||(e.JwtErrorCode=_={}))})(jwt)),jwt}var hasRequiredTokenVerifier$1;function requireTokenVerifier$1(){return hasRequiredTokenVerifier$1||(hasRequiredTokenVerifier$1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FirebaseTokenVerifier=e.SESSION_COOKIE_INFO=e.AUTH_BLOCKING_TOKEN_INFO=e.ID_TOKEN_INFO=void 0,e.createIdTokenVerifier=h,e.createAuthBlockingTokenVerifier=v,e.createSessionCookieVerifier=b;const t=requireError(),a=requireUtils$2(),p=requireValidator$1(),g=requireJwt(),m="https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit",c="https://www.googleapis.com/robot/v1/metadata/x509/securetoken@system.gserviceaccount.com",l="https://www.googleapis.com/identitytoolkit/v3/relyingparty/publicKeys",o=new g.EmulatorSignatureVerifier;e.ID_TOKEN_INFO={url:"https://firebase.google.com/docs/auth/admin/verify-id-tokens",verifyApiName:"verifyIdToken()",jwtName:"Firebase ID token",shortName:"ID token",expiredErrorCode:t.AuthClientErrorCode.ID_TOKEN_EXPIRED},e.AUTH_BLOCKING_TOKEN_INFO={url:"https://cloud.google.com/identity-platform/docs/blocking-functions",verifyApiName:"_verifyAuthBlockingToken()",jwtName:"Firebase Auth Blocking token",shortName:"Auth Blocking token",expiredErrorCode:t.AuthClientErrorCode.AUTH_BLOCKING_TOKEN_EXPIRED},e.SESSION_COOKIE_INFO={url:"https://firebase.google.com/docs/auth/admin/manage-cookies",verifyApiName:"verifySessionCookie()",jwtName:"Firebase session cookie",shortName:"session cookie",expiredErrorCode:t.AuthClientErrorCode.SESSION_COOKIE_EXPIRED};class s{constructor(O,w,I,_){if(this.issuer=w,this.tokenInfo=I,this.app=_,p.isURL(O))if(p.isURL(w))if(p.isNonNullObject(I))if(p.isURL(I.url))if(p.isNonEmptyString(I.verifyApiName))if(p.isNonEmptyString(I.jwtName))if(p.isNonEmptyString(I.shortName)){if(!p.isNonNullObject(I.expiredErrorCode)||!("code"in I.expiredErrorCode))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT expiration error code must be a non-null ErrorInfo object.")}else throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT public short name must be a non-empty string.");else throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT public full name must be a non-empty string.");else throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT verify API name must be a non-empty string.");else throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT verification documentation URL is invalid.");else throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT information is not an object or null.");else throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT issuer is an invalid URL.");else throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"The provided public client certificate URL is an invalid URL.");this.shortNameArticle=I.shortName.charAt(0).match(/[aeiou]/i)?"an":"a",this.signatureVerifier=g.PublicKeySignatureVerifier.withCertificateUrl(O,_.options.httpAgent)}verifyJWT(O,w=!1){if(!p.isString(O))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,`First argument to ${this.tokenInfo.verifyApiName} must be a ${this.tokenInfo.jwtName} string.`);return this.ensureProjectId().then(I=>this.decodeAndVerify(O,I,w)).then(I=>{const _=I.payload;return _.uid=_.sub,_})}_verifyAuthBlockingToken(O,w,I){if(!p.isString(O))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,`First argument to ${this.tokenInfo.verifyApiName} must be a ${this.tokenInfo.jwtName} string.`);return this.ensureProjectId().then(_=>(typeof I>"u"&&(I=`${_}.cloudfunctions.net/`),this.decodeAndVerify(O,_,w,I))).then(_=>{const T=_.payload;return T.uid=T.sub,T})}ensureProjectId(){return a.findProjectId(this.app).then(O=>{if(!p.isNonEmptyString(O))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CREDENTIAL,`Must initialize app with a cert credential or set your Firebase project ID as the GOOGLE_CLOUD_PROJECT environment variable to call ${this.tokenInfo.verifyApiName}.`);return Promise.resolve(O)})}decodeAndVerify(O,w,I,_){return this.safeDecode(O).then(T=>(this.verifyContent(T,w,I,_),this.verifySignature(O,I).then(()=>T)))}safeDecode(O){return(0,g.decodeJwt)(O).catch(w=>{if(w.code===g.JwtErrorCode.INVALID_ARGUMENT){const I=` See ${this.tokenInfo.url} for details on how to retrieve ${this.shortNameArticle} ${this.tokenInfo.shortName}.`,_=`Decoding ${this.tokenInfo.jwtName} failed. Make sure you passed the entire string JWT which represents ${this.shortNameArticle} ${this.tokenInfo.shortName}.`+I;throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,_)}throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,w.message)})}verifyContent(O,w,I,_){const T=O&&O.header,C=O&&O.payload,N=` Make sure the ${this.tokenInfo.shortName} comes from the same Firebase project as the service account used to authenticate this SDK.`,L=` See ${this.tokenInfo.url} for details on how to retrieve ${this.shortNameArticle} ${this.tokenInfo.shortName}.`;let D;if(!I&&typeof T.kid>"u"){const j=C.aud===m,k=T.alg==="HS256"&&C.v===0&&"d"in C&&"uid"in C.d;j?D=`${this.tokenInfo.verifyApiName} expects ${this.shortNameArticle} ${this.tokenInfo.shortName}, but was given a custom token.`:k?D=`${this.tokenInfo.verifyApiName} expects ${this.shortNameArticle} ${this.tokenInfo.shortName}, but was given a legacy custom token.`:D=`${this.tokenInfo.jwtName} has no "kid" claim.`,D+=L}else!I&&T.alg!==g.ALGORITHM_RS256?D=`${this.tokenInfo.jwtName} has incorrect algorithm. Expected "`+g.ALGORITHM_RS256+'" but got "'+T.alg+'".'+L:typeof _<"u"&&!C.aud.includes(_)?D=`${this.tokenInfo.jwtName} has incorrect "aud" (audience) claim. Expected "`+_+'" but got "'+C.aud+'".'+L:typeof _>"u"&&C.aud!==w?D=`${this.tokenInfo.jwtName} has incorrect "aud" (audience) claim. Expected "`+w+'" but got "'+C.aud+'".'+N+L:C.iss!==this.issuer+w?D=`${this.tokenInfo.jwtName} has incorrect "iss" (issuer) claim. Expected "${this.issuer}`+w+'" but got "'+C.iss+'".'+N+L:C.event_type!==void 0&&(C.event_type==="beforeSendSms"||C.event_type==="beforeSendEmail")||(typeof C.sub!="string"?D=`${this.tokenInfo.jwtName} has no "sub" (subject) claim.`+L:C.sub===""?D=`${this.tokenInfo.jwtName} has an empty "sub" (subject) claim.`+L:C.sub.length>128&&(D=`${this.tokenInfo.jwtName} has a "sub" (subject) claim longer than 128 characters.`+L));if(D)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,D)}verifySignature(O,w){return(w?o:this.signatureVerifier).verify(O).catch(_=>{throw this.mapJwtErrorToAuthError(_)})}mapJwtErrorToAuthError(O){const w=` See ${this.tokenInfo.url} for details on how to retrieve ${this.shortNameArticle} ${this.tokenInfo.shortName}.`;if(O.code===g.JwtErrorCode.TOKEN_EXPIRED){const I=`${this.tokenInfo.jwtName} has expired. Get a fresh ${this.tokenInfo.shortName} from your client app and try again (auth/${this.tokenInfo.expiredErrorCode.code}).`+w;return new t.FirebaseAuthError(this.tokenInfo.expiredErrorCode,I)}else if(O.code===g.JwtErrorCode.INVALID_SIGNATURE){const I=`${this.tokenInfo.jwtName} has invalid signature.`+w;return new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,I)}else if(O.code===g.JwtErrorCode.NO_MATCHING_KID){const I=`${this.tokenInfo.jwtName} has "kid" claim which does not correspond to a known public key. Most likely the ${this.tokenInfo.shortName} is expired, so get a fresh token from your client app and try again.`;return new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,I)}return new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,O.message)}}e.FirebaseTokenVerifier=s;function h(y){return new s(c,"https://securetoken.google.com/",e.ID_TOKEN_INFO,y)}function v(y){return new s(c,"https://securetoken.google.com/",e.AUTH_BLOCKING_TOKEN_INFO,y)}function b(y){return new s(l,"https://session.firebase.google.com/",e.SESSION_COOKIE_INFO,y)}})(tokenVerifier$1)),tokenVerifier$1}var userRecord={};var hasRequiredUserRecord;function requireUserRecord(){if(hasRequiredUserRecord)return userRecord;hasRequiredUserRecord=1;Object.defineProperty(userRecord,"__esModule",{value:!0}),userRecord.UserRecord=userRecord.UserInfo=userRecord.UserMetadata=userRecord.MultiFactorSettings=userRecord.TotpMultiFactorInfo=userRecord.TotpInfo=userRecord.PhoneMultiFactorInfo=userRecord.MultiFactorInfo=void 0;const e=requireDeepCopy(),t=requireValidator$1(),a=requireUtils$2(),p=requireError(),g=Buffer.from("REDACTED").toString("base64");function m(w){try{const I=new Date(parseInt(w,10));if(!isNaN(I.getTime()))return I.toUTCString()}catch{}return null}var c;(function(w){w.Phone="phone",w.Totp="totp"})(c||(c={}));class l{static initMultiFactorInfo(I){let _=null;try{I.phoneInfo!==void 0?_=new o(I):I.totpInfo!==void 0&&(_=new h(I))}catch{}return _}constructor(I){this.initFromServerResponse(I)}toJSON(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}}initFromServerResponse(I){const _=I&&this.getFactorId(I);if(!_||!I||!I.mfaEnrollmentId)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor info response");a.addReadonlyGetter(this,"uid",I.mfaEnrollmentId),a.addReadonlyGetter(this,"factorId",_),a.addReadonlyGetter(this,"displayName",I.displayName),I.enrolledAt?a.addReadonlyGetter(this,"enrollmentTime",new Date(I.enrolledAt).toUTCString()):a.addReadonlyGetter(this,"enrollmentTime",null)}}userRecord.MultiFactorInfo=l;class o extends l{constructor(I){super(I),a.addReadonlyGetter(this,"phoneNumber",I.phoneInfo)}toJSON(){return Object.assign(super.toJSON(),{phoneNumber:this.phoneNumber})}getFactorId(I){return I&&I.phoneInfo?c.Phone:null}}userRecord.PhoneMultiFactorInfo=o;class s{}userRecord.TotpInfo=s;class h extends l{constructor(I){super(I),a.addReadonlyGetter(this,"totpInfo",I.totpInfo)}toJSON(){return Object.assign(super.toJSON(),{totpInfo:this.totpInfo})}getFactorId(I){return I&&I.totpInfo?c.Totp:null}}userRecord.TotpMultiFactorInfo=h;class v{constructor(I){const _=[];if((0,t.isNonNullObject)(I))I.mfaInfo&&I.mfaInfo.forEach(T=>{const C=l.initMultiFactorInfo(T);C&&_.push(C)});else throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor response");a.addReadonlyGetter(this,"enrolledFactors",Object.freeze(_))}toJSON(){return{enrolledFactors:this.enrolledFactors.map(I=>I.toJSON())}}}userRecord.MultiFactorSettings=v;class b{constructor(I){a.addReadonlyGetter(this,"creationTime",m(I.createdAt)),a.addReadonlyGetter(this,"lastSignInTime",m(I.lastLoginAt));const _=I.lastRefreshAt?new Date(I.lastRefreshAt).toUTCString():null;a.addReadonlyGetter(this,"lastRefreshTime",_)}toJSON(){return{lastSignInTime:this.lastSignInTime,creationTime:this.creationTime,lastRefreshTime:this.lastRefreshTime}}}userRecord.UserMetadata=b;class y{constructor(I){if(!I.rawId||!I.providerId)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid user info response");a.addReadonlyGetter(this,"uid",I.rawId),a.addReadonlyGetter(this,"displayName",I.displayName),a.addReadonlyGetter(this,"email",I.email),a.addReadonlyGetter(this,"photoURL",I.photoUrl),a.addReadonlyGetter(this,"providerId",I.providerId),a.addReadonlyGetter(this,"phoneNumber",I.phoneNumber)}toJSON(){return{uid:this.uid,displayName:this.displayName,email:this.email,photoURL:this.photoURL,providerId:this.providerId,phoneNumber:this.phoneNumber}}}userRecord.UserInfo=y;class O{constructor(I){if(!I.localId)throw new p.FirebaseAuthError(p.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid user response");a.addReadonlyGetter(this,"uid",I.localId),a.addReadonlyGetter(this,"email",I.email),a.addReadonlyGetter(this,"emailVerified",!!I.emailVerified),a.addReadonlyGetter(this,"displayName",I.displayName),a.addReadonlyGetter(this,"photoURL",I.photoUrl),a.addReadonlyGetter(this,"phoneNumber",I.phoneNumber),a.addReadonlyGetter(this,"disabled",I.disabled||!1),a.addReadonlyGetter(this,"metadata",new b(I));const _=[];for(const N of I.providerUserInfo||[])_.push(new y(N));a.addReadonlyGetter(this,"providerData",_),I.passwordHash===g?a.addReadonlyGetter(this,"passwordHash",void 0):a.addReadonlyGetter(this,"passwordHash",I.passwordHash),a.addReadonlyGetter(this,"passwordSalt",I.salt),I.customAttributes&&a.addReadonlyGetter(this,"customClaims",JSON.parse(I.customAttributes));let T=null;typeof I.validSince<"u"&&(T=m(parseInt(I.validSince,10)*1e3)),a.addReadonlyGetter(this,"tokensValidAfterTime",T||void 0),a.addReadonlyGetter(this,"tenantId",I.tenantId);const C=new v(I);C.enrolledFactors.length>0&&a.addReadonlyGetter(this,"multiFactor",C)}toJSON(){const I={uid:this.uid,email:this.email,emailVerified:this.emailVerified,displayName:this.displayName,photoURL:this.photoURL,phoneNumber:this.phoneNumber,disabled:this.disabled,metadata:this.metadata.toJSON(),passwordHash:this.passwordHash,passwordSalt:this.passwordSalt,customClaims:(0,e.deepCopy)(this.customClaims),tokensValidAfterTime:this.tokensValidAfterTime,tenantId:this.tenantId};this.multiFactor&&(I.multiFactor=this.multiFactor.toJSON()),I.providerData=[];for(const _ of this.providerData)I.providerData.push(_.toJSON());return I}}return userRecord.UserRecord=O,userRecord}var hasRequiredBaseAuth;function requireBaseAuth(){if(hasRequiredBaseAuth)return baseAuth;hasRequiredBaseAuth=1;Object.defineProperty(baseAuth,"__esModule",{value:!0}),baseAuth.BaseAuth=void 0,baseAuth.createFirebaseTokenGenerator=h;const e=requireError(),t=requireDeepCopy(),a=requireValidator$1(),p=requireAuthApiRequest(),g=requireTokenGenerator$1(),m=requireTokenVerifier$1(),c=requireAuthConfig(),l=requireUserRecord(),o=requireIdentifier(),s=requireCryptoSigner();function h(b,y){try{const O=(0,p.useEmulator)()?new g.EmulatedSigner:(0,s.cryptoSignerFromApp)(b);return new g.FirebaseTokenGenerator(O,y)}catch(O){throw(0,g.handleCryptoSignerError)(O)}}class v{constructor(y,O,w){this.authRequestHandler=O,w?this.tokenGenerator=w:this.tokenGenerator=h(y),this.sessionCookieVerifier=(0,m.createSessionCookieVerifier)(y),this.idTokenVerifier=(0,m.createIdTokenVerifier)(y),this.authBlockingTokenVerifier=(0,m.createAuthBlockingTokenVerifier)(y)}createCustomToken(y,O){return this.tokenGenerator.createCustomToken(y,O)}verifyIdToken(y,O=!1){const w=(0,p.useEmulator)();return this.idTokenVerifier.verifyJWT(y,w).then(I=>O||w?this.verifyDecodedJWTNotRevokedOrDisabled(I,e.AuthClientErrorCode.ID_TOKEN_REVOKED):I)}getUser(y){return this.authRequestHandler.getAccountInfoByUid(y).then(O=>new l.UserRecord(O.users[0]))}getUserByEmail(y){return this.authRequestHandler.getAccountInfoByEmail(y).then(O=>new l.UserRecord(O.users[0]))}getUserByPhoneNumber(y){return this.authRequestHandler.getAccountInfoByPhoneNumber(y).then(O=>new l.UserRecord(O.users[0]))}getUserByProviderUid(y,O){return y==="phone"?this.getUserByPhoneNumber(O):y==="email"?this.getUserByEmail(O):this.authRequestHandler.getAccountInfoByFederatedUid(y,O).then(w=>new l.UserRecord(w.users[0]))}getUsers(y){if(!a.isArray(y))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"`identifiers` parameter must be an array");return this.authRequestHandler.getAccountInfoByIdentifiers(y).then(O=>{const w=((T,C)=>!!C.find(N=>{if((0,o.isUidIdentifier)(T))return T.uid===N.uid;if((0,o.isEmailIdentifier)(T))return T.email===N.email;if((0,o.isPhoneIdentifier)(T))return T.phoneNumber===N.phoneNumber;if((0,o.isProviderIdentifier)(T)){const L=N.providerData.find(D=>T.providerId===D.providerId);return!!L&&T.providerUid===L.uid}else throw new e.FirebaseAuthError(e.AuthClientErrorCode.INTERNAL_ERROR,"Unhandled identifier type")})),I=O.users?O.users.map(T=>new l.UserRecord(T)):[],_=y.filter(T=>!w(T,I));return{users:I,notFound:_}})}listUsers(y,O){return this.authRequestHandler.downloadAccount(y,O).then(w=>{const I=[];w.users.forEach(T=>{I.push(new l.UserRecord(T))});const _={users:I,pageToken:w.nextPageToken};return typeof _.pageToken>"u"&&delete _.pageToken,_})}createUser(y){return this.authRequestHandler.createNewAccount(y).then(O=>this.getUser(O)).catch(O=>{throw O.code==="auth/user-not-found"?new e.FirebaseAuthError(e.AuthClientErrorCode.INTERNAL_ERROR,"Unable to create the user record provided."):O})}deleteUser(y){return this.authRequestHandler.deleteAccount(y).then(()=>{})}deleteUsers(y){if(!a.isArray(y))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"`uids` parameter must be an array");return this.authRequestHandler.deleteAccounts(y,!0).then(O=>{const w={failureCount:0,successCount:y.length,errors:[]};return a.isNonEmptyArray(O.errors)&&(w.failureCount=O.errors.length,w.successCount=y.length-O.errors.length,w.errors=O.errors.map(I=>{if(I.index===void 0)throw new e.FirebaseAuthError(e.AuthClientErrorCode.INTERNAL_ERROR,"Corrupt BatchDeleteAccountsResponse detected");const _=T=>{const C=T&&T.startsWith("NOT_DISABLED")?e.AuthClientErrorCode.USER_NOT_DISABLED:e.AuthClientErrorCode.INTERNAL_ERROR;return new e.FirebaseAuthError(C,I.message)};return{index:I.index,error:_(I.message)}})),w})}updateUser(y,O){if(O=(0,t.deepCopy)(O),O?.providerToLink){if(O.providerToLink.providerId==="email"){if(typeof O.email<"u")throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.email and UpdateRequest.providerToLink.providerId='email' were set. To link to the email/password provider, only specify the UpdateRequest.email field.");O.email=O.providerToLink.uid,delete O.providerToLink}else if(O.providerToLink.providerId==="phone"){if(typeof O.phoneNumber<"u")throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.phoneNumber and UpdateRequest.providerToLink.providerId='phone' were set. To link to a phone provider, only specify the UpdateRequest.phoneNumber field.");O.phoneNumber=O.providerToLink.uid,delete O.providerToLink}}if(O?.providersToUnlink&&O.providersToUnlink.indexOf("phone")!==-1&&O.phoneNumber===null)throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.phoneNumber=null and UpdateRequest.providersToUnlink=['phone'] were set. To unlink from a phone provider, only specify the UpdateRequest.phoneNumber=null field.");return this.authRequestHandler.updateExistingAccount(y,O).then(w=>this.getUser(w))}setCustomUserClaims(y,O){return this.authRequestHandler.setCustomUserClaims(y,O).then(()=>{})}revokeRefreshTokens(y){return this.authRequestHandler.revokeRefreshTokens(y).then(()=>{})}importUsers(y,O){return this.authRequestHandler.uploadAccount(y,O)}createSessionCookie(y,O){return!a.isNonNullObject(O)||!a.isNumber(O.expiresIn)?Promise.reject(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)):this.authRequestHandler.createSessionCookie(y,O.expiresIn)}verifySessionCookie(y,O=!1){const w=(0,p.useEmulator)();return this.sessionCookieVerifier.verifyJWT(y,w).then(I=>O||w?this.verifyDecodedJWTNotRevokedOrDisabled(I,e.AuthClientErrorCode.SESSION_COOKIE_REVOKED):I)}generatePasswordResetLink(y,O){return this.authRequestHandler.getEmailActionLink("PASSWORD_RESET",y,O)}generateEmailVerificationLink(y,O){return this.authRequestHandler.getEmailActionLink("VERIFY_EMAIL",y,O)}generateVerifyAndChangeEmailLink(y,O,w){return this.authRequestHandler.getEmailActionLink("VERIFY_AND_CHANGE_EMAIL",y,w,O)}generateSignInWithEmailLink(y,O){return this.authRequestHandler.getEmailActionLink("EMAIL_SIGNIN",y,O)}listProviderConfigs(y){const O=(w,I)=>{const _={providerConfigs:I};return Object.prototype.hasOwnProperty.call(w,"nextPageToken")&&(_.pageToken=w.nextPageToken),_};return y&&y.type==="oidc"?this.authRequestHandler.listOAuthIdpConfigs(y.maxResults,y.pageToken).then(w=>{const I=[];return w.oauthIdpConfigs.forEach(_=>{I.push(new c.OIDCConfig(_))}),O(w,I)}):y&&y.type==="saml"?this.authRequestHandler.listInboundSamlConfigs(y.maxResults,y.pageToken).then(w=>{const I=[];return w.inboundSamlConfigs.forEach(_=>{I.push(new c.SAMLConfig(_))}),O(w,I)}):Promise.reject(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,'"AuthProviderConfigFilter.type" must be either "saml" or "oidc"'))}getProviderConfig(y){return c.OIDCConfig.isProviderId(y)?this.authRequestHandler.getOAuthIdpConfig(y).then(O=>new c.OIDCConfig(O)):c.SAMLConfig.isProviderId(y)?this.authRequestHandler.getInboundSamlConfig(y).then(O=>new c.SAMLConfig(O)):Promise.reject(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_PROVIDER_ID))}deleteProviderConfig(y){return c.OIDCConfig.isProviderId(y)?this.authRequestHandler.deleteOAuthIdpConfig(y):c.SAMLConfig.isProviderId(y)?this.authRequestHandler.deleteInboundSamlConfig(y):Promise.reject(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_PROVIDER_ID))}updateProviderConfig(y,O){return a.isNonNullObject(O)?c.OIDCConfig.isProviderId(y)?this.authRequestHandler.updateOAuthIdpConfig(y,O).then(w=>new c.OIDCConfig(w)):c.SAMLConfig.isProviderId(y)?this.authRequestHandler.updateInboundSamlConfig(y,O).then(w=>new c.SAMLConfig(w)):Promise.reject(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_PROVIDER_ID)):Promise.reject(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_CONFIG,'Request is missing "UpdateAuthProviderRequest" configuration.'))}createProviderConfig(y){return a.isNonNullObject(y)?c.OIDCConfig.isProviderId(y.providerId)?this.authRequestHandler.createOAuthIdpConfig(y).then(O=>new c.OIDCConfig(O)):c.SAMLConfig.isProviderId(y.providerId)?this.authRequestHandler.createInboundSamlConfig(y).then(O=>new c.SAMLConfig(O)):Promise.reject(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_PROVIDER_ID)):Promise.reject(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_CONFIG,'Request is missing "AuthProviderConfig" configuration.'))}_verifyAuthBlockingToken(y,O){const w=(0,p.useEmulator)();return this.authBlockingTokenVerifier._verifyAuthBlockingToken(y,w,O).then(I=>I)}verifyDecodedJWTNotRevokedOrDisabled(y,O){return this.getUser(y.sub).then(w=>{if(w.disabled)throw new e.FirebaseAuthError(e.AuthClientErrorCode.USER_DISABLED,"The user record is disabled.");if(w.tokensValidAfterTime){const I=y.auth_time*1e3,_=new Date(w.tokensValidAfterTime).getTime();if(I<_)throw new e.FirebaseAuthError(O)}return y})}}return baseAuth.BaseAuth=v,baseAuth}var hasRequiredTenantManager;function requireTenantManager(){if(hasRequiredTenantManager)return tenantManager;hasRequiredTenantManager=1;Object.defineProperty(tenantManager,"__esModule",{value:!0}),tenantManager.TenantManager=tenantManager.TenantAwareAuth=void 0;const e=requireValidator$1(),t=requireUtils$2(),a=requireError(),p=requireBaseAuth(),g=requireTenant(),m=requireAuthApiRequest();class c extends p.BaseAuth{constructor(s,h){super(s,new m.TenantAwareAuthRequestHandler(s,h),(0,p.createFirebaseTokenGenerator)(s,h)),t.addReadonlyGetter(this,"tenantId",h)}verifyIdToken(s,h=!1){return super.verifyIdToken(s,h).then(v=>{if(v.firebase.tenant!==this.tenantId)throw new a.FirebaseAuthError(a.AuthClientErrorCode.MISMATCHING_TENANT_ID);return v})}createSessionCookie(s,h){return e.isNonEmptyString(s)?!e.isNonNullObject(h)||!e.isNumber(h.expiresIn)?Promise.reject(new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)):this.verifyIdToken(s).then(()=>super.createSessionCookie(s,h)):Promise.reject(new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_ID_TOKEN))}verifySessionCookie(s,h=!1){return super.verifySessionCookie(s,h).then(v=>{if(v.firebase.tenant!==this.tenantId)throw new a.FirebaseAuthError(a.AuthClientErrorCode.MISMATCHING_TENANT_ID);return v})}}tenantManager.TenantAwareAuth=c;class l{constructor(s){this.app=s,this.authRequestHandler=new m.AuthRequestHandler(s),this.tenantsMap={}}authForTenant(s){if(!e.isNonEmptyString(s))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_TENANT_ID);return typeof this.tenantsMap[s]>"u"&&(this.tenantsMap[s]=new c(this.app,s)),this.tenantsMap[s]}getTenant(s){return this.authRequestHandler.getTenant(s).then(h=>new g.Tenant(h))}listTenants(s,h){return this.authRequestHandler.listTenants(s,h).then(v=>{const b=[];v.tenants.forEach(O=>{b.push(new g.Tenant(O))});const y={tenants:b,pageToken:v.nextPageToken};return typeof y.pageToken>"u"&&delete y.pageToken,y})}deleteTenant(s){return this.authRequestHandler.deleteTenant(s)}createTenant(s){return this.authRequestHandler.createTenant(s).then(h=>new g.Tenant(h))}updateTenant(s,h){return this.authRequestHandler.updateTenant(s,h).then(v=>new g.Tenant(v))}}return tenantManager.TenantManager=l,tenantManager}var projectConfigManager={};var hasRequiredProjectConfigManager;function requireProjectConfigManager(){if(hasRequiredProjectConfigManager)return projectConfigManager;hasRequiredProjectConfigManager=1,Object.defineProperty(projectConfigManager,"__esModule",{value:!0}),projectConfigManager.ProjectConfigManager=void 0;const e=requireProjectConfig(),t=requireAuthApiRequest();class a{constructor(g){this.authRequestHandler=new t.AuthRequestHandler(g)}getProjectConfig(){return this.authRequestHandler.getProjectConfig().then(g=>new e.ProjectConfig(g))}updateProjectConfig(g){return this.authRequestHandler.updateProjectConfig(g).then(m=>new e.ProjectConfig(m))}}return projectConfigManager.ProjectConfigManager=a,projectConfigManager}var hasRequiredAuth$1;function requireAuth$1(){if(hasRequiredAuth$1)return auth$1;hasRequiredAuth$1=1;Object.defineProperty(auth$1,"__esModule",{value:!0}),auth$1.Auth=void 0;const e=requireAuthApiRequest(),t=requireTenantManager(),a=requireBaseAuth(),p=requireProjectConfigManager();class g extends a.BaseAuth{constructor(c){super(c,new e.AuthRequestHandler(c)),this.app_=c,this.tenantManager_=new t.TenantManager(c),this.projectConfigManager_=new p.ProjectConfigManager(c)}get app(){return this.app_}tenantManager(){return this.tenantManager_}projectConfigManager(){return this.projectConfigManager_}}return auth$1.Auth=g,auth$1}var index_standalone={},index_cjs$2={},postinstall={},hasRequiredPostinstall;function requirePostinstall(){return hasRequiredPostinstall||(hasRequiredPostinstall=1,Object.defineProperty(postinstall,"__esModule",{value:!0}),postinstall.getDefaultsFromPostinstall=()=>{}),postinstall}var hasRequiredIndex_cjs$2;function requireIndex_cjs$2(){if(hasRequiredIndex_cjs$2)return index_cjs$2;hasRequiredIndex_cjs$2=1;var e={};Object.defineProperty(index_cjs$2,"__esModule",{value:!0});var t=requirePostinstall();const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const p=function(Pe,Ce){if(!Pe)throw g(Ce)},g=function(Pe){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Pe)};const m=function(Pe){const Ce=[];let xe=0;for(let Ue=0;Ue<Pe.length;Ue++){let Le=Pe.charCodeAt(Ue);Le<128?Ce[xe++]=Le:Le<2048?(Ce[xe++]=Le>>6|192,Ce[xe++]=Le&63|128):(Le&64512)===55296&&Ue+1<Pe.length&&(Pe.charCodeAt(Ue+1)&64512)===56320?(Le=65536+((Le&1023)<<10)+(Pe.charCodeAt(++Ue)&1023),Ce[xe++]=Le>>18|240,Ce[xe++]=Le>>12&63|128,Ce[xe++]=Le>>6&63|128,Ce[xe++]=Le&63|128):(Ce[xe++]=Le>>12|224,Ce[xe++]=Le>>6&63|128,Ce[xe++]=Le&63|128)}return Ce},c=function(Pe){const Ce=[];let xe=0,Ue=0;for(;xe<Pe.length;){const Le=Pe[xe++];if(Le<128)Ce[Ue++]=String.fromCharCode(Le);else if(Le>191&&Le<224){const nt=Pe[xe++];Ce[Ue++]=String.fromCharCode((Le&31)<<6|nt&63)}else if(Le>239&&Le<365){const nt=Pe[xe++],ht=Pe[xe++],wt=Pe[xe++],Wt=((Le&7)<<18|(nt&63)<<12|(ht&63)<<6|wt&63)-65536;Ce[Ue++]=String.fromCharCode(55296+(Wt>>10)),Ce[Ue++]=String.fromCharCode(56320+(Wt&1023))}else{const nt=Pe[xe++],ht=Pe[xe++];Ce[Ue++]=String.fromCharCode((Le&15)<<12|(nt&63)<<6|ht&63)}}return Ce.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(Pe,Ce){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xe=Ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ue=[];for(let Le=0;Le<Pe.length;Le+=3){const nt=Pe[Le],ht=Le+1<Pe.length,wt=ht?Pe[Le+1]:0,Wt=Le+2<Pe.length,Mt=Wt?Pe[Le+2]:0,sr=nt>>2,pt=(nt&3)<<4|wt>>4;let ut=(wt&15)<<2|Mt>>6,cr=Mt&63;Wt||(cr=64,ht||(ut=64)),Ue.push(xe[sr],xe[pt],xe[ut],xe[cr])}return Ue.join("")},encodeString(Pe,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?btoa(Pe):this.encodeByteArray(m(Pe),Ce)},decodeString(Pe,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?atob(Pe):c(this.decodeStringToByteArray(Pe,Ce))},decodeStringToByteArray(Pe,Ce){this.init_();const xe=Ce?this.charToByteMapWebSafe_:this.charToByteMap_,Ue=[];for(let Le=0;Le<Pe.length;){const nt=xe[Pe.charAt(Le++)],wt=Le<Pe.length?xe[Pe.charAt(Le)]:0;++Le;const Mt=Le<Pe.length?xe[Pe.charAt(Le)]:64;++Le;const pt=Le<Pe.length?xe[Pe.charAt(Le)]:64;if(++Le,nt==null||wt==null||Mt==null||pt==null)throw new o;const ut=nt<<2|wt>>4;if(Ue.push(ut),Mt!==64){const cr=wt<<4&240|Mt>>2;if(Ue.push(cr),pt!==64){const Ut=Mt<<6&192|pt;Ue.push(Ut)}}}return Ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(Pe){const Ce=m(Pe);return l.encodeByteArray(Ce,!0)},h=function(Pe){return s(Pe).replace(/\./g,"")},v=function(Pe){try{return l.decodeString(Pe,!0)}catch(Ce){console.error("base64Decode failed: ",Ce)}return null};function b(Pe){return y(void 0,Pe)}function y(Pe,Ce){if(!(Ce instanceof Object))return Ce;switch(Ce.constructor){case Date:const xe=Ce;return new Date(xe.getTime());case Object:Pe===void 0&&(Pe={});break;case Array:Pe=[];break;default:return Ce}for(const xe in Ce)!Ce.hasOwnProperty(xe)||!O(xe)||(Pe[xe]=y(Pe[xe],Ce[xe]));return Pe}function O(Pe){return Pe!=="__proto__"}function w(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal<"u")return commonjsGlobal;throw new Error("Unable to locate global object.")}const I=()=>w().__FIREBASE_DEFAULTS__,_=()=>{if(typeof process>"u"||typeof e>"u")return;const Pe=e.__FIREBASE_DEFAULTS__;if(Pe)return JSON.parse(Pe)},T=()=>{if(typeof document>"u")return;let Pe;try{Pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ce=Pe&&v(Pe[1]);return Ce&&JSON.parse(Ce)},C=()=>{try{return t.getDefaultsFromPostinstall()||I()||_()||T()}catch(Pe){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Pe}`);return}},N=Pe=>C()?.emulatorHosts?.[Pe],L=Pe=>{const Ce=N(Pe);if(!Ce)return;const xe=Ce.lastIndexOf(":");if(xe<=0||xe+1===Ce.length)throw new Error(`Invalid host ${Ce} with no separate hostname and port!`);const Ue=parseInt(Ce.substring(xe+1),10);return Ce[0]==="["?[Ce.substring(1,xe-1),Ue]:[Ce.substring(0,xe),Ue]},D=()=>C()?.config,j=Pe=>C()?.[`_${Pe}`];class k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ce,xe)=>{this.resolve=Ce,this.reject=xe})}wrapCallback(Ce){return(xe,Ue)=>{xe?this.reject(xe):this.resolve(Ue),typeof Ce=="function"&&(this.promise.catch(()=>{}),Ce.length===1?Ce(xe):Ce(xe,Ue))}}}function V(Pe){try{return(Pe.startsWith("http://")||Pe.startsWith("https://")?new URL(Pe).hostname:Pe).endsWith(".cloudworkstations.dev")}catch{return!1}}async function G(Pe){return(await fetch(Pe,{credentials:"include"})).ok}function J(Pe,Ce){if(Pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe={alg:"none",type:"JWT"},Ue=Ce||"demo-project",Le=Pe.iat||0,nt=Pe.sub||Pe.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht={iss:`https://securetoken.google.com/${Ue}`,aud:Ue,iat:Le,exp:Le+3600,auth_time:Le,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}},...Pe};return[h(JSON.stringify(xe)),h(JSON.stringify(ht)),""].join(".")}const W={};function K(){const Pe={prod:[],emulator:[]};for(const Ce of Object.keys(W))W[Ce]?Pe.emulator.push(Ce):Pe.prod.push(Ce);return Pe}function X(Pe){let Ce=document.getElementById(Pe),xe=!1;return Ce||(Ce=document.createElement("div"),Ce.setAttribute("id",Pe),xe=!0),{created:xe,element:Ce}}let Y=!1;function te(Pe,Ce){if(typeof window>"u"||typeof document>"u"||!V(window.location.host)||W[Pe]===Ce||W[Pe]||Y)return;W[Pe]=Ce;function xe(ut){return`__firebase__banner__${ut}`}const Ue="__firebase__banner",nt=K().prod.length>0;function ht(){const ut=document.getElementById(Ue);ut&&ut.remove()}function wt(ut){ut.style.display="flex",ut.style.background="#7faaf0",ut.style.position="fixed",ut.style.bottom="5px",ut.style.left="5px",ut.style.padding=".5em",ut.style.borderRadius="5px",ut.style.alignItems="center"}function Wt(ut,cr){ut.setAttribute("width","24"),ut.setAttribute("id",cr),ut.setAttribute("height","24"),ut.setAttribute("viewBox","0 0 24 24"),ut.setAttribute("fill","none"),ut.style.marginLeft="-6px"}function Mt(){const ut=document.createElement("span");return ut.style.cursor="pointer",ut.style.marginLeft="16px",ut.style.fontSize="24px",ut.innerHTML=" &times;",ut.onclick=()=>{Y=!0,ht()},ut}function sr(ut,cr){ut.setAttribute("id",cr),ut.innerText="Learn more",ut.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",ut.setAttribute("target","__blank"),ut.style.paddingLeft="5px",ut.style.textDecoration="underline"}function pt(){const ut=X(Ue),cr=xe("text"),Ut=document.getElementById(cr)||document.createElement("span"),zt=xe("learnmore"),Or=document.getElementById(zt)||document.createElement("a"),rr=xe("preprendIcon"),Yt=document.getElementById(rr)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(ut.created){const dr=ut.element;wt(dr),sr(Or,zt);const nr=Mt();Wt(Yt,rr),dr.append(Yt,Ut,Or,nr),document.body.appendChild(dr)}nt?(Ut.innerText="Preview backend disconnected.",Yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Ut.innerText="Preview backend running in this workspace."),Ut.setAttribute("id",cr)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",pt):pt()}function oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function ee(){const Pe=C()?.forceEnvironment;if(Pe==="node")return!0;if(Pe==="browser")return!1;try{return Object.prototype.toString.call(commonjsGlobal.process)==="[object process]"}catch{return!1}}function se(){return typeof window<"u"||de()}function de(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function he(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ge(){const Pe=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof Pe=="object"&&Pe.id!==void 0}function me(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Oe(){return oe().indexOf("Electron/")>=0}function fe(){const Pe=oe();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function _e(){return oe().indexOf("MSAppHost/")>=0}function Ee(){return a.NODE_CLIENT===!0||a.NODE_ADMIN===!0}function z(){return!ee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d(){return!ee()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function P(){try{return typeof indexedDB=="object"}catch{return!1}}function A(){return new Promise((Pe,Ce)=>{try{let xe=!0;const Ue="validate-browser-context-for-indexeddb-analytics-module",Le=self.indexedDB.open(Ue);Le.onsuccess=()=>{Le.result.close(),xe||self.indexedDB.deleteDatabase(Ue),Pe(!0)},Le.onupgradeneeded=()=>{xe=!1},Le.onerror=()=>{Ce(Le.error?.message||"")}}catch(xe){Ce(xe)}})}function $(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ie="FirebaseError";class pe extends Error{constructor(Ce,xe,Ue){super(xe),this.code=Ce,this.customData=Ue,this.name=ie,Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ne.prototype.create)}}class ne{constructor(Ce,xe,Ue){this.service=Ce,this.serviceName=xe,this.errors=Ue}create(Ce,...xe){const Ue=xe[0]||{},Le=`${this.service}/${Ce}`,nt=this.errors[Ce],ht=nt?u(nt,Ue):"Error",wt=`${this.serviceName}: ${ht} (${Le}).`;return new pe(Le,wt,Ue)}}function u(Pe,Ce){return Pe.replace(x,(xe,Ue)=>{const Le=Ce[Ue];return Le!=null?String(Le):`<${Ue}?>`})}const x=/\{\$([^}]+)}/g;function M(Pe){return JSON.parse(Pe)}function n(Pe){return JSON.stringify(Pe)}const q=function(Pe){let Ce={},xe={},Ue={},Le="";try{const nt=Pe.split(".");Ce=M(v(nt[0])||""),xe=M(v(nt[1])||""),Le=nt[2],Ue=xe.d||{},delete xe.d}catch{}return{header:Ce,claims:xe,data:Ue,signature:Le}},U=function(Pe){const Ce=q(Pe).claims,xe=Math.floor(new Date().getTime()/1e3);let Ue=0,Le=0;return typeof Ce=="object"&&(Ce.hasOwnProperty("nbf")?Ue=Ce.nbf:Ce.hasOwnProperty("iat")&&(Ue=Ce.iat),Ce.hasOwnProperty("exp")?Le=Ce.exp:Le=Ue+86400),!!xe&&!!Ue&&!!Le&&xe>=Ue&&xe<=Le},Q=function(Pe){const Ce=q(Pe).claims;return typeof Ce=="object"&&Ce.hasOwnProperty("iat")?Ce.iat:null},ye=function(Pe){const Ce=q(Pe),xe=Ce.claims;return!!xe&&typeof xe=="object"&&xe.hasOwnProperty("iat")},Ie=function(Pe){const Ce=q(Pe).claims;return typeof Ce=="object"&&Ce.admin===!0};function je(Pe,Ce){return Object.prototype.hasOwnProperty.call(Pe,Ce)}function ke(Pe,Ce){if(Object.prototype.hasOwnProperty.call(Pe,Ce))return Pe[Ce]}function ze(Pe){for(const Ce in Pe)if(Object.prototype.hasOwnProperty.call(Pe,Ce))return!1;return!0}function it(Pe,Ce,xe){const Ue={};for(const Le in Pe)Object.prototype.hasOwnProperty.call(Pe,Le)&&(Ue[Le]=Ce.call(xe,Pe[Le],Le,Pe));return Ue}function dt(Pe,Ce){if(Pe===Ce)return!0;const xe=Object.keys(Pe),Ue=Object.keys(Ce);for(const Le of xe){if(!Ue.includes(Le))return!1;const nt=Pe[Le],ht=Ce[Le];if(_t(nt)&&_t(ht)){if(!dt(nt,ht))return!1}else if(nt!==ht)return!1}for(const Le of Ue)if(!xe.includes(Le))return!1;return!0}function _t(Pe){return Pe!==null&&typeof Pe=="object"}function St(Pe,Ce=2e3){const xe=new k;return setTimeout(()=>xe.reject("timeout!"),Ce),Pe.then(xe.resolve,xe.reject),xe.promise}function lt(Pe){const Ce=[];for(const[xe,Ue]of Object.entries(Pe))Array.isArray(Ue)?Ue.forEach(Le=>{Ce.push(encodeURIComponent(xe)+"="+encodeURIComponent(Le))}):Ce.push(encodeURIComponent(xe)+"="+encodeURIComponent(Ue));return Ce.length?"&"+Ce.join("&"):""}function Ve(Pe){const Ce={};return Pe.replace(/^\?/,"").split("&").forEach(Ue=>{if(Ue){const[Le,nt]=Ue.split("=");Ce[decodeURIComponent(Le)]=decodeURIComponent(nt)}}),Ce}function Me(Pe){const Ce=Pe.indexOf("?");if(!Ce)return"";const xe=Pe.indexOf("#",Ce);return Pe.substring(Ce,xe>0?xe:void 0)}class $e{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ce=1;Ce<this.blockSize;++Ce)this.pad_[Ce]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ce,xe){xe||(xe=0);const Ue=this.W_;if(typeof Ce=="string")for(let pt=0;pt<16;pt++)Ue[pt]=Ce.charCodeAt(xe)<<24|Ce.charCodeAt(xe+1)<<16|Ce.charCodeAt(xe+2)<<8|Ce.charCodeAt(xe+3),xe+=4;else for(let pt=0;pt<16;pt++)Ue[pt]=Ce[xe]<<24|Ce[xe+1]<<16|Ce[xe+2]<<8|Ce[xe+3],xe+=4;for(let pt=16;pt<80;pt++){const ut=Ue[pt-3]^Ue[pt-8]^Ue[pt-14]^Ue[pt-16];Ue[pt]=(ut<<1|ut>>>31)&4294967295}let Le=this.chain_[0],nt=this.chain_[1],ht=this.chain_[2],wt=this.chain_[3],Wt=this.chain_[4],Mt,sr;for(let pt=0;pt<80;pt++){pt<40?pt<20?(Mt=wt^nt&(ht^wt),sr=1518500249):(Mt=nt^ht^wt,sr=1859775393):pt<60?(Mt=nt&ht|wt&(nt|ht),sr=2400959708):(Mt=nt^ht^wt,sr=3395469782);const ut=(Le<<5|Le>>>27)+Mt+Wt+sr+Ue[pt]&4294967295;Wt=wt,wt=ht,ht=(nt<<30|nt>>>2)&4294967295,nt=Le,Le=ut}this.chain_[0]=this.chain_[0]+Le&4294967295,this.chain_[1]=this.chain_[1]+nt&4294967295,this.chain_[2]=this.chain_[2]+ht&4294967295,this.chain_[3]=this.chain_[3]+wt&4294967295,this.chain_[4]=this.chain_[4]+Wt&4294967295}update(Ce,xe){if(Ce==null)return;xe===void 0&&(xe=Ce.length);const Ue=xe-this.blockSize;let Le=0;const nt=this.buf_;let ht=this.inbuf_;for(;Le<xe;){if(ht===0)for(;Le<=Ue;)this.compress_(Ce,Le),Le+=this.blockSize;if(typeof Ce=="string"){for(;Le<xe;)if(nt[ht]=Ce.charCodeAt(Le),++ht,++Le,ht===this.blockSize){this.compress_(nt),ht=0;break}}else for(;Le<xe;)if(nt[ht]=Ce[Le],++ht,++Le,ht===this.blockSize){this.compress_(nt),ht=0;break}}this.inbuf_=ht,this.total_+=xe}digest(){const Ce=[];let xe=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let Le=this.blockSize-1;Le>=56;Le--)this.buf_[Le]=xe&255,xe/=256;this.compress_(this.buf_);let Ue=0;for(let Le=0;Le<5;Le++)for(let nt=24;nt>=0;nt-=8)Ce[Ue]=this.chain_[Le]>>nt&255,++Ue;return Ce}}function Je(Pe,Ce){const xe=new Ze(Pe,Ce);return xe.subscribe.bind(xe)}class Ze{constructor(Ce,xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(()=>{Ce(this)}).catch(Ue=>{this.error(Ue)})}next(Ce){this.forEachObserver(xe=>{xe.next(Ce)})}error(Ce){this.forEachObserver(xe=>{xe.error(Ce)}),this.close(Ce)}complete(){this.forEachObserver(Ce=>{Ce.complete()}),this.close()}subscribe(Ce,xe,Ue){let Le;if(Ce===void 0&&xe===void 0&&Ue===void 0)throw new Error("Missing Observer.");mt(Ce,["next","error","complete"])?Le=Ce:Le={next:Ce,error:xe,complete:Ue},Le.next===void 0&&(Le.next=bt),Le.error===void 0&&(Le.error=bt),Le.complete===void 0&&(Le.complete=bt);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Le.error(this.finalError):Le.complete()}catch{}}),this.observers.push(Le),nt}unsubscribeOne(Ce){this.observers===void 0||this.observers[Ce]===void 0||(delete this.observers[Ce],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(Ce){if(!this.finalized)for(let xe=0;xe<this.observers.length;xe++)this.sendOne(xe,Ce)}sendOne(Ce,xe){this.task.then(()=>{if(this.observers!==void 0&&this.observers[Ce]!==void 0)try{xe(this.observers[Ce])}catch(Ue){typeof console<"u"&&console.error&&console.error(Ue)}})}close(Ce){this.finalized||(this.finalized=!0,Ce!==void 0&&(this.finalError=Ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function st(Pe,Ce){return(...xe)=>{Promise.resolve(!0).then(()=>{Pe(...xe)}).catch(Ue=>{Ce&&Ce(Ue)})}}function mt(Pe,Ce){if(typeof Pe!="object"||Pe===null)return!1;for(const xe of Ce)if(xe in Pe&&typeof Pe[xe]=="function")return!0;return!1}function bt(){}const yt=function(Pe,Ce,xe,Ue){let Le;if(Ue<Ce?Le="at least "+Ce:Ue>xe&&(Le=xe===0?"none":"no more than "+xe),Le){const nt=Pe+" failed: Was called with "+Ue+(Ue===1?" argument.":" arguments.")+" Expects "+Le+".";throw new Error(nt)}};function Jt(Pe,Ce){return`${Pe} failed: ${Ce} argument `}function Gt(Pe,Ce,xe){if(!(xe&&!Ce)&&typeof Ce!="string")throw new Error(Jt(Pe,"namespace")+"must be a valid firebase namespace.")}function Nt(Pe,Ce,xe,Ue){if(!(Ue&&!xe)&&typeof xe!="function")throw new Error(Jt(Pe,Ce)+"must be a valid function.")}function Lt(Pe,Ce,xe,Ue){if(!(Ue&&!xe)&&(typeof xe!="object"||xe===null))throw new Error(Jt(Pe,Ce)+"must be a valid context object.")}const Pt=function(Pe){const Ce=[];let xe=0;for(let Ue=0;Ue<Pe.length;Ue++){let Le=Pe.charCodeAt(Ue);if(Le>=55296&&Le<=56319){const nt=Le-55296;Ue++,p(Ue<Pe.length,"Surrogate pair missing trail surrogate.");const ht=Pe.charCodeAt(Ue)-56320;Le=65536+(nt<<10)+ht}Le<128?Ce[xe++]=Le:Le<2048?(Ce[xe++]=Le>>6|192,Ce[xe++]=Le&63|128):Le<65536?(Ce[xe++]=Le>>12|224,Ce[xe++]=Le>>6&63|128,Ce[xe++]=Le&63|128):(Ce[xe++]=Le>>18|240,Ce[xe++]=Le>>12&63|128,Ce[xe++]=Le>>6&63|128,Ce[xe++]=Le&63|128)}return Ce},Dt=function(Pe){let Ce=0;for(let xe=0;xe<Pe.length;xe++){const Ue=Pe.charCodeAt(xe);Ue<128?Ce++:Ue<2048?Ce+=2:Ue>=55296&&Ue<=56319?(Ce+=4,xe++):Ce+=3}return Ce};const kt=1e3,Et=2,Ot=14400*1e3,jt=.5;function qt(Pe,Ce=kt,xe=Et){const Ue=Ce*Math.pow(xe,Pe),Le=Math.round(jt*Ue*(Math.random()-.5)*2);return Math.min(Ot,Ue+Le)}function vt(Pe){return Number.isFinite(Pe)?Pe+Tt(Pe):`${Pe}`}function Tt(Pe){Pe=Math.abs(Pe);const Ce=Pe%100;if(Ce>=10&&Ce<=20)return"th";const xe=Pe%10;return xe===1?"st":xe===2?"nd":xe===3?"rd":"th"}function At(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}return index_cjs$2.CONSTANTS=a,index_cjs$2.DecodeBase64StringError=o,index_cjs$2.Deferred=k,index_cjs$2.ErrorFactory=ne,index_cjs$2.FirebaseError=pe,index_cjs$2.MAX_VALUE_MILLIS=Ot,index_cjs$2.RANDOM_FACTOR=jt,index_cjs$2.Sha1=$e,index_cjs$2.areCookiesEnabled=$,index_cjs$2.assert=p,index_cjs$2.assertionError=g,index_cjs$2.async=st,index_cjs$2.base64=l,index_cjs$2.base64Decode=v,index_cjs$2.base64Encode=s,index_cjs$2.base64urlEncodeWithoutPadding=h,index_cjs$2.calculateBackoffMillis=qt,index_cjs$2.contains=je,index_cjs$2.createMockUserToken=J,index_cjs$2.createSubscribe=Je,index_cjs$2.decode=q,index_cjs$2.deepCopy=b,index_cjs$2.deepEqual=dt,index_cjs$2.deepExtend=y,index_cjs$2.errorPrefix=Jt,index_cjs$2.extractQuerystring=Me,index_cjs$2.getDefaultAppConfig=D,index_cjs$2.getDefaultEmulatorHost=N,index_cjs$2.getDefaultEmulatorHostnameAndPort=L,index_cjs$2.getDefaults=C,index_cjs$2.getExperimentalSetting=j,index_cjs$2.getGlobal=w,index_cjs$2.getModularInstance=At,index_cjs$2.getUA=oe,index_cjs$2.isAdmin=Ie,index_cjs$2.isBrowser=se,index_cjs$2.isBrowserExtension=ge,index_cjs$2.isCloudWorkstation=V,index_cjs$2.isCloudflareWorker=he,index_cjs$2.isElectron=Oe,index_cjs$2.isEmpty=ze,index_cjs$2.isIE=fe,index_cjs$2.isIndexedDBAvailable=P,index_cjs$2.isMobileCordova=le,index_cjs$2.isNode=ee,index_cjs$2.isNodeSdk=Ee,index_cjs$2.isReactNative=me,index_cjs$2.isSafari=z,index_cjs$2.isSafariOrWebkit=d,index_cjs$2.isUWP=_e,index_cjs$2.isValidFormat=ye,index_cjs$2.isValidTimestamp=U,index_cjs$2.isWebWorker=de,index_cjs$2.issuedAtTime=Q,index_cjs$2.jsonEval=M,index_cjs$2.map=it,index_cjs$2.ordinal=vt,index_cjs$2.pingServer=G,index_cjs$2.promiseWithTimeout=St,index_cjs$2.querystring=lt,index_cjs$2.querystringDecode=Ve,index_cjs$2.safeGet=ke,index_cjs$2.stringLength=Dt,index_cjs$2.stringToByteArray=Pt,index_cjs$2.stringify=n,index_cjs$2.updateEmulatorBanner=te,index_cjs$2.validateArgCount=yt,index_cjs$2.validateCallback=Nt,index_cjs$2.validateContextObject=Lt,index_cjs$2.validateIndexedDBOpenable=A,index_cjs$2.validateNamespace=Gt,index_cjs$2}var index_cjs$1={},hasRequiredIndex_cjs$1;function requireIndex_cjs$1(){return hasRequiredIndex_cjs$1||(hasRequiredIndex_cjs$1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=[];e.LogLevel=void 0,(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(e.LogLevel||(e.LogLevel={}));const a={debug:e.LogLevel.DEBUG,verbose:e.LogLevel.VERBOSE,info:e.LogLevel.INFO,warn:e.LogLevel.WARN,error:e.LogLevel.ERROR,silent:e.LogLevel.SILENT},p=e.LogLevel.INFO,g={[e.LogLevel.DEBUG]:"log",[e.LogLevel.VERBOSE]:"log",[e.LogLevel.INFO]:"info",[e.LogLevel.WARN]:"warn",[e.LogLevel.ERROR]:"error"},m=(s,h,...v)=>{if(h<s.logLevel)return;const b=new Date().toISOString(),y=g[h];if(y)console[y](`[${b}]  ${s.name}:`,...v);else throw new Error(`Attempted to log a message with an invalid logType (value: ${h})`)};class c{constructor(h){this.name=h,this._logLevel=p,this._logHandler=m,this._userLogHandler=null,t.push(this)}get logLevel(){return this._logLevel}set logLevel(h){if(!(h in e.LogLevel))throw new TypeError(`Invalid value "${h}" assigned to \`logLevel\``);this._logLevel=h}setLogLevel(h){this._logLevel=typeof h=="string"?a[h]:h}get logHandler(){return this._logHandler}set logHandler(h){if(typeof h!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=h}get userLogHandler(){return this._userLogHandler}set userLogHandler(h){this._userLogHandler=h}debug(...h){this._userLogHandler&&this._userLogHandler(this,e.LogLevel.DEBUG,...h),this._logHandler(this,e.LogLevel.DEBUG,...h)}log(...h){this._userLogHandler&&this._userLogHandler(this,e.LogLevel.VERBOSE,...h),this._logHandler(this,e.LogLevel.VERBOSE,...h)}info(...h){this._userLogHandler&&this._userLogHandler(this,e.LogLevel.INFO,...h),this._logHandler(this,e.LogLevel.INFO,...h)}warn(...h){this._userLogHandler&&this._userLogHandler(this,e.LogLevel.WARN,...h),this._logHandler(this,e.LogLevel.WARN,...h)}error(...h){this._userLogHandler&&this._userLogHandler(this,e.LogLevel.ERROR,...h),this._logHandler(this,e.LogLevel.ERROR,...h)}}function l(s){t.forEach(h=>{h.setLogLevel(s)})}function o(s,h){for(const v of t){let b=null;h&&h.level&&(b=a[h.level]),s===null?v.userLogHandler=null:v.userLogHandler=(y,O,...w)=>{const I=w.map(_=>{if(_==null)return null;if(typeof _=="string")return _;if(typeof _=="number"||typeof _=="boolean")return _.toString();if(_ instanceof Error)return _.message;try{return JSON.stringify(_)}catch{return null}}).filter(_=>_).join(" ");O>=(b??y.logLevel)&&s({level:e.LogLevel[O].toLowerCase(),message:I,args:w,type:y.name})}}}e.Logger=c,e.setLogLevel=l,e.setUserLogHandler=o})(index_cjs$1)),index_cjs$1}var index_cjs={},hasRequiredIndex_cjs;function requireIndex_cjs(){if(hasRequiredIndex_cjs)return index_cjs;hasRequiredIndex_cjs=1,Object.defineProperty(index_cjs,"__esModule",{value:!0});var e=requireIndex_cjs$2();class t{constructor(o,s,h){this.name=o,this.instanceFactory=s,this.type=h,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(o){return this.instantiationMode=o,this}setMultipleInstances(o){return this.multipleInstances=o,this}setServiceProps(o){return this.serviceProps=o,this}setInstanceCreatedCallback(o){return this.onInstanceCreated=o,this}}const a="[DEFAULT]";class p{constructor(o,s){this.name=o,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(o){const s=this.normalizeInstanceIdentifier(o);if(!this.instancesDeferred.has(s)){const h=new e.Deferred;if(this.instancesDeferred.set(s,h),this.isInitialized(s)||this.shouldAutoInitialize())try{const v=this.getOrInitializeService({instanceIdentifier:s});v&&h.resolve(v)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(o){const s=this.normalizeInstanceIdentifier(o?.identifier),h=o?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(v){if(h)return null;throw v}else{if(h)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(o){if(o.name!==this.name)throw Error(`Mismatching Component ${o.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=o,!!this.shouldAutoInitialize()){if(m(o))try{this.getOrInitializeService({instanceIdentifier:a})}catch{}for(const[s,h]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(s);try{const b=this.getOrInitializeService({instanceIdentifier:v});h.resolve(b)}catch{}}}}clearInstance(o=a){this.instancesDeferred.delete(o),this.instancesOptions.delete(o),this.instances.delete(o)}async delete(){const o=Array.from(this.instances.values());await Promise.all([...o.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...o.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(o=a){return this.instances.has(o)}getOptions(o=a){return this.instancesOptions.get(o)||{}}initialize(o={}){const{options:s={}}=o,h=this.normalizeInstanceIdentifier(o.instanceIdentifier);if(this.isInitialized(h))throw Error(`${this.name}(${h}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const v=this.getOrInitializeService({instanceIdentifier:h,options:s});for(const[b,y]of this.instancesDeferred.entries()){const O=this.normalizeInstanceIdentifier(b);h===O&&y.resolve(v)}return v}onInit(o,s){const h=this.normalizeInstanceIdentifier(s),v=this.onInitCallbacks.get(h)??new Set;v.add(o),this.onInitCallbacks.set(h,v);const b=this.instances.get(h);return b&&o(b,h),()=>{v.delete(o)}}invokeOnInitCallbacks(o,s){const h=this.onInitCallbacks.get(s);if(h)for(const v of h)try{v(o,s)}catch{}}getOrInitializeService({instanceIdentifier:o,options:s={}}){let h=this.instances.get(o);if(!h&&this.component&&(h=this.component.instanceFactory(this.container,{instanceIdentifier:g(o),options:s}),this.instances.set(o,h),this.instancesOptions.set(o,s),this.invokeOnInitCallbacks(h,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,o,h)}catch{}return h||null}normalizeInstanceIdentifier(o=a){return this.component?this.component.multipleInstances?o:a:o}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g(l){return l===a?void 0:l}function m(l){return l.instantiationMode==="EAGER"}class c{constructor(o){this.name=o,this.providers=new Map}addComponent(o){const s=this.getProvider(o.name);if(s.isComponentSet())throw new Error(`Component ${o.name} has already been registered with ${this.name}`);s.setComponent(o)}addOrOverwriteComponent(o){this.getProvider(o.name).isComponentSet()&&this.providers.delete(o.name),this.addComponent(o)}getProvider(o){if(this.providers.has(o))return this.providers.get(o);const s=new p(o,this);return this.providers.set(o,s),s}getProviders(){return Array.from(this.providers.values())}}return index_cjs.Component=t,index_cjs.ComponentContainer=c,index_cjs.Provider=p,index_cjs}var hasRequiredIndex_standalone;function requireIndex_standalone(){if(hasRequiredIndex_standalone)return index_standalone;hasRequiredIndex_standalone=1;var e={};Object.defineProperty(index_standalone,"__esModule",{value:!0});var t=require$$1$3,a=requireBuffer(),p=require$$1$3,g=require$$1$3,m=require$$1$3,c=require$$1$3,l=require$$1$3,o=require$$1$3,s=requireIndex_cjs$2(),h=requireIndex_cjs$1(),v=requireIndex_cjs();function b(F){return F&&typeof F=="object"&&"default"in F?F:{default:F}}var y=b(t),O=b(a),w=b(p),I=b(g),_=b(m),T=b(c),C=b(l),N=b(o),L=b(s),D=b(h),j=b(v);function k(F){if(F.__esModule)return F;var R=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(F).forEach(function(B){var H=Object.getOwnPropertyDescriptor(F,B);Object.defineProperty(R,B,H.get?H:{enumerable:!0,get:function(){return F[B]}})}),R}var V={},G={exports:{}};(function(F,R){var B=O.default,H=B.Buffer;function Z(ce,be){for(var we in ce)be[we]=ce[we]}H.from&&H.alloc&&H.allocUnsafe&&H.allocUnsafeSlow?F.exports=B:(Z(B,R),R.Buffer=ae);function ae(ce,be,we){return H(ce,be,we)}ae.prototype=Object.create(H.prototype),Z(H,ae),ae.from=function(ce,be,we){if(typeof ce=="number")throw new TypeError("Argument must not be a number");return H(ce,be,we)},ae.alloc=function(ce,be,we){if(typeof ce!="number")throw new TypeError("Argument must be a number");var Re=H(ce);return be!==void 0?typeof we=="string"?Re.fill(be,we):Re.fill(be):Re.fill(0),Re},ae.allocUnsafe=function(ce){if(typeof ce!="number")throw new TypeError("Argument must be a number");return H(ce)},ae.allocUnsafeSlow=function(ce){if(typeof ce!="number")throw new TypeError("Argument must be a number");return B.SlowBuffer(ce)}})(G,G.exports);var J={},W=I.default.Stream,K=y.default,X=function(F){this.readable=this.writable=!0,this._paused=!1,this._driver=F};K.inherits(X,W),X.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0},X.prototype.resume=function(){this._paused=!1,this.emit("drain");var F=this._driver.messages;F._paused=!1,F.emit("drain")},X.prototype.write=function(F){return this.writable?(this._driver.parse(F),!this._paused):!1},X.prototype.end=function(F){if(this.writable){F!==void 0&&this.write(F),this.writable=!1;var R=this._driver.messages;R.readable&&(R.readable=R.writable=!1,R.emit("end"))}},X.prototype.destroy=function(){this.end()};var Y=function(F){this.readable=this.writable=!0,this._paused=!1,this._driver=F};K.inherits(Y,W),Y.prototype.pause=function(){this._driver.io._paused=!0},Y.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")},Y.prototype.write=function(F){return this.writable?(typeof F=="string"?this._driver.text(F):this._driver.binary(F),!this._paused):!1},Y.prototype.end=function(F){F!==void 0&&this.write(F)},Y.prototype.destroy=function(){},J.IO=X,J.Messages=Y;var te=function(){this.clear()};te.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"],te.prototype.clear=function(){this._sent={},this._lines=[]},te.prototype.set=function(F,R){if(R!==void 0){F=this._strip(F),R=this._strip(R);var B=F.toLowerCase();(!this._sent.hasOwnProperty(B)||this.ALLOWED_DUPLICATES.indexOf(B)>=0)&&(this._sent[B]=!0,this._lines.push(F+": "+R+`\r
`))}},te.prototype.toString=function(){return this._lines.join("")},te.prototype._strip=function(F){return F.toString().replace(/^ */,"").replace(/ *$/,"")};var oe=te,le=G.exports.Buffer,ee=function(){this._queue=[],this._queueSize=0,this._offset=0};ee.prototype.put=function(F){!F||F.length===0||(le.isBuffer(F)||(F=le.from(F)),this._queue.push(F),this._queueSize+=F.length)},ee.prototype.read=function(F){if(F>this._queueSize)return null;if(F===0)return le.alloc(0);this._queueSize-=F;var R=this._queue,B=F,H=R[0],Z,ae;if(H.length>=F)return H.length===F?R.shift():(ae=H.slice(0,F),R[0]=H.slice(F),ae);for(var ce=0,be=R.length;ce<be&&!(B<R[ce].length);ce++)B-=R[ce].length;return Z=R.splice(0,ce),B>0&&R.length>0&&(Z.push(R[0].slice(0,B)),R[0]=R[0].slice(B)),le.concat(Z,F)},ee.prototype.eachByte=function(F,R){for(var B,H,Z;this._queue.length>0;){for(B=this._queue[0],H=B.length;this._offset<H;)Z=this._offset,this._offset+=1,F.call(R,B[Z]);this._offset=0,this._queue.shift()}};var se=ee,de=G.exports.Buffer,he=w.default.EventEmitter,ge=y.default,me=J,Oe=oe,fe=se,_e=function(F,R,B){he.call(this),_e.validateOptions(B||{},["maxLength","masking","requireMasking","protocols"]),this._request=F,this._reader=new fe,this._options=B||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new Oe,this.__queue=[],this.readyState=0,this.url=R,this.io=new me.IO(this),this.messages=new me.Messages(this),this._bindEventListeners()};ge.inherits(_e,he),_e.isWebSocket=function(F){var R=F.headers.connection||"",B=F.headers.upgrade||"";return F.method==="GET"&&R.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&B.toLowerCase()==="websocket"},_e.validateOptions=function(F,R){for(var B in F)if(R.indexOf(B)<0)throw new Error("Unrecognized option: "+B)};var Ee={MAX_LENGTH:67108863,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var F=this;this.messages.on("error",function(){}),this.on("message",function(R){var B=F.messages;B.readable&&B.emit("data",R.data)}),this.on("error",function(R){var B=F.messages;B.readable&&B.emit("error",R)}),this.on("close",function(){var R=F.messages;R.readable&&(R.readable=R.writable=!1,R.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(F){return!1},setHeader:function(F,R){return this.readyState>0?!1:(this._headers.set(F,R),!0)},start:function(){if(this.readyState!==0)return!1;if(!_e.isWebSocket(this._request))return this._failHandshake(new Error("Not a WebSocket request"));var F;try{F=this._handshakeResponse()}catch(R){return this._failHandshake(R)}return this._write(F),this._stage!==-1&&this._open(),!0},_failHandshake:function(F){var R=new Oe;return R.set("Content-Type","text/plain"),R.set("Content-Length",de.byteLength(F.message,"utf8")),R=["HTTP/1.1 400 Bad Request",R.toString(),F.message],this._write(de.from(R.join(`\r
`),"utf8")),this._fail("protocol_error",F.message),!1},text:function(F){return this.frame(F)},binary:function(F){return!1},ping:function(){return!1},pong:function(){return!1},close:function(F,R){return this.readyState!==1?!1:(this.readyState=3,this.emit("close",new _e.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(F){this.frame.apply(this,F)},this),this.__queue=[],this.emit("open",new _e.OpenEvent)},_queue:function(F){return this.__queue.push(F),!0},_write:function(F){var R=this.io;R.readable&&R.emit("data",F)},_fail:function(F,R){this.readyState=2,this.emit("error",new Error(R)),this.close()}};for(var z in Ee)_e.prototype[z]=Ee[z];_e.ConnectEvent=function(){},_e.OpenEvent=function(){},_e.CloseEvent=function(F,R){this.code=F,this.reason=R},_e.MessageEvent=function(F){this.data=F},_e.PingEvent=function(F){this.data=F},_e.PongEvent=function(F){this.data=F};var d=_e,P={};P.HTTPParser=A;function A(F){if(F!==void 0&&F!==A.REQUEST&&F!==A.RESPONSE)throw new Error("type must be REQUEST or RESPONSE");F===void 0||this.initialize(F),this.maxHeaderSize=A.maxHeaderSize}A.prototype.initialize=function(F,R){if(F!==A.REQUEST&&F!==A.RESPONSE)throw new Error("type must be REQUEST or RESPONSE");this.type=F,this.state=F+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1},A.encoding="ascii",A.maxHeaderSize=81920,A.REQUEST="REQUEST",A.RESPONSE="RESPONSE";var $=A.kOnHeaders=1,ie=A.kOnHeadersComplete=2,pe=A.kOnBody=3,ne=A.kOnMessageComplete=4;A.prototype[$]=A.prototype[ie]=A.prototype[pe]=A.prototype[ne]=function(){};var u=!0;Object.defineProperty(A,"kOnExecute",{get:function(){return u=!1,99}});var x=P.methods=A.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],M=x.indexOf("CONNECT");A.prototype.reinitialize=A,A.prototype.close=A.prototype.pause=A.prototype.resume=A.prototype.remove=A.prototype.free=function(){},A.prototype._compatMode0_11=!1,A.prototype.getAsyncId=function(){return 0};var n={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};A.prototype.execute=function(F,R,B){if(!(this instanceof A))throw new TypeError("not a HTTPParser");R=R||0,B=typeof B=="number"?B:F.length,this.chunk=F,this.offset=R;var H=this.end=R+B;try{for(;this.offset<H&&!this[this.state](););}catch(Z){if(this.isUserCall)throw Z;return this.hadError=!0,Z}return this.chunk=null,B=this.offset-R,n[this.state]&&(this.headerSize+=B,this.headerSize>(this.maxHeaderSize||A.maxHeaderSize))?new Error("max header size exceeded"):B};var q={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};A.prototype.finish=function(){if(!this.hadError){if(!q[this.state])return new Error("invalid state for EOF");this.state==="BODY_RAW"&&this.userCall()(this[ne]())}},A.prototype.consume=A.prototype.unconsume=A.prototype.getCurrentBuffer=function(){},A.prototype.userCall=function(){this.isUserCall=!0;var F=this;return function(R){return F.isUserCall=!1,R}},A.prototype.nextRequest=function(){this.userCall()(this[ne]()),this.reinitialize(this.type)},A.prototype.consumeLine=function(){for(var F=this.end,R=this.chunk,B=this.offset;B<F;B++)if(R[B]===10){var H=this.line+R.toString(A.encoding,this.offset,B);return H.charAt(H.length-1)==="\r"&&(H=H.substr(0,H.length-1)),this.line="",this.offset=B+1,H}this.line+=R.toString(A.encoding,this.offset,this.end),this.offset=this.end};var U=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,Q=/^[ \t]+(.*[^ \t])/;A.prototype.parseHeader=function(F,R){if(F.indexOf("\r")!==-1)throw je("HPE_LF_EXPECTED");var B=U.exec(F),H=B&&B[1];if(H)R.push(H),R.push(B[2]);else{var Z=Q.exec(F);Z&&R.length&&(R[R.length-1]&&(R[R.length-1]+=" "),R[R.length-1]+=Z[1])}};var ye=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;A.prototype.REQUEST_LINE=function(){var F=this.consumeLine();if(F){var R=ye.exec(F);if(R===null)throw je("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?R[1]:x.indexOf(R[1]),this.info.method===-1)throw new Error("invalid request method");this.info.url=R[2],this.info.versionMajor=+R[3],this.info.versionMinor=+R[4],this.body_bytes=0,this.state="HEADER"}};var Ie=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;A.prototype.RESPONSE_LINE=function(){var F=this.consumeLine();if(F){var R=Ie.exec(F);if(R===null)throw je("HPE_INVALID_CONSTANT");this.info.versionMajor=+R[1],this.info.versionMinor=+R[2];var B=this.info.statusCode=+R[3];this.info.statusMessage=R[4],((B/100|0)===1||B===204||B===304)&&(this.body_bytes=0),this.state="HEADER"}},A.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(this.connection.indexOf("close")!==-1)return!1}else if(this.connection.indexOf("keep-alive")===-1)return!1;return!!(this.body_bytes!==null||this.isChunked)},A.prototype.HEADER=function(){var F=this.consumeLine();if(F!==void 0){var R=this.info;if(F)this.parseHeader(F,R.headers);else{for(var B=R.headers,H=!1,Z,ae=!1,ce=0;ce<B.length;ce+=2)switch(B[ce].toLowerCase()){case"transfer-encoding":this.isChunked=B[ce+1].toLowerCase()==="chunked";break;case"content-length":if(Z=+B[ce+1],H){if(Z!==this.body_bytes)throw je("HPE_UNEXPECTED_CONTENT_LENGTH")}else H=!0,this.body_bytes=Z;break;case"connection":this.connection+=B[ce+1].toLowerCase();break;case"upgrade":ae=!0;break}this.isChunked&&H&&(H=!1,this.body_bytes=null),ae&&this.connection.indexOf("upgrade")!=-1?R.upgrade=this.type===A.REQUEST||R.statusCode===101:R.upgrade=R.method===M,this.isChunked&&R.upgrade&&(this.isChunked=!1),R.shouldKeepAlive=this.shouldKeepAlive();var be;if(u?be=this.userCall()(this[ie](R)):be=this.userCall()(this[ie](R.versionMajor,R.versionMinor,R.headers,R.method,R.url,R.statusCode,R.statusMessage,R.upgrade,R.shouldKeepAlive)),be===2)return this.nextRequest(),!0;if(this.isChunked&&!be)this.state="BODY_CHUNKHEAD";else{if(be||this.body_bytes===0)return this.nextRequest(),R.upgrade;this.body_bytes===null?this.state="BODY_RAW":this.state="BODY_SIZED"}}}},A.prototype.BODY_CHUNKHEAD=function(){var F=this.consumeLine();F!==void 0&&(this.body_bytes=parseInt(F,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")},A.prototype.BODY_CHUNK=function(){var F=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[pe](this.chunk.slice(this.offset,this.offset+F),0,F)),this.offset+=F,this.body_bytes-=F,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")},A.prototype.BODY_CHUNKEMPTYLINE=function(){var F=this.consumeLine();if(F!==void 0){if(F!=="")throw new Error("Expected empty line");this.state="BODY_CHUNKHEAD"}},A.prototype.BODY_CHUNKTRAILERS=function(){var F=this.consumeLine();F!==void 0&&(F?this.parseHeader(F,this.trailers):(this.trailers.length&&this.userCall()(this[$](this.trailers,"")),this.nextRequest()))},A.prototype.BODY_RAW=function(){this.userCall()(this[pe](this.chunk.slice(this.offset,this.end),0,this.end-this.offset)),this.offset=this.end},A.prototype.BODY_SIZED=function(){var F=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[pe](this.chunk.slice(this.offset,this.offset+F),0,F)),this.offset+=F,this.body_bytes-=F,this.body_bytes||this.nextRequest()},["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(F){var R=A["kOn"+F];Object.defineProperty(A.prototype,"on"+F,{get:function(){return this[R]},set:function(B){return this._compatMode0_11=!0,M="CONNECT",this[R]=B}})});function je(F){var R=new Error("Parse Error");return R.code=F,R}var ke=P.HTTPParser,ze=G.exports.Buffer,it={request:ke.REQUEST||"request",response:ke.RESPONSE||"response"},dt=function(F){this._type=F,this._parser=new ke(it[F]),this._complete=!1,this.headers={};var R=null,B=this;this._parser.onHeaderField=function(H,Z,ae){R=H.toString("utf8",Z,Z+ae).toLowerCase()},this._parser.onHeaderValue=function(H,Z,ae){var ce=H.toString("utf8",Z,Z+ae);B.headers.hasOwnProperty(R)?B.headers[R]+=", "+ce:B.headers[R]=ce},this._parser.onHeadersComplete=this._parser[ke.kOnHeadersComplete]=function(H,Z,ae,ce,be,we){var Re=arguments[0];if(typeof Re=="object"&&(ce=Re.method,be=Re.url,we=Re.statusCode,ae=Re.headers),B.method=typeof ce=="number"?dt.METHODS[ce]:ce,B.statusCode=we,B.url=be,!!ae){for(var qe=0,Be=ae.length,He,ot;qe<Be;qe+=2)He=ae[qe].toLowerCase(),ot=ae[qe+1],B.headers.hasOwnProperty(He)?B.headers[He]+=", "+ot:B.headers[He]=ot;B._complete=!0}}};dt.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var _t=process.version?process.version.match(/[0-9]+/g).map(function(F){return parseInt(F,10)}):[];_t[0]===0&&_t[1]===12&&(dt.METHODS[16]="REPORT",dt.METHODS[17]="MKACTIVITY",dt.METHODS[18]="CHECKOUT",dt.METHODS[19]="MERGE",dt.METHODS[20]="M-SEARCH",dt.METHODS[21]="NOTIFY",dt.METHODS[22]="SUBSCRIBE",dt.METHODS[23]="UNSUBSCRIBE",dt.METHODS[24]="PATCH",dt.METHODS[25]="PURGE"),dt.prototype.isComplete=function(){return this._complete},dt.prototype.parse=function(F){var R=this._parser.execute(F,0,F.length);if(typeof R!="number"){this.error=R,this._complete=!0;return}this._complete&&(this.body=R<F.length?F.slice(R):ze.alloc(0))};var St=dt,lt=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,Ve=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,Me=/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/,$e=new RegExp(lt.source+"(?:=(?:"+lt.source+"|"+Me.source+"))?"),Je=new RegExp(lt.source+"(?: *; *"+$e.source+")*","g"),Ze=new RegExp("^"+Je.source+"(?: *, *"+Je.source+")*$"),st=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,mt=Object.prototype.hasOwnProperty,bt={parseHeader:function(F){var R=new yt;if(F===""||F===void 0)return R;if(!Ze.test(F))throw new SyntaxError("Invalid Sec-WebSocket-Extensions header: "+F);var B=F.match(Je);return B.forEach(function(H){var Z=H.match(new RegExp($e.source,"g")),ae=Z.shift(),ce={};Z.forEach(function(be){var we=be.match($e),Re=we[1],qe;we[2]!==void 0?qe=we[2]:we[3]!==void 0?qe=we[3].replace(/\\/g,""):qe=!0,st.test(qe)&&(qe=parseFloat(qe)),mt.call(ce,Re)?(ce[Re]=[].concat(ce[Re]),ce[Re].push(qe)):ce[Re]=qe},this),R.push(ae,ce)},this),R},serializeParams:function(F,R){var B=[],H=function(ae,ce){ce instanceof Array?ce.forEach(function(be){H(ae,be)}):ce===!0?B.push(ae):typeof ce=="number"?B.push(ae+"="+ce):Ve.test(ce)?B.push(ae+'="'+ce.replace(/"/g,'\\"')+'"'):B.push(ae+"="+ce)};for(var Z in R)H(Z,R[Z]);return[F].concat(B).join("; ")}},yt=function(){this._byName={},this._inOrder=[]};yt.prototype.push=function(F,R){mt.call(this._byName,F)||(this._byName[F]=[]),this._byName[F].push(R),this._inOrder.push({name:F,params:R})},yt.prototype.eachOffer=function(F,R){for(var B=this._inOrder,H=0,Z=B.length;H<Z;H++)F.call(R,B[H].name,B[H].params)},yt.prototype.byName=function(F){return this._byName[F]||[]},yt.prototype.toArray=function(){return this._inOrder.slice()};var Jt=bt,Gt=function(F){this._bufferSize=F,this.clear()};Gt.prototype.clear=function(){this._buffer=new Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0},Gt.prototype.push=function(F){var R=!1,B=!1;this._ringSize<this._bufferSize?R=this._tail===0:this._ringOffset===this._ringSize&&(R=!0,B=this._tail===0),R&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(new Array(this._bufferSize)),this._bufferSize=this._buffer.length,B&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=F,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},Gt.prototype.peek=function(){if(this.length!==0)return this._buffer[this._head]},Gt.prototype.shift=function(){if(this.length!==0){var F=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,this._ringOffset===0&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,F}};var Nt=Gt,Lt=Nt,Pt=function(F,R){this._session=F,this._method=R,this._queue=new Lt(Pt.QUEUE_SIZE),this._stopped=!1,this.pending=0};Pt.QUEUE_SIZE=8,Pt.prototype.call=function(F,R,B,H){if(!this._stopped){var Z={error:F,message:R,callback:B,context:H,done:!1},ae=!1,ce=this;if(this._queue.push(Z),Z.error)return Z.done=!0,this._stop(),this._flushQueue();var be=function(we,Re){ae^(ae=!0)&&(we?(ce._stop(),Z.error=we,Z.message=null):Z.message=Re,Z.done=!0,ce._flushQueue())};try{this._session[this._method](R,be)}catch(we){be(we)}}},Pt.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0},Pt.prototype._flushQueue=function(){for(var F=this._queue,R;F.length>0&&F.peek().done;)R=F.shift(),R.error?(this.pending=0,F.clear()):this.pending-=1,R.callback.call(R.context,R.error,R.message)};var Dt=Pt,kt=Nt,Et=function(){this._complete=!1,this._callbacks=new kt(Et.QUEUE_SIZE)};Et.QUEUE_SIZE=4,Et.all=function(F){var R=new Et,B=F.length,H=B;for(B===0&&R.done();H--;)F[H].then(function(){B-=1,B===0&&R.done()});return R},Et.prototype.then=function(F){this._complete?F():this._callbacks.push(F)},Et.prototype.done=function(){this._complete=!0;for(var F=this._callbacks,R;R=F.shift();)R()};var Ot=Et,jt=Dt,qt=Ot,vt=function(F){this._ext=F[0],this._session=F[1],this._functors={incoming:new jt(this._session,"processIncomingMessage"),outgoing:new jt(this._session,"processOutgoingMessage")}};vt.prototype.pending=function(F){var R=this._functors[F];R._stopped||(R.pending+=1)},vt.prototype.incoming=function(F,R,B,H){this._exec("incoming",F,R,B,H)},vt.prototype.outgoing=function(F,R,B,H){this._exec("outgoing",F,R,B,H)},vt.prototype.close=function(){return this._closed=this._closed||new qt,this._doClose(),this._closed},vt.prototype._exec=function(F,R,B,H,Z){this._functors[F].call(R,B,function(ae,ce){ae&&(ae.message=this._ext.name+": "+ae.message),H.call(Z,ae,ce),this._doClose()},this)},vt.prototype._doClose=function(){var F=this._functors.incoming,R=this._functors.outgoing;!this._closed||F.pending+R.pending!==0||(this._session&&this._session.close(),this._session=null,this._closed.done())};var Tt=vt,At=Tt,Pe=Ot,Ce=function(F){this._cells=F.map(function(R){return new At(R)}),this._stopped={incoming:!1,outgoing:!1}};Ce.prototype.processIncomingMessage=function(F,R,B){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,F,R,B)},Ce.prototype.processOutgoingMessage=function(F,R,B){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,F,R,B)},Ce.prototype.close=function(F,R){this._stopped={incoming:!0,outgoing:!0};var B=this._cells.map(function(H){return H.close()});F&&Pe.all(B).then(function(){F.call(R)})},Ce.prototype._loop=function(F,R,B,H,Z,ae,ce){for(var be=this._cells,we=be.length,Re=this;we--;)be[we].pending(F);var qe=function(Be,He,ot){if(Be===B)return ae.call(ce,He,ot);be[Be][F](He,ot,function(ft,Ft){ft&&(Re._stopped[F]=!0),qe(Be+H,ft,Ft)})};qe(R,null,Z)};var xe=Ce,Ue=Jt,Le=xe,nt=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};nt.MESSAGE_OPCODES=[1,2];var ht={add:function(F){if(typeof F.name!="string")throw new TypeError("extension.name must be a string");if(F.type!=="permessage")throw new TypeError('extension.type must be "permessage"');if(typeof F.rsv1!="boolean")throw new TypeError("extension.rsv1 must be true or false");if(typeof F.rsv2!="boolean")throw new TypeError("extension.rsv2 must be true or false");if(typeof F.rsv3!="boolean")throw new TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(F.name))throw new TypeError('An extension with name "'+F.name+'" is already registered');this._byName[F.name]=F,this._inOrder.push(F)},generateOffer:function(){var F=[],R=[],B={};return this._inOrder.forEach(function(H){var Z=H.createClientSession();if(Z){var ae=[H,Z];F.push(ae),B[H.name]=ae;var ce=Z.generateOffer();ce=ce?[].concat(ce):[],ce.forEach(function(be){R.push(Ue.serializeParams(H.name,be))},this)}},this),this._sessions=F,this._index=B,R.length>0?R.join(", "):null},activate:function(F){var R=Ue.parseHeader(F),B=[];R.eachOffer(function(H,Z){var ae=this._index[H];if(!ae)throw new Error('Server sent an extension response for unknown extension "'+H+'"');var ce=ae[0],be=ae[1],we=this._reserved(ce);if(we)throw new Error("Server sent two extension responses that use the RSV"+we[0]+' bit: "'+we[1]+'" and "'+ce.name+'"');if(be.activate(Z)!==!0)throw new Error("Server sent unacceptable extension parameters: "+Ue.serializeParams(H,Z));this._reserve(ce),B.push(ae)},this),this._sessions=B,this._pipeline=new Le(B)},generateResponse:function(F){var R=[],B=[],H=Ue.parseHeader(F);return this._inOrder.forEach(function(Z){var ae=H.byName(Z.name);if(!(ae.length===0||this._reserved(Z))){var ce=Z.createServerSession(ae);ce&&(this._reserve(Z),R.push([Z,ce]),B.push(Ue.serializeParams(Z.name,ce.generateResponse())))}},this),this._sessions=R,this._pipeline=new Le(R),B.length>0?B.join(", "):null},validFrameRsv:function(F){var R={rsv1:!1,rsv2:!1,rsv3:!1},B;if(nt.MESSAGE_OPCODES.indexOf(F.opcode)>=0)for(var H=0,Z=this._sessions.length;H<Z;H++)B=this._sessions[H][0],R.rsv1=R.rsv1||B.rsv1,R.rsv2=R.rsv2||B.rsv2,R.rsv3=R.rsv3||B.rsv3;return(R.rsv1||!F.rsv1)&&(R.rsv2||!F.rsv2)&&(R.rsv3||!F.rsv3)},processIncomingMessage:function(F,R,B){this._pipeline.processIncomingMessage(F,R,B)},processOutgoingMessage:function(F,R,B){this._pipeline.processOutgoingMessage(F,R,B)},close:function(F,R){if(!this._pipeline)return F.call(R);this._pipeline.close(F,R)},_reserve:function(F){this._rsv1=this._rsv1||F.rsv1&&F.name,this._rsv2=this._rsv2||F.rsv2&&F.name,this._rsv3=this._rsv3||F.rsv3&&F.name},_reserved:function(F){return this._rsv1&&F.rsv1?[1,this._rsv1]:this._rsv2&&F.rsv2?[2,this._rsv2]:this._rsv3&&F.rsv3?[3,this._rsv3]:!1}};for(var wt in ht)nt.prototype[wt]=ht[wt];var Wt=nt,Mt=function(){},sr={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var pt in sr)Mt.prototype[pt]=sr[pt];var ut=Mt,cr=G.exports.Buffer,Ut=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},zt={read:function(){return this.data=this.data||cr.concat(this._chunks,this.length)},pushFrame:function(F){this.rsv1=this.rsv1||F.rsv1,this.rsv2=this.rsv2||F.rsv2,this.rsv3=this.rsv3||F.rsv3,this.opcode===null&&(this.opcode=F.opcode),this._chunks.push(F.payload),this.length+=F.length}};for(var Or in zt)Ut.prototype[Or]=zt[Or];var rr=Ut,Yt=G.exports.Buffer,dr=_.default,nr=y.default,Lr=Wt,ve=d,Se=ut,Te=rr,Ne=function(F,R,B){if(ve.apply(this,arguments),this._extensions=new Lr,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},typeof this._protocols=="string"&&(this._protocols=this._protocols.split(/ *, */)),!!this._request){var H=this._request.headers["sec-websocket-protocol"],Z=this._protocols;H!==void 0&&(typeof H=="string"&&(H=H.split(/ *, */)),this.protocol=H.filter(function(ae){return Z.indexOf(ae)>=0})[0]),this.version="hybi-"+Ne.VERSION}};nr.inherits(Ne,ve),Ne.VERSION="13",Ne.mask=function(F,R,B){if(!R||R.length===0)return F;B=B||0;for(var H=0,Z=F.length-B;H<Z;H++)F[B+H]=F[B+H]^R[H%4];return F},Ne.generateAccept=function(F){var R=dr.createHash("sha1");return R.update(F+Ne.GUID),R.digest("base64")},Ne.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var Ke={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(F){return this._extensions.add(F),!0},parse:function(F){this._reader.put(F);for(var R=!0;R;)switch(this._stage){case 0:R=this._reader.read(1),R&&this._parseOpcode(R[0]);break;case 1:R=this._reader.read(1),R&&this._parseLength(R[0]);break;case 2:R=this._reader.read(this._frame.lengthBytes),R&&this._parseExtendedLength(R);break;case 3:R=this._reader.read(4),R&&(this._stage=4,this._frame.maskingKey=R);break;case 4:R=this._reader.read(this._frame.length),R&&(this._stage=0,this._emitFrame(R));break;default:R=null}},text:function(F){return this.readyState>1?!1:this.frame(F,"text")},binary:function(F){return this.readyState>1?!1:this.frame(F,"binary")},ping:function(F,R){return this.readyState>1?!1:(F=F||"",R&&(this._pingCallbacks[F]=R),this.frame(F,"ping"))},pong:function(F){return this.readyState>1?!1:(F=F||"",this.frame(F,"pong"))},close:function(F,R){return F=F||"",R=R||this.ERRORS.normal_closure,this.readyState<=0?(this.readyState=3,this.emit("close",new ve.CloseEvent(R,F)),!0):this.readyState===1?(this.readyState=2,this._extensions.close(function(){this.frame(F,"close",R)},this),!0):!1},frame:function(F,R,B){if(this.readyState<=0)return this._queue([F,R,B]);if(this.readyState>2)return!1;F instanceof Array&&(F=Yt.from(F)),typeof F=="number"&&(F=F.toString());var H=new Te,Z=typeof F=="string",ae,ce;H.rsv1=H.rsv2=H.rsv3=!1,H.opcode=this.OPCODES[R||(Z?"text":"binary")],ae=Z?Yt.from(F,"utf8"):F,B&&(ce=ae,ae=Yt.allocUnsafe(2+ce.length),ae.writeUInt16BE(B,0),ce.copy(ae,2)),H.data=ae;var be=function(we){var Re=new Se;Re.final=!0,Re.rsv1=we.rsv1,Re.rsv2=we.rsv2,Re.rsv3=we.rsv3,Re.opcode=we.opcode,Re.masked=!!this._masking,Re.length=we.data.length,Re.payload=we.data,Re.masked&&(Re.maskingKey=dr.randomBytes(4)),this._sendFrame(Re)};return this.MESSAGE_OPCODES.indexOf(H.opcode)>=0?this._extensions.processOutgoingMessage(H,function(we,Re){if(we)return this._fail("extension_error",we.message);be.call(this,Re)},this):be.call(this,H),!0},_sendFrame:function(F){var R=F.length,B=R<=125?2:R<=65535?4:10,H=B+(F.masked?4:0),Z=Yt.allocUnsafe(H+R),ae=F.masked?this.MASK:0;Z[0]=(F.final?this.FIN:0)|(F.rsv1?this.RSV1:0)|(F.rsv2?this.RSV2:0)|(F.rsv3?this.RSV3:0)|F.opcode,R<=125?Z[1]=ae|R:R<=65535?(Z[1]=ae|126,Z.writeUInt16BE(R,2)):(Z[1]=ae|127,Z.writeUInt32BE(Math.floor(R/4294967296),2),Z.writeUInt32BE(R%4294967296,6)),F.payload.copy(Z,H),F.masked&&(F.maskingKey.copy(Z,B),Ne.mask(Z,F.maskingKey,H)),this._write(Z)},_handshakeResponse:function(){var F=this._request.headers["sec-websocket-key"],R=this._request.headers["sec-websocket-version"];if(R!==Ne.VERSION)throw new Error("Unsupported WebSocket version: "+R);if(typeof F!="string")throw new Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",Ne.generateAccept(F)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var B=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);B&&this._headers.set("Sec-WebSocket-Extensions",B);var H="HTTP/1.1 101 Switching Protocols",Z=[H,this._headers.toString(),""];return Yt.from(Z.join(`\r
`),"utf8")},_shutdown:function(F,R,B){delete this._frame,delete this._message,this._stage=5;var H=this.readyState===1;this.readyState=2,this._extensions.close(function(){H&&this.frame(R,"close",F),this.readyState=3,B&&this.emit("error",new Error(R)),this.emit("close",new ve.CloseEvent(F,R))},this)},_fail:function(F,R){this.readyState>1||this._shutdown(this.ERRORS[F],R,!0)},_parseOpcode:function(F){var R=[this.RSV1,this.RSV2,this.RSV3].map(function(H){return(F&H)===H}),B=this._frame=new Se;if(B.final=(F&this.FIN)===this.FIN,B.rsv1=R[0],B.rsv2=R[1],B.rsv3=R[2],B.opcode=F&this.OPCODE,this._stage=1,!this._extensions.validFrameRsv(B))return this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+(B.rsv1?1:0)+", reserved2 = "+(B.rsv2?1:0)+", reserved3 = "+(B.rsv3?1:0));if(this.OPCODE_CODES.indexOf(B.opcode)<0)return this._fail("protocol_error","Unrecognized frame opcode: "+B.opcode);if(this.MESSAGE_OPCODES.indexOf(B.opcode)<0&&!B.final)return this._fail("protocol_error","Received fragmented control frame: opcode = "+B.opcode);if(this._message&&this.OPENING_OPCODES.indexOf(B.opcode)>=0)return this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished")},_parseLength:function(F){var R=this._frame;if(R.masked=(F&this.MASK)===this.MASK,R.length=F&this.LENGTH,R.length>=0&&R.length<=125){if(this._stage=R.masked?3:4,!this._checkFrameLength())return}else this._stage=2,R.lengthBytes=R.length===126?2:8;if(this._requireMasking&&!R.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(F){var R=this._frame;if(R.length=this._readUInt(F),this._stage=R.masked?3:4,this.MESSAGE_OPCODES.indexOf(R.opcode)<0&&R.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+R.length);this._checkFrameLength()},_checkFrameLength:function(){var F=this._message?this._message.length:0;return F+this._frame.length>this._maxLength?(this._fail("too_large","WebSocket frame length too large"),!1):!0},_emitFrame:function(F){var R=this._frame,B=R.payload=Ne.mask(F,R.maskingKey),H=R.opcode,Z,ae,ce,be,we;if(delete this._frame,H===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(R)}if((H===this.OPCODES.text||H===this.OPCODES.binary)&&(this._message=new Te,this._message.pushFrame(R)),R.final&&this.MESSAGE_OPCODES.indexOf(H)>=0)return this._emitMessage(this._message);H===this.OPCODES.close&&(ae=B.length>=2?B.readUInt16BE(0):null,ce=B.length>2?this._encode(B.slice(2)):null,B.length!==0&&!(ae!==null&&ae>=this.MIN_RESERVED_ERROR&&ae<=this.MAX_RESERVED_ERROR)&&this.ERROR_CODES.indexOf(ae)<0&&(ae=this.ERRORS.protocol_error),(B.length>125||B.length>2&&!ce)&&(ae=this.ERRORS.protocol_error),this._shutdown(ae||this.DEFAULT_ERROR_CODE,ce||"")),H===this.OPCODES.ping&&(this.frame(B,"pong"),this.emit("ping",new ve.PingEvent(B.toString()))),H===this.OPCODES.pong&&(be=this._pingCallbacks,Z=this._encode(B),we=be[Z],delete be[Z],we&&we(),this.emit("pong",new ve.PongEvent(B.toString())))},_emitMessage:function(R){var R=this._message;R.read(),delete this._message,this._extensions.processIncomingMessage(R,function(B,H){if(B)return this._fail("extension_error",B.message);var Z=H.data;if(H.opcode===this.OPCODES.text&&(Z=this._encode(Z)),Z===null)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new ve.MessageEvent(Z))},this)},_encode:function(F){try{var R=F.toString("binary",0,F.length);if(!this.UTF8_MATCH.test(R))return null}catch{}return F.toString("utf8",0,F.length)},_readUInt:function(F){return F.length===2?F.readUInt16BE(0):F.readUInt32BE(0)*4294967296+F.readUInt32BE(4)}};for(var Ge in Ke)Ne.prototype[Ge]=Ke[Ge];var et=Ne,Ye=G.exports.Buffer,Rt=I.default.Stream,$t=T.default,Qt=y.default,Xt=d,lr=oe,yr=St,Ht={"ws:":80,"wss:":443},ur=function(F,R,B){this._client=F,this._http=new yr("response"),this._origin=typeof F.url=="object"?F.url:$t.parse(F.url),this._url=typeof R=="object"?R:$t.parse(R),this._options=B||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new lr,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var H=this._url.auth&&Ye.from(this._url.auth,"utf8").toString("base64");H&&this._headers.set("Proxy-Authorization","Basic "+H)};Qt.inherits(ur,Rt);var Zt={setHeader:function(F,R){return this._state!==0?!1:(this._headers.set(F,R),!0)},start:function(){if(this._state!==0)return!1;this._state=1;var F=this._origin,R=F.port||Ht[F.protocol],B="CONNECT "+F.hostname+":"+R+" HTTP/1.1",H=[B,this._headers.toString(),""];return this.emit("data",Ye.from(H.join(`\r
`),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(F){if(!this.writable)return!1;if(this._http.parse(F),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this.statusCode===200)this.emit("connect",new Xt.ConnectEvent);else{var R="Can't establish a connection to the server at "+this._origin.href;this.emit("error",new Error(R))}return this.end(),!this._paused},end:function(F){this.writable&&(F!==void 0&&this.write(F),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(var ir in Zt)ur.prototype[ir]=Zt[ir];var vr=ur,Gr=G.exports.Buffer,_r=_.default,nn=T.default,qr=y.default,hn=St,Nr=d,Fr=et,on=vr,Dr=function(F,R){this.version="hybi-"+Fr.VERSION,Fr.call(this,null,F,R),this.readyState=-1,this._key=Dr.generateKey(),this._accept=Fr.generateAccept(this._key),this._http=new hn("response");var B=nn.parse(this.url),H=B.auth&&Gr.from(B.auth,"utf8").toString("base64");if(this.VALID_PROTOCOLS.indexOf(B.protocol)<0)throw new Error(this.url+" is not a valid WebSocket URL");this._pathname=(B.pathname||"/")+(B.search||""),this._headers.set("Host",B.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",Fr.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),H&&this._headers.set("Authorization","Basic "+H)};qr.inherits(Dr,Fr),Dr.generateKey=function(){return _r.randomBytes(16).toString("base64")};var xr={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(F,R){return new on(this,F,R)},start:function(){return this.readyState!==-1?!1:(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(F){if(this.readyState!==3){if(this.readyState>0)return Fr.prototype.parse.call(this,F);this._http.parse(F),this._http.isComplete()&&(this._validateHandshake(),this.readyState!==3&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var F=this._extensions.generateOffer();F&&this._headers.set("Sec-WebSocket-Extensions",F);var R="GET "+this._pathname+" HTTP/1.1",B=[R,this._headers.toString(),""];return Gr.from(B.join(`\r
`),"utf8")},_failHandshake:function(F){F="Error during WebSocket handshake: "+F,this.readyState=3,this.emit("error",new Error(F)),this.emit("close",new Nr.CloseEvent(this.ERRORS.protocol_error,F))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(this._http.statusCode!==101)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var F=this._http.headers,R=F.upgrade||"",B=F.connection||"",H=F["sec-websocket-accept"]||"",Z=F["sec-websocket-protocol"]||"";if(R==="")return this._failHandshake("'Upgrade' header is missing");if(R.toLowerCase()!=="websocket")return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(B==="")return this._failHandshake("'Connection' header is missing");if(B.toLowerCase()!=="upgrade")return this._failHandshake("'Connection' header value is not 'Upgrade'");if(H!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,Z!==""){if(this._protocols.indexOf(Z)<0)return this._failHandshake("Sec-WebSocket-Protocol mismatch");this.protocol=Z}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(ae){return this._failHandshake(ae.message)}}};for(var an in xr)Dr.prototype[an]=xr[an];var sn=Dr,Hr=G.exports.Buffer,Mr=d,ln=y.default,Jr=function(F,R,B){Mr.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};ln.inherits(Jr,Mr);var un={close:function(){return this.readyState===3?!1:(this.readyState=3,this.emit("close",new Mr.CloseEvent(null,null)),!0)},parse:function(F){this.readyState>1||(this._reader.put(F),this._reader.eachByte(function(R){var B;switch(this._stage){case-1:this._body.push(R),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(R);break;case 1:if(this._length=(R&127)+128*this._length,this._closing&&this._length===0)return this.close();(R&128)!==128&&(this._length===0?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(R===255)this._stage=0,B=Hr.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new Mr.MessageEvent(B));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(R),this._buffer.length>this._maxLength)return this.close();break}},this))},frame:function(F){if(this.readyState===0)return this._queue([F]);if(this.readyState>1)return!1;typeof F!="string"&&(F=F.toString());var R=Hr.byteLength(F),B=Hr.allocUnsafe(R+2);return B[0]=0,B.write(F,1),B[B.length-1]=255,this._write(B),!0},_handshakeResponse:function(){var F="HTTP/1.1 101 Web Socket Protocol Handshake",R=[F,this._headers.toString(),""];return Hr.from(R.join(`\r
`),"utf8")},_parseLeadingByte:function(F){(F&128)===128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(var zr in un)Jr.prototype[zr]=un[zr];var gn=Jr,wr=G.exports.Buffer,mn=d,kr=gn,Yr=_.default,Qr=y.default,Ae=function(F){return parseInt((F.match(/[0-9]/g)||[]).join(""),10)},Fe=function(F){return(F.match(/ /g)||[]).length},We=function(F,R,B){kr.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};Qr.inherits(We,kr);var at={BODY_SIZE:8,start:function(){return kr.prototype.start.call(this)?(this._started=!0,this._sendHandshakeBody(),!0):!1},close:function(){return this.readyState===3?!1:(this.readyState===1&&this._write(wr.from([255,0])),this.readyState=3,this.emit("close",new mn.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var be=this._request.headers,F=be["sec-websocket-key1"],R=be["sec-websocket-key2"];if(!F)throw new Error("Missing required header: Sec-WebSocket-Key1");if(!R)throw new Error("Missing required header: Sec-WebSocket-Key2");var B=Ae(F),H=Fe(F),Z=Ae(R),ae=Fe(R);if(B%H!==0||Z%ae!==0)throw new Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[B/H,Z/ae];var ce="HTTP/1.1 101 WebSocket Protocol Handshake",be=[ce,this._headers.toString(),""];return wr.from(be.join(`\r
`),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var F=Yr.createHash("md5"),R=wr.allocUnsafe(8+this.BODY_SIZE);return R.writeUInt32BE(this._keyValues[0],0),R.writeUInt32BE(this._keyValues[1],4),wr.from(this._body).copy(R,8,0,this.BODY_SIZE),F.update(R),wr.from(F.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var F=this._handshakeSignature();F&&(this._write(F),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(F){if(F!==255)return kr.prototype._parseLeadingByte.call(this,F);this._closing=!0,this._length=0,this._stage=1}};for(var er in at)We.prototype[er]=at[er];var gr=We,br=y.default,pr=St,r=d,E=gn,S=gr,ue=et,Qe=function(F){r.call(this,null,null,F),this._http=new pr("request")};br.inherits(Qe,r);var Mn={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(F){if(this._delegate)return this._delegate.parse(F);if(this._http.parse(F),!!this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var R=this;this._delegate=Qe.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(B){this._delegate.on(B,function(H){R.emit(B,H)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new r.ConnectEvent)}},_open:function(){this.__queue.forEach(function(F){this._delegate[F[0]].apply(this._delegate,F[1])},this),this.__queue=[]}};["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(F){Mn[F]=function(){return this._delegate?this._delegate[F].apply(this._delegate,arguments):(this.__queue.push([F,arguments]),!0)}});for(var Un in Mn)Qe.prototype[Un]=Mn[Un];Qe.isSecureRequest=function(F){if(F.connection&&F.connection.authorized!==void 0||F.socket&&F.socket.secure)return!0;var R=F.headers;return R?R.https==="on"||R["x-forwarded-ssl"]==="on"||R["x-forwarded-scheme"]==="https"||R["x-forwarded-proto"]==="https":!1},Qe.determineUrl=function(F){var R=this.isSecureRequest(F)?"wss:":"ws:";return R+"//"+F.headers.host+F.url},Qe.http=function(F,R){R=R||{},R.requireMasking===void 0&&(R.requireMasking=!0);var B=F.headers,H=B["sec-websocket-version"],Z=B["sec-websocket-key"],ae=B["sec-websocket-key1"],ce=B["sec-websocket-key2"],be=this.determineUrl(F);return H||Z?new ue(F,be,R):ae||ce?new S(F,be,R):new E(F,be,R)};var Qu=Qe,ts=d,Xu=sn,Wi=Qu,Zu={client:function(F,R){return R=R||{},R.masking===void 0&&(R.masking=!0),new Xu(F,R)},server:function(F){return F=F||{},F.requireMasking===void 0&&(F.requireMasking=!0),new Wi(F)},http:function(){return Wi.http.apply(Wi,arguments)},isSecureRequest:function(F){return Wi.isSecureRequest(F)},isWebSocket:function(F){return ts.isWebSocket(F)},validateOptions:function(F,R){ts.validateOptions(F,R)}},Ji=Zu,Bn=function(F,R){this.type=F;for(var B in R)this[B]=R[B]};Bn.prototype.initEvent=function(F,R,B){this.type=F,this.bubbles=R,this.cancelable=B},Bn.prototype.stopPropagation=function(){},Bn.prototype.preventDefault=function(){},Bn.CAPTURING_PHASE=1,Bn.AT_TARGET=2,Bn.BUBBLING_PHASE=3;var jo=Bn,ec=jo,tc={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(F,R,B){this.on(F,R)},removeEventListener:function(F,R,B){this.removeListener(F,R)},dispatchEvent:function(F){F.target=F.currentTarget=this,F.eventPhase=ec.AT_TARGET,this["on"+F.type]&&this["on"+F.type](F),this.emit(F.type,F)}},rs=tc,rc=I.default.Stream,nc=y.default,ic=Ji,ns=rs,zi=jo,fr=function(F){F=F||{},ic.validateOptions(F,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var R=F.headers;if(R)for(var B in R)this._driver.setHeader(B,R[B]);var H=F.extensions;H&&[].concat(H).forEach(this._driver.addExtension,this._driver),this._ping=F.ping,this._pingId=0,this.readyState=fr.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var Z=this;this._driver.on("open",function(ae){Z._open()}),this._driver.on("message",function(ae){Z._receiveMessage(ae.data)}),this._driver.on("close",function(ae){Z._beginClose(ae.reason,ae.code)}),this._driver.on("error",function(ae){Z._emitError(ae.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){Z.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){Z._pingId+=1,Z.ping(Z._pingId.toString())},this._ping*1e3)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};nc.inherits(fr,rc),fr.CONNECTING=0,fr.OPEN=1,fr.CLOSING=2,fr.CLOSED=3,fr.CLOSE_TIMEOUT=3e4;var is={write:function(F){return this.send(F)},end:function(F){F!==void 0&&this.send(F),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(F){return this.readyState>fr.OPEN?!1:(F instanceof Buffer||(F=String(F)),this._driver.messages.write(F))},ping:function(F,R){return this.readyState>fr.OPEN?!1:this._driver.ping(F,R)},close:function(F,R){if(F===void 0&&(F=1e3),R===void 0&&(R=""),F!==1e3&&(F<3e3||F>4999))throw new Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+F+" is neither.");if(this.readyState<fr.CLOSING){var B=this;this._closeTimer=setTimeout(function(){B._beginClose("",1006)},fr.CLOSE_TIMEOUT)}this.readyState!==fr.CLOSED&&(this.readyState=fr.CLOSING),this._driver.close(R,F)},_configureStream:function(){var F=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(R){this._stream.on(R,function(){F._finalizeClose()})},this),this._stream.on("error",function(R){F._emitError("Network error: "+F.url+": "+R.message),F._finalizeClose()})},_open:function(){if(this.readyState===fr.CONNECTING){this.readyState=fr.OPEN,this.protocol=this._driver.protocol||"";var F=new zi("open");F.initEvent("open",!1,!1),this.dispatchEvent(F)}},_receiveMessage:function(F){if(this.readyState>fr.OPEN)return!1;this.readable&&this.emit("data",F);var R=new zi("message",{data:F});R.initEvent("message",!1,!1),this.dispatchEvent(R)},_emitError:function(F){if(!(this.readyState>=fr.CLOSING)){var R=new zi("error",{message:F});R.initEvent("error",!1,!1),this.dispatchEvent(R)}},_beginClose:function(F,R){this.readyState!==fr.CLOSED&&(this.readyState=fr.CLOSING,this._closeParams=[F,R],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==fr.CLOSED){this.readyState=fr.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var F=this._closeParams?this._closeParams[0]:"",R=this._closeParams?this._closeParams[1]:1006,B=new zi("close",{code:R,reason:F});B.initEvent("close",!1,!1),this.dispatchEvent(B)}}};for(var os in is)fr.prototype[os]=is[os];for(var as in ns)fr.prototype[as]=ns[as];var Lo=fr,oc=y.default,ac=C.default,ss=N.default,ls=T.default,sc=Ji,us=Lo,lc={"http:":80,"https:":443,"ws:":80,"wss:":443},cs=["https:","wss:"],Yi=function(F,R,B){B=B||{},this.url=F,this._driver=sc.client(this.url,{maxLength:B.maxLength,protocols:R}),["open","error"].forEach(function(He){this._driver.on(He,function(){Be.headers=Be._driver.headers,Be.statusCode=Be._driver.statusCode})},this);var H=B.proxy||{},Z=ls.parse(H.origin||this.url),ae=Z.port||lc[Z.protocol],ce=cs.indexOf(Z.protocol)>=0,be=function(){Be._onConnect()},we=B.net||{},Re=B.tls||{},qe=H.origin?H.tls||{}:Re,Be=this;we.host=qe.host=Z.hostname,we.port=qe.port=ae,Re.ca=Re.ca||B.ca,qe.servername=qe.servername||Z.hostname,this._stream=ce?ss.connect(qe,be):ac.connect(we,be),H.origin&&this._configureProxy(H,Re),us.call(this,B)};oc.inherits(Yi,us),Yi.prototype._onConnect=function(){var F=this._proxy||this._driver;F.start()},Yi.prototype._configureProxy=function(F,R){var B=ls.parse(this.url),H=cs.indexOf(B.protocol)>=0,Z=this,ae;if(this._proxy=this._driver.proxy(F.origin),F.headers)for(ae in F.headers)this._proxy.setHeader(ae,F.headers[ae]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(H){var ce={socket:Z._stream,servername:B.hostname};for(ae in R)ce[ae]=R[ae];Z._stream=ss.connect(ce),Z._configureStream()}Z._driver.io.pipe(Z._stream),Z._stream.pipe(Z._driver.io),Z._driver.start()}),this._proxy.on("error",function(ce){Z._driver.emit("error",ce)})};var uc=Yi,cc=I.default.Stream,dc=y.default,pc=Ji,fc=oe,Qn=Lo,ds=rs,ps=jo,fi=function(F,R,B){this.writable=!0,B=B||{},this._stream=R.socket,this._ping=B.ping||this.DEFAULT_PING,this._retry=B.retry||this.DEFAULT_RETRY;var H=pc.isSecureRequest(F)?"https:":"http:";this.url=H+"//"+F.headers.host+F.url,this.lastEventId=F.headers["last-event-id"]||"",this.readyState=Qn.CONNECTING;var Z=new fc,ae=this;if(B.headers)for(var ce in B.headers)Z.set(ce,B.headers[ce]);if(!(!this._stream||!this._stream.writable)){process.nextTick(function(){ae._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var be=`HTTP/1.1 200 OK\r
Content-Type: text/event-stream\r
Cache-Control: no-cache, no-store\r
Connection: close\r
`+Z.toString()+`\r
retry: `+Math.floor(this._retry*1e3)+`\r
\r
`;this._write(be),this._stream.on("drain",function(){ae.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){ae.ping()},this._ping*1e3)),["error","end"].forEach(function(we){ae._stream.on(we,function(){ae.close()})})}};dc.inherits(fi,cc),fi.isEventSource=function(F){if(F.method!=="GET")return!1;var R=(F.headers.accept||"").split(/\s*,\s*/);return R.indexOf("text/event-stream")>=0};var fs={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(F){if(!this.writable)return!1;try{return this._stream.write(F,"utf8")}catch{return!1}},_open:function(){if(this.readyState===Qn.CONNECTING){this.readyState=Qn.OPEN;var F=new ps("open");F.initEvent("open",!1,!1),this.dispatchEvent(F)}},write:function(F){return this.send(F)},end:function(F){F!==void 0&&this.write(F),this.close()},send:function(F,R){if(this.readyState>Qn.OPEN)return!1;F=String(F).replace(/(\r\n|\r|\n)/g,"$1data: "),R=R||{};var B="";return R.event&&(B+="event: "+R.event+`\r
`),R.id&&(B+="id: "+R.id+`\r
`),B+="data: "+F+`\r
\r
`,this._write(B)},ping:function(){return this._write(`:\r
\r
`)},close:function(){if(this.readyState>Qn.OPEN)return!1;this.readyState=Qn.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var F=new ps("close");return F.initEvent("close",!1,!1),this.dispatchEvent(F),!0}};for(var hs in fs)fi.prototype[hs]=fs[hs];for(var gs in ds)fi.prototype[gs]=ds[gs];var hc=fi,gc=y.default,qo=Ji,ys=Lo,wn=function(F,R,B,H,Z){Z=Z||{},this._stream=R,this._driver=qo.http(F,{maxLength:Z.maxLength,protocols:H});var ae=this;if(!(!this._stream||!this._stream.writable)){if(!this._stream.readable)return this._stream.end();var ce=function(){ae._stream.removeListener("data",ce)};this._stream.on("data",ce),ys.call(this,Z),process.nextTick(function(){ae._driver.start(),ae._driver.io.write(B)})}};gc.inherits(wn,ys),wn.isWebSocket=function(F){return qo.isWebSocket(F)},wn.validateOptions=function(F,R){qo.validateOptions(F,R)},wn.WebSocket=wn,wn.Client=uc,wn.EventSource=hc;var mc=wn,vs={};const yc=(F,R)=>R.some(B=>F instanceof B);let _s,bs;function vc(){return _s||(_s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _c(){return bs||(bs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Es=new WeakMap,Fo=new WeakMap,Ss=new WeakMap,Mo=new WeakMap,Uo=new WeakMap;function bc(F){const R=new Promise((B,H)=>{const Z=()=>{F.removeEventListener("success",ae),F.removeEventListener("error",ce)},ae=()=>{B(yn(F.result)),Z()},ce=()=>{H(F.error),Z()};F.addEventListener("success",ae),F.addEventListener("error",ce)});return R.then(B=>{B instanceof IDBCursor&&Es.set(B,F)}).catch(()=>{}),Uo.set(R,F),R}function Ec(F){if(Fo.has(F))return;const R=new Promise((B,H)=>{const Z=()=>{F.removeEventListener("complete",ae),F.removeEventListener("error",ce),F.removeEventListener("abort",ce)},ae=()=>{B(),Z()},ce=()=>{H(F.error||new DOMException("AbortError","AbortError")),Z()};F.addEventListener("complete",ae),F.addEventListener("error",ce),F.addEventListener("abort",ce)});Fo.set(F,R)}let Bo={get(F,R,B){if(F instanceof IDBTransaction){if(R==="done")return Fo.get(F);if(R==="objectStoreNames")return F.objectStoreNames||Ss.get(F);if(R==="store")return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return yn(F[R])},set(F,R,B){return F[R]=B,!0},has(F,R){return F instanceof IDBTransaction&&(R==="done"||R==="store")?!0:R in F}};function Sc(F){Bo=F(Bo)}function Oc(F){return F===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(R,...B){const H=F.call(Qi(this),R,...B);return Ss.set(H,R.sort?R.sort():[R]),yn(H)}:_c().includes(F)?function(...R){return F.apply(Qi(this),R),yn(Es.get(this))}:function(...R){return yn(F.apply(Qi(this),R))}}function wc(F){return typeof F=="function"?Oc(F):(F instanceof IDBTransaction&&Ec(F),yc(F,vc())?new Proxy(F,Bo):F)}function yn(F){if(F instanceof IDBRequest)return bc(F);if(Mo.has(F))return Mo.get(F);const R=wc(F);return R!==F&&(Mo.set(F,R),Uo.set(R,F)),R}const Qi=F=>Uo.get(F);function Tc(F,R,{blocked:B,upgrade:H,blocking:Z,terminated:ae}={}){const ce=indexedDB.open(F,R),be=yn(ce);return H&&ce.addEventListener("upgradeneeded",we=>{H(yn(ce.result),we.oldVersion,we.newVersion,yn(ce.transaction),we)}),B&&ce.addEventListener("blocked",we=>B(we.oldVersion,we.newVersion,we)),be.then(we=>{ae&&we.addEventListener("close",()=>ae()),Z&&we.addEventListener("versionchange",Re=>Z(Re.oldVersion,Re.newVersion,Re))}).catch(()=>{}),be}function Ac(F,{blocked:R}={}){const B=indexedDB.deleteDatabase(F);return R&&B.addEventListener("blocked",H=>R(H.oldVersion,H)),yn(B).then(()=>{})}const Rc=["get","getKey","getAll","getAllKeys","count"],Cc=["put","add","delete","clear"],Vo=new Map;function Os(F,R){if(!(F instanceof IDBDatabase&&!(R in F)&&typeof R=="string"))return;if(Vo.get(R))return Vo.get(R);const B=R.replace(/FromIndex$/,""),H=R!==B,Z=Cc.includes(B);if(!(B in(H?IDBIndex:IDBObjectStore).prototype)||!(Z||Rc.includes(B)))return;const ae=async function(ce,...be){const we=this.transaction(ce,Z?"readwrite":"readonly");let Re=we.store;return H&&(Re=Re.index(be.shift())),(await Promise.all([Re[B](...be),Z&&we.done]))[0]};return Vo.set(R,ae),ae}Sc(F=>({...F,get:(R,B,H)=>Os(R,B)||F.get(R,B,H),has:(R,B)=>!!Os(R,B)||F.has(R,B)}));var Ic=Object.freeze({__proto__:null,deleteDB:Ac,openDB:Tc,unwrap:Qi,wrap:yn}),Pc=k(Ic);(function(F){Object.defineProperty(F,"__esModule",{value:!0});var R=j.default,B=D.default,H=L.default,Z=Pc;class ae{constructor(Xe){this.container=Xe}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(ce(rt)){const ct=rt.getImmediate();return`${ct.library}/${ct.version}`}else return null}).filter(rt=>rt).join(" ")}}function ce(tt){return tt.getComponent()?.type==="VERSION"}const be="@firebase/app",we="0.14.0";const Re=new B.Logger("@firebase/app"),qe="@firebase/app-compat",Be="@firebase/analytics-compat",He="@firebase/analytics",ot="@firebase/app-check-compat",ft="@firebase/app-check",Ft="@firebase/auth",Er="@firebase/auth-compat",Ln="@firebase/database",ci="@firebase/data-connect",Vi="@firebase/database-compat",za="@firebase/functions",vg="@firebase/functions-compat",_g="@firebase/installations",bg="@firebase/installations-compat",Eg="@firebase/messaging",Sg="@firebase/messaging-compat",Og="@firebase/performance",wg="@firebase/performance-compat",Tg="@firebase/remote-config",Ag="@firebase/remote-config-compat",Rg="@firebase/storage",Cg="@firebase/storage-compat",Ig="@firebase/firestore",Pg="@firebase/ai",xg="@firebase/firestore-compat",Ng="firebase",Dg="12.0.0";const $i="[DEFAULT]",kg={[be]:"fire-core",[qe]:"fire-core-compat",[He]:"fire-analytics",[Be]:"fire-analytics-compat",[ft]:"fire-app-check",[ot]:"fire-app-check-compat",[Ft]:"fire-auth",[Er]:"fire-auth-compat",[Ln]:"fire-rtdb",[ci]:"fire-data-connect",[Vi]:"fire-rtdb-compat",[za]:"fire-fn",[vg]:"fire-fn-compat",[_g]:"fire-iid",[bg]:"fire-iid-compat",[Eg]:"fire-fcm",[Sg]:"fire-fcm-compat",[Og]:"fire-perf",[wg]:"fire-perf-compat",[Tg]:"fire-rc",[Ag]:"fire-rc-compat",[Rg]:"fire-gcs",[Cg]:"fire-gcs-compat",[Ig]:"fire-fst",[xg]:"fire-fst-compat",[Pg]:"fire-vertex","fire-js":"fire-js",[Ng]:"fire-js-all"};const qn=new Map,di=new Map,pi=new Map;function Ya(tt,Xe){try{tt.container.addComponent(Xe)}catch(rt){Re.debug(`Component ${Xe.name} failed to register with FirebaseApp ${tt.name}`,rt)}}function jg(tt,Xe){tt.container.addOrOverwriteComponent(Xe)}function ko(tt){const Xe=tt.name;if(pi.has(Xe))return Re.debug(`There were multiple attempts to register component ${Xe}.`),!1;pi.set(Xe,tt);for(const rt of qn.values())Ya(rt,tt);for(const rt of di.values())Ya(rt,tt);return!0}function Mu(tt,Xe){const rt=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),tt.container.getProvider(Xe)}function Lg(tt,Xe,rt=$i){Mu(tt,Xe).clearInstance(rt)}function Qa(tt){return tt.options!==void 0}function Uu(tt){return Qa(tt)?!1:"authIdToken"in tt||"appCheckToken"in tt||"releaseOnDeref"in tt||"automaticDataCollectionEnabled"in tt}function qg(tt){return tt==null?!1:tt.settings!==void 0}function Fg(){pi.clear()}const Mg={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new H.ErrorFactory("app","Firebase",Mg);class Bu{constructor(Xe,rt,ct){this._isDeleted=!1,this._options={...Xe},this._config={...rt},this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new R.Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Xe){this._isDeleted=Xe}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}function Vu(tt,Xe){const rt=H.base64Decode(tt.split(".")[1]);if(rt===null){console.error(`FirebaseServerApp ${Xe} is invalid: second part could not be parsed.`);return}if(JSON.parse(rt).exp===void 0){console.error(`FirebaseServerApp ${Xe} is invalid: expiration claim could not be parsed`);return}const Vt=JSON.parse(rt).exp*1e3,Sr=new Date().getTime();Vt-Sr<=0&&console.error(`FirebaseServerApp ${Xe} is invalid: the token has expired.`)}class Ug extends Bu{constructor(Xe,rt,ct,Vt){const Sr=rt.automaticDataCollectionEnabled!==void 0?rt.automaticDataCollectionEnabled:!0,Pr={name:ct,automaticDataCollectionEnabled:Sr};if(Xe.apiKey!==void 0)super(Xe,Pr,Vt);else{const Fn=Xe;super(Fn.options,Pr,Vt)}this._serverConfig={automaticDataCollectionEnabled:Sr,...rt},this._serverConfig.authIdToken&&Vu(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&Vu(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,rt.releaseOnDeref=void 0,Gi(be,we,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Xe){this.isDeleted||(this._refCount++,Xe!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(Xe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Gu(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Wr.create("server-app-deleted")}}const Bg=Dg;function $u(tt,Xe={}){let rt=tt;typeof Xe!="object"&&(Xe={name:Xe});const ct={name:$i,automaticDataCollectionEnabled:!0,...Xe},Vt=ct.name;if(typeof Vt!="string"||!Vt)throw Wr.create("bad-app-name",{appName:String(Vt)});if(rt||(rt=H.getDefaultAppConfig()),!rt)throw Wr.create("no-options");const Sr=qn.get(Vt);if(Sr){if(H.deepEqual(rt,Sr.options)&&H.deepEqual(ct,Sr.config))return Sr;throw Wr.create("duplicate-app",{appName:Vt})}const Pr=new R.ComponentContainer(Vt);for(const Ki of pi.values())Pr.addComponent(Ki);const Fn=new Bu(rt,ct,Pr);return qn.set(Vt,Fn),Fn}function Vg(tt,Xe={}){if(H.isBrowser()&&!H.isWebWorker())throw Wr.create("invalid-server-app-environment");let rt,ct=Xe||{};if(tt&&(Qa(tt)?rt=tt.options:Uu(tt)?ct=tt:rt=tt),ct.automaticDataCollectionEnabled===void 0&&(ct.automaticDataCollectionEnabled=!0),rt||(rt=H.getDefaultAppConfig()),!rt)throw Wr.create("no-options");const Vt={...ct,...rt};Vt.releaseOnDeref!==void 0&&delete Vt.releaseOnDeref;const Sr=Za=>[...Za].reduce((nm,im)=>Math.imul(31,nm)+im.charCodeAt(0)|0,0);if(ct.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Wr.create("finalization-registry-not-supported",{});const Pr=""+Sr(JSON.stringify(Vt)),Fn=di.get(Pr);if(Fn)return Fn.incRefCount(ct.releaseOnDeref),Fn;const Ki=new R.ComponentContainer(Pr);for(const Za of pi.values())Ki.addComponent(Za);const Yu=new Ug(rt,ct,Pr,Ki);return di.set(Pr,Yu),Yu}function $g(tt=$i){const Xe=qn.get(tt);if(!Xe&&tt===$i&&H.getDefaultAppConfig())return $u();if(!Xe)throw Wr.create("no-app",{appName:tt});return Xe}function Gg(){return Array.from(qn.values())}async function Gu(tt){let Xe=!1;const rt=tt.name;qn.has(rt)?(Xe=!0,qn.delete(rt)):di.has(rt)&&tt.decRefCount()<=0&&(di.delete(rt),Xe=!0),Xe&&(await Promise.all(tt.container.getProviders().map(ct=>ct.delete())),tt.isDeleted=!0)}function Gi(tt,Xe,rt){let ct=kg[tt]??tt;rt&&(ct+=`-${rt}`);const Vt=ct.match(/\s|\//),Sr=Xe.match(/\s|\//);if(Vt||Sr){const Pr=[`Unable to register library "${ct}" with version "${Xe}":`];Vt&&Pr.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Vt&&Sr&&Pr.push("and"),Sr&&Pr.push(`version name "${Xe}" contains illegal characters (whitespace or "/")`),Re.warn(Pr.join(" "));return}ko(new R.Component(`${ct}-version`,()=>({library:ct,version:Xe}),"VERSION"))}function Hg(tt,Xe){if(tt!==null&&typeof tt!="function")throw Wr.create("invalid-log-argument");B.setUserLogHandler(tt,Xe)}function Kg(tt){B.setLogLevel(tt)}const Wg="firebase-heartbeat-database",Jg=1,Hi="firebase-heartbeat-store";let Xa=null;function Hu(){return Xa||(Xa=Z.openDB(Wg,Jg,{upgrade:(tt,Xe)=>{switch(Xe){case 0:try{tt.createObjectStore(Hi)}catch(rt){console.warn(rt)}}}}).catch(tt=>{throw Wr.create("idb-open",{originalErrorMessage:tt.message})})),Xa}async function zg(tt){try{const rt=(await Hu()).transaction(Hi),ct=await rt.objectStore(Hi).get(Wu(tt));return await rt.done,ct}catch(Xe){if(Xe instanceof H.FirebaseError)Re.warn(Xe.message);else{const rt=Wr.create("idb-get",{originalErrorMessage:Xe?.message});Re.warn(rt.message)}}}async function Ku(tt,Xe){try{const ct=(await Hu()).transaction(Hi,"readwrite");await ct.objectStore(Hi).put(Xe,Wu(tt)),await ct.done}catch(rt){if(rt instanceof H.FirebaseError)Re.warn(rt.message);else{const ct=Wr.create("idb-set",{originalErrorMessage:rt?.message});Re.warn(ct.message)}}}function Wu(tt){return`${tt.name}!${tt.options.appId}`}const Yg=1024,Qg=30;class Xg{constructor(Xe){this.container=Xe,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new em(rt),this._heartbeatsCachePromise=this._storage.read().then(ct=>(this._heartbeatsCache=ct,ct))}async triggerHeartbeat(){try{const rt=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=Ju();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===ct||this._heartbeatsCache.heartbeats.some(Vt=>Vt.date===ct))return;if(this._heartbeatsCache.heartbeats.push({date:ct,agent:rt}),this._heartbeatsCache.heartbeats.length>Qg){const Vt=tm(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(Vt,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Xe){Re.warn(Xe)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const Xe=Ju(),{heartbeatsToSend:rt,unsentEntries:ct}=Zg(this._heartbeatsCache.heartbeats),Vt=H.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:rt}));return this._heartbeatsCache.lastSentHeartbeatDate=Xe,ct.length>0?(this._heartbeatsCache.heartbeats=ct,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),Vt}catch(Xe){return Re.warn(Xe),""}}}function Ju(){return new Date().toISOString().substring(0,10)}function Zg(tt,Xe=Yg){const rt=[];let ct=tt.slice();for(const Vt of tt){const Sr=rt.find(Pr=>Pr.agent===Vt.agent);if(Sr){if(Sr.dates.push(Vt.date),zu(rt)>Xe){Sr.dates.pop();break}}else if(rt.push({agent:Vt.agent,dates:[Vt.date]}),zu(rt)>Xe){rt.pop();break}ct=ct.slice(1)}return{heartbeatsToSend:rt,unsentEntries:ct}}class em{constructor(Xe){this.app=Xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H.isIndexedDBAvailable()?H.validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const rt=await zg(this.app);return rt?.heartbeats?rt:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(Xe){if(await this._canUseIndexedDBPromise){const ct=await this.read();return Ku(this.app,{lastSentHeartbeatDate:Xe.lastSentHeartbeatDate??ct.lastSentHeartbeatDate,heartbeats:Xe.heartbeats})}else return}async add(Xe){if(await this._canUseIndexedDBPromise){const ct=await this.read();return Ku(this.app,{lastSentHeartbeatDate:Xe.lastSentHeartbeatDate??ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...Xe.heartbeats]})}else return}}function zu(tt){return H.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:tt})).length}function tm(tt){if(tt.length===0)return-1;let Xe=0,rt=tt[0].date;for(let ct=1;ct<tt.length;ct++)tt[ct].date<rt&&(rt=tt[ct].date,Xe=ct);return Xe}function rm(tt){ko(new R.Component("platform-logger",Xe=>new ae(Xe),"PRIVATE")),ko(new R.Component("heartbeat",Xe=>new Xg(Xe),"PRIVATE")),Gi(be,we,tt),Gi(be,we,"cjs2020"),Gi("fire-js","")}rm("node"),Object.defineProperty(F,"FirebaseError",{enumerable:!0,get:function(){return H.FirebaseError}}),F.SDK_VERSION=Bg,F._DEFAULT_ENTRY_NAME=$i,F._addComponent=Ya,F._addOrOverwriteComponent=jg,F._apps=qn,F._clearComponents=Fg,F._components=pi,F._getProvider=Mu,F._isFirebaseApp=Qa,F._isFirebaseServerApp=qg,F._isFirebaseServerAppSettings=Uu,F._registerComponent=ko,F._removeServiceInstance=Lg,F._serverApps=di,F.deleteApp=Gu,F.getApp=$g,F.getApps=Gg,F.initializeApp=$u,F.initializeServerApp=Vg,F.onLog=Hg,F.registerVersion=Gi,F.setLogLevel=Kg})(vs),Object.defineProperty(V,"__esModule",{value:!0});var xc=mc,De=L.default,ws=D.default,Nc=vs,hi=j.default;function Dc(F){return F&&typeof F=="object"&&"default"in F?F:{default:F}}var kc=Dc(xc);const Xi="5",Ts="v",As="s",Rs="r",Cs="f",Is=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ps="ls",xs="p",$o="ac",Ns="websocket",Ds="long_polling";class jc{constructor(R){this.domStorage_=R,this.prefix_="firebase:"}set(R,B){B==null?this.domStorage_.removeItem(this.prefixedName_(R)):this.domStorage_.setItem(this.prefixedName_(R),De.stringify(B))}get(R){const B=this.domStorage_.getItem(this.prefixedName_(R));return B==null?null:De.jsonEval(B)}remove(R){this.domStorage_.removeItem(this.prefixedName_(R))}prefixedName_(R){return this.prefix_+R}toString(){return this.domStorage_.toString()}}class Lc{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(R,B){B==null?delete this.cache_[R]:this.cache_[R]=B}get(R){return De.contains(this.cache_,R)?this.cache_[R]:null}remove(R){delete this.cache_[R]}}const ks=function(F){try{if(typeof window<"u"&&typeof window[F]<"u"){const R=window[F];return R.setItem("firebase:sentinel","cache"),R.removeItem("firebase:sentinel"),new jc(R)}}catch{}return new Lc},Vn=ks("localStorage"),Go=ks("sessionStorage");const Xn=new ws.Logger("@firebase/database"),js=(function(){let F=1;return function(){return F++}})(),Ls=function(F){const R=De.stringToByteArray(F),B=new De.Sha1;B.update(R);const H=B.digest();return De.base64.encodeByteArray(H)},gi=function(...F){let R="";for(let B=0;B<F.length;B++){const H=F[B];Array.isArray(H)||H&&typeof H=="object"&&typeof H.length=="number"?R+=gi.apply(null,H):typeof H=="object"?R+=De.stringify(H):R+=H,R+=" "}return R};let $n=null,qs=!0;const Fs=function(F,R){De.assert(!R||F===!0||F===!1,"Can't turn on custom loggers persistently."),F===!0?(Xn.logLevel=ws.LogLevel.VERBOSE,$n=Xn.log.bind(Xn),R&&Go.set("logging_enabled",!0)):typeof F=="function"?$n=F:($n=null,Go.remove("logging_enabled"))},Tr=function(...F){if(qs===!0&&(qs=!1,$n===null&&Go.get("logging_enabled")===!0&&Fs(!0)),$n){const R=gi.apply(null,F);$n(R)}},mi=function(F){return function(...R){Tr(F,...R)}},Ho=function(...F){const R="FIREBASE INTERNAL ERROR: "+gi(...F);Xn.error(R)},vn=function(...F){const R=`FIREBASE FATAL ERROR: ${gi(...F)}`;throw Xn.error(R),new Error(R)},jr=function(...F){const R="FIREBASE WARNING: "+gi(...F);Xn.warn(R)},qc=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zi=function(F){return typeof F=="number"&&(F!==F||F===Number.POSITIVE_INFINITY||F===Number.NEGATIVE_INFINITY)},Fc=function(F){if(De.isNodeSdk()||document.readyState==="complete")F();else{let R=!1;const B=function(){if(!document.body){setTimeout(B,Math.floor(10));return}R||(R=!0,F())};document.addEventListener?(document.addEventListener("DOMContentLoaded",B,!1),window.addEventListener("load",B,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&B()}),window.attachEvent("onload",B))}},Tn="[MIN_NAME]",En="[MAX_NAME]",Gn=function(F,R){if(F===R)return 0;if(F===Tn||R===En)return-1;if(R===Tn||F===En)return 1;{const B=Bs(F),H=Bs(R);return B!==null?H!==null?B-H===0?F.length-R.length:B-H:-1:H!==null?1:F<R?-1:1}},Mc=function(F,R){return F===R?0:F<R?-1:1},yi=function(F,R){if(R&&F in R)return R[F];throw new Error("Missing required key ("+F+") in object: "+De.stringify(R))},Ko=function(F){if(typeof F!="object"||F===null)return De.stringify(F);const R=[];for(const H in F)R.push(H);R.sort();let B="{";for(let H=0;H<R.length;H++)H!==0&&(B+=","),B+=De.stringify(R[H]),B+=":",B+=Ko(F[R[H]]);return B+="}",B},Ms=function(F,R){const B=F.length;if(B<=R)return[F];const H=[];for(let Z=0;Z<B;Z+=R)Z+R>B?H.push(F.substring(Z,B)):H.push(F.substring(Z,Z+R));return H};function Ar(F,R){for(const B in F)F.hasOwnProperty(B)&&R(B,F[B])}const Us=function(F){De.assert(!Zi(F),"Invalid JSON number");const R=11,B=52,H=(1<<R-1)-1;let Z,ae,ce,be,we;F===0?(ae=0,ce=0,Z=1/F===-1/0?1:0):(Z=F<0,F=Math.abs(F),F>=Math.pow(2,1-H)?(be=Math.min(Math.floor(Math.log(F)/Math.LN2),H),ae=be+H,ce=Math.round(F*Math.pow(2,B-be)-Math.pow(2,B))):(ae=0,ce=Math.round(F/Math.pow(2,1-H-B))));const Re=[];for(we=B;we;we-=1)Re.push(ce%2?1:0),ce=Math.floor(ce/2);for(we=R;we;we-=1)Re.push(ae%2?1:0),ae=Math.floor(ae/2);Re.push(Z?1:0),Re.reverse();const qe=Re.join("");let Be="";for(we=0;we<64;we+=8){let He=parseInt(qe.substr(we,8),2).toString(16);He.length===1&&(He="0"+He),Be=Be+He}return Be.toLowerCase()},Uc=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Bc=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Vc(F,R){let B="Unknown Error";F==="too_big"?B="The data requested exceeds the maximum size that can be accessed with a single request.":F==="permission_denied"?B="Client doesn't have permission to access the desired data.":F==="unavailable"&&(B="The service is unavailable");const H=new Error(F+" at "+R._path.toString()+": "+B);return H.code=F.toUpperCase(),H}const $c=new RegExp("^-?(0*)\\d{1,10}$"),Gc=-2147483648,Hc=2147483647,Bs=function(F){if($c.test(F)){const R=Number(F);if(R>=Gc&&R<=Hc)return R}return null},Zn=function(F){try{F()}catch(R){setTimeout(()=>{const B=R.stack||"";throw jr("Exception was thrown by user callback.",B),R},Math.floor(0))}},Kc=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vi=function(F,R){const B=setTimeout(F,R);return typeof B=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(B):typeof B=="object"&&B.unref&&B.unref(),B};class Vs{constructor(R,B,H,Z,ae=!1,ce="",be=!1,we=!1,Re=null){this.secure=B,this.namespace=H,this.webSocketOnly=Z,this.nodeAdmin=ae,this.persistenceKey=ce,this.includeNamespaceInQueryParams=be,this.isUsingEmulator=we,this.emulatorOptions=Re,this._host=R.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vn.get("host:"+R)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(R){R!==this.internalHost&&(this.internalHost=R,this.isCacheableHost()&&Vn.set("host:"+this._host,this.internalHost))}toString(){let R=this.toURLString();return this.persistenceKey&&(R+="<"+this.persistenceKey+">"),R}toURLString(){const R=this.secure?"https://":"http://",B=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${R}${this.host}/${B}`}}function Wc(F){return F.host!==F.internalHost||F.isCustomHost()||F.includeNamespaceInQueryParams}function $s(F,R,B){De.assert(typeof R=="string","typeof type must == string"),De.assert(typeof B=="object","typeof params must == object");let H;if(R===Ns)H=(F.secure?"wss://":"ws://")+F.internalHost+"/.ws?";else if(R===Ds)H=(F.secure?"https://":"http://")+F.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+R);Wc(F)&&(B.ns=F.namespace);const Z=[];return Ar(B,(ae,ce)=>{Z.push(ae+"="+ce)}),H+Z.join("&")}class Jc{constructor(){this.counters_={}}incrementCounter(R,B=1){De.contains(this.counters_,R)||(this.counters_[R]=0),this.counters_[R]+=B}get(){return De.deepCopy(this.counters_)}}const Wo={},Jo={};function zo(F){const R=F.toString();return Wo[R]||(Wo[R]=new Jc),Wo[R]}function zc(F,R){const B=F.toString();return Jo[B]||(Jo[B]=R()),Jo[B]}let Yo="";function Gs(F){Yo=F}const Yc=16384,Qc=45e3;let _i=null;typeof MozWebSocket<"u"?_i=MozWebSocket:typeof WebSocket<"u"&&(_i=WebSocket);function Xc(F){_i=F}class Xr{constructor(R,B,H,Z,ae,ce,be){this.connId=R,this.applicationId=H,this.appCheckToken=Z,this.authToken=ae,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mi(this.connId),this.stats_=zo(B),this.connURL=Xr.connectionURL_(B,ce,be,Z,H),this.nodeAdmin=B.nodeAdmin}static connectionURL_(R,B,H,Z,ae){const ce={};return ce[Ts]=Xi,!De.isNodeSdk()&&typeof location<"u"&&location.hostname&&Is.test(location.hostname)&&(ce[Rs]=Cs),B&&(ce[As]=B),H&&(ce[Ps]=H),Z&&(ce[$o]=Z),ae&&(ce[xs]=ae),$s(R,Ns,ce)}open(R,B){this.onDisconnect=B,this.onMessage=R,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vn.set("previous_websocket_failure",!0);try{let H;if(De.isNodeSdk()){const Z=this.nodeAdmin?"AdminNode":"Node";H={headers:{"User-Agent":`Firebase/${Xi}/${Yo}/${process.platform}/${Z}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(H.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(H.headers["X-Firebase-AppCheck"]=this.appCheckToken);const ae=e,ce=this.connURL.indexOf("wss://")===0?ae.HTTPS_PROXY||ae.https_proxy:ae.HTTP_PROXY||ae.http_proxy;ce&&(H.proxy={origin:ce})}this.mySock=new _i(this.connURL,[],H)}catch(H){this.log_("Error instantiating WebSocket.");const Z=H.message||H.data;Z&&this.log_(Z),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=H=>{this.handleIncomingFrame(H)},this.mySock.onerror=H=>{this.log_("WebSocket error.  Closing connection.");const Z=H.message||H.data;Z&&this.log_(Z),this.onClosed_()}}start(){}static forceDisallow(){Xr.forceDisallow_=!0}static isAvailable(){let R=!1;if(typeof navigator<"u"&&navigator.userAgent){const B=/Android ([0-9]{0,}\.[0-9]{0,})/,H=navigator.userAgent.match(B);H&&H.length>1&&parseFloat(H[1])<4.4&&(R=!0)}return!R&&_i!==null&&!Xr.forceDisallow_}static previouslyFailed(){return Vn.isInMemoryStorage||Vn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vn.remove("previous_websocket_failure")}appendFrame_(R){if(this.frames.push(R),this.frames.length===this.totalFrames){const B=this.frames.join("");this.frames=null;const H=De.jsonEval(B);this.onMessage(H)}}handleNewFrameCount_(R){this.totalFrames=R,this.frames=[]}extractFrameCount_(R){if(De.assert(this.frames===null,"We already have a frame buffer"),R.length<=6){const B=Number(R);if(!isNaN(B))return this.handleNewFrameCount_(B),null}return this.handleNewFrameCount_(1),R}handleIncomingFrame(R){if(this.mySock===null)return;const B=R.data;if(this.bytesReceived+=B.length,this.stats_.incrementCounter("bytes_received",B.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(B);else{const H=this.extractFrameCount_(B);H!==null&&this.appendFrame_(H)}}send(R){this.resetKeepAlive();const B=De.stringify(R);this.bytesSent+=B.length,this.stats_.incrementCounter("bytes_sent",B.length);const H=Ms(B,Yc);H.length>1&&this.sendString_(String(H.length));for(let Z=0;Z<H.length;Z++)this.sendString_(H[Z])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Qc))}sendString_(R){try{this.mySock.send(R)}catch(B){this.log_("Exception thrown from WebSocket.send():",B.message||B.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xr.responsesRequiredToBeHealthy=2,Xr.healthyTimeout=3e4;class Zc{constructor(R,B){this.appCheckProvider=B,this.appName=R.name,Nc._isFirebaseServerApp(R)&&R.settings.appCheckToken&&(this.serverAppAppCheckToken=R.settings.appCheckToken),this.appCheck=B?.getImmediate({optional:!0}),this.appCheck||B?.get().then(H=>this.appCheck=H)}getToken(R){if(this.serverAppAppCheckToken){if(R)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(R):new Promise((B,H)=>{setTimeout(()=>{this.appCheck?this.getToken(R).then(B,H):B(null)},0)})}addTokenChangeListener(R){this.appCheckProvider?.get().then(B=>B.addTokenListener(R))}notifyForInvalidToken(){jr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ed{constructor(R,B,H){this.appName_=R,this.firebaseOptions_=B,this.authProvider_=H,this.auth_=null,this.auth_=H.getImmediate({optional:!0}),this.auth_||H.onInit(Z=>this.auth_=Z)}getToken(R){return this.auth_?this.auth_.getToken(R).catch(B=>B&&B.code==="auth/token-not-initialized"?(Tr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(B)):new Promise((B,H)=>{setTimeout(()=>{this.auth_?this.getToken(R).then(B,H):B(null)},0)})}addTokenChangeListener(R){this.auth_?this.auth_.addAuthTokenListener(R):this.authProvider_.get().then(B=>B.addAuthTokenListener(R))}removeTokenChangeListener(R){this.authProvider_.get().then(B=>B.removeAuthTokenListener(R))}notifyForInvalidToken(){let R='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?R+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?R+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':R+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jr(R)}}class ei{constructor(R){this.accessToken=R}getToken(R){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(R){R(this.accessToken)}removeTokenChangeListener(R){}notifyForInvalidToken(){}}ei.OWNER="owner";class td{constructor(R){this.onMessage_=R,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(R,B){this.closeAfterResponse=R,this.onClose=B,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(R,B){for(this.pendingResponses[R]=B;this.pendingResponses[this.currentResponseNum];){const H=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let Z=0;Z<H.length;++Z)H[Z]&&Zn(()=>{this.onMessage_(H[Z])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Hs="start",rd="close",nd="pLPCommand",id="pRTLPCB",Ks="id",Ws="pw",Js="ser",od="cb",ad="seg",sd="ts",ld="d",ud="dframe",zs=1870,Ys=30,cd=zs-Ys,dd=25e3,pd=3e4;class An{constructor(R,B,H,Z,ae,ce,be){this.connId=R,this.repoInfo=B,this.applicationId=H,this.appCheckToken=Z,this.authToken=ae,this.transportSessionId=ce,this.lastSessionId=be,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mi(R),this.stats_=zo(B),this.urlFn=we=>(this.appCheckToken&&(we[$o]=this.appCheckToken),$s(B,Ds,we))}open(R,B){this.curSegmentNum=0,this.onDisconnect_=B,this.myPacketOrderer=new td(R),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pd)),Fc(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qo((...ae)=>{const[ce,be,we,Re,qe]=ae;if(this.incrementIncomingBytes_(ae),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,ce===Hs)this.id=be,this.password=we;else if(ce===rd)be?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(be,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+ce)},(...ae)=>{const[ce,be]=ae;this.incrementIncomingBytes_(ae),this.myPacketOrderer.handleResponse(ce,be)},()=>{this.onClosed_()},this.urlFn);const H={};H[Hs]="t",H[Js]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(H[od]=this.scriptTagHolder.uniqueCallbackIdentifier),H[Ts]=Xi,this.transportSessionId&&(H[As]=this.transportSessionId),this.lastSessionId&&(H[Ps]=this.lastSessionId),this.applicationId&&(H[xs]=this.applicationId),this.appCheckToken&&(H[$o]=this.appCheckToken),typeof location<"u"&&location.hostname&&Is.test(location.hostname)&&(H[Rs]=Cs);const Z=this.urlFn(H);this.log_("Connecting via long-poll to "+Z),this.scriptTagHolder.addTag(Z,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){An.forceAllow_=!0}static forceDisallow(){An.forceDisallow_=!0}static isAvailable(){return De.isNodeSdk()?!1:An.forceAllow_?!0:!An.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Uc()&&!Bc()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(R){const B=De.stringify(R);this.bytesSent+=B.length,this.stats_.incrementCounter("bytes_sent",B.length);const H=De.base64Encode(B),Z=Ms(H,cd);for(let ae=0;ae<Z.length;ae++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,Z.length,Z[ae]),this.curSegmentNum++}addDisconnectPingFrame(R,B){if(De.isNodeSdk())return;this.myDisconnFrame=document.createElement("iframe");const H={};H[ud]="t",H[Ks]=R,H[Ws]=B,this.myDisconnFrame.src=this.urlFn(H),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(R){const B=De.stringify(R).length;this.bytesReceived+=B,this.stats_.incrementCounter("bytes_received",B)}}class Qo{constructor(R,B,H,Z){if(this.onDisconnect=H,this.urlFn=Z,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,De.isNodeSdk())this.commandCB=R,this.onMessageCB=B;else{this.uniqueCallbackIdentifier=js(),window[nd+this.uniqueCallbackIdentifier]=R,window[id+this.uniqueCallbackIdentifier]=B,this.myIFrame=Qo.createIFrame_();let ae="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(ae='<script>document.domain="'+document.domain+'";<\/script>');const ce="<html><body>"+ae+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ce),this.myIFrame.doc.close()}catch(be){Tr("frame writing exception"),be.stack&&Tr(be.stack),Tr(be)}}}static createIFrame_(){const R=document.createElement("iframe");if(R.style.display="none",document.body){document.body.appendChild(R);try{R.contentWindow.document||Tr("No IE domain setting required")}catch{const H=document.domain;R.src="javascript:void((function(){document.open();document.domain='"+H+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return R.contentDocument?R.doc=R.contentDocument:R.contentWindow?R.doc=R.contentWindow.document:R.document&&(R.doc=R.document),R}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const R=this.onDisconnect;R&&(this.onDisconnect=null,R())}startLongPoll(R,B){for(this.myID=R,this.myPW=B,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const R={};R[Ks]=this.myID,R[Ws]=this.myPW,R[Js]=this.currentSerial;let B=this.urlFn(R),H="",Z=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ys+H.length<=zs;){const ce=this.pendingSegs.shift();H=H+"&"+ad+Z+"="+ce.seg+"&"+sd+Z+"="+ce.ts+"&"+ld+Z+"="+ce.d,Z++}return B=B+H,this.addLongPollTag_(B,this.currentSerial),!0}else return!1}enqueueSegment(R,B,H){this.pendingSegs.push({seg:R,ts:B,d:H}),this.alive&&this.newRequest_()}addLongPollTag_(R,B){this.outstandingRequests.add(B);const H=()=>{this.outstandingRequests.delete(B),this.newRequest_()},Z=setTimeout(H,Math.floor(dd)),ae=()=>{clearTimeout(Z),H()};this.addTag(R,ae)}addTag(R,B){De.isNodeSdk()?this.doNodeLongPoll(R,B):setTimeout(()=>{try{if(!this.sendNewPolls)return;const H=this.myIFrame.doc.createElement("script");H.type="text/javascript",H.async=!0,H.src=R,H.onload=H.onreadystatechange=function(){const Z=H.readyState;(!Z||Z==="loaded"||Z==="complete")&&(H.onload=H.onreadystatechange=null,H.parentNode&&H.parentNode.removeChild(H),B())},H.onerror=()=>{Tr("Long-poll script failed to load: "+R),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(H)}catch{}},Math.floor(1))}}class ti{static get ALL_TRANSPORTS(){return[An,Xr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(R){this.initTransports_(R)}initTransports_(R){const B=Xr&&Xr.isAvailable();let H=B&&!Xr.previouslyFailed();if(R.webSocketOnly&&(B||jr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),H=!0),H)this.transports_=[Xr];else{const Z=this.transports_=[];for(const ae of ti.ALL_TRANSPORTS)ae&&ae.isAvailable()&&Z.push(ae);ti.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ti.globalTransportInitialized_=!1;const fd=6e4,hd=5e3,gd=10*1024,yd=100*1024,Xo="t",Qs="d",vd="s",Xs="r",_d="e",Zs="o",el="a",tl="n",rl="p",bd="h";class Ed{constructor(R,B,H,Z,ae,ce,be,we,Re,qe){this.id=R,this.repoInfo_=B,this.applicationId_=H,this.appCheckToken_=Z,this.authToken_=ae,this.onMessage_=ce,this.onReady_=be,this.onDisconnect_=we,this.onKill_=Re,this.lastSessionId=qe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mi("c:"+this.id+":"),this.transportManager_=new ti(B),this.log_("Connection created"),this.start_()}start_(){const R=this.transportManager_.initialTransport();this.conn_=new R(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=R.responsesRequiredToBeHealthy||0;const B=this.connReceiver_(this.conn_),H=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(B,H)},Math.floor(0));const Z=R.healthyTimeout||0;Z>0&&(this.healthyTimeout_=vi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>yd?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gd?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(Z)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(R){return B=>{R===this.conn_?this.onConnectionLost_(B):R===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(R){return B=>{this.state_!==2&&(R===this.rx_?this.onPrimaryMessageReceived_(B):R===this.secondaryConn_?this.onSecondaryMessageReceived_(B):this.log_("message on old connection"))}}sendRequest(R){const B={t:"d",d:R};this.sendData_(B)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(R){if(Xo in R){const B=R[Xo];B===el?this.upgradeIfSecondaryHealthy_():B===Xs?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):B===Zs&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(R){const B=yi("t",R),H=yi("d",R);if(B==="c")this.onSecondaryControl_(H);else if(B==="d")this.pendingDataMessages.push(H);else throw new Error("Unknown protocol layer: "+B)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rl,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:el,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tl,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(R){const B=yi("t",R),H=yi("d",R);B==="c"?this.onControl_(H):B==="d"&&this.onDataMessage_(H)}onDataMessage_(R){this.onPrimaryResponse_(),this.onMessage_(R)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(R){const B=yi(Xo,R);if(Qs in R){const H=R[Qs];if(B===bd){const Z={...H};this.repoInfo_.isUsingEmulator&&(Z.h=this.repoInfo_.host),this.onHandshake_(Z)}else if(B===tl){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let Z=0;Z<this.pendingDataMessages.length;++Z)this.onDataMessage_(this.pendingDataMessages[Z]);this.pendingDataMessages=[],this.tryCleanupConnection()}else B===vd?this.onConnectionShutdown_(H):B===Xs?this.onReset_(H):B===_d?Ho("Server Error: "+H):B===Zs?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ho("Unknown control packet command: "+B)}}onHandshake_(R){const B=R.ts,H=R.v,Z=R.h;this.sessionId=R.s,this.repoInfo_.host=Z,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,B),Xi!==H&&jr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const R=this.transportManager_.upgradeTransport();R&&this.startUpgrade_(R)}startUpgrade_(R){this.secondaryConn_=new R(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=R.responsesRequiredToBeHealthy||0;const B=this.connReceiver_(this.secondaryConn_),H=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(B,H),vi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fd))}onReset_(R){this.log_("Reset packet received.  New host: "+R),this.repoInfo_.host=R,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(R,B){this.log_("Realtime connection established."),this.conn_=R,this.state_=1,this.onReady_&&(this.onReady_(B,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hd))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rl,d:{}}}))}onSecondaryConnectionLost_(){const R=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===R||this.rx_===R)&&this.close()}onConnectionLost_(R){this.conn_=null,!R&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(R){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(R),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(R){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(R)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class nl{put(R,B,H,Z){}merge(R,B,H,Z){}refreshAuthToken(R){}refreshAppCheckToken(R){}onDisconnectPut(R,B,H){}onDisconnectMerge(R,B,H){}onDisconnectCancel(R,B){}reportStats(R){}}class il{constructor(R){this.allowedEvents_=R,this.listeners_={},De.assert(Array.isArray(R)&&R.length>0,"Requires a non-empty array")}trigger(R,...B){if(Array.isArray(this.listeners_[R])){const H=[...this.listeners_[R]];for(let Z=0;Z<H.length;Z++)H[Z].callback.apply(H[Z].context,B)}}on(R,B,H){this.validateEventType_(R),this.listeners_[R]=this.listeners_[R]||[],this.listeners_[R].push({callback:B,context:H});const Z=this.getInitialEvent(R);Z&&B.apply(H,Z)}off(R,B,H){this.validateEventType_(R);const Z=this.listeners_[R]||[];for(let ae=0;ae<Z.length;ae++)if(Z[ae].callback===B&&(!H||H===Z[ae].context)){Z.splice(ae,1);return}}validateEventType_(R){De.assert(this.allowedEvents_.find(B=>B===R),"Unknown event: "+R)}}class eo extends il{static getInstance(){return new eo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!De.isMobileCordova()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(R){return De.assert(R==="online","Unknown event type: "+R),[this.online_]}currentlyOnline(){return this.online_}}const ol=32,al=768;class Kt{constructor(R,B){if(B===void 0){this.pieces_=R.split("/");let H=0;for(let Z=0;Z<this.pieces_.length;Z++)this.pieces_[Z].length>0&&(this.pieces_[H]=this.pieces_[Z],H++);this.pieces_.length=H,this.pieceNum_=0}else this.pieces_=R,this.pieceNum_=B}toString(){let R="";for(let B=this.pieceNum_;B<this.pieces_.length;B++)this.pieces_[B]!==""&&(R+="/"+this.pieces_[B]);return R||"/"}}function Bt(){return new Kt("")}function Ct(F){return F.pieceNum_>=F.pieces_.length?null:F.pieces_[F.pieceNum_]}function Rn(F){return F.pieces_.length-F.pieceNum_}function tr(F){let R=F.pieceNum_;return R<F.pieces_.length&&R++,new Kt(F.pieces_,R)}function Zo(F){return F.pieceNum_<F.pieces_.length?F.pieces_[F.pieces_.length-1]:null}function Sd(F){let R="";for(let B=F.pieceNum_;B<F.pieces_.length;B++)F.pieces_[B]!==""&&(R+="/"+encodeURIComponent(String(F.pieces_[B])));return R||"/"}function bi(F,R=0){return F.pieces_.slice(F.pieceNum_+R)}function sl(F){if(F.pieceNum_>=F.pieces_.length)return null;const R=[];for(let B=F.pieceNum_;B<F.pieces_.length-1;B++)R.push(F.pieces_[B]);return new Kt(R,0)}function hr(F,R){const B=[];for(let H=F.pieceNum_;H<F.pieces_.length;H++)B.push(F.pieces_[H]);if(R instanceof Kt)for(let H=R.pieceNum_;H<R.pieces_.length;H++)B.push(R.pieces_[H]);else{const H=R.split("/");for(let Z=0;Z<H.length;Z++)H[Z].length>0&&B.push(H[Z])}return new Kt(B,0)}function It(F){return F.pieceNum_>=F.pieces_.length}function Ur(F,R){const B=Ct(F),H=Ct(R);if(B===null)return R;if(B===H)return Ur(tr(F),tr(R));throw new Error("INTERNAL ERROR: innerPath ("+R+") is not within outerPath ("+F+")")}function Od(F,R){const B=bi(F,0),H=bi(R,0);for(let Z=0;Z<B.length&&Z<H.length;Z++){const ae=Gn(B[Z],H[Z]);if(ae!==0)return ae}return B.length===H.length?0:B.length<H.length?-1:1}function ea(F,R){if(Rn(F)!==Rn(R))return!1;for(let B=F.pieceNum_,H=R.pieceNum_;B<=F.pieces_.length;B++,H++)if(F.pieces_[B]!==R.pieces_[H])return!1;return!0}function Zr(F,R){let B=F.pieceNum_,H=R.pieceNum_;if(Rn(F)>Rn(R))return!1;for(;B<F.pieces_.length;){if(F.pieces_[B]!==R.pieces_[H])return!1;++B,++H}return!0}class wd{constructor(R,B){this.errorPrefix_=B,this.parts_=bi(R,0),this.byteLength_=Math.max(1,this.parts_.length);for(let H=0;H<this.parts_.length;H++)this.byteLength_+=De.stringLength(this.parts_[H]);ll(this)}}function Td(F,R){F.parts_.length>0&&(F.byteLength_+=1),F.parts_.push(R),F.byteLength_+=De.stringLength(R),ll(F)}function Ad(F){const R=F.parts_.pop();F.byteLength_-=De.stringLength(R),F.parts_.length>0&&(F.byteLength_-=1)}function ll(F){if(F.byteLength_>al)throw new Error(F.errorPrefix_+"has a key path longer than "+al+" bytes ("+F.byteLength_+").");if(F.parts_.length>ol)throw new Error(F.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ol+") or object contains a cycle "+Hn(F))}function Hn(F){return F.parts_.length===0?"":"in property '"+F.parts_.join(".")+"'"}class ta extends il{static getInstance(){return new ta}constructor(){super(["visible"]);let R,B;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(B="visibilitychange",R="hidden"):typeof document.mozHidden<"u"?(B="mozvisibilitychange",R="mozHidden"):typeof document.msHidden<"u"?(B="msvisibilitychange",R="msHidden"):typeof document.webkitHidden<"u"&&(B="webkitvisibilitychange",R="webkitHidden")),this.visible_=!0,B&&document.addEventListener(B,()=>{const H=!document[R];H!==this.visible_&&(this.visible_=H,this.trigger("visible",H))},!1)}getInitialEvent(R){return De.assert(R==="visible","Unknown event type: "+R),[this.visible_]}}const Ei=1e3,Rd=300*1e3,ul=30*1e3,Cd=1.3,Id=3e4,Pd="server_kill",cl=3;class en extends nl{constructor(R,B,H,Z,ae,ce,be,we){if(super(),this.repoInfo_=R,this.applicationId_=B,this.onDataUpdate_=H,this.onConnectStatus_=Z,this.onServerInfoUpdate_=ae,this.authTokenProvider_=ce,this.appCheckTokenProvider_=be,this.authOverride_=we,this.id=en.nextPersistentConnectionId_++,this.log_=mi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ei,this.maxReconnectDelay_=Rd,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,we&&!De.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ta.getInstance().on("visible",this.onVisible_,this),R.host.indexOf("fblocal")===-1&&eo.getInstance().on("online",this.onOnline_,this)}sendRequest(R,B,H){const Z=++this.requestNumber_,ae={r:Z,a:R,b:B};this.log_(De.stringify(ae)),De.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ae),H&&(this.requestCBHash_[Z]=H)}get(R){this.initConnection_();const B=new De.Deferred,Z={action:"g",request:{p:R._path.toString(),q:R._queryObject},onComplete:ce=>{const be=ce.d;ce.s==="ok"?B.resolve(be):B.reject(be)}};this.outstandingGets_.push(Z),this.outstandingGetCount_++;const ae=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(ae),B.promise}listen(R,B,H,Z){this.initConnection_();const ae=R._queryIdentifier,ce=R._path.toString();this.log_("Listen called for "+ce+" "+ae),this.listens.has(ce)||this.listens.set(ce,new Map),De.assert(R._queryParams.isDefault()||!R._queryParams.loadsAllData(),"listen() called for non-default but complete query"),De.assert(!this.listens.get(ce).has(ae),"listen() called twice for same path/queryId.");const be={onComplete:Z,hashFn:B,query:R,tag:H};this.listens.get(ce).set(ae,be),this.connected_&&this.sendListen_(be)}sendGet_(R){const B=this.outstandingGets_[R];this.sendRequest("g",B.request,H=>{delete this.outstandingGets_[R],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),B.onComplete&&B.onComplete(H)})}sendListen_(R){const B=R.query,H=B._path.toString(),Z=B._queryIdentifier;this.log_("Listen on "+H+" for "+Z);const ae={p:H},ce="q";R.tag&&(ae.q=B._queryObject,ae.t=R.tag),ae.h=R.hashFn(),this.sendRequest(ce,ae,be=>{const we=be.d,Re=be.s;en.warnOnListenWarnings_(we,B),(this.listens.get(H)&&this.listens.get(H).get(Z))===R&&(this.log_("listen response",be),Re!=="ok"&&this.removeListen_(H,Z),R.onComplete&&R.onComplete(Re,we))})}static warnOnListenWarnings_(R,B){if(R&&typeof R=="object"&&De.contains(R,"w")){const H=De.safeGet(R,"w");if(Array.isArray(H)&&~H.indexOf("no_index")){const Z='".indexOn": "'+B._queryParams.getIndex().toString()+'"',ae=B._path.toString();jr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${Z} at ${ae} to your security rules for better performance.`)}}}refreshAuthToken(R){this.authToken_=R,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(R)}reduceReconnectDelayIfAdminCredential_(R){(R&&R.length===40||De.isAdmin(R))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ul)}refreshAppCheckToken(R){this.appCheckToken_=R,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const R=this.authToken_,B=De.isValidFormat(R)?"auth":"gauth",H={cred:R};this.authOverride_===null?H.noauth=!0:typeof this.authOverride_=="object"&&(H.authvar=this.authOverride_),this.sendRequest(B,H,Z=>{const ae=Z.s,ce=Z.d||"error";this.authToken_===R&&(ae==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ae,ce))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},R=>{const B=R.s,H=R.d||"error";B==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(B,H)})}unlisten(R,B){const H=R._path.toString(),Z=R._queryIdentifier;this.log_("Unlisten called for "+H+" "+Z),De.assert(R._queryParams.isDefault()||!R._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(H,Z)&&this.connected_&&this.sendUnlisten_(H,Z,R._queryObject,B)}sendUnlisten_(R,B,H,Z){this.log_("Unlisten on "+R+" for "+B);const ae={p:R},ce="n";Z&&(ae.q=H,ae.t=Z),this.sendRequest(ce,ae)}onDisconnectPut(R,B,H){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",R,B,H):this.onDisconnectRequestQueue_.push({pathString:R,action:"o",data:B,onComplete:H})}onDisconnectMerge(R,B,H){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",R,B,H):this.onDisconnectRequestQueue_.push({pathString:R,action:"om",data:B,onComplete:H})}onDisconnectCancel(R,B){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",R,null,B):this.onDisconnectRequestQueue_.push({pathString:R,action:"oc",data:null,onComplete:B})}sendOnDisconnect_(R,B,H,Z){const ae={p:B,d:H};this.log_("onDisconnect "+R,ae),this.sendRequest(R,ae,ce=>{Z&&setTimeout(()=>{Z(ce.s,ce.d)},Math.floor(0))})}put(R,B,H,Z){this.putInternal("p",R,B,H,Z)}merge(R,B,H,Z){this.putInternal("m",R,B,H,Z)}putInternal(R,B,H,Z,ae){this.initConnection_();const ce={p:B,d:H};ae!==void 0&&(ce.h=ae),this.outstandingPuts_.push({action:R,request:ce,onComplete:Z}),this.outstandingPutCount_++;const be=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(be):this.log_("Buffering put: "+B)}sendPut_(R){const B=this.outstandingPuts_[R].action,H=this.outstandingPuts_[R].request,Z=this.outstandingPuts_[R].onComplete;this.outstandingPuts_[R].queued=this.connected_,this.sendRequest(B,H,ae=>{this.log_(B+" response",ae),delete this.outstandingPuts_[R],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),Z&&Z(ae.s,ae.d)})}reportStats(R){if(this.connected_){const B={c:R};this.log_("reportStats",B),this.sendRequest("s",B,H=>{if(H.s!=="ok"){const ae=H.d;this.log_("reportStats","Error sending stats: "+ae)}})}}onDataMessage_(R){if("r"in R){this.log_("from server: "+De.stringify(R));const B=R.r,H=this.requestCBHash_[B];H&&(delete this.requestCBHash_[B],H(R.b))}else{if("error"in R)throw"A server-side error has occurred: "+R.error;"a"in R&&this.onDataPush_(R.a,R.b)}}onDataPush_(R,B){this.log_("handleServerMessage",R,B),R==="d"?this.onDataUpdate_(B.p,B.d,!1,B.t):R==="m"?this.onDataUpdate_(B.p,B.d,!0,B.t):R==="c"?this.onListenRevoked_(B.p,B.q):R==="ac"?this.onAuthRevoked_(B.s,B.d):R==="apc"?this.onAppCheckRevoked_(B.s,B.d):R==="sd"?this.onSecurityDebugPacket_(B):Ho("Unrecognized action received from server: "+De.stringify(R)+`
Are you using the latest client?`)}onReady_(R,B){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(R),this.lastSessionId=B,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(R){De.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(R))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(R){R&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ei,this.realtime_||this.scheduleConnect_(0)),this.visible_=R}onOnline_(R){R?(this.log_("Browser went online."),this.reconnectDelay_=Ei,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Id&&(this.reconnectDelay_=Ei),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const R=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let B=Math.max(0,this.reconnectDelay_-R);B=Math.random()*B,this.log_("Trying to reconnect in "+B+"ms"),this.scheduleConnect_(B),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Cd)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const R=this.onDataMessage_.bind(this),B=this.onReady_.bind(this),H=this.onRealtimeDisconnect_.bind(this),Z=this.id+":"+en.nextConnectionId_++,ae=this.lastSessionId;let ce=!1,be=null;const we=function(){be?be.close():(ce=!0,H())},Re=function(Be){De.assert(be,"sendRequest call when we're not connected not allowed."),be.sendRequest(Be)};this.realtime_={close:we,sendRequest:Re};const qe=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[Be,He]=await Promise.all([this.authTokenProvider_.getToken(qe),this.appCheckTokenProvider_.getToken(qe)]);ce?Tr("getToken() completed but was canceled"):(Tr("getToken() completed. Creating connection."),this.authToken_=Be&&Be.accessToken,this.appCheckToken_=He&&He.token,be=new Ed(Z,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,R,B,H,ot=>{jr(ot+" ("+this.repoInfo_.toString()+")"),this.interrupt(Pd)},ae))}catch(Be){this.log_("Failed to get token: "+Be),ce||(this.repoInfo_.nodeAdmin&&jr(Be),we())}}}interrupt(R){Tr("Interrupting connection for reason: "+R),this.interruptReasons_[R]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(R){Tr("Resuming connection for reason: "+R),delete this.interruptReasons_[R],De.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Ei,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(R){const B=R-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:B})}cancelSentTransactions_(){for(let R=0;R<this.outstandingPuts_.length;R++){const B=this.outstandingPuts_[R];B&&"h"in B.request&&B.queued&&(B.onComplete&&B.onComplete("disconnect"),delete this.outstandingPuts_[R],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(R,B){let H;B?H=B.map(ae=>Ko(ae)).join("$"):H="default";const Z=this.removeListen_(R,H);Z&&Z.onComplete&&Z.onComplete("permission_denied")}removeListen_(R,B){const H=new Kt(R).toString();let Z;if(this.listens.has(H)){const ae=this.listens.get(H);Z=ae.get(B),ae.delete(B),ae.size===0&&this.listens.delete(H)}else Z=void 0;return Z}onAuthRevoked_(R,B){Tr("Auth token revoked: "+R+"/"+B),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(R==="invalid_token"||R==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=cl&&(this.reconnectDelay_=ul,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(R,B){Tr("App check token revoked: "+R+"/"+B),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(R==="invalid_token"||R==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=cl&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(R){this.securityDebugCallback_?this.securityDebugCallback_(R):"msg"in R&&console.log("FIREBASE: "+R.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const R of this.listens.values())for(const B of R.values())this.sendListen_(B);for(let R=0;R<this.outstandingPuts_.length;R++)this.outstandingPuts_[R]&&this.sendPut_(R);for(;this.onDisconnectRequestQueue_.length;){const R=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(R.action,R.pathString,R.data,R.onComplete)}for(let R=0;R<this.outstandingGets_.length;R++)this.outstandingGets_[R]&&this.sendGet_(R)}sendConnectStats_(){const R={};let B="js";De.isNodeSdk()&&(this.repoInfo_.nodeAdmin?B="admin_node":B="node"),R["sdk."+B+"."+Yo.replace(/\./g,"-")]=1,De.isMobileCordova()?R["framework.cordova"]=1:De.isReactNative()&&(R["framework.reactnative"]=1),this.reportStats(R)}shouldReconnect_(){const R=eo.getInstance().currentlyOnline();return De.isEmpty(this.interruptReasons_)&&R}}en.nextPersistentConnectionId_=0,en.nextConnectionId_=0;class xt{constructor(R,B){this.name=R,this.node=B}static Wrap(R,B){return new xt(R,B)}}class to{getCompare(){return this.compare.bind(this)}indexedValueChanged(R,B){const H=new xt(Tn,R),Z=new xt(Tn,B);return this.compare(H,Z)!==0}minPost(){return xt.MIN}}let ro;class dl extends to{static get __EMPTY_NODE(){return ro}static set __EMPTY_NODE(R){ro=R}compare(R,B){return Gn(R.name,B.name)}isDefinedOn(R){throw De.assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(R,B){return!1}minPost(){return xt.MIN}maxPost(){return new xt(En,ro)}makePost(R,B){return De.assert(typeof R=="string","KeyIndex indexValue must always be a string."),new xt(R,ro)}toString(){return".key"}}const _n=new dl;class no{constructor(R,B,H,Z,ae=null){this.isReverse_=Z,this.resultGenerator_=ae,this.nodeStack_=[];let ce=1;for(;!R.isEmpty();)if(R=R,ce=B?H(R.key,B):1,Z&&(ce*=-1),ce<0)this.isReverse_?R=R.left:R=R.right;else if(ce===0){this.nodeStack_.push(R);break}else this.nodeStack_.push(R),this.isReverse_?R=R.right:R=R.left}getNext(){if(this.nodeStack_.length===0)return null;let R=this.nodeStack_.pop(),B;if(this.resultGenerator_?B=this.resultGenerator_(R.key,R.value):B={key:R.key,value:R.value},this.isReverse_)for(R=R.left;!R.isEmpty();)this.nodeStack_.push(R),R=R.right;else for(R=R.right;!R.isEmpty();)this.nodeStack_.push(R),R=R.left;return B}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const R=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(R.key,R.value):{key:R.key,value:R.value}}}class Rr{constructor(R,B,H,Z,ae){this.key=R,this.value=B,this.color=H??Rr.RED,this.left=Z??Br.EMPTY_NODE,this.right=ae??Br.EMPTY_NODE}copy(R,B,H,Z,ae){return new Rr(R??this.key,B??this.value,H??this.color,Z??this.left,ae??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(R){return this.left.inorderTraversal(R)||!!R(this.key,this.value)||this.right.inorderTraversal(R)}reverseTraversal(R){return this.right.reverseTraversal(R)||R(this.key,this.value)||this.left.reverseTraversal(R)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(R,B,H){let Z=this;const ae=H(R,Z.key);return ae<0?Z=Z.copy(null,null,null,Z.left.insert(R,B,H),null):ae===0?Z=Z.copy(null,B,null,null,null):Z=Z.copy(null,null,null,null,Z.right.insert(R,B,H)),Z.fixUp_()}removeMin_(){if(this.left.isEmpty())return Br.EMPTY_NODE;let R=this;return!R.left.isRed_()&&!R.left.left.isRed_()&&(R=R.moveRedLeft_()),R=R.copy(null,null,null,R.left.removeMin_(),null),R.fixUp_()}remove(R,B){let H,Z;if(H=this,B(R,H.key)<0)!H.left.isEmpty()&&!H.left.isRed_()&&!H.left.left.isRed_()&&(H=H.moveRedLeft_()),H=H.copy(null,null,null,H.left.remove(R,B),null);else{if(H.left.isRed_()&&(H=H.rotateRight_()),!H.right.isEmpty()&&!H.right.isRed_()&&!H.right.left.isRed_()&&(H=H.moveRedRight_()),B(R,H.key)===0){if(H.right.isEmpty())return Br.EMPTY_NODE;Z=H.right.min_(),H=H.copy(Z.key,Z.value,null,null,H.right.removeMin_())}H=H.copy(null,null,null,null,H.right.remove(R,B))}return H.fixUp_()}isRed_(){return this.color}fixUp_(){let R=this;return R.right.isRed_()&&!R.left.isRed_()&&(R=R.rotateLeft_()),R.left.isRed_()&&R.left.left.isRed_()&&(R=R.rotateRight_()),R.left.isRed_()&&R.right.isRed_()&&(R=R.colorFlip_()),R}moveRedLeft_(){let R=this.colorFlip_();return R.right.left.isRed_()&&(R=R.copy(null,null,null,null,R.right.rotateRight_()),R=R.rotateLeft_(),R=R.colorFlip_()),R}moveRedRight_(){let R=this.colorFlip_();return R.left.left.isRed_()&&(R=R.rotateRight_(),R=R.colorFlip_()),R}rotateLeft_(){const R=this.copy(null,null,Rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,R,null)}rotateRight_(){const R=this.copy(null,null,Rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,R)}colorFlip_(){const R=this.left.copy(null,null,!this.left.color,null,null),B=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,R,B)}checkMaxDepth_(){const R=this.check_();return Math.pow(2,R)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const R=this.left.check_();if(R!==this.right.check_())throw new Error("Black depths differ");return R+(this.isRed_()?0:1)}}Rr.RED=!0,Rr.BLACK=!1;class xd{copy(R,B,H,Z,ae){return this}insert(R,B,H){return new Rr(R,B,null)}remove(R,B){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(R){return!1}reverseTraversal(R){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Br{constructor(R,B=Br.EMPTY_NODE){this.comparator_=R,this.root_=B}insert(R,B){return new Br(this.comparator_,this.root_.insert(R,B,this.comparator_).copy(null,null,Rr.BLACK,null,null))}remove(R){return new Br(this.comparator_,this.root_.remove(R,this.comparator_).copy(null,null,Rr.BLACK,null,null))}get(R){let B,H=this.root_;for(;!H.isEmpty();){if(B=this.comparator_(R,H.key),B===0)return H.value;B<0?H=H.left:B>0&&(H=H.right)}return null}getPredecessorKey(R){let B,H=this.root_,Z=null;for(;!H.isEmpty();)if(B=this.comparator_(R,H.key),B===0){if(H.left.isEmpty())return Z?Z.key:null;for(H=H.left;!H.right.isEmpty();)H=H.right;return H.key}else B<0?H=H.left:B>0&&(Z=H,H=H.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(R){return this.root_.inorderTraversal(R)}reverseTraversal(R){return this.root_.reverseTraversal(R)}getIterator(R){return new no(this.root_,null,this.comparator_,!1,R)}getIteratorFrom(R,B){return new no(this.root_,R,this.comparator_,!1,B)}getReverseIteratorFrom(R,B){return new no(this.root_,R,this.comparator_,!0,B)}getReverseIterator(R){return new no(this.root_,null,this.comparator_,!0,R)}}Br.EMPTY_NODE=new xd;function Nd(F,R){return Gn(F.name,R.name)}function ra(F,R){return Gn(F,R)}let na;function Dd(F){na=F}const pl=function(F){return typeof F=="number"?"number:"+Us(F):"string:"+F},fl=function(F){if(F.isLeafNode()){const R=F.val();De.assert(typeof R=="string"||typeof R=="number"||typeof R=="object"&&De.contains(R,".sv"),"Priority must be a string or number.")}else De.assert(F===na||F.isEmpty(),"priority of unexpected type.");De.assert(F===na||F.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let hl;class Cr{static set __childrenNodeConstructor(R){hl=R}static get __childrenNodeConstructor(){return hl}constructor(R,B=Cr.__childrenNodeConstructor.EMPTY_NODE){this.value_=R,this.priorityNode_=B,this.lazyHash_=null,De.assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fl(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(R){return new Cr(this.value_,R)}getImmediateChild(R){return R===".priority"?this.priorityNode_:Cr.__childrenNodeConstructor.EMPTY_NODE}getChild(R){return It(R)?this:Ct(R)===".priority"?this.priorityNode_:Cr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(R,B){return null}updateImmediateChild(R,B){return R===".priority"?this.updatePriority(B):B.isEmpty()&&R!==".priority"?this:Cr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(R,B).updatePriority(this.priorityNode_)}updateChild(R,B){const H=Ct(R);return H===null?B:B.isEmpty()&&H!==".priority"?this:(De.assert(H!==".priority"||Rn(R)===1,".priority must be the last token in a path"),this.updateImmediateChild(H,Cr.__childrenNodeConstructor.EMPTY_NODE.updateChild(tr(R),B)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(R,B){return!1}val(R){return R&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let R="";this.priorityNode_.isEmpty()||(R+="priority:"+pl(this.priorityNode_.val())+":");const B=typeof this.value_;R+=B+":",B==="number"?R+=Us(this.value_):R+=this.value_,this.lazyHash_=Ls(R)}return this.lazyHash_}getValue(){return this.value_}compareTo(R){return R===Cr.__childrenNodeConstructor.EMPTY_NODE?1:R instanceof Cr.__childrenNodeConstructor?-1:(De.assert(R.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(R))}compareToLeafNode_(R){const B=typeof R.value_,H=typeof this.value_,Z=Cr.VALUE_TYPE_ORDER.indexOf(B),ae=Cr.VALUE_TYPE_ORDER.indexOf(H);return De.assert(Z>=0,"Unknown leaf type: "+B),De.assert(ae>=0,"Unknown leaf type: "+H),Z===ae?H==="object"?0:this.value_<R.value_?-1:this.value_===R.value_?0:1:ae-Z}withIndex(){return this}isIndexed(){return!0}equals(R){if(R===this)return!0;if(R.isLeafNode()){const B=R;return this.value_===B.value_&&this.priorityNode_.equals(B.priorityNode_)}else return!1}}Cr.VALUE_TYPE_ORDER=["object","boolean","number","string"];let gl,ml;function kd(F){gl=F}function jd(F){ml=F}class Ld extends to{compare(R,B){const H=R.node.getPriority(),Z=B.node.getPriority(),ae=H.compareTo(Z);return ae===0?Gn(R.name,B.name):ae}isDefinedOn(R){return!R.getPriority().isEmpty()}indexedValueChanged(R,B){return!R.getPriority().equals(B.getPriority())}minPost(){return xt.MIN}maxPost(){return new xt(En,new Cr("[PRIORITY-POST]",ml))}makePost(R,B){const H=gl(R);return new xt(B,new Cr("[PRIORITY-POST]",H))}toString(){return".priority"}}const or=new Ld;const qd=Math.log(2);class Fd{constructor(R){const B=ae=>parseInt(Math.log(ae)/qd,10),H=ae=>parseInt(Array(ae+1).join("1"),2);this.count=B(R+1),this.current_=this.count-1;const Z=H(this.count);this.bits_=R+1&Z}nextBitIsOne(){const R=!(this.bits_&1<<this.current_);return this.current_--,R}}const io=function(F,R,B,H){F.sort(R);const Z=function(we,Re){const qe=Re-we;let Be,He;if(qe===0)return null;if(qe===1)return Be=F[we],He=B?B(Be):Be,new Rr(He,Be.node,Rr.BLACK,null,null);{const ot=parseInt(qe/2,10)+we,ft=Z(we,ot),Ft=Z(ot+1,Re);return Be=F[ot],He=B?B(Be):Be,new Rr(He,Be.node,Rr.BLACK,ft,Ft)}},ae=function(we){let Re=null,qe=null,Be=F.length;const He=function(ft,Ft){const Er=Be-ft,Ln=Be;Be-=ft;const ci=Z(Er+1,Ln),Vi=F[Er],za=B?B(Vi):Vi;ot(new Rr(za,Vi.node,Ft,null,ci))},ot=function(ft){Re?(Re.left=ft,Re=ft):(qe=ft,Re=ft)};for(let ft=0;ft<we.count;++ft){const Ft=we.nextBitIsOne(),Er=Math.pow(2,we.count-(ft+1));Ft?He(Er,Rr.BLACK):(He(Er,Rr.BLACK),He(Er,Rr.RED))}return qe},ce=new Fd(F.length),be=ae(ce);return new Br(H||R,be)};let ia;const ri={};class Sn{static get Default(){return De.assert(ri&&or,"ChildrenNode.ts has not been loaded"),ia=ia||new Sn({".priority":ri},{".priority":or}),ia}constructor(R,B){this.indexes_=R,this.indexSet_=B}get(R){const B=De.safeGet(this.indexes_,R);if(!B)throw new Error("No index defined for "+R);return B instanceof Br?B:null}hasIndex(R){return De.contains(this.indexSet_,R.toString())}addIndex(R,B){De.assert(R!==_n,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const H=[];let Z=!1;const ae=B.getIterator(xt.Wrap);let ce=ae.getNext();for(;ce;)Z=Z||R.isDefinedOn(ce.node),H.push(ce),ce=ae.getNext();let be;Z?be=io(H,R.getCompare()):be=ri;const we=R.toString(),Re={...this.indexSet_};Re[we]=R;const qe={...this.indexes_};return qe[we]=be,new Sn(qe,Re)}addToIndexes(R,B){const H=De.map(this.indexes_,(Z,ae)=>{const ce=De.safeGet(this.indexSet_,ae);if(De.assert(ce,"Missing index implementation for "+ae),Z===ri)if(ce.isDefinedOn(R.node)){const be=[],we=B.getIterator(xt.Wrap);let Re=we.getNext();for(;Re;)Re.name!==R.name&&be.push(Re),Re=we.getNext();return be.push(R),io(be,ce.getCompare())}else return ri;else{const be=B.get(R.name);let we=Z;return be&&(we=we.remove(new xt(R.name,be))),we.insert(R,R.node)}});return new Sn(H,this.indexSet_)}removeFromIndexes(R,B){const H=De.map(this.indexes_,Z=>{if(Z===ri)return Z;{const ae=B.get(R.name);return ae?Z.remove(new xt(R.name,ae)):Z}});return new Sn(H,this.indexSet_)}}let Si;class gt{static get EMPTY_NODE(){return Si||(Si=new gt(new Br(ra),null,Sn.Default))}constructor(R,B,H){this.children_=R,this.priorityNode_=B,this.indexMap_=H,this.lazyHash_=null,this.priorityNode_&&fl(this.priorityNode_),this.children_.isEmpty()&&De.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Si}updatePriority(R){return this.children_.isEmpty()?this:new gt(this.children_,R,this.indexMap_)}getImmediateChild(R){if(R===".priority")return this.getPriority();{const B=this.children_.get(R);return B===null?Si:B}}getChild(R){const B=Ct(R);return B===null?this:this.getImmediateChild(B).getChild(tr(R))}hasChild(R){return this.children_.get(R)!==null}updateImmediateChild(R,B){if(De.assert(B,"We should always be passing snapshot nodes"),R===".priority")return this.updatePriority(B);{const H=new xt(R,B);let Z,ae;B.isEmpty()?(Z=this.children_.remove(R),ae=this.indexMap_.removeFromIndexes(H,this.children_)):(Z=this.children_.insert(R,B),ae=this.indexMap_.addToIndexes(H,this.children_));const ce=Z.isEmpty()?Si:this.priorityNode_;return new gt(Z,ce,ae)}}updateChild(R,B){const H=Ct(R);if(H===null)return B;{De.assert(Ct(R)!==".priority"||Rn(R)===1,".priority must be the last token in a path");const Z=this.getImmediateChild(H).updateChild(tr(R),B);return this.updateImmediateChild(H,Z)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(R){if(this.isEmpty())return null;const B={};let H=0,Z=0,ae=!0;if(this.forEachChild(or,(ce,be)=>{B[ce]=be.val(R),H++,ae&&gt.INTEGER_REGEXP_.test(ce)?Z=Math.max(Z,Number(ce)):ae=!1}),!R&&ae&&Z<2*H){const ce=[];for(const be in B)ce[be]=B[be];return ce}else return R&&!this.getPriority().isEmpty()&&(B[".priority"]=this.getPriority().val()),B}hash(){if(this.lazyHash_===null){let R="";this.getPriority().isEmpty()||(R+="priority:"+pl(this.getPriority().val())+":"),this.forEachChild(or,(B,H)=>{const Z=H.hash();Z!==""&&(R+=":"+B+":"+Z)}),this.lazyHash_=R===""?"":Ls(R)}return this.lazyHash_}getPredecessorChildName(R,B,H){const Z=this.resolveIndex_(H);if(Z){const ae=Z.getPredecessorKey(new xt(R,B));return ae?ae.name:null}else return this.children_.getPredecessorKey(R)}getFirstChildName(R){const B=this.resolveIndex_(R);if(B){const H=B.minKey();return H&&H.name}else return this.children_.minKey()}getFirstChild(R){const B=this.getFirstChildName(R);return B?new xt(B,this.children_.get(B)):null}getLastChildName(R){const B=this.resolveIndex_(R);if(B){const H=B.maxKey();return H&&H.name}else return this.children_.maxKey()}getLastChild(R){const B=this.getLastChildName(R);return B?new xt(B,this.children_.get(B)):null}forEachChild(R,B){const H=this.resolveIndex_(R);return H?H.inorderTraversal(Z=>B(Z.name,Z.node)):this.children_.inorderTraversal(B)}getIterator(R){return this.getIteratorFrom(R.minPost(),R)}getIteratorFrom(R,B){const H=this.resolveIndex_(B);if(H)return H.getIteratorFrom(R,Z=>Z);{const Z=this.children_.getIteratorFrom(R.name,xt.Wrap);let ae=Z.peek();for(;ae!=null&&B.compare(ae,R)<0;)Z.getNext(),ae=Z.peek();return Z}}getReverseIterator(R){return this.getReverseIteratorFrom(R.maxPost(),R)}getReverseIteratorFrom(R,B){const H=this.resolveIndex_(B);if(H)return H.getReverseIteratorFrom(R,Z=>Z);{const Z=this.children_.getReverseIteratorFrom(R.name,xt.Wrap);let ae=Z.peek();for(;ae!=null&&B.compare(ae,R)>0;)Z.getNext(),ae=Z.peek();return Z}}compareTo(R){return this.isEmpty()?R.isEmpty()?0:-1:R.isLeafNode()||R.isEmpty()?1:R===Oi?-1:0}withIndex(R){if(R===_n||this.indexMap_.hasIndex(R))return this;{const B=this.indexMap_.addIndex(R,this.children_);return new gt(this.children_,this.priorityNode_,B)}}isIndexed(R){return R===_n||this.indexMap_.hasIndex(R)}equals(R){if(R===this)return!0;if(R.isLeafNode())return!1;{const B=R;if(this.getPriority().equals(B.getPriority()))if(this.children_.count()===B.children_.count()){const H=this.getIterator(or),Z=B.getIterator(or);let ae=H.getNext(),ce=Z.getNext();for(;ae&&ce;){if(ae.name!==ce.name||!ae.node.equals(ce.node))return!1;ae=H.getNext(),ce=Z.getNext()}return ae===null&&ce===null}else return!1;else return!1}}resolveIndex_(R){return R===_n?null:this.indexMap_.get(R.toString())}}gt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Md extends gt{constructor(){super(new Br(ra),gt.EMPTY_NODE,Sn.Default)}compareTo(R){return R===this?0:1}equals(R){return R===this}getPriority(){return this}getImmediateChild(R){return gt.EMPTY_NODE}isEmpty(){return!1}}const Oi=new Md;Object.defineProperties(xt,{MIN:{value:new xt(Tn,gt.EMPTY_NODE)},MAX:{value:new xt(En,Oi)}}),dl.__EMPTY_NODE=gt.EMPTY_NODE,Cr.__childrenNodeConstructor=gt,Dd(Oi),jd(Oi);const Ud=!0;function mr(F,R=null){if(F===null)return gt.EMPTY_NODE;if(typeof F=="object"&&".priority"in F&&(R=F[".priority"]),De.assert(R===null||typeof R=="string"||typeof R=="number"||typeof R=="object"&&".sv"in R,"Invalid priority type found: "+typeof R),typeof F=="object"&&".value"in F&&F[".value"]!==null&&(F=F[".value"]),typeof F!="object"||".sv"in F){const B=F;return new Cr(B,mr(R))}if(!(F instanceof Array)&&Ud){const B=[];let H=!1;if(Ar(F,(ce,be)=>{if(ce.substring(0,1)!=="."){const we=mr(be);we.isEmpty()||(H=H||!we.getPriority().isEmpty(),B.push(new xt(ce,we)))}}),B.length===0)return gt.EMPTY_NODE;const ae=io(B,Nd,ce=>ce.name,ra);if(H){const ce=io(B,or.getCompare());return new gt(ae,mr(R),new Sn({".priority":ce},{".priority":or}))}else return new gt(ae,mr(R),Sn.Default)}else{let B=gt.EMPTY_NODE;return Ar(F,(H,Z)=>{if(De.contains(F,H)&&H.substring(0,1)!=="."){const ae=mr(Z);(ae.isLeafNode()||!ae.isEmpty())&&(B=B.updateImmediateChild(H,ae))}}),B.updatePriority(mr(R))}}kd(mr);class oa extends to{constructor(R){super(),this.indexPath_=R,De.assert(!It(R)&&Ct(R)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(R){return R.getChild(this.indexPath_)}isDefinedOn(R){return!R.getChild(this.indexPath_).isEmpty()}compare(R,B){const H=this.extractChild(R.node),Z=this.extractChild(B.node),ae=H.compareTo(Z);return ae===0?Gn(R.name,B.name):ae}makePost(R,B){const H=mr(R),Z=gt.EMPTY_NODE.updateChild(this.indexPath_,H);return new xt(B,Z)}maxPost(){const R=gt.EMPTY_NODE.updateChild(this.indexPath_,Oi);return new xt(En,R)}toString(){return bi(this.indexPath_,0).join("/")}}class Bd extends to{compare(R,B){const H=R.node.compareTo(B.node);return H===0?Gn(R.name,B.name):H}isDefinedOn(R){return!0}indexedValueChanged(R,B){return!R.equals(B)}minPost(){return xt.MIN}maxPost(){return xt.MAX}makePost(R,B){const H=mr(R);return new xt(B,H)}toString(){return".value"}}const aa=new Bd;function yl(F){return{type:"value",snapshotNode:F}}function ni(F,R){return{type:"child_added",snapshotNode:R,childName:F}}function wi(F,R){return{type:"child_removed",snapshotNode:R,childName:F}}function Ti(F,R,B){return{type:"child_changed",snapshotNode:R,childName:F,oldSnap:B}}function Vd(F,R){return{type:"child_moved",snapshotNode:R,childName:F}}class sa{constructor(R){this.index_=R}updateChild(R,B,H,Z,ae,ce){De.assert(R.isIndexed(this.index_),"A node must be indexed if only a child is updated");const be=R.getImmediateChild(B);return be.getChild(Z).equals(H.getChild(Z))&&be.isEmpty()===H.isEmpty()||(ce!=null&&(H.isEmpty()?R.hasChild(B)?ce.trackChildChange(wi(B,be)):De.assert(R.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):be.isEmpty()?ce.trackChildChange(ni(B,H)):ce.trackChildChange(Ti(B,H,be))),R.isLeafNode()&&H.isEmpty())?R:R.updateImmediateChild(B,H).withIndex(this.index_)}updateFullNode(R,B,H){return H!=null&&(R.isLeafNode()||R.forEachChild(or,(Z,ae)=>{B.hasChild(Z)||H.trackChildChange(wi(Z,ae))}),B.isLeafNode()||B.forEachChild(or,(Z,ae)=>{if(R.hasChild(Z)){const ce=R.getImmediateChild(Z);ce.equals(ae)||H.trackChildChange(Ti(Z,ae,ce))}else H.trackChildChange(ni(Z,ae))})),B.withIndex(this.index_)}updatePriority(R,B){return R.isEmpty()?gt.EMPTY_NODE:R.updatePriority(B)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ai{constructor(R){this.indexedFilter_=new sa(R.getIndex()),this.index_=R.getIndex(),this.startPost_=Ai.getStartPost_(R),this.endPost_=Ai.getEndPost_(R),this.startIsInclusive_=!R.startAfterSet_,this.endIsInclusive_=!R.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(R){const B=this.startIsInclusive_?this.index_.compare(this.getStartPost(),R)<=0:this.index_.compare(this.getStartPost(),R)<0,H=this.endIsInclusive_?this.index_.compare(R,this.getEndPost())<=0:this.index_.compare(R,this.getEndPost())<0;return B&&H}updateChild(R,B,H,Z,ae,ce){return this.matches(new xt(B,H))||(H=gt.EMPTY_NODE),this.indexedFilter_.updateChild(R,B,H,Z,ae,ce)}updateFullNode(R,B,H){B.isLeafNode()&&(B=gt.EMPTY_NODE);let Z=B.withIndex(this.index_);Z=Z.updatePriority(gt.EMPTY_NODE);const ae=this;return B.forEachChild(or,(ce,be)=>{ae.matches(new xt(ce,be))||(Z=Z.updateImmediateChild(ce,gt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(R,Z,H)}updatePriority(R,B){return R}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(R){if(R.hasStart()){const B=R.getIndexStartName();return R.getIndex().makePost(R.getIndexStartValue(),B)}else return R.getIndex().minPost()}static getEndPost_(R){if(R.hasEnd()){const B=R.getIndexEndName();return R.getIndex().makePost(R.getIndexEndValue(),B)}else return R.getIndex().maxPost()}}class $d{constructor(R){this.withinDirectionalStart=B=>this.reverse_?this.withinEndPost(B):this.withinStartPost(B),this.withinDirectionalEnd=B=>this.reverse_?this.withinStartPost(B):this.withinEndPost(B),this.withinStartPost=B=>{const H=this.index_.compare(this.rangedFilter_.getStartPost(),B);return this.startIsInclusive_?H<=0:H<0},this.withinEndPost=B=>{const H=this.index_.compare(B,this.rangedFilter_.getEndPost());return this.endIsInclusive_?H<=0:H<0},this.rangedFilter_=new Ai(R),this.index_=R.getIndex(),this.limit_=R.getLimit(),this.reverse_=!R.isViewFromLeft(),this.startIsInclusive_=!R.startAfterSet_,this.endIsInclusive_=!R.endBeforeSet_}updateChild(R,B,H,Z,ae,ce){return this.rangedFilter_.matches(new xt(B,H))||(H=gt.EMPTY_NODE),R.getImmediateChild(B).equals(H)?R:R.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(R,B,H,Z,ae,ce):this.fullLimitUpdateChild_(R,B,H,ae,ce)}updateFullNode(R,B,H){let Z;if(B.isLeafNode()||B.isEmpty())Z=gt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<B.numChildren()&&B.isIndexed(this.index_)){Z=gt.EMPTY_NODE.withIndex(this.index_);let ae;this.reverse_?ae=B.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):ae=B.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let ce=0;for(;ae.hasNext()&&ce<this.limit_;){const be=ae.getNext();if(this.withinDirectionalStart(be))if(this.withinDirectionalEnd(be))Z=Z.updateImmediateChild(be.name,be.node),ce++;else break;else continue}}else{Z=B.withIndex(this.index_),Z=Z.updatePriority(gt.EMPTY_NODE);let ae;this.reverse_?ae=Z.getReverseIterator(this.index_):ae=Z.getIterator(this.index_);let ce=0;for(;ae.hasNext();){const be=ae.getNext();ce<this.limit_&&this.withinDirectionalStart(be)&&this.withinDirectionalEnd(be)?ce++:Z=Z.updateImmediateChild(be.name,gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(R,Z,H)}updatePriority(R,B){return R}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(R,B,H,Z,ae){let ce;if(this.reverse_){const Be=this.index_.getCompare();ce=(He,ot)=>Be(ot,He)}else ce=this.index_.getCompare();const be=R;De.assert(be.numChildren()===this.limit_,"");const we=new xt(B,H),Re=this.reverse_?be.getFirstChild(this.index_):be.getLastChild(this.index_),qe=this.rangedFilter_.matches(we);if(be.hasChild(B)){const Be=be.getImmediateChild(B);let He=Z.getChildAfterChild(this.index_,Re,this.reverse_);for(;He!=null&&(He.name===B||be.hasChild(He.name));)He=Z.getChildAfterChild(this.index_,He,this.reverse_);const ot=He==null?1:ce(He,we);if(qe&&!H.isEmpty()&&ot>=0)return ae?.trackChildChange(Ti(B,H,Be)),be.updateImmediateChild(B,H);{ae?.trackChildChange(wi(B,Be));const Ft=be.updateImmediateChild(B,gt.EMPTY_NODE);return He!=null&&this.rangedFilter_.matches(He)?(ae?.trackChildChange(ni(He.name,He.node)),Ft.updateImmediateChild(He.name,He.node)):Ft}}else return H.isEmpty()?R:qe&&ce(Re,we)>=0?(ae!=null&&(ae.trackChildChange(wi(Re.name,Re.node)),ae.trackChildChange(ni(B,H))),be.updateImmediateChild(B,H).updateImmediateChild(Re.name,gt.EMPTY_NODE)):R}}class oo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=or}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return De.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return De.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tn}hasEnd(){return this.endSet_}getIndexEndValue(){return De.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return De.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:En}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return De.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===or}copy(){const R=new oo;return R.limitSet_=this.limitSet_,R.limit_=this.limit_,R.startSet_=this.startSet_,R.startAfterSet_=this.startAfterSet_,R.indexStartValue_=this.indexStartValue_,R.startNameSet_=this.startNameSet_,R.indexStartName_=this.indexStartName_,R.endSet_=this.endSet_,R.endBeforeSet_=this.endBeforeSet_,R.indexEndValue_=this.indexEndValue_,R.endNameSet_=this.endNameSet_,R.indexEndName_=this.indexEndName_,R.index_=this.index_,R.viewFrom_=this.viewFrom_,R}}function Gd(F){return F.loadsAllData()?new sa(F.getIndex()):F.hasLimit()?new $d(F):new Ai(F)}function Hd(F,R){const B=F.copy();return B.limitSet_=!0,B.limit_=R,B.viewFrom_="l",B}function Kd(F,R){const B=F.copy();return B.limitSet_=!0,B.limit_=R,B.viewFrom_="r",B}function la(F,R,B){const H=F.copy();return H.startSet_=!0,R===void 0&&(R=null),H.indexStartValue_=R,B!=null?(H.startNameSet_=!0,H.indexStartName_=B):(H.startNameSet_=!1,H.indexStartName_=""),H}function Wd(F,R,B){let H;return F.index_===_n||B?H=la(F,R,B):H=la(F,R,En),H.startAfterSet_=!0,H}function ua(F,R,B){const H=F.copy();return H.endSet_=!0,R===void 0&&(R=null),H.indexEndValue_=R,B!==void 0?(H.endNameSet_=!0,H.indexEndName_=B):(H.endNameSet_=!1,H.indexEndName_=""),H}function Jd(F,R,B){let H;return F.index_===_n||B?H=ua(F,R,B):H=ua(F,R,Tn),H.endBeforeSet_=!0,H}function ao(F,R){const B=F.copy();return B.index_=R,B}function vl(F){const R={};if(F.isDefault())return R;let B;if(F.index_===or?B="$priority":F.index_===aa?B="$value":F.index_===_n?B="$key":(De.assert(F.index_ instanceof oa,"Unrecognized index type!"),B=F.index_.toString()),R.orderBy=De.stringify(B),F.startSet_){const H=F.startAfterSet_?"startAfter":"startAt";R[H]=De.stringify(F.indexStartValue_),F.startNameSet_&&(R[H]+=","+De.stringify(F.indexStartName_))}if(F.endSet_){const H=F.endBeforeSet_?"endBefore":"endAt";R[H]=De.stringify(F.indexEndValue_),F.endNameSet_&&(R[H]+=","+De.stringify(F.indexEndName_))}return F.limitSet_&&(F.isViewFromLeft()?R.limitToFirst=F.limit_:R.limitToLast=F.limit_),R}function _l(F){const R={};if(F.startSet_&&(R.sp=F.indexStartValue_,F.startNameSet_&&(R.sn=F.indexStartName_),R.sin=!F.startAfterSet_),F.endSet_&&(R.ep=F.indexEndValue_,F.endNameSet_&&(R.en=F.indexEndName_),R.ein=!F.endBeforeSet_),F.limitSet_){R.l=F.limit_;let B=F.viewFrom_;B===""&&(F.isViewFromLeft()?B="l":B="r"),R.vf=B}return F.index_!==or&&(R.i=F.index_.toString()),R}class so extends nl{reportStats(R){throw new Error("Method not implemented.")}static getListenId_(R,B){return B!==void 0?"tag$"+B:(De.assert(R._queryParams.isDefault(),"should have a tag if it's not a default query."),R._path.toString())}constructor(R,B,H,Z){super(),this.repoInfo_=R,this.onDataUpdate_=B,this.authTokenProvider_=H,this.appCheckTokenProvider_=Z,this.log_=mi("p:rest:"),this.listens_={}}listen(R,B,H,Z){const ae=R._path.toString();this.log_("Listen called for "+ae+" "+R._queryIdentifier);const ce=so.getListenId_(R,H),be={};this.listens_[ce]=be;const we=vl(R._queryParams);this.restRequest_(ae+".json",we,(Re,qe)=>{let Be=qe;if(Re===404&&(Be=null,Re=null),Re===null&&this.onDataUpdate_(ae,Be,!1,H),De.safeGet(this.listens_,ce)===be){let He;Re?Re===401?He="permission_denied":He="rest_error:"+Re:He="ok",Z(He,null)}})}unlisten(R,B){const H=so.getListenId_(R,B);delete this.listens_[H]}get(R){const B=vl(R._queryParams),H=R._path.toString(),Z=new De.Deferred;return this.restRequest_(H+".json",B,(ae,ce)=>{let be=ce;ae===404&&(be=null,ae=null),ae===null?(this.onDataUpdate_(H,be,!1,null),Z.resolve(be)):Z.reject(new Error(be))}),Z.promise}refreshAuthToken(R){}restRequest_(R,B={},H){return B.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([Z,ae])=>{Z&&Z.accessToken&&(B.auth=Z.accessToken),ae&&ae.token&&(B.ac=ae.token);const ce=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+R+"?ns="+this.repoInfo_.namespace+De.querystring(B);this.log_("Sending REST request for "+ce);const be=new XMLHttpRequest;be.onreadystatechange=()=>{if(H&&be.readyState===4){this.log_("REST Response for "+ce+" received. status:",be.status,"response:",be.responseText);let we=null;if(be.status>=200&&be.status<300){try{we=De.jsonEval(be.responseText)}catch{jr("Failed to parse JSON response for "+ce+": "+be.responseText)}H(null,we)}else be.status!==401&&be.status!==404&&jr("Got unsuccessful REST response for "+ce+" Status: "+be.status),H(be.status);H=null}},be.open("GET",ce,!0),be.send()})}}class zd{constructor(){this.rootNode_=gt.EMPTY_NODE}getNode(R){return this.rootNode_.getChild(R)}updateSnapshot(R,B){this.rootNode_=this.rootNode_.updateChild(R,B)}}function lo(){return{value:null,children:new Map}}function ii(F,R,B){if(It(R))F.value=B,F.children.clear();else if(F.value!==null)F.value=F.value.updateChild(R,B);else{const H=Ct(R);F.children.has(H)||F.children.set(H,lo());const Z=F.children.get(H);R=tr(R),ii(Z,R,B)}}function ca(F,R){if(It(R))return F.value=null,F.children.clear(),!0;if(F.value!==null){if(F.value.isLeafNode())return!1;{const B=F.value;return F.value=null,B.forEachChild(or,(H,Z)=>{ii(F,new Kt(H),Z)}),ca(F,R)}}else if(F.children.size>0){const B=Ct(R);return R=tr(R),F.children.has(B)&&ca(F.children.get(B),R)&&F.children.delete(B),F.children.size===0}else return!0}function da(F,R,B){F.value!==null?B(R,F.value):Yd(F,(H,Z)=>{const ae=new Kt(R.toString()+"/"+H);da(Z,ae,B)})}function Yd(F,R){F.children.forEach((B,H)=>{R(H,B)})}class Qd{constructor(R){this.collection_=R,this.last_=null}get(){const R=this.collection_.get(),B={...R};return this.last_&&Ar(this.last_,(H,Z)=>{B[H]=B[H]-Z}),this.last_=R,B}}const bl=10*1e3,Xd=30*1e3,Zd=300*1e3;class ep{constructor(R,B){this.server_=B,this.statsToReport_={},this.statsListener_=new Qd(R);const H=bl+(Xd-bl)*Math.random();vi(this.reportStats_.bind(this),Math.floor(H))}reportStats_(){const R=this.statsListener_.get(),B={};let H=!1;Ar(R,(Z,ae)=>{ae>0&&De.contains(this.statsToReport_,Z)&&(B[Z]=ae,H=!0)}),H&&this.server_.reportStats(B),vi(this.reportStats_.bind(this),Math.floor(Math.random()*2*Zd))}}var cn;(function(F){F[F.OVERWRITE=0]="OVERWRITE",F[F.MERGE=1]="MERGE",F[F.ACK_USER_WRITE=2]="ACK_USER_WRITE",F[F.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function pa(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fa(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ha(F){return{fromUser:!1,fromServer:!0,queryId:F,tagged:!0}}class uo{constructor(R,B,H){this.path=R,this.affectedTree=B,this.revert=H,this.type=cn.ACK_USER_WRITE,this.source=pa()}operationForChild(R){if(It(this.path)){if(this.affectedTree.value!=null)return De.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const B=this.affectedTree.subtree(new Kt(R));return new uo(Bt(),B,this.revert)}}else return De.assert(Ct(this.path)===R,"operationForChild called for unrelated child."),new uo(tr(this.path),this.affectedTree,this.revert)}}class Ri{constructor(R,B){this.source=R,this.path=B,this.type=cn.LISTEN_COMPLETE}operationForChild(R){return It(this.path)?new Ri(this.source,Bt()):new Ri(this.source,tr(this.path))}}class Kn{constructor(R,B,H){this.source=R,this.path=B,this.snap=H,this.type=cn.OVERWRITE}operationForChild(R){return It(this.path)?new Kn(this.source,Bt(),this.snap.getImmediateChild(R)):new Kn(this.source,tr(this.path),this.snap)}}class oi{constructor(R,B,H){this.source=R,this.path=B,this.children=H,this.type=cn.MERGE}operationForChild(R){if(It(this.path)){const B=this.children.subtree(new Kt(R));return B.isEmpty()?null:B.value?new Kn(this.source,Bt(),B.value):new oi(this.source,Bt(),B)}else return De.assert(Ct(this.path)===R,"Can't get a merge for a child not on the path of the operation"),new oi(this.source,tr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Cn{constructor(R,B,H){this.node_=R,this.fullyInitialized_=B,this.filtered_=H}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(R){if(It(R))return this.isFullyInitialized()&&!this.filtered_;const B=Ct(R);return this.isCompleteForChild(B)}isCompleteForChild(R){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(R)}getNode(){return this.node_}}class tp{constructor(R){this.query_=R,this.index_=this.query_._queryParams.getIndex()}}function rp(F,R,B,H){const Z=[],ae=[];return R.forEach(ce=>{ce.type==="child_changed"&&F.index_.indexedValueChanged(ce.oldSnap,ce.snapshotNode)&&ae.push(Vd(ce.childName,ce.snapshotNode))}),Ci(F,Z,"child_removed",R,H,B),Ci(F,Z,"child_added",R,H,B),Ci(F,Z,"child_moved",ae,H,B),Ci(F,Z,"child_changed",R,H,B),Ci(F,Z,"value",R,H,B),Z}function Ci(F,R,B,H,Z,ae){const ce=H.filter(be=>be.type===B);ce.sort((be,we)=>ip(F,be,we)),ce.forEach(be=>{const we=np(F,be,ae);Z.forEach(Re=>{Re.respondsTo(be.type)&&R.push(Re.createEvent(we,F.query_))})})}function np(F,R,B){return R.type==="value"||R.type==="child_removed"||(R.prevName=B.getPredecessorChildName(R.childName,R.snapshotNode,F.index_)),R}function ip(F,R,B){if(R.childName==null||B.childName==null)throw De.assertionError("Should only compare child_ events.");const H=new xt(R.childName,R.snapshotNode),Z=new xt(B.childName,B.snapshotNode);return F.index_.compare(H,Z)}function co(F,R){return{eventCache:F,serverCache:R}}function Ii(F,R,B,H){return co(new Cn(R,B,H),F.serverCache)}function El(F,R,B,H){return co(F.eventCache,new Cn(R,B,H))}function po(F){return F.eventCache.isFullyInitialized()?F.eventCache.getNode():null}function Wn(F){return F.serverCache.isFullyInitialized()?F.serverCache.getNode():null}let ga;const op=()=>(ga||(ga=new Br(Mc)),ga);class ar{static fromObject(R){let B=new ar(null);return Ar(R,(H,Z)=>{B=B.set(new Kt(H),Z)}),B}constructor(R,B=op()){this.value=R,this.children=B}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(R,B){if(this.value!=null&&B(this.value))return{path:Bt(),value:this.value};if(It(R))return null;{const H=Ct(R),Z=this.children.get(H);if(Z!==null){const ae=Z.findRootMostMatchingPathAndValue(tr(R),B);return ae!=null?{path:hr(new Kt(H),ae.path),value:ae.value}:null}else return null}}findRootMostValueAndPath(R){return this.findRootMostMatchingPathAndValue(R,()=>!0)}subtree(R){if(It(R))return this;{const B=Ct(R),H=this.children.get(B);return H!==null?H.subtree(tr(R)):new ar(null)}}set(R,B){if(It(R))return new ar(B,this.children);{const H=Ct(R),ae=(this.children.get(H)||new ar(null)).set(tr(R),B),ce=this.children.insert(H,ae);return new ar(this.value,ce)}}remove(R){if(It(R))return this.children.isEmpty()?new ar(null):new ar(null,this.children);{const B=Ct(R),H=this.children.get(B);if(H){const Z=H.remove(tr(R));let ae;return Z.isEmpty()?ae=this.children.remove(B):ae=this.children.insert(B,Z),this.value===null&&ae.isEmpty()?new ar(null):new ar(this.value,ae)}else return this}}get(R){if(It(R))return this.value;{const B=Ct(R),H=this.children.get(B);return H?H.get(tr(R)):null}}setTree(R,B){if(It(R))return B;{const H=Ct(R),ae=(this.children.get(H)||new ar(null)).setTree(tr(R),B);let ce;return ae.isEmpty()?ce=this.children.remove(H):ce=this.children.insert(H,ae),new ar(this.value,ce)}}fold(R){return this.fold_(Bt(),R)}fold_(R,B){const H={};return this.children.inorderTraversal((Z,ae)=>{H[Z]=ae.fold_(hr(R,Z),B)}),B(R,this.value,H)}findOnPath(R,B){return this.findOnPath_(R,Bt(),B)}findOnPath_(R,B,H){const Z=this.value?H(B,this.value):!1;if(Z)return Z;if(It(R))return null;{const ae=Ct(R),ce=this.children.get(ae);return ce?ce.findOnPath_(tr(R),hr(B,ae),H):null}}foreachOnPath(R,B){return this.foreachOnPath_(R,Bt(),B)}foreachOnPath_(R,B,H){if(It(R))return this;{this.value&&H(B,this.value);const Z=Ct(R),ae=this.children.get(Z);return ae?ae.foreachOnPath_(tr(R),hr(B,Z),H):new ar(null)}}foreach(R){this.foreach_(Bt(),R)}foreach_(R,B){this.children.inorderTraversal((H,Z)=>{Z.foreach_(hr(R,H),B)}),this.value&&B(R,this.value)}foreachChild(R){this.children.inorderTraversal((B,H)=>{H.value&&R(B,H.value)})}}class dn{constructor(R){this.writeTree_=R}static empty(){return new dn(new ar(null))}}function Pi(F,R,B){if(It(R))return new dn(new ar(B));{const H=F.writeTree_.findRootMostValueAndPath(R);if(H!=null){const Z=H.path;let ae=H.value;const ce=Ur(Z,R);return ae=ae.updateChild(ce,B),new dn(F.writeTree_.set(Z,ae))}else{const Z=new ar(B),ae=F.writeTree_.setTree(R,Z);return new dn(ae)}}}function ma(F,R,B){let H=F;return Ar(B,(Z,ae)=>{H=Pi(H,hr(R,Z),ae)}),H}function Sl(F,R){if(It(R))return dn.empty();{const B=F.writeTree_.setTree(R,new ar(null));return new dn(B)}}function ya(F,R){return Jn(F,R)!=null}function Jn(F,R){const B=F.writeTree_.findRootMostValueAndPath(R);return B!=null?F.writeTree_.get(B.path).getChild(Ur(B.path,R)):null}function Ol(F){const R=[],B=F.writeTree_.value;return B!=null?B.isLeafNode()||B.forEachChild(or,(H,Z)=>{R.push(new xt(H,Z))}):F.writeTree_.children.inorderTraversal((H,Z)=>{Z.value!=null&&R.push(new xt(H,Z.value))}),R}function In(F,R){if(It(R))return F;{const B=Jn(F,R);return B!=null?new dn(new ar(B)):new dn(F.writeTree_.subtree(R))}}function va(F){return F.writeTree_.isEmpty()}function ai(F,R){return wl(Bt(),F.writeTree_,R)}function wl(F,R,B){if(R.value!=null)return B.updateChild(F,R.value);{let H=null;return R.children.inorderTraversal((Z,ae)=>{Z===".priority"?(De.assert(ae.value!==null,"Priority writes must always be leaf nodes"),H=ae.value):B=wl(hr(F,Z),ae,B)}),!B.getChild(F).isEmpty()&&H!==null&&(B=B.updateChild(hr(F,".priority"),H)),B}}function fo(F,R){return Il(R,F)}function ap(F,R,B,H,Z){De.assert(H>F.lastWriteId,"Stacking an older write on top of newer ones"),Z===void 0&&(Z=!0),F.allWrites.push({path:R,snap:B,writeId:H,visible:Z}),Z&&(F.visibleWrites=Pi(F.visibleWrites,R,B)),F.lastWriteId=H}function sp(F,R,B,H){De.assert(H>F.lastWriteId,"Stacking an older merge on top of newer ones"),F.allWrites.push({path:R,children:B,writeId:H,visible:!0}),F.visibleWrites=ma(F.visibleWrites,R,B),F.lastWriteId=H}function lp(F,R){for(let B=0;B<F.allWrites.length;B++){const H=F.allWrites[B];if(H.writeId===R)return H}return null}function up(F,R){const B=F.allWrites.findIndex(be=>be.writeId===R);De.assert(B>=0,"removeWrite called with nonexistent writeId.");const H=F.allWrites[B];F.allWrites.splice(B,1);let Z=H.visible,ae=!1,ce=F.allWrites.length-1;for(;Z&&ce>=0;){const be=F.allWrites[ce];be.visible&&(ce>=B&&cp(be,H.path)?Z=!1:Zr(H.path,be.path)&&(ae=!0)),ce--}if(Z){if(ae)return dp(F),!0;if(H.snap)F.visibleWrites=Sl(F.visibleWrites,H.path);else{const be=H.children;Ar(be,we=>{F.visibleWrites=Sl(F.visibleWrites,hr(H.path,we))})}return!0}else return!1}function cp(F,R){if(F.snap)return Zr(F.path,R);for(const B in F.children)if(F.children.hasOwnProperty(B)&&Zr(hr(F.path,B),R))return!0;return!1}function dp(F){F.visibleWrites=Tl(F.allWrites,fp,Bt()),F.allWrites.length>0?F.lastWriteId=F.allWrites[F.allWrites.length-1].writeId:F.lastWriteId=-1}function fp(F){return F.visible}function Tl(F,R,B){let H=dn.empty();for(let Z=0;Z<F.length;++Z){const ae=F[Z];if(R(ae)){const ce=ae.path;let be;if(ae.snap)Zr(B,ce)?(be=Ur(B,ce),H=Pi(H,be,ae.snap)):Zr(ce,B)&&(be=Ur(ce,B),H=Pi(H,Bt(),ae.snap.getChild(be)));else if(ae.children){if(Zr(B,ce))be=Ur(B,ce),H=ma(H,be,ae.children);else if(Zr(ce,B))if(be=Ur(ce,B),It(be))H=ma(H,Bt(),ae.children);else{const we=De.safeGet(ae.children,Ct(be));if(we){const Re=we.getChild(tr(be));H=Pi(H,Bt(),Re)}}}else throw De.assertionError("WriteRecord should have .snap or .children")}}return H}function Al(F,R,B,H,Z){if(!H&&!Z){const ae=Jn(F.visibleWrites,R);if(ae!=null)return ae;{const ce=In(F.visibleWrites,R);if(va(ce))return B;if(B==null&&!ya(ce,Bt()))return null;{const be=B||gt.EMPTY_NODE;return ai(ce,be)}}}else{const ae=In(F.visibleWrites,R);if(!Z&&va(ae))return B;if(!Z&&B==null&&!ya(ae,Bt()))return null;{const ce=function(Re){return(Re.visible||Z)&&(!H||!~H.indexOf(Re.writeId))&&(Zr(Re.path,R)||Zr(R,Re.path))},be=Tl(F.allWrites,ce,R),we=B||gt.EMPTY_NODE;return ai(be,we)}}}function hp(F,R,B){let H=gt.EMPTY_NODE;const Z=Jn(F.visibleWrites,R);if(Z)return Z.isLeafNode()||Z.forEachChild(or,(ae,ce)=>{H=H.updateImmediateChild(ae,ce)}),H;if(B){const ae=In(F.visibleWrites,R);return B.forEachChild(or,(ce,be)=>{const we=ai(In(ae,new Kt(ce)),be);H=H.updateImmediateChild(ce,we)}),Ol(ae).forEach(ce=>{H=H.updateImmediateChild(ce.name,ce.node)}),H}else{const ae=In(F.visibleWrites,R);return Ol(ae).forEach(ce=>{H=H.updateImmediateChild(ce.name,ce.node)}),H}}function gp(F,R,B,H,Z){De.assert(H||Z,"Either existingEventSnap or existingServerSnap must exist");const ae=hr(R,B);if(ya(F.visibleWrites,ae))return null;{const ce=In(F.visibleWrites,ae);return va(ce)?Z.getChild(B):ai(ce,Z.getChild(B))}}function mp(F,R,B,H){const Z=hr(R,B),ae=Jn(F.visibleWrites,Z);if(ae!=null)return ae;if(H.isCompleteForChild(B)){const ce=In(F.visibleWrites,Z);return ai(ce,H.getNode().getImmediateChild(B))}else return null}function yp(F,R){return Jn(F.visibleWrites,R)}function vp(F,R,B,H,Z,ae,ce){let be;const we=In(F.visibleWrites,R),Re=Jn(we,Bt());if(Re!=null)be=Re;else if(B!=null)be=ai(we,B);else return[];if(be=be.withIndex(ce),!be.isEmpty()&&!be.isLeafNode()){const qe=[],Be=ce.getCompare(),He=ae?be.getReverseIteratorFrom(H,ce):be.getIteratorFrom(H,ce);let ot=He.getNext();for(;ot&&qe.length<Z;)Be(ot,H)!==0&&qe.push(ot),ot=He.getNext();return qe}else return[]}function _p(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function ho(F,R,B,H){return Al(F.writeTree,F.treePath,R,B,H)}function _a(F,R){return hp(F.writeTree,F.treePath,R)}function Rl(F,R,B,H){return gp(F.writeTree,F.treePath,R,B,H)}function go(F,R){return yp(F.writeTree,hr(F.treePath,R))}function bp(F,R,B,H,Z,ae){return vp(F.writeTree,F.treePath,R,B,H,Z,ae)}function ba(F,R,B){return mp(F.writeTree,F.treePath,R,B)}function Cl(F,R){return Il(hr(F.treePath,R),F.writeTree)}function Il(F,R){return{treePath:F,writeTree:R}}class Ep{constructor(){this.changeMap=new Map}trackChildChange(R){const B=R.type,H=R.childName;De.assert(B==="child_added"||B==="child_changed"||B==="child_removed","Only child changes supported for tracking"),De.assert(H!==".priority","Only non-priority child changes can be tracked.");const Z=this.changeMap.get(H);if(Z){const ae=Z.type;if(B==="child_added"&&ae==="child_removed")this.changeMap.set(H,Ti(H,R.snapshotNode,Z.snapshotNode));else if(B==="child_removed"&&ae==="child_added")this.changeMap.delete(H);else if(B==="child_removed"&&ae==="child_changed")this.changeMap.set(H,wi(H,Z.oldSnap));else if(B==="child_changed"&&ae==="child_added")this.changeMap.set(H,ni(H,R.snapshotNode));else if(B==="child_changed"&&ae==="child_changed")this.changeMap.set(H,Ti(H,R.snapshotNode,Z.oldSnap));else throw De.assertionError("Illegal combination of changes: "+R+" occurred after "+Z)}else this.changeMap.set(H,R)}getChanges(){return Array.from(this.changeMap.values())}}class Sp{getCompleteChild(R){return null}getChildAfterChild(R,B,H){return null}}const Pl=new Sp;class Ea{constructor(R,B,H=null){this.writes_=R,this.viewCache_=B,this.optCompleteServerCache_=H}getCompleteChild(R){const B=this.viewCache_.eventCache;if(B.isCompleteForChild(R))return B.getNode().getImmediateChild(R);{const H=this.optCompleteServerCache_!=null?new Cn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ba(this.writes_,R,H)}}getChildAfterChild(R,B,H){const Z=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wn(this.viewCache_),ae=bp(this.writes_,Z,B,1,H,R);return ae.length===0?null:ae[0]}}function Op(F){return{filter:F}}function wp(F,R){De.assert(R.eventCache.getNode().isIndexed(F.filter.getIndex()),"Event snap not indexed"),De.assert(R.serverCache.getNode().isIndexed(F.filter.getIndex()),"Server snap not indexed")}function Tp(F,R,B,H,Z){const ae=new Ep;let ce,be;if(B.type===cn.OVERWRITE){const Re=B;Re.source.fromUser?ce=Sa(F,R,Re.path,Re.snap,H,Z,ae):(De.assert(Re.source.fromServer,"Unknown source."),be=Re.source.tagged||R.serverCache.isFiltered()&&!It(Re.path),ce=mo(F,R,Re.path,Re.snap,H,Z,be,ae))}else if(B.type===cn.MERGE){const Re=B;Re.source.fromUser?ce=Rp(F,R,Re.path,Re.children,H,Z,ae):(De.assert(Re.source.fromServer,"Unknown source."),be=Re.source.tagged||R.serverCache.isFiltered(),ce=Oa(F,R,Re.path,Re.children,H,Z,be,ae))}else if(B.type===cn.ACK_USER_WRITE){const Re=B;Re.revert?ce=Pp(F,R,Re.path,H,Z,ae):ce=Cp(F,R,Re.path,Re.affectedTree,H,Z,ae)}else if(B.type===cn.LISTEN_COMPLETE)ce=Ip(F,R,B.path,H,ae);else throw De.assertionError("Unknown operation type: "+B.type);const we=ae.getChanges();return Ap(R,ce,we),{viewCache:ce,changes:we}}function Ap(F,R,B){const H=R.eventCache;if(H.isFullyInitialized()){const Z=H.getNode().isLeafNode()||H.getNode().isEmpty(),ae=po(F);(B.length>0||!F.eventCache.isFullyInitialized()||Z&&!H.getNode().equals(ae)||!H.getNode().getPriority().equals(ae.getPriority()))&&B.push(yl(po(R)))}}function xl(F,R,B,H,Z,ae){const ce=R.eventCache;if(go(H,B)!=null)return R;{let be,we;if(It(B))if(De.assert(R.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),R.serverCache.isFiltered()){const Re=Wn(R),qe=Re instanceof gt?Re:gt.EMPTY_NODE,Be=_a(H,qe);be=F.filter.updateFullNode(R.eventCache.getNode(),Be,ae)}else{const Re=ho(H,Wn(R));be=F.filter.updateFullNode(R.eventCache.getNode(),Re,ae)}else{const Re=Ct(B);if(Re===".priority"){De.assert(Rn(B)===1,"Can't have a priority with additional path components");const qe=ce.getNode();we=R.serverCache.getNode();const Be=Rl(H,B,qe,we);Be!=null?be=F.filter.updatePriority(qe,Be):be=ce.getNode()}else{const qe=tr(B);let Be;if(ce.isCompleteForChild(Re)){we=R.serverCache.getNode();const He=Rl(H,B,ce.getNode(),we);He!=null?Be=ce.getNode().getImmediateChild(Re).updateChild(qe,He):Be=ce.getNode().getImmediateChild(Re)}else Be=ba(H,Re,R.serverCache);Be!=null?be=F.filter.updateChild(ce.getNode(),Re,Be,qe,Z,ae):be=ce.getNode()}}return Ii(R,be,ce.isFullyInitialized()||It(B),F.filter.filtersNodes())}}function mo(F,R,B,H,Z,ae,ce,be){const we=R.serverCache;let Re;const qe=ce?F.filter:F.filter.getIndexedFilter();if(It(B))Re=qe.updateFullNode(we.getNode(),H,null);else if(qe.filtersNodes()&&!we.isFiltered()){const ot=we.getNode().updateChild(B,H);Re=qe.updateFullNode(we.getNode(),ot,null)}else{const ot=Ct(B);if(!we.isCompleteForPath(B)&&Rn(B)>1)return R;const ft=tr(B),Er=we.getNode().getImmediateChild(ot).updateChild(ft,H);ot===".priority"?Re=qe.updatePriority(we.getNode(),Er):Re=qe.updateChild(we.getNode(),ot,Er,ft,Pl,null)}const Be=El(R,Re,we.isFullyInitialized()||It(B),qe.filtersNodes()),He=new Ea(Z,Be,ae);return xl(F,Be,B,Z,He,be)}function Sa(F,R,B,H,Z,ae,ce){const be=R.eventCache;let we,Re;const qe=new Ea(Z,R,ae);if(It(B))Re=F.filter.updateFullNode(R.eventCache.getNode(),H,ce),we=Ii(R,Re,!0,F.filter.filtersNodes());else{const Be=Ct(B);if(Be===".priority")Re=F.filter.updatePriority(R.eventCache.getNode(),H),we=Ii(R,Re,be.isFullyInitialized(),be.isFiltered());else{const He=tr(B),ot=be.getNode().getImmediateChild(Be);let ft;if(It(He))ft=H;else{const Ft=qe.getCompleteChild(Be);Ft!=null?Zo(He)===".priority"&&Ft.getChild(sl(He)).isEmpty()?ft=Ft:ft=Ft.updateChild(He,H):ft=gt.EMPTY_NODE}if(ot.equals(ft))we=R;else{const Ft=F.filter.updateChild(be.getNode(),Be,ft,He,qe,ce);we=Ii(R,Ft,be.isFullyInitialized(),F.filter.filtersNodes())}}}return we}function Nl(F,R){return F.eventCache.isCompleteForChild(R)}function Rp(F,R,B,H,Z,ae,ce){let be=R;return H.foreach((we,Re)=>{const qe=hr(B,we);Nl(R,Ct(qe))&&(be=Sa(F,be,qe,Re,Z,ae,ce))}),H.foreach((we,Re)=>{const qe=hr(B,we);Nl(R,Ct(qe))||(be=Sa(F,be,qe,Re,Z,ae,ce))}),be}function Dl(F,R,B){return B.foreach((H,Z)=>{R=R.updateChild(H,Z)}),R}function Oa(F,R,B,H,Z,ae,ce,be){if(R.serverCache.getNode().isEmpty()&&!R.serverCache.isFullyInitialized())return R;let we=R,Re;It(B)?Re=H:Re=new ar(null).setTree(B,H);const qe=R.serverCache.getNode();return Re.children.inorderTraversal((Be,He)=>{if(qe.hasChild(Be)){const ot=R.serverCache.getNode().getImmediateChild(Be),ft=Dl(F,ot,He);we=mo(F,we,new Kt(Be),ft,Z,ae,ce,be)}}),Re.children.inorderTraversal((Be,He)=>{const ot=!R.serverCache.isCompleteForChild(Be)&&He.value===null;if(!qe.hasChild(Be)&&!ot){const ft=R.serverCache.getNode().getImmediateChild(Be),Ft=Dl(F,ft,He);we=mo(F,we,new Kt(Be),Ft,Z,ae,ce,be)}}),we}function Cp(F,R,B,H,Z,ae,ce){if(go(Z,B)!=null)return R;const be=R.serverCache.isFiltered(),we=R.serverCache;if(H.value!=null){if(It(B)&&we.isFullyInitialized()||we.isCompleteForPath(B))return mo(F,R,B,we.getNode().getChild(B),Z,ae,be,ce);if(It(B)){let Re=new ar(null);return we.getNode().forEachChild(_n,(qe,Be)=>{Re=Re.set(new Kt(qe),Be)}),Oa(F,R,B,Re,Z,ae,be,ce)}else return R}else{let Re=new ar(null);return H.foreach((qe,Be)=>{const He=hr(B,qe);we.isCompleteForPath(He)&&(Re=Re.set(qe,we.getNode().getChild(He)))}),Oa(F,R,B,Re,Z,ae,be,ce)}}function Ip(F,R,B,H,Z){const ae=R.serverCache,ce=El(R,ae.getNode(),ae.isFullyInitialized()||It(B),ae.isFiltered());return xl(F,ce,B,H,Pl,Z)}function Pp(F,R,B,H,Z,ae){let ce;if(go(H,B)!=null)return R;{const be=new Ea(H,R,Z),we=R.eventCache.getNode();let Re;if(It(B)||Ct(B)===".priority"){let qe;if(R.serverCache.isFullyInitialized())qe=ho(H,Wn(R));else{const Be=R.serverCache.getNode();De.assert(Be instanceof gt,"serverChildren would be complete if leaf node"),qe=_a(H,Be)}qe=qe,Re=F.filter.updateFullNode(we,qe,ae)}else{const qe=Ct(B);let Be=ba(H,qe,R.serverCache);Be==null&&R.serverCache.isCompleteForChild(qe)&&(Be=we.getImmediateChild(qe)),Be!=null?Re=F.filter.updateChild(we,qe,Be,tr(B),be,ae):R.eventCache.getNode().hasChild(qe)?Re=F.filter.updateChild(we,qe,gt.EMPTY_NODE,tr(B),be,ae):Re=we,Re.isEmpty()&&R.serverCache.isFullyInitialized()&&(ce=ho(H,Wn(R)),ce.isLeafNode()&&(Re=F.filter.updateFullNode(Re,ce,ae)))}return ce=R.serverCache.isFullyInitialized()||go(H,Bt())!=null,Ii(R,Re,ce,F.filter.filtersNodes())}}class xp{constructor(R,B){this.query_=R,this.eventRegistrations_=[];const H=this.query_._queryParams,Z=new sa(H.getIndex()),ae=Gd(H);this.processor_=Op(ae);const ce=B.serverCache,be=B.eventCache,we=Z.updateFullNode(gt.EMPTY_NODE,ce.getNode(),null),Re=ae.updateFullNode(gt.EMPTY_NODE,be.getNode(),null),qe=new Cn(we,ce.isFullyInitialized(),Z.filtersNodes()),Be=new Cn(Re,be.isFullyInitialized(),ae.filtersNodes());this.viewCache_=co(Be,qe),this.eventGenerator_=new tp(this.query_)}get query(){return this.query_}}function Np(F){return F.viewCache_.serverCache.getNode()}function Dp(F){return po(F.viewCache_)}function kp(F,R){const B=Wn(F.viewCache_);return B&&(F.query._queryParams.loadsAllData()||!It(R)&&!B.getImmediateChild(Ct(R)).isEmpty())?B.getChild(R):null}function kl(F){return F.eventRegistrations_.length===0}function jp(F,R){F.eventRegistrations_.push(R)}function jl(F,R,B){const H=[];if(B){De.assert(R==null,"A cancel should cancel all event registrations.");const Z=F.query._path;F.eventRegistrations_.forEach(ae=>{const ce=ae.createCancelEvent(B,Z);ce&&H.push(ce)})}if(R){let Z=[];for(let ae=0;ae<F.eventRegistrations_.length;++ae){const ce=F.eventRegistrations_[ae];if(!ce.matches(R))Z.push(ce);else if(R.hasAnyCallback()){Z=Z.concat(F.eventRegistrations_.slice(ae+1));break}}F.eventRegistrations_=Z}else F.eventRegistrations_=[];return H}function Ll(F,R,B,H){R.type===cn.MERGE&&R.source.queryId!==null&&(De.assert(Wn(F.viewCache_),"We should always have a full cache before handling merges"),De.assert(po(F.viewCache_),"Missing event cache, even though we have a server cache"));const Z=F.viewCache_,ae=Tp(F.processor_,Z,R,B,H);return wp(F.processor_,ae.viewCache),De.assert(ae.viewCache.serverCache.isFullyInitialized()||!Z.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),F.viewCache_=ae.viewCache,ql(F,ae.changes,ae.viewCache.eventCache.getNode(),null)}function Lp(F,R){const B=F.viewCache_.eventCache,H=[];return B.getNode().isLeafNode()||B.getNode().forEachChild(or,(ae,ce)=>{H.push(ni(ae,ce))}),B.isFullyInitialized()&&H.push(yl(B.getNode())),ql(F,H,B.getNode(),R)}function ql(F,R,B,H){const Z=H?[H]:F.eventRegistrations_;return rp(F.eventGenerator_,R,B,Z)}let yo;class Fl{constructor(){this.views=new Map}}function qp(F){De.assert(!yo,"__referenceConstructor has already been defined"),yo=F}function Fp(){return De.assert(yo,"Reference.ts has not been loaded"),yo}function Mp(F){return F.views.size===0}function wa(F,R,B,H){const Z=R.source.queryId;if(Z!==null){const ae=F.views.get(Z);return De.assert(ae!=null,"SyncTree gave us an op for an invalid query."),Ll(ae,R,B,H)}else{let ae=[];for(const ce of F.views.values())ae=ae.concat(Ll(ce,R,B,H));return ae}}function Ml(F,R,B,H,Z){const ae=R._queryIdentifier,ce=F.views.get(ae);if(!ce){let be=ho(B,Z?H:null),we=!1;be?we=!0:H instanceof gt?(be=_a(B,H),we=!1):(be=gt.EMPTY_NODE,we=!1);const Re=co(new Cn(be,we,!1),new Cn(H,Z,!1));return new xp(R,Re)}return ce}function Up(F,R,B,H,Z,ae){const ce=Ml(F,R,H,Z,ae);return F.views.has(R._queryIdentifier)||F.views.set(R._queryIdentifier,ce),jp(ce,B),Lp(ce,B)}function Bp(F,R,B,H){const Z=R._queryIdentifier,ae=[];let ce=[];const be=xn(F);if(Z==="default")for(const[we,Re]of F.views.entries())ce=ce.concat(jl(Re,B,H)),kl(Re)&&(F.views.delete(we),Re.query._queryParams.loadsAllData()||ae.push(Re.query));else{const we=F.views.get(Z);we&&(ce=ce.concat(jl(we,B,H)),kl(we)&&(F.views.delete(Z),we.query._queryParams.loadsAllData()||ae.push(we.query)))}return be&&!xn(F)&&ae.push(new(Fp())(R._repo,R._path)),{removed:ae,events:ce}}function Ul(F){const R=[];for(const B of F.views.values())B.query._queryParams.loadsAllData()||R.push(B);return R}function Pn(F,R){let B=null;for(const H of F.views.values())B=B||kp(H,R);return B}function Bl(F,R){if(R._queryParams.loadsAllData())return vo(F);{const H=R._queryIdentifier;return F.views.get(H)}}function Vl(F,R){return Bl(F,R)!=null}function xn(F){return vo(F)!=null}function vo(F){for(const R of F.views.values())if(R.query._queryParams.loadsAllData())return R;return null}let _o;function Vp(F){De.assert(!_o,"__referenceConstructor has already been defined"),_o=F}function $p(){return De.assert(_o,"Reference.ts has not been loaded"),_o}let Gp=1;class $l{constructor(R){this.listenProvider_=R,this.syncPointTree_=new ar(null),this.pendingWriteTree_=_p(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ta(F,R,B,H,Z){return ap(F.pendingWriteTree_,R,B,H,Z),Z?si(F,new Kn(pa(),R,B)):[]}function Hp(F,R,B,H){sp(F.pendingWriteTree_,R,B,H);const Z=ar.fromObject(B);return si(F,new oi(pa(),R,Z))}function Nn(F,R,B=!1){const H=lp(F.pendingWriteTree_,R);if(up(F.pendingWriteTree_,R)){let ae=new ar(null);return H.snap!=null?ae=ae.set(Bt(),!0):Ar(H.children,ce=>{ae=ae.set(new Kt(ce),!0)}),si(F,new uo(H.path,ae,B))}else return[]}function xi(F,R,B){return si(F,new Kn(fa(),R,B))}function Kp(F,R,B){const H=ar.fromObject(B);return si(F,new oi(fa(),R,H))}function Wp(F,R){return si(F,new Ri(fa(),R))}function Jp(F,R,B){const H=Ra(F,B);if(H){const Z=Ca(H),ae=Z.path,ce=Z.queryId,be=Ur(ae,R),we=new Ri(ha(ce),be);return Ia(F,ae,we)}else return[]}function bo(F,R,B,H,Z=!1){const ae=R._path,ce=F.syncPointTree_.get(ae);let be=[];if(ce&&(R._queryIdentifier==="default"||Vl(ce,R))){const we=Bp(ce,R,B,H);Mp(ce)&&(F.syncPointTree_=F.syncPointTree_.remove(ae));const Re=we.removed;if(be=we.events,!Z){const qe=Re.findIndex(He=>He._queryParams.loadsAllData())!==-1,Be=F.syncPointTree_.findOnPath(ae,(He,ot)=>xn(ot));if(qe&&!Be){const He=F.syncPointTree_.subtree(ae);if(!He.isEmpty()){const ot=Qp(He);for(let ft=0;ft<ot.length;++ft){const Ft=ot[ft],Er=Ft.query,Ln=Wl(F,Ft);F.listenProvider_.startListening(Di(Er),Ni(F,Er),Ln.hashFn,Ln.onComplete)}}}!Be&&Re.length>0&&!H&&(qe?F.listenProvider_.stopListening(Di(R),null):Re.forEach(He=>{const ot=F.queryToTagMap.get(So(He));F.listenProvider_.stopListening(Di(He),ot)}))}Xp(F,Re)}return be}function Gl(F,R,B,H){const Z=Ra(F,H);if(Z!=null){const ae=Ca(Z),ce=ae.path,be=ae.queryId,we=Ur(ce,R),Re=new Kn(ha(be),we,B);return Ia(F,ce,Re)}else return[]}function zp(F,R,B,H){const Z=Ra(F,H);if(Z){const ae=Ca(Z),ce=ae.path,be=ae.queryId,we=Ur(ce,R),Re=ar.fromObject(B),qe=new oi(ha(be),we,Re);return Ia(F,ce,qe)}else return[]}function Aa(F,R,B,H=!1){const Z=R._path;let ae=null,ce=!1;F.syncPointTree_.foreachOnPath(Z,(He,ot)=>{const ft=Ur(He,Z);ae=ae||Pn(ot,ft),ce=ce||xn(ot)});let be=F.syncPointTree_.get(Z);be?(ce=ce||xn(be),ae=ae||Pn(be,Bt())):(be=new Fl,F.syncPointTree_=F.syncPointTree_.set(Z,be));let we;ae!=null?we=!0:(we=!1,ae=gt.EMPTY_NODE,F.syncPointTree_.subtree(Z).foreachChild((ot,ft)=>{const Ft=Pn(ft,Bt());Ft&&(ae=ae.updateImmediateChild(ot,Ft))}));const Re=Vl(be,R);if(!Re&&!R._queryParams.loadsAllData()){const He=So(R);De.assert(!F.queryToTagMap.has(He),"View does not exist, but we have a tag");const ot=Zp();F.queryToTagMap.set(He,ot),F.tagToQueryMap.set(ot,He)}const qe=fo(F.pendingWriteTree_,Z);let Be=Up(be,R,B,qe,ae,we);if(!Re&&!ce&&!H){const He=Bl(be,R);Be=Be.concat(ef(F,R,He))}return Be}function Eo(F,R,B){const Z=F.pendingWriteTree_,ae=F.syncPointTree_.findOnPath(R,(ce,be)=>{const we=Ur(ce,R),Re=Pn(be,we);if(Re)return Re});return Al(Z,R,ae,B,!0)}function Yp(F,R){const B=R._path;let H=null;F.syncPointTree_.foreachOnPath(B,(Re,qe)=>{const Be=Ur(Re,B);H=H||Pn(qe,Be)});let Z=F.syncPointTree_.get(B);Z?H=H||Pn(Z,Bt()):(Z=new Fl,F.syncPointTree_=F.syncPointTree_.set(B,Z));const ae=H!=null,ce=ae?new Cn(H,!0,!1):null,be=fo(F.pendingWriteTree_,R._path),we=Ml(Z,R,be,ae?ce.getNode():gt.EMPTY_NODE,ae);return Dp(we)}function si(F,R){return Hl(R,F.syncPointTree_,null,fo(F.pendingWriteTree_,Bt()))}function Hl(F,R,B,H){if(It(F.path))return Kl(F,R,B,H);{const Z=R.get(Bt());B==null&&Z!=null&&(B=Pn(Z,Bt()));let ae=[];const ce=Ct(F.path),be=F.operationForChild(ce),we=R.children.get(ce);if(we&&be){const Re=B?B.getImmediateChild(ce):null,qe=Cl(H,ce);ae=ae.concat(Hl(be,we,Re,qe))}return Z&&(ae=ae.concat(wa(Z,F,H,B))),ae}}function Kl(F,R,B,H){const Z=R.get(Bt());B==null&&Z!=null&&(B=Pn(Z,Bt()));let ae=[];return R.children.inorderTraversal((ce,be)=>{const we=B?B.getImmediateChild(ce):null,Re=Cl(H,ce),qe=F.operationForChild(ce);qe&&(ae=ae.concat(Kl(qe,be,we,Re)))}),Z&&(ae=ae.concat(wa(Z,F,H,B))),ae}function Wl(F,R){const B=R.query,H=Ni(F,B);return{hashFn:()=>(Np(R)||gt.EMPTY_NODE).hash(),onComplete:Z=>{if(Z==="ok")return H?Jp(F,B._path,H):Wp(F,B._path);{const ae=Vc(Z,B);return bo(F,B,null,ae)}}}}function Ni(F,R){const B=So(R);return F.queryToTagMap.get(B)}function So(F){return F._path.toString()+"$"+F._queryIdentifier}function Ra(F,R){return F.tagToQueryMap.get(R)}function Ca(F){const R=F.indexOf("$");return De.assert(R!==-1&&R<F.length-1,"Bad queryKey."),{queryId:F.substr(R+1),path:new Kt(F.substr(0,R))}}function Ia(F,R,B){const H=F.syncPointTree_.get(R);De.assert(H,"Missing sync point for query tag that we're tracking");const Z=fo(F.pendingWriteTree_,R);return wa(H,B,Z,null)}function Qp(F){return F.fold((R,B,H)=>{if(B&&xn(B))return[vo(B)];{let Z=[];return B&&(Z=Ul(B)),Ar(H,(ae,ce)=>{Z=Z.concat(ce)}),Z}})}function Di(F){return F._queryParams.loadsAllData()&&!F._queryParams.isDefault()?new($p())(F._repo,F._path):F}function Xp(F,R){for(let B=0;B<R.length;++B){const H=R[B];if(!H._queryParams.loadsAllData()){const Z=So(H),ae=F.queryToTagMap.get(Z);F.queryToTagMap.delete(Z),F.tagToQueryMap.delete(ae)}}}function Zp(){return Gp++}function ef(F,R,B){const H=R._path,Z=Ni(F,R),ae=Wl(F,B),ce=F.listenProvider_.startListening(Di(R),Z,ae.hashFn,ae.onComplete),be=F.syncPointTree_.subtree(H);if(Z)De.assert(!xn(be.value),"If we're adding a query, it shouldn't be shadowed");else{const we=be.fold((Re,qe,Be)=>{if(!It(Re)&&qe&&xn(qe))return[vo(qe).query];{let He=[];return qe&&(He=He.concat(Ul(qe).map(ot=>ot.query))),Ar(Be,(ot,ft)=>{He=He.concat(ft)}),He}});for(let Re=0;Re<we.length;++Re){const qe=we[Re];F.listenProvider_.stopListening(Di(qe),Ni(F,qe))}}return ce}class Pa{constructor(R){this.node_=R}getImmediateChild(R){const B=this.node_.getImmediateChild(R);return new Pa(B)}node(){return this.node_}}class xa{constructor(R,B){this.syncTree_=R,this.path_=B}getImmediateChild(R){const B=hr(this.path_,R);return new xa(this.syncTree_,B)}node(){return Eo(this.syncTree_,this.path_)}}const tf=function(F){return F=F||{},F.timestamp=F.timestamp||new Date().getTime(),F},Jl=function(F,R,B){if(!F||typeof F!="object")return F;if(De.assert(".sv"in F,"Unexpected leaf node or priority contents"),typeof F[".sv"]=="string")return rf(F[".sv"],R,B);if(typeof F[".sv"]=="object")return nf(F[".sv"],R);De.assert(!1,"Unexpected server value: "+JSON.stringify(F,null,2))},rf=function(F,R,B){if(F==="timestamp")return B.timestamp;De.assert(!1,"Unexpected server value: "+F)},nf=function(F,R,B){F.hasOwnProperty("increment")||De.assert(!1,"Unexpected server value: "+JSON.stringify(F,null,2));const H=F.increment;typeof H!="number"&&De.assert(!1,"Unexpected increment value: "+H);const Z=R.node();if(De.assert(Z!==null&&typeof Z<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!Z.isLeafNode())return H;const ce=Z.getValue();return typeof ce!="number"?H:ce+H},zl=function(F,R,B,H){return Da(R,new xa(B,F),H)},Na=function(F,R,B){return Da(F,new Pa(R),B)};function Da(F,R,B){const H=F.getPriority().val(),Z=Jl(H,R.getImmediateChild(".priority"),B);let ae;if(F.isLeafNode()){const ce=F,be=Jl(ce.getValue(),R,B);return be!==ce.getValue()||Z!==ce.getPriority().val()?new Cr(be,mr(Z)):F}else{const ce=F;return ae=ce,Z!==ce.getPriority().val()&&(ae=ae.updatePriority(new Cr(Z))),ce.forEachChild(or,(be,we)=>{const Re=Da(we,R.getImmediateChild(be),B);Re!==we&&(ae=ae.updateImmediateChild(be,Re))}),ae}}class ka{constructor(R="",B=null,H={children:{},childCount:0}){this.name=R,this.parent=B,this.node=H}}function Oo(F,R){let B=R instanceof Kt?R:new Kt(R),H=F,Z=Ct(B);for(;Z!==null;){const ae=De.safeGet(H.node.children,Z)||{children:{},childCount:0};H=new ka(Z,H,ae),B=tr(B),Z=Ct(B)}return H}function zn(F){return F.node.value}function ja(F,R){F.node.value=R,La(F)}function Yl(F){return F.node.childCount>0}function of(F){return zn(F)===void 0&&!Yl(F)}function wo(F,R){Ar(F.node.children,(B,H)=>{R(new ka(B,F,H))})}function Ql(F,R,B,H){B&&R(F),wo(F,Z=>{Ql(Z,R,!0)})}function af(F,R,B){let H=F.parent;for(;H!==null;){if(R(H))return!0;H=H.parent}return!1}function ki(F){return new Kt(F.parent===null?F.name:ki(F.parent)+"/"+F.name)}function La(F){F.parent!==null&&sf(F.parent,F.name,F)}function sf(F,R,B){const H=of(B),Z=De.contains(F.node.children,R);H&&Z?(delete F.node.children[R],F.node.childCount--,La(F)):!H&&!Z&&(F.node.children[R]=B.node,F.node.childCount++,La(F))}const lf=/[\[\].#$\/\u0000-\u001F\u007F]/,uf=/[\[\].#$\u0000-\u001F\u007F]/,qa=10*1024*1024,To=function(F){return typeof F=="string"&&F.length!==0&&!lf.test(F)},Xl=function(F){return typeof F=="string"&&F.length!==0&&!uf.test(F)},cf=function(F){return F&&(F=F.replace(/^\/*\.info(\/|$)/,"/")),Xl(F)},ji=function(F){return F===null||typeof F=="string"||typeof F=="number"&&!Zi(F)||F&&typeof F=="object"&&De.contains(F,".sv")},bn=function(F,R,B,H){H&&R===void 0||Li(De.errorPrefix(F,"value"),R,B)},Li=function(F,R,B){const H=B instanceof Kt?new wd(B,F):B;if(R===void 0)throw new Error(F+"contains undefined "+Hn(H));if(typeof R=="function")throw new Error(F+"contains a function "+Hn(H)+" with contents = "+R.toString());if(Zi(R))throw new Error(F+"contains "+R.toString()+" "+Hn(H));if(typeof R=="string"&&R.length>qa/3&&De.stringLength(R)>qa)throw new Error(F+"contains a string greater than "+qa+" utf8 bytes "+Hn(H)+" ('"+R.substring(0,50)+"...')");if(R&&typeof R=="object"){let Z=!1,ae=!1;if(Ar(R,(ce,be)=>{if(ce===".value")Z=!0;else if(ce!==".priority"&&ce!==".sv"&&(ae=!0,!To(ce)))throw new Error(F+" contains an invalid key ("+ce+") "+Hn(H)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Td(H,ce),Li(F,be,H),Ad(H)}),Z&&ae)throw new Error(F+' contains ".value" child '+Hn(H)+" in addition to actual children.")}},df=function(F,R){let B,H;for(B=0;B<R.length;B++){H=R[B];const ae=bi(H);for(let ce=0;ce<ae.length;ce++)if(!(ae[ce]===".priority"&&ce===ae.length-1)){if(!To(ae[ce]))throw new Error(F+"contains an invalid key ("+ae[ce]+") in path "+H.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}R.sort(Od);let Z=null;for(B=0;B<R.length;B++){if(H=R[B],Z!==null&&Zr(Z,H))throw new Error(F+"contains a path "+Z.toString()+" that is ancestor of another path "+H.toString());Z=H}},Zl=function(F,R,B,H){const Z=De.errorPrefix(F,"values");if(!(R&&typeof R=="object")||Array.isArray(R))throw new Error(Z+" must be an object containing the children to replace.");const ae=[];Ar(R,(ce,be)=>{const we=new Kt(ce);if(Li(Z,be,hr(B,we)),Zo(we)===".priority"&&!ji(be))throw new Error(Z+"contains an invalid value for '"+we.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");ae.push(we)}),df(Z,ae)},Fa=function(F,R,B){if(Zi(R))throw new Error(De.errorPrefix(F,"priority")+"is "+R.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ji(R))throw new Error(De.errorPrefix(F,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},qi=function(F,R,B,H){if(B!==void 0&&!To(B))throw new Error(De.errorPrefix(F,R)+'was an invalid key = "'+B+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Ao=function(F,R,B,H){if(!(H&&B===void 0)&&!Xl(B))throw new Error(De.errorPrefix(F,R)+'was an invalid path = "'+B+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pf=function(F,R,B,H){B&&(B=B.replace(/^\/*\.info(\/|$)/,"/")),Ao(F,R,B,H)},pn=function(F,R){if(Ct(R)===".info")throw new Error(F+" failed = Can't modify data under /.info/")},eu=function(F,R){const B=R.path.toString();if(typeof R.repoInfo.host!="string"||R.repoInfo.host.length===0||!To(R.repoInfo.namespace)&&R.repoInfo.host.split(":")[0]!=="localhost"||B.length!==0&&!cf(B))throw new Error(De.errorPrefix(F,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class ff{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ro(F,R){let B=null;for(let H=0;H<R.length;H++){const Z=R[H],ae=Z.getPath();B!==null&&!ea(ae,B.path)&&(F.eventLists_.push(B),B=null),B===null&&(B={events:[],path:ae}),B.events.push(Z)}B&&F.eventLists_.push(B)}function tu(F,R,B){Ro(F,B),ru(F,H=>ea(H,R))}function Kr(F,R,B){Ro(F,B),ru(F,H=>Zr(H,R)||Zr(R,H))}function ru(F,R){F.recursionDepth_++;let B=!0;for(let H=0;H<F.eventLists_.length;H++){const Z=F.eventLists_[H];if(Z){const ae=Z.path;R(ae)?(hf(F.eventLists_[H]),F.eventLists_[H]=null):B=!1}}B&&(F.eventLists_=[]),F.recursionDepth_--}function hf(F){for(let R=0;R<F.events.length;R++){const B=F.events[R];if(B!==null){F.events[R]=null;const H=B.getEventRunner();$n&&Tr("event: "+B.toString()),Zn(H)}}}const nu="repo_interrupt",gf=25;class mf{constructor(R,B,H,Z){this.repoInfo_=R,this.forceRestClient_=B,this.authTokenProvider_=H,this.appCheckProvider_=Z,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ff,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lo(),this.transactionQueueTree_=new ka,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yf(F,R,B){if(F.stats_=zo(F.repoInfo_),F.forceRestClient_||Kc())F.server_=new so(F.repoInfo_,(H,Z,ae,ce)=>{ou(F,H,Z,ae,ce)},F.authTokenProvider_,F.appCheckProvider_),setTimeout(()=>au(F,!0),0);else{if(typeof B<"u"&&B!==null){if(typeof B!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{De.stringify(B)}catch(H){throw new Error("Invalid authOverride provided: "+H)}}F.persistentConnection_=new en(F.repoInfo_,R,(H,Z,ae,ce)=>{ou(F,H,Z,ae,ce)},H=>{au(F,H)},H=>{vf(F,H)},F.authTokenProvider_,F.appCheckProvider_,B),F.server_=F.persistentConnection_}F.authTokenProvider_.addTokenChangeListener(H=>{F.server_.refreshAuthToken(H)}),F.appCheckProvider_.addTokenChangeListener(H=>{F.server_.refreshAppCheckToken(H.token)}),F.statsReporter_=zc(F.repoInfo_,()=>new ep(F.stats_,F.server_)),F.infoData_=new zd,F.infoSyncTree_=new $l({startListening:(H,Z,ae,ce)=>{let be=[];const we=F.infoData_.getNode(H._path);return we.isEmpty()||(be=xi(F.infoSyncTree_,H._path,we),setTimeout(()=>{ce("ok")},0)),be},stopListening:()=>{}}),Ma(F,"connected",!1),F.serverSyncTree_=new $l({startListening:(H,Z,ae,ce)=>(F.server_.listen(H,ae,Z,(be,we)=>{const Re=ce(be,we);Kr(F.eventQueue_,H._path,Re)}),[]),stopListening:(H,Z)=>{F.server_.unlisten(H,Z)}})}function iu(F){const B=F.infoData_.getNode(new Kt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+B}function Fi(F){return tf({timestamp:iu(F)})}function ou(F,R,B,H,Z){F.dataUpdateCount++;const ae=new Kt(R);B=F.interceptServerDataCallback_?F.interceptServerDataCallback_(R,B):B;let ce=[];if(Z)if(H){const we=De.map(B,Re=>mr(Re));ce=zp(F.serverSyncTree_,ae,we,Z)}else{const we=mr(B);ce=Gl(F.serverSyncTree_,ae,we,Z)}else if(H){const we=De.map(B,Re=>mr(Re));ce=Kp(F.serverSyncTree_,ae,we)}else{const we=mr(B);ce=xi(F.serverSyncTree_,ae,we)}let be=ae;ce.length>0&&(be=ui(F,ae)),Kr(F.eventQueue_,be,ce)}function au(F,R){Ma(F,"connected",R),R===!1&&Ef(F)}function vf(F,R){Ar(R,(B,H)=>{Ma(F,B,H)})}function Ma(F,R,B){const H=new Kt("/.info/"+R),Z=mr(B);F.infoData_.updateSnapshot(H,Z);const ae=xi(F.infoSyncTree_,H,Z);Kr(F.eventQueue_,H,ae)}function Co(F){return F.nextWriteId_++}function _f(F,R,B){const H=Yp(F.serverSyncTree_,R);return H!=null?Promise.resolve(H):F.server_.get(R).then(Z=>{const ae=mr(Z).withIndex(R._queryParams.getIndex());Aa(F.serverSyncTree_,R,B,!0);let ce;if(R._queryParams.loadsAllData())ce=xi(F.serverSyncTree_,R._path,ae);else{const be=Ni(F.serverSyncTree_,R);ce=Gl(F.serverSyncTree_,R._path,ae,be)}return Kr(F.eventQueue_,R._path,ce),bo(F.serverSyncTree_,R,B,null,!0),ae},Z=>(li(F,"get for query "+De.stringify(R)+" failed: "+Z),Promise.reject(new Error(Z))))}function Ua(F,R,B,H,Z){li(F,"set",{path:R.toString(),value:B,priority:H});const ae=Fi(F),ce=mr(B,H),be=Eo(F.serverSyncTree_,R),we=Na(ce,be,ae),Re=Co(F),qe=Ta(F.serverSyncTree_,R,we,Re,!0);Ro(F.eventQueue_,qe),F.server_.put(R.toString(),ce.val(!0),(He,ot)=>{const ft=He==="ok";ft||jr("set at "+R+" failed: "+He);const Ft=Nn(F.serverSyncTree_,Re,!ft);Kr(F.eventQueue_,R,Ft),Dn(F,Z,He,ot)});const Be=$a(F,R);ui(F,Be),Kr(F.eventQueue_,Be,[])}function bf(F,R,B,H){li(F,"update",{path:R.toString(),value:B});let Z=!0;const ae=Fi(F),ce={};if(Ar(B,(be,we)=>{Z=!1,ce[be]=zl(hr(R,be),mr(we),F.serverSyncTree_,ae)}),Z)Tr("update() called with empty data.  Don't do anything."),Dn(F,H,"ok",void 0);else{const be=Co(F),we=Hp(F.serverSyncTree_,R,ce,be);Ro(F.eventQueue_,we),F.server_.merge(R.toString(),B,(Re,qe)=>{const Be=Re==="ok";Be||jr("update at "+R+" failed: "+Re);const He=Nn(F.serverSyncTree_,be,!Be),ot=He.length>0?ui(F,R):R;Kr(F.eventQueue_,ot,He),Dn(F,H,Re,qe)}),Ar(B,Re=>{const qe=$a(F,hr(R,Re));ui(F,qe)}),Kr(F.eventQueue_,R,[])}}function Ef(F){li(F,"onDisconnectEvents");const R=Fi(F),B=lo();da(F.onDisconnect_,Bt(),(Z,ae)=>{const ce=zl(Z,ae,F.serverSyncTree_,R);ii(B,Z,ce)});let H=[];da(B,Bt(),(Z,ae)=>{H=H.concat(xi(F.serverSyncTree_,Z,ae));const ce=$a(F,Z);ui(F,ce)}),F.onDisconnect_=lo(),Kr(F.eventQueue_,Bt(),H)}function Sf(F,R,B){F.server_.onDisconnectCancel(R.toString(),(H,Z)=>{H==="ok"&&ca(F.onDisconnect_,R),Dn(F,B,H,Z)})}function su(F,R,B,H){const Z=mr(B);F.server_.onDisconnectPut(R.toString(),Z.val(!0),(ae,ce)=>{ae==="ok"&&ii(F.onDisconnect_,R,Z),Dn(F,H,ae,ce)})}function Of(F,R,B,H,Z){const ae=mr(B,H);F.server_.onDisconnectPut(R.toString(),ae.val(!0),(ce,be)=>{ce==="ok"&&ii(F.onDisconnect_,R,ae),Dn(F,Z,ce,be)})}function wf(F,R,B,H){if(De.isEmpty(B)){Tr("onDisconnect().update() called with empty data.  Don't do anything."),Dn(F,H,"ok",void 0);return}F.server_.onDisconnectMerge(R.toString(),B,(Z,ae)=>{Z==="ok"&&Ar(B,(ce,be)=>{const we=mr(be);ii(F.onDisconnect_,hr(R,ce),we)}),Dn(F,H,Z,ae)})}function Tf(F,R,B){let H;Ct(R._path)===".info"?H=Aa(F.infoSyncTree_,R,B):H=Aa(F.serverSyncTree_,R,B),tu(F.eventQueue_,R._path,H)}function Ba(F,R,B){let H;Ct(R._path)===".info"?H=bo(F.infoSyncTree_,R,B):H=bo(F.serverSyncTree_,R,B),tu(F.eventQueue_,R._path,H)}function lu(F){F.persistentConnection_&&F.persistentConnection_.interrupt(nu)}function Af(F){F.persistentConnection_&&F.persistentConnection_.resume(nu)}function li(F,...R){let B="";F.persistentConnection_&&(B=F.persistentConnection_.id+":"),Tr(B,...R)}function Dn(F,R,B,H){R&&Zn(()=>{if(B==="ok")R(null);else{const Z=(B||"error").toUpperCase();let ae=Z;H&&(ae+=": "+H);const ce=new Error(ae);ce.code=Z,R(ce)}})}function Rf(F,R,B,H,Z,ae){li(F,"transaction on "+R);const ce={path:R,update:B,onComplete:H,status:null,order:js(),applyLocally:ae,retryCount:0,unwatcher:Z,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},be=Va(F,R,void 0);ce.currentInputSnapshot=be;const we=ce.update(be.val());if(we===void 0)ce.unwatcher(),ce.currentOutputSnapshotRaw=null,ce.currentOutputSnapshotResolved=null,ce.onComplete&&ce.onComplete(null,!1,ce.currentInputSnapshot);else{Li("transaction failed: Data returned ",we,ce.path),ce.status=0;const Re=Oo(F.transactionQueueTree_,R),qe=zn(Re)||[];qe.push(ce),ja(Re,qe);let Be;typeof we=="object"&&we!==null&&De.contains(we,".priority")?(Be=De.safeGet(we,".priority"),De.assert(ji(Be),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Be=(Eo(F.serverSyncTree_,R)||gt.EMPTY_NODE).getPriority().val();const He=Fi(F),ot=mr(we,Be),ft=Na(ot,be,He);ce.currentOutputSnapshotRaw=ot,ce.currentOutputSnapshotResolved=ft,ce.currentWriteId=Co(F);const Ft=Ta(F.serverSyncTree_,R,ft,ce.currentWriteId,ce.applyLocally);Kr(F.eventQueue_,R,Ft),Io(F,F.transactionQueueTree_)}}function Va(F,R,B){return Eo(F.serverSyncTree_,R,B)||gt.EMPTY_NODE}function Io(F,R=F.transactionQueueTree_){if(R||Po(F,R),zn(R)){const B=cu(F,R);De.assert(B.length>0,"Sending zero length transaction queue"),B.every(Z=>Z.status===0)&&Cf(F,ki(R),B)}else Yl(R)&&wo(R,B=>{Io(F,B)})}function Cf(F,R,B){const H=B.map(Re=>Re.currentWriteId),Z=Va(F,R,H);let ae=Z;const ce=Z.hash();for(let Re=0;Re<B.length;Re++){const qe=B[Re];De.assert(qe.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),qe.status=1,qe.retryCount++;const Be=Ur(R,qe.path);ae=ae.updateChild(Be,qe.currentOutputSnapshotRaw)}const be=ae.val(!0),we=R;F.server_.put(we.toString(),be,Re=>{li(F,"transaction put response",{path:we.toString(),status:Re});let qe=[];if(Re==="ok"){const Be=[];for(let He=0;He<B.length;He++)B[He].status=2,qe=qe.concat(Nn(F.serverSyncTree_,B[He].currentWriteId)),B[He].onComplete&&Be.push(()=>B[He].onComplete(null,!0,B[He].currentOutputSnapshotResolved)),B[He].unwatcher();Po(F,Oo(F.transactionQueueTree_,R)),Io(F,F.transactionQueueTree_),Kr(F.eventQueue_,R,qe);for(let He=0;He<Be.length;He++)Zn(Be[He])}else{if(Re==="datastale")for(let Be=0;Be<B.length;Be++)B[Be].status===3?B[Be].status=4:B[Be].status=0;else{jr("transaction at "+we.toString()+" failed: "+Re);for(let Be=0;Be<B.length;Be++)B[Be].status=4,B[Be].abortReason=Re}ui(F,R)}},ce)}function ui(F,R){const B=uu(F,R),H=ki(B),Z=cu(F,B);return If(F,Z,H),H}function If(F,R,B){if(R.length===0)return;const H=[];let Z=[];const ce=R.filter(be=>be.status===0).map(be=>be.currentWriteId);for(let be=0;be<R.length;be++){const we=R[be],Re=Ur(B,we.path);let qe=!1,Be;if(De.assert(Re!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),we.status===4)qe=!0,Be=we.abortReason,Z=Z.concat(Nn(F.serverSyncTree_,we.currentWriteId,!0));else if(we.status===0)if(we.retryCount>=gf)qe=!0,Be="maxretry",Z=Z.concat(Nn(F.serverSyncTree_,we.currentWriteId,!0));else{const He=Va(F,we.path,ce);we.currentInputSnapshot=He;const ot=R[be].update(He.val());if(ot!==void 0){Li("transaction failed: Data returned ",ot,we.path);let ft=mr(ot);typeof ot=="object"&&ot!=null&&De.contains(ot,".priority")||(ft=ft.updatePriority(He.getPriority()));const Er=we.currentWriteId,Ln=Fi(F),ci=Na(ft,He,Ln);we.currentOutputSnapshotRaw=ft,we.currentOutputSnapshotResolved=ci,we.currentWriteId=Co(F),ce.splice(ce.indexOf(Er),1),Z=Z.concat(Ta(F.serverSyncTree_,we.path,ci,we.currentWriteId,we.applyLocally)),Z=Z.concat(Nn(F.serverSyncTree_,Er,!0))}else qe=!0,Be="nodata",Z=Z.concat(Nn(F.serverSyncTree_,we.currentWriteId,!0))}Kr(F.eventQueue_,B,Z),Z=[],qe&&(R[be].status=2,(function(He){setTimeout(He,Math.floor(0))})(R[be].unwatcher),R[be].onComplete&&(Be==="nodata"?H.push(()=>R[be].onComplete(null,!1,R[be].currentInputSnapshot)):H.push(()=>R[be].onComplete(new Error(Be),!1,null))))}Po(F,F.transactionQueueTree_);for(let be=0;be<H.length;be++)Zn(H[be]);Io(F,F.transactionQueueTree_)}function uu(F,R){let B,H=F.transactionQueueTree_;for(B=Ct(R);B!==null&&zn(H)===void 0;)H=Oo(H,B),R=tr(R),B=Ct(R);return H}function cu(F,R){const B=[];return du(F,R,B),B.sort((H,Z)=>H.order-Z.order),B}function du(F,R,B){const H=zn(R);if(H)for(let Z=0;Z<H.length;Z++)B.push(H[Z]);wo(R,Z=>{du(F,Z,B)})}function Po(F,R){const B=zn(R);if(B){let H=0;for(let Z=0;Z<B.length;Z++)B[Z].status!==2&&(B[H]=B[Z],H++);B.length=H,ja(R,B.length>0?B:void 0)}wo(R,H=>{Po(F,H)})}function $a(F,R){const B=ki(uu(F,R)),H=Oo(F.transactionQueueTree_,R);return af(H,Z=>{Ga(F,Z)}),Ga(F,H),Ql(H,Z=>{Ga(F,Z)}),B}function Ga(F,R){const B=zn(R);if(B){const H=[];let Z=[],ae=-1;for(let ce=0;ce<B.length;ce++)B[ce].status===3||(B[ce].status===1?(De.assert(ae===ce-1,"All SENT items should be at beginning of queue."),ae=ce,B[ce].status=3,B[ce].abortReason="set"):(De.assert(B[ce].status===0,"Unexpected transaction status in abort"),B[ce].unwatcher(),Z=Z.concat(Nn(F.serverSyncTree_,B[ce].currentWriteId,!0)),B[ce].onComplete&&H.push(B[ce].onComplete.bind(null,new Error("set"),!1,null))));ae===-1?ja(R,void 0):B.length=ae+1,Kr(F.eventQueue_,ki(R),Z);for(let ce=0;ce<H.length;ce++)Zn(H[ce])}}function Pf(F){let R="";const B=F.split("/");for(let H=0;H<B.length;H++)if(B[H].length>0){let Z=B[H];try{Z=decodeURIComponent(Z.replace(/\+/g," "))}catch{}R+="/"+Z}return R}function xf(F){const R={};F.charAt(0)==="?"&&(F=F.substring(1));for(const B of F.split("&")){if(B.length===0)continue;const H=B.split("=");H.length===2?R[decodeURIComponent(H[0])]=decodeURIComponent(H[1]):jr(`Invalid query segment '${B}' in query '${F}'`)}return R}const Ha=function(F,R){const B=Nf(F),H=B.namespace;B.domain==="firebase.com"&&vn(B.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!H||H==="undefined")&&B.domain!=="localhost"&&vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),B.secure||qc();const Z=B.scheme==="ws"||B.scheme==="wss";return{repoInfo:new Vs(B.host,B.secure,H,Z,R,"",H!==B.subdomain),path:new Kt(B.pathString)}},Nf=function(F){let R="",B="",H="",Z="",ae="",ce=!0,be="https",we=443;if(typeof F=="string"){let Re=F.indexOf("//");Re>=0&&(be=F.substring(0,Re-1),F=F.substring(Re+2));let qe=F.indexOf("/");qe===-1&&(qe=F.length);let Be=F.indexOf("?");Be===-1&&(Be=F.length),R=F.substring(0,Math.min(qe,Be)),qe<Be&&(Z=Pf(F.substring(qe,Be)));const He=xf(F.substring(Math.min(F.length,Be)));Re=R.indexOf(":"),Re>=0?(ce=be==="https"||be==="wss",we=parseInt(R.substring(Re+1),10)):Re=R.length;const ot=R.slice(0,Re);if(ot.toLowerCase()==="localhost")B="localhost";else if(ot.split(".").length<=2)B=ot;else{const ft=R.indexOf(".");H=R.substring(0,ft).toLowerCase(),B=R.substring(ft+1),ae=H}"ns"in He&&(ae=He.ns)}return{host:R,port:we,domain:B,subdomain:H,secure:ce,scheme:be,pathString:Z,namespace:ae}};const pu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Df=(function(){let F=0;const R=[];return function(B){const H=B===F;F=B;let Z;const ae=new Array(8);for(Z=7;Z>=0;Z--)ae[Z]=pu.charAt(B%64),B=Math.floor(B/64);De.assert(B===0,"Cannot push at time == 0");let ce=ae.join("");if(H){for(Z=11;Z>=0&&R[Z]===63;Z--)R[Z]=0;R[Z]++}else for(Z=0;Z<12;Z++)R[Z]=Math.floor(Math.random()*64);for(Z=0;Z<12;Z++)ce+=pu.charAt(R[Z]);return De.assert(ce.length===20,"nextPushId: Length should be 20."),ce}})();class fu{constructor(R,B,H,Z){this.eventType=R,this.eventRegistration=B,this.snapshot=H,this.prevName=Z}getPath(){const R=this.snapshot.ref;return this.eventType==="value"?R._path:R.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+De.stringify(this.snapshot.exportVal())}}class hu{constructor(R,B,H){this.eventRegistration=R,this.error=B,this.path=H}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ka{constructor(R,B){this.snapshotCallback=R,this.cancelCallback=B}onValue(R,B){this.snapshotCallback.call(null,R,B)}onCancel(R){return De.assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,R)}get hasCancelCallback(){return!!this.cancelCallback}matches(R){return this.snapshotCallback===R.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===R.snapshotCallback.userCallback&&this.snapshotCallback.context===R.snapshotCallback.context}}class gu{constructor(R,B){this._repo=R,this._path=B}cancel(){const R=new De.Deferred;return Sf(this._repo,this._path,R.wrapCallback(()=>{})),R.promise}remove(){pn("OnDisconnect.remove",this._path);const R=new De.Deferred;return su(this._repo,this._path,null,R.wrapCallback(()=>{})),R.promise}set(R){pn("OnDisconnect.set",this._path),bn("OnDisconnect.set",R,this._path,!1);const B=new De.Deferred;return su(this._repo,this._path,R,B.wrapCallback(()=>{})),B.promise}setWithPriority(R,B){pn("OnDisconnect.setWithPriority",this._path),bn("OnDisconnect.setWithPriority",R,this._path,!1),Fa("OnDisconnect.setWithPriority",B);const H=new De.Deferred;return Of(this._repo,this._path,R,B,H.wrapCallback(()=>{})),H.promise}update(R){pn("OnDisconnect.update",this._path),Zl("OnDisconnect.update",R,this._path);const B=new De.Deferred;return wf(this._repo,this._path,R,B.wrapCallback(()=>{})),B.promise}}class Vr{constructor(R,B,H,Z){this._repo=R,this._path=B,this._queryParams=H,this._orderByCalled=Z}get key(){return It(this._path)?null:Zo(this._path)}get ref(){return new tn(this._repo,this._path)}get _queryIdentifier(){const R=_l(this._queryParams),B=Ko(R);return B==="{}"?"default":B}get _queryObject(){return _l(this._queryParams)}isEqual(R){if(R=De.getModularInstance(R),!(R instanceof Vr))return!1;const B=this._repo===R._repo,H=ea(this._path,R._path),Z=this._queryIdentifier===R._queryIdentifier;return B&&H&&Z}toJSON(){return this.toString()}toString(){return this._repo.toString()+Sd(this._path)}}function xo(F,R){if(F._orderByCalled===!0)throw new Error(R+": You can't combine multiple orderBy calls.")}function kn(F){let R=null,B=null;if(F.hasStart()&&(R=F.getIndexStartValue()),F.hasEnd()&&(B=F.getIndexEndValue()),F.getIndex()===_n){const H="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",Z="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(F.hasStart()){if(F.getIndexStartName()!==Tn)throw new Error(H);if(typeof R!="string")throw new Error(Z)}if(F.hasEnd()){if(F.getIndexEndName()!==En)throw new Error(H);if(typeof B!="string")throw new Error(Z)}}else if(F.getIndex()===or){if(R!=null&&!ji(R)||B!=null&&!ji(B))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(De.assert(F.getIndex()instanceof oa||F.getIndex()===aa,"unknown index type."),R!=null&&typeof R=="object"||B!=null&&typeof B=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function No(F){if(F.hasStart()&&F.hasEnd()&&F.hasLimit()&&!F.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class tn extends Vr{constructor(R,B){super(R,B,new oo,!1)}get parent(){const R=sl(this._path);return R===null?null:new tn(this._repo,R)}get root(){let R=this;for(;R.parent!==null;)R=R.parent;return R}}class jn{constructor(R,B,H){this._node=R,this.ref=B,this._index=H}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(R){const B=new Kt(R),H=Yn(this.ref,R);return new jn(this._node.getChild(B),H,or)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(R){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(H,Z)=>R(new jn(Z,Yn(this.ref,H),or)))}hasChild(R){const B=new Kt(R);return!this._node.getChild(B).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function mu(F,R){return F=De.getModularInstance(F),F._checkNotDeleted("ref"),R!==void 0?Yn(F._root,R):F._root}function kf(F,R){F=De.getModularInstance(F),F._checkNotDeleted("refFromURL");const B=Ha(R,F._repo.repoInfo_.nodeAdmin);eu("refFromURL",B);const H=B.repoInfo;return!F._repo.repoInfo_.isCustomHost()&&H.host!==F._repo.repoInfo_.host&&vn("refFromURL: Host name does not match the current database: (found "+H.host+" but expected "+F._repo.repoInfo_.host+")"),mu(F,B.path.toString())}function Yn(F,R){return F=De.getModularInstance(F),Ct(F._path)===null?pf("child","path",R,!1):Ao("child","path",R,!1),new tn(F._repo,hr(F._path,R))}function jf(F){return F=De.getModularInstance(F),new gu(F._repo,F._path)}function Lf(F,R){F=De.getModularInstance(F),pn("push",F._path),bn("push",R,F._path,!0);const B=iu(F._repo),H=Df(B),Z=Yn(F,H),ae=Yn(F,H);let ce;return R!=null?ce=Wa(ae,R).then(()=>ae):ce=Promise.resolve(ae),Z.then=ce.then.bind(ce),Z.catch=ce.then.bind(ce,void 0),Z}function qf(F){return pn("remove",F._path),Wa(F,null)}function Wa(F,R){F=De.getModularInstance(F),pn("set",F._path),bn("set",R,F._path,!1);const B=new De.Deferred;return Ua(F._repo,F._path,R,null,B.wrapCallback(()=>{})),B.promise}function Ff(F,R){F=De.getModularInstance(F),pn("setPriority",F._path),Fa("setPriority",R);const B=new De.Deferred;return Ua(F._repo,hr(F._path,".priority"),R,null,B.wrapCallback(()=>{})),B.promise}function Mf(F,R,B){if(pn("setWithPriority",F._path),bn("setWithPriority",R,F._path,!1),Fa("setWithPriority",B),F.key===".length"||F.key===".keys")throw"setWithPriority failed: "+F.key+" is a read-only object.";const H=new De.Deferred;return Ua(F._repo,F._path,R,B,H.wrapCallback(()=>{})),H.promise}function Uf(F,R){Zl("update",R,F._path);const B=new De.Deferred;return bf(F._repo,F._path,R,B.wrapCallback(()=>{})),B.promise}function Bf(F){F=De.getModularInstance(F);const R=new Ka(()=>{}),B=new Mi(R);return _f(F._repo,F,B).then(H=>new jn(H,new tn(F._repo,F._path),F._queryParams.getIndex()))}class Mi{constructor(R){this.callbackContext=R}respondsTo(R){return R==="value"}createEvent(R,B){const H=B._queryParams.getIndex();return new fu("value",this,new jn(R.snapshotNode,new tn(B._repo,B._path),H))}getEventRunner(R){return R.getEventType()==="cancel"?()=>this.callbackContext.onCancel(R.error):()=>this.callbackContext.onValue(R.snapshot,null)}createCancelEvent(R,B){return this.callbackContext.hasCancelCallback?new hu(this,R,B):null}matches(R){return R instanceof Mi?!R.callbackContext||!this.callbackContext?!0:R.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Do{constructor(R,B){this.eventType=R,this.callbackContext=B}respondsTo(R){let B=R==="children_added"?"child_added":R;return B=B==="children_removed"?"child_removed":B,this.eventType===B}createCancelEvent(R,B){return this.callbackContext.hasCancelCallback?new hu(this,R,B):null}createEvent(R,B){De.assert(R.childName!=null,"Child events should have a childName.");const H=Yn(new tn(B._repo,B._path),R.childName),Z=B._queryParams.getIndex();return new fu(R.type,this,new jn(R.snapshotNode,H,Z),R.prevName)}getEventRunner(R){return R.getEventType()==="cancel"?()=>this.callbackContext.onCancel(R.error):()=>this.callbackContext.onValue(R.snapshot,R.prevName)}matches(R){return R instanceof Do?this.eventType===R.eventType&&(!this.callbackContext||!R.callbackContext||this.callbackContext.matches(R.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ui(F,R,B,H,Z){let ae;if(typeof H=="object"&&(ae=void 0,Z=H),typeof H=="function"&&(ae=H),Z&&Z.onlyOnce){const we=B,Re=(qe,Be)=>{Ba(F._repo,F,be),we(qe,Be)};Re.userCallback=B.userCallback,Re.context=B.context,B=Re}const ce=new Ka(B,ae||void 0),be=R==="value"?new Mi(ce):new Do(R,ce);return Tf(F._repo,F,be),()=>Ba(F._repo,F,be)}function yu(F,R,B,H){return Ui(F,"value",R,B,H)}function Vf(F,R,B,H){return Ui(F,"child_added",R,B,H)}function $f(F,R,B,H){return Ui(F,"child_changed",R,B,H)}function Gf(F,R,B,H){return Ui(F,"child_moved",R,B,H)}function Hf(F,R,B,H){return Ui(F,"child_removed",R,B,H)}function Kf(F,R,B){let H=null;const Z=B?new Ka(B):null;R==="value"?H=new Mi(Z):R&&(H=new Do(R,Z)),Ba(F._repo,F,H)}class rn{}class vu extends rn{constructor(R,B){super(),this._value=R,this._key=B,this.type="endAt"}_apply(R){bn("endAt",this._value,R._path,!0);const B=ua(R._queryParams,this._value,this._key);if(No(B),kn(B),R._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vr(R._repo,R._path,B,R._orderByCalled)}}function Wf(F,R){return qi("endAt","key",R),new vu(F,R)}class Jf extends rn{constructor(R,B){super(),this._value=R,this._key=B,this.type="endBefore"}_apply(R){bn("endBefore",this._value,R._path,!1);const B=Jd(R._queryParams,this._value,this._key);if(No(B),kn(B),R._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vr(R._repo,R._path,B,R._orderByCalled)}}function zf(F,R){return qi("endBefore","key",R),new Jf(F,R)}class _u extends rn{constructor(R,B){super(),this._value=R,this._key=B,this.type="startAt"}_apply(R){bn("startAt",this._value,R._path,!0);const B=la(R._queryParams,this._value,this._key);if(No(B),kn(B),R._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Vr(R._repo,R._path,B,R._orderByCalled)}}function Yf(F=null,R){return qi("startAt","key",R),new _u(F,R)}class Qf extends rn{constructor(R,B){super(),this._value=R,this._key=B,this.type="startAfter"}_apply(R){bn("startAfter",this._value,R._path,!1);const B=Wd(R._queryParams,this._value,this._key);if(No(B),kn(B),R._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Vr(R._repo,R._path,B,R._orderByCalled)}}function Xf(F,R){return qi("startAfter","key",R),new Qf(F,R)}class Zf extends rn{constructor(R){super(),this._limit=R,this.type="limitToFirst"}_apply(R){if(R._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vr(R._repo,R._path,Hd(R._queryParams,this._limit),R._orderByCalled)}}function eh(F){if(typeof F!="number"||Math.floor(F)!==F||F<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Zf(F)}class th extends rn{constructor(R){super(),this._limit=R,this.type="limitToLast"}_apply(R){if(R._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vr(R._repo,R._path,Kd(R._queryParams,this._limit),R._orderByCalled)}}function rh(F){if(typeof F!="number"||Math.floor(F)!==F||F<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new th(F)}class nh extends rn{constructor(R){super(),this._path=R,this.type="orderByChild"}_apply(R){xo(R,"orderByChild");const B=new Kt(this._path);if(It(B))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const H=new oa(B),Z=ao(R._queryParams,H);return kn(Z),new Vr(R._repo,R._path,Z,!0)}}function ih(F){if(F==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(F==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(F==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ao("orderByChild","path",F,!1),new nh(F)}class oh extends rn{constructor(){super(...arguments),this.type="orderByKey"}_apply(R){xo(R,"orderByKey");const B=ao(R._queryParams,_n);return kn(B),new Vr(R._repo,R._path,B,!0)}}function ah(){return new oh}class sh extends rn{constructor(){super(...arguments),this.type="orderByPriority"}_apply(R){xo(R,"orderByPriority");const B=ao(R._queryParams,or);return kn(B),new Vr(R._repo,R._path,B,!0)}}function lh(){return new sh}class uh extends rn{constructor(){super(...arguments),this.type="orderByValue"}_apply(R){xo(R,"orderByValue");const B=ao(R._queryParams,aa);return kn(B),new Vr(R._repo,R._path,B,!0)}}function ch(){return new uh}class dh extends rn{constructor(R,B){super(),this._value=R,this._key=B,this.type="equalTo"}_apply(R){if(bn("equalTo",this._value,R._path,!1),R._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(R._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new vu(this._value,this._key)._apply(new _u(this._value,this._key)._apply(R))}}function ph(F,R){return qi("equalTo","key",R),new dh(F,R)}function fh(F,...R){let B=De.getModularInstance(F);for(const H of R)B=H._apply(B);return B}qp(tn),Vp(tn);const hh="FIREBASE_DATABASE_EMULATOR_HOST",Ja={};let bu=!1;function gh(F,R,B,H){const Z=R.lastIndexOf(":"),ae=R.substring(0,Z),ce=De.isCloudWorkstation(ae);F.repoInfo_=new Vs(R,ce,F.repoInfo_.namespace,F.repoInfo_.webSocketOnly,F.repoInfo_.nodeAdmin,F.repoInfo_.persistenceKey,F.repoInfo_.includeNamespaceInQueryParams,!0,B),H&&(F.authTokenProvider_=H)}function Eu(F,R,B,H,Z){let ae=H||F.options.databaseURL;ae===void 0&&(F.options.projectId||vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tr("Using default host for project ",F.options.projectId),ae=`${F.options.projectId}-default-rtdb.firebaseio.com`);let ce=Ha(ae,Z),be=ce.repoInfo,we,Re;typeof process<"u"&&e&&(Re=e[hh]),Re?(we=!0,ae=`http://${Re}?ns=${be.namespace}`,ce=Ha(ae,Z),be=ce.repoInfo):we=!ce.repoInfo.secure;const qe=Z&&we?new ei(ei.OWNER):new ed(F.name,F.options,R);eu("Invalid Firebase Database URL",ce),It(ce.path)||vn("Database URL must point to the root of a Firebase Database (not including a child path).");const Be=yh(be,F,qe,new Zc(F,B));return new Su(Be,F)}function mh(F,R){const B=Ja[R];(!B||B[F.key]!==F)&&vn(`Database ${R}(${F.repoInfo_}) has already been deleted.`),lu(F),delete B[F.key]}function yh(F,R,B,H){let Z=Ja[R.name];Z||(Z={},Ja[R.name]=Z);let ae=Z[F.toURLString()];return ae&&vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),ae=new mf(F,bu,B,H),Z[F.toURLString()]=ae,ae}function vh(F){bu=F}class Su{constructor(R,B){this._repoInternal=R,this.app=B,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(yf(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tn(this._repo,Bt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mh(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(R){this._rootInternal===null&&vn("Cannot call "+R+" on a deleted database.")}}function Ou(){ti.IS_TRANSPORT_INITIALIZED&&jr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function _h(){Ou(),An.forceDisallow()}function bh(){Ou(),Xr.forceDisallow(),An.forceAllow()}function Eh(F,R,B,H={}){F=De.getModularInstance(F),F._checkNotDeleted("useEmulator");const Z=`${R}:${B}`,ae=F._repoInternal;if(F._instanceStarted){if(Z===F._repoInternal.repoInfo_.host&&De.deepEqual(H,ae.repoInfo_.emulatorOptions))return;vn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let ce;if(ae.repoInfo_.nodeAdmin)H.mockUserToken&&vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),ce=new ei(ei.OWNER);else if(H.mockUserToken){const be=typeof H.mockUserToken=="string"?H.mockUserToken:De.createMockUserToken(H.mockUserToken,F.app.options.projectId);ce=new ei(be)}De.isCloudWorkstation(R)&&(De.pingServer(R),De.updateEmulatorBanner("Database",!0)),gh(ae,Z,H,ce)}function Sh(F){F=De.getModularInstance(F),F._checkNotDeleted("goOffline"),lu(F._repo)}function Oh(F){F=De.getModularInstance(F),F._checkNotDeleted("goOnline"),Af(F._repo)}function wh(F,R){Fs(F,R)}const Th={".sv":"timestamp"};function Ah(){return Th}function Rh(F){return{".sv":{increment:F}}}class wu{constructor(R,B){this.committed=R,this.snapshot=B}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Ch(F,R,B){if(F=De.getModularInstance(F),pn("Reference.transaction",F._path),F.key===".length"||F.key===".keys")throw"Reference.transaction failed: "+F.key+" is a read-only object.";const H=B?.applyLocally??!0,Z=new De.Deferred,ae=(be,we,Re)=>{let qe=null;be?Z.reject(be):(qe=new jn(Re,new tn(F._repo,F._path),or),Z.resolve(new wu(we,qe)))},ce=yu(F,()=>{});return Rf(F._repo,F._path,R,ae,ce,H),Z.promise}en.prototype.simpleListen=function(F,R){this.sendRequest("q",{p:F},R)},en.prototype.echo=function(F,R){this.sendRequest("echo",{d:F},R)};const Ih=function(F){const R=en.prototype.put;return en.prototype.put=function(B,H,Z,ae){ae!==void 0&&(ae=F()),R.call(this,B,H,Z,ae)},function(){en.prototype.put=R}},Ph=function(F){vh(F)};function xh({app:F,url:R,version:B,customAuthImpl:H,customAppCheckImpl:Z,nodeAdmin:ae=!1}){Gs(B);const ce=new hi.ComponentContainer("database-standalone"),be=new hi.Provider("auth-internal",ce);let we;return Z&&(we=new hi.Provider("app-check-internal",ce),we.setComponent(new hi.Component("app-check-internal",()=>Z,"PRIVATE"))),be.setComponent(new hi.Component("auth-internal",()=>H,"PRIVATE")),Eu(F,be,we,R,ae)}Xc(kc.default.Client),V.DataSnapshot=jn,V.Database=Su;var Tu=V.OnDisconnect=gu;V.QueryConstraint=rn,V.TransactionResult=wu;var Nh=V._QueryImpl=Vr,Dh=V._QueryParams=oo,kh=V._ReferenceImpl=tn;V._TEST_ACCESS_forceRestClient=Ph,V._TEST_ACCESS_hijackHash=Ih,V._initStandalone=xh;var jh=V._repoManagerDatabaseFromApp=Eu,Lh=V._setSDKVersion=Gs,Au=V._validatePathString=Ao,Ru=V._validateWritablePath=pn,qh=V.child=Yn,Fh=V.connectDatabaseEmulator=Eh,Cu=V.enableLogging=wh,Mh=V.endAt=Wf,Uh=V.endBefore=zf,Bh=V.equalTo=ph,Vh=V.forceLongPolling=bh,$h=V.forceWebSockets=_h,Gh=V.get=Bf,Hh=V.goOffline=Sh,Kh=V.goOnline=Oh,Wh=V.increment=Rh,Jh=V.limitToFirst=eh,zh=V.limitToLast=rh,Iu=V.off=Kf,Pu=V.onChildAdded=Vf,xu=V.onChildChanged=$f,Nu=V.onChildMoved=Gf,Du=V.onChildRemoved=Hf;V.onDisconnect=jf;var ku=V.onValue=yu,Yh=V.orderByChild=ih,Qh=V.orderByKey=ah,Xh=V.orderByPriority=lh,Zh=V.orderByValue=ch,eg=V.push=Lf,fn=V.query=fh,tg=V.ref=mu,ju=V.refFromURL=kf,rg=V.remove=qf,ng=V.runTransaction=Ch,ig=V.serverTimestamp=Ah,og=V.set=Wa,ag=V.setPriority=Ff,sg=V.setWithPriority=Mf,lg=V.startAfter=Xf,ug=V.startAt=Yf,cg=V.update=Uf;const dg=new h.Logger("@firebase/database-compat"),Lu=function(F){const R="FIREBASE WARNING: "+F;dg.warn(R)};const pg=function(F,R,B,H){if(B!==void 0&&typeof B!="boolean")throw new Error(s.errorPrefix(F,R)+"must be a boolean.")},fg=function(F,R,B){if(R!==void 0)switch(R){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(F,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};class hg{constructor(R){this._delegate=R}cancel(R){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel","onComplete",R,!0);const B=this._delegate.cancel();return R&&B.then(()=>R(null),H=>R(H)),B}remove(R){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),s.validateCallback("OnDisconnect.remove","onComplete",R,!0);const B=this._delegate.remove();return R&&B.then(()=>R(null),H=>R(H)),B}set(R,B){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),s.validateCallback("OnDisconnect.set","onComplete",B,!0);const H=this._delegate.set(R);return B&&H.then(()=>B(null),Z=>B(Z)),H}setWithPriority(R,B,H){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),s.validateCallback("OnDisconnect.setWithPriority","onComplete",H,!0);const Z=this._delegate.setWithPriority(R,B);return H&&Z.then(()=>H(null),ae=>H(ae)),Z}update(R,B){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),Array.isArray(R)){const Z={};for(let ae=0;ae<R.length;++ae)Z[""+ae]=R[ae];R=Z,Lu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}s.validateCallback("OnDisconnect.update","onComplete",B,!0);const H=this._delegate.update(R);return B&&H.then(()=>B(null),Z=>B(Z)),H}}class gg{constructor(R,B){this.committed=R,this.snapshot=B}toJSON(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class On{constructor(R,B){this._database=R,this._delegate=B}val(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(R){return s.validateArgCount("DataSnapshot.child",0,1,arguments.length),R=String(R),Au("DataSnapshot.child","path",R,!1),new On(this._database,this._delegate.child(R))}hasChild(R){return s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Au("DataSnapshot.hasChild","path",R,!1),this._delegate.hasChild(R)}getPriority(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(R){return s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach","action",R,!1),this._delegate.forEach(B=>R(new On(this._database,B)))}hasChildren(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),new $r(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ir{constructor(R,B){this.database=R,this._delegate=B}on(R,B,H,Z){s.validateArgCount("Query.on",2,4,arguments.length),s.validateCallback("Query.on","callback",B,!1);const ae=Ir.getCancelAndContextArgs_("Query.on",H,Z),ce=(we,Re)=>{B.call(ae.context,new On(this.database,we),Re)};ce.userCallback=B,ce.context=ae.context;const be=ae.cancel?.bind(ae.context);switch(R){case"value":return ku(this._delegate,ce,be),B;case"child_added":return Pu(this._delegate,ce,be),B;case"child_removed":return Du(this._delegate,ce,be),B;case"child_changed":return xu(this._delegate,ce,be),B;case"child_moved":return Nu(this._delegate,ce,be),B;default:throw new Error(s.errorPrefix("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(R,B,H){if(s.validateArgCount("Query.off",0,3,arguments.length),fg("Query.off",R),s.validateCallback("Query.off","callback",B,!0),s.validateContextObject("Query.off","context",H,!0),B){const Z=()=>{};Z.userCallback=B,Z.context=H,Iu(this._delegate,R,Z)}else Iu(this._delegate,R)}get(){return Gh(this._delegate).then(R=>new On(this.database,R))}once(R,B,H,Z){s.validateArgCount("Query.once",1,4,arguments.length),s.validateCallback("Query.once","callback",B,!0);const ae=Ir.getCancelAndContextArgs_("Query.once",H,Z),ce=new s.Deferred,be=(Re,qe)=>{const Be=new On(this.database,Re);B&&B.call(ae.context,Be,qe),ce.resolve(Be)};be.userCallback=B,be.context=ae.context;const we=Re=>{ae.cancel&&ae.cancel.call(ae.context,Re),ce.reject(Re)};switch(R){case"value":ku(this._delegate,be,we,{onlyOnce:!0});break;case"child_added":Pu(this._delegate,be,we,{onlyOnce:!0});break;case"child_removed":Du(this._delegate,be,we,{onlyOnce:!0});break;case"child_changed":xu(this._delegate,be,we,{onlyOnce:!0});break;case"child_moved":Nu(this._delegate,be,we,{onlyOnce:!0});break;default:throw new Error(s.errorPrefix("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return ce.promise}limitToFirst(R){return s.validateArgCount("Query.limitToFirst",1,1,arguments.length),new Ir(this.database,fn(this._delegate,Jh(R)))}limitToLast(R){return s.validateArgCount("Query.limitToLast",1,1,arguments.length),new Ir(this.database,fn(this._delegate,zh(R)))}orderByChild(R){return s.validateArgCount("Query.orderByChild",1,1,arguments.length),new Ir(this.database,fn(this._delegate,Yh(R)))}orderByKey(){return s.validateArgCount("Query.orderByKey",0,0,arguments.length),new Ir(this.database,fn(this._delegate,Qh()))}orderByPriority(){return s.validateArgCount("Query.orderByPriority",0,0,arguments.length),new Ir(this.database,fn(this._delegate,Xh()))}orderByValue(){return s.validateArgCount("Query.orderByValue",0,0,arguments.length),new Ir(this.database,fn(this._delegate,Zh()))}startAt(R=null,B){return s.validateArgCount("Query.startAt",0,2,arguments.length),new Ir(this.database,fn(this._delegate,ug(R,B)))}startAfter(R=null,B){return s.validateArgCount("Query.startAfter",0,2,arguments.length),new Ir(this.database,fn(this._delegate,lg(R,B)))}endAt(R=null,B){return s.validateArgCount("Query.endAt",0,2,arguments.length),new Ir(this.database,fn(this._delegate,Mh(R,B)))}endBefore(R=null,B){return s.validateArgCount("Query.endBefore",0,2,arguments.length),new Ir(this.database,fn(this._delegate,Uh(R,B)))}equalTo(R,B){return s.validateArgCount("Query.equalTo",1,2,arguments.length),new Ir(this.database,fn(this._delegate,Bh(R,B)))}toString(){return s.validateArgCount("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(R){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(R instanceof Ir)){const B="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(B)}return this._delegate.isEqual(R._delegate)}static getCancelAndContextArgs_(R,B,H){const Z={cancel:void 0,context:void 0};if(B&&H)Z.cancel=B,s.validateCallback(R,"cancel",Z.cancel,!0),Z.context=H,s.validateContextObject(R,"context",Z.context,!0);else if(B)if(typeof B=="object"&&B!==null)Z.context=B;else if(typeof B=="function")Z.cancel=B;else throw new Error(s.errorPrefix(R,"cancelOrContext")+" must either be a cancel callback or a context object.");return Z}get ref(){return new $r(this.database,new kh(this._delegate._repo,this._delegate._path))}}class $r extends Ir{constructor(R,B){super(R,new Nh(B._repo,B._path,new Dh,!1)),this.database=R,this._delegate=B}getKey(){return s.validateArgCount("Reference.key",0,0,arguments.length),this._delegate.key}child(R){return s.validateArgCount("Reference.child",1,1,arguments.length),typeof R=="number"&&(R=String(R)),new $r(this.database,qh(this._delegate,R))}getParent(){s.validateArgCount("Reference.parent",0,0,arguments.length);const R=this._delegate.parent;return R?new $r(this.database,R):null}getRoot(){return s.validateArgCount("Reference.root",0,0,arguments.length),new $r(this.database,this._delegate.root)}set(R,B){s.validateArgCount("Reference.set",1,2,arguments.length),s.validateCallback("Reference.set","onComplete",B,!0);const H=og(this._delegate,R);return B&&H.then(()=>B(null),Z=>B(Z)),H}update(R,B){if(s.validateArgCount("Reference.update",1,2,arguments.length),Array.isArray(R)){const Z={};for(let ae=0;ae<R.length;++ae)Z[""+ae]=R[ae];R=Z,Lu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ru("Reference.update",this._delegate._path),s.validateCallback("Reference.update","onComplete",B,!0);const H=cg(this._delegate,R);return B&&H.then(()=>B(null),Z=>B(Z)),H}setWithPriority(R,B,H){s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),s.validateCallback("Reference.setWithPriority","onComplete",H,!0);const Z=sg(this._delegate,R,B);return H&&Z.then(()=>H(null),ae=>H(ae)),Z}remove(R){s.validateArgCount("Reference.remove",0,1,arguments.length),s.validateCallback("Reference.remove","onComplete",R,!0);const B=rg(this._delegate);return R&&B.then(()=>R(null),H=>R(H)),B}transaction(R,B,H){s.validateArgCount("Reference.transaction",1,3,arguments.length),s.validateCallback("Reference.transaction","transactionUpdate",R,!1),s.validateCallback("Reference.transaction","onComplete",B,!0),pg("Reference.transaction","applyLocally",H);const Z=ng(this._delegate,R,{applyLocally:H}).then(ae=>new gg(ae.committed,new On(this.database,ae.snapshot)));return B&&Z.then(ae=>B(null,ae.committed,ae.snapshot),ae=>B(ae,!1,null)),Z}setPriority(R,B){s.validateArgCount("Reference.setPriority",1,2,arguments.length),s.validateCallback("Reference.setPriority","onComplete",B,!0);const H=ag(this._delegate,R);return B&&H.then(()=>B(null),Z=>B(Z)),H}push(R,B){s.validateArgCount("Reference.push",0,2,arguments.length),s.validateCallback("Reference.push","onComplete",B,!0);const H=eg(this._delegate,R),Z=H.then(ce=>new $r(this.database,ce));B&&Z.then(()=>B(null),ce=>B(ce));const ae=new $r(this.database,H);return ae.then=Z.then.bind(Z),ae.catch=Z.catch.bind(Z,void 0),ae}onDisconnect(){return Ru("Reference.onDisconnect",this._delegate._path),new hg(new Tu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Bi{constructor(R,B){this._delegate=R,this.app=B,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:$h,forceLongPolling:Vh}}useEmulator(R,B,H={}){Fh(this._delegate,R,B,H)}ref(R){if(s.validateArgCount("database.ref",0,1,arguments.length),R instanceof $r){const B=ju(this._delegate,R.toString());return new $r(this,B)}else{const B=tg(this._delegate,R);return new $r(this,B)}}refFromURL(R){s.validateArgCount("database.refFromURL",1,1,arguments.length);const H=ju(this._delegate,R);return new $r(this,H)}goOffline(){return s.validateArgCount("database.goOffline",0,0,arguments.length),Hh(this._delegate)}goOnline(){return s.validateArgCount("database.goOnline",0,0,arguments.length),Kh(this._delegate)}}Bi.ServerValue={TIMESTAMP:ig(),increment:F=>Wh(F)};function qu({app:F,url:R,version:B,customAuthImpl:H,customAppCheckImpl:Z,namespace:ae,nodeAdmin:ce=!1}){Lh(B);const be=new v.ComponentContainer("database-standalone"),we=new v.Provider("auth-internal",be);we.setComponent(new v.Component("auth-internal",()=>H,"PRIVATE"));let Re;return Z&&(Re=new v.Provider("app-check-internal",be),Re.setComponent(new v.Component("app-check-internal",()=>Z,"PRIVATE"))),{instance:new Bi(jh(F,we,Re,R,ce),F),namespace:ae}}var mg=Object.freeze({__proto__:null,initStandalone:qu});const Fu=Bi.ServerValue;function yg(F,R,B,H=!0){return s.CONSTANTS.NODE_ADMIN=H,qu({app:F,url:R,version:B,customAuthImpl:F.INTERNAL,namespace:{Reference:$r,Query:Ir,Database:Bi,DataSnapshot:On,enableLogging:Cu,INTERNAL:mg,ServerValue:Fu},nodeAdmin:H})}return index_standalone.DataSnapshot=On,index_standalone.Database=Bi,index_standalone.OnDisconnect=Tu,index_standalone.Query=Ir,index_standalone.Reference=$r,index_standalone.ServerValue=Fu,index_standalone.enableLogging=Cu,index_standalone.initStandalone=yg,index_standalone}var messaging$1={},messagingInternal={};var hasRequiredMessagingInternal;function requireMessagingInternal(){if(hasRequiredMessagingInternal)return messagingInternal;hasRequiredMessagingInternal=1;Object.defineProperty(messagingInternal,"__esModule",{value:!0}),messagingInternal.BLACKLISTED_OPTIONS_KEYS=messagingInternal.BLACKLISTED_DATA_PAYLOAD_KEYS=void 0,messagingInternal.validateMessage=p;const e=requireUtils$2(),t=requireError(),a=requireValidator$1();messagingInternal.BLACKLISTED_DATA_PAYLOAD_KEYS=["from"],messagingInternal.BLACKLISTED_OPTIONS_KEYS=["condition","data","notification","registrationIds","registration_ids","to"];function p(T){if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"Message must be a non-null object");const C=T;if(C.topic&&(C.topic.startsWith("/topics/")&&(C.topic=C.topic.replace(/^\/topics\//,"")),!/^[a-zA-Z0-9-_.~%]+$/.test(C.topic)))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"Malformed topic name");if([C.token,C.topic,C.condition].filter(L=>a.isNonEmptyString(L)).length!==1)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"Exactly one of topic, token or condition is required");g(T.data,"data"),O(T.android),m(T.webpush),c(T.apns),o(T.fcmOptions),s(T.notification)}function g(T,C){if(!(typeof T>"u")){if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,`${C} must be a non-null object`);Object.keys(T).forEach(N=>{if(!a.isString(T[N]))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,`${C} must only contain string values`)})}}function m(T){if(!(typeof T>"u")){if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"webpush must be a non-null object");g(T.headers,"webpush.headers"),g(T.data,"webpush.data")}}function c(T){if(!(typeof T>"u")){if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns must be a non-null object");g(T.headers,"apns.headers"),h(T.payload),l(T.fcmOptions)}}function l(T){if(typeof T>"u")return;if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"fcmOptions must be a non-null object");if(typeof T.imageUrl<"u"&&!a.isURL(T.imageUrl))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"imageUrl must be a valid URL string");if(typeof T.analyticsLabel<"u"&&!a.isString(T.analyticsLabel))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"analyticsLabel must be a string value");const C={imageUrl:"image"};Object.keys(C).forEach(N=>{if(N in T&&C[N]in T)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,`Multiple specifications for ${N} in ApnsFcmOptions`)}),(0,e.renameProperties)(T,C)}function o(T){if(!(typeof T>"u")){if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"fcmOptions must be a non-null object");if(typeof T.analyticsLabel<"u"&&!a.isString(T.analyticsLabel))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"analyticsLabel must be a string value")}}function s(T){if(typeof T>"u")return;if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"notification must be a non-null object");if(typeof T.imageUrl<"u"&&!a.isURL(T.imageUrl))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"notification.imageUrl must be a valid URL string");const C={imageUrl:"image"};Object.keys(C).forEach(N=>{if(N in T&&C[N]in T)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,`Multiple specifications for ${N} in Notification`)}),(0,e.renameProperties)(T,C)}function h(T){if(!(typeof T>"u")){if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload must be a non-null object");v(T.aps)}}function v(T){if(typeof T>"u")return;if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps must be a non-null object");y(T.alert),b(T.sound);const C={contentAvailable:"content-available",mutableContent:"mutable-content",threadId:"thread-id"};Object.keys(C).forEach(D=>{if(D in T&&C[D]in T)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,`Multiple specifications for ${D} in Aps`)}),(0,e.renameProperties)(T,C);const N=T["content-available"];typeof N<"u"&&N!==1&&(N===!0?T["content-available"]=1:delete T["content-available"]);const L=T["mutable-content"];typeof L<"u"&&L!==1&&(L===!0?T["mutable-content"]=1:delete T["mutable-content"])}function b(T){if(typeof T>"u"||a.isNonEmptyString(T))return;if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound must be a non-empty string or a non-null object");if(!a.isNonEmptyString(T.name))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.name must be a non-empty string");const C=T.volume;if(typeof C<"u"){if(!a.isNumber(C))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.volume must be a number");if(C<0||C>1)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.volume must be in the interval [0, 1]")}const N=T,L="critical",D=N[L];typeof D<"u"&&D!==1&&(D===!0?N[L]=1:delete N[L])}function y(T){if(typeof T>"u"||a.isString(T))return;if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert must be a string or a non-null object");const C=T;if(a.isNonEmptyArray(C.locArgs)&&!a.isNonEmptyString(C.locKey))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.locKey is required when specifying locArgs");if(a.isNonEmptyArray(C.titleLocArgs)&&!a.isNonEmptyString(C.titleLocKey))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.titleLocKey is required when specifying titleLocArgs");if(a.isNonEmptyArray(C.subtitleLocArgs)&&!a.isNonEmptyString(C.subtitleLocKey))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.subtitleLocKey is required when specifying subtitleLocArgs");const N={locKey:"loc-key",locArgs:"loc-args",titleLocKey:"title-loc-key",titleLocArgs:"title-loc-args",subtitleLocKey:"subtitle-loc-key",subtitleLocArgs:"subtitle-loc-args",actionLocKey:"action-loc-key",launchImage:"launch-image"};(0,e.renameProperties)(C,N)}function O(T){if(typeof T>"u")return;if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android must be a non-null object");if(typeof T.ttl<"u"){if(!a.isNumber(T.ttl)||T.ttl<0)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"TTL must be a non-negative duration in milliseconds");const N=(0,e.transformMillisecondsToSecondsString)(T.ttl);T.ttl=N}g(T.data,"android.data"),w(T.notification),_(T.fcmOptions);const C={collapseKey:"collapse_key",restrictedPackageName:"restricted_package_name",directBootOk:"direct_boot_ok"};(0,e.renameProperties)(T,C)}function w(T){if(typeof T>"u")return;if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification must be a non-null object");if(typeof T.color<"u"&&!/^#[0-9a-fA-F]{6}$/.test(T.color))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.color must be in the form #RRGGBB");if(a.isNonEmptyArray(T.bodyLocArgs)&&!a.isNonEmptyString(T.bodyLocKey))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.bodyLocKey is required when specifying bodyLocArgs");if(a.isNonEmptyArray(T.titleLocArgs)&&!a.isNonEmptyString(T.titleLocKey))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.titleLocKey is required when specifying titleLocArgs");if(typeof T.imageUrl<"u"&&!a.isURL(T.imageUrl))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.imageUrl must be a valid URL string");if(typeof T.eventTimestamp<"u"){if(!(T.eventTimestamp instanceof Date))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.eventTimestamp must be a valid `Date` object");const N=T.eventTimestamp.toISOString();T.eventTimestamp=N}if(typeof T.vibrateTimingsMillis<"u"){if(!a.isNonEmptyArray(T.vibrateTimingsMillis))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.vibrateTimingsMillis must be a non-empty array of numbers");const N=[];T.vibrateTimingsMillis.forEach(L=>{if(!a.isNumber(L)||L<0)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.vibrateTimingsMillis must be non-negative durations in milliseconds");const D=(0,e.transformMillisecondsToSecondsString)(L);N.push(D)}),T.vibrateTimingsMillis=N}if(typeof T.priority<"u"){const N="PRIORITY_"+T.priority.toUpperCase();T.priority=N}if(typeof T.proxy<"u"){const N=T.proxy.toUpperCase();T.proxy=N}if(typeof T.visibility<"u"){const N=T.visibility.toUpperCase();T.visibility=N}I(T.lightSettings);const C={clickAction:"click_action",bodyLocKey:"body_loc_key",bodyLocArgs:"body_loc_args",titleLocKey:"title_loc_key",titleLocArgs:"title_loc_args",channelId:"channel_id",imageUrl:"image",eventTimestamp:"event_time",localOnly:"local_only",priority:"notification_priority",vibrateTimingsMillis:"vibrate_timings",defaultVibrateTimings:"default_vibrate_timings",defaultSound:"default_sound",lightSettings:"light_settings",defaultLightSettings:"default_light_settings",notificationCount:"notification_count"};(0,e.renameProperties)(T,C)}function I(T){if(typeof T>"u")return;if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings must be a non-null object");if(!a.isNumber(T.lightOnDurationMillis)||T.lightOnDurationMillis<0)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings.lightOnDurationMillis must be a non-negative duration in milliseconds");const C=(0,e.transformMillisecondsToSecondsString)(T.lightOnDurationMillis);if(T.lightOnDurationMillis=C,!a.isNumber(T.lightOffDurationMillis)||T.lightOffDurationMillis<0)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings.lightOffDurationMillis must be a non-negative duration in milliseconds");const N=(0,e.transformMillisecondsToSecondsString)(T.lightOffDurationMillis);if(T.lightOffDurationMillis=N,!a.isString(T.color)||!/^#[0-9a-fA-F]{6}$/.test(T.color)&&!/^#[0-9a-fA-F]{8}$/.test(T.color))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings.color must be in the form #RRGGBB or #RRGGBBAA format");const L=T.color.length===7?T.color+"FF":T.color,D=/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/i.exec(L);if(!D||D.length<4)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INTERNAL_ERROR,"regex to extract rgba values from "+L+" failed.");const j={red:parseInt(D[1],16)/255,green:parseInt(D[2],16)/255,blue:parseInt(D[3],16)/255,alpha:parseInt(D[4],16)/255};T.color=j;const k={lightOnDurationMillis:"light_on_duration",lightOffDurationMillis:"light_off_duration"};(0,e.renameProperties)(T,k)}function _(T){if(!(typeof T>"u")){if(!a.isNonNullObject(T))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"fcmOptions must be a non-null object");if(typeof T.analyticsLabel<"u"&&!a.isString(T.analyticsLabel))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_PAYLOAD,"analyticsLabel must be a string value")}}return messagingInternal}var messagingApiRequestInternal={},messagingErrorsInternal={};var hasRequiredMessagingErrorsInternal;function requireMessagingErrorsInternal(){if(hasRequiredMessagingErrorsInternal)return messagingErrorsInternal;hasRequiredMessagingErrorsInternal=1;Object.defineProperty(messagingErrorsInternal,"__esModule",{value:!0}),messagingErrorsInternal.createFirebaseError=a,messagingErrorsInternal.getErrorCode=p;const e=requireError(),t=requireValidator$1();function a(m){if(m.response.isJson()){const l=m.response.data,o=p(l),s=g(l);return e.FirebaseMessagingError.fromServerError(o,s,l)}let c;switch(m.response.status){case 400:c=e.MessagingClientErrorCode.INVALID_ARGUMENT;break;case 401:case 403:c=e.MessagingClientErrorCode.AUTHENTICATION_ERROR;break;case 500:c=e.MessagingClientErrorCode.INTERNAL_ERROR;break;case 503:c=e.MessagingClientErrorCode.SERVER_UNAVAILABLE;break;default:c=e.MessagingClientErrorCode.UNKNOWN_ERROR}return new e.FirebaseMessagingError({code:c.code,message:`${c.message} Raw server response: "${m.response.text}". Status code: ${m.response.status}.`})}function p(m){if(t.isNonNullObject(m)&&"error"in m){const c=m.error;if(t.isString(c))return c;if(t.isArray(c.details)){const l="type.googleapis.com/google.firebase.fcm.v1.FcmError";for(const o of c.details)if(o["@type"]===l)return o.errorCode}return"status"in c?c.status:c.message}return null}function g(m){return t.isNonNullObject(m)&&"error"in m&&t.isNonEmptyString(m.error.message)?m.error.message:null}return messagingErrorsInternal}var hasRequiredMessagingApiRequestInternal;function requireMessagingApiRequestInternal(){if(hasRequiredMessagingApiRequestInternal)return messagingApiRequestInternal;hasRequiredMessagingApiRequestInternal=1;Object.defineProperty(messagingApiRequestInternal,"__esModule",{value:!0}),messagingApiRequestInternal.FirebaseMessagingRequestHandler=void 0;const e=requireApiRequest(),t=requireMessagingErrorsInternal(),a=requireUtils$2(),p=15e3,g="POST",m={"X-Firebase-Client":`fire-admin-node/${(0,a.getSdkVersion)()}`,access_token_auth:"true"};class c{constructor(o){this.httpClient=new e.AuthorizedHttpClient(o),this.http2Client=new e.AuthorizedHttp2Client(o)}invokeRequestHandler(o,s,h){const v={method:g,url:`https://${o}${s}`,data:h,headers:m,timeout:p};return this.httpClient.send(v).then(b=>{if(!b.isJson())throw new e.RequestResponseError(b);if((0,t.getErrorCode)(b.data))throw new e.RequestResponseError(b);return b.data}).catch(b=>{throw b instanceof e.RequestResponseError?(0,t.createFirebaseError)(b):b})}invokeHttpRequestHandlerForSendResponse(o,s,h){const v={method:g,url:`https://${o}${s}`,data:h,headers:m,timeout:p};return this.httpClient.send(v).then(b=>this.buildSendResponse(b)).catch(b=>{if(b instanceof e.RequestResponseError)return this.buildSendResponseFromError(b);throw b})}invokeHttp2RequestHandlerForSendResponse(o,s,h,v){const b={method:g,url:`https://${o}${s}`,data:h,headers:m,timeout:p,http2SessionHandler:v};return this.http2Client.send(b).then(y=>this.buildSendResponse(y)).catch(y=>{if(y instanceof e.RequestResponseError)return this.buildSendResponseFromError(y);throw y})}buildSendResponse(o){const s={success:o.status===200};return s.success?s.messageId=o.data.name:s.error=(0,t.createFirebaseError)(new e.RequestResponseError(o)),s}buildSendResponseFromError(o){return{success:!1,error:(0,t.createFirebaseError)(o)}}}return messagingApiRequestInternal.FirebaseMessagingRequestHandler=c,messagingApiRequestInternal}var hasRequiredMessaging$1;function requireMessaging$1(){if(hasRequiredMessaging$1)return messaging$1;hasRequiredMessaging$1=1;Object.defineProperty(messaging$1,"__esModule",{value:!0}),messaging$1.Messaging=void 0;const e=requireDeepCopy(),t=requireError(),a=requireUtils$2(),p=requireValidator$1(),g=requireMessagingInternal(),m=requireMessagingApiRequestInternal(),c=requireApiRequest(),l="fcm.googleapis.com",o="iid.googleapis.com",s="/iid/v1:batchAdd",h="/iid/v1:batchRemove",v=500;function b(O){const w={successCount:0,failureCount:0,errors:[]};return"results"in O&&O.results.forEach((I,_)=>{if("error"in I){w.failureCount+=1;const T=t.FirebaseMessagingError.fromTopicManagementServerError(I.error,void 0,I.error);w.errors.push({index:_,error:T})}else w.successCount+=1}),w}class y{constructor(w){if(this.useLegacyTransport=!1,!p.isNonNullObject(w)||!("options"in w))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.messaging() must be a valid Firebase app instance.");this.appInternal=w,this.messagingRequestHandler=new m.FirebaseMessagingRequestHandler(w)}get app(){return this.appInternal}enableLegacyHttpTransport(){this.useLegacyTransport=!0}send(w,I){const _=(0,e.deepCopy)(w);if((0,g.validateMessage)(_),typeof I<"u"&&!p.isBoolean(I))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_ARGUMENT,"dryRun must be a boolean");return this.getUrlPath().then(T=>{const C={message:_};return I&&(C.validate_only=!0),this.messagingRequestHandler.invokeRequestHandler(l,T,C)}).then(T=>T.name)}sendEach(w,I){p.isArray(w)&&w.constructor!==Array&&(w=Array.from(w));const _=(0,e.deepCopy)(w);if(!p.isNonEmptyArray(_))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_ARGUMENT,"messages must be a non-empty array");if(_.length>v)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_ARGUMENT,`messages list must not contain more than ${v} items`);if(typeof I<"u"&&!p.isBoolean(I))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_ARGUMENT,"dryRun must be a boolean");const T=this.useLegacyTransport?void 0:new c.Http2SessionHandler(`https://${l}`);return this.getUrlPath().then(C=>{if(T){let N;return new Promise((L,D)=>{T.invoke().catch(k=>{const V=N?N.then(this.parseSendResponses):void 0;D(new t.FirebaseMessagingSessionError(k,void 0,V))});const j=_.map(async k=>{(0,g.validateMessage)(k);const V={message:k};return I&&(V.validate_only=!0),this.messagingRequestHandler.invokeHttp2RequestHandlerForSendResponse(l,C,V,T)});N=Promise.allSettled(j),N.then(L)})}else{const N=_.map(async L=>{(0,g.validateMessage)(L);const D={message:L};return I&&(D.validate_only=!0),this.messagingRequestHandler.invokeHttpRequestHandlerForSendResponse(l,C,D)});return Promise.allSettled(N)}}).then(this.parseSendResponses).finally(()=>{T?.close()})}parseSendResponses(w){const I=[];w.forEach(T=>{T.status==="fulfilled"?I.push(T.value):I.push({success:!1,error:T.reason})});const _=I.filter(T=>T.success).length;return{responses:I,successCount:_,failureCount:I.length-_}}sendEachForMulticast(w,I){const _=(0,e.deepCopy)(w);if(!p.isNonNullObject(_))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_ARGUMENT,"MulticastMessage must be a non-null object");if(!p.isNonEmptyArray(_.tokens))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_ARGUMENT,"tokens must be a non-empty array");if(_.tokens.length>v)throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_ARGUMENT,`tokens list must not contain more than ${v} items`);const T=_.tokens.map(C=>({token:C,android:_.android,apns:_.apns,data:_.data,notification:_.notification,webpush:_.webpush,fcmOptions:_.fcmOptions}));return this.sendEach(T,I)}subscribeToTopic(w,I){return this.sendTopicManagementRequest(w,I,"subscribeToTopic",s)}unsubscribeFromTopic(w,I){return this.sendTopicManagementRequest(w,I,"unsubscribeFromTopic",h)}getUrlPath(){return this.urlPath?Promise.resolve(this.urlPath):a.findProjectId(this.app).then(w=>{if(!p.isNonEmptyString(w))throw new t.FirebaseMessagingError(t.MessagingClientErrorCode.INVALID_ARGUMENT,"Failed to determine project ID for Messaging. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");return this.urlPath=`/v1/projects/${w}/messages:send`,this.urlPath})}sendTopicManagementRequest(w,I,_,T){return this.validateRegistrationTokensType(w,_),this.validateTopicType(I,_),I=this.normalizeTopic(I),Promise.resolve().then(()=>{this.validateRegistrationTokens(w,_),this.validateTopic(I,_);let C=w;p.isString(w)&&(C=[w]);const N={to:I,registration_tokens:C};return this.messagingRequestHandler.invokeRequestHandler(o,T,N)}).then(C=>b(C))}validateRegistrationTokensType(w,I,_=t.MessagingClientErrorCode.INVALID_ARGUMENT){if(!p.isNonEmptyArray(w)&&!p.isNonEmptyString(w))throw new t.FirebaseMessagingError(_,`Registration token(s) provided to ${I}() must be a non-empty string or a non-empty array.`)}validateRegistrationTokens(w,I,_=t.MessagingClientErrorCode.INVALID_ARGUMENT){if(p.isArray(w)){if(w.length>1e3)throw new t.FirebaseMessagingError(_,`Too many registration tokens provided in a single request to ${I}(). Batch your requests to contain no more than 1,000 registration tokens per request.`);w.forEach((T,C)=>{if(!p.isNonEmptyString(T))throw new t.FirebaseMessagingError(_,`Registration token provided to ${I}() at index ${C} must be a non-empty string.`)})}}validateTopicType(w,I,_=t.MessagingClientErrorCode.INVALID_ARGUMENT){if(!p.isNonEmptyString(w))throw new t.FirebaseMessagingError(_,`Topic provided to ${I}() must be a string which matches the format "/topics/[a-zA-Z0-9-_.~%]+".`)}validateTopic(w,I,_=t.MessagingClientErrorCode.INVALID_ARGUMENT){if(!p.isTopic(w))throw new t.FirebaseMessagingError(_,`Topic provided to ${I}() must be a string which matches the format "/topics/[a-zA-Z0-9-_.~%]+".`)}normalizeTopic(w){return/^\/topics\//.test(w)||(w=`/topics/${w}`),w}}return messaging$1.Messaging=y,messaging$1}var storage$2={},src$9={},nodejsCommon={},service$2={},getRandomValues,rnds8=new Uint8Array(16);function rng$2(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$3(e){return typeof e=="string"&&REGEX.test(e)}for(var byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify$2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase();if(!validate$3(a))throw TypeError("Stringified UUID is invalid");return a}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1$3(e,t,a){var p=t&&a||0,g=t||new Array(16);e=e||{};var m=e.node||_nodeId,c=e.clockseq!==void 0?e.clockseq:_clockseq;if(m==null||c==null){var l=e.random||(e.rng||rng$2)();m==null&&(m=_nodeId=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),c==null&&(c=_clockseq=(l[6]<<8|l[7])&16383)}var o=e.msecs!==void 0?e.msecs:Date.now(),s=e.nsecs!==void 0?e.nsecs:_lastNSecs+1,h=o-_lastMSecs+(s-_lastNSecs)/1e4;if(h<0&&e.clockseq===void 0&&(c=c+1&16383),(h<0||o>_lastMSecs)&&e.nsecs===void 0&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=o,_lastNSecs=s,_clockseq=c,o+=122192928e5;var v=((o&268435455)*1e4+s)%4294967296;g[p++]=v>>>24&255,g[p++]=v>>>16&255,g[p++]=v>>>8&255,g[p++]=v&255;var b=o/4294967296*1e4&268435455;g[p++]=b>>>8&255,g[p++]=b&255,g[p++]=b>>>24&15|16,g[p++]=b>>>16&255,g[p++]=c>>>8|128,g[p++]=c&255;for(var y=0;y<6;++y)g[p+y]=m[y];return t||stringify$2(g)}function parse$2(e){if(!validate$3(e))throw TypeError("Invalid UUID");var t,a=new Uint8Array(16);return a[0]=(t=parseInt(e.slice(0,8),16))>>>24,a[1]=t>>>16&255,a[2]=t>>>8&255,a[3]=t&255,a[4]=(t=parseInt(e.slice(9,13),16))>>>8,a[5]=t&255,a[6]=(t=parseInt(e.slice(14,18),16))>>>8,a[7]=t&255,a[8]=(t=parseInt(e.slice(19,23),16))>>>8,a[9]=t&255,a[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,a[11]=t/4294967296&255,a[12]=t>>>24&255,a[13]=t>>>16&255,a[14]=t>>>8&255,a[15]=t&255,a}function stringToBytes(e){e=unescape(encodeURIComponent(e));for(var t=[],a=0;a<e.length;++a)t.push(e.charCodeAt(a));return t}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35$2(e,t,a){function p(g,m,c,l){if(typeof g=="string"&&(g=stringToBytes(g)),typeof m=="string"&&(m=parse$2(m)),m.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+g.length);if(o.set(m),o.set(g,m.length),o=a(o),o[6]=o[6]&15|t,o[8]=o[8]&63|128,c){l=l||0;for(var s=0;s<16;++s)c[l+s]=o[s];return c}return stringify$2(o)}try{p.name=e}catch{}return p.DNS=DNS,p.URL=URL$1,p}function md5$2(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var a=0;a<t.length;++a)e[a]=t.charCodeAt(a)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(e),e.length*8))}function md5ToHexEncodedArray(e){for(var t=[],a=e.length*32,p="0123456789abcdef",g=0;g<a;g+=8){var m=e[g>>5]>>>g%32&255,c=parseInt(p.charAt(m>>>4&15)+p.charAt(m&15),16);t.push(c)}return t}function getOutputLength(e){return(e+64>>>9<<4)+14+1}function wordsToMd5(e,t){e[t>>5]|=128<<t%32,e[getOutputLength(t)-1]=t;for(var a=1732584193,p=-271733879,g=-1732584194,m=271733878,c=0;c<e.length;c+=16){var l=a,o=p,s=g,h=m;a=md5ff(a,p,g,m,e[c],7,-680876936),m=md5ff(m,a,p,g,e[c+1],12,-389564586),g=md5ff(g,m,a,p,e[c+2],17,606105819),p=md5ff(p,g,m,a,e[c+3],22,-1044525330),a=md5ff(a,p,g,m,e[c+4],7,-176418897),m=md5ff(m,a,p,g,e[c+5],12,1200080426),g=md5ff(g,m,a,p,e[c+6],17,-1473231341),p=md5ff(p,g,m,a,e[c+7],22,-45705983),a=md5ff(a,p,g,m,e[c+8],7,1770035416),m=md5ff(m,a,p,g,e[c+9],12,-1958414417),g=md5ff(g,m,a,p,e[c+10],17,-42063),p=md5ff(p,g,m,a,e[c+11],22,-1990404162),a=md5ff(a,p,g,m,e[c+12],7,1804603682),m=md5ff(m,a,p,g,e[c+13],12,-40341101),g=md5ff(g,m,a,p,e[c+14],17,-1502002290),p=md5ff(p,g,m,a,e[c+15],22,1236535329),a=md5gg(a,p,g,m,e[c+1],5,-165796510),m=md5gg(m,a,p,g,e[c+6],9,-1069501632),g=md5gg(g,m,a,p,e[c+11],14,643717713),p=md5gg(p,g,m,a,e[c],20,-373897302),a=md5gg(a,p,g,m,e[c+5],5,-701558691),m=md5gg(m,a,p,g,e[c+10],9,38016083),g=md5gg(g,m,a,p,e[c+15],14,-660478335),p=md5gg(p,g,m,a,e[c+4],20,-405537848),a=md5gg(a,p,g,m,e[c+9],5,568446438),m=md5gg(m,a,p,g,e[c+14],9,-1019803690),g=md5gg(g,m,a,p,e[c+3],14,-187363961),p=md5gg(p,g,m,a,e[c+8],20,1163531501),a=md5gg(a,p,g,m,e[c+13],5,-1444681467),m=md5gg(m,a,p,g,e[c+2],9,-51403784),g=md5gg(g,m,a,p,e[c+7],14,1735328473),p=md5gg(p,g,m,a,e[c+12],20,-1926607734),a=md5hh(a,p,g,m,e[c+5],4,-378558),m=md5hh(m,a,p,g,e[c+8],11,-2022574463),g=md5hh(g,m,a,p,e[c+11],16,1839030562),p=md5hh(p,g,m,a,e[c+14],23,-35309556),a=md5hh(a,p,g,m,e[c+1],4,-1530992060),m=md5hh(m,a,p,g,e[c+4],11,1272893353),g=md5hh(g,m,a,p,e[c+7],16,-155497632),p=md5hh(p,g,m,a,e[c+10],23,-1094730640),a=md5hh(a,p,g,m,e[c+13],4,681279174),m=md5hh(m,a,p,g,e[c],11,-358537222),g=md5hh(g,m,a,p,e[c+3],16,-722521979),p=md5hh(p,g,m,a,e[c+6],23,76029189),a=md5hh(a,p,g,m,e[c+9],4,-640364487),m=md5hh(m,a,p,g,e[c+12],11,-421815835),g=md5hh(g,m,a,p,e[c+15],16,530742520),p=md5hh(p,g,m,a,e[c+2],23,-995338651),a=md5ii(a,p,g,m,e[c],6,-198630844),m=md5ii(m,a,p,g,e[c+7],10,1126891415),g=md5ii(g,m,a,p,e[c+14],15,-1416354905),p=md5ii(p,g,m,a,e[c+5],21,-57434055),a=md5ii(a,p,g,m,e[c+12],6,1700485571),m=md5ii(m,a,p,g,e[c+3],10,-1894986606),g=md5ii(g,m,a,p,e[c+10],15,-1051523),p=md5ii(p,g,m,a,e[c+1],21,-2054922799),a=md5ii(a,p,g,m,e[c+8],6,1873313359),m=md5ii(m,a,p,g,e[c+15],10,-30611744),g=md5ii(g,m,a,p,e[c+6],15,-1560198380),p=md5ii(p,g,m,a,e[c+13],21,1309151649),a=md5ii(a,p,g,m,e[c+4],6,-145523070),m=md5ii(m,a,p,g,e[c+11],10,-1120210379),g=md5ii(g,m,a,p,e[c+2],15,718787259),p=md5ii(p,g,m,a,e[c+9],21,-343485551),a=safeAdd(a,l),p=safeAdd(p,o),g=safeAdd(g,s),m=safeAdd(m,h)}return[a,p,g,m]}function bytesToWords(e){if(e.length===0)return[];for(var t=e.length*8,a=new Uint32Array(getOutputLength(t)),p=0;p<t;p+=8)a[p>>5]|=(e[p/8]&255)<<p%32;return a}function safeAdd(e,t){var a=(e&65535)+(t&65535),p=(e>>16)+(t>>16)+(a>>16);return p<<16|a&65535}function bitRotateLeft(e,t){return e<<t|e>>>32-t}function md5cmn(e,t,a,p,g,m){return safeAdd(bitRotateLeft(safeAdd(safeAdd(t,e),safeAdd(p,m)),g),a)}function md5ff(e,t,a,p,g,m,c){return md5cmn(t&a|~t&p,e,t,g,m,c)}function md5gg(e,t,a,p,g,m,c){return md5cmn(t&p|a&~p,e,t,g,m,c)}function md5hh(e,t,a,p,g,m,c){return md5cmn(t^a^p,e,t,g,m,c)}function md5ii(e,t,a,p,g,m,c){return md5cmn(a^(t|~p),e,t,g,m,c)}var v3$2=v35$2("v3",48,md5$2);function v4$2(e,t,a){e=e||{};var p=e.random||(e.rng||rng$2)();if(p[6]=p[6]&15|64,p[8]=p[8]&63|128,t){a=a||0;for(var g=0;g<16;++g)t[a+g]=p[g];return t}return stringify$2(p)}function f(e,t,a,p){switch(e){case 0:return t&a^~t&p;case 1:return t^a^p;case 2:return t&a^t&p^a&p;case 3:return t^a^p}}function ROTL(e,t){return e<<t|e>>>32-t}function sha1$2(e){var t=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var p=unescape(encodeURIComponent(e));e=[];for(var g=0;g<p.length;++g)e.push(p.charCodeAt(g))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var m=e.length/4+2,c=Math.ceil(m/16),l=new Array(c),o=0;o<c;++o){for(var s=new Uint32Array(16),h=0;h<16;++h)s[h]=e[o*64+h*4]<<24|e[o*64+h*4+1]<<16|e[o*64+h*4+2]<<8|e[o*64+h*4+3];l[o]=s}l[c-1][14]=(e.length-1)*8/Math.pow(2,32),l[c-1][14]=Math.floor(l[c-1][14]),l[c-1][15]=(e.length-1)*8&4294967295;for(var v=0;v<c;++v){for(var b=new Uint32Array(80),y=0;y<16;++y)b[y]=l[v][y];for(var O=16;O<80;++O)b[O]=ROTL(b[O-3]^b[O-8]^b[O-14]^b[O-16],1);for(var w=a[0],I=a[1],_=a[2],T=a[3],C=a[4],N=0;N<80;++N){var L=Math.floor(N/20),D=ROTL(w,5)+f(L,I,_,T)+C+t[L]+b[N]>>>0;C=T,T=_,_=ROTL(I,30)>>>0,I=w,w=D}a[0]=a[0]+w>>>0,a[1]=a[1]+I>>>0,a[2]=a[2]+_>>>0,a[3]=a[3]+T>>>0,a[4]=a[4]+C>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,a[0]&255,a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,a[1]&255,a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,a[2]&255,a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,a[3]&255,a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,a[4]&255]}var v5$2=v35$2("v5",80,sha1$2);const nil$2="00000000-0000-0000-0000-000000000000";function version$5(e){if(!validate$3(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,NIL:nil$2,parse:parse$2,stringify:stringify$2,v1:v1$3,v3:v3$2,v4:v4$2,v5:v5$2,validate:validate$3,version:version$5},Symbol.toStringTag,{value:"Module"})),require$$6$1=getAugmentedNamespace(esmBrowser);var util$6={},src$8={},hasRequiredSrc$9;function requireSrc$9(){if(hasRequiredSrc$9)return src$8;hasRequiredSrc$9=1,Object.defineProperty(src$8,"__esModule",{value:!0}),src$8.MissingProjectIdError=src$8.replaceProjectIdToken=void 0;const e=require$$1$3;function t(p,g){if(Array.isArray(p)&&(p=p.map(m=>t(m,g))),p!==null&&typeof p=="object"&&!(p instanceof Buffer)&&!(p instanceof e.Stream)&&typeof p.hasOwnProperty=="function")for(const m in p)p.hasOwnProperty(m)&&(p[m]=t(p[m],g));if(typeof p=="string"&&p.indexOf("{{projectId}}")>-1){if(!g||g==="{{projectId}}")throw new a;p=p.replace(/{{projectId}}/g,g)}return p}src$8.replaceProjectIdToken=t;class a extends Error{constructor(){super(...arguments),this.message=`Sorry, we cannot connect to Cloud Services without a project
    ID. You may specify one with an environment variable named
    "GOOGLE_CLOUD_PROJECT".`.replace(/ +/g," ")}}return src$8.MissingProjectIdError=a,src$8}var commonjs={},namedReferences={},hasRequiredNamedReferences;function requireNamedReferences(){return hasRequiredNamedReferences||(hasRequiredNamedReferences=1,(function(e){var t=namedReferences&&namedReferences.__assign||function(){return t=Object.assign||function(m){for(var c,l=1,o=arguments.length;l<o;l++){c=arguments[l];for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(m[s]=c[s])}return m},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.namedReferences=e.bodyRegExps=void 0;var a="~",p="~~";function g(m,c){for(var l={},o={},s=m.split(p),h=!1,v=0;s.length>v;v++){for(var b=s[v].split(a),y=0;y<b.length;y+=2){var O=b[y],w=b[y+1],I="&"+O+";";l[I]=w,h&&(l["&"+O]=w),o[w]=I}h=!0}return c?{entities:t(t({},l),c.entities),characters:t(t({},o),c.characters)}:{entities:l,characters:o}}e.bodyRegExps={xml:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&notin;|&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html5:/&centerdot;|&copysr;|&divideontimes;|&gtcc;|&gtcir;|&gtdot;|&gtlPar;|&gtquest;|&gtrapprox;|&gtrarr;|&gtrdot;|&gtreqless;|&gtreqqless;|&gtrless;|&gtrsim;|&ltcc;|&ltcir;|&ltdot;|&lthree;|&ltimes;|&ltlarr;|&ltquest;|&ltrPar;|&ltri;|&ltrie;|&ltrif;|&notin;|&notinE;|&notindot;|&notinva;|&notinvb;|&notinvc;|&notni;|&notniva;|&notnivb;|&notnivc;|&parallel;|&timesb;|&timesbar;|&timesd;|&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g},e.namedReferences={},e.namedReferences.xml=g(`lt~<~gt~>~quot~"~apos~'~amp~&`),e.namedReferences.html4=g(`apos~'~OElig~~oelig~~Scaron~~scaron~~Yuml~~circ~~tilde~~ensp~~emsp~~thinsp~~zwnj~~zwj~~lrm~~rlm~~ndash~~mdash~~lsquo~~rsquo~~sbquo~~ldquo~~rdquo~~bdquo~~dagger~~Dagger~~permil~~lsaquo~~rsaquo~~euro~~fnof~~Alpha~~Beta~~Gamma~~Delta~~Epsilon~~Zeta~~Eta~~Theta~~Iota~~Kappa~~Lambda~~Mu~~Nu~~Xi~~Omicron~~Pi~~Rho~~Sigma~~Tau~~Upsilon~~Phi~~Chi~~Psi~~Omega~~alpha~~beta~~gamma~~delta~~epsilon~~zeta~~eta~~theta~~iota~~kappa~~lambda~~mu~~nu~~xi~~omicron~~pi~~rho~~sigmaf~~sigma~~tau~~upsilon~~phi~~chi~~psi~~omega~~thetasym~~upsih~~piv~~bull~~hellip~~prime~~Prime~~oline~~frasl~~weierp~~image~~real~~trade~~alefsym~~larr~~uarr~~rarr~~darr~~harr~~crarr~~lArr~~uArr~~rArr~~dArr~~hArr~~forall~~part~~exist~~empty~~nabla~~isin~~notin~~ni~~prod~~sum~~minus~~lowast~~radic~~prop~~infin~~ang~~and~~or~~cap~~cup~~int~~there4~~sim~~cong~~asymp~~ne~~equiv~~le~~ge~~sub~~sup~~nsub~~sube~~supe~~oplus~~otimes~~perp~~sdot~~lceil~~rceil~~lfloor~~rfloor~~lang~~rang~~loz~~spades~~clubs~~hearts~~diams~~~nbsp~~iexcl~~cent~~pound~~curren~~yen~~brvbar~~sect~~uml~~copy~~ordf~~laquo~~not~~shy~~reg~~macr~~deg~~plusmn~~sup2~~sup3~~acute~~micro~~para~~middot~~cedil~~sup1~~ordm~~raquo~~frac14~~frac12~~frac34~~iquest~~Agrave~~Aacute~~Acirc~~Atilde~~Auml~~Aring~~AElig~~Ccedil~~Egrave~~Eacute~~Ecirc~~Euml~~Igrave~~Iacute~~Icirc~~Iuml~~ETH~~Ntilde~~Ograve~~Oacute~~Ocirc~~Otilde~~Ouml~~times~~Oslash~~Ugrave~~Uacute~~Ucirc~~Uuml~~Yacute~~THORN~~szlig~~agrave~~aacute~~acirc~~atilde~~auml~~aring~~aelig~~ccedil~~egrave~~eacute~~ecirc~~euml~~igrave~~iacute~~icirc~~iuml~~eth~~ntilde~~ograve~~oacute~~ocirc~~otilde~~ouml~~divide~~oslash~~ugrave~~uacute~~ucirc~~uuml~~yacute~~thorn~~yuml~~quot~"~amp~&~lt~<~gt~>`),e.namedReferences.html5=g('Abreve~~Acy~~Afr~~Amacr~~And~~Aogon~~Aopf~~ApplyFunction~~Ascr~~Assign~~Backslash~~Barv~~Barwed~~Bcy~~Because~~Bernoullis~~Bfr~~Bopf~~Breve~~Bscr~~Bumpeq~~CHcy~~Cacute~~Cap~~CapitalDifferentialD~~Cayleys~~Ccaron~~Ccirc~~Cconint~~Cdot~~Cedilla~~CenterDot~~Cfr~~CircleDot~~CircleMinus~~CirclePlus~~CircleTimes~~ClockwiseContourIntegral~~CloseCurlyDoubleQuote~~CloseCurlyQuote~~Colon~~Colone~~Congruent~~Conint~~ContourIntegral~~Copf~~Coproduct~~CounterClockwiseContourIntegral~~Cross~~Cscr~~Cup~~CupCap~~DD~~DDotrahd~~DJcy~~DScy~~DZcy~~Darr~~Dashv~~Dcaron~~Dcy~~Del~~Dfr~~DiacriticalAcute~~DiacriticalDot~~DiacriticalDoubleAcute~~DiacriticalGrave~`~DiacriticalTilde~~Diamond~~DifferentialD~~Dopf~~Dot~~DotDot~~DotEqual~~DoubleContourIntegral~~DoubleDot~~DoubleDownArrow~~DoubleLeftArrow~~DoubleLeftRightArrow~~DoubleLeftTee~~DoubleLongLeftArrow~~DoubleLongLeftRightArrow~~DoubleLongRightArrow~~DoubleRightArrow~~DoubleRightTee~~DoubleUpArrow~~DoubleUpDownArrow~~DoubleVerticalBar~~DownArrow~~DownArrowBar~~DownArrowUpArrow~~DownBreve~~DownLeftRightVector~~DownLeftTeeVector~~DownLeftVector~~DownLeftVectorBar~~DownRightTeeVector~~DownRightVector~~DownRightVectorBar~~DownTee~~DownTeeArrow~~Downarrow~~Dscr~~Dstrok~~ENG~~Ecaron~~Ecy~~Edot~~Efr~~Element~~Emacr~~EmptySmallSquare~~EmptyVerySmallSquare~~Eogon~~Eopf~~Equal~~EqualTilde~~Equilibrium~~Escr~~Esim~~Exists~~ExponentialE~~Fcy~~Ffr~~FilledSmallSquare~~FilledVerySmallSquare~~Fopf~~ForAll~~Fouriertrf~~Fscr~~GJcy~~Gammad~~Gbreve~~Gcedil~~Gcirc~~Gcy~~Gdot~~Gfr~~Gg~~Gopf~~GreaterEqual~~GreaterEqualLess~~GreaterFullEqual~~GreaterGreater~~GreaterLess~~GreaterSlantEqual~~GreaterTilde~~Gscr~~Gt~~HARDcy~~Hacek~~Hat~^~Hcirc~~Hfr~~HilbertSpace~~Hopf~~HorizontalLine~~Hscr~~Hstrok~~HumpDownHump~~HumpEqual~~IEcy~~IJlig~~IOcy~~Icy~~Idot~~Ifr~~Im~~Imacr~~ImaginaryI~~Implies~~Int~~Integral~~Intersection~~InvisibleComma~~InvisibleTimes~~Iogon~~Iopf~~Iscr~~Itilde~~Iukcy~~Jcirc~~Jcy~~Jfr~~Jopf~~Jscr~~Jsercy~~Jukcy~~KHcy~~KJcy~~Kcedil~~Kcy~~Kfr~~Kopf~~Kscr~~LJcy~~Lacute~~Lang~~Laplacetrf~~Larr~~Lcaron~~Lcedil~~Lcy~~LeftAngleBracket~~LeftArrow~~LeftArrowBar~~LeftArrowRightArrow~~LeftCeiling~~LeftDoubleBracket~~LeftDownTeeVector~~LeftDownVector~~LeftDownVectorBar~~LeftFloor~~LeftRightArrow~~LeftRightVector~~LeftTee~~LeftTeeArrow~~LeftTeeVector~~LeftTriangle~~LeftTriangleBar~~LeftTriangleEqual~~LeftUpDownVector~~LeftUpTeeVector~~LeftUpVector~~LeftUpVectorBar~~LeftVector~~LeftVectorBar~~Leftarrow~~Leftrightarrow~~LessEqualGreater~~LessFullEqual~~LessGreater~~LessLess~~LessSlantEqual~~LessTilde~~Lfr~~Ll~~Lleftarrow~~Lmidot~~LongLeftArrow~~LongLeftRightArrow~~LongRightArrow~~Longleftarrow~~Longleftrightarrow~~Longrightarrow~~Lopf~~LowerLeftArrow~~LowerRightArrow~~Lscr~~Lsh~~Lstrok~~Lt~~Map~~Mcy~~MediumSpace~~Mellintrf~~Mfr~~MinusPlus~~Mopf~~Mscr~~NJcy~~Nacute~~Ncaron~~Ncedil~~Ncy~~NegativeMediumSpace~~NegativeThickSpace~~NegativeThinSpace~~NegativeVeryThinSpace~~NestedGreaterGreater~~NestedLessLess~~NewLine~\n~Nfr~~NoBreak~~NonBreakingSpace~~Nopf~~Not~~NotCongruent~~NotCupCap~~NotDoubleVerticalBar~~NotElement~~NotEqual~~NotEqualTilde~~NotExists~~NotGreater~~NotGreaterEqual~~NotGreaterFullEqual~~NotGreaterGreater~~NotGreaterLess~~NotGreaterSlantEqual~~NotGreaterTilde~~NotHumpDownHump~~NotHumpEqual~~NotLeftTriangle~~NotLeftTriangleBar~~NotLeftTriangleEqual~~NotLess~~NotLessEqual~~NotLessGreater~~NotLessLess~~NotLessSlantEqual~~NotLessTilde~~NotNestedGreaterGreater~~NotNestedLessLess~~NotPrecedes~~NotPrecedesEqual~~NotPrecedesSlantEqual~~NotReverseElement~~NotRightTriangle~~NotRightTriangleBar~~NotRightTriangleEqual~~NotSquareSubset~~NotSquareSubsetEqual~~NotSquareSuperset~~NotSquareSupersetEqual~~NotSubset~~NotSubsetEqual~~NotSucceeds~~NotSucceedsEqual~~NotSucceedsSlantEqual~~NotSucceedsTilde~~NotSuperset~~NotSupersetEqual~~NotTilde~~NotTildeEqual~~NotTildeFullEqual~~NotTildeTilde~~NotVerticalBar~~Nscr~~Ocy~~Odblac~~Ofr~~Omacr~~Oopf~~OpenCurlyDoubleQuote~~OpenCurlyQuote~~Or~~Oscr~~Otimes~~OverBar~~OverBrace~~OverBracket~~OverParenthesis~~PartialD~~Pcy~~Pfr~~PlusMinus~~Poincareplane~~Popf~~Pr~~Precedes~~PrecedesEqual~~PrecedesSlantEqual~~PrecedesTilde~~Product~~Proportion~~Proportional~~Pscr~~Qfr~~Qopf~~Qscr~~RBarr~~Racute~~Rang~~Rarr~~Rarrtl~~Rcaron~~Rcedil~~Rcy~~Re~~ReverseElement~~ReverseEquilibrium~~ReverseUpEquilibrium~~Rfr~~RightAngleBracket~~RightArrow~~RightArrowBar~~RightArrowLeftArrow~~RightCeiling~~RightDoubleBracket~~RightDownTeeVector~~RightDownVector~~RightDownVectorBar~~RightFloor~~RightTee~~RightTeeArrow~~RightTeeVector~~RightTriangle~~RightTriangleBar~~RightTriangleEqual~~RightUpDownVector~~RightUpTeeVector~~RightUpVector~~RightUpVectorBar~~RightVector~~RightVectorBar~~Rightarrow~~Ropf~~RoundImplies~~Rrightarrow~~Rscr~~Rsh~~RuleDelayed~~SHCHcy~~SHcy~~SOFTcy~~Sacute~~Sc~~Scedil~~Scirc~~Scy~~Sfr~~ShortDownArrow~~ShortLeftArrow~~ShortRightArrow~~ShortUpArrow~~SmallCircle~~Sopf~~Sqrt~~Square~~SquareIntersection~~SquareSubset~~SquareSubsetEqual~~SquareSuperset~~SquareSupersetEqual~~SquareUnion~~Sscr~~Star~~Sub~~Subset~~SubsetEqual~~Succeeds~~SucceedsEqual~~SucceedsSlantEqual~~SucceedsTilde~~SuchThat~~Sum~~Sup~~Superset~~SupersetEqual~~Supset~~TRADE~~TSHcy~~TScy~~Tab~	~Tcaron~~Tcedil~~Tcy~~Tfr~~Therefore~~ThickSpace~~ThinSpace~~Tilde~~TildeEqual~~TildeFullEqual~~TildeTilde~~Topf~~TripleDot~~Tscr~~Tstrok~~Uarr~~Uarrocir~~Ubrcy~~Ubreve~~Ucy~~Udblac~~Ufr~~Umacr~~UnderBar~_~UnderBrace~~UnderBracket~~UnderParenthesis~~Union~~UnionPlus~~Uogon~~Uopf~~UpArrow~~UpArrowBar~~UpArrowDownArrow~~UpDownArrow~~UpEquilibrium~~UpTee~~UpTeeArrow~~Uparrow~~Updownarrow~~UpperLeftArrow~~UpperRightArrow~~Upsi~~Uring~~Uscr~~Utilde~~VDash~~Vbar~~Vcy~~Vdash~~Vdashl~~Vee~~Verbar~~Vert~~VerticalBar~~VerticalLine~|~VerticalSeparator~~VerticalTilde~~VeryThinSpace~~Vfr~~Vopf~~Vscr~~Vvdash~~Wcirc~~Wedge~~Wfr~~Wopf~~Wscr~~Xfr~~Xopf~~Xscr~~YAcy~~YIcy~~YUcy~~Ycirc~~Ycy~~Yfr~~Yopf~~Yscr~~ZHcy~~Zacute~~Zcaron~~Zcy~~Zdot~~ZeroWidthSpace~~Zfr~~Zopf~~Zscr~~abreve~~ac~~acE~~acd~~acy~~af~~afr~~aleph~~amacr~~amalg~~andand~~andd~~andslope~~andv~~ange~~angle~~angmsd~~angmsdaa~~angmsdab~~angmsdac~~angmsdad~~angmsdae~~angmsdaf~~angmsdag~~angmsdah~~angrt~~angrtvb~~angrtvbd~~angsph~~angst~~angzarr~~aogon~~aopf~~ap~~apE~~apacir~~ape~~apid~~approx~~approxeq~~ascr~~ast~*~asympeq~~awconint~~awint~~bNot~~backcong~~backepsilon~~backprime~~backsim~~backsimeq~~barvee~~barwed~~barwedge~~bbrk~~bbrktbrk~~bcong~~bcy~~becaus~~because~~bemptyv~~bepsi~~bernou~~beth~~between~~bfr~~bigcap~~bigcirc~~bigcup~~bigodot~~bigoplus~~bigotimes~~bigsqcup~~bigstar~~bigtriangledown~~bigtriangleup~~biguplus~~bigvee~~bigwedge~~bkarow~~blacklozenge~~blacksquare~~blacktriangle~~blacktriangledown~~blacktriangleleft~~blacktriangleright~~blank~~blk12~~blk14~~blk34~~block~~bne~=~bnequiv~~bnot~~bopf~~bot~~bottom~~bowtie~~boxDL~~boxDR~~boxDl~~boxDr~~boxH~~boxHD~~boxHU~~boxHd~~boxHu~~boxUL~~boxUR~~boxUl~~boxUr~~boxV~~boxVH~~boxVL~~boxVR~~boxVh~~boxVl~~boxVr~~boxbox~~boxdL~~boxdR~~boxdl~~boxdr~~boxh~~boxhD~~boxhU~~boxhd~~boxhu~~boxminus~~boxplus~~boxtimes~~boxuL~~boxuR~~boxul~~boxur~~boxv~~boxvH~~boxvL~~boxvR~~boxvh~~boxvl~~boxvr~~bprime~~breve~~bscr~~bsemi~~bsim~~bsime~~bsol~\\~bsolb~~bsolhsub~~bullet~~bump~~bumpE~~bumpe~~bumpeq~~cacute~~capand~~capbrcup~~capcap~~capcup~~capdot~~caps~~caret~~caron~~ccaps~~ccaron~~ccirc~~ccups~~ccupssm~~cdot~~cemptyv~~centerdot~~cfr~~chcy~~check~~checkmark~~cir~~cirE~~circeq~~circlearrowleft~~circlearrowright~~circledR~~circledS~~circledast~~circledcirc~~circleddash~~cire~~cirfnint~~cirmid~~cirscir~~clubsuit~~colon~:~colone~~coloneq~~comma~,~commat~@~comp~~compfn~~complement~~complexes~~congdot~~conint~~copf~~coprod~~copysr~~cross~~cscr~~csub~~csube~~csup~~csupe~~ctdot~~cudarrl~~cudarrr~~cuepr~~cuesc~~cularr~~cularrp~~cupbrcap~~cupcap~~cupcup~~cupdot~~cupor~~cups~~curarr~~curarrm~~curlyeqprec~~curlyeqsucc~~curlyvee~~curlywedge~~curvearrowleft~~curvearrowright~~cuvee~~cuwed~~cwconint~~cwint~~cylcty~~dHar~~daleth~~dash~~dashv~~dbkarow~~dblac~~dcaron~~dcy~~dd~~ddagger~~ddarr~~ddotseq~~demptyv~~dfisht~~dfr~~dharl~~dharr~~diam~~diamond~~diamondsuit~~die~~digamma~~disin~~div~~divideontimes~~divonx~~djcy~~dlcorn~~dlcrop~~dollar~$~dopf~~dot~~doteq~~doteqdot~~dotminus~~dotplus~~dotsquare~~doublebarwedge~~downarrow~~downdownarrows~~downharpoonleft~~downharpoonright~~drbkarow~~drcorn~~drcrop~~dscr~~dscy~~dsol~~dstrok~~dtdot~~dtri~~dtrif~~duarr~~duhar~~dwangle~~dzcy~~dzigrarr~~eDDot~~eDot~~easter~~ecaron~~ecir~~ecolon~~ecy~~edot~~ee~~efDot~~efr~~eg~~egs~~egsdot~~el~~elinters~~ell~~els~~elsdot~~emacr~~emptyset~~emptyv~~emsp13~~emsp14~~eng~~eogon~~eopf~~epar~~eparsl~~eplus~~epsi~~epsiv~~eqcirc~~eqcolon~~eqsim~~eqslantgtr~~eqslantless~~equals~=~equest~~equivDD~~eqvparsl~~erDot~~erarr~~escr~~esdot~~esim~~excl~!~expectation~~exponentiale~~fallingdotseq~~fcy~~female~~ffilig~~fflig~~ffllig~~ffr~~filig~~fjlig~fj~flat~~fllig~~fltns~~fopf~~fork~~forkv~~fpartint~~frac13~~frac15~~frac16~~frac18~~frac23~~frac25~~frac35~~frac38~~frac45~~frac56~~frac58~~frac78~~frown~~fscr~~gE~~gEl~~gacute~~gammad~~gap~~gbreve~~gcirc~~gcy~~gdot~~gel~~geq~~geqq~~geqslant~~ges~~gescc~~gesdot~~gesdoto~~gesdotol~~gesl~~gesles~~gfr~~gg~~ggg~~gimel~~gjcy~~gl~~glE~~gla~~glj~~gnE~~gnap~~gnapprox~~gne~~gneq~~gneqq~~gnsim~~gopf~~grave~`~gscr~~gsim~~gsime~~gsiml~~gtcc~~gtcir~~gtdot~~gtlPar~~gtquest~~gtrapprox~~gtrarr~~gtrdot~~gtreqless~~gtreqqless~~gtrless~~gtrsim~~gvertneqq~~gvnE~~hairsp~~half~~hamilt~~hardcy~~harrcir~~harrw~~hbar~~hcirc~~heartsuit~~hercon~~hfr~~hksearow~~hkswarow~~hoarr~~homtht~~hookleftarrow~~hookrightarrow~~hopf~~horbar~~hscr~~hslash~~hstrok~~hybull~~hyphen~~ic~~icy~~iecy~~iff~~ifr~~ii~~iiiint~~iiint~~iinfin~~iiota~~ijlig~~imacr~~imagline~~imagpart~~imath~~imof~~imped~~in~~incare~~infintie~~inodot~~intcal~~integers~~intercal~~intlarhk~~intprod~~iocy~~iogon~~iopf~~iprod~~iscr~~isinE~~isindot~~isins~~isinsv~~isinv~~it~~itilde~~iukcy~~jcirc~~jcy~~jfr~~jmath~~jopf~~jscr~~jsercy~~jukcy~~kappav~~kcedil~~kcy~~kfr~~kgreen~~khcy~~kjcy~~kopf~~kscr~~lAarr~~lAtail~~lBarr~~lE~~lEg~~lHar~~lacute~~laemptyv~~lagran~~langd~~langle~~lap~~larrb~~larrbfs~~larrfs~~larrhk~~larrlp~~larrpl~~larrsim~~larrtl~~lat~~latail~~late~~lates~~lbarr~~lbbrk~~lbrace~{~lbrack~[~lbrke~~lbrksld~~lbrkslu~~lcaron~~lcedil~~lcub~{~lcy~~ldca~~ldquor~~ldrdhar~~ldrushar~~ldsh~~leftarrow~~leftarrowtail~~leftharpoondown~~leftharpoonup~~leftleftarrows~~leftrightarrow~~leftrightarrows~~leftrightharpoons~~leftrightsquigarrow~~leftthreetimes~~leg~~leq~~leqq~~leqslant~~les~~lescc~~lesdot~~lesdoto~~lesdotor~~lesg~~lesges~~lessapprox~~lessdot~~lesseqgtr~~lesseqqgtr~~lessgtr~~lesssim~~lfisht~~lfr~~lg~~lgE~~lhard~~lharu~~lharul~~lhblk~~ljcy~~ll~~llarr~~llcorner~~llhard~~lltri~~lmidot~~lmoust~~lmoustache~~lnE~~lnap~~lnapprox~~lne~~lneq~~lneqq~~lnsim~~loang~~loarr~~lobrk~~longleftarrow~~longleftrightarrow~~longmapsto~~longrightarrow~~looparrowleft~~looparrowright~~lopar~~lopf~~loplus~~lotimes~~lowbar~_~lozenge~~lozf~~lpar~(~lparlt~~lrarr~~lrcorner~~lrhar~~lrhard~~lrtri~~lscr~~lsh~~lsim~~lsime~~lsimg~~lsqb~[~lsquor~~lstrok~~ltcc~~ltcir~~ltdot~~lthree~~ltimes~~ltlarr~~ltquest~~ltrPar~~ltri~~ltrie~~ltrif~~lurdshar~~luruhar~~lvertneqq~~lvnE~~mDDot~~male~~malt~~maltese~~map~~mapsto~~mapstodown~~mapstoleft~~mapstoup~~marker~~mcomma~~mcy~~measuredangle~~mfr~~mho~~mid~~midast~*~midcir~~minusb~~minusd~~minusdu~~mlcp~~mldr~~mnplus~~models~~mopf~~mp~~mscr~~mstpos~~multimap~~mumap~~nGg~~nGt~~nGtv~~nLeftarrow~~nLeftrightarrow~~nLl~~nLt~~nLtv~~nRightarrow~~nVDash~~nVdash~~nacute~~nang~~nap~~napE~~napid~~napos~~napprox~~natur~~natural~~naturals~~nbump~~nbumpe~~ncap~~ncaron~~ncedil~~ncong~~ncongdot~~ncup~~ncy~~neArr~~nearhk~~nearr~~nearrow~~nedot~~nequiv~~nesear~~nesim~~nexist~~nexists~~nfr~~ngE~~nge~~ngeq~~ngeqq~~ngeqslant~~nges~~ngsim~~ngt~~ngtr~~nhArr~~nharr~~nhpar~~nis~~nisd~~niv~~njcy~~nlArr~~nlE~~nlarr~~nldr~~nle~~nleftarrow~~nleftrightarrow~~nleq~~nleqq~~nleqslant~~nles~~nless~~nlsim~~nlt~~nltri~~nltrie~~nmid~~nopf~~notinE~~notindot~~notinva~~notinvb~~notinvc~~notni~~notniva~~notnivb~~notnivc~~npar~~nparallel~~nparsl~~npart~~npolint~~npr~~nprcue~~npre~~nprec~~npreceq~~nrArr~~nrarr~~nrarrc~~nrarrw~~nrightarrow~~nrtri~~nrtrie~~nsc~~nsccue~~nsce~~nscr~~nshortmid~~nshortparallel~~nsim~~nsime~~nsimeq~~nsmid~~nspar~~nsqsube~~nsqsupe~~nsubE~~nsube~~nsubset~~nsubseteq~~nsubseteqq~~nsucc~~nsucceq~~nsup~~nsupE~~nsupe~~nsupset~~nsupseteq~~nsupseteqq~~ntgl~~ntlg~~ntriangleleft~~ntrianglelefteq~~ntriangleright~~ntrianglerighteq~~num~#~numero~~numsp~~nvDash~~nvHarr~~nvap~~nvdash~~nvge~~nvgt~>~nvinfin~~nvlArr~~nvle~~nvlt~<~nvltrie~~nvrArr~~nvrtrie~~nvsim~~nwArr~~nwarhk~~nwarr~~nwarrow~~nwnear~~oS~~oast~~ocir~~ocy~~odash~~odblac~~odiv~~odot~~odsold~~ofcir~~ofr~~ogon~~ogt~~ohbar~~ohm~~oint~~olarr~~olcir~~olcross~~olt~~omacr~~omid~~ominus~~oopf~~opar~~operp~~orarr~~ord~~order~~orderof~~origof~~oror~~orslope~~orv~~oscr~~osol~~otimesas~~ovbar~~par~~parallel~~parsim~~parsl~~pcy~~percnt~%~period~.~pertenk~~pfr~~phiv~~phmmat~~phone~~pitchfork~~planck~~planckh~~plankv~~plus~+~plusacir~~plusb~~pluscir~~plusdo~~plusdu~~pluse~~plussim~~plustwo~~pm~~pointint~~popf~~pr~~prE~~prap~~prcue~~pre~~prec~~precapprox~~preccurlyeq~~preceq~~precnapprox~~precneqq~~precnsim~~precsim~~primes~~prnE~~prnap~~prnsim~~profalar~~profline~~profsurf~~propto~~prsim~~prurel~~pscr~~puncsp~~qfr~~qint~~qopf~~qprime~~qscr~~quaternions~~quatint~~quest~?~questeq~~rAarr~~rAtail~~rBarr~~rHar~~race~~racute~~raemptyv~~rangd~~range~~rangle~~rarrap~~rarrb~~rarrbfs~~rarrc~~rarrfs~~rarrhk~~rarrlp~~rarrpl~~rarrsim~~rarrtl~~rarrw~~ratail~~ratio~~rationals~~rbarr~~rbbrk~~rbrace~}~rbrack~]~rbrke~~rbrksld~~rbrkslu~~rcaron~~rcedil~~rcub~}~rcy~~rdca~~rdldhar~~rdquor~~rdsh~~realine~~realpart~~reals~~rect~~rfisht~~rfr~~rhard~~rharu~~rharul~~rhov~~rightarrow~~rightarrowtail~~rightharpoondown~~rightharpoonup~~rightleftarrows~~rightleftharpoons~~rightrightarrows~~rightsquigarrow~~rightthreetimes~~ring~~risingdotseq~~rlarr~~rlhar~~rmoust~~rmoustache~~rnmid~~roang~~roarr~~robrk~~ropar~~ropf~~roplus~~rotimes~~rpar~)~rpargt~~rppolint~~rrarr~~rscr~~rsh~~rsqb~]~rsquor~~rthree~~rtimes~~rtri~~rtrie~~rtrif~~rtriltri~~ruluhar~~rx~~sacute~~sc~~scE~~scap~~sccue~~sce~~scedil~~scirc~~scnE~~scnap~~scnsim~~scpolint~~scsim~~scy~~sdotb~~sdote~~seArr~~searhk~~searr~~searrow~~semi~;~seswar~~setminus~~setmn~~sext~~sfr~~sfrown~~sharp~~shchcy~~shcy~~shortmid~~shortparallel~~sigmav~~simdot~~sime~~simeq~~simg~~simgE~~siml~~simlE~~simne~~simplus~~simrarr~~slarr~~smallsetminus~~smashp~~smeparsl~~smid~~smile~~smt~~smte~~smtes~~softcy~~sol~/~solb~~solbar~~sopf~~spadesuit~~spar~~sqcap~~sqcaps~~sqcup~~sqcups~~sqsub~~sqsube~~sqsubset~~sqsubseteq~~sqsup~~sqsupe~~sqsupset~~sqsupseteq~~squ~~square~~squarf~~squf~~srarr~~sscr~~ssetmn~~ssmile~~sstarf~~star~~starf~~straightepsilon~~straightphi~~strns~~subE~~subdot~~subedot~~submult~~subnE~~subne~~subplus~~subrarr~~subset~~subseteq~~subseteqq~~subsetneq~~subsetneqq~~subsim~~subsub~~subsup~~succ~~succapprox~~succcurlyeq~~succeq~~succnapprox~~succneqq~~succnsim~~succsim~~sung~~supE~~supdot~~supdsub~~supedot~~suphsol~~suphsub~~suplarr~~supmult~~supnE~~supne~~supplus~~supset~~supseteq~~supseteqq~~supsetneq~~supsetneqq~~supsim~~supsub~~supsup~~swArr~~swarhk~~swarr~~swarrow~~swnwar~~target~~tbrk~~tcaron~~tcedil~~tcy~~tdot~~telrec~~tfr~~therefore~~thetav~~thickapprox~~thicksim~~thkap~~thksim~~timesb~~timesbar~~timesd~~tint~~toea~~top~~topbot~~topcir~~topf~~topfork~~tosa~~tprime~~triangle~~triangledown~~triangleleft~~trianglelefteq~~triangleq~~triangleright~~trianglerighteq~~tridot~~trie~~triminus~~triplus~~trisb~~tritime~~trpezium~~tscr~~tscy~~tshcy~~tstrok~~twixt~~twoheadleftarrow~~twoheadrightarrow~~uHar~~ubrcy~~ubreve~~ucy~~udarr~~udblac~~udhar~~ufisht~~ufr~~uharl~~uharr~~uhblk~~ulcorn~~ulcorner~~ulcrop~~ultri~~umacr~~uogon~~uopf~~uparrow~~updownarrow~~upharpoonleft~~upharpoonright~~uplus~~upsi~~upuparrows~~urcorn~~urcorner~~urcrop~~uring~~urtri~~uscr~~utdot~~utilde~~utri~~utrif~~uuarr~~uwangle~~vArr~~vBar~~vBarv~~vDash~~vangrt~~varepsilon~~varkappa~~varnothing~~varphi~~varpi~~varpropto~~varr~~varrho~~varsigma~~varsubsetneq~~varsubsetneqq~~varsupsetneq~~varsupsetneqq~~vartheta~~vartriangleleft~~vartriangleright~~vcy~~vdash~~vee~~veebar~~veeeq~~vellip~~verbar~|~vert~|~vfr~~vltri~~vnsub~~vnsup~~vopf~~vprop~~vrtri~~vscr~~vsubnE~~vsubne~~vsupnE~~vsupne~~vzigzag~~wcirc~~wedbar~~wedge~~wedgeq~~wfr~~wopf~~wp~~wr~~wreath~~wscr~~xcap~~xcirc~~xcup~~xdtri~~xfr~~xhArr~~xharr~~xlArr~~xlarr~~xmap~~xnis~~xodot~~xopf~~xoplus~~xotime~~xrArr~~xrarr~~xscr~~xsqcup~~xuplus~~xutri~~xvee~~xwedge~~yacy~~ycirc~~ycy~~yfr~~yicy~~yopf~~yscr~~yucy~~zacute~~zcaron~~zcy~~zdot~~zeetrf~~zfr~~zhcy~~zigrarr~~zopf~~zscr~~~AMP~&~COPY~~GT~>~LT~<~QUOT~"~REG~',e.namedReferences.html4)})(namedReferences)),namedReferences}var numericUnicodeMap={},hasRequiredNumericUnicodeMap;function requireNumericUnicodeMap(){return hasRequiredNumericUnicodeMap||(hasRequiredNumericUnicodeMap=1,Object.defineProperty(numericUnicodeMap,"__esModule",{value:!0}),numericUnicodeMap.numericUnicodeMap=void 0,numericUnicodeMap.numericUnicodeMap={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}),numericUnicodeMap}var surrogatePairs={},hasRequiredSurrogatePairs;function requireSurrogatePairs(){return hasRequiredSurrogatePairs||(hasRequiredSurrogatePairs=1,Object.defineProperty(surrogatePairs,"__esModule",{value:!0}),surrogatePairs.highSurrogateTo=surrogatePairs.highSurrogateFrom=surrogatePairs.getCodePoint=surrogatePairs.fromCodePoint=void 0,surrogatePairs.fromCodePoint=String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)},surrogatePairs.getCodePoint=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536},surrogatePairs.highSurrogateFrom=55296,surrogatePairs.highSurrogateTo=56319),surrogatePairs}var hasRequiredCommonjs;function requireCommonjs(){if(hasRequiredCommonjs)return commonjs;hasRequiredCommonjs=1;var e=commonjs&&commonjs.__assign||function(){return e=Object.assign||function(C){for(var N,L=1,D=arguments.length;L<D;L++){N=arguments[L];for(var j in N)Object.prototype.hasOwnProperty.call(N,j)&&(C[j]=N[j])}return C},e.apply(this,arguments)};Object.defineProperty(commonjs,"__esModule",{value:!0}),commonjs.encode=l,commonjs.decodeEntity=_,commonjs.decode=T;var t=requireNamedReferences(),a=requireNumericUnicodeMap(),p=requireSurrogatePairs(),g=e(e({},t.namedReferences),{all:t.namedReferences.html5}),m={specialChars:/[<>'"&]/g,nonAscii:/[<>'"&\u0080-\uD7FF\uE000-\uFFFF\uDC00-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,nonAsciiPrintable:/[<>'"&\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF\uDC00-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,nonAsciiPrintableOnly:/[\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF\uDC00-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,extensive:/[\x01-\x0c\x0e-\x1f\x21-\x2c\x2e-\x2f\x3a-\x40\x5b-\x60\x7b-\x7d\x7f-\uD7FF\uE000-\uFFFF\uDC00-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g},c={mode:"specialChars",level:"all",numeric:"decimal"};function l(C,N){var L=N===void 0?c:N,D=L.mode,j=D===void 0?"specialChars":D,k=L.numeric,V=k===void 0?"decimal":k,G=L.level,J=G===void 0?"all":G;if(!C)return"";var W=m[j],K=g[J].characters,X=V==="hexadecimal";return String.prototype.replace.call(C,W,function(Y){var te=K[Y];if(!te){var oe=Y.length>1?(0,p.getCodePoint)(Y,0):Y.charCodeAt(0);te=(X?"&#x"+oe.toString(16):"&#"+oe)+";"}return te})}var o={scope:"body",level:"all"},s=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);/g,h=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g,v={xml:{strict:s,attribute:h,body:t.bodyRegExps.xml},html4:{strict:s,attribute:h,body:t.bodyRegExps.html4},html5:{strict:s,attribute:h,body:t.bodyRegExps.html5}},b=e(e({},v),{all:v.html5}),y=String.fromCharCode,O=y(65533),w={level:"all"};function I(C,N,L,D){var j=C,k=C[C.length-1];if(L&&k==="=")j=C;else if(D&&k!==";")j=C;else{var V=N[C];if(V)j=V;else if(C[0]==="&"&&C[1]==="#"){var G=C[2],J=G=="x"||G=="X"?parseInt(C.substr(3),16):parseInt(C.substr(2));j=J>=1114111?O:J>65535?(0,p.fromCodePoint)(J):y(a.numericUnicodeMap[J]||J)}}return j}function _(C,N){var L=N===void 0?w:N,D=L.level,j=D===void 0?"all":D;return C?I(C,g[j].entities,!1,!1):""}function T(C,N){var L=N===void 0?o:N,D=L.level,j=D===void 0?"all":D,k=L.scope,V=k===void 0?j==="xml"?"strict":"body":k;if(!C)return"";var G=b[j][V],J=g[j].entities,W=V==="attribute",K=V==="strict";return C.replace(G,function(X){return I(X,J,W,K)})}return commonjs}var retryRequest={exports:{}},hasRequiredRetryRequest;function requireRetryRequest(){if(hasRequiredRetryRequest)return retryRequest.exports;hasRequiredRetryRequest=1;var e={};const{PassThrough:t}=require$$1$3,a=requireExtend();let p=()=>{};typeof process<"u"&&"env"in process&&typeof e=="object"&&e.DEBUG==="retry-request"&&(p=l=>{console.log("retry-request:",l)});const g={objectMode:!1,retries:2,maxRetryDelay:64,retryDelayMultiplier:2,totalTimeout:600,noResponseRetries:2,currentRetryAttempt:0,shouldRetryFn:function(l){const o=[[100,199],[429,429],[500,599]],s=l.statusCode;p(`Response status: ${s}`);let h;for(;h=o.shift();)if(s>=h[0]&&s<=h[1])return!0}};function m(l,o,s){typeof l=="string"&&(l={url:l});const h=typeof arguments[arguments.length-1]!="function";typeof o=="function"&&(s=o);const v=o&&typeof o.currentRetryAttempt=="number";if(o=a({},g,o),typeof o.request>"u")throw new Error("A request library must be provided to retry-request.");let b=o.currentRetryAttempt,y=0,O=!1,w,I,_,T;const C={abort:function(){T&&T.abort&&T.abort()}};h&&(w=new t({objectMode:o.objectMode}),w.abort=L);const N=Date.now();if(b>0?j(b):D(),h)return w;return C;function L(){_=null,I&&(I.abort&&I.abort(),I.cancel&&I.cancel(),I.destroy?I.destroy():I.end&&I.end())}function D(){let V=!1;b++,p(`Current retry attempt: ${b}`);function G(J=[]){V||(V=!0,w.emit("complete",...J))}h?(O=!1,_=new t({objectMode:o.objectMode}),I=o.request(l),setImmediate(()=>{w.emit("request")}),I.on("error",J=>{O||(O=!0,k(J))}).on("response",(J,W)=>{O||(O=!0,k(null,J,W))}).on("complete",(...J)=>G(J)).on("finish",(...J)=>G(J)),I.pipe(_)):T=o.request(l,k)}function j(V){h&&L();const G=c({maxRetryDelay:o.maxRetryDelay,retryDelayMultiplier:o.retryDelayMultiplier,retryNumber:V,timeOfFirstRequest:N,totalTimeout:o.totalTimeout});if(p(`Next retry delay: ${G}`),G<=0){y=o.noResponseRetries+1;return}setTimeout(D,G)}function k(V,G,J){if(V){y++,y<=o.noResponseRetries?j(y):h?(w.emit("error",V),w.end()):s(V,G,J);return}if((v?b:b-1)<o.retries&&o.shouldRetryFn(G)){j(b);return}h?(w.emit("response",G),_.pipe(w),I.on("error",K=>{w.destroy(K)})):s(V,G,J)}}retryRequest.exports=m;function c(l){const{maxRetryDelay:o,retryDelayMultiplier:s,retryNumber:h,timeOfFirstRequest:v,totalTimeout:b}=l,y=o*1e3,O=b*1e3,w=Math.floor(Math.random()*1e3),I=Math.pow(s,h)*1e3+w,_=O-(Date.now()-v);return Math.min(I,_,y)}return retryRequest.exports.defaults=g,retryRequest.exports.getNextRetryDelay=c,retryRequest.exports}var src$7={},commonjsBrowser$1={},v1$2={},rng$1={},hasRequiredRng$1;function requireRng$1(){if(hasRequiredRng$1)return rng$1;hasRequiredRng$1=1,Object.defineProperty(rng$1,"__esModule",{value:!0}),rng$1.default=a;let e;const t=new Uint8Array(16);function a(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return rng$1}var stringify$1={},validate$2={},regex$1={},hasRequiredRegex$1;function requireRegex$1(){if(hasRequiredRegex$1)return regex$1;hasRequiredRegex$1=1,Object.defineProperty(regex$1,"__esModule",{value:!0}),regex$1.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return regex$1.default=e,regex$1}var hasRequiredValidate$2;function requireValidate$2(){if(hasRequiredValidate$2)return validate$2;hasRequiredValidate$2=1,Object.defineProperty(validate$2,"__esModule",{value:!0}),validate$2.default=void 0;var e=t(requireRegex$1());function t(g){return g&&g.__esModule?g:{default:g}}function a(g){return typeof g=="string"&&e.default.test(g)}var p=a;return validate$2.default=p,validate$2}var hasRequiredStringify$1;function requireStringify$1(){if(hasRequiredStringify$1)return stringify$1;hasRequiredStringify$1=1,Object.defineProperty(stringify$1,"__esModule",{value:!0}),stringify$1.default=void 0,stringify$1.unsafeStringify=p;var e=t(requireValidate$2());function t(c){return c&&c.__esModule?c:{default:c}}const a=[];for(let c=0;c<256;++c)a.push((c+256).toString(16).slice(1));function p(c,l=0){return a[c[l+0]]+a[c[l+1]]+a[c[l+2]]+a[c[l+3]]+"-"+a[c[l+4]]+a[c[l+5]]+"-"+a[c[l+6]]+a[c[l+7]]+"-"+a[c[l+8]]+a[c[l+9]]+"-"+a[c[l+10]]+a[c[l+11]]+a[c[l+12]]+a[c[l+13]]+a[c[l+14]]+a[c[l+15]]}function g(c,l=0){const o=p(c,l);if(!(0,e.default)(o))throw TypeError("Stringified UUID is invalid");return o}var m=g;return stringify$1.default=m,stringify$1}var hasRequiredV1$2;function requireV1$2(){if(hasRequiredV1$2)return v1$2;hasRequiredV1$2=1,Object.defineProperty(v1$2,"__esModule",{value:!0}),v1$2.default=void 0;var e=a(requireRng$1()),t=requireStringify$1();function a(s){return s&&s.__esModule?s:{default:s}}let p,g,m=0,c=0;function l(s,h,v){let b=h&&v||0;const y=h||new Array(16);s=s||{};let O=s.node||p,w=s.clockseq!==void 0?s.clockseq:g;if(O==null||w==null){const L=s.random||(s.rng||e.default)();O==null&&(O=p=[L[0]|1,L[1],L[2],L[3],L[4],L[5]]),w==null&&(w=g=(L[6]<<8|L[7])&16383)}let I=s.msecs!==void 0?s.msecs:Date.now(),_=s.nsecs!==void 0?s.nsecs:c+1;const T=I-m+(_-c)/1e4;if(T<0&&s.clockseq===void 0&&(w=w+1&16383),(T<0||I>m)&&s.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=I,c=_,g=w,I+=122192928e5;const C=((I&268435455)*1e4+_)%4294967296;y[b++]=C>>>24&255,y[b++]=C>>>16&255,y[b++]=C>>>8&255,y[b++]=C&255;const N=I/4294967296*1e4&268435455;y[b++]=N>>>8&255,y[b++]=N&255,y[b++]=N>>>24&15|16,y[b++]=N>>>16&255,y[b++]=w>>>8|128,y[b++]=w&255;for(let L=0;L<6;++L)y[b+L]=O[L];return h||(0,t.unsafeStringify)(y)}var o=l;return v1$2.default=o,v1$2}var v3$1={},v35$1={},parse$1={},hasRequiredParse$2;function requireParse$2(){if(hasRequiredParse$2)return parse$1;hasRequiredParse$2=1,Object.defineProperty(parse$1,"__esModule",{value:!0}),parse$1.default=void 0;var e=t(requireValidate$2());function t(g){return g&&g.__esModule?g:{default:g}}function a(g){if(!(0,e.default)(g))throw TypeError("Invalid UUID");let m;const c=new Uint8Array(16);return c[0]=(m=parseInt(g.slice(0,8),16))>>>24,c[1]=m>>>16&255,c[2]=m>>>8&255,c[3]=m&255,c[4]=(m=parseInt(g.slice(9,13),16))>>>8,c[5]=m&255,c[6]=(m=parseInt(g.slice(14,18),16))>>>8,c[7]=m&255,c[8]=(m=parseInt(g.slice(19,23),16))>>>8,c[9]=m&255,c[10]=(m=parseInt(g.slice(24,36),16))/1099511627776&255,c[11]=m/4294967296&255,c[12]=m>>>24&255,c[13]=m>>>16&255,c[14]=m>>>8&255,c[15]=m&255,c}var p=a;return parse$1.default=p,parse$1}var hasRequiredV35$1;function requireV35$1(){if(hasRequiredV35$1)return v35$1;hasRequiredV35$1=1,Object.defineProperty(v35$1,"__esModule",{value:!0}),v35$1.URL=v35$1.DNS=void 0,v35$1.default=c;var e=requireStringify$1(),t=a(requireParse$2());function a(l){return l&&l.__esModule?l:{default:l}}function p(l){l=unescape(encodeURIComponent(l));const o=[];for(let s=0;s<l.length;++s)o.push(l.charCodeAt(s));return o}const g="6ba7b810-9dad-11d1-80b4-00c04fd430c8";v35$1.DNS=g;const m="6ba7b811-9dad-11d1-80b4-00c04fd430c8";v35$1.URL=m;function c(l,o,s){function h(v,b,y,O){var w;if(typeof v=="string"&&(v=p(v)),typeof b=="string"&&(b=(0,t.default)(b)),((w=b)===null||w===void 0?void 0:w.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let I=new Uint8Array(16+v.length);if(I.set(b),I.set(v,b.length),I=s(I),I[6]=I[6]&15|o,I[8]=I[8]&63|128,y){O=O||0;for(let _=0;_<16;++_)y[O+_]=I[_];return y}return(0,e.unsafeStringify)(I)}try{h.name=l}catch{}return h.DNS=g,h.URL=m,h}return v35$1}var md5$1={},hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1,Object.defineProperty(md5$1,"__esModule",{value:!0}),md5$1.default=void 0;function e(y){if(typeof y=="string"){const O=unescape(encodeURIComponent(y));y=new Uint8Array(O.length);for(let w=0;w<O.length;++w)y[w]=O.charCodeAt(w)}return t(p(g(y),y.length*8))}function t(y){const O=[],w=y.length*32,I="0123456789abcdef";for(let _=0;_<w;_+=8){const T=y[_>>5]>>>_%32&255,C=parseInt(I.charAt(T>>>4&15)+I.charAt(T&15),16);O.push(C)}return O}function a(y){return(y+64>>>9<<4)+14+1}function p(y,O){y[O>>5]|=128<<O%32,y[a(O)-1]=O;let w=1732584193,I=-271733879,_=-1732584194,T=271733878;for(let C=0;C<y.length;C+=16){const N=w,L=I,D=_,j=T;w=o(w,I,_,T,y[C],7,-680876936),T=o(T,w,I,_,y[C+1],12,-389564586),_=o(_,T,w,I,y[C+2],17,606105819),I=o(I,_,T,w,y[C+3],22,-1044525330),w=o(w,I,_,T,y[C+4],7,-176418897),T=o(T,w,I,_,y[C+5],12,1200080426),_=o(_,T,w,I,y[C+6],17,-1473231341),I=o(I,_,T,w,y[C+7],22,-45705983),w=o(w,I,_,T,y[C+8],7,1770035416),T=o(T,w,I,_,y[C+9],12,-1958414417),_=o(_,T,w,I,y[C+10],17,-42063),I=o(I,_,T,w,y[C+11],22,-1990404162),w=o(w,I,_,T,y[C+12],7,1804603682),T=o(T,w,I,_,y[C+13],12,-40341101),_=o(_,T,w,I,y[C+14],17,-1502002290),I=o(I,_,T,w,y[C+15],22,1236535329),w=s(w,I,_,T,y[C+1],5,-165796510),T=s(T,w,I,_,y[C+6],9,-1069501632),_=s(_,T,w,I,y[C+11],14,643717713),I=s(I,_,T,w,y[C],20,-373897302),w=s(w,I,_,T,y[C+5],5,-701558691),T=s(T,w,I,_,y[C+10],9,38016083),_=s(_,T,w,I,y[C+15],14,-660478335),I=s(I,_,T,w,y[C+4],20,-405537848),w=s(w,I,_,T,y[C+9],5,568446438),T=s(T,w,I,_,y[C+14],9,-1019803690),_=s(_,T,w,I,y[C+3],14,-187363961),I=s(I,_,T,w,y[C+8],20,1163531501),w=s(w,I,_,T,y[C+13],5,-1444681467),T=s(T,w,I,_,y[C+2],9,-51403784),_=s(_,T,w,I,y[C+7],14,1735328473),I=s(I,_,T,w,y[C+12],20,-1926607734),w=h(w,I,_,T,y[C+5],4,-378558),T=h(T,w,I,_,y[C+8],11,-2022574463),_=h(_,T,w,I,y[C+11],16,1839030562),I=h(I,_,T,w,y[C+14],23,-35309556),w=h(w,I,_,T,y[C+1],4,-1530992060),T=h(T,w,I,_,y[C+4],11,1272893353),_=h(_,T,w,I,y[C+7],16,-155497632),I=h(I,_,T,w,y[C+10],23,-1094730640),w=h(w,I,_,T,y[C+13],4,681279174),T=h(T,w,I,_,y[C],11,-358537222),_=h(_,T,w,I,y[C+3],16,-722521979),I=h(I,_,T,w,y[C+6],23,76029189),w=h(w,I,_,T,y[C+9],4,-640364487),T=h(T,w,I,_,y[C+12],11,-421815835),_=h(_,T,w,I,y[C+15],16,530742520),I=h(I,_,T,w,y[C+2],23,-995338651),w=v(w,I,_,T,y[C],6,-198630844),T=v(T,w,I,_,y[C+7],10,1126891415),_=v(_,T,w,I,y[C+14],15,-1416354905),I=v(I,_,T,w,y[C+5],21,-57434055),w=v(w,I,_,T,y[C+12],6,1700485571),T=v(T,w,I,_,y[C+3],10,-1894986606),_=v(_,T,w,I,y[C+10],15,-1051523),I=v(I,_,T,w,y[C+1],21,-2054922799),w=v(w,I,_,T,y[C+8],6,1873313359),T=v(T,w,I,_,y[C+15],10,-30611744),_=v(_,T,w,I,y[C+6],15,-1560198380),I=v(I,_,T,w,y[C+13],21,1309151649),w=v(w,I,_,T,y[C+4],6,-145523070),T=v(T,w,I,_,y[C+11],10,-1120210379),_=v(_,T,w,I,y[C+2],15,718787259),I=v(I,_,T,w,y[C+9],21,-343485551),w=m(w,N),I=m(I,L),_=m(_,D),T=m(T,j)}return[w,I,_,T]}function g(y){if(y.length===0)return[];const O=y.length*8,w=new Uint32Array(a(O));for(let I=0;I<O;I+=8)w[I>>5]|=(y[I/8]&255)<<I%32;return w}function m(y,O){const w=(y&65535)+(O&65535);return(y>>16)+(O>>16)+(w>>16)<<16|w&65535}function c(y,O){return y<<O|y>>>32-O}function l(y,O,w,I,_,T){return m(c(m(m(O,y),m(I,T)),_),w)}function o(y,O,w,I,_,T,C){return l(O&w|~O&I,y,O,_,T,C)}function s(y,O,w,I,_,T,C){return l(O&I|w&~I,y,O,_,T,C)}function h(y,O,w,I,_,T,C){return l(O^w^I,y,O,_,T,C)}function v(y,O,w,I,_,T,C){return l(w^(O|~I),y,O,_,T,C)}var b=e;return md5$1.default=b,md5$1}var hasRequiredV3$1;function requireV3$1(){if(hasRequiredV3$1)return v3$1;hasRequiredV3$1=1,Object.defineProperty(v3$1,"__esModule",{value:!0}),v3$1.default=void 0;var e=a(requireV35$1()),t=a(requireMd5$1());function a(m){return m&&m.__esModule?m:{default:m}}var g=(0,e.default)("v3",48,t.default);return v3$1.default=g,v3$1}var v4$1={},native$1={},hasRequiredNative$1;function requireNative$1(){if(hasRequiredNative$1)return native$1;hasRequiredNative$1=1,Object.defineProperty(native$1,"__esModule",{value:!0}),native$1.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return native$1.default=t,native$1}var hasRequiredV4$1;function requireV4$1(){if(hasRequiredV4$1)return v4$1;hasRequiredV4$1=1,Object.defineProperty(v4$1,"__esModule",{value:!0}),v4$1.default=void 0;var e=p(requireNative$1()),t=p(requireRng$1()),a=requireStringify$1();function p(c){return c&&c.__esModule?c:{default:c}}function g(c,l,o){if(e.default.randomUUID&&!l&&!c)return e.default.randomUUID();c=c||{};const s=c.random||(c.rng||t.default)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,l){o=o||0;for(let h=0;h<16;++h)l[o+h]=s[h];return l}return(0,a.unsafeStringify)(s)}var m=g;return v4$1.default=m,v4$1}var v5$1={},sha1$1={},hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$1;hasRequiredSha1$1=1,Object.defineProperty(sha1$1,"__esModule",{value:!0}),sha1$1.default=void 0;function e(g,m,c,l){switch(g){case 0:return m&c^~m&l;case 1:return m^c^l;case 2:return m&c^m&l^c&l;case 3:return m^c^l}}function t(g,m){return g<<m|g>>>32-m}function a(g){const m=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof g=="string"){const h=unescape(encodeURIComponent(g));g=[];for(let v=0;v<h.length;++v)g.push(h.charCodeAt(v))}else Array.isArray(g)||(g=Array.prototype.slice.call(g));g.push(128);const l=g.length/4+2,o=Math.ceil(l/16),s=new Array(o);for(let h=0;h<o;++h){const v=new Uint32Array(16);for(let b=0;b<16;++b)v[b]=g[h*64+b*4]<<24|g[h*64+b*4+1]<<16|g[h*64+b*4+2]<<8|g[h*64+b*4+3];s[h]=v}s[o-1][14]=(g.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(g.length-1)*8&4294967295;for(let h=0;h<o;++h){const v=new Uint32Array(80);for(let _=0;_<16;++_)v[_]=s[h][_];for(let _=16;_<80;++_)v[_]=t(v[_-3]^v[_-8]^v[_-14]^v[_-16],1);let b=c[0],y=c[1],O=c[2],w=c[3],I=c[4];for(let _=0;_<80;++_){const T=Math.floor(_/20),C=t(b,5)+e(T,y,O,w)+I+m[T]+v[_]>>>0;I=w,w=O,O=t(y,30)>>>0,y=b,b=C}c[0]=c[0]+b>>>0,c[1]=c[1]+y>>>0,c[2]=c[2]+O>>>0,c[3]=c[3]+w>>>0,c[4]=c[4]+I>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,c[0]&255,c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,c[1]&255,c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,c[2]&255,c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,c[3]&255,c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,c[4]&255]}var p=a;return sha1$1.default=p,sha1$1}var hasRequiredV5$1;function requireV5$1(){if(hasRequiredV5$1)return v5$1;hasRequiredV5$1=1,Object.defineProperty(v5$1,"__esModule",{value:!0}),v5$1.default=void 0;var e=a(requireV35$1()),t=a(requireSha1$1());function a(m){return m&&m.__esModule?m:{default:m}}var g=(0,e.default)("v5",80,t.default);return v5$1.default=g,v5$1}var nil$1={},hasRequiredNil$1;function requireNil$1(){if(hasRequiredNil$1)return nil$1;hasRequiredNil$1=1,Object.defineProperty(nil$1,"__esModule",{value:!0}),nil$1.default=void 0;var e="00000000-0000-0000-0000-000000000000";return nil$1.default=e,nil$1}var version$4={},hasRequiredVersion$1;function requireVersion$1(){if(hasRequiredVersion$1)return version$4;hasRequiredVersion$1=1,Object.defineProperty(version$4,"__esModule",{value:!0}),version$4.default=void 0;var e=t(requireValidate$2());function t(g){return g&&g.__esModule?g:{default:g}}function a(g){if(!(0,e.default)(g))throw TypeError("Invalid UUID");return parseInt(g.slice(14,15),16)}var p=a;return version$4.default=p,version$4}var hasRequiredCommonjsBrowser$1;function requireCommonjsBrowser$1(){return hasRequiredCommonjsBrowser$1||(hasRequiredCommonjsBrowser$1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return c.default}});var t=h(requireV1$2()),a=h(requireV3$1()),p=h(requireV4$1()),g=h(requireV5$1()),m=h(requireNil$1()),c=h(requireVersion$1()),l=h(requireValidate$2()),o=h(requireStringify$1()),s=h(requireParse$2());function h(v){return v&&v.__esModule?v:{default:v}}})(commonjsBrowser$1)),commonjsBrowser$1}var agents={},agent$1={},dist$2={},hasRequiredDist$2;function requireDist$2(){if(hasRequiredDist$2)return dist$2;hasRequiredDist$2=1,Object.defineProperty(dist$2,"__esModule",{value:!0});function e(t,a,{signal:p}={}){return new Promise((g,m)=>{function c(){p?.removeEventListener("abort",c),t.removeListener(a,l),t.removeListener("error",o)}function l(...s){c(),g(s)}function o(s){c(),m(s)}p?.addEventListener("abort",c),t.on(a,l),t.on("error",o)})}return dist$2.default=e,dist$2}var promisify$1={},hasRequiredPromisify$1;function requirePromisify$1(){if(hasRequiredPromisify$1)return promisify$1;hasRequiredPromisify$1=1,Object.defineProperty(promisify$1,"__esModule",{value:!0});function e(t){return function(a,p){return new Promise((g,m)=>{t.call(this,a,p,(c,l)=>{c?m(c):g(l)})})}}return promisify$1.default=e,promisify$1}var src$6,hasRequiredSrc$8;function requireSrc$8(){if(hasRequiredSrc$8)return src$6;hasRequiredSrc$8=1;var e=src$6&&src$6.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};const t=require$$1$3,a=e(requireBrowser$2()),p=e(requirePromisify$1()),g=a.default("agent-base");function m(o){return!!o&&typeof o.addRequest=="function"}function c(){const{stack:o}=new Error;return typeof o!="string"?!1:o.split(`
`).some(s=>s.indexOf("(https.js:")!==-1||s.indexOf("node:https:")!==-1)}function l(o,s){return new l.Agent(o,s)}return(function(o){class s extends t.EventEmitter{constructor(v,b){super();let y=b;typeof v=="function"?this.callback=v:v&&(y=v),this.timeout=null,y&&typeof y.timeout=="number"&&(this.timeout=y.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:c()?443:80}set defaultPort(v){this.explicitDefaultPort=v}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:c()?"https:":"http:"}set protocol(v){this.explicitProtocol=v}callback(v,b,y){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(v,b){const y=Object.assign({},b);typeof y.secureEndpoint!="boolean"&&(y.secureEndpoint=c()),y.host==null&&(y.host="localhost"),y.port==null&&(y.port=y.secureEndpoint?443:80),y.protocol==null&&(y.protocol=y.secureEndpoint?"https:":"http:"),y.host&&y.path&&delete y.path,delete y.agent,delete y.hostname,delete y._defaultAgent,delete y.defaultPort,delete y.createConnection,v._last=!0,v.shouldKeepAlive=!1;let O=!1,w=null;const I=y.timeout||this.timeout,_=L=>{v._hadError||(v.emit("error",L),v._hadError=!0)},T=()=>{w=null,O=!0;const L=new Error(`A "socket" was not created for HTTP request before ${I}ms`);L.code="ETIMEOUT",_(L)},C=L=>{O||(w!==null&&(clearTimeout(w),w=null),_(L))},N=L=>{if(O)return;if(w!=null&&(clearTimeout(w),w=null),m(L)){g("Callback returned another Agent instance %o",L.constructor.name),L.addRequest(v,y);return}if(L){L.once("free",()=>{this.freeSocket(L,y)}),v.onSocket(L);return}const D=new Error(`no Duplex stream was returned to agent-base for \`${v.method} ${v.path}\``);_(D)};if(typeof this.callback!="function"){_(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(g("Converting legacy callback function to promise"),this.promisifiedCallback=p.default(this.callback)):this.promisifiedCallback=this.callback),typeof I=="number"&&I>0&&(w=setTimeout(T,I)),"port"in y&&typeof y.port!="number"&&(y.port=Number(y.port));try{g("Resolving socket for %o request: %o",y.protocol,`${v.method} ${v.path}`),Promise.resolve(this.promisifiedCallback(v,y)).then(N,C)}catch(L){Promise.reject(L).catch(C)}}freeSocket(v,b){g("Freeing socket %o %o",v.constructor.name,b),v.destroy()}destroy(){g("Destroying agent %o",this.constructor.name)}}o.Agent=s,o.prototype=o.Agent.prototype})(l||(l={})),src$6=l,src$6}var hasRequiredAgent$1;function requireAgent$1(){if(hasRequiredAgent$1)return agent$1;hasRequiredAgent$1=1;var e=agent$1&&agent$1.__awaiter||function(v,b,y,O){function w(I){return I instanceof y?I:new y(function(_){_(I)})}return new(y||(y=Promise))(function(I,_){function T(L){try{N(O.next(L))}catch(D){_(D)}}function C(L){try{N(O.throw(L))}catch(D){_(D)}}function N(L){L.done?I(L.value):w(L.value).then(T,C)}N((O=O.apply(v,b||[])).next())})},t=agent$1&&agent$1.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(agent$1,"__esModule",{value:!0});const a=t(require$$1$3),p=t(require$$1$3),g=t(require$$1$3),m=t(requireBrowser$2()),c=t(requireDist$2()),l=requireSrc$8(),o=(0,m.default)("http-proxy-agent");function s(v){return typeof v=="string"?/^https:?$/i.test(v):!1}class h extends l.Agent{constructor(b){let y;if(typeof b=="string"?y=g.default.parse(b):y=b,!y)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");o("Creating new HttpProxyAgent instance: %o",y),super(y);const O=Object.assign({},y);this.secureProxy=y.secureProxy||s(O.protocol),O.host=O.hostname||O.host,typeof O.port=="string"&&(O.port=parseInt(O.port,10)),!O.port&&O.host&&(O.port=this.secureProxy?443:80),O.host&&O.path&&(delete O.path,delete O.pathname),this.proxy=O}callback(b,y){return e(this,void 0,void 0,function*(){const{proxy:O,secureProxy:w}=this,I=g.default.parse(b.path);I.protocol||(I.protocol="http:"),I.hostname||(I.hostname=y.hostname||y.host||null),I.port==null&&typeof y.port&&(I.port=String(y.port)),I.port==="80"&&(I.port=""),b.path=g.default.format(I),O.auth&&b.setHeader("Proxy-Authorization",`Basic ${Buffer.from(O.auth).toString("base64")}`);let _;if(w?(o("Creating `tls.Socket`: %o",O),_=p.default.connect(O)):(o("Creating `net.Socket`: %o",O),_=a.default.connect(O)),b._header){let T,C;o("Regenerating stored HTTP header string for request"),b._header=null,b._implicitHeader(),b.output&&b.output.length>0?(o("Patching connection write() output buffer with updated header"),T=b.output[0],C=T.indexOf(`\r
\r
`)+4,b.output[0]=b._header+T.substring(C),o("Output buffer: %o",b.output)):b.outputData&&b.outputData.length>0&&(o("Patching connection write() output buffer with updated header"),T=b.outputData[0].data,C=T.indexOf(`\r
\r
`)+4,b.outputData[0].data=b._header+T.substring(C),o("Output buffer: %o",b.outputData[0].data))}return yield(0,c.default)(_,"connect"),_})}}return agent$1.default=h,agent$1}var dist$1,hasRequiredDist$1;function requireDist$1(){if(hasRequiredDist$1)return dist$1;hasRequiredDist$1=1;var e=dist$1&&dist$1.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};const t=e(requireAgent$1());function a(p){return new t.default(p)}return(function(p){p.HttpProxyAgent=t.default,p.prototype=t.default.prototype})(a||(a={})),dist$1=a,dist$1}var agent={},promisify={},hasRequiredPromisify;function requirePromisify(){if(hasRequiredPromisify)return promisify;hasRequiredPromisify=1,Object.defineProperty(promisify,"__esModule",{value:!0});function e(t){return function(a,p){return new Promise((g,m)=>{t.call(this,a,p,(c,l)=>{c?m(c):g(l)})})}}return promisify.default=e,promisify}var src$5,hasRequiredSrc$7;function requireSrc$7(){if(hasRequiredSrc$7)return src$5;hasRequiredSrc$7=1;var e=src$5&&src$5.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};const t=require$$1$3,a=e(requireBrowser$2()),p=e(requirePromisify()),g=a.default("agent-base");function m(o){return!!o&&typeof o.addRequest=="function"}function c(){const{stack:o}=new Error;return typeof o!="string"?!1:o.split(`
`).some(s=>s.indexOf("(https.js:")!==-1||s.indexOf("node:https:")!==-1)}function l(o,s){return new l.Agent(o,s)}return(function(o){class s extends t.EventEmitter{constructor(v,b){super();let y=b;typeof v=="function"?this.callback=v:v&&(y=v),this.timeout=null,y&&typeof y.timeout=="number"&&(this.timeout=y.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:c()?443:80}set defaultPort(v){this.explicitDefaultPort=v}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:c()?"https:":"http:"}set protocol(v){this.explicitProtocol=v}callback(v,b,y){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(v,b){const y=Object.assign({},b);typeof y.secureEndpoint!="boolean"&&(y.secureEndpoint=c()),y.host==null&&(y.host="localhost"),y.port==null&&(y.port=y.secureEndpoint?443:80),y.protocol==null&&(y.protocol=y.secureEndpoint?"https:":"http:"),y.host&&y.path&&delete y.path,delete y.agent,delete y.hostname,delete y._defaultAgent,delete y.defaultPort,delete y.createConnection,v._last=!0,v.shouldKeepAlive=!1;let O=!1,w=null;const I=y.timeout||this.timeout,_=L=>{v._hadError||(v.emit("error",L),v._hadError=!0)},T=()=>{w=null,O=!0;const L=new Error(`A "socket" was not created for HTTP request before ${I}ms`);L.code="ETIMEOUT",_(L)},C=L=>{O||(w!==null&&(clearTimeout(w),w=null),_(L))},N=L=>{if(O)return;if(w!=null&&(clearTimeout(w),w=null),m(L)){g("Callback returned another Agent instance %o",L.constructor.name),L.addRequest(v,y);return}if(L){L.once("free",()=>{this.freeSocket(L,y)}),v.onSocket(L);return}const D=new Error(`no Duplex stream was returned to agent-base for \`${v.method} ${v.path}\``);_(D)};if(typeof this.callback!="function"){_(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(g("Converting legacy callback function to promise"),this.promisifiedCallback=p.default(this.callback)):this.promisifiedCallback=this.callback),typeof I=="number"&&I>0&&(w=setTimeout(T,I)),"port"in y&&typeof y.port!="number"&&(y.port=Number(y.port));try{g("Resolving socket for %o request: %o",y.protocol,`${v.method} ${v.path}`),Promise.resolve(this.promisifiedCallback(v,y)).then(N,C)}catch(L){Promise.reject(L).catch(C)}}freeSocket(v,b){g("Freeing socket %o %o",v.constructor.name,b),v.destroy()}destroy(){g("Destroying agent %o",this.constructor.name)}}o.Agent=s,o.prototype=o.Agent.prototype})(l||(l={})),src$5=l,src$5}var parseProxyResponse={},hasRequiredParseProxyResponse;function requireParseProxyResponse(){if(hasRequiredParseProxyResponse)return parseProxyResponse;hasRequiredParseProxyResponse=1;var e=parseProxyResponse&&parseProxyResponse.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(parseProxyResponse,"__esModule",{value:!0});const a=e(requireBrowser$2()).default("https-proxy-agent:parse-proxy-response");function p(g){return new Promise((m,c)=>{let l=0;const o=[];function s(){const w=g.read();w?O(w):g.once("readable",s)}function h(){g.removeListener("end",b),g.removeListener("error",y),g.removeListener("close",v),g.removeListener("readable",s)}function v(w){a("onclose had error %o",w)}function b(){a("onend")}function y(w){h(),a("onerror %o",w),c(w)}function O(w){o.push(w),l+=w.length;const I=Buffer.concat(o,l);if(I.indexOf(`\r
\r
`)===-1){a("have not received end of HTTP headers yet..."),s();return}const T=I.toString("ascii",0,I.indexOf(`\r
`)),C=+T.split(" ")[1];a("got proxy server response: %o",T),m({statusCode:C,buffered:I})}g.on("error",y),g.on("close",v),g.on("end",b),s()})}return parseProxyResponse.default=p,parseProxyResponse}var hasRequiredAgent;function requireAgent(){if(hasRequiredAgent)return agent;hasRequiredAgent=1;var e=agent&&agent.__awaiter||function(w,I,_,T){function C(N){return N instanceof _?N:new _(function(L){L(N)})}return new(_||(_=Promise))(function(N,L){function D(V){try{k(T.next(V))}catch(G){L(G)}}function j(V){try{k(T.throw(V))}catch(G){L(G)}}function k(V){V.done?N(V.value):C(V.value).then(D,j)}k((T=T.apply(w,I||[])).next())})},t=agent&&agent.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(agent,"__esModule",{value:!0});const a=t(require$$1$3),p=t(require$$1$3),g=t(require$$1$3),m=t(require$$1$3),c=t(requireBrowser$2()),l=requireSrc$7(),o=t(requireParseProxyResponse()),s=c.default("https-proxy-agent:agent");class h extends l.Agent{constructor(I){let _;if(typeof I=="string"?_=g.default.parse(I):_=I,!_)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");s("creating new HttpsProxyAgent instance: %o",_),super(_);const T=Object.assign({},_);this.secureProxy=_.secureProxy||y(T.protocol),T.host=T.hostname||T.host,typeof T.port=="string"&&(T.port=parseInt(T.port,10)),!T.port&&T.host&&(T.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in T)&&(T.ALPNProtocols=["http 1.1"]),T.host&&T.path&&(delete T.path,delete T.pathname),this.proxy=T}callback(I,_){return e(this,void 0,void 0,function*(){const{proxy:T,secureProxy:C}=this;let N;C?(s("Creating `tls.Socket`: %o",T),N=p.default.connect(T)):(s("Creating `net.Socket`: %o",T),N=a.default.connect(T));const L=Object.assign({},T.headers);let j=`CONNECT ${`${_.host}:${_.port}`} HTTP/1.1\r
`;T.auth&&(L["Proxy-Authorization"]=`Basic ${Buffer.from(T.auth).toString("base64")}`);let{host:k,port:V,secureEndpoint:G}=_;b(V,G)||(k+=`:${V}`),L.Host=k,L.Connection="close";for(const Y of Object.keys(L))j+=`${Y}: ${L[Y]}\r
`;const J=o.default(N);N.write(`${j}\r
`);const{statusCode:W,buffered:K}=yield J;if(W===200){if(I.once("socket",v),_.secureEndpoint){s("Upgrading socket connection to TLS");const Y=_.servername||_.host;return p.default.connect(Object.assign(Object.assign({},O(_,"host","hostname","path","port")),{socket:N,servername:Y}))}return N}N.destroy();const X=new a.default.Socket({writable:!1});return X.readable=!0,I.once("socket",Y=>{s("replaying proxy buffer for failed request"),m.default(Y.listenerCount("data")>0),Y.push(K),Y.push(null)}),X})}}agent.default=h;function v(w){w.resume()}function b(w,I){return!!(!I&&w===80||I&&w===443)}function y(w){return typeof w=="string"?/^https:?$/i.test(w):!1}function O(w,...I){const _={};let T;for(T in w)I.includes(T)||(_[T]=w[T]);return _}return agent}var dist,hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1;var e=dist&&dist.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};const t=e(requireAgent());function a(p){return new t.default(p)}return(function(p){p.HttpsProxyAgent=t.default,p.prototype=t.default.prototype})(a||(a={})),dist=a,dist}var hasRequiredAgents;function requireAgents(){return hasRequiredAgents||(hasRequiredAgents=1,(function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0}),e.getAgent=e.pool=void 0;const a=require$$1$3,p=require$$1$3,g=require$$1$3;e.pool=new Map;function m(l){const o=t.NO_PROXY||t.no_proxy;if(!o)return!0;const s=new URL(l);for(const h of o.split(",")){const v=h.trim();if(v===s.origin||v===s.hostname)return!1;if(v.startsWith("*.")||v.startsWith(".")){const b=v.replace(/^\*\./,".");if(s.hostname.endsWith(b))return!1}}return!0}function c(l,o){const s=l.startsWith("http://"),h=o.proxy||t.HTTP_PROXY||t.http_proxy||t.HTTPS_PROXY||t.https_proxy,v=Object.assign({},o.pool),y=!!o.proxy||m(l);if(h&&y){const w=s?requireDist$1():requireDist(),I={...(0,g.parse)(h),...v};return new w(I)}let O=s?"http":"https";if(o.forever&&(O+=":forever",!e.pool.has(O))){const w=s?a.Agent:p.Agent;e.pool.set(O,new w({...v,keepAlive:!0}))}return e.pool.get(O)}e.getAgent=c})(agents)),agents}var TeenyStatistics={},hasRequiredTeenyStatistics;function requireTeenyStatistics(){if(hasRequiredTeenyStatistics)return TeenyStatistics;hasRequiredTeenyStatistics=1;var e={};Object.defineProperty(TeenyStatistics,"__esModule",{value:!0}),TeenyStatistics.TeenyStatistics=TeenyStatistics.TeenyStatisticsWarning=void 0;class t extends Error{constructor(g){super(g),this.threshold=0,this.type="",this.value=0,this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}TeenyStatistics.TeenyStatisticsWarning=t,t.CONCURRENT_REQUESTS="ConcurrentRequestsExceededWarning";let a=class es{constructor(g){this._concurrentRequests=0,this._didConcurrentRequestWarn=!1,this._options=es._prepareOptions(g)}getOptions(){return Object.assign({},this._options)}setOptions(g){const m=this._options;return this._options=es._prepareOptions(g),m}get counters(){return{concurrentRequests:this._concurrentRequests}}requestStarting(){if(this._concurrentRequests++,this._options.concurrentRequests>0&&this._concurrentRequests>=this._options.concurrentRequests&&!this._didConcurrentRequestWarn){this._didConcurrentRequestWarn=!0;const g=new t("Possible excessive concurrent requests detected. "+this._concurrentRequests+" requests in-flight, which exceeds the configured threshold of "+this._options.concurrentRequests+". Use the TEENY_REQUEST_WARN_CONCURRENT_REQUESTS environment variable or the concurrentRequests option of teeny-request to increase or disable (0) this warning.");g.type=t.CONCURRENT_REQUESTS,g.value=this._concurrentRequests,g.threshold=this._options.concurrentRequests,process.emitWarning(g)}}requestFinished(){this._concurrentRequests--}static _prepareOptions({concurrentRequests:g}={}){let m=this.DEFAULT_WARN_CONCURRENT_REQUESTS;const c=Number(e.TEENY_REQUEST_WARN_CONCURRENT_REQUESTS);return g!==void 0?m=g:Number.isNaN(c)||(m=c),{concurrentRequests:m}}};return TeenyStatistics.TeenyStatistics=a,a.DEFAULT_WARN_CONCURRENT_REQUESTS=5e3,TeenyStatistics}var stubs,hasRequiredStubs;function requireStubs(){return hasRequiredStubs||(hasRequiredStubs=1,stubs=function(t,a,p,g){if(!t||!a||!t[a])throw new Error("You must provide an object and a key for an existing method");g||(g=p,p={}),g=g||function(){},p.callthrough=p.callthrough||!1,p.calls=p.calls||0;var m=p.calls===0,c=t[a].bind(t);t[a]=function(){var l=[].slice.call(arguments),o;return p.callthrough&&(o=c.apply(t,l)),o=g.apply(t,l)||o,!m&&--p.calls===0&&(t[a]=c),o}}),stubs}var streamEvents,hasRequiredStreamEvents;function requireStreamEvents(){if(hasRequiredStreamEvents)return streamEvents;hasRequiredStreamEvents=1;var e=requireStubs();function t(a){a=a||this;var p={callthrough:!0,calls:1};return e(a,"_read",p,a.emit.bind(a,"reading")),e(a,"_write",p,a.emit.bind(a,"writing")),a}return streamEvents=t,streamEvents}var hasRequiredSrc$6;function requireSrc$6(){if(hasRequiredSrc$6)return src$7;hasRequiredSrc$6=1;Object.defineProperty(src$7,"__esModule",{value:!0}),src$7.teenyRequest=src$7.RequestError=void 0;const e=requireBrowser$3(),t=require$$1$3,a=requireCommonjsBrowser$1(),p=requireAgents(),g=requireTeenyStatistics(),m=requireStreamEvents();class c extends Error{}src$7.RequestError=c;function l(v){const b={method:v.method||"GET",...v.timeout&&{timeout:v.timeout},...typeof v.gzip=="boolean"&&{compress:v.gzip}};typeof v.json=="object"?(v.headers=v.headers||{},v.headers["Content-Type"]="application/json",b.body=JSON.stringify(v.json)):Buffer.isBuffer(v.body)?b.body=v.body:typeof v.body!="string"?b.body=JSON.stringify(v.body):b.body=v.body,b.headers=v.headers;let y=v.uri||v.url;if(!y)throw new Error("Missing uri or url in reqOpts.");if(v.useQuerystring===!0||typeof v.qs=="object"){const w=require$$1$3.stringify(v.qs);y=y+"?"+w}return b.agent=(0,p.getAgent)(y,v),{uri:y,options:b}}function o(v,b){const y={};y.agent=v.agent||!1,y.headers=v.headers||{},y.href=b.url;const O={};return b.headers.forEach((I,_)=>O[_]=I),Object.assign(b.body,{statusCode:b.status,statusMessage:b.statusText,request:y,body:b.body,headers:O,toJSON:()=>({headers:O})})}function s(v,b){const y=`--${v}--`,O=new t.PassThrough;for(const w of b){const I=`--${v}\r
Content-Type: ${w["Content-Type"]}\r
\r
`;O.write(I),typeof w.body=="string"?(O.write(w.body),O.write(`\r
`)):(w.body.pipe(O,{end:!1}),w.body.on("end",()=>{O.write(`\r
`),O.write(y),O.end()}))}return O}function h(v,b){const{uri:y,options:O}=l(v),w=v.multipart;if(v.multipart&&w.length===2){if(!b)throw new Error("Multipart without callback is not implemented.");const I=a.v4();O.headers["Content-Type"]=`multipart/related; boundary=${I}`,O.body=s(I,w),h.stats.requestStarting(),(0,e.default)(y,O).then(_=>{h.stats.requestFinished();const T=_.headers.get("content-type"),C=o(O,_),N=C.body;if(T==="application/json"||T==="application/json; charset=utf-8"){_.json().then(L=>{C.body=L,b(null,C,L)},L=>{b(L,C,N)});return}_.text().then(L=>{C.body=L,b(null,C,L)},L=>{b(L,C,N)})},_=>{h.stats.requestFinished(),b(_,null,null)});return}if(b===void 0){const I=m(new t.PassThrough);let _;return I.once("reading",()=>{_?(0,t.pipeline)(_,I,()=>{}):I.once("response",()=>{(0,t.pipeline)(_,I,()=>{})})}),O.compress=!1,h.stats.requestStarting(),(0,e.default)(y,O).then(T=>{h.stats.requestFinished(),_=T.body,_.on("error",N=>{I.emit("error",N)});const C=o(O,T);I.emit("response",C)},T=>{h.stats.requestFinished(),I.emit("error",T)}),I}h.stats.requestStarting(),(0,e.default)(y,O).then(I=>{h.stats.requestFinished();const _=I.headers.get("content-type"),T=o(O,I),C=T.body;if(_==="application/json"||_==="application/json; charset=utf-8"){if(T.statusCode===204){b(null,T,C);return}I.json().then(N=>{T.body=N,b(null,T,N)},N=>{b(N,T,C)});return}I.text().then(N=>{const L=o(O,I);L.body=N,b(null,L,N)},N=>{b(N,T,C)})},I=>{h.stats.requestFinished(),b(I,null,null)})}return src$7.teenyRequest=h,h.defaults=v=>(b,y)=>{const O={...v,...b};if(y===void 0)return h(O);h(O,y)},h.stats=new g.TeenyStatistics,h.resetStats=()=>{h.stats=new g.TeenyStatistics(h.stats.getOptions())},src$7}var util$5={},packageJsonHelper={};const name$1="@google-cloud/storage",description="Cloud Storage Client Library for Node.js",version$3="7.17.0",license="Apache-2.0",author="Google Inc.",engines={node:">=14"},repository="googleapis/nodejs-storage",main="./build/cjs/src/index.js",types$3="./build/cjs/src/index.d.ts",type$1="module",exports$1={".":{import:{types:"./build/esm/src/index.d.ts",default:"./build/esm/src/index.js"},require:{types:"./build/cjs/src/index.d.ts",default:"./build/cjs/src/index.js"}}},files=["build/cjs/src","build/cjs/package.json","!build/cjs/src/**/*.map","build/esm/src","!build/esm/src/**/*.map"],keywords=["google apis client","google api client","google apis","google api","google","google cloud platform","google cloud","cloud","google storage","storage"],scripts={"all-test":"npm test && npm run system-test && npm run samples-test",benchwrapper:"node bin/benchwrapper.js",check:"gts check",clean:"rm -rf build/","compile:cjs":"tsc -p ./tsconfig.cjs.json","compile:esm":"tsc -p .",compile:"npm run compile:cjs && npm run compile:esm","conformance-test":"mocha --parallel build/cjs/conformance-test/ --require build/cjs/conformance-test/globalHooks.js","docs-test":"linkinator docs",docs:"jsdoc -c .jsdoc.json",fix:"gts fix",lint:"gts check",postcompile:"cp ./src/package-json-helper.cjs ./build/cjs/src && cp ./src/package-json-helper.cjs ./build/esm/src","postcompile:cjs":"babel --plugins gapic-tools/build/src/replaceImportMetaUrl,gapic-tools/build/src/toggleESMFlagVariable build/cjs/src/util.js -o build/cjs/src/util.js && cp internal-tooling/helpers/package.cjs.json build/cjs/package.json",precompile:"rm -rf build/","preconformance-test":"npm run compile:cjs -- --sourceMap","predocs-test":"npm run docs",predocs:"npm run compile:cjs -- --sourceMap",prelint:"cd samples; npm link ../; npm install",prepare:"npm run compile","presystem-test:esm":"npm run compile:esm","presystem-test":"npm run compile -- --sourceMap",pretest:"npm run compile -- --sourceMap","samples-test":"npm link && cd samples/ && npm link ../ && npm test && cd ../","system-test:esm":"mocha build/esm/system-test --timeout 600000 --exit","system-test":"mocha build/cjs/system-test --timeout 600000 --exit",test:"c8 mocha build/cjs/test"},dependencies={"@google-cloud/paginator":"^5.0.0","@google-cloud/projectify":"^4.0.0","@google-cloud/promisify":"<4.1.0","abort-controller":"^3.0.0","async-retry":"^1.3.3",duplexify:"^4.1.3","fast-xml-parser":"^4.4.1",gaxios:"^6.0.2","google-auth-library":"^9.6.3","html-entities":"^2.5.2",mime:"^3.0.0","p-limit":"^3.0.1","retry-request":"^7.0.0","teeny-request":"^9.0.0",uuid:"^8.0.0"},devDependencies={"@babel/cli":"^7.22.10","@babel/core":"^7.22.11","@google-cloud/pubsub":"^4.0.0","@grpc/grpc-js":"^1.0.3","@grpc/proto-loader":"^0.8.0","@types/async-retry":"^1.4.3","@types/duplexify":"^3.6.4","@types/mime":"^3.0.0","@types/mocha":"^9.1.1","@types/mockery":"^1.4.29","@types/node":"^22.0.0","@types/node-fetch":"^2.1.3","@types/proxyquire":"^1.3.28","@types/request":"^2.48.4","@types/sinon":"^17.0.0","@types/tmp":"0.2.6","@types/uuid":"^8.0.0","@types/yargs":"^17.0.10",c8:"^9.0.0","form-data":"^4.0.4","gapic-tools":"^0.4.0",gts:"^5.0.0",jsdoc:"^4.0.4","jsdoc-fresh":"^4.0.0","jsdoc-region-tag":"^3.0.0",linkinator:"^3.0.0",mocha:"^9.2.2",mockery:"^2.1.0",nock:"~13.5.0","node-fetch":"^2.6.7","pack-n-play":"^2.0.0",proxyquire:"^2.1.3",sinon:"^18.0.0",nise:"6.0.0","path-to-regexp":"6.3.0",tmp:"^0.2.0",typescript:"^5.1.6",yargs:"^17.3.1"},require$$0$2={name:name$1,description,version:version$3,license,author,engines,repository,main,types:types$3,type:type$1,exports:exports$1,files,keywords,scripts,dependencies,devDependencies};var hasRequiredPackageJsonHelper;function requirePackageJsonHelper(){if(hasRequiredPackageJsonHelper)return packageJsonHelper;hasRequiredPackageJsonHelper=1;function e(){return require$$0$2}return packageJsonHelper.getPackageJSON=e,packageJsonHelper}var hasRequiredUtil$6;function requireUtil$6(){if(hasRequiredUtil$6)return util$5;hasRequiredUtil$6=1;var e=util$5&&util$5.__createBinding||(Object.create?function(L,D,j,k){k===void 0&&(k=j);var V=Object.getOwnPropertyDescriptor(D,j);(!V||("get"in V?!D.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return D[j]}}),Object.defineProperty(L,k,V)}:function(L,D,j,k){k===void 0&&(k=j),L[k]=D[j]}),t=util$5&&util$5.__setModuleDefault||(Object.create?function(L,D){Object.defineProperty(L,"default",{enumerable:!0,value:D})}:function(L,D){L.default=D}),a=util$5&&util$5.__importStar||(function(){var L=function(D){return L=Object.getOwnPropertyNames||function(j){var k=[];for(var V in j)Object.prototype.hasOwnProperty.call(j,V)&&(k[k.length]=V);return k},L(D)};return function(D){if(D&&D.__esModule)return D;var j={};if(D!=null)for(var k=L(D),V=0;V<k.length;V++)k[V]!=="default"&&e(j,D,k[V]);return t(j,D),j}})();Object.defineProperty(util$5,"__esModule",{value:!0}),util$5.PassThroughShim=void 0,util$5.normalize=l,util$5.objectEntries=o,util$5.fixedEncodeURIComponent=s,util$5.encodeURI=h,util$5.qsStringify=v,util$5.objectKeyToLowercase=b,util$5.unicodeJSONStringify=y,util$5.convertObjKeysToSnakeCase=O,util$5.formatAsUTCISO=w,util$5.getRuntimeTrackingString=I,util$5.getUserAgentString=_,util$5.getDirName=T,util$5.getModuleFormat=C,a(require$$1$3);const p=a(require$$1$3),g=require$$1$3,m=a(require$$1$3),c=requirePackageJsonHelper();m.fileURLToPath;function l(L,D){return{options:typeof L=="object"?L:{},callback:typeof L=="function"?L:D}}function o(L){return Object.keys(L).map(D=>[D,L[D]])}function s(L){return encodeURIComponent(L).replace(/[!'()*]/g,D=>"%"+D.charCodeAt(0).toString(16).toUpperCase())}function h(L,D){return L.split("/").map(s).join(D?"%2F":"/")}function v(L){return p.stringify(L,"&","=",{encodeURIComponent:D=>h(D,!0)})}function b(L){const D={};for(let j of Object.keys(L)){const k=L[j];j=j.toLowerCase(),D[j]=k}return D}function y(L){return JSON.stringify(L).replace(/[\u0080-\uFFFF]/g,D=>"\\u"+("0000"+D.charCodeAt(0).toString(16)).slice(-4))}function O(L){return L instanceof Date||L instanceof RegExp?L:Array.isArray(L)?L.map(O):L instanceof Object?Object.keys(L).reduce((D,j)=>{const k=j[0].toLocaleLowerCase()+j.slice(1).replace(/([A-Z]+)/g,(V,G)=>`_${G.toLowerCase()}`);return D[k]=O(L[j]),D},Object()):L}function w(L,D=!1,j="",k=""){const V=L.getUTCFullYear(),G=L.getUTCMonth()+1,J=L.getUTCDate(),W=L.getUTCHours(),K=L.getUTCMinutes(),X=L.getUTCSeconds();let Y=`${V.toString().padStart(4,"0")}${j}${G.toString().padStart(2,"0")}${j}${J.toString().padStart(2,"0")}`;return D&&(Y=`${Y}T${W.toString().padStart(2,"0")}${k}${K.toString().padStart(2,"0")}${k}${X.toString().padStart(2,"0")}Z`),Y}function I(){return globalThis.Deno&&globalThis.Deno.version&&globalThis.Deno.version.deno?`gl-deno/${globalThis.Deno.version.deno}`:`gl-node/${process.versions.node}`}function _(){const L=(0,c.getPackageJSON)();return L.name.replace("@google-cloud","gcloud-node").replace("/","-")+"/"+L.version}function T(){let L="";try{L=__dirname}catch{L=__dirname}return L}function C(){return"CJS"}class N extends g.PassThrough{constructor(){super(...arguments),this.shouldEmitReading=!0,this.shouldEmitWriting=!0}_read(D){this.shouldEmitReading&&(this.emit("reading"),this.shouldEmitReading=!1),super._read(D)}_write(D,j,k){this.shouldEmitWriting&&(this.emit("writing"),this.shouldEmitWriting=!1),process.nextTick(()=>{super._write(D,j,k)})}_final(D){this.shouldEmitReading&&(this.emit("reading"),this.shouldEmitReading=!1),this.shouldEmitWriting&&(this.emit("writing"),this.shouldEmitWriting=!1),D(null)}}return util$5.PassThroughShim=N,util$5}var readableBrowser={exports:{}},streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=require$$1$3.EventEmitter),streamBrowser}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function e(O,w){var I=Object.keys(O);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(O);w&&(_=_.filter(function(T){return Object.getOwnPropertyDescriptor(O,T).enumerable})),I.push.apply(I,_)}return I}function t(O){for(var w=1;w<arguments.length;w++){var I=arguments[w]!=null?arguments[w]:{};w%2?e(Object(I),!0).forEach(function(_){a(O,_,I[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(I)):e(Object(I)).forEach(function(_){Object.defineProperty(O,_,Object.getOwnPropertyDescriptor(I,_))})}return O}function a(O,w,I){return w=c(w),w in O?Object.defineProperty(O,w,{value:I,enumerable:!0,configurable:!0,writable:!0}):O[w]=I,O}function p(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function g(O,w){for(var I=0;I<w.length;I++){var _=w[I];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,c(_.key),_)}}function m(O,w,I){return w&&g(O.prototype,w),Object.defineProperty(O,"prototype",{writable:!1}),O}function c(O){var w=l(O,"string");return typeof w=="symbol"?w:String(w)}function l(O,w){if(typeof O!="object"||O===null)return O;var I=O[Symbol.toPrimitive];if(I!==void 0){var _=I.call(O,w);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}var o=requireBuffer(),s=o.Buffer,h=require$$1$3,v=h.inspect,b=v&&v.custom||"inspect";function y(O,w,I){s.prototype.copy.call(O,w,I)}return buffer_list=(function(){function O(){p(this,O),this.head=null,this.tail=null,this.length=0}return m(O,[{key:"push",value:function(I){var _={data:I,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(I){var _={data:I,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var I=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,I}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(I){if(this.length===0)return"";for(var _=this.head,T=""+_.data;_=_.next;)T+=I+_.data;return T}},{key:"concat",value:function(I){if(this.length===0)return s.alloc(0);for(var _=s.allocUnsafe(I>>>0),T=this.head,C=0;T;)y(T.data,_,C),C+=T.data.length,T=T.next;return _}},{key:"consume",value:function(I,_){var T;return I<this.head.data.length?(T=this.head.data.slice(0,I),this.head.data=this.head.data.slice(I)):I===this.head.data.length?T=this.shift():T=_?this._getString(I):this._getBuffer(I),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(I){var _=this.head,T=1,C=_.data;for(I-=C.length;_=_.next;){var N=_.data,L=I>N.length?N.length:I;if(L===N.length?C+=N:C+=N.slice(0,I),I-=L,I===0){L===N.length?(++T,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=N.slice(L));break}++T}return this.length-=T,C}},{key:"_getBuffer",value:function(I){var _=s.allocUnsafe(I),T=this.head,C=1;for(T.data.copy(_),I-=T.data.length;T=T.next;){var N=T.data,L=I>N.length?N.length:I;if(N.copy(_,_.length-I,0,L),I-=L,I===0){L===N.length?(++C,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=N.slice(L));break}++C}return this.length-=C,_}},{key:b,value:function(I,_){return v(this,t(t({},_),{},{depth:0,customInspect:!1}))}}]),O})(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function e(c,l){var o=this,s=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return s||h?(l?l(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(g,this,c)):process.nextTick(g,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(v){!l&&v?o._writableState?o._writableState.errorEmitted?process.nextTick(a,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,v)):process.nextTick(t,o,v):l?(process.nextTick(a,o),l(v)):process.nextTick(a,o)}),this)}function t(c,l){g(c,l),a(c)}function a(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function p(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function g(c,l){c.emit("error",l)}function m(c,l){var o=c._readableState,s=c._writableState;o&&o.autoDestroy||s&&s.autoDestroy?c.destroy(l):c.emit("error",l)}return destroy_1={destroy:e,undestroy:p,errorOrDestroy:m},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function e(l,o){l.prototype=Object.create(o.prototype),l.prototype.constructor=l,l.__proto__=o}var t={};function a(l,o,s){s||(s=Error);function h(b,y,O){return typeof o=="string"?o:o(b,y,O)}var v=(function(b){e(y,b);function y(O,w,I){return b.call(this,h(O,w,I))||this}return y})(s);v.prototype.name=s.name,v.prototype.code=l,t[l]=v}function p(l,o){if(Array.isArray(l)){var s=l.length;return l=l.map(function(h){return String(h)}),s>2?"one of ".concat(o," ").concat(l.slice(0,s-1).join(", "),", or ")+l[s-1]:s===2?"one of ".concat(o," ").concat(l[0]," or ").concat(l[1]):"of ".concat(o," ").concat(l[0])}else return"of ".concat(o," ").concat(String(l))}function g(l,o,s){return l.substr(0,o.length)===o}function m(l,o,s){return(s===void 0||s>l.length)&&(s=l.length),l.substring(s-o.length,s)===o}function c(l,o,s){return typeof s!="number"&&(s=0),s+o.length>l.length?!1:l.indexOf(o,s)!==-1}return a("ERR_INVALID_OPT_VALUE",function(l,o){return'The value "'+o+'" is invalid for option "'+l+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(l,o,s){var h;typeof o=="string"&&g(o,"not ")?(h="must not be",o=o.replace(/^not /,"")):h="must be";var v;if(m(l," argument"))v="The ".concat(l," ").concat(h," ").concat(p(o,"type"));else{var b=c(l,".")?"property":"argument";v='The "'.concat(l,'" ').concat(b," ").concat(h," ").concat(p(o,"type"))}return v+=". Received type ".concat(typeof s),v},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=t,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var e=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function t(p,g,m){return p.highWaterMark!=null?p.highWaterMark:g?p[m]:null}function a(p,g,m,c){var l=t(g,c,m);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var o=c?m:"highWaterMark";throw new e(o,l)}return Math.floor(l)}return p.objectMode?16:16384}return state={getHighWaterMark:a},state}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(t,a){a&&(t.super_=a,t.prototype=Object.create(a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,a){if(a){t.super_=a;var p=function(){};p.prototype=a.prototype,t.prototype=new p,t.prototype.constructor=t}}),inherits_browser.exports}var browser$2,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$2;hasRequiredBrowser$1=1,browser$2=e;function e(a,p){if(t("noDeprecation"))return a;var g=!1;function m(){if(!g){if(t("throwDeprecation"))throw new Error(p);t("traceDeprecation")?console.trace(p):console.warn(p),g=!0}return a.apply(this,arguments)}return m}function t(a){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var p=commonjsGlobal.localStorage[a];return p==null?!1:String(p).toLowerCase()==="true"}return browser$2}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=k;function e(fe){var _e=this;this.next=null,this.entry=null,this.finish=function(){Oe(_e,fe)}}var t;k.WritableState=D;var a={deprecate:requireBrowser$1()},p=requireStreamBrowser(),g=requireBuffer().Buffer,m=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(fe){return g.from(fe)}function l(fe){return g.isBuffer(fe)||fe instanceof m}var o=requireDestroy(),s=requireState(),h=s.getHighWaterMark,v=requireErrorsBrowser().codes,b=v.ERR_INVALID_ARG_TYPE,y=v.ERR_METHOD_NOT_IMPLEMENTED,O=v.ERR_MULTIPLE_CALLBACK,w=v.ERR_STREAM_CANNOT_PIPE,I=v.ERR_STREAM_DESTROYED,_=v.ERR_STREAM_NULL_VALUES,T=v.ERR_STREAM_WRITE_AFTER_END,C=v.ERR_UNKNOWN_ENCODING,N=o.errorOrDestroy;requireInherits_browser()(k,p);function L(){}function D(fe,_e,Ee){t=t||require_stream_duplex(),fe=fe||{},typeof Ee!="boolean"&&(Ee=_e instanceof t),this.objectMode=!!fe.objectMode,Ee&&(this.objectMode=this.objectMode||!!fe.writableObjectMode),this.highWaterMark=h(this,fe,"writableHighWaterMark",Ee),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=fe.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=fe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(d){te(_e,d)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=fe.emitClose!==!1,this.autoDestroy=!!fe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}D.prototype.getBuffer=function(){for(var _e=this.bufferedRequest,Ee=[];_e;)Ee.push(_e),_e=_e.next;return Ee},(function(){try{Object.defineProperty(D.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var j;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(j=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(_e){return j.call(this,_e)?!0:this!==k?!1:_e&&_e._writableState instanceof D}})):j=function(_e){return _e instanceof this};function k(fe){t=t||require_stream_duplex();var _e=this instanceof t;if(!_e&&!j.call(k,this))return new k(fe);this._writableState=new D(fe,this,_e),this.writable=!0,fe&&(typeof fe.write=="function"&&(this._write=fe.write),typeof fe.writev=="function"&&(this._writev=fe.writev),typeof fe.destroy=="function"&&(this._destroy=fe.destroy),typeof fe.final=="function"&&(this._final=fe.final)),p.call(this)}k.prototype.pipe=function(){N(this,new w)};function V(fe,_e){var Ee=new T;N(fe,Ee),process.nextTick(_e,Ee)}function G(fe,_e,Ee,z){var d;return Ee===null?d=new _:typeof Ee!="string"&&!_e.objectMode&&(d=new b("chunk",["string","Buffer"],Ee)),d?(N(fe,d),process.nextTick(z,d),!1):!0}k.prototype.write=function(fe,_e,Ee){var z=this._writableState,d=!1,P=!z.objectMode&&l(fe);return P&&!g.isBuffer(fe)&&(fe=c(fe)),typeof _e=="function"&&(Ee=_e,_e=null),P?_e="buffer":_e||(_e=z.defaultEncoding),typeof Ee!="function"&&(Ee=L),z.ending?V(this,Ee):(P||G(this,z,fe,Ee))&&(z.pendingcb++,d=W(this,z,P,fe,_e,Ee)),d},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var fe=this._writableState;fe.corked&&(fe.corked--,!fe.writing&&!fe.corked&&!fe.bufferProcessing&&fe.bufferedRequest&&ee(this,fe))},k.prototype.setDefaultEncoding=function(_e){if(typeof _e=="string"&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new C(_e);return this._writableState.defaultEncoding=_e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function J(fe,_e,Ee){return!fe.objectMode&&fe.decodeStrings!==!1&&typeof _e=="string"&&(_e=g.from(_e,Ee)),_e}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function W(fe,_e,Ee,z,d,P){if(!Ee){var A=J(_e,z,d);z!==A&&(Ee=!0,d="buffer",z=A)}var $=_e.objectMode?1:z.length;_e.length+=$;var ie=_e.length<_e.highWaterMark;if(ie||(_e.needDrain=!0),_e.writing||_e.corked){var pe=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:z,encoding:d,isBuf:Ee,callback:P,next:null},pe?pe.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else K(fe,_e,!1,$,z,d,P);return ie}function K(fe,_e,Ee,z,d,P,A){_e.writelen=z,_e.writecb=A,_e.writing=!0,_e.sync=!0,_e.destroyed?_e.onwrite(new I("write")):Ee?fe._writev(d,_e.onwrite):fe._write(d,P,_e.onwrite),_e.sync=!1}function X(fe,_e,Ee,z,d){--_e.pendingcb,Ee?(process.nextTick(d,z),process.nextTick(ge,fe,_e),fe._writableState.errorEmitted=!0,N(fe,z)):(d(z),fe._writableState.errorEmitted=!0,N(fe,z),ge(fe,_e))}function Y(fe){fe.writing=!1,fe.writecb=null,fe.length-=fe.writelen,fe.writelen=0}function te(fe,_e){var Ee=fe._writableState,z=Ee.sync,d=Ee.writecb;if(typeof d!="function")throw new O;if(Y(Ee),_e)X(fe,Ee,z,_e,d);else{var P=se(Ee)||fe.destroyed;!P&&!Ee.corked&&!Ee.bufferProcessing&&Ee.bufferedRequest&&ee(fe,Ee),z?process.nextTick(oe,fe,Ee,P,d):oe(fe,Ee,P,d)}}function oe(fe,_e,Ee,z){Ee||le(fe,_e),_e.pendingcb--,z(),ge(fe,_e)}function le(fe,_e){_e.length===0&&_e.needDrain&&(_e.needDrain=!1,fe.emit("drain"))}function ee(fe,_e){_e.bufferProcessing=!0;var Ee=_e.bufferedRequest;if(fe._writev&&Ee&&Ee.next){var z=_e.bufferedRequestCount,d=new Array(z),P=_e.corkedRequestsFree;P.entry=Ee;for(var A=0,$=!0;Ee;)d[A]=Ee,Ee.isBuf||($=!1),Ee=Ee.next,A+=1;d.allBuffers=$,K(fe,_e,!0,_e.length,d,"",P.finish),_e.pendingcb++,_e.lastBufferedRequest=null,P.next?(_e.corkedRequestsFree=P.next,P.next=null):_e.corkedRequestsFree=new e(_e),_e.bufferedRequestCount=0}else{for(;Ee;){var ie=Ee.chunk,pe=Ee.encoding,ne=Ee.callback,u=_e.objectMode?1:ie.length;if(K(fe,_e,!1,u,ie,pe,ne),Ee=Ee.next,_e.bufferedRequestCount--,_e.writing)break}Ee===null&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=Ee,_e.bufferProcessing=!1}k.prototype._write=function(fe,_e,Ee){Ee(new y("_write()"))},k.prototype._writev=null,k.prototype.end=function(fe,_e,Ee){var z=this._writableState;return typeof fe=="function"?(Ee=fe,fe=null,_e=null):typeof _e=="function"&&(Ee=_e,_e=null),fe!=null&&this.write(fe,_e),z.corked&&(z.corked=1,this.uncork()),z.ending||me(this,z,Ee),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function se(fe){return fe.ending&&fe.length===0&&fe.bufferedRequest===null&&!fe.finished&&!fe.writing}function de(fe,_e){fe._final(function(Ee){_e.pendingcb--,Ee&&N(fe,Ee),_e.prefinished=!0,fe.emit("prefinish"),ge(fe,_e)})}function he(fe,_e){!_e.prefinished&&!_e.finalCalled&&(typeof fe._final=="function"&&!_e.destroyed?(_e.pendingcb++,_e.finalCalled=!0,process.nextTick(de,fe,_e)):(_e.prefinished=!0,fe.emit("prefinish")))}function ge(fe,_e){var Ee=se(_e);if(Ee&&(he(fe,_e),_e.pendingcb===0&&(_e.finished=!0,fe.emit("finish"),_e.autoDestroy))){var z=fe._readableState;(!z||z.autoDestroy&&z.endEmitted)&&fe.destroy()}return Ee}function me(fe,_e,Ee){_e.ending=!0,ge(fe,_e),Ee&&(_e.finished?process.nextTick(Ee):fe.once("finish",Ee)),_e.ended=!0,fe.writable=!1}function Oe(fe,_e,Ee){var z=fe.entry;for(fe.entry=null;z;){var d=z.callback;_e.pendingcb--,d(Ee),z=z.next}_e.corkedRequestsFree.next=fe}return Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_e){this._writableState&&(this._writableState.destroyed=_e)}}),k.prototype.destroy=o.destroy,k.prototype._undestroy=o.undestroy,k.prototype._destroy=function(fe,_e){_e(fe)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var e=Object.keys||function(s){var h=[];for(var v in s)h.push(v);return h};_stream_duplex=c;var t=require_stream_readable(),a=require_stream_writable();requireInherits_browser()(c,t);for(var p=e(a.prototype),g=0;g<p.length;g++){var m=p[g];c.prototype[m]||(c.prototype[m]=a.prototype[m])}function c(s){if(!(this instanceof c))return new c(s);t.call(this,s),a.call(this,s),this.allowHalfOpen=!0,s&&(s.readable===!1&&(this.readable=!1),s.writable===!1&&(this.writable=!1),s.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||process.nextTick(o,this)}function o(s){s.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),_stream_duplex}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var e=requireSafeBuffer().Buffer,t=e.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(_){if(!_)return"utf8";for(var T;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(T)return;_=(""+_).toLowerCase(),T=!0}}function p(_){var T=a(_);if(typeof T!="string"&&(e.isEncoding===t||!t(_)))throw new Error("Unknown encoding: "+_);return T||_}string_decoder.StringDecoder=g;function g(_){this.encoding=p(_);var T;switch(this.encoding){case"utf16le":this.text=v,this.end=b,T=4;break;case"utf8":this.fillLast=o,T=4;break;case"base64":this.text=y,this.end=O,T=3;break;default:this.write=w,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(T)}g.prototype.write=function(_){if(_.length===0)return"";var T,C;if(this.lastNeed){if(T=this.fillLast(_),T===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<_.length?T?T+this.text(_,C):this.text(_,C):T||""},g.prototype.end=h,g.prototype.text=s,g.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function m(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function c(_,T,C){var N=T.length-1;if(N<C)return 0;var L=m(T[N]);return L>=0?(L>0&&(_.lastNeed=L-1),L):--N<C||L===-2?0:(L=m(T[N]),L>=0?(L>0&&(_.lastNeed=L-2),L):--N<C||L===-2?0:(L=m(T[N]),L>=0?(L>0&&(L===2?L=0:_.lastNeed=L-3),L):0))}function l(_,T,C){if((T[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&T.length>1){if((T[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&T.length>2&&(T[2]&192)!==128)return _.lastNeed=2,""}}function o(_){var T=this.lastTotal-this.lastNeed,C=l(this,_);if(C!==void 0)return C;if(this.lastNeed<=_.length)return _.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,T,0,_.length),this.lastNeed-=_.length}function s(_,T){var C=c(this,_,T);if(!this.lastNeed)return _.toString("utf8",T);this.lastTotal=C;var N=_.length-(C-this.lastNeed);return _.copy(this.lastChar,0,N),_.toString("utf8",T,N)}function h(_){var T=_&&_.length?this.write(_):"";return this.lastNeed?T+"":T}function v(_,T){if((_.length-T)%2===0){var C=_.toString("utf16le",T);if(C){var N=C.charCodeAt(C.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",T,_.length-1)}function b(_){var T=_&&_.length?this.write(_):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,C)}return T}function y(_,T){var C=(_.length-T)%3;return C===0?_.toString("base64",T):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",T,_.length-C))}function O(_){var T=_&&_.length?this.write(_):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function w(_){return _.toString(this.encoding)}function I(_){return _&&_.length?this.write(_):""}return string_decoder}var endOfStream$1,hasRequiredEndOfStream$1;function requireEndOfStream$1(){if(hasRequiredEndOfStream$1)return endOfStream$1;hasRequiredEndOfStream$1=1;var e=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function t(m){var c=!1;return function(){if(!c){c=!0;for(var l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];m.apply(this,o)}}}function a(){}function p(m){return m.setHeader&&typeof m.abort=="function"}function g(m,c,l){if(typeof c=="function")return g(m,null,c);c||(c={}),l=t(l||a);var o=c.readable||c.readable!==!1&&m.readable,s=c.writable||c.writable!==!1&&m.writable,h=function(){m.writable||b()},v=m._writableState&&m._writableState.finished,b=function(){s=!1,v=!0,o||l.call(m)},y=m._readableState&&m._readableState.endEmitted,O=function(){o=!1,y=!0,s||l.call(m)},w=function(C){l.call(m,C)},I=function(){var C;if(o&&!y)return(!m._readableState||!m._readableState.ended)&&(C=new e),l.call(m,C);if(s&&!v)return(!m._writableState||!m._writableState.ended)&&(C=new e),l.call(m,C)},_=function(){m.req.on("finish",b)};return p(m)?(m.on("complete",b),m.on("abort",I),m.req?_():m.on("request",_)):s&&!m._writableState&&(m.on("end",h),m.on("close",h)),m.on("end",O),m.on("finish",b),c.error!==!1&&m.on("error",w),m.on("close",I),function(){m.removeListener("complete",b),m.removeListener("abort",I),m.removeListener("request",_),m.req&&m.req.removeListener("finish",b),m.removeListener("end",h),m.removeListener("close",h),m.removeListener("finish",b),m.removeListener("end",O),m.removeListener("error",w),m.removeListener("close",I)}}return endOfStream$1=g,endOfStream$1}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var e;function t(C,N,L){return N=a(N),N in C?Object.defineProperty(C,N,{value:L,enumerable:!0,configurable:!0,writable:!0}):C[N]=L,C}function a(C){var N=p(C,"string");return typeof N=="symbol"?N:String(N)}function p(C,N){if(typeof C!="object"||C===null)return C;var L=C[Symbol.toPrimitive];if(L!==void 0){var D=L.call(C,N);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(C)}var g=requireEndOfStream$1(),m=Symbol("lastResolve"),c=Symbol("lastReject"),l=Symbol("error"),o=Symbol("ended"),s=Symbol("lastPromise"),h=Symbol("handlePromise"),v=Symbol("stream");function b(C,N){return{value:C,done:N}}function y(C){var N=C[m];if(N!==null){var L=C[v].read();L!==null&&(C[s]=null,C[m]=null,C[c]=null,N(b(L,!1)))}}function O(C){process.nextTick(y,C)}function w(C,N){return function(L,D){C.then(function(){if(N[o]){L(b(void 0,!0));return}N[h](L,D)},D)}}var I=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((e={get stream(){return this[v]},next:function(){var N=this,L=this[l];if(L!==null)return Promise.reject(L);if(this[o])return Promise.resolve(b(void 0,!0));if(this[v].destroyed)return new Promise(function(V,G){process.nextTick(function(){N[l]?G(N[l]):V(b(void 0,!0))})});var D=this[s],j;if(D)j=new Promise(w(D,this));else{var k=this[v].read();if(k!==null)return Promise.resolve(b(k,!1));j=new Promise(this[h])}return this[s]=j,j}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var N=this;return new Promise(function(L,D){N[v].destroy(null,function(j){if(j){D(j);return}L(b(void 0,!0))})})}),e),I),T=function(N){var L,D=Object.create(_,(L={},t(L,v,{value:N,writable:!0}),t(L,m,{value:null,writable:!0}),t(L,c,{value:null,writable:!0}),t(L,l,{value:null,writable:!0}),t(L,o,{value:N._readableState.endEmitted,writable:!0}),t(L,h,{value:function(k,V){var G=D[v].read();G?(D[s]=null,D[m]=null,D[c]=null,k(b(G,!1))):(D[m]=k,D[c]=V)},writable:!0}),L));return D[s]=null,g(N,function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=D[c];k!==null&&(D[s]=null,D[m]=null,D[c]=null,k(j)),D[l]=j;return}var V=D[m];V!==null&&(D[s]=null,D[m]=null,D[c]=null,V(b(void 0,!0))),D[o]=!0}),N.on("readable",O.bind(null,D)),D};return async_iterator=T,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=V;var e;V.ReadableState=k,require$$1$3.EventEmitter;var t=function(A,$){return A.listeners($).length},a=requireStreamBrowser(),p=requireBuffer().Buffer,g=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function m(P){return p.from(P)}function c(P){return p.isBuffer(P)||P instanceof g}var l=require$$1$3,o;l&&l.debuglog?o=l.debuglog("stream"):o=function(){};var s=requireBuffer_list(),h=requireDestroy(),v=requireState(),b=v.getHighWaterMark,y=requireErrorsBrowser().codes,O=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,I=y.ERR_METHOD_NOT_IMPLEMENTED,_=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,T,C,N;requireInherits_browser()(V,a);var L=h.errorOrDestroy,D=["error","close","destroy","pause","resume"];function j(P,A,$){if(typeof P.prependListener=="function")return P.prependListener(A,$);!P._events||!P._events[A]?P.on(A,$):Array.isArray(P._events[A])?P._events[A].unshift($):P._events[A]=[$,P._events[A]]}function k(P,A,$){e=e||require_stream_duplex(),P=P||{},typeof $!="boolean"&&($=A instanceof e),this.objectMode=!!P.objectMode,$&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=b(this,P,"readableHighWaterMark",$),this.buffer=new s,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(T||(T=requireString_decoder().StringDecoder),this.decoder=new T(P.encoding),this.encoding=P.encoding)}function V(P){if(e=e||require_stream_duplex(),!(this instanceof V))return new V(P);var A=this instanceof e;this._readableState=new k(P,this,A),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),a.call(this)}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(A){this._readableState&&(this._readableState.destroyed=A)}}),V.prototype.destroy=h.destroy,V.prototype._undestroy=h.undestroy,V.prototype._destroy=function(P,A){A(P)},V.prototype.push=function(P,A){var $=this._readableState,ie;return $.objectMode?ie=!0:typeof P=="string"&&(A=A||$.defaultEncoding,A!==$.encoding&&(P=p.from(P,A),A=""),ie=!0),G(this,P,A,!1,ie)},V.prototype.unshift=function(P){return G(this,P,null,!0,!1)};function G(P,A,$,ie,pe){o("readableAddChunk",A);var ne=P._readableState;if(A===null)ne.reading=!1,te(P,ne);else{var u;if(pe||(u=W(ne,A)),u)L(P,u);else if(ne.objectMode||A&&A.length>0)if(typeof A!="string"&&!ne.objectMode&&Object.getPrototypeOf(A)!==p.prototype&&(A=m(A)),ie)ne.endEmitted?L(P,new _):J(P,ne,A,!0);else if(ne.ended)L(P,new w);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!$?(A=ne.decoder.write(A),ne.objectMode||A.length!==0?J(P,ne,A,!1):ee(P,ne)):J(P,ne,A,!1)}else ie||(ne.reading=!1,ee(P,ne))}return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function J(P,A,$,ie){A.flowing&&A.length===0&&!A.sync?(A.awaitDrain=0,P.emit("data",$)):(A.length+=A.objectMode?1:$.length,ie?A.buffer.unshift($):A.buffer.push($),A.needReadable&&oe(P)),ee(P,A)}function W(P,A){var $;return!c(A)&&typeof A!="string"&&A!==void 0&&!P.objectMode&&($=new O("chunk",["string","Buffer","Uint8Array"],A)),$}V.prototype.isPaused=function(){return this._readableState.flowing===!1},V.prototype.setEncoding=function(P){T||(T=requireString_decoder().StringDecoder);var A=new T(P);this._readableState.decoder=A,this._readableState.encoding=this._readableState.decoder.encoding;for(var $=this._readableState.buffer.head,ie="";$!==null;)ie+=A.write($.data),$=$.next;return this._readableState.buffer.clear(),ie!==""&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};var K=1073741824;function X(P){return P>=K?P=K:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function Y(P,A){return P<=0||A.length===0&&A.ended?0:A.objectMode?1:P!==P?A.flowing&&A.length?A.buffer.head.data.length:A.length:(P>A.highWaterMark&&(A.highWaterMark=X(P)),P<=A.length?P:A.ended?A.length:(A.needReadable=!0,0))}V.prototype.read=function(P){o("read",P),P=parseInt(P,10);var A=this._readableState,$=P;if(P!==0&&(A.emittedReadable=!1),P===0&&A.needReadable&&((A.highWaterMark!==0?A.length>=A.highWaterMark:A.length>0)||A.ended))return o("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?Ee(this):oe(this),null;if(P=Y(P,A),P===0&&A.ended)return A.length===0&&Ee(this),null;var ie=A.needReadable;o("need readable",ie),(A.length===0||A.length-P<A.highWaterMark)&&(ie=!0,o("length less than watermark",ie)),A.ended||A.reading?(ie=!1,o("reading or ended",ie)):ie&&(o("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(P=Y($,A)));var pe;return P>0?pe=_e(P,A):pe=null,pe===null?(A.needReadable=A.length<=A.highWaterMark,P=0):(A.length-=P,A.awaitDrain=0),A.length===0&&(A.ended||(A.needReadable=!0),$!==P&&A.ended&&Ee(this)),pe!==null&&this.emit("data",pe),pe};function te(P,A){if(o("onEofChunk"),!A.ended){if(A.decoder){var $=A.decoder.end();$&&$.length&&(A.buffer.push($),A.length+=A.objectMode?1:$.length)}A.ended=!0,A.sync?oe(P):(A.needReadable=!1,A.emittedReadable||(A.emittedReadable=!0,le(P)))}}function oe(P){var A=P._readableState;o("emitReadable",A.needReadable,A.emittedReadable),A.needReadable=!1,A.emittedReadable||(o("emitReadable",A.flowing),A.emittedReadable=!0,process.nextTick(le,P))}function le(P){var A=P._readableState;o("emitReadable_",A.destroyed,A.length,A.ended),!A.destroyed&&(A.length||A.ended)&&(P.emit("readable"),A.emittedReadable=!1),A.needReadable=!A.flowing&&!A.ended&&A.length<=A.highWaterMark,fe(P)}function ee(P,A){A.readingMore||(A.readingMore=!0,process.nextTick(se,P,A))}function se(P,A){for(;!A.reading&&!A.ended&&(A.length<A.highWaterMark||A.flowing&&A.length===0);){var $=A.length;if(o("maybeReadMore read 0"),P.read(0),$===A.length)break}A.readingMore=!1}V.prototype._read=function(P){L(this,new I("_read()"))},V.prototype.pipe=function(P,A){var $=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=P;break;case 1:ie.pipes=[ie.pipes,P];break;default:ie.pipes.push(P);break}ie.pipesCount+=1,o("pipe count=%d opts=%j",ie.pipesCount,A);var pe=(!A||A.end!==!1)&&P!==process.stdout&&P!==process.stderr,ne=pe?x:je;ie.endEmitted?process.nextTick(ne):$.once("end",ne),P.on("unpipe",u);function u(ke,ze){o("onunpipe"),ke===$&&ze&&ze.hasUnpiped===!1&&(ze.hasUnpiped=!0,q())}function x(){o("onend"),P.end()}var M=de($);P.on("drain",M);var n=!1;function q(){o("cleanup"),P.removeListener("close",ye),P.removeListener("finish",Ie),P.removeListener("drain",M),P.removeListener("error",Q),P.removeListener("unpipe",u),$.removeListener("end",x),$.removeListener("end",je),$.removeListener("data",U),n=!0,ie.awaitDrain&&(!P._writableState||P._writableState.needDrain)&&M()}$.on("data",U);function U(ke){o("ondata");var ze=P.write(ke);o("dest.write",ze),ze===!1&&((ie.pipesCount===1&&ie.pipes===P||ie.pipesCount>1&&d(ie.pipes,P)!==-1)&&!n&&(o("false write response, pause",ie.awaitDrain),ie.awaitDrain++),$.pause())}function Q(ke){o("onerror",ke),je(),P.removeListener("error",Q),t(P,"error")===0&&L(P,ke)}j(P,"error",Q);function ye(){P.removeListener("finish",Ie),je()}P.once("close",ye);function Ie(){o("onfinish"),P.removeListener("close",ye),je()}P.once("finish",Ie);function je(){o("unpipe"),$.unpipe(P)}return P.emit("pipe",$),ie.flowing||(o("pipe resume"),$.resume()),P};function de(P){return function(){var $=P._readableState;o("pipeOnDrain",$.awaitDrain),$.awaitDrain&&$.awaitDrain--,$.awaitDrain===0&&t(P,"data")&&($.flowing=!0,fe(P))}}V.prototype.unpipe=function(P){var A=this._readableState,$={hasUnpiped:!1};if(A.pipesCount===0)return this;if(A.pipesCount===1)return P&&P!==A.pipes?this:(P||(P=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,P&&P.emit("unpipe",this,$),this);if(!P){var ie=A.pipes,pe=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var ne=0;ne<pe;ne++)ie[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var u=d(A.pipes,P);return u===-1?this:(A.pipes.splice(u,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),P.emit("unpipe",this,$),this)},V.prototype.on=function(P,A){var $=a.prototype.on.call(this,P,A),ie=this._readableState;return P==="data"?(ie.readableListening=this.listenerCount("readable")>0,ie.flowing!==!1&&this.resume()):P==="readable"&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,o("on readable",ie.length,ie.reading),ie.length?oe(this):ie.reading||process.nextTick(ge,this)),$},V.prototype.addListener=V.prototype.on,V.prototype.removeListener=function(P,A){var $=a.prototype.removeListener.call(this,P,A);return P==="readable"&&process.nextTick(he,this),$},V.prototype.removeAllListeners=function(P){var A=a.prototype.removeAllListeners.apply(this,arguments);return(P==="readable"||P===void 0)&&process.nextTick(he,this),A};function he(P){var A=P._readableState;A.readableListening=P.listenerCount("readable")>0,A.resumeScheduled&&!A.paused?A.flowing=!0:P.listenerCount("data")>0&&P.resume()}function ge(P){o("readable nexttick read 0"),P.read(0)}V.prototype.resume=function(){var P=this._readableState;return P.flowing||(o("resume"),P.flowing=!P.readableListening,me(this,P)),P.paused=!1,this};function me(P,A){A.resumeScheduled||(A.resumeScheduled=!0,process.nextTick(Oe,P,A))}function Oe(P,A){o("resume",A.reading),A.reading||P.read(0),A.resumeScheduled=!1,P.emit("resume"),fe(P),A.flowing&&!A.reading&&P.read(0)}V.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function fe(P){var A=P._readableState;for(o("flow",A.flowing);A.flowing&&P.read()!==null;);}V.prototype.wrap=function(P){var A=this,$=this._readableState,ie=!1;P.on("end",function(){if(o("wrapped end"),$.decoder&&!$.ended){var u=$.decoder.end();u&&u.length&&A.push(u)}A.push(null)}),P.on("data",function(u){if(o("wrapped data"),$.decoder&&(u=$.decoder.write(u)),!($.objectMode&&u==null)&&!(!$.objectMode&&(!u||!u.length))){var x=A.push(u);x||(ie=!0,P.pause())}});for(var pe in P)this[pe]===void 0&&typeof P[pe]=="function"&&(this[pe]=(function(x){return function(){return P[x].apply(P,arguments)}})(pe));for(var ne=0;ne<D.length;ne++)P.on(D[ne],this.emit.bind(this,D[ne]));return this._read=function(u){o("wrapped _read",u),ie&&(ie=!1,P.resume())},this},typeof Symbol=="function"&&(V.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=requireAsync_iterator()),C(this)}),Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(V.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(V.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(A){this._readableState&&(this._readableState.flowing=A)}}),V._fromList=_e,Object.defineProperty(V.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _e(P,A){if(A.length===0)return null;var $;return A.objectMode?$=A.buffer.shift():!P||P>=A.length?(A.decoder?$=A.buffer.join(""):A.buffer.length===1?$=A.buffer.first():$=A.buffer.concat(A.length),A.buffer.clear()):$=A.buffer.consume(P,A.decoder),$}function Ee(P){var A=P._readableState;o("endReadable",A.endEmitted),A.endEmitted||(A.ended=!0,process.nextTick(z,A,P))}function z(P,A){if(o("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,A.readable=!1,A.emit("end"),P.autoDestroy)){var $=A._writableState;(!$||$.autoDestroy&&$.finished)&&A.destroy()}}typeof Symbol=="function"&&(V.from=function(P,A){return N===void 0&&(N=requireFromBrowser()),N(V,P,A)});function d(P,A){for(var $=0,ie=P.length;$<ie;$++)if(P[$]===A)return $;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=l;var e=requireErrorsBrowser().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,a=e.ERR_MULTIPLE_CALLBACK,p=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,g=e.ERR_TRANSFORM_WITH_LENGTH_0,m=require_stream_duplex();requireInherits_browser()(l,m);function c(h,v){var b=this._transformState;b.transforming=!1;var y=b.writecb;if(y===null)return this.emit("error",new a);b.writechunk=null,b.writecb=null,v!=null&&this.push(v),y(h);var O=this._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}function l(h){if(!(this instanceof l))return new l(h);m.call(this,h),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",o)}function o(){var h=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(v,b){s(h,v,b)}):s(this,null,null)}l.prototype.push=function(h,v){return this._transformState.needTransform=!1,m.prototype.push.call(this,h,v)},l.prototype._transform=function(h,v,b){b(new t("_transform()"))},l.prototype._write=function(h,v,b){var y=this._transformState;if(y.writecb=b,y.writechunk=h,y.writeencoding=v,!y.transforming){var O=this._readableState;(y.needTransform||O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}},l.prototype._read=function(h){var v=this._transformState;v.writechunk!==null&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},l.prototype._destroy=function(h,v){m.prototype._destroy.call(this,h,function(b){v(b)})};function s(h,v,b){if(v)return h.emit("error",v);if(b!=null&&h.push(b),h._writableState.length)throw new g;if(h._transformState.transforming)throw new p;return h.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=t;var e=require_stream_transform();requireInherits_browser()(t,e);function t(a){if(!(this instanceof t))return new t(a);e.call(this,a)}return t.prototype._transform=function(a,p,g){g(null,a)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var e;function t(b){var y=!1;return function(){y||(y=!0,b.apply(void 0,arguments))}}var a=requireErrorsBrowser().codes,p=a.ERR_MISSING_ARGS,g=a.ERR_STREAM_DESTROYED;function m(b){if(b)throw b}function c(b){return b.setHeader&&typeof b.abort=="function"}function l(b,y,O,w){w=t(w);var I=!1;b.on("close",function(){I=!0}),e===void 0&&(e=requireEndOfStream$1()),e(b,{readable:y,writable:O},function(T){if(T)return w(T);I=!0,w()});var _=!1;return function(T){if(!I&&!_){if(_=!0,c(b))return b.abort();if(typeof b.destroy=="function")return b.destroy();w(T||new g("pipe"))}}}function o(b){b()}function s(b,y){return b.pipe(y)}function h(b){return!b.length||typeof b[b.length-1]!="function"?m:b.pop()}function v(){for(var b=arguments.length,y=new Array(b),O=0;O<b;O++)y[O]=arguments[O];var w=h(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new p("streams");var I,_=y.map(function(T,C){var N=C<y.length-1,L=C>0;return l(T,N,L,function(D){I||(I=D),D&&_.forEach(o),!N&&(_.forEach(o),w(I))})});return y.reduce(s)}return pipeline_1=v,pipeline_1}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,(function(e,t){t=e.exports=require_stream_readable(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable(),t.Duplex=require_stream_duplex(),t.Transform=require_stream_transform(),t.PassThrough=require_stream_passthrough(),t.finished=requireEndOfStream$1(),t.pipeline=requirePipeline()})(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var once={exports:{}},wrappy_1,hasRequiredWrappy;function requireWrappy(){if(hasRequiredWrappy)return wrappy_1;hasRequiredWrappy=1,wrappy_1=e;function e(t,a){if(t&&a)return e(t)(a);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(g){p[g]=t[g]}),p;function p(){for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];var c=t.apply(this,g),l=g[g.length-1];return typeof c=="function"&&c!==l&&Object.keys(l).forEach(function(o){c[o]=l[o]}),c}}return wrappy_1}var hasRequiredOnce;function requireOnce(){if(hasRequiredOnce)return once.exports;hasRequiredOnce=1;var e=requireWrappy();once.exports=e(t),once.exports.strict=e(a),t.proto=t(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return t(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return a(this)},configurable:!0})});function t(p){var g=function(){return g.called?g.value:(g.called=!0,g.value=p.apply(this,arguments))};return g.called=!1,g}function a(p){var g=function(){if(g.called)throw new Error(g.onceError);return g.called=!0,g.value=p.apply(this,arguments)},m=p.name||"Function wrapped with `once`";return g.onceError=m+" shouldn't be called more than once",g.called=!1,g}return once.exports}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var e=requireOnce(),t=function(){},a=commonjsGlobal.Bare?queueMicrotask:process.nextTick.bind(process),p=function(c){return c.setHeader&&typeof c.abort=="function"},g=function(c){return c.stdio&&Array.isArray(c.stdio)&&c.stdio.length===3},m=function(c,l,o){if(typeof l=="function")return m(c,null,l);l||(l={}),o=e(o||t);var s=c._writableState,h=c._readableState,v=l.readable||l.readable!==!1&&c.readable,b=l.writable||l.writable!==!1&&c.writable,y=!1,O=function(){c.writable||w()},w=function(){b=!1,v||o.call(c)},I=function(){v=!1,b||o.call(c)},_=function(D){o.call(c,D?new Error("exited with error code: "+D):null)},T=function(D){o.call(c,D)},C=function(){a(N)},N=function(){if(!y){if(v&&!(h&&h.ended&&!h.destroyed))return o.call(c,new Error("premature close"));if(b&&!(s&&s.ended&&!s.destroyed))return o.call(c,new Error("premature close"))}},L=function(){c.req.on("finish",w)};return p(c)?(c.on("complete",w),c.on("abort",C),c.req?L():c.on("request",L)):b&&!s&&(c.on("end",O),c.on("close",O)),g(c)&&c.on("exit",_),c.on("end",I),c.on("finish",w),l.error!==!1&&c.on("error",T),c.on("close",C),function(){y=!0,c.removeListener("complete",w),c.removeListener("abort",C),c.removeListener("request",L),c.req&&c.req.removeListener("finish",w),c.removeListener("end",O),c.removeListener("close",O),c.removeListener("finish",w),c.removeListener("exit",_),c.removeListener("end",I),c.removeListener("error",T),c.removeListener("close",C)}};return endOfStream=m,endOfStream}var streamShift,hasRequiredStreamShift;function requireStreamShift(){if(hasRequiredStreamShift)return streamShift;hasRequiredStreamShift=1,streamShift=e;function e(a){var p=a._readableState;return p?p.objectMode||typeof a._duplexState=="number"?a.read():a.read(t(p)):null}function t(a){if(a.buffer.length){var p=a.bufferIndex||0;if(a.buffer.head)return a.buffer.head.data.length;if(a.buffer.length-p>0&&a.buffer[p])return a.buffer[p].length}return a.length}return streamShift}var duplexify,hasRequiredDuplexify;function requireDuplexify(){if(hasRequiredDuplexify)return duplexify;hasRequiredDuplexify=1;var e=requireReadableBrowser(),t=requireEndOfStream(),a=requireInherits_browser(),p=requireStreamShift(),g=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),m=function(b,y){b._corked?b.once("uncork",y):y()},c=function(b,y){b._autoDestroy&&b.destroy(y)},l=function(b,y){return function(O){O?c(b,O.message==="premature close"?null:O):y&&!b._ended&&b.end()}},o=function(b,y){if(!b||b._writableState&&b._writableState.finished)return y();if(b._writableState)return b.end(y);b.end(),y()},s=function(){},h=function(b){return new e.Readable({objectMode:!0,highWaterMark:16}).wrap(b)},v=function(b,y,O){if(!(this instanceof v))return new v(b,y,O);e.Duplex.call(this,O),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!O||O.autoDestroy!==!1,this._forwardDestroy=!O||O.destroy!==!1,this._forwardEnd=!O||O.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,b&&this.setWritable(b),y&&this.setReadable(y)};return a(v,e.Duplex),v.obj=function(b,y,O){return O||(O={}),O.objectMode=!0,O.highWaterMark=16,new v(b,y,O)},v.prototype.cork=function(){++this._corked===1&&this.emit("cork")},v.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},v.prototype.setWritable=function(b){if(this._unwrite&&this._unwrite(),this.destroyed){b&&b.destroy&&b.destroy();return}if(b===null||b===!1){this.end();return}var y=this,O=t(b,{writable:!0,readable:!1},l(this,this._forwardEnd)),w=function(){var _=y._ondrain;y._ondrain=null,_&&_()},I=function(){y._writable.removeListener("drain",w),O()};this._unwrite&&process.nextTick(w),this._writable=b,this._writable.on("drain",w),this._unwrite=I,this.uncork()},v.prototype.setReadable=function(b){if(this._unread&&this._unread(),this.destroyed){b&&b.destroy&&b.destroy();return}if(b===null||b===!1){this.push(null),this.resume();return}var y=this,O=t(b,{writable:!1,readable:!0},l(this)),w=function(){y._forward()},I=function(){y.push(null)},_=function(){y._readable2.removeListener("readable",w),y._readable2.removeListener("end",I),O()};this._drained=!0,this._readable=b,this._readable2=b._readableState?b:h(b),this._readable2.on("readable",w),this._readable2.on("end",I),this._unread=_,this._forward()},v.prototype._read=function(){this._drained=!0,this._forward()},v.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var b;this._drained&&(b=p(this._readable2))!==null;)this.destroyed||(this._drained=this.push(b));this._forwarding=!1}},v.prototype.destroy=function(b,y){if(y||(y=s),this.destroyed)return y(null);this.destroyed=!0;var O=this;process.nextTick(function(){O._destroy(b),y(null)})},v.prototype._destroy=function(b){if(b){var y=this._ondrain;this._ondrain=null,y?y(b):this.emit("error",b)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},v.prototype._write=function(b,y,O){if(!this.destroyed){if(this._corked)return m(this,this._write.bind(this,b,y,O));if(b===g)return this._finish(O);if(!this._writable)return O();this._writable.write(b)===!1?this._ondrain=O:this.destroyed||O()}},v.prototype._finish=function(b){var y=this;this.emit("preend"),m(this,function(){o(y._forwardEnd&&y._writable,function(){y._writableState.prefinished===!1&&(y._writableState.prefinished=!0),y.emit("prefinish"),m(y,b)})})},v.prototype.end=function(b,y,O){return typeof b=="function"?this.end(null,null,b):typeof y=="function"?this.end(b,null,y):(this._ended=!0,b&&this.write(b),!this._writableState.ending&&!this._writableState.destroyed&&this.write(g),e.Writable.prototype.end.call(this,O))},duplexify=v,duplexify}var hasRequiredUtil$5;function requireUtil$5(){return hasRequiredUtil$5||(hasRequiredUtil$5=1,(function(e){var t=util$6&&util$6.__createBinding||(Object.create?(function(V,G,J,W){W===void 0&&(W=J);var K=Object.getOwnPropertyDescriptor(G,J);(!K||("get"in K?!G.__esModule:K.writable||K.configurable))&&(K={enumerable:!0,get:function(){return G[J]}}),Object.defineProperty(V,W,K)}):(function(V,G,J,W){W===void 0&&(W=J),V[W]=G[J]})),a=util$6&&util$6.__setModuleDefault||(Object.create?(function(V,G){Object.defineProperty(V,"default",{enumerable:!0,value:G})}):function(V,G){V.default=G}),p=util$6&&util$6.__importStar||(function(){var V=function(G){return V=Object.getOwnPropertyNames||function(J){var W=[];for(var K in J)Object.prototype.hasOwnProperty.call(J,K)&&(W[W.length]=K);return W},V(G)};return function(G){if(G&&G.__esModule)return G;var J={};if(G!=null)for(var W=V(G),K=0;K<W.length;K++)W[K]!=="default"&&t(J,G,W[K]);return a(J,G),J}})(),g=util$6&&util$6.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(e,"__esModule",{value:!0}),e.util=e.Util=e.PartialFailureError=e.ApiError=e.GCCL_GCS_CMD_KEY=void 0;const m=requireSrc$9(),c=p(requireCommonjs()),l=requireSrc$b(),o=g(requireRetryRequest()),s=require$$1$3,h=requireSrc$6(),v=p(require$$6$1),b=requireService$2(),y=requireUtil$6(),O=g(requireDuplexify()),I=(0,requirePackageJsonHelper().getPackageJSON)();e.GCCL_GCS_CMD_KEY=Symbol.for("GCCL_GCS_CMD");const _={timeout:6e4,gzip:!0,forever:!0,pool:{maxSockets:1/0}},T=!0,C=3;class N extends Error{constructor(G){if(super(),typeof G!="object"){this.message=G||"";return}const J=G;this.code=J.code,this.errors=J.errors,this.response=J.response;try{this.errors=JSON.parse(this.response.body).error.errors}catch{this.errors=J.errors}this.message=N.createMultiErrorMessage(J,this.errors),Error.captureStackTrace(this)}static createMultiErrorMessage(G,J){const W=new Set;G.message&&W.add(G.message),J&&J.length?J.forEach(({message:X})=>W.add(X)):G.response&&G.response.body?W.add(c.decode(G.response.body.toString())):G.message||W.add("A failure occurred during this request.");let K=Array.from(W);return K.length>1&&(K=K.map((X,Y)=>`    ${Y+1}. ${X}`),K.unshift("Multiple errors occurred during the request. Please see the `errors` array for complete details.\n"),K.push(`
`)),K.join(`
`)}}e.ApiError=N;class L extends Error{constructor(G){super();const J=G;this.errors=J.errors,this.name="PartialFailureError",this.response=J.response,this.message=N.createMultiErrorMessage(J,this.errors)}}e.PartialFailureError=L;class D{constructor(){this.ApiError=N,this.PartialFailureError=L}noop(){}handleResp(G,J,W,K){K=K||k.noop;const X={err:G||null,...J&&k.parseHttpRespMessage(J),...W&&k.parseHttpRespBody(W)};!X.err&&J&&typeof X.body=="object"&&(X.resp.body=X.body),X.err&&J&&(X.err.response=J),K(X.err,X.body,X.resp)}parseHttpRespMessage(G){const J={resp:G};return(G.statusCode<200||G.statusCode>299)&&(J.err=new N({errors:new Array,code:G.statusCode,message:G.statusMessage,response:G})),J}parseHttpRespBody(G){const J={body:G};if(typeof G=="string")try{J.body=JSON.parse(G)}catch{J.body=G}return J.body&&J.body.error&&(J.err=new N(J.body.error)),J}makeWritableStream(G,J,W){var K;W=W||k.noop;const X=new j;X.on("progress",le=>G.emit("progress",le)),G.setWritable(X);const Y={method:"POST",qs:{uploadType:"multipart"},timeout:0,maxRetries:0},te=J.metadata||{},oe={...Y,...J.request,qs:{...Y.qs,...(K=J.request)===null||K===void 0?void 0:K.qs},multipart:[{"Content-Type":"application/json",body:JSON.stringify(te)},{"Content-Type":te.contentType||"application/octet-stream",body:X}]};J.makeAuthenticatedRequest(oe,{onAuthenticated(le,ee){if(le){G.destroy(le);return}_.headers=k._getDefaultHeaders(oe[e.GCCL_GCS_CMD_KEY]),h.teenyRequest.defaults(_)(ee,(de,he,ge)=>{k.handleResp(de,he,ge,(me,Oe)=>{if(me){G.destroy(me);return}G.emit("response",he),W(Oe)})})}})}shouldRetryRequest(G){if(G){if([408,429,500,502,503,504].indexOf(G.code)!==-1)return!0;if(G.errors)for(const J of G.errors){const W=J.reason;if(W==="rateLimitExceeded"||W==="userRateLimitExceeded"||W&&W.includes("EAI_AGAIN"))return!0}}return!1}makeAuthenticatedRequestFactory(G){const J={...G};J.projectId===b.DEFAULT_PROJECT_ID_TOKEN&&delete J.projectId;let W;J.authClient instanceof l.GoogleAuth?W=J.authClient:W=new l.GoogleAuth({...J,authClient:J.authClient,clientOptions:J.clientOptions});function K(Y,te){let oe,le;const ee={...G};let se;te||(oe=(0,O.default)(),ee.stream=oe);const de=typeof te=="object"?te:void 0,he=typeof te=="function"?te:void 0;async function ge(){le=await W.getProjectId()}const me=async(fe,_e)=>{const Ee=fe,z=fe&&typeof fe.message=="string"&&fe.message.indexOf("Could not load the default credentials")>-1;if(z&&(_e=Y),!fe||z)try{_e=k.decorateRequest(_e,le),fe=null}catch(d){if(d instanceof m.MissingProjectIdError)try{await ge(),_e=k.decorateRequest(_e,le),fe=null}catch(P){fe=fe||P}else fe=fe||d}if(fe){oe?oe.destroy(fe):(de&&de.onAuthenticated?de.onAuthenticated:he)(fe);return}de&&de.onAuthenticated?de.onAuthenticated(null,_e):se=k.makeRequest(_e,ee,(d,...P)=>{d&&d.code===401&&Ee&&(d=Ee),he(d,...P)})};return(async()=>{try{const fe=async()=>G.projectId&&G.projectId!==b.DEFAULT_PROJECT_ID_TOKEN?G.projectId:G.projectIdRequired===!1?b.DEFAULT_PROJECT_ID_TOKEN:ge(),_e=async()=>ee.customEndpoint&&!ee.useAuthWithCustomEndpoint?Y:W.authorizeRequest(Y),[Ee,z]=await Promise.all([fe(),_e()]);return Ee&&(le=Ee),me(null,z)}catch(fe){return me(fe)}})(),oe||{abort(){setImmediate(()=>{se&&(se.abort(),se=null)})}}}const X=K;return X.getCredentials=W.getCredentials.bind(W),X.authClient=W,X}makeRequest(G,J,W){var K,X,Y,te,oe;let le=T;J.autoRetry!==void 0?le=J.autoRetry:((K=J.retryOptions)===null||K===void 0?void 0:K.autoRetry)!==void 0&&(le=J.retryOptions.autoRetry);let ee=C;J.maxRetries!==void 0?ee=J.maxRetries:((X=J.retryOptions)===null||X===void 0?void 0:X.maxRetries)!==void 0&&(ee=J.retryOptions.maxRetries),_.headers=this._getDefaultHeaders(G[e.GCCL_GCS_CMD_KEY]);const se={request:h.teenyRequest.defaults(_),retries:le!==!1?ee:0,noResponseRetries:le!==!1?ee:0,shouldRetryFn(me){var Oe,fe;const _e=k.parseHttpRespMessage(me).err;return!((Oe=J.retryOptions)===null||Oe===void 0)&&Oe.retryableErrorFn?_e&&((fe=J.retryOptions)===null||fe===void 0?void 0:fe.retryableErrorFn(_e)):_e&&k.shouldRetryRequest(_e)},maxRetryDelay:(Y=J.retryOptions)===null||Y===void 0?void 0:Y.maxRetryDelay,retryDelayMultiplier:(te=J.retryOptions)===null||te===void 0?void 0:te.retryDelayMultiplier,totalTimeout:(oe=J.retryOptions)===null||oe===void 0?void 0:oe.totalTimeout};if(typeof G.maxRetries=="number"&&(se.retries=G.maxRetries,se.noResponseRetries=G.maxRetries),!J.stream)return(0,o.default)(G,se,(me,Oe,fe)=>{k.handleResp(me,Oe,fe,W)});const de=J.stream;let he;return(G.method||"GET").toUpperCase()==="GET"?(he=(0,o.default)(G,se),de.setReadable(he)):(he=se.request(G),de.setWritable(he)),he.on("error",de.destroy.bind(de)).on("response",de.emit.bind(de,"response")).on("complete",de.emit.bind(de,"complete")),de.abort=he.abort,de}decorateRequest(G,J){return delete G.autoPaginate,delete G.autoPaginateVal,delete G.objectMode,G.qs!==null&&typeof G.qs=="object"&&(delete G.qs.autoPaginate,delete G.qs.autoPaginateVal,G.qs=(0,m.replaceProjectIdToken)(G.qs,J)),Array.isArray(G.multipart)&&(G.multipart=G.multipart.map(W=>(0,m.replaceProjectIdToken)(W,J))),G.json!==null&&typeof G.json=="object"&&(delete G.json.autoPaginate,delete G.json.autoPaginateVal,G.json=(0,m.replaceProjectIdToken)(G.json,J)),G.uri=(0,m.replaceProjectIdToken)(G.uri,J),G}isCustomType(G,J){function W(oe){return oe.constructor&&oe.constructor.name.toLowerCase()}const K=J.split("/"),X=K[0]&&K[0].toLowerCase(),Y=K[1]&&K[1].toLowerCase();if(Y&&W(G)!==Y)return!1;let te=G;for(;;){if(W(te)===X)return!0;if(te=te.parent,!te)return!1}}maybeOptionsOrCallback(G,J){return typeof G=="function"?[{},G]:[G,J]}_getDefaultHeaders(G){const J={"User-Agent":(0,y.getUserAgentString)(),"x-goog-api-client":`${(0,y.getRuntimeTrackingString)()} gccl/${I.version}-${(0,y.getModuleFormat)()} gccl-invocation-id/${v.v4()}`};return G&&(J["x-goog-api-client"]+=` gccl-gcs-cmd/${G}`),J}}e.Util=D;class j extends s.Transform{constructor(){super(...arguments),this.bytesRead=0}_transform(G,J,W){this.bytesRead+=G.length,this.emit("progress",{bytesWritten:this.bytesRead,contentLength:"*"}),this.push(G),W()}}const k=new D;e.util=k})(util$6)),util$6}var hasRequiredService$2;function requireService$2(){return hasRequiredService$2||(hasRequiredService$2=1,(function(e){var t={},a=service$2&&service$2.__createBinding||(Object.create?(function(h,v,b,y){y===void 0&&(y=b);var O=Object.getOwnPropertyDescriptor(v,b);(!O||("get"in O?!v.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return v[b]}}),Object.defineProperty(h,y,O)}):(function(h,v,b,y){y===void 0&&(y=b),h[y]=v[b]})),p=service$2&&service$2.__setModuleDefault||(Object.create?(function(h,v){Object.defineProperty(h,"default",{enumerable:!0,value:v})}):function(h,v){h.default=v}),g=service$2&&service$2.__importStar||(function(){var h=function(v){return h=Object.getOwnPropertyNames||function(b){var y=[];for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&(y[y.length]=O);return y},h(v)};return function(v){if(v&&v.__esModule)return v;var b={};if(v!=null)for(var y=h(v),O=0;O<y.length;O++)y[O]!=="default"&&a(b,v,y[O]);return p(b,v),b}})();Object.defineProperty(e,"__esModule",{value:!0}),e.Service=e.DEFAULT_PROJECT_ID_TOKEN=void 0;const m=requireSrc$b(),c=g(require$$6$1),l=requireUtil$5(),o=requireUtil$6();e.DEFAULT_PROJECT_ID_TOKEN="{{projectId}}";class s{constructor(v,b={}){this.baseUrl=v.baseUrl,this.apiEndpoint=v.apiEndpoint,this.timeout=b.timeout,this.globalInterceptors=Array.isArray(b.interceptors_)?b.interceptors_:[],this.interceptors=[],this.packageJson=v.packageJson,this.projectId=b.projectId||e.DEFAULT_PROJECT_ID_TOKEN,this.projectIdRequired=v.projectIdRequired!==!1,this.providedUserAgent=b.userAgent,this.universeDomain=b.universeDomain||m.DEFAULT_UNIVERSE,this.customEndpoint=v.customEndpoint||!1,this.makeAuthenticatedRequest=l.util.makeAuthenticatedRequestFactory({...v,projectIdRequired:this.projectIdRequired,projectId:this.projectId,authClient:b.authClient||v.authClient,credentials:b.credentials,keyFile:b.keyFilename,email:b.email,clientOptions:{universeDomain:b.universeDomain,...b.clientOptions}}),this.authClient=this.makeAuthenticatedRequest.authClient,t.FUNCTION_NAME&&this.interceptors.push({request(O){return O.forever=!1,O}})}getRequestInterceptors(){return[].slice.call(this.globalInterceptors).concat(this.interceptors).filter(v=>typeof v.request=="function").map(v=>v.request)}getProjectId(v){if(!v)return this.getProjectIdAsync();this.getProjectIdAsync().then(b=>v(null,b),v)}async getProjectIdAsync(){const v=await this.authClient.getProjectId();return this.projectId===e.DEFAULT_PROJECT_ID_TOKEN&&v&&(this.projectId=v),this.projectId}request_(v,b){v={...v,timeout:this.timeout};const y=v.uri.indexOf("http")===0,O=[this.baseUrl];this.projectIdRequired&&(v.projectId?(O.push("projects"),O.push(v.projectId)):(O.push("projects"),O.push(this.projectId))),O.push(v.uri),y&&O.splice(0,O.indexOf(v.uri)),v.uri=O.map(C=>{const N=/^\/*|\/*$/g;return C.replace(N,"")}).join("/").replace(/\/:/g,":");const w=this.getRequestInterceptors();(Array.isArray(v.interceptors_)?v.interceptors_:[]).forEach(C=>{typeof C.request=="function"&&w.push(C.request)}),w.forEach(C=>{v=C(v)}),delete v.interceptors_;const _=this.packageJson;let T=(0,o.getUserAgentString)();if(this.providedUserAgent&&(T=`${this.providedUserAgent} ${T}`),v.headers={...v.headers,"User-Agent":T,"x-goog-api-client":`${(0,o.getRuntimeTrackingString)()} gccl/${_.version}-${(0,o.getModuleFormat)()} gccl-invocation-id/${c.v4()}`},v[l.GCCL_GCS_CMD_KEY]&&(v.headers["x-goog-api-client"]+=` gccl-gcs-cmd/${v[l.GCCL_GCS_CMD_KEY]}`),v.shouldReturnStream)return this.makeAuthenticatedRequest(v);this.makeAuthenticatedRequest(v,b)}request(v,b){s.prototype.request_.call(this,v,b)}requestStream(v){const b={...v,shouldReturnStream:!0};return s.prototype.request_.call(this,b)}}e.Service=s})(service$2)),service$2}var serviceObject={},src$4={},hasRequiredSrc$5;function requireSrc$5(){return hasRequiredSrc$5||(hasRequiredSrc$5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.callbackifyAll=e.callbackify=e.promisifyAll=e.promisify=void 0;function t(m,c){if(m.promisified_)return m;c=c||{};const l=Array.prototype.slice,o=function(){let s;for(s=arguments.length-1;s>=0;s--){const b=arguments[s];if(!(typeof b>"u")){if(typeof b!="function")break;return m.apply(this,arguments)}}const h=l.call(arguments,0,s+1);let v=Promise;return this&&this.Promise&&(v=this.Promise),new v((b,y)=>{h.push((...O)=>{const w=l.call(O),I=w.shift();if(I)return y(I);c.singular&&w.length===1?b(w[0]):b(w)}),m.apply(this,h)})};return o.promisified_=!0,o}e.promisify=t;function a(m,c){const l=c&&c.exclude||[];Object.getOwnPropertyNames(m.prototype).filter(h=>!l.includes(h)&&typeof m.prototype[h]=="function"&&!/(^_|(Stream|_)|promise$)|^constructor$/.test(h)).forEach(h=>{const v=m.prototype[h];v.promisified_||(m.prototype[h]=e.promisify(v,c))})}e.promisifyAll=a;function p(m){if(m.callbackified_)return m;const c=function(){if(typeof arguments[arguments.length-1]!="function")return m.apply(this,arguments);const l=Array.prototype.pop.call(arguments);m.apply(this,arguments).then(o=>{o=Array.isArray(o)?o:[o],l(null,...o)},o=>l(o))};return c.callbackified_=!0,c}e.callbackify=p;function g(m,c){const l=c&&c.exclude||[];Object.getOwnPropertyNames(m.prototype).filter(h=>!l.includes(h)&&typeof m.prototype[h]=="function"&&!/^_|(Stream|_)|^constructor$/.test(h)).forEach(h=>{const v=m.prototype[h];v.callbackified_||(m.prototype[h]=e.callbackify(v))})}e.callbackifyAll=g})(src$4)),src$4}var hasRequiredServiceObject;function requireServiceObject(){if(hasRequiredServiceObject)return serviceObject;hasRequiredServiceObject=1,Object.defineProperty(serviceObject,"__esModule",{value:!0}),serviceObject.ServiceObject=void 0;const e=requireSrc$5(),t=require$$1$3,a=requireUtil$5();class p extends t.EventEmitter{constructor(m){super(),this.metadata={},this.baseUrl=m.baseUrl,this.parent=m.parent,this.id=m.id,this.createMethod=m.createMethod,this.methods=m.methods||{},this.interceptors=[],this.projectId=m.projectId,m.methods&&Object.getOwnPropertyNames(p.prototype).filter(c=>!/^request/.test(c)&&!/^getRequestInterceptors/.test(c)&&this[c]===p.prototype[c]&&!m.methods[c]).forEach(c=>{this[c]=void 0})}create(m,c){const l=this,o=[this.id];typeof m=="function"&&(c=m),typeof m=="object"&&o.push(m);function s(...h){const[v,b]=h;v||(l.metadata=b.metadata,l.id&&b.metadata&&(l.id=b.metadata.id),h[1]=l),c(...h)}o.push(s),this.createMethod.apply(null,o)}delete(m,c){var l;const[o,s]=a.util.maybeOptionsOrCallback(m,c),h=o.ignoreNotFound;delete o.ignoreNotFound;const v=typeof this.methods.delete=="object"&&this.methods.delete||{},b={method:"DELETE",uri:"",...v.reqOpts,qs:{...(l=v.reqOpts)===null||l===void 0?void 0:l.qs,...o}};p.prototype.request.call(this,b,(y,O,w)=>{y&&y.code===404&&h&&(y=null),s(y,w)})}exists(m,c){const[l,o]=a.util.maybeOptionsOrCallback(m,c);this.get(l,s=>{if(s){s.code===404?o(null,!1):o(s);return}o(null,!0)})}get(m,c){const l=this,[o,s]=a.util.maybeOptionsOrCallback(m,c),h=Object.assign({},o),v=h.autoCreate&&typeof this.create=="function";delete h.autoCreate;function b(y,O,w){if(y){if(y.code===409){l.get(h,s);return}s(y,null,w);return}s(null,O,w)}this.getMetadata(h,(y,O)=>{if(y){if(y.code===404&&v){const w=[];Object.keys(h).length>0&&w.push(h),w.push(b),l.create(...w);return}s(y,null,O);return}s(null,l,O)})}getMetadata(m,c){var l;const[o,s]=a.util.maybeOptionsOrCallback(m,c),h=typeof this.methods.getMetadata=="object"&&this.methods.getMetadata||{},v={uri:"",...h.reqOpts,qs:{...(l=h.reqOpts)===null||l===void 0?void 0:l.qs,...o}};p.prototype.request.call(this,v,(b,y,O)=>{this.metadata=y,s(b,this.metadata,O)})}getRequestInterceptors(){const m=this.interceptors.filter(c=>typeof c.request=="function").map(c=>c.request);return this.parent.getRequestInterceptors().concat(m)}setMetadata(m,c,l){var o,s;const[h,v]=a.util.maybeOptionsOrCallback(c,l),b=typeof this.methods.setMetadata=="object"&&this.methods.setMetadata||{},y={method:"PATCH",uri:"",...b.reqOpts,json:{...(o=b.reqOpts)===null||o===void 0?void 0:o.json,...m},qs:{...(s=b.reqOpts)===null||s===void 0?void 0:s.qs,...h}};p.prototype.request.call(this,y,(O,w,I)=>{this.metadata=w,v(O,this.metadata,I)})}request_(m,c){m={...m},this.projectId&&(m.projectId=this.projectId);const l=m.uri.indexOf("http")===0,o=[this.baseUrl,this.id||"",m.uri];l&&o.splice(0,o.indexOf(m.uri)),m.uri=o.filter(v=>v.trim()).map(v=>{const b=/^\/*|\/*$/g;return v.replace(b,"")}).join("/");const s=Array.isArray(m.interceptors_)?m.interceptors_:[],h=[].slice.call(this.interceptors);if(m.interceptors_=s.concat(h),m.shouldReturnStream)return this.parent.requestStream(m);this.parent.request(m,c)}request(m,c){this.request_(m,c)}requestStream(m){const c={...m,shouldReturnStream:!0};return this.request_(c)}}return serviceObject.ServiceObject=p,(0,e.promisifyAll)(p,{exclude:["getRequestInterceptors"]}),serviceObject}var hasRequiredNodejsCommon;function requireNodejsCommon(){return hasRequiredNodejsCommon||(hasRequiredNodejsCommon=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.util=e.ApiError=e.ServiceObject=e.Service=void 0;var t=requireService$2();Object.defineProperty(e,"Service",{enumerable:!0,get:function(){return t.Service}});var a=requireServiceObject();Object.defineProperty(e,"ServiceObject",{enumerable:!0,get:function(){return a.ServiceObject}});var p=requireUtil$5();Object.defineProperty(e,"ApiError",{enumerable:!0,get:function(){return p.ApiError}}),Object.defineProperty(e,"util",{enumerable:!0,get:function(){return p.util}})})(nodejsCommon)),nodejsCommon}var storage$1={},src$3={},arrify_1,hasRequiredArrify;function requireArrify(){return hasRequiredArrify||(hasRequiredArrify=1,arrify_1=t=>t==null?[]:Array.isArray(t)?t:typeof t=="string"?[t]:typeof t[Symbol.iterator]=="function"?[...t]:[t]),arrify_1}var resourceStream={},hasRequiredResourceStream;function requireResourceStream(){if(hasRequiredResourceStream)return resourceStream;hasRequiredResourceStream=1;Object.defineProperty(resourceStream,"__esModule",{value:!0}),resourceStream.ResourceStream=void 0;const e=require$$1$3;class t extends e.Transform{constructor(p,g){const m=Object.assign({objectMode:!0},p.streamOptions);super(m),this._ended=!1,this._maxApiCalls=p.maxApiCalls===-1?1/0:p.maxApiCalls,this._nextQuery=p.query,this._reading=!1,this._requestFn=g,this._requestsMade=0,this._resultsToSend=p.maxResults===-1?1/0:p.maxResults,this._otherArgs=[]}end(...p){return this._ended=!0,super.end(...p)}_read(){if(!this._reading){this._reading=!0;try{this._requestFn(this._nextQuery,(p,g,m,...c)=>{if(p){this.destroy(p);return}this._otherArgs=c,this._nextQuery=m,this._resultsToSend!==1/0&&(g=g.splice(0,this._resultsToSend),this._resultsToSend-=g.length);let l=!0;for(const h of g){if(this._ended)break;l=this.push(h)}const o=!this._nextQuery||this._resultsToSend<1,s=++this._requestsMade>=this._maxApiCalls;(o||s)&&this.end(),l&&!this._ended&&setImmediate(()=>this._read()),this._reading=!1})}catch(p){this.destroy(p)}}}}return resourceStream.ResourceStream=t,resourceStream}var hasRequiredSrc$4;function requireSrc$4(){return hasRequiredSrc$4||(hasRequiredSrc$4=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceStream=e.paginator=e.Paginator=void 0;const t=requireArrify(),a=requireExtend(),p=requireResourceStream();Object.defineProperty(e,"ResourceStream",{enumerable:!0,get:function(){return p.ResourceStream}});class g{extend(l,o){o=t(o),o.forEach(s=>{const h=l.prototype[s];l.prototype[s+"_"]=h,l.prototype[s]=function(...v){const b=m.parseArguments_(v);return m.run_(b,h.bind(this))}})}streamify(l){return function(...o){const s=m.parseArguments_(o),h=this[l+"_"]||this[l];return m.runAsStream_(s,h.bind(this))}}parseArguments_(l){let o,s=!0,h=-1,v=-1,b;const y=l[0],O=l[l.length-1];typeof y=="function"?b=y:o=y,typeof O=="function"&&(b=O),typeof o=="object"&&(o=a(!0,{},o),o.maxResults&&typeof o.maxResults=="number"?v=o.maxResults:typeof o.pageSize=="number"&&(v=o.pageSize),o.maxApiCalls&&typeof o.maxApiCalls=="number"&&(h=o.maxApiCalls,delete o.maxApiCalls),(v!==-1||o.autoPaginate===!1)&&(s=!1));const w={query:o||{},autoPaginate:s,maxApiCalls:h,maxResults:v,callback:b};return w.streamOptions=a(!0,{},w.query),delete w.streamOptions.autoPaginate,delete w.streamOptions.maxResults,delete w.streamOptions.pageSize,w}run_(l,o){const s=l.query,h=l.callback;if(!l.autoPaginate)return o(s,h);const v=new Array;let b=[];const y=new Promise((O,w)=>{const I=m.runAsStream_(l,o);I.on("error",w).on("data",_=>v.push(_)).on("end",()=>{b=I._otherArgs||[],O(v)})});if(!h)return y.then(O=>[O,s,...b]);y.then(O=>h(null,O,s,...b),O=>h(O))}runAsStream_(l,o){return new p.ResourceStream(l,o)}}e.Paginator=g;const m=new g;e.paginator=m})(src$3)),src$3}var bucket={},Mime_1,hasRequiredMime$1;function requireMime$1(){if(hasRequiredMime$1)return Mime_1;hasRequiredMime$1=1;function e(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}return e.prototype.define=function(t,a){for(let p in t){let g=t[p].map(function(m){return m.toLowerCase()});p=p.toLowerCase();for(let m=0;m<g.length;m++){const c=g[m];if(c[0]!=="*"){if(!a&&c in this._types)throw new Error('Attempt to change mapping for "'+c+'" extension from "'+this._types[c]+'" to "'+p+'". Pass `force=true` to allow this, otherwise remove "'+c+'" from the list of extensions for "'+p+'".');this._types[c]=p}}if(a||!this._extensions[p]){const m=g[0];this._extensions[p]=m[0]!=="*"?m:m.substr(1)}}},e.prototype.getType=function(t){t=String(t);let a=t.replace(/^.*[/\\]/,"").toLowerCase(),p=a.replace(/^.*\./,"").toLowerCase(),g=a.length<t.length;return(p.length<a.length-1||!g)&&this._types[p]||null},e.prototype.getExtension=function(t){return t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1,t&&this._extensions[t.toLowerCase()]||null},Mime_1=e,Mime_1}var standard,hasRequiredStandard;function requireStandard(){return hasRequiredStandard||(hasRequiredStandard=1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}),standard}var other,hasRequiredOther;function requireOther(){return hasRequiredOther||(hasRequiredOther=1,other={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}),other}var mime,hasRequiredMime;function requireMime(){if(hasRequiredMime)return mime;hasRequiredMime=1;let e=requireMime$1();return mime=new e(requireStandard(),requireOther()),mime}var yoctoQueue,hasRequiredYoctoQueue;function requireYoctoQueue(){if(hasRequiredYoctoQueue)return yoctoQueue;hasRequiredYoctoQueue=1;class e{constructor(p){this.value=p,this.next=void 0}}class t{constructor(){this.clear()}enqueue(p){const g=new e(p);this._head?(this._tail.next=g,this._tail=g):(this._head=g,this._tail=g),this._size++}dequeue(){const p=this._head;if(p)return this._head=this._head.next,this._size--,p.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let p=this._head;for(;p;)yield p.value,p=p.next}}return yoctoQueue=t,yoctoQueue}var pLimit_1,hasRequiredPLimit;function requirePLimit(){if(hasRequiredPLimit)return pLimit_1;hasRequiredPLimit=1;const e=requireYoctoQueue();return pLimit_1=a=>{if(!((Number.isInteger(a)||a===1/0)&&a>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const p=new e;let g=0;const m=()=>{g--,p.size>0&&p.dequeue()()},c=async(s,h,...v)=>{g++;const b=(async()=>s(...v))();h(b);try{await b}catch{}m()},l=(s,h,...v)=>{p.enqueue(c.bind(null,s,h,...v)),(async()=>(await Promise.resolve(),g<a&&p.size>0&&p.dequeue()()))()},o=(s,...h)=>new Promise(v=>{l(s,v,...h)});return Object.defineProperties(o,{activeCount:{get:()=>g},pendingCount:{get:()=>p.size},clearQueue:{value:()=>{p.clear()}}}),o},pLimit_1}var retry$1={},retry_operation,hasRequiredRetry_operation;function requireRetry_operation(){if(hasRequiredRetry_operation)return retry_operation;hasRequiredRetry_operation=1;function e(t,a){typeof a=="boolean"&&(a={forever:a}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=a||{},this._maxRetryTime=a&&a.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return retry_operation=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var a=new Date().getTime();if(t&&a-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var p=this._timeouts.shift();if(p===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),p=this._cachedTimeouts.slice(-1);else return!1;var g=this;return this._timer=setTimeout(function(){g._attempts++,g._operationTimeoutCb&&(g._timeout=setTimeout(function(){g._operationTimeoutCb(g._attempts)},g._operationTimeout),g._options.unref&&g._timeout.unref()),g._fn(g._attempts)},p),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,a){this._fn=t,a&&(a.timeout&&(this._operationTimeout=a.timeout),a.cb&&(this._operationTimeoutCb=a.cb));var p=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){p._operationTimeoutCb()},p._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},a=null,p=0,g=0;g<this._errors.length;g++){var m=this._errors[g],c=m.message,l=(t[c]||0)+1;t[c]=l,l>=p&&(a=m,p=l)}return a},retry_operation}var hasRequiredRetry$1;function requireRetry$1(){return hasRequiredRetry$1||(hasRequiredRetry$1=1,(function(e){var t=requireRetry_operation();e.operation=function(a){var p=e.timeouts(a);return new t(p,{forever:a&&(a.forever||a.retries===1/0),unref:a&&a.unref,maxRetryTime:a&&a.maxRetryTime})},e.timeouts=function(a){if(a instanceof Array)return[].concat(a);var p={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var g in a)p[g]=a[g];if(p.minTimeout>p.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var m=[],c=0;c<p.retries;c++)m.push(this.createTimeout(c,p));return a&&a.forever&&!m.length&&m.push(this.createTimeout(c,p)),m.sort(function(l,o){return l-o}),m},e.createTimeout=function(a,p){var g=p.randomize?Math.random()+1:1,m=Math.round(g*Math.max(p.minTimeout,1)*Math.pow(p.factor,a));return m=Math.min(m,p.maxTimeout),m},e.wrap=function(a,p,g){if(p instanceof Array&&(g=p,p=null),!g){g=[];for(var m in a)typeof a[m]=="function"&&g.push(m)}for(var c=0;c<g.length;c++){var l=g[c],o=a[l];a[l]=(function(h){var v=e.operation(p),b=Array.prototype.slice.call(arguments,1),y=b.pop();b.push(function(O){v.retry(O)||(O&&(arguments[0]=v.mainError()),y.apply(this,arguments))}),v.attempt(function(){h.apply(a,b)})}).bind(a,o),a[l].options=p}}})(retry$1)),retry$1}var retry,hasRequiredRetry;function requireRetry(){return hasRequiredRetry||(hasRequiredRetry=1,retry=requireRetry$1()),retry}var lib$1,hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1;var e=requireRetry();function t(a,p){function g(m,c){var l=p||{},o;"randomize"in l||(l.randomize=!0),o=e.operation(l);function s(b){c(b||new Error("Aborted"))}function h(b,y){if(b.bail){s(b);return}o.retry(b)?l.onRetry&&l.onRetry(b,y):c(o.mainError())}function v(b){var y;try{y=a(s,b)}catch(O){h(O,b);return}Promise.resolve(y).then(m).catch(function(w){h(w,b)})}o.attempt(v)}return new Promise(g)}return lib$1=t,lib$1}var acl={},hasRequiredAcl;function requireAcl(){if(hasRequiredAcl)return acl;hasRequiredAcl=1,Object.defineProperty(acl,"__esModule",{value:!0}),acl.AclRoleAccessorMethods=acl.Acl=void 0;const e=requireSrc$5();class t{constructor(){this.owners={},this.readers={},this.writers={},this.owners={},this.readers={},this.writers={},t.roles.forEach(this._assignAccessMethods.bind(this))}_assignAccessMethods(g){const m=t.accessMethods,c=t.entities,l=g.toLowerCase()+"s";this[l]=c.reduce((o,s)=>{const h=s.charAt(s.length-1)==="-";return m.forEach(v=>{let b=v+s[0].toUpperCase()+s.substring(1);h&&(b=b.replace("-","")),o[b]=(y,O,w)=>{let I;typeof O=="function"&&(w=O,O={}),h?I=s+y:(I=s,w=y),O=Object.assign({entity:I,role:g},O);const _=[O];return typeof w=="function"&&_.push(w),this[v].apply(this,_)}}),o},{})}}acl.AclRoleAccessorMethods=t,t.accessMethods=["add","delete"],t.entities=["allAuthenticatedUsers","allUsers","domain-","group-","project-","user-"],t.roles=["OWNER","READER","WRITER"];class a extends t{constructor(g){super(),this.pathPrefix=g.pathPrefix,this.request_=g.request}add(g,m){const c={};g.generation&&(c.generation=g.generation),g.userProject&&(c.userProject=g.userProject),this.request({method:"POST",uri:"",qs:c,maxRetries:0,json:{entity:g.entity,role:g.role.toUpperCase()}},(l,o)=>{if(l){m(l,null,o);return}m(null,this.makeAclObject_(o),o)})}delete(g,m){const c={};g.generation&&(c.generation=g.generation),g.userProject&&(c.userProject=g.userProject),this.request({method:"DELETE",uri:"/"+encodeURIComponent(g.entity),qs:c},(l,o)=>{m(l,o)})}get(g,m){const c=typeof g=="object"?g:null,l=typeof g=="function"?g:m;let o="";const s={};c&&(o="/"+encodeURIComponent(c.entity),c.generation&&(s.generation=c.generation),c.userProject&&(s.userProject=c.userProject)),this.request({uri:o,qs:s},(h,v)=>{if(h){l(h,null,v);return}let b;v.items?b=v.items.map(this.makeAclObject_):b=this.makeAclObject_(v),l(null,b,v)})}update(g,m){const c={};g.generation&&(c.generation=g.generation),g.userProject&&(c.userProject=g.userProject),this.request({method:"PUT",uri:"/"+encodeURIComponent(g.entity),qs:c,json:{role:g.role.toUpperCase()}},(l,o)=>{if(l){m(l,null,o);return}m(null,this.makeAclObject_(o),o)})}makeAclObject_(g){const m={entity:g.entity,role:g.role};return g.projectTeam&&(m.projectTeam=g.projectTeam),m}request(g,m){g.uri=this.pathPrefix+g.uri,this.request_(g,m)}}acl.Acl=a;return(0,e.promisifyAll)(a,{exclude:["request"]}),acl}var file={},resumableUpload={},browser$1={exports:{}},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$1.exports;hasRequiredBrowser=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return browser$1.exports=e,browser$1.exports.AbortSignal=t,browser$1.exports.default=e,browser$1.exports}var hasRequiredResumableUpload;function requireResumableUpload(){return hasRequiredResumableUpload||(hasRequiredResumableUpload=1,(function(e){var t=resumableUpload&&resumableUpload.__createBinding||(Object.create?(function(W,K,X,Y){Y===void 0&&(Y=X);var te=Object.getOwnPropertyDescriptor(K,X);(!te||("get"in te?!K.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return K[X]}}),Object.defineProperty(W,Y,te)}):(function(W,K,X,Y){Y===void 0&&(Y=X),W[Y]=K[X]})),a=resumableUpload&&resumableUpload.__setModuleDefault||(Object.create?(function(W,K){Object.defineProperty(W,"default",{enumerable:!0,value:K})}):function(W,K){W.default=K}),p=resumableUpload&&resumableUpload.__importStar||(function(){var W=function(K){return W=Object.getOwnPropertyNames||function(X){var Y=[];for(var te in X)Object.prototype.hasOwnProperty.call(X,te)&&(Y[Y.length]=te);return Y},W(K)};return function(K){if(K&&K.__esModule)return K;var X={};if(K!=null)for(var Y=W(K),te=0;te<Y.length;te++)Y[te]!=="default"&&t(X,K,Y[te]);return a(X,K),X}})(),g=resumableUpload&&resumableUpload.__classPrivateFieldSet||function(W,K,X,Y,te){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!te)throw new TypeError("Private accessor was defined without a setter");if(typeof K=="function"?W!==K||!te:!K.has(W))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?te.call(W,X):te?te.value=X:K.set(W,X),X},m=resumableUpload&&resumableUpload.__classPrivateFieldGet||function(W,K,X,Y){if(X==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof K=="function"?W!==K||!Y:!K.has(W))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?Y:X==="a"?Y.call(W):Y?Y.value:K.get(W)},c=resumableUpload&&resumableUpload.__importDefault||function(W){return W&&W.__esModule?W:{default:W}},l,o,s,h;Object.defineProperty(e,"__esModule",{value:!0}),e.Upload=e.PROTOCOL_REGEX=void 0,e.upload=V,e.createURI=G,e.checkUploadStatus=J;const v=c(requireBrowser()),b=require$$1$3,y=p(requireSrc$f()),O=requireSrc$b(),w=require$$1$3,I=c(requireLib$1()),_=p(require$$6$1),T=requireUtil$6(),C=requireUtil$5(),N=requirePackageJsonHelper(),L=404,D=308,j=(0,N.getPackageJSON)();e.PROTOCOL_REGEX=/^(\w*):\/\//;class k extends w.Writable{constructor(K){var X;if(super(K),l.add(this),this.numBytesWritten=0,this.numRetries=0,this.currentInvocationId={checkUploadStatus:_.v4(),chunk:_.v4(),uri:_.v4()},this.writeBuffers=[],this.numChunksReadInRequest=0,this.localWriteCache=[],this.localWriteCacheByteLength=0,this.upstreamEnded=!1,o.set(this,void 0),K=K||{},!K.bucket||!K.file)throw new Error("A bucket and file name are required");if(K.offset&&!K.uri)throw new RangeError("Cannot provide an `offset` without providing a `uri`");if(K.isPartialUpload&&!K.chunkSize)throw new RangeError("Cannot set `isPartialUpload` without providing a `chunkSize`");K.authConfig=K.authConfig||{},K.authConfig.scopes=["https://www.googleapis.com/auth/devstorage.full_control"],this.authClient=K.authClient||new O.GoogleAuth(K.authConfig);const Y=K.universeDomain||O.DEFAULT_UNIVERSE;if(this.apiEndpoint=`https://storage.${Y}`,K.apiEndpoint&&K.apiEndpoint!==this.apiEndpoint){this.apiEndpoint=this.sanitizeEndpoint(K.apiEndpoint);const ee=new URL(this.apiEndpoint).hostname,se=ee===Y,de=ee===O.DEFAULT_UNIVERSE,he=ee.slice(-(Y.length+1))===`.${Y}`,ge=ee.slice(-(O.DEFAULT_UNIVERSE.length+1))===`.${O.DEFAULT_UNIVERSE}`;!se&&!de&&!he&&!ge&&(this.authClient=y)}this.baseURI=`${this.apiEndpoint}/upload/storage/v1/b`,this.bucket=K.bucket;const te=[K.bucket,K.file];if(typeof K.generation=="number"&&te.push(`${K.generation}`),this.cacheKey=te.join("/"),this.customRequestOptions=K.customRequestOptions||{},this.file=K.file,this.generation=K.generation,this.kmsKeyName=K.kmsKeyName,this.metadata=K.metadata||{},this.offset=K.offset,this.origin=K.origin,this.params=K.params||{},this.userProject=K.userProject,this.chunkSize=K.chunkSize,this.retryOptions=K.retryOptions,this.isPartialUpload=(X=K.isPartialUpload)!==null&&X!==void 0?X:!1,K.key)if(typeof K.key=="string"){const ee=Buffer.from(K.key).toString("base64");this.encryption={key:ee,hash:(0,b.createHash)("sha256").update(K.key).digest("base64")}}else{const ee=K.key.toString("base64");this.encryption={key:ee,hash:(0,b.createHash)("sha256").update(K.key).digest("base64")}}this.predefinedAcl=K.predefinedAcl,K.private&&(this.predefinedAcl="private"),K.public&&(this.predefinedAcl="publicRead");const oe=K.retryOptions.autoRetry;this.uriProvidedManually=!!K.uri,this.uri=K.uri,this.offset&&(this.numBytesWritten=this.offset),this.numRetries=0,oe||(K.retryOptions.maxRetries=0),this.timeOfFirstRequest=Date.now();const le=K.metadata?Number(K.metadata.contentLength):NaN;this.contentLength=isNaN(le)?"*":le,g(this,o,K[C.GCCL_GCS_CMD_KEY],"f"),this.once("writing",()=>{this.uri?this.continueUploading():this.createURI(ee=>{if(ee)return this.destroy(ee);this.startUploading()})})}_final(K=()=>{}){this.upstreamEnded=!0,this.once("uploadFinished",K),process.nextTick(()=>{this.emit("upstreamFinished"),this.emit("writing")})}_write(K,X,Y=()=>{}){this.emit("writing"),this.writeBuffers.push(typeof K=="string"?Buffer.from(K,X):K),this.once("readFromChunkBuffer",Y),process.nextTick(()=>this.emit("wroteToChunkBuffer"))}prependLocalBufferToUpstream(K){let X=[];if(K){let te=0;for(;K>te;){let oe=this.localWriteCache.pop();if(!oe)break;if(te+=oe.byteLength,te>K){const le=te-K;oe=oe.subarray(le),te-=le}X.unshift(oe)}}else X=this.localWriteCache;const Y=this.writeBuffers;this.writeBuffers=X;for(const te of Y)this.writeBuffers.push(te);m(this,l,"m",s).call(this)}*pullFromChunkBuffer(K){for(;K;){const X=this.writeBuffers.shift();if(!X)break;let Y=X;X.byteLength>K?(Y=X.subarray(0,K),this.writeBuffers.unshift(X.subarray(K)),K=0):K-=X.byteLength,yield Y,this.emit("readFromChunkBuffer")}}async waitForNextChunk(){return await new Promise(X=>{if(this.writeBuffers.length)return X(!0);if(this.upstreamEnded)return X(!1);const Y=()=>(oe(),X(!0)),te=()=>(oe(),this.writeBuffers.length?X(!0):X(!1)),oe=()=>{this.removeListener("wroteToChunkBuffer",Y),this.removeListener("upstreamFinished",te)};this.once("wroteToChunkBuffer",Y),this.once("upstreamFinished",te)})}async*upstreamIterator(K=1/0){for(;K&&await this.waitForNextChunk();)for(const X of this.pullFromChunkBuffer(K))K-=X.byteLength,yield X}createURI(K){if(!K)return this.createURIAsync();this.createURIAsync().then(X=>K(null,X),K)}async createURIAsync(){const K={...this.metadata},X={};K.contentLength&&(X["X-Upload-Content-Length"]=K.contentLength.toString(),delete K.contentLength),K.contentType&&(X["X-Upload-Content-Type"]=K.contentType,delete K.contentType);let Y=`${(0,T.getRuntimeTrackingString)()} gccl/${j.version}-${(0,T.getModuleFormat)()} gccl-invocation-id/${this.currentInvocationId.uri}`;m(this,o,"f")&&(Y+=` gccl-gcs-cmd/${m(this,o,"f")}`);const te={method:"POST",url:[this.baseURI,this.bucket,"o"].join("/"),params:Object.assign({name:this.file,uploadType:"resumable"},this.params),data:K,headers:{"User-Agent":(0,T.getUserAgentString)(),"x-goog-api-client":Y,...X}};K.contentLength&&(te.headers["X-Upload-Content-Length"]=K.contentLength.toString()),K.contentType&&(te.headers["X-Upload-Content-Type"]=K.contentType),typeof this.generation<"u"&&(te.params.ifGenerationMatch=this.generation),this.kmsKeyName&&(te.params.kmsKeyName=this.kmsKeyName),this.predefinedAcl&&(te.params.predefinedAcl=this.predefinedAcl),this.origin&&(te.headers.Origin=this.origin);const oe=await(0,I.default)(async le=>{var ee,se,de;try{const he=await this.makeRequest(te);return this.currentInvocationId.uri=_.v4(),he.headers.location}catch(he){const ge=he,me={code:(ee=ge.response)===null||ee===void 0?void 0:ee.status,name:(se=ge.response)===null||se===void 0?void 0:se.statusText,message:(de=ge.response)===null||de===void 0?void 0:de.statusText,errors:[{reason:ge.code}]};if(this.retryOptions.maxRetries>0&&this.retryOptions.retryableErrorFn(me))throw ge;return le(ge)}},{retries:this.retryOptions.maxRetries,factor:this.retryOptions.retryDelayMultiplier,maxTimeout:this.retryOptions.maxRetryDelay*1e3,maxRetryTime:this.retryOptions.totalTimeout*1e3});return this.uri=oe,this.offset=0,this.emit("uri",oe),oe}async continueUploading(){var K;return(K=this.offset)!==null&&K!==void 0||await this.getAndSetOffset(),this.startUploading()}async startUploading(){const K=!!this.chunkSize;let X=!1;if(this.numChunksReadInRequest=0,this.offset||(this.offset=0),this.offset<this.numBytesWritten){const de=this.numBytesWritten-this.offset,he=`The offset is lower than the number of bytes written. The server has ${this.offset} bytes and while ${this.numBytesWritten} bytes has been uploaded - thus ${de} bytes are missing. Stopping as this could result in data loss. Initiate a new upload to continue.`;this.emit("error",new RangeError(he));return}if(this.numBytesWritten<this.offset){const de=this.offset-this.numBytesWritten;for await(const he of this.upstreamIterator(de));this.numBytesWritten=this.offset}let Y;typeof this.contentLength=="number"&&(Y=this.contentLength-this.numBytesWritten),this.chunkSize&&(Y=Y?Math.min(this.chunkSize,Y):this.chunkSize);const te=this.upstreamIterator(Y),oe=new w.Readable({read:async()=>{X&&oe.push(null);const de=await te.next();de.value&&(this.numChunksReadInRequest++,K?m(this,l,"m",h).call(this,de.value):(m(this,l,"m",s).call(this),m(this,l,"m",h).call(this,de.value)),this.numBytesWritten+=de.value.byteLength,this.emit("progress",{bytesWritten:this.numBytesWritten,contentLength:this.contentLength}),oe.push(de.value)),de.done&&oe.push(null)}});let le=`${(0,T.getRuntimeTrackingString)()} gccl/${j.version}-${(0,T.getModuleFormat)()} gccl-invocation-id/${this.currentInvocationId.chunk}`;m(this,o,"f")&&(le+=` gccl-gcs-cmd/${m(this,o,"f")}`);const ee={"User-Agent":(0,T.getUserAgentString)(),"x-goog-api-client":le};if(K){for await(const Oe of this.upstreamIterator(Y))m(this,l,"m",h).call(this,Oe);const de=this.localWriteCacheByteLength,he=!await this.waitForNextChunk();this.prependLocalBufferToUpstream();let ge=this.contentLength;typeof this.contentLength!="number"&&he&&!this.isPartialUpload&&(ge=de+this.numBytesWritten);const me=de+this.numBytesWritten-1;ee["Content-Length"]=de,ee["Content-Range"]=`bytes ${this.offset}-${me}/${ge}`}else ee["Content-Range"]=`bytes ${this.offset}-*/${this.contentLength}`;const se={method:"PUT",url:this.uri,headers:ee,body:oe};try{const de=await this.makeRequestStream(se);de&&(X=!0,await this.responseHandler(de))}catch(de){const he=de;if(this.retryOptions.retryableErrorFn(he)){this.attemptDelayedRetry({status:NaN,data:he});return}this.destroy(he)}}async responseHandler(K){if(K.data.error){this.destroy(K.data.error);return}this.currentInvocationId.chunk=_.v4();const X=await this.waitForNextChunk(),Y=this.chunkSize&&K.status===D&&K.headers.range&&X,te=this.isPartialUpload&&K.status===D&&!X;if(Y){const oe=K.headers.range;this.offset=Number(oe.split("-")[1])+1;const le=this.numBytesWritten-this.offset;le?(this.prependLocalBufferToUpstream(le),this.numBytesWritten-=le):m(this,l,"m",s).call(this),this.continueUploading()}else if(!this.isSuccessfulResponse(K.status)&&!te){const oe=new Error("Upload failed");oe.code=K.status,oe.name="Upload failed",K?.data&&(oe.errors=[K?.data]),this.destroy(oe)}else m(this,l,"m",s).call(this),K&&K.data&&(K.data.size=Number(K.data.size)),this.emit("metadata",K.data),this.emit("uploadFinished")}async checkUploadStatus(K={}){let X=`${(0,T.getRuntimeTrackingString)()} gccl/${j.version}-${(0,T.getModuleFormat)()} gccl-invocation-id/${this.currentInvocationId.checkUploadStatus}`;m(this,o,"f")&&(X+=` gccl-gcs-cmd/${m(this,o,"f")}`);const Y={method:"PUT",url:this.uri,headers:{"Content-Length":0,"Content-Range":"bytes */*","User-Agent":(0,T.getUserAgentString)(),"x-goog-api-client":X}};try{const te=await this.makeRequest(Y);return this.currentInvocationId.checkUploadStatus=_.v4(),te}catch(te){if(K.retry===!1||!(te instanceof Error)||!this.retryOptions.retryableErrorFn(te))throw te;const oe=this.getRetryDelay();if(oe<=0)throw te;return await new Promise(le=>setTimeout(le,oe)),this.checkUploadStatus(K)}}async getAndSetOffset(){try{const K=await this.checkUploadStatus({retry:!1});if(K.status===D&&typeof K.headers.range=="string"){this.offset=Number(K.headers.range.split("-")[1])+1;return}this.offset=0}catch(K){const X=K;if(this.retryOptions.retryableErrorFn(X)){this.attemptDelayedRetry({status:NaN,data:X});return}this.destroy(X)}}async makeRequest(K){this.encryption&&(K.headers=K.headers||{},K.headers["x-goog-encryption-algorithm"]="AES256",K.headers["x-goog-encryption-key"]=this.encryption.key.toString(),K.headers["x-goog-encryption-key-sha256"]=this.encryption.hash.toString()),this.userProject&&(K.params=K.params||{},K.params.userProject=this.userProject),K.validateStatus=te=>this.isSuccessfulResponse(te)||te===D;const X={...this.customRequestOptions,...K,headers:{...this.customRequestOptions.headers,...K.headers}},Y=await this.authClient.request(X);if(Y.data&&Y.data.error)throw Y.data.error;return Y}async makeRequestStream(K){const X=new v.default,Y=()=>X.abort();this.once("error",Y),this.userProject&&(K.params=K.params||{},K.params.userProject=this.userProject),K.signal=X.signal,K.validateStatus=()=>!0;const te={...this.customRequestOptions,...K,headers:{...this.customRequestOptions.headers,...K.headers}},oe=await this.authClient.request(te),le=this.onResponse(oe);return this.removeListener("error",Y),le?oe:null}onResponse(K){return K.status!==200&&this.retryOptions.retryableErrorFn({code:K.status,message:K.statusText,name:K.statusText})?(this.attemptDelayedRetry(K),!1):(this.emit("response",K),!0)}attemptDelayedRetry(K){if(this.numRetries<this.retryOptions.maxRetries){if(K.status===L&&this.numChunksReadInRequest===0)this.startUploading();else{const X=this.getRetryDelay();if(X<=0){this.destroy(new Error(`Retry total time limit exceeded - ${JSON.stringify(K.data)}`));return}this.numBytesWritten-=this.localWriteCacheByteLength,this.prependLocalBufferToUpstream(),this.offset=void 0,setTimeout(this.continueUploading.bind(this),X)}this.numRetries++}else this.destroy(new Error(`Retry limit exceeded - ${JSON.stringify(K.data)}`))}getRetryDelay(){const K=Math.round(Math.random()*1e3),X=Math.pow(this.retryOptions.retryDelayMultiplier,this.numRetries)*1e3+K,Y=this.retryOptions.totalTimeout*1e3-(Date.now()-this.timeOfFirstRequest),te=this.retryOptions.maxRetryDelay*1e3;return Math.min(X,te,Y)}sanitizeEndpoint(K){return e.PROTOCOL_REGEX.test(K)||(K=`https://${K}`),K.replace(/\/+$/,"")}isSuccessfulResponse(K){return K>=200&&K<300}}e.Upload=k,o=new WeakMap,l=new WeakSet,s=function(){this.localWriteCache=[],this.localWriteCacheByteLength=0},h=function(K){this.localWriteCache.push(K),this.localWriteCacheByteLength+=K.byteLength};function V(W){return new k(W)}function G(W,K){const X=new k(W);if(!K)return X.createURI();X.createURI().then(Y=>K(null,Y),K)}function J(W){return new k(W).checkUploadStatus()}})(resumableUpload)),resumableUpload}var signer={},hasRequiredSigner;function requireSigner(){if(hasRequiredSigner)return signer;hasRequiredSigner=1;var e=signer&&signer.__createBinding||(Object.create?(function(b,y,O,w){w===void 0&&(w=O);var I=Object.getOwnPropertyDescriptor(y,O);(!I||("get"in I?!y.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return y[O]}}),Object.defineProperty(b,w,I)}):(function(b,y,O,w){w===void 0&&(w=O),b[w]=y[O]})),t=signer&&signer.__setModuleDefault||(Object.create?(function(b,y){Object.defineProperty(b,"default",{enumerable:!0,value:y})}):function(b,y){b.default=y}),a=signer&&signer.__importStar||(function(){var b=function(y){return b=Object.getOwnPropertyNames||function(O){var w=[];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(w[w.length]=I);return w},b(y)};return function(y){if(y&&y.__esModule)return y;var O={};if(y!=null)for(var w=b(y),I=0;I<w.length;I++)w[I]!=="default"&&e(O,y,w[I]);return t(O,y),O}})();Object.defineProperty(signer,"__esModule",{value:!0}),signer.SigningError=signer.URLSigner=signer.PATH_STYLED_HOST=signer.SignerExceptionMessages=void 0;const p=a(require$$1$3),g=a(require$$1$3),m=requireStorage$2(),c=requireUtil$6();var l;(function(b){b.ACCESSIBLE_DATE_INVALID="The accessible at date provided was invalid.",b.EXPIRATION_BEFORE_ACCESSIBLE_DATE="An expiration date cannot be before accessible date.",b.X_GOOG_CONTENT_SHA256="The header X-Goog-Content-SHA256 must be a hexadecimal string."})(l||(signer.SignerExceptionMessages=l={}));const o="v2",s=10080*60;signer.PATH_STYLED_HOST="https://storage.googleapis.com";class h{constructor(y,O,w,I=new m.Storage){this.auth=y,this.bucket=O,this.file=w,this.storage=I}getSignedUrl(y){const O=this.parseExpires(y.expires),w=y.method,I=this.parseAccessibleAt(y.accessibleAt);if(O<I)throw new Error(l.EXPIRATION_BEFORE_ACCESSIBLE_DATE);let _;const T=y.virtualHostedStyle||!1;y.cname?_=y.cname:T&&(_=`https://${this.bucket.name}.storage.${this.storage.universeDomain}`);const C=1e3,N=Object.assign({},y,{method:w,expiration:O,accessibleAt:new Date(C*I),bucket:this.bucket.name,file:this.file?(0,c.encodeURI)(this.file.name,!1):void 0});_&&(N.cname=_);const L=y.version||o;let D;if(L==="v2")D=this.getSignedUrlV2(N);else if(L==="v4")D=this.getSignedUrlV4(N);else throw new Error(`Invalid signed URL version: ${L}. Supported versions are 'v2' and 'v4'.`);return D.then(j=>{var k;j=Object.assign(j,y.queryParams);const V=new g.URL(((k=y.host)===null||k===void 0?void 0:k.toString())||N.cname||this.storage.apiEndpoint);return V.pathname=this.getResourcePath(!!N.cname,this.bucket.name,N.file),V.search=(0,c.qsStringify)(j),V.href})}getSignedUrlV2(y){const O=this.getCanonicalHeaders(y.extensionHeaders||{}),w=this.getResourcePath(!1,y.bucket,y.file),I=[y.method,y.contentMd5||"",y.contentType||"",y.expiration,O+w].join(`
`);return(async()=>{var T;const C=this.auth;try{const N=await C.sign(I,(T=y.signingEndpoint)===null||T===void 0?void 0:T.toString());return{GoogleAccessId:(await C.getCredentials()).client_email,Expires:y.expiration,Signature:N}}catch(N){const L=N,D=new v(L.message);throw D.stack=L.stack,D}})()}getSignedUrlV4(y){var O;y.accessibleAt=y.accessibleAt?y.accessibleAt:new Date;const w=1/1e3,I=y.expiration-y.accessibleAt.valueOf()*w;if(I>s)throw new Error(`Max allowed expiration is seven days (${s} seconds).`);const _=Object.assign({},y.extensionHeaders),T=new g.URL(((O=y.host)===null||O===void 0?void 0:O.toString())||y.cname||this.storage.apiEndpoint);_.host=T.hostname,y.contentMd5&&(_["content-md5"]=y.contentMd5),y.contentType&&(_["content-type"]=y.contentType);let C;const N=_["x-goog-content-sha256"];if(N){if(typeof N!="string"||!/[A-Fa-f0-9]{40}/.test(N))throw new Error(l.X_GOOG_CONTENT_SHA256);C=N}const L=Object.keys(_).map(G=>G.toLowerCase()).sort().join(";"),D=this.getCanonicalHeaders(_),k=`${(0,c.formatAsUTCISO)(y.accessibleAt)}/auto/storage/goog4_request`;return(async()=>{var G;const W=`${(await this.auth.getCredentials()).client_email}/${k}`,K=(0,c.formatAsUTCISO)(y.accessibleAt?y.accessibleAt:new Date,!0),X={"X-Goog-Algorithm":"GOOG4-RSA-SHA256","X-Goog-Credential":W,"X-Goog-Date":K,"X-Goog-Expires":I.toString(10),"X-Goog-SignedHeaders":L,...y.queryParams||{}},Y=this.getCanonicalQueryParams(X),te=this.getCanonicalRequest(y.method,this.getResourcePath(!!y.cname,y.bucket,y.file),Y,D,L,C),oe=p.createHash("sha256").update(te).digest("hex"),le=["GOOG4-RSA-SHA256",K,k,oe].join(`
`);try{const ee=await this.auth.sign(le,(G=y.signingEndpoint)===null||G===void 0?void 0:G.toString()),se=Buffer.from(ee,"base64").toString("hex");return Object.assign({},X,{"X-Goog-Signature":se})}catch(ee){const se=ee,de=new v(se.message);throw de.stack=se.stack,de}})()}getCanonicalHeaders(y){return(0,c.objectEntries)(y).map(([w,I])=>[w.toLowerCase(),I]).sort((w,I)=>w[0].localeCompare(I[0])).filter(([,w])=>w!==void 0).map(([w,I])=>{const _=`${I}`.trim().replace(/\s{2,}/g," ");return`${w}:${_}
`}).join("")}getCanonicalRequest(y,O,w,I,_,T){return[y,O,w,I,_,T||"UNSIGNED-PAYLOAD"].join(`
`)}getCanonicalQueryParams(y){return(0,c.objectEntries)(y).map(([O,w])=>[(0,c.encodeURI)(O,!0),(0,c.encodeURI)(w,!0)]).sort((O,w)=>O[0]<w[0]?-1:1).map(([O,w])=>`${O}=${w}`).join("&")}getResourcePath(y,O,w){return y?"/"+(w||""):w?`/${O}/${w}`:`/${O}`}parseExpires(y,O=new Date){const w=new Date(y).valueOf();if(isNaN(w))throw new Error(m.ExceptionMessages.EXPIRATION_DATE_INVALID);if(w<O.valueOf())throw new Error(m.ExceptionMessages.EXPIRATION_DATE_PAST);return Math.floor(w/1e3)}parseAccessibleAt(y){const O=new Date(y||new Date).valueOf();if(isNaN(O))throw new Error(l.ACCESSIBLE_DATE_INVALID);return Math.floor(O/1e3)}}signer.URLSigner=h;class v extends Error{constructor(){super(...arguments),this.name="SigningError"}}return signer.SigningError=v,signer}var crc32c={},hasRequiredCrc32c;function requireCrc32c(){if(hasRequiredCrc32c)return crc32c;hasRequiredCrc32c=1;var e=crc32c&&crc32c.__classPrivateFieldSet||function(s,h,v,b,y){if(b==="m")throw new TypeError("Private method is not writable");if(b==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof h=="function"?s!==h||!y:!h.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return b==="a"?y.call(s,v):y?y.value=v:h.set(s,v),v},t=crc32c&&crc32c.__classPrivateFieldGet||function(s,h,v,b){if(v==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?s!==h||!b:!h.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?b:v==="a"?b.call(s):b?b.value:h.get(s)},a;Object.defineProperty(crc32c,"__esModule",{value:!0}),crc32c.CRC32C_EXTENSION_TABLE=crc32c.CRC32C_EXTENSIONS=crc32c.CRC32C_EXCEPTION_MESSAGES=crc32c.CRC32C_DEFAULT_VALIDATOR_GENERATOR=crc32c.CRC32C=void 0;const p=require$$1$3,g=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697];crc32c.CRC32C_EXTENSIONS=g;const m=new Int32Array(g);crc32c.CRC32C_EXTENSION_TABLE=m;const c=()=>new o;crc32c.CRC32C_DEFAULT_VALIDATOR_GENERATOR=c;const l={INVALID_INIT_BASE64_RANGE:s=>`base64-encoded data expected to equal 4 bytes, not ${s}`,INVALID_INIT_BUFFER_LENGTH:s=>`Buffer expected to equal 4 bytes, not ${s}`,INVALID_INIT_INTEGER:s=>`Number expected to be a safe, unsigned 32-bit integer, not ${s}`};crc32c.CRC32C_EXCEPTION_MESSAGES=l;class o{constructor(h=0){a.set(this,0),e(this,a,h,"f")}update(h){let v=t(this,a,"f")^4294967295;for(const b of h)v=o.CRC32C_EXTENSION_TABLE[(b^v)&255]^v>>>8;e(this,a,v^4294967295,"f")}validate(h){return typeof h=="number"?h===t(this,a,"f"):typeof h=="string"?h===this.toString():Buffer.isBuffer(h)?Buffer.compare(h,this.toBuffer())===0:h.toString()===this.toString()}toBuffer(){const h=Buffer.alloc(4);return h.writeInt32BE(t(this,a,"f")),h}toJSON(){return this.toString()}toString(){return this.toBuffer().toString("base64")}valueOf(){return t(this,a,"f")}static fromBuffer(h){let v;if(Buffer.isBuffer(h)?v=h:"buffer"in h?v=Buffer.from(h.buffer):v=Buffer.from(h),v.byteLength!==4)throw new RangeError(l.INVALID_INIT_BUFFER_LENGTH(v.byteLength));return new o(v.readInt32BE())}static async fromFile(h){const v=new o;return await new Promise((b,y)=>{(0,p.createReadStream)(h).on("data",O=>{typeof O=="string"?v.update(Buffer.from(O)):v.update(O)}).on("end",()=>b()).on("error",y)}),v}static fromString(h){const v=Buffer.from(h,"base64");if(v.byteLength!==4)throw new RangeError(l.INVALID_INIT_BASE64_RANGE(v.byteLength));return this.fromBuffer(v)}static fromNumber(h){if(!Number.isSafeInteger(h)||h>4294967296||h<-4294967296)throw new RangeError(l.INVALID_INIT_INTEGER(h));return new o(h)}static from(h){return typeof h=="number"?this.fromNumber(h):typeof h=="string"?this.fromString(h):"byteLength"in h?this.fromBuffer(h):this.fromString(h.toString())}}return crc32c.CRC32C=o,a=new WeakMap,o.CRC32C_EXTENSIONS=g,o.CRC32C_EXTENSION_TABLE=m,crc32c}var hashStreamValidator={},hasRequiredHashStreamValidator;function requireHashStreamValidator(){if(hasRequiredHashStreamValidator)return hashStreamValidator;hasRequiredHashStreamValidator=1;var e=hashStreamValidator&&hashStreamValidator.__classPrivateFieldSet||function(h,v,b,y,O){if(y==="m")throw new TypeError("Private method is not writable");if(y==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof v=="function"?h!==v||!O:!v.has(h))throw new TypeError("Cannot write private member to an object whose class did not declare it");return y==="a"?O.call(h,b):O?O.value=b:v.set(h,b),b},t=hashStreamValidator&&hashStreamValidator.__classPrivateFieldGet||function(h,v,b,y){if(b==="a"&&!y)throw new TypeError("Private accessor was defined without a getter");if(typeof v=="function"?h!==v||!y:!v.has(h))throw new TypeError("Cannot read private member from an object whose class did not declare it");return b==="m"?y:b==="a"?y.call(h):y?y.value:v.get(h)},a,p,g;Object.defineProperty(hashStreamValidator,"__esModule",{value:!0}),hashStreamValidator.HashStreamValidator=void 0;const m=require$$1$3,c=require$$1$3,l=requireCrc32c(),o=requireFile();class s extends c.Transform{constructor(v={}){if(super(),this.updateHashesOnly=!1,a.set(this,void 0),p.set(this,void 0),g.set(this,""),this.crc32cEnabled=!!v.crc32c,this.md5Enabled=!!v.md5,this.updateHashesOnly=!!v.updateHashesOnly,this.crc32cExpected=v.crc32cExpected,this.md5Expected=v.md5Expected,this.crc32cEnabled)if(v.crc32cInstance)e(this,a,v.crc32cInstance,"f");else{const b=v.crc32cGenerator||l.CRC32C_DEFAULT_VALIDATOR_GENERATOR;e(this,a,b(),"f")}this.md5Enabled&&e(this,p,(0,m.createHash)("md5"),"f")}get crc32c(){var v;return(v=t(this,a,"f"))===null||v===void 0?void 0:v.toString()}_flush(v){if(t(this,p,"f")&&e(this,g,t(this,p,"f").digest("base64"),"f"),this.updateHashesOnly){v();return}let b=this.crc32cEnabled||this.md5Enabled;if(this.crc32cEnabled&&this.crc32cExpected&&(b=!this.test("crc32c",this.crc32cExpected)),this.md5Enabled&&this.md5Expected&&(b=!this.test("md5",this.md5Expected)),b){const y=new o.RequestError(o.FileExceptionMessages.DOWNLOAD_MISMATCH);y.code="CONTENT_DOWNLOAD_MISMATCH",v(y)}else v()}_transform(v,b,y){this.push(v,b);try{t(this,a,"f")&&t(this,a,"f").update(v),t(this,p,"f")&&t(this,p,"f").update(v),y()}catch(O){y(O)}}test(v,b){const y=Buffer.isBuffer(b)?b.toString("base64"):b;return v==="crc32c"&&t(this,a,"f")?t(this,a,"f").validate(y):v==="md5"&&t(this,p,"f")?t(this,g,"f")===y:!1}}return hashStreamValidator.HashStreamValidator=s,a=new WeakMap,p=new WeakMap,g=new WeakMap,hashStreamValidator}var hasRequiredFile;function requireFile(){if(hasRequiredFile)return file;hasRequiredFile=1;var e=file&&file.__createBinding||(Object.create?(function(le,ee,se,de){de===void 0&&(de=se);var he=Object.getOwnPropertyDescriptor(ee,se);(!he||("get"in he?!ee.__esModule:he.writable||he.configurable))&&(he={enumerable:!0,get:function(){return ee[se]}}),Object.defineProperty(le,de,he)}):(function(le,ee,se,de){de===void 0&&(de=se),le[de]=ee[se]})),t=file&&file.__setModuleDefault||(Object.create?(function(le,ee){Object.defineProperty(le,"default",{enumerable:!0,value:ee})}):function(le,ee){le.default=ee}),a=file&&file.__importStar||(function(){var le=function(ee){return le=Object.getOwnPropertyNames||function(se){var de=[];for(var he in se)Object.prototype.hasOwnProperty.call(se,he)&&(de[de.length]=he);return de},le(ee)};return function(ee){if(ee&&ee.__esModule)return ee;var se={};if(ee!=null)for(var de=le(ee),he=0;he<de.length;he++)de[he]!=="default"&&e(se,ee,de[he]);return t(se,ee),se}})(),p=file&&file.__classPrivateFieldGet||function(le,ee,se,de){if(se==="a"&&!de)throw new TypeError("Private accessor was defined without a getter");if(typeof ee=="function"?le!==ee||!de:!ee.has(le))throw new TypeError("Cannot read private member from an object whose class did not declare it");return se==="m"?de:se==="a"?de.call(le):de?de.value:ee.get(le)},g=file&&file.__importDefault||function(le){return le&&le.__esModule?le:{default:le}},m,c;Object.defineProperty(file,"__esModule",{value:!0}),file.File=file.FileExceptionMessages=file.RequestError=file.STORAGE_POST_POLICY_BASE_URL=file.ActionToHTTPMethod=void 0;const l=requireNodejsCommon(),o=requireSrc$5(),s=a(require$$1$3),h=a(require$$1$3),v=g(requireMime()),b=a(requireResumableUpload()),y=require$$1$3,O=a(require$$1$3),w=requireStorage$2(),I=requireBucket(),_=requireAcl(),T=requireSigner(),C=requireUtil$5(),N=g(requireDuplexify()),L=requireUtil$6(),D=requireCrc32c(),j=requireHashStreamValidator(),k=g(requireLib$1());var V;(function(le){le.read="GET",le.write="PUT",le.delete="DELETE",le.resumable="POST"})(V||(file.ActionToHTTPMethod=V={})),file.STORAGE_POST_POLICY_BASE_URL="https://storage.googleapis.com";const G=/^gs:\/\/([a-z0-9_.-]+)\/(.+)$/,J=new RegExp([/^text\/|application\/ecmascript|application\/javascript|application\/json/,/|application\/postscript|application\/rtf|application\/toml|application\/vnd.dart/,/|application\/vnd.ms-fontobject|application\/wasm|application\/x-httpd-php|application\/x-ns-proxy-autoconfig/,/|application\/x-sh(?!ockwave-flash)|application\/x-tar|application\/x-virtualbox-hdd|application\/x-virtualbox-ova|application\/x-virtualbox-ovf/,/|^application\/x-virtualbox-vbox$|application\/x-virtualbox-vdi|application\/x-virtualbox-vhd|application\/x-virtualbox-vmdk/,/|application\/xml|application\/xml-dtd|font\/otf|font\/ttf|image\/bmp|image\/vnd.adobe.photoshop|image\/vnd.microsoft.icon/,/|image\/vnd.ms-dds|image\/x-icon|image\/x-ms-bmp|message\/rfc822|model\/gltf-binary|\+json|\+text|\+xml|\+yaml/].map(le=>le.source).join(""),"i");class W extends Error{}file.RequestError=W;const K=10080*60,X=/(gs):\/\/([a-z0-9_.-]+)\/(.+)/g,Y=/(https):\/\/(storage\.googleapis\.com)\/([a-z0-9_.-]+)\/(.+)/g;var te;(function(le){le.EXPIRATION_TIME_NA="An expiration time is not available.",le.DESTINATION_NO_NAME="Destination file should have a name.",le.INVALID_VALIDATION_FILE_RANGE="Cannot use validation with file ranges (start/end).",le.MD5_NOT_AVAILABLE="MD5 verification was specified, but is not available for the requested object. MD5 is not available for composite objects.",le.EQUALS_CONDITION_TWO_ELEMENTS="Equals condition must be an array of 2 elements.",le.STARTS_WITH_TWO_ELEMENTS="StartsWith condition must be an array of 2 elements.",le.CONTENT_LENGTH_RANGE_MIN_MAX="ContentLengthRange must have numeric min & max fields.",le.DOWNLOAD_MISMATCH="The downloaded data did not match the data from the server. To be sure the content is the same, you should download the file again.",le.UPLOAD_MISMATCH_DELETE_FAIL=`The uploaded data did not match the data from the server.
    As a precaution, we attempted to delete the file, but it was not successful.
    To be sure the content is the same, you should try removing the file manually,
    then uploading the file again.
    

The delete attempt failed with this message:

  `,le.UPLOAD_MISMATCH=`The uploaded data did not match the data from the server.
    As a precaution, the file has been deleted.
    To be sure the content is the same, you should try uploading the file again.`,le.MD5_RESUMED_UPLOAD="MD5 cannot be used with a continued resumable upload as MD5 cannot be extended from an existing value",le.MISSING_RESUME_CRC32C_FINAL_UPLOAD="The CRC32C is missing for the final portion of a resumed upload, which is required for validation. Please provide `resumeCRC32C` if validation is required, or disable `validation`."})(te||(file.FileExceptionMessages=te={}));class oe extends l.ServiceObject{constructor(ee,se,de={}){var he,ge;const me={};let Oe;de.generation!==null&&(typeof de.generation=="string"?Oe=Number(de.generation):Oe=de.generation,isNaN(Oe)||(me.generation=Oe)),Object.assign(me,de.preconditionOpts);const fe=de.userProject||ee.userProject;typeof fe=="string"&&(me.userProject=fe);const _e={delete:{reqOpts:{qs:me}},exists:{reqOpts:{qs:me}},get:{reqOpts:{qs:me}},getMetadata:{reqOpts:{qs:me}},setMetadata:{reqOpts:{qs:me}}};if(super({parent:ee,baseUrl:"/o",id:encodeURIComponent(se),methods:_e}),m.add(this),this.bucket=ee,this.storage=ee.parent,de.generation!==null){let Ee;typeof de.generation=="string"?Ee=Number(de.generation):Ee=de.generation,isNaN(Ee)||(this.generation=Ee)}this.kmsKeyName=de.kmsKeyName,this.userProject=fe,this.name=se,de.encryptionKey&&this.setEncryptionKey(de.encryptionKey),this.acl=new _.Acl({request:this.request.bind(this),pathPrefix:"/acl"}),this.crc32cGenerator=de.crc32cGenerator||this.bucket.crc32cGenerator,this.instanceRetryValue=(ge=(he=this.storage)===null||he===void 0?void 0:he.retryOptions)===null||ge===void 0?void 0:ge.autoRetry,this.instancePreconditionOpts=de?.preconditionOpts}get cloudStorageURI(){const ee=this.bucket.cloudStorageURI;return ee.pathname=this.name,ee}shouldRetryBasedOnPreconditionAndIdempotencyStrat(ee){var se;return!(ee?.ifGenerationMatch===void 0&&((se=this.instancePreconditionOpts)===null||se===void 0?void 0:se.ifGenerationMatch)===void 0&&this.storage.retryOptions.idempotencyStrategy===w.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===w.IdempotencyStrategy.RetryNever)}copy(ee,se,de){var he,ge;const me=new Error(te.DESTINATION_NO_NAME);if(!ee)throw me;let Oe={};typeof se=="function"?de=se:se&&(Oe={...se}),de=de||l.util.noop;let fe,_e,Ee;if(typeof ee=="string"){const P=G.exec(ee);P!==null&&P.length===3?(fe=this.storage.bucket(P[1]),_e=P[2]):(fe=this.bucket,_e=ee)}else if(ee instanceof I.Bucket)fe=ee,_e=this.name;else if(ee instanceof oe)fe=ee.bucket,_e=ee.name,Ee=ee;else throw me;const z={};this.generation!==void 0&&(z.sourceGeneration=this.generation),Oe.token!==void 0&&(z.rewriteToken=Oe.token),Oe.userProject!==void 0&&(z.userProject=Oe.userProject,delete Oe.userProject),Oe.predefinedAcl!==void 0&&(z.destinationPredefinedAcl=Oe.predefinedAcl,delete Oe.predefinedAcl),Ee=Ee||fe.file(_e);const d={};if(this.encryptionKey!==void 0&&(d["x-goog-copy-source-encryption-algorithm"]="AES256",d["x-goog-copy-source-encryption-key"]=this.encryptionKeyBase64,d["x-goog-copy-source-encryption-key-sha256"]=this.encryptionKeyHash),Ee.encryptionKey!==void 0?this.setEncryptionKey(Ee.encryptionKey):Oe.destinationKmsKeyName!==void 0?(z.destinationKmsKeyName=Oe.destinationKmsKeyName,delete Oe.destinationKmsKeyName):Ee.kmsKeyName!==void 0&&(z.destinationKmsKeyName=Ee.kmsKeyName),z.destinationKmsKeyName){this.kmsKeyName=z.destinationKmsKeyName;const P=this.interceptors.indexOf(this.encryptionKeyInterceptor);P>-1&&this.interceptors.splice(P,1)}this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(Oe?.preconditionOpts)||(this.storage.retryOptions.autoRetry=!1),((he=Oe.preconditionOpts)===null||he===void 0?void 0:he.ifGenerationMatch)!==void 0&&(z.ifGenerationMatch=(ge=Oe.preconditionOpts)===null||ge===void 0?void 0:ge.ifGenerationMatch,delete Oe.preconditionOpts),this.request({method:"POST",uri:`/rewriteTo/b/${fe.name}/o/${encodeURIComponent(Ee.name)}`,qs:z,json:Oe,headers:d},(P,A)=>{if(this.storage.retryOptions.autoRetry=this.instanceRetryValue,P){de(P,null,A);return}if(A.rewriteToken){const $={token:A.rewriteToken};z.userProject&&($.userProject=z.userProject),z.destinationKmsKeyName&&($.destinationKmsKeyName=z.destinationKmsKeyName),this.copy(Ee,$,de);return}de(null,Ee,A)})}createReadStream(ee={}){ee=Object.assign({decompress:!0},ee);const se=typeof ee.start=="number"||typeof ee.end=="number",de=ee.end<0;let he,ge;const me=new L.PassThroughShim;let Oe=!0,fe=!1;if(typeof ee.validation=="string"){const P=ee.validation.toLowerCase().trim();Oe=P==="crc32c",fe=P==="md5"}else ee.validation===!1&&(Oe=!1);const _e=!se&&(Oe||fe);if(se){if(typeof ee.validation=="string"||ee.validation===!0)throw new Error(te.INVALID_VALIDATION_FILE_RANGE);Oe=!1,fe=!1}const Ee=P=>{P&&(ge?.agent&&ge.agent.destroy(),me.destroy(P))},z=(P,A,$)=>{if(P){this.getBufferFromReadable($).then(M=>{P.message=M.toString("utf8"),me.destroy(P)});return}ge=$.request;const ie=$.toJSON().headers,pe=ie["content-encoding"]==="gzip",ne={},u=ie["x-goog-stored-content-encoding"]==="gzip"&&pe||ie["x-goog-stored-content-encoding"]==="identity",x=[];if(_e&&(typeof ie["x-goog-hash"]=="string"&&ie["x-goog-hash"].split(",").forEach(M=>{const n=M.indexOf("="),q=M.substring(0,n),U=M.substring(n+1);ne[q]=U}),he=new j.HashStreamValidator({crc32c:Oe,md5:fe,crc32cGenerator:this.crc32cGenerator,crc32cExpected:ne.crc32c,md5Expected:ne.md5})),fe&&!ne.md5){const M=new W(te.MD5_NOT_AVAILABLE);M.code="MD5_NOT_AVAILABLE",me.destroy(M);return}u&&_e&&he&&x.push(he),pe&&ee.decompress&&x.push(O.createGunzip()),(0,y.pipeline)($,...x,me,Ee)},d=()=>{const P={alt:"media"};this.generation&&(P.generation=this.generation),ee.userProject&&(P.userProject=ee.userProject);const A={"Accept-Encoding":"gzip","Cache-Control":"no-store"};if(se){const ie=typeof ee.start=="number"?ee.start:"0",pe=typeof ee.end=="number"?ee.end:"";A.Range=`bytes=${de?pe:`${ie}-${pe}`}`}const $={uri:"",headers:A,qs:P};ee[C.GCCL_GCS_CMD_KEY]&&($[C.GCCL_GCS_CMD_KEY]=ee[C.GCCL_GCS_CMD_KEY]),this.requestStream($).on("error",ie=>{me.destroy(ie)}).on("response",ie=>{me.emit("response",ie),l.util.handleResp(null,ie,null,z)}).resume()};return me.on("reading",d),me}createResumableUpload(ee,se){var de,he;const ge=typeof ee=="object"?ee:{};se=typeof ee=="function"?ee:se;const me=this.storage.retryOptions;(((de=ge?.preconditionOpts)===null||de===void 0?void 0:de.ifGenerationMatch)===void 0&&((he=this.instancePreconditionOpts)===null||he===void 0?void 0:he.ifGenerationMatch)===void 0&&this.storage.retryOptions.idempotencyStrategy===w.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===w.IdempotencyStrategy.RetryNever)&&(me.autoRetry=!1),b.createURI({authClient:this.storage.authClient,apiEndpoint:this.storage.apiEndpoint,bucket:this.bucket.name,customRequestOptions:this.getRequestInterceptors().reduce((Oe,fe)=>fe(Oe),{}),file:this.name,generation:this.generation,key:this.encryptionKey,kmsKeyName:this.kmsKeyName,metadata:ge.metadata,offset:ge.offset,origin:ge.origin,predefinedAcl:ge.predefinedAcl,private:ge.private,public:ge.public,userProject:ge.userProject||this.userProject,retryOptions:me,params:ge?.preconditionOpts||this.instancePreconditionOpts,universeDomain:this.bucket.storage.universeDomain,[C.GCCL_GCS_CMD_KEY]:ge[C.GCCL_GCS_CMD_KEY]},se),this.storage.retryOptions.autoRetry=this.instanceRetryValue}createWriteStream(ee={}){var se;if((se=ee.metadata)!==null&&se!==void 0||(ee.metadata={}),ee.contentType&&(ee.metadata.contentType=ee.contentType),!ee.metadata.contentType||ee.metadata.contentType==="auto"){const A=v.default.getType(this.name);A&&(ee.metadata.contentType=A)}let de=ee.gzip;de==="auto"&&(de=J.test(ee.metadata.contentType||"")),de&&(ee.metadata.contentEncoding="gzip");let he=!0,ge=!1;if(typeof ee.validation=="string"?(ee.validation=ee.validation.toLowerCase(),he=ee.validation==="crc32c",ge=ee.validation==="md5"):ee.validation===!1&&(he=!1,ge=!1),ee.offset){if(ge)throw new RangeError(te.MD5_RESUMED_UPLOAD);if(he&&!ee.isPartialUpload&&!ee.resumeCRC32C)throw new RangeError(te.MISSING_RESUME_CRC32C_FINAL_UPLOAD)}let me=A=>{Oe.destroy(A||void 0)};const Oe=new y.Writable({final(A){me=A,_e.end()},write(A,$,ie){_e.write(A,$,ie)}});Oe.once("error",A=>{_e.destroy(A)}),Oe.once("close",()=>{_e.destroy()});const fe=[];de&&fe.push(O.createGzip());const _e=new L.PassThroughShim,Ee=()=>{};_e.on("error",Ee);let z=null;if(he||ge){const A=ee.resumeCRC32C?D.CRC32C.from(ee.resumeCRC32C):void 0;z=new j.HashStreamValidator({crc32c:he,crc32cInstance:A,md5:ge,crc32cGenerator:this.crc32cGenerator,updateHashesOnly:!0}),fe.push(z)}const d=(0,N.default)();let P=!1;return _e.on("reading",()=>Oe.emit("reading")),_e.on("writing",()=>Oe.emit("writing")),d.on("uri",A=>Oe.emit("uri",A)),d.on("progress",A=>Oe.emit("progress",A)),d.on("response",A=>Oe.emit("response",A)),d.once("metadata",()=>{P=!0}),Oe.once("writing",()=>{ee.resumable===!1?this.startSimpleUpload_(d,ee):this.startResumableUpload_(d,ee),_e.removeListener("error",Ee),(0,y.pipeline)(_e,...fe,d,async A=>{if(A)return me(A);if(!P)try{await new Promise(($,ie)=>{d.once("metadata",$),d.once("error",ie)})}catch($){return me($)}z?.crc32c&&Oe.emit("crc32c",z.crc32c);try{const $=ee.isPartialUpload&&!this.metadata;z&&!$&&await p(this,m,"m",c).call(this,z,{crc32c:he,md5:ge}),me()}catch($){me($)}})}),Oe}delete(ee,se){const de=typeof ee=="object"?ee:{};se=typeof ee=="function"?ee:se,this.disableAutoRetryConditionallyIdempotent_(this.methods.delete,I.AvailableServiceObjectMethods.delete,de),super.delete(de).then(he=>se(null,...he)).catch(se).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}download(ee,se){let de;typeof ee=="function"?(se=ee,de={}):de=ee;let he=!1;const ge=((..._e)=>{he||se(..._e),he=!0}),me=de.destination;delete de.destination,de.encryptionKey&&(this.setEncryptionKey(de.encryptionKey),delete de.encryptionKey);const Oe=this.createReadStream(de);let fe=!1;me?Oe.on("error",ge).once("data",_e=>{fe=!0;const Ee=h.createWriteStream(me);Ee.write(_e),Oe.pipe(Ee).on("error",z=>{ge(z,Buffer.from(""))}).on("finish",()=>{ge(null,_e)})}).on("end",()=>{if(!fe){const _e=Buffer.alloc(0);try{h.writeFileSync(me,_e),ge(null,_e)}catch(Ee){ge(Ee,_e)}}}):this.getBufferFromReadable(Oe).then(_e=>ge?.(null,_e)).catch(ge)}setEncryptionKey(ee){return this.encryptionKey=ee,this.encryptionKeyBase64=Buffer.from(ee).toString("base64"),this.encryptionKeyHash=s.createHash("sha256").update(this.encryptionKeyBase64,"base64").digest("base64"),this.encryptionKeyInterceptor={request:se=>(se.headers=se.headers||{},se.headers["x-goog-encryption-algorithm"]="AES256",se.headers["x-goog-encryption-key"]=this.encryptionKeyBase64,se.headers["x-goog-encryption-key-sha256"]=this.encryptionKeyHash,se)},this.interceptors.push(this.encryptionKeyInterceptor),this}static from(ee,se,de){const he=[...ee.matchAll(X)],ge=[...ee.matchAll(Y)];if(he.length>0){const me=new I.Bucket(se,he[0][2]);return new oe(me,he[0][3],de)}else if(ge.length>0){const me=new I.Bucket(se,ge[0][3]);return new oe(me,ge[0][4],de)}else throw new Error("URL string must be of format gs://bucket/file or https://storage.googleapis.com/bucket/file")}get(ee,se){const de=typeof ee=="object"?ee:{};se=typeof ee=="function"?ee:se,super.get(de).then(he=>se(null,...he)).catch(se)}getExpirationDate(ee){this.getMetadata((se,de,he)=>{if(se){ee(se,null,he);return}if(!de.retentionExpirationTime){const ge=new Error(te.EXPIRATION_TIME_NA);ee(ge,null,he);return}ee(null,new Date(de.retentionExpirationTime),he)})}generateSignedPostPolicyV2(ee,se){const de=(0,L.normalize)(ee,se);let he=de.options;const ge=de.callback,me=new Date(he.expires);if(isNaN(me.getTime()))throw new Error(w.ExceptionMessages.EXPIRATION_DATE_INVALID);if(me.valueOf()<Date.now())throw new Error(w.ExceptionMessages.EXPIRATION_DATE_PAST);he=Object.assign({},he);const Oe=[["eq","$key",this.name],{bucket:this.bucket.name}];if(Array.isArray(he.equals)&&(Array.isArray(he.equals[0])||(he.equals=[he.equals]),he.equals.forEach(z=>{if(!Array.isArray(z)||z.length!==2)throw new Error(te.EQUALS_CONDITION_TWO_ELEMENTS);Oe.push(["eq",z[0],z[1]])})),Array.isArray(he.startsWith)&&(Array.isArray(he.startsWith[0])||(he.startsWith=[he.startsWith]),he.startsWith.forEach(z=>{if(!Array.isArray(z)||z.length!==2)throw new Error(te.STARTS_WITH_TWO_ELEMENTS);Oe.push(["starts-with",z[0],z[1]])})),he.acl&&Oe.push({acl:he.acl}),he.successRedirect&&Oe.push({success_action_redirect:he.successRedirect}),he.successStatus&&Oe.push({success_action_status:he.successStatus}),he.contentLengthRange){const z=he.contentLengthRange.min,d=he.contentLengthRange.max;if(typeof z!="number"||typeof d!="number")throw new Error(te.CONTENT_LENGTH_RANGE_MIN_MAX);Oe.push(["content-length-range",z,d])}const fe={expiration:me.toISOString(),conditions:Oe},_e=JSON.stringify(fe),Ee=Buffer.from(_e).toString("base64");this.storage.authClient.sign(Ee,he.signingEndpoint).then(z=>{ge(null,{string:_e,base64:Ee,signature:z})},z=>{ge(new T.SigningError(z.message))})}generateSignedPostPolicyV4(ee,se){const de=(0,L.normalize)(ee,se);let he=de.options;const ge=de.callback,me=new Date(he.expires);if(isNaN(me.getTime()))throw new Error(w.ExceptionMessages.EXPIRATION_DATE_INVALID);if(me.valueOf()<Date.now())throw new Error(w.ExceptionMessages.EXPIRATION_DATE_PAST);if(me.valueOf()-Date.now()>K*1e3)throw new Error(`Max allowed expiration is seven days (${K} seconds).`);he=Object.assign({},he);let Oe=Object.assign({},he.fields);const fe=new Date,_e=(0,L.formatAsUTCISO)(fe,!0),Ee=(0,L.formatAsUTCISO)(fe);(async()=>{const{client_email:d}=await this.storage.authClient.getCredentials(),P=`${d}/${Ee}/auto/storage/goog4_request`;Oe={...Oe,bucket:this.bucket.name,key:this.name,"x-goog-date":_e,"x-goog-credential":P,"x-goog-algorithm":"GOOG4-RSA-SHA256"};const A=he.conditions||[];Object.entries(Oe).forEach(([u,x])=>{u.startsWith("x-ignore-")||A.push({[u]:x})}),delete Oe.bucket;const $=(0,L.formatAsUTCISO)(me,!0,"-",":"),ie={conditions:A,expiration:$},pe=(0,L.unicodeJSONStringify)(ie),ne=Buffer.from(pe).toString("base64");try{const u=await this.storage.authClient.sign(ne,he.signingEndpoint),x=Buffer.from(u,"base64").toString("hex"),M=this.parent.storage.universeDomain;Oe.policy=ne,Oe["x-goog-signature"]=x;let n;return this.storage.customEndpoint?n=this.storage.apiEndpoint:he.virtualHostedStyle?n=`https://${this.bucket.name}.storage.${M}/`:he.bucketBoundHostname?n=`${he.bucketBoundHostname}/`:n=`https://storage.${M}/${this.bucket.name}/`,{url:n,fields:Oe}}catch(u){throw new T.SigningError(u.message)}})().then(d=>ge(null,d),ge)}getSignedUrl(ee,se){const de=V[ee.action],he=(0,L.objectKeyToLowercase)(ee.extensionHeaders||{});ee.action==="resumable"&&(he["x-goog-resumable"]="start");const ge=Object.assign({},ee.queryParams);typeof ee.responseType=="string"&&(ge["response-content-type"]=ee.responseType),typeof ee.promptSaveAs=="string"&&(ge["response-content-disposition"]='attachment; filename="'+ee.promptSaveAs+'"'),typeof ee.responseDisposition=="string"&&(ge["response-content-disposition"]=ee.responseDisposition),this.generation&&(ge.generation=this.generation.toString());const me={method:de,expires:ee.expires,accessibleAt:ee.accessibleAt,extensionHeaders:he,queryParams:ge,contentMd5:ee.contentMd5,contentType:ee.contentType,host:ee.host};ee.cname&&(me.cname=ee.cname),ee.version&&(me.version=ee.version),ee.virtualHostedStyle&&(me.virtualHostedStyle=ee.virtualHostedStyle),this.signer||(this.signer=new T.URLSigner(this.storage.authClient,this.bucket,this,this.storage)),this.signer.getSignedUrl(me).then(Oe=>se(null,Oe),se)}isPublic(ee){var se;const de=((se=this.storage)===null||se===void 0?void 0:se.interceptors)||[],he=this.interceptors||[],me=de.concat(he).reduce((Oe,fe)=>{const _e=fe.request({uri:`${this.storage.apiEndpoint}/${this.bucket.name}/${encodeURIComponent(this.name)}`});return Object.assign(Oe,_e.headers),Oe},{});l.util.makeRequest({method:"GET",uri:`${this.storage.apiEndpoint}/${this.bucket.name}/${encodeURIComponent(this.name)}`,headers:me},{retryOptions:this.storage.retryOptions},Oe=>{Oe?Oe.code===403?ee(null,!1):ee(Oe):ee(null,!0)})}makePrivate(ee,se){var de,he;const ge=typeof ee=="object"?ee:{};se=typeof ee=="function"?ee:se;const me={predefinedAcl:ge.strict?"private":"projectPrivate"};((de=ge.preconditionOpts)===null||de===void 0?void 0:de.ifMetagenerationMatch)!==void 0&&(me.ifMetagenerationMatch=(he=ge.preconditionOpts)===null||he===void 0?void 0:he.ifMetagenerationMatch,delete ge.preconditionOpts),ge.userProject&&(me.userProject=ge.userProject);const Oe={...ge.metadata,acl:null};this.setMetadata(Oe,me,se)}makePublic(ee){ee=ee||l.util.noop,this.acl.add({entity:"allUsers",role:"READER"},(se,de,he)=>{ee(se,he)})}publicUrl(){return`${this.storage.apiEndpoint}/${this.bucket.name}/${encodeURIComponent(this.name)}`}moveFileAtomic(ee,se,de){var he,ge;const me=new Error(te.DESTINATION_NO_NAME);if(!ee)throw me;let Oe={};typeof se=="function"?de=se:se&&(Oe={...se}),de=de||l.util.noop;let fe,_e;if(typeof ee=="string"){const z=G.exec(ee);z!==null&&z.length===3?fe=z[2]:fe=ee}else if(ee instanceof oe)fe=ee.name,_e=ee;else throw me;_e=_e||this.bucket.file(fe),this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(Oe?.preconditionOpts)||(this.storage.retryOptions.autoRetry=!1);const Ee={};Oe.userProject!==void 0&&(Ee.userProject=Oe.userProject,delete Oe.userProject),((he=Oe.preconditionOpts)===null||he===void 0?void 0:he.ifGenerationMatch)!==void 0&&(Ee.ifGenerationMatch=(ge=Oe.preconditionOpts)===null||ge===void 0?void 0:ge.ifGenerationMatch,delete Oe.preconditionOpts),this.request({method:"POST",uri:`/moveTo/o/${encodeURIComponent(_e.name)}`,qs:Ee,json:Oe},(z,d)=>{if(this.storage.retryOptions.autoRetry=this.instanceRetryValue,z){de(z,null,d);return}de(null,_e,d)})}move(ee,se,de){const he=typeof se=="object"?se:{};de=typeof se=="function"?se:de,de=de||l.util.noop,this.copy(ee,he,(ge,me,Oe)=>{if(ge){ge.message="file#copy failed with an error - "+ge.message,de(ge,null,Oe);return}this.name!==me.name||this.bucket.name!==me.bucket.name?this.delete(he,(fe,_e)=>{if(fe){fe.message="file#delete failed with an error - "+fe.message,de(fe,me,_e);return}de(null,me,Oe)}):de(null,me,Oe)})}rename(ee,se,de){const he=typeof se=="object"?se:{};de=typeof se=="function"?se:de,de=de||l.util.noop,this.move(ee,he,de)}async restore(ee){const[se]=await this.request({method:"POST",uri:"/restore",qs:ee});return se}request(ee,se){return this.parent.request.call(this,ee,se)}rotateEncryptionKey(ee,se){var de;se=typeof ee=="function"?ee:se;let he={};typeof ee=="string"||ee instanceof Buffer?he={encryptionKey:ee}:typeof ee=="object"&&(he=ee);const ge=this.bucket.file(this.id,he),me=((de=he.preconditionOpts)===null||de===void 0?void 0:de.ifGenerationMatch)!==void 0?{preconditionOpts:he.preconditionOpts}:{};this.copy(ge,me,se)}save(ee,se,de){de=typeof se=="function"?se:de;const he=typeof se=="object"?se:{};let ge=this.storage.retryOptions.maxRetries;this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(he?.preconditionOpts)||(ge=0);const me=(0,k.default)(async Oe=>new Promise((fe,_e)=>{ge===0&&(this.storage.retryOptions.autoRetry=!1);const Ee=this.createWriteStream(he);he.onUploadProgress&&Ee.on("progress",he.onUploadProgress);const z=d=>this.storage.retryOptions.autoRetry&&this.storage.retryOptions.retryableErrorFn(d)?_e(d):Oe(d);typeof ee=="string"||Buffer.isBuffer(ee)||ee instanceof Uint8Array?Ee.on("error",z).on("finish",()=>fe()).end(ee):(0,y.pipeline)(ee,Ee,d=>{if(d){if(typeof ee!="function")return Oe(d);z(d)}else fe()})}),{retries:ge,factor:this.storage.retryOptions.retryDelayMultiplier,maxTimeout:this.storage.retryOptions.maxRetryDelay*1e3,maxRetryTime:this.storage.retryOptions.totalTimeout*1e3});return de?me.then(()=>{if(de)return de()}).catch(de):me}setMetadata(ee,se,de){const he=typeof se=="object"?se:{};de=typeof se=="function"?se:de,this.disableAutoRetryConditionallyIdempotent_(this.methods.setMetadata,I.AvailableServiceObjectMethods.setMetadata,he),super.setMetadata(ee,he).then(ge=>de(null,...ge)).catch(de).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}setStorageClass(ee,se,de){de=typeof se=="function"?se:de;const ge={...typeof se=="object"?se:{},storageClass:ee.replace(/-/g,"_").replace(/([a-z])([A-Z])/g,(me,Oe,fe)=>Oe+"_"+fe).toUpperCase()};this.copy(this,ge,(me,Oe,fe)=>{if(me){de(me,fe);return}this.metadata=Oe.metadata,de(null,fe)})}setUserProject(ee){this.bucket.setUserProject.call(this,ee)}startResumableUpload_(ee,se={}){var de;(de=se.metadata)!==null&&de!==void 0||(se.metadata={});const he=this.storage.retryOptions;this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(se.preconditionOpts)||(he.autoRetry=!1);const ge={authClient:this.storage.authClient,apiEndpoint:this.storage.apiEndpoint,bucket:this.bucket.name,customRequestOptions:this.getRequestInterceptors().reduce((Oe,fe)=>fe(Oe),{}),file:this.name,generation:this.generation,isPartialUpload:se.isPartialUpload,key:this.encryptionKey,kmsKeyName:this.kmsKeyName,metadata:se.metadata,offset:se.offset,predefinedAcl:se.predefinedAcl,private:se.private,public:se.public,uri:se.uri,userProject:se.userProject||this.userProject,retryOptions:{...he},params:se?.preconditionOpts||this.instancePreconditionOpts,chunkSize:se?.chunkSize,highWaterMark:se?.highWaterMark,universeDomain:this.bucket.storage.universeDomain,[C.GCCL_GCS_CMD_KEY]:se[C.GCCL_GCS_CMD_KEY]};let me;try{me=b.upload(ge)}catch(Oe){ee.destroy(Oe),this.storage.retryOptions.autoRetry=this.instanceRetryValue;return}me.on("response",Oe=>{ee.emit("response",Oe)}).on("uri",Oe=>{ee.emit("uri",Oe)}).on("metadata",Oe=>{this.metadata=Oe,ee.emit("metadata")}).on("finish",()=>{ee.emit("complete")}).on("progress",Oe=>ee.emit("progress",Oe)),ee.setWritable(me),this.storage.retryOptions.autoRetry=this.instanceRetryValue}startSimpleUpload_(ee,se={}){var de;(de=se.metadata)!==null&&de!==void 0||(se.metadata={});const he=this.storage.apiEndpoint,ge=this.bucket.name,me=`${he}/upload/storage/v1/b/${ge}/o`,Oe={qs:{name:this.name},uri:me,[C.GCCL_GCS_CMD_KEY]:se[C.GCCL_GCS_CMD_KEY]};this.generation!==void 0&&(Oe.qs.ifGenerationMatch=this.generation),this.kmsKeyName!==void 0&&(Oe.qs.kmsKeyName=this.kmsKeyName),typeof se.timeout=="number"&&(Oe.timeout=se.timeout),(se.userProject||this.userProject)&&(Oe.qs.userProject=se.userProject||this.userProject),se.predefinedAcl?Oe.qs.predefinedAcl=se.predefinedAcl:se.private?Oe.qs.predefinedAcl="private":se.public&&(Oe.qs.predefinedAcl="publicRead"),Object.assign(Oe.qs,this.instancePreconditionOpts,se.preconditionOpts),l.util.makeWritableStream(ee,{makeAuthenticatedRequest:fe=>{this.request(fe,(_e,Ee,z)=>{if(_e){ee.destroy(_e);return}this.metadata=Ee,ee.emit("metadata",Ee),ee.emit("response",z),ee.emit("complete")})},metadata:se.metadata,request:Oe})}disableAutoRetryConditionallyIdempotent_(ee,se,de){var he,ge,me,Oe;(typeof ee=="object"&&((ge=(he=ee?.reqOpts)===null||he===void 0?void 0:he.qs)===null||ge===void 0?void 0:ge.ifGenerationMatch)===void 0&&de?.ifGenerationMatch===void 0&&se===I.AvailableServiceObjectMethods.delete&&this.storage.retryOptions.idempotencyStrategy===w.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===w.IdempotencyStrategy.RetryNever)&&(this.storage.retryOptions.autoRetry=!1),(typeof ee=="object"&&((Oe=(me=ee?.reqOpts)===null||me===void 0?void 0:me.qs)===null||Oe===void 0?void 0:Oe.ifMetagenerationMatch)===void 0&&de?.ifMetagenerationMatch===void 0&&se===I.AvailableServiceObjectMethods.setMetadata&&this.storage.retryOptions.idempotencyStrategy===w.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===w.IdempotencyStrategy.RetryNever)&&(this.storage.retryOptions.autoRetry=!1)}async getBufferFromReadable(ee){const se=[];for await(const de of ee)se.push(de);return Buffer.concat(se)}}file.File=oe,m=new WeakSet,c=async function(ee,se={}){const de=this.metadata;let he=!!(se.crc32c||se.md5);if(se.crc32c&&de.crc32c&&(he=!ee.test("crc32c",de.crc32c)),se.md5&&de.md5Hash&&(he=!ee.test("md5",de.md5Hash)),he){const ge=[];let me="",Oe="";try{await this.delete(),se.md5&&!de.md5Hash?(me="MD5_NOT_AVAILABLE",Oe=te.MD5_NOT_AVAILABLE):(me="FILE_NO_UPLOAD",Oe=te.UPLOAD_MISMATCH)}catch(_e){const Ee=_e;me="FILE_NO_UPLOAD_DELETE",Oe=`${te.UPLOAD_MISMATCH_DELETE_FAIL}${Ee.message}`,ge.push(Ee)}const fe=new W(Oe);throw fe.code=me,fe.errors=ge,fe}return!0};return(0,o.promisifyAll)(oe,{exclude:["cloudStorageURI","publicUrl","request","save","setEncryptionKey","shouldRetryBasedOnPreconditionAndIdempotencyStrat","getBufferFromReadable","restore"]}),file}var iam={},hasRequiredIam;function requireIam(){if(hasRequiredIam)return iam;hasRequiredIam=1,Object.defineProperty(iam,"__esModule",{value:!0}),iam.Iam=iam.IAMExceptionMessages=void 0;const e=requireSrc$5(),t=requireUtil$6();var a;(function(g){g.POLICY_OBJECT_REQUIRED="A policy object is required.",g.PERMISSIONS_REQUIRED="Permissions are required."})(a||(iam.IAMExceptionMessages=a={}));class p{constructor(m){this.request_=m.request.bind(m),this.resourceId_="buckets/"+m.getId()}getPolicy(m,c){const{options:l,callback:o}=(0,t.normalize)(m,c),s={};l.userProject&&(s.userProject=l.userProject),l.requestedPolicyVersion!==null&&l.requestedPolicyVersion!==void 0&&(s.optionsRequestedPolicyVersion=l.requestedPolicyVersion),this.request_({uri:"/iam",qs:s},o)}setPolicy(m,c,l){if(m===null||typeof m!="object")throw new Error(a.POLICY_OBJECT_REQUIRED);const{options:o,callback:s}=(0,t.normalize)(c,l);let h;m.etag===void 0&&(h=0),this.request_({method:"PUT",uri:"/iam",maxRetries:h,json:Object.assign({resourceId:this.resourceId_},m),qs:o},s)}testPermissions(m,c,l){if(!Array.isArray(m)&&typeof m!="string")throw new Error(a.PERMISSIONS_REQUIRED);const{options:o,callback:s}=(0,t.normalize)(c,l),h=Array.isArray(m)?m:[m],v=Object.assign({permissions:h},o);this.request_({uri:"/iam/testPermissions",qs:v,useQuerystring:!0},(b,y)=>{if(b){s(b,null,y);return}const O=Array.isArray(y.permissions)?y.permissions:[],w=h.reduce((I,_)=>(I[_]=O.indexOf(_)>-1,I),{});s(null,w,y)})}}iam.Iam=p;return(0,e.promisifyAll)(p),iam}var notification={},hasRequiredNotification;function requireNotification(){if(hasRequiredNotification)return notification;hasRequiredNotification=1,Object.defineProperty(notification,"__esModule",{value:!0}),notification.Notification=void 0;const e=requireNodejsCommon(),t=requireSrc$5();class a extends e.ServiceObject{constructor(g,m){const c={},l={create:!0,delete:{reqOpts:{qs:c}},get:{reqOpts:{qs:c}},getMetadata:{reqOpts:{qs:c}},exists:!0};super({parent:g,baseUrl:"/notificationConfigs",id:m.toString(),createMethod:g.createNotification.bind(g),methods:l})}}notification.Notification=a;return(0,t.promisifyAll)(a),notification}var hasRequiredBucket;function requireBucket(){if(hasRequiredBucket)return bucket;hasRequiredBucket=1;var e=bucket&&bucket.__createBinding||(Object.create?(function(G,J,W,K){K===void 0&&(K=W);var X=Object.getOwnPropertyDescriptor(J,W);(!X||("get"in X?!J.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return J[W]}}),Object.defineProperty(G,K,X)}):(function(G,J,W,K){K===void 0&&(K=W),G[K]=J[W]})),t=bucket&&bucket.__setModuleDefault||(Object.create?(function(G,J){Object.defineProperty(G,"default",{enumerable:!0,value:J})}):function(G,J){G.default=J}),a=bucket&&bucket.__importStar||(function(){var G=function(J){return G=Object.getOwnPropertyNames||function(W){var K=[];for(var X in W)Object.prototype.hasOwnProperty.call(W,X)&&(K[K.length]=X);return K},G(J)};return function(J){if(J&&J.__esModule)return J;var W={};if(J!=null)for(var K=G(J),X=0;X<K.length;X++)K[X]!=="default"&&e(W,J,K[X]);return t(W,J),W}})(),p=bucket&&bucket.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(bucket,"__esModule",{value:!0}),bucket.Bucket=bucket.BucketExceptionMessages=bucket.AvailableServiceObjectMethods=bucket.BucketActionToHTTPMethod=void 0;const g=requireNodejsCommon(),m=requireSrc$4(),c=requireSrc$5(),l=a(require$$1$3),o=p(requireMime()),s=a(require$$1$3),h=p(requirePLimit()),v=require$$1$3,b=p(requireLib$1()),y=requireUtil$6(),O=requireAcl(),w=requireFile(),I=requireIam(),_=requireNotification(),T=requireStorage$2(),C=requireSigner(),N=require$$1$3,L=require$$1$3;var D;(function(G){G.list="GET"})(D||(bucket.BucketActionToHTTPMethod=D={}));var j;(function(G){G[G.setMetadata=0]="setMetadata",G[G.delete=1]="delete"})(j||(bucket.AvailableServiceObjectMethods=j={}));var k;(function(G){G.PROVIDE_SOURCE_FILE="You must provide at least one source file.",G.DESTINATION_FILE_NOT_SPECIFIED="A destination file must be specified.",G.CHANNEL_ID_REQUIRED="An ID is required to create a channel.",G.TOPIC_NAME_REQUIRED="A valid topic name is required.",G.CONFIGURATION_OBJECT_PREFIX_REQUIRED="A configuration object with a prefix is required.",G.SPECIFY_FILE_NAME="A file name must be specified.",G.METAGENERATION_NOT_PROVIDED="A metageneration must be provided.",G.SUPPLY_NOTIFICATION_ID="You must supply a notification ID."})(k||(bucket.BucketExceptionMessages=k={}));class V extends g.ServiceObject{getFilesStream(J){return new N.Readable}constructor(J,W,K){var X,Y,te,oe;K=K||{},W=W.replace(/^gs:\/\//,"").replace(/\/+$/,"");const le={};!((X=K?.preconditionOpts)===null||X===void 0)&&X.ifGenerationMatch&&(le.ifGenerationMatch=K.preconditionOpts.ifGenerationMatch),!((Y=K?.preconditionOpts)===null||Y===void 0)&&Y.ifGenerationNotMatch&&(le.ifGenerationNotMatch=K.preconditionOpts.ifGenerationNotMatch),!((te=K?.preconditionOpts)===null||te===void 0)&&te.ifMetagenerationMatch&&(le.ifMetagenerationMatch=K.preconditionOpts.ifMetagenerationMatch),!((oe=K?.preconditionOpts)===null||oe===void 0)&&oe.ifMetagenerationNotMatch&&(le.ifMetagenerationNotMatch=K.preconditionOpts.ifMetagenerationNotMatch);const ee=K.userProject;typeof ee=="string"&&(le.userProject=ee);const se={create:{reqOpts:{qs:le}},delete:{reqOpts:{qs:le}},exists:{reqOpts:{qs:le}},get:{reqOpts:{qs:le}},getMetadata:{reqOpts:{qs:le}},setMetadata:{reqOpts:{qs:le}}};super({parent:J,baseUrl:"/b",id:W,createMethod:J.createBucket.bind(J),methods:se}),this.name=W,this.storage=J,this.userProject=K.userProject,this.acl=new O.Acl({request:this.request.bind(this),pathPrefix:"/acl"}),this.acl.default=new O.Acl({request:this.request.bind(this),pathPrefix:"/defaultObjectAcl"}),this.crc32cGenerator=K.crc32cGenerator||this.storage.crc32cGenerator,this.iam=new I.Iam(this),this.getFilesStream=m.paginator.streamify("getFiles"),this.instanceRetryValue=J.retryOptions.autoRetry,this.instancePreconditionOpts=K?.preconditionOpts}get cloudStorageURI(){const J=new L.URL("gs://");return J.host=this.name,J}addLifecycleRule(J,W,K){let X={};typeof W=="function"?K=W:W&&(X=W),X=X||{};const Y=Array.isArray(J)?J:[J];for(const te of Y)te.condition.createdBefore instanceof Date&&(te.condition.createdBefore=te.condition.createdBefore.toISOString().replace(/T.+$/,"")),te.condition.customTimeBefore instanceof Date&&(te.condition.customTimeBefore=te.condition.customTimeBefore.toISOString().replace(/T.+$/,"")),te.condition.noncurrentTimeBefore instanceof Date&&(te.condition.noncurrentTimeBefore=te.condition.noncurrentTimeBefore.toISOString().replace(/T.+$/,""));if(X.append===!1){this.setMetadata({lifecycle:{rule:Y}},X,K);return}this.getMetadata((te,oe)=>{var le,ee;if(te){K(te);return}const se=Array.isArray((le=oe.lifecycle)===null||le===void 0?void 0:le.rule)?(ee=oe.lifecycle)===null||ee===void 0?void 0:ee.rule:[];this.setMetadata({lifecycle:{rule:se.concat(Y)}},X,K)})}combine(J,W,K,X){var Y;if(!Array.isArray(J)||J.length===0)throw new Error(k.PROVIDE_SOURCE_FILE);if(!W)throw new Error(k.DESTINATION_FILE_NOT_SPECIFIED);let te={};typeof K=="function"?X=K:K&&(te=K),this.disableAutoRetryConditionallyIdempotent_(this.methods.setMetadata,j.setMetadata,te);const oe=se=>se instanceof w.File?se:this.file(se);J=J.map(oe);const le=oe(W);if(X=X||g.util.noop,!le.metadata.contentType){const se=o.default.getType(le.name)||void 0;se&&(le.metadata.contentType=se)}let ee=this.storage.retryOptions.maxRetries;(((Y=le?.instancePreconditionOpts)===null||Y===void 0?void 0:Y.ifGenerationMatch)===void 0&&te.ifGenerationMatch===void 0&&this.storage.retryOptions.idempotencyStrategy===T.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===T.IdempotencyStrategy.RetryNever)&&(ee=0),te.ifGenerationMatch===void 0&&Object.assign(te,le.instancePreconditionOpts,te),le.request({method:"POST",uri:"/compose",maxRetries:ee,json:{destination:{contentType:le.metadata.contentType,contentEncoding:le.metadata.contentEncoding},sourceObjects:J.map(se=>{const de={name:se.name};return se.metadata&&se.metadata.generation&&(de.generation=parseInt(se.metadata.generation.toString())),de})},qs:te},(se,de)=>{if(this.storage.retryOptions.autoRetry=this.instanceRetryValue,se){X(se,null,de);return}X(null,le,de)})}createChannel(J,W,K,X){if(typeof J!="string")throw new Error(k.CHANNEL_ID_REQUIRED);let Y={};typeof K=="function"?X=K:K&&(Y=K),this.request({method:"POST",uri:"/o/watch",json:Object.assign({id:J,type:"web_hook"},W),qs:Y},(te,oe)=>{if(te){X(te,null,oe);return}const le=oe.resourceId,ee=this.storage.channel(J,le);ee.metadata=oe,X(null,ee,oe)})}createNotification(J,W,K){let X={};if(typeof W=="function"?K=W:W&&(X=W),J!==null&&typeof J=="object"&&g.util.isCustomType(J,"pubsub/topic")&&(J=J.name),typeof J!="string")throw new Error(k.TOPIC_NAME_REQUIRED);const te=Object.assign({topic:J},X);te.topic.indexOf("projects")!==0&&(te.topic="projects/{{projectId}}/topics/"+te.topic),te.topic=`//pubsub.${this.storage.universeDomain}/`+te.topic,te.payloadFormat||(te.payloadFormat="JSON_API_V1");const oe={};te.userProject&&(oe.userProject=te.userProject,delete te.userProject),this.request({method:"POST",uri:"/notificationConfigs",json:(0,y.convertObjKeysToSnakeCase)(te),qs:oe,maxRetries:0},(le,ee)=>{if(le){K(le,null,ee);return}const se=this.notification(ee.id);se.metadata=ee,K(null,se,ee)})}deleteFiles(J,W){let K={};typeof J=="function"?W=J:J&&(K=J);const X=10,Y=1e3,te=[],oe=le=>le.delete(K).catch(ee=>{if(!K.force)throw ee;te.push(ee)});(async()=>{try{let le=[];const ee=(0,h.default)(X),se=this.getFilesStream(K);for await(const de of se)le.length>=Y&&(await Promise.all(le),le=[]),le.push(ee(()=>oe(de)).catch(he=>{throw se.destroy(),he}));await Promise.all(le),W(te.length>0?te:null)}catch(le){W(le);return}})()}deleteLabels(J,W,K){let X=new Array,Y={};typeof J=="function"?K=J:typeof J=="string"?X=[J]:Array.isArray(J)?X=J:J&&(Y=J),typeof W=="function"?K=W:W&&(Y=W);const te=oe=>{const le=oe.reduce((ee,se)=>(ee[se]=null,ee),{});Y?.ifMetagenerationMatch!==void 0?this.setLabels(le,Y,K):this.setLabels(le,K)};X.length===0?this.getLabels((oe,le)=>{if(oe){K(oe);return}te(Object.keys(le))}):te(X)}disableRequesterPays(J,W){let K={};typeof J=="function"?W=J:J&&(K=J),this.setMetadata({billing:{requesterPays:!1}},K,W)}enableLogging(J,W){if(!J||typeof J=="function"||typeof J.prefix>"u")throw new Error(k.CONFIGURATION_OBJECT_PREFIX_REQUIRED);let K=this.id;J.bucket&&J.bucket instanceof V?K=J.bucket.id:J.bucket&&typeof J.bucket=="string"&&(K=J.bucket);const X={};J?.ifMetagenerationMatch&&(X.ifMetagenerationMatch=J.ifMetagenerationMatch),J?.ifMetagenerationNotMatch&&(X.ifMetagenerationNotMatch=J.ifMetagenerationNotMatch),(async()=>{try{const[Y]=await this.iam.getPolicy();Y.bindings.push({members:["group:cloud-storage-analytics@google.com"],role:"roles/storage.objectCreator"}),await this.iam.setPolicy(Y),this.setMetadata({logging:{logBucket:K,logObjectPrefix:J.prefix}},X,W)}catch(Y){W(Y);return}})()}enableRequesterPays(J,W){let K={};typeof J=="function"?W=J:J&&(K=J),this.setMetadata({billing:{requesterPays:!0}},K,W)}file(J,W){if(!J)throw Error(k.SPECIFY_FILE_NAME);return new w.File(this,J,W)}getFiles(J,W){let K=typeof J=="object"?J:{};W||(W=J),K=Object.assign({},K),K.fields&&K.autoPaginate&&!K.fields.includes("nextPageToken")&&(K.fields=`${K.fields},nextPageToken`),this.request({uri:"/o",qs:K},(X,Y)=>{if(X){W(X,null,null,Y);return}const oe=(Y.items?Y.items:[]).map(ee=>{const se={};if(K.fields)return ee;K.versions&&(se.generation=ee.generation),ee.kmsKeyName&&(se.kmsKeyName=ee.kmsKeyName);const de=this.file(ee.name,se);return de.metadata=ee,de});let le=null;Y.nextPageToken&&(le=Object.assign({},K,{pageToken:Y.nextPageToken})),W(null,oe,le,Y)})}getLabels(J,W){let K={};typeof J=="function"?W=J:J&&(K=J),this.getMetadata(K,(X,Y)=>{if(X){W(X,null);return}W(null,Y?.labels||{})})}getNotifications(J,W){let K={};typeof J=="function"?W=J:J&&(K=J),this.request({uri:"/notificationConfigs",qs:K},(X,Y)=>{if(X){W(X,null,Y);return}const oe=(Y.items?Y.items:[]).map(le=>{const ee=this.notification(le.id);return ee.metadata=le,ee});W(null,oe,Y)})}getSignedUrl(J,W){const X={method:D[J.action],expires:J.expires,version:J.version,cname:J.cname,extensionHeaders:J.extensionHeaders||{},queryParams:J.queryParams||{},host:J.host,signingEndpoint:J.signingEndpoint};this.signer||(this.signer=new C.URLSigner(this.storage.authClient,this,void 0,this.storage)),this.signer.getSignedUrl(X).then(Y=>W(null,Y),W)}lock(J,W){const K=typeof J;if(K!=="number"&&K!=="string")throw new Error(k.METAGENERATION_NOT_PROVIDED);this.request({method:"POST",uri:"/lockRetentionPolicy",qs:{ifMetagenerationMatch:J}},W)}async restore(J){const[W]=await this.request({method:"POST",uri:"/restore",qs:J});return W}makePrivate(J,W){var K,X,Y,te;const oe=typeof J=="object"?J:{};W=typeof J=="function"?J:W,oe.private=!0;const le={predefinedAcl:"projectPrivate"};oe.userProject&&(le.userProject=oe.userProject),!((K=oe.preconditionOpts)===null||K===void 0)&&K.ifGenerationMatch&&(le.ifGenerationMatch=oe.preconditionOpts.ifGenerationMatch),!((X=oe.preconditionOpts)===null||X===void 0)&&X.ifGenerationNotMatch&&(le.ifGenerationNotMatch=oe.preconditionOpts.ifGenerationNotMatch),!((Y=oe.preconditionOpts)===null||Y===void 0)&&Y.ifMetagenerationMatch&&(le.ifMetagenerationMatch=oe.preconditionOpts.ifMetagenerationMatch),!((te=oe.preconditionOpts)===null||te===void 0)&&te.ifMetagenerationNotMatch&&(le.ifMetagenerationNotMatch=oe.preconditionOpts.ifMetagenerationNotMatch);const ee={...oe.metadata,acl:null};this.setMetadata(ee,le,se=>{se&&W(se),(oe.includeFiles?(0,v.promisify)(this.makeAllFilesPublicPrivate_).call(this,oe):Promise.resolve([])).then(he=>W(null,he)).catch(W)})}makePublic(J,W){const K=typeof J=="object"?J:{};W=typeof J=="function"?J:W;const X={public:!0,...K};this.acl.add({entity:"allUsers",role:"READER"}).then(()=>this.acl.default.add({entity:"allUsers",role:"READER"})).then(()=>X.includeFiles?(0,v.promisify)(this.makeAllFilesPublicPrivate_).call(this,X):[]).then(Y=>W(null,Y),W)}notification(J){if(!J)throw new Error(k.SUPPLY_NOTIFICATION_ID);return new _.Notification(this,J)}removeRetentionPeriod(J,W){const K=typeof J=="object"?J:{};W=typeof J=="function"?J:W,this.setMetadata({retentionPolicy:null},K,W)}request(J,W){return this.userProject&&(!J.qs||!J.qs.userProject)&&(J.qs={...J.qs,userProject:this.userProject}),super.request(J,W)}setLabels(J,W,K){const X=typeof W=="object"?W:{};K=typeof W=="function"?W:K,K=K||g.util.noop,this.setMetadata({labels:J},X,K)}setMetadata(J,W,K){const X=typeof W=="object"?W:{};K=typeof W=="function"?W:K,this.disableAutoRetryConditionallyIdempotent_(this.methods.setMetadata,j.setMetadata,X),super.setMetadata(J,X).then(Y=>K(null,...Y)).catch(K).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}setRetentionPeriod(J,W,K){const X=typeof W=="object"?W:{};K=typeof W=="function"?W:K,this.setMetadata({retentionPolicy:{retentionPeriod:J.toString()}},X,K)}setCorsConfiguration(J,W,K){const X=typeof W=="object"?W:{};K=typeof W=="function"?W:K,this.setMetadata({cors:J},X,K)}setStorageClass(J,W,K){const X=typeof W=="object"?W:{};K=typeof W=="function"?W:K,J=J.replace(/-/g,"_").replace(/([a-z])([A-Z])/g,(Y,te,oe)=>te+"_"+oe).toUpperCase(),this.setMetadata({storageClass:J},X,K)}setUserProject(J){this.userProject=J,["create","delete","exists","get","getMetadata","setMetadata"].forEach(K=>{const X=this.methods[K];typeof X=="object"&&(typeof X.reqOpts=="object"?Object.assign(X.reqOpts.qs,{userProject:J}):X.reqOpts={qs:{userProject:J}})})}upload(J,W,K){var X,Y;const te=se=>{const de=(0,b.default)(async he=>{await new Promise((ge,me)=>{var Oe,fe;se===0&&(!((fe=(Oe=ee?.storage)===null||Oe===void 0?void 0:Oe.retryOptions)===null||fe===void 0)&&fe.autoRetry)&&(ee.storage.retryOptions.autoRetry=!1);const _e=ee.createWriteStream(oe);oe.onUploadProgress&&_e.on("progress",oe.onUploadProgress),l.createReadStream(J).on("error",he).pipe(_e).on("error",Ee=>this.storage.retryOptions.autoRetry&&this.storage.retryOptions.retryableErrorFn(Ee)?me(Ee):he(Ee)).on("finish",()=>ge())})},{retries:se,factor:this.storage.retryOptions.retryDelayMultiplier,maxTimeout:this.storage.retryOptions.maxRetryDelay*1e3,maxRetryTime:this.storage.retryOptions.totalTimeout*1e3});return K?de.then(()=>{if(K)return K(null,ee,ee.metadata)}).catch(K):de};if(commonjsGlobal.GCLOUD_SANDBOX_ENV)return;let oe=typeof W=="object"?W:{};K=typeof W=="function"?W:K,oe=Object.assign({metadata:{}},oe);let le=this.storage.retryOptions.maxRetries;(((X=oe?.preconditionOpts)===null||X===void 0?void 0:X.ifGenerationMatch)===void 0&&((Y=this.instancePreconditionOpts)===null||Y===void 0?void 0:Y.ifGenerationMatch)===void 0&&this.storage.retryOptions.idempotencyStrategy===T.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===T.IdempotencyStrategy.RetryNever)&&(le=0);let ee;if(oe.destination instanceof w.File)ee=oe.destination;else if(oe.destination!==null&&typeof oe.destination=="string")ee=this.file(oe.destination,{encryptionKey:oe.encryptionKey,kmsKeyName:oe.kmsKeyName,preconditionOpts:this.instancePreconditionOpts});else{const se=s.basename(J);ee=this.file(se,{encryptionKey:oe.encryptionKey,kmsKeyName:oe.kmsKeyName,preconditionOpts:this.instancePreconditionOpts})}te(le)}makeAllFilesPublicPrivate_(J,W){const X=[],Y=[],te=typeof J=="object"?J:{};W=typeof J=="function"?J:W;const oe=async le=>{try{await(te.public?le.makePublic():le.makePrivate(te)),Y.push(le)}catch(ee){if(!te.force)throw ee;X.push(ee)}};this.getFiles(te).then(([le])=>{const ee=(0,h.default)(10),se=le.map(de=>ee(()=>oe(de)));return Promise.all(se)}).then(()=>W(X.length>0?X:null,Y),le=>W(le,Y))}getId(){return this.id}disableAutoRetryConditionallyIdempotent_(J,W,K){var X,Y;typeof J=="object"&&((Y=(X=J?.reqOpts)===null||X===void 0?void 0:X.qs)===null||Y===void 0?void 0:Y.ifMetagenerationMatch)===void 0&&K?.ifMetagenerationMatch===void 0&&(W===j.setMetadata||W===j.delete)&&this.storage.retryOptions.idempotencyStrategy===T.IdempotencyStrategy.RetryConditional?this.storage.retryOptions.autoRetry=!1:this.storage.retryOptions.idempotencyStrategy===T.IdempotencyStrategy.RetryNever&&(this.storage.retryOptions.autoRetry=!1)}}bucket.Bucket=V;m.paginator.extend(V,"getFiles");return(0,c.promisifyAll)(V,{exclude:["cloudStorageURI","request","file","notification","restore"]}),bucket}var channel={},hasRequiredChannel;function requireChannel(){if(hasRequiredChannel)return channel;hasRequiredChannel=1,Object.defineProperty(channel,"__esModule",{value:!0}),channel.Channel=void 0;const e=requireNodejsCommon(),t=requireSrc$5();class a extends e.ServiceObject{constructor(g,m,c){const l={parent:g,baseUrl:"/channels",id:"",methods:{}};super(l),this.metadata.id=m,this.metadata.resourceId=c}stop(g){g=g||e.util.noop,this.request({method:"POST",uri:"/stop",json:this.metadata},(m,c)=>{g(m,c)})}}channel.Channel=a;return(0,t.promisifyAll)(a),channel}var hmacKey={},hasRequiredHmacKey;function requireHmacKey(){if(hasRequiredHmacKey)return hmacKey;hasRequiredHmacKey=1,Object.defineProperty(hmacKey,"__esModule",{value:!0}),hmacKey.HmacKey=void 0;const e=requireNodejsCommon(),t=requireStorage$2(),a=requireSrc$5();class p extends e.ServiceObject{constructor(m,c,l){const o={delete:!0,get:!0,getMetadata:!0,setMetadata:{reqOpts:{method:"PUT"}}},s=l&&l.projectId||m.projectId;super({parent:m,id:c,baseUrl:`/projects/${s}/hmacKeys`,methods:o}),this.storage=m,this.instanceRetryValue=m.retryOptions.autoRetry}setMetadata(m,c,l){this.storage.retryOptions.idempotencyStrategy!==t.IdempotencyStrategy.RetryAlways&&(this.storage.retryOptions.autoRetry=!1);const o=typeof c=="object"?c:{};l=typeof c=="function"?c:l,super.setMetadata(m,o).then(s=>l(null,...s)).catch(l).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}}hmacKey.HmacKey=p;return(0,a.promisifyAll)(p),hmacKey}var hasRequiredStorage$2;function requireStorage$2(){return hasRequiredStorage$2||(hasRequiredStorage$2=1,(function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=e.RETRYABLE_ERR_FN_DEFAULT=e.MAX_RETRY_DELAY_DEFAULT=e.TOTAL_TIMEOUT_DEFAULT=e.RETRY_DELAY_MULTIPLIER_DEFAULT=e.MAX_RETRY_DEFAULT=e.AUTO_RETRY_DEFAULT=e.PROTOCOL_REGEX=e.StorageExceptionMessages=e.ExceptionMessages=e.IdempotencyStrategy=void 0;const a=requireNodejsCommon(),p=requireSrc$4(),g=requireSrc$5(),m=require$$1$3,c=requireBucket(),l=requireChannel(),o=requireFile(),s=requireUtil$6(),h=requirePackageJsonHelper(),v=requireHmacKey(),b=requireCrc32c(),y=requireSrc$b();var O;(function(N){N[N.RetryAlways=0]="RetryAlways",N[N.RetryConditional=1]="RetryConditional",N[N.RetryNever=2]="RetryNever"})(O||(e.IdempotencyStrategy=O={}));var w;(function(N){N.EXPIRATION_DATE_INVALID="The expiration date provided was invalid.",N.EXPIRATION_DATE_PAST="An expiration date cannot be in the past."})(w||(e.ExceptionMessages=w={}));var I;(function(N){N.BUCKET_NAME_REQUIRED="A bucket name is needed to use Cloud Storage.",N.BUCKET_NAME_REQUIRED_CREATE="A name is required to create a bucket.",N.HMAC_SERVICE_ACCOUNT="The first argument must be a service account email to create an HMAC key.",N.HMAC_ACCESS_ID="An access ID is needed to create an HmacKey object."})(I||(e.StorageExceptionMessages=I={})),e.PROTOCOL_REGEX=/^(\w*):\/\//,e.AUTO_RETRY_DEFAULT=!0,e.MAX_RETRY_DEFAULT=3,e.RETRY_DELAY_MULTIPLIER_DEFAULT=2,e.TOTAL_TIMEOUT_DEFAULT=600,e.MAX_RETRY_DELAY_DEFAULT=64;const _=O.RetryConditional,T=function(N){var L;const D=j=>j.includes("eai_again")||j==="econnreset"||j==="unexpected connection closure"||j==="epipe"||j==="socket connection timeout";if(N){if([408,429,500,502,503,504].indexOf(N.code)!==-1)return!0;if(typeof N.code=="string"){if(["408","429","500","502","503","504"].indexOf(N.code)!==-1)return!0;const j=N.code.toLowerCase();if(D(j))return!0}if(N.errors)for(const j of N.errors){const k=(L=j?.reason)===null||L===void 0?void 0:L.toString().toLowerCase();if(k&&D(k))return!0}}return!1};e.RETRYABLE_ERR_FN_DEFAULT=T;class C extends a.Service{getBucketsStream(){return new m.Readable}getHmacKeysStream(){return new m.Readable}constructor(L={}){var D,j,k,V,G,J,W,K,X,Y,te,oe,le,ee;let de=`https://storage.${L.universeDomain||y.DEFAULT_UNIVERSE}`,he=!1;const ge=t.STORAGE_EMULATOR_HOST;typeof ge=="string"&&(de=C.sanitizeEndpoint(ge),he=!0),L.apiEndpoint&&L.apiEndpoint!==de&&(de=C.sanitizeEndpoint(L.apiEndpoint),he=!0),L=Object.assign({},L,{apiEndpoint:de});const me=ge||`${L.apiEndpoint}/storage/v1`,Oe={apiEndpoint:L.apiEndpoint,retryOptions:{autoRetry:((D=L.retryOptions)===null||D===void 0?void 0:D.autoRetry)!==void 0?(j=L.retryOptions)===null||j===void 0?void 0:j.autoRetry:e.AUTO_RETRY_DEFAULT,maxRetries:!((k=L.retryOptions)===null||k===void 0)&&k.maxRetries?(V=L.retryOptions)===null||V===void 0?void 0:V.maxRetries:e.MAX_RETRY_DEFAULT,retryDelayMultiplier:!((G=L.retryOptions)===null||G===void 0)&&G.retryDelayMultiplier?(J=L.retryOptions)===null||J===void 0?void 0:J.retryDelayMultiplier:e.RETRY_DELAY_MULTIPLIER_DEFAULT,totalTimeout:!((W=L.retryOptions)===null||W===void 0)&&W.totalTimeout?(K=L.retryOptions)===null||K===void 0?void 0:K.totalTimeout:e.TOTAL_TIMEOUT_DEFAULT,maxRetryDelay:!((X=L.retryOptions)===null||X===void 0)&&X.maxRetryDelay?(Y=L.retryOptions)===null||Y===void 0?void 0:Y.maxRetryDelay:e.MAX_RETRY_DELAY_DEFAULT,retryableErrorFn:!((te=L.retryOptions)===null||te===void 0)&&te.retryableErrorFn?(oe=L.retryOptions)===null||oe===void 0?void 0:oe.retryableErrorFn:e.RETRYABLE_ERR_FN_DEFAULT,idempotencyStrategy:((le=L.retryOptions)===null||le===void 0?void 0:le.idempotencyStrategy)!==void 0?(ee=L.retryOptions)===null||ee===void 0?void 0:ee.idempotencyStrategy:_},baseUrl:me,customEndpoint:he,useAuthWithCustomEndpoint:L?.useAuthWithCustomEndpoint,projectIdRequired:!1,scopes:["https://www.googleapis.com/auth/iam","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/devstorage.full_control"],packageJson:(0,h.getPackageJSON)()};super(Oe,L),this.acl=C.acl,this.crc32cGenerator=L.crc32cGenerator||b.CRC32C_DEFAULT_VALIDATOR_GENERATOR,this.retryOptions=Oe.retryOptions,this.getBucketsStream=p.paginator.streamify("getBuckets"),this.getHmacKeysStream=p.paginator.streamify("getHmacKeys")}static sanitizeEndpoint(L){return e.PROTOCOL_REGEX.test(L)||(L=`https://${L}`),L.replace(/\/+$/,"")}bucket(L,D){if(!L)throw new Error(I.BUCKET_NAME_REQUIRED);return new c.Bucket(this,L,D)}channel(L,D){return new l.Channel(this,L,D)}createBucket(L,D,j){if(!L)throw new Error(I.BUCKET_NAME_REQUIRED_CREATE);let k;j?k=D:(j=D,k={});const V={...k,name:L},G={archive:"ARCHIVE",coldline:"COLDLINE",dra:"DURABLE_REDUCED_AVAILABILITY",multiRegional:"MULTI_REGIONAL",nearline:"NEARLINE",regional:"REGIONAL",standard:"STANDARD"},J=Object.keys(G);for(const K of J)if(V[K]){if(k.storageClass&&k.storageClass!==K)throw new Error(`Both \`${K}\` and \`storageClass\` were provided.`);V.storageClass=G[K],delete V[K]}V.requesterPays&&(V.billing={requesterPays:V.requesterPays},delete V.requesterPays);const W={project:this.projectId};V.userProject&&(W.userProject=V.userProject,delete V.userProject),V.enableObjectRetention&&(W.enableObjectRetention=V.enableObjectRetention,delete V.enableObjectRetention),V.predefinedAcl&&(W.predefinedAcl=V.predefinedAcl,delete V.predefinedAcl),V.predefinedDefaultObjectAcl&&(W.predefinedDefaultObjectAcl=V.predefinedDefaultObjectAcl,delete V.predefinedDefaultObjectAcl),V.projection&&(W.projection=V.projection,delete V.projection),this.request({method:"POST",uri:"/b",qs:W,json:V},(K,X)=>{if(K){j(K,null,X);return}const Y=this.bucket(L);Y.metadata=X,j(null,Y,X)})}createHmacKey(L,D,j){if(typeof L!="string")throw new Error(I.HMAC_SERVICE_ACCOUNT);const{options:k,callback:V}=(0,s.normalize)(D,j),G=Object.assign({},k,{serviceAccountEmail:L}),J=G.projectId||this.projectId;delete G.projectId,this.request({method:"POST",uri:`/projects/${J}/hmacKeys`,qs:G,maxRetries:0},(W,K)=>{if(W){V(W,null,null,K);return}const X=K.metadata,Y=this.hmacKey(X.accessId,{projectId:X.projectId});Y.metadata=K.metadata,V(null,Y,K.secret,K)})}getBuckets(L,D){const{options:j,callback:k}=(0,s.normalize)(L,D);j.project=j.project||this.projectId,this.request({uri:"/b",qs:j},(V,G)=>{if(V){k(V,null,null,G);return}const W=(G.items?G.items:[]).map(X=>{const Y=this.bucket(X.id);return Y.metadata=X,Y}),K=G.nextPageToken?Object.assign({},j,{pageToken:G.nextPageToken}):null;k(null,W,K,G)})}getHmacKeys(L,D){const{options:j,callback:k}=(0,s.normalize)(L,D),V=Object.assign({},j),G=V.projectId||this.projectId;delete V.projectId,this.request({uri:`/projects/${G}/hmacKeys`,qs:V},(J,W)=>{if(J){k(J,null,null,W);return}const X=(W.items?W.items:[]).map(te=>{const oe=this.hmacKey(te.accessId,{projectId:te.projectId});return oe.metadata=te,oe}),Y=W.nextPageToken?Object.assign({},j,{pageToken:W.nextPageToken}):null;k(null,X,Y,W)})}getServiceAccount(L,D){const{options:j,callback:k}=(0,s.normalize)(L,D);this.request({uri:`/projects/${this.projectId}/serviceAccount`,qs:j},(V,G)=>{if(V){k(V,null,G);return}const J={};for(const W in G)if(G.hasOwnProperty(W)){const K=W.replace(/_(\w)/g,(X,Y)=>Y.toUpperCase());J[K]=G[W]}k(null,J,G)})}hmacKey(L,D){if(!L)throw new Error(I.HMAC_ACCESS_ID);return new v.HmacKey(this,L,D)}}e.Storage=C,C.Bucket=c.Bucket,C.Channel=l.Channel,C.File=o.File,C.HmacKey=v.HmacKey,C.acl={OWNER_ROLE:"OWNER",READER_ROLE:"READER",WRITER_ROLE:"WRITER"};p.paginator.extend(C,["getBuckets","getHmacKeys"]);(0,g.promisifyAll)(C,{exclude:["bucket","channel","hmacKey"]})})(storage$1)),storage$1}var transferManager={},validator={},util$4={},hasRequiredUtil$4;function requireUtil$4(){return hasRequiredUtil$4||(hasRequiredUtil$4=1,(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",a=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",p="["+t+"]["+a+"]*",g=new RegExp("^"+p+"$"),m=function(l,o){const s=[];let h=o.exec(l);for(;h;){const v=[];v.startIndex=o.lastIndex-h[0].length;const b=h.length;for(let y=0;y<b;y++)v.push(h[y]);s.push(v),h=o.exec(l)}return s},c=function(l){const o=g.exec(l);return!(o===null||typeof o>"u")};e.isExist=function(l){return typeof l<"u"},e.isEmptyObject=function(l){return Object.keys(l).length===0},e.merge=function(l,o,s){if(o){const h=Object.keys(o),v=h.length;for(let b=0;b<v;b++)s==="strict"?l[h[b]]=[o[h[b]]]:l[h[b]]=o[h[b]]}},e.getValue=function(l){return e.isExist(l)?l:""},e.isName=c,e.getAllMatches=m,e.nameRegexp=p})(util$4)),util$4}var hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1;const e=requireUtil$4(),t={allowBooleanAttributes:!1,unpairedTags:[]};validator.validate=function(_,T){T=Object.assign({},t,T);const C=[];let N=!1,L=!1;_[0]==="\uFEFF"&&(_=_.substr(1));for(let D=0;D<_.length;D++)if(_[D]==="<"&&_[D+1]==="?"){if(D+=2,D=p(_,D),D.err)return D}else if(_[D]==="<"){let j=D;if(D++,_[D]==="!"){D=g(_,D);continue}else{let k=!1;_[D]==="/"&&(k=!0,D++);let V="";for(;D<_.length&&_[D]!==">"&&_[D]!==" "&&_[D]!=="	"&&_[D]!==`
`&&_[D]!=="\r";D++)V+=_[D];if(V=V.trim(),V[V.length-1]==="/"&&(V=V.substring(0,V.length-1),D--),!O(V)){let W;return V.trim().length===0?W="Invalid space after '<'.":W="Tag '"+V+"' is an invalid name.",b("InvalidTag",W,w(_,D))}const G=l(_,D);if(G===!1)return b("InvalidAttr","Attributes for '"+V+"' have open quote.",w(_,D));let J=G.value;if(D=G.index,J[J.length-1]==="/"){const W=D-J.length;J=J.substring(0,J.length-1);const K=s(J,T);if(K===!0)N=!0;else return b(K.err.code,K.err.msg,w(_,W+K.err.line))}else if(k)if(G.tagClosed){if(J.trim().length>0)return b("InvalidTag","Closing tag '"+V+"' can't have attributes or invalid starting.",w(_,j));if(C.length===0)return b("InvalidTag","Closing tag '"+V+"' has not been opened.",w(_,j));{const W=C.pop();if(V!==W.tagName){let K=w(_,W.tagStartPos);return b("InvalidTag","Expected closing tag '"+W.tagName+"' (opened in line "+K.line+", col "+K.col+") instead of closing tag '"+V+"'.",w(_,j))}C.length==0&&(L=!0)}}else return b("InvalidTag","Closing tag '"+V+"' doesn't have proper closing.",w(_,D));else{const W=s(J,T);if(W!==!0)return b(W.err.code,W.err.msg,w(_,D-J.length+W.err.line));if(L===!0)return b("InvalidXml","Multiple possible root nodes found.",w(_,D));T.unpairedTags.indexOf(V)!==-1||C.push({tagName:V,tagStartPos:j}),N=!0}for(D++;D<_.length;D++)if(_[D]==="<")if(_[D+1]==="!"){D++,D=g(_,D);continue}else if(_[D+1]==="?"){if(D=p(_,++D),D.err)return D}else break;else if(_[D]==="&"){const W=v(_,D);if(W==-1)return b("InvalidChar","char '&' is not expected.",w(_,D));D=W}else if(L===!0&&!a(_[D]))return b("InvalidXml","Extra text at the end",w(_,D));_[D]==="<"&&D--}}else{if(a(_[D]))continue;return b("InvalidChar","char '"+_[D]+"' is not expected.",w(_,D))}if(N){if(C.length==1)return b("InvalidTag","Unclosed tag '"+C[0].tagName+"'.",w(_,C[0].tagStartPos));if(C.length>0)return b("InvalidXml","Invalid '"+JSON.stringify(C.map(D=>D.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return b("InvalidXml","Start tag expected.",1);return!0};function a(_){return _===" "||_==="	"||_===`
`||_==="\r"}function p(_,T){const C=T;for(;T<_.length;T++)if(_[T]=="?"||_[T]==" "){const N=_.substr(C,T-C);if(T>5&&N==="xml")return b("InvalidXml","XML declaration allowed only at the start of the document.",w(_,T));if(_[T]=="?"&&_[T+1]==">"){T++;break}else continue}return T}function g(_,T){if(_.length>T+5&&_[T+1]==="-"&&_[T+2]==="-"){for(T+=3;T<_.length;T++)if(_[T]==="-"&&_[T+1]==="-"&&_[T+2]===">"){T+=2;break}}else if(_.length>T+8&&_[T+1]==="D"&&_[T+2]==="O"&&_[T+3]==="C"&&_[T+4]==="T"&&_[T+5]==="Y"&&_[T+6]==="P"&&_[T+7]==="E"){let C=1;for(T+=8;T<_.length;T++)if(_[T]==="<")C++;else if(_[T]===">"&&(C--,C===0))break}else if(_.length>T+9&&_[T+1]==="["&&_[T+2]==="C"&&_[T+3]==="D"&&_[T+4]==="A"&&_[T+5]==="T"&&_[T+6]==="A"&&_[T+7]==="["){for(T+=8;T<_.length;T++)if(_[T]==="]"&&_[T+1]==="]"&&_[T+2]===">"){T+=2;break}}return T}const m='"',c="'";function l(_,T){let C="",N="",L=!1;for(;T<_.length;T++){if(_[T]===m||_[T]===c)N===""?N=_[T]:N!==_[T]||(N="");else if(_[T]===">"&&N===""){L=!0;break}C+=_[T]}return N!==""?!1:{value:C,index:T,tagClosed:L}}const o=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function s(_,T){const C=e.getAllMatches(_,o),N={};for(let L=0;L<C.length;L++){if(C[L][1].length===0)return b("InvalidAttr","Attribute '"+C[L][2]+"' has no space in starting.",I(C[L]));if(C[L][3]!==void 0&&C[L][4]===void 0)return b("InvalidAttr","Attribute '"+C[L][2]+"' is without value.",I(C[L]));if(C[L][3]===void 0&&!T.allowBooleanAttributes)return b("InvalidAttr","boolean attribute '"+C[L][2]+"' is not allowed.",I(C[L]));const D=C[L][2];if(!y(D))return b("InvalidAttr","Attribute '"+D+"' is an invalid name.",I(C[L]));if(!N.hasOwnProperty(D))N[D]=1;else return b("InvalidAttr","Attribute '"+D+"' is repeated.",I(C[L]))}return!0}function h(_,T){let C=/\d/;for(_[T]==="x"&&(T++,C=/[\da-fA-F]/);T<_.length;T++){if(_[T]===";")return T;if(!_[T].match(C))break}return-1}function v(_,T){if(T++,_[T]===";")return-1;if(_[T]==="#")return T++,h(_,T);let C=0;for(;T<_.length;T++,C++)if(!(_[T].match(/\w/)&&C<20)){if(_[T]===";")break;return-1}return T}function b(_,T,C){return{err:{code:_,msg:T,line:C.line||C,col:C.col}}}function y(_){return e.isName(_)}function O(_){return e.isName(_)}function w(_,T){const C=_.substring(0,T).split(/\r?\n/);return{line:C.length,col:C[C.length-1].length+1}}function I(_){return _.startIndex+_[1].length}return validator}var OptionsBuilder={},hasRequiredOptionsBuilder;function requireOptionsBuilder(){if(hasRequiredOptionsBuilder)return OptionsBuilder;hasRequiredOptionsBuilder=1;const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(a,p){return p},attributeValueProcessor:function(a,p){return p},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(a,p,g){return a}},t=function(a){return Object.assign({},e,a)};return OptionsBuilder.buildOptions=t,OptionsBuilder.defaultOptions=e,OptionsBuilder}var xmlNode,hasRequiredXmlNode;function requireXmlNode(){if(hasRequiredXmlNode)return xmlNode;hasRequiredXmlNode=1;class e{constructor(a){this.tagname=a,this.child=[],this[":@"]={}}add(a,p){a==="__proto__"&&(a="#__proto__"),this.child.push({[a]:p})}addChild(a){a.tagname==="__proto__"&&(a.tagname="#__proto__"),a[":@"]&&Object.keys(a[":@"]).length>0?this.child.push({[a.tagname]:a.child,":@":a[":@"]}):this.child.push({[a.tagname]:a.child})}}return xmlNode=e,xmlNode}var DocTypeReader,hasRequiredDocTypeReader;function requireDocTypeReader(){if(hasRequiredDocTypeReader)return DocTypeReader;hasRequiredDocTypeReader=1;const e=requireUtil$4();function t(s,h){const v={};if(s[h+3]==="O"&&s[h+4]==="C"&&s[h+5]==="T"&&s[h+6]==="Y"&&s[h+7]==="P"&&s[h+8]==="E"){h=h+9;let b=1,y=!1,O=!1,w="";for(;h<s.length;h++)if(s[h]==="<"&&!O){if(y&&g(s,h)){h+=7;let I,_;[I,_,h]=a(s,h+1),_.indexOf("&")===-1&&(v[o(I)]={regx:RegExp(`&${I};`,"g"),val:_})}else if(y&&m(s,h))h+=8;else if(y&&c(s,h))h+=8;else if(y&&l(s,h))h+=9;else if(p)O=!0;else throw new Error("Invalid DOCTYPE");b++,w=""}else if(s[h]===">"){if(O?s[h-1]==="-"&&s[h-2]==="-"&&(O=!1,b--):b--,b===0)break}else s[h]==="["?y=!0:w+=s[h];if(b!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:v,i:h}}function a(s,h){let v="";for(;h<s.length&&s[h]!=="'"&&s[h]!=='"';h++)v+=s[h];if(v=v.trim(),v.indexOf(" ")!==-1)throw new Error("External entites are not supported");const b=s[h++];let y="";for(;h<s.length&&s[h]!==b;h++)y+=s[h];return[v,y,h]}function p(s,h){return s[h+1]==="!"&&s[h+2]==="-"&&s[h+3]==="-"}function g(s,h){return s[h+1]==="!"&&s[h+2]==="E"&&s[h+3]==="N"&&s[h+4]==="T"&&s[h+5]==="I"&&s[h+6]==="T"&&s[h+7]==="Y"}function m(s,h){return s[h+1]==="!"&&s[h+2]==="E"&&s[h+3]==="L"&&s[h+4]==="E"&&s[h+5]==="M"&&s[h+6]==="E"&&s[h+7]==="N"&&s[h+8]==="T"}function c(s,h){return s[h+1]==="!"&&s[h+2]==="A"&&s[h+3]==="T"&&s[h+4]==="T"&&s[h+5]==="L"&&s[h+6]==="I"&&s[h+7]==="S"&&s[h+8]==="T"}function l(s,h){return s[h+1]==="!"&&s[h+2]==="N"&&s[h+3]==="O"&&s[h+4]==="T"&&s[h+5]==="A"&&s[h+6]==="T"&&s[h+7]==="I"&&s[h+8]==="O"&&s[h+9]==="N"}function o(s){if(e.isName(s))return s;throw new Error(`Invalid entity name ${s}`)}return DocTypeReader=t,DocTypeReader}var strnum,hasRequiredStrnum;function requireStrnum(){if(hasRequiredStrnum)return strnum;hasRequiredStrnum=1;const e=/^[-+]?0x[a-fA-F0-9]+$/,t=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,a={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function p(c,l={}){if(l=Object.assign({},a,l),!c||typeof c!="string")return c;let o=c.trim();if(l.skipLike!==void 0&&l.skipLike.test(o))return c;if(c==="0")return 0;if(l.hex&&e.test(o))return m(o,16);if(o.search(/[eE]/)!==-1){const s=o.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(s){if(l.leadingZeros)o=(s[1]||"")+s[3];else if(!(s[2]==="0"&&s[3][0]==="."))return c;return l.eNotation?Number(o):c}else return c}else{const s=t.exec(o);if(s){const h=s[1],v=s[2];let b=g(s[3]);if(!l.leadingZeros&&v.length>0&&h&&o[2]!==".")return c;if(!l.leadingZeros&&v.length>0&&!h&&o[1]!==".")return c;if(l.leadingZeros&&v===c)return 0;{const y=Number(o),O=""+y;return O.search(/[eE]/)!==-1?l.eNotation?y:c:o.indexOf(".")!==-1?O==="0"&&b===""||O===b||h&&O==="-"+b?y:c:v?b===O||h+b===O?y:c:o===O||o===h+O?y:c}}else return c}}function g(c){return c&&c.indexOf(".")!==-1&&(c=c.replace(/0+$/,""),c==="."?c="0":c[0]==="."?c="0"+c:c[c.length-1]==="."&&(c=c.substr(0,c.length-1))),c}function m(c,l){if(parseInt)return parseInt(c,l);if(Number.parseInt)return Number.parseInt(c,l);if(window&&window.parseInt)return window.parseInt(c,l);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return strnum=p,strnum}var ignoreAttributes,hasRequiredIgnoreAttributes;function requireIgnoreAttributes(){if(hasRequiredIgnoreAttributes)return ignoreAttributes;hasRequiredIgnoreAttributes=1;function e(t){return typeof t=="function"?t:Array.isArray(t)?a=>{for(const p of t)if(typeof p=="string"&&a===p||p instanceof RegExp&&p.test(a))return!0}:()=>!1}return ignoreAttributes=e,ignoreAttributes}var OrderedObjParser_1,hasRequiredOrderedObjParser;function requireOrderedObjParser(){if(hasRequiredOrderedObjParser)return OrderedObjParser_1;hasRequiredOrderedObjParser=1;const e=requireUtil$4(),t=requireXmlNode(),a=requireDocTypeReader(),p=requireStrnum(),g=requireIgnoreAttributes();class m{constructor(D){this.options=D,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(j,k)=>String.fromCharCode(Number.parseInt(k,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(j,k)=>String.fromCharCode(Number.parseInt(k,16))}},this.addExternalEntities=c,this.parseXml=v,this.parseTextData=l,this.resolveNameSpace=o,this.buildAttributesMap=h,this.isItStopNode=w,this.replaceEntitiesValue=y,this.readStopNodeData=C,this.saveTextToParentTag=O,this.addChild=b,this.ignoreAttributesFn=g(this.options.ignoreAttributes)}}function c(L){const D=Object.keys(L);for(let j=0;j<D.length;j++){const k=D[j];this.lastEntities[k]={regex:new RegExp("&"+k+";","g"),val:L[k]}}}function l(L,D,j,k,V,G,J){if(L!==void 0&&(this.options.trimValues&&!k&&(L=L.trim()),L.length>0)){J||(L=this.replaceEntitiesValue(L));const W=this.options.tagValueProcessor(D,L,j,V,G);return W==null?L:typeof W!=typeof L||W!==L?W:this.options.trimValues?N(L,this.options.parseTagValue,this.options.numberParseOptions):L.trim()===L?N(L,this.options.parseTagValue,this.options.numberParseOptions):L}}function o(L){if(this.options.removeNSPrefix){const D=L.split(":"),j=L.charAt(0)==="/"?"/":"";if(D[0]==="xmlns")return"";D.length===2&&(L=j+D[1])}return L}const s=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function h(L,D,j){if(this.options.ignoreAttributes!==!0&&typeof L=="string"){const k=e.getAllMatches(L,s),V=k.length,G={};for(let J=0;J<V;J++){const W=this.resolveNameSpace(k[J][1]);if(this.ignoreAttributesFn(W,D))continue;let K=k[J][4],X=this.options.attributeNamePrefix+W;if(W.length)if(this.options.transformAttributeName&&(X=this.options.transformAttributeName(X)),X==="__proto__"&&(X="#__proto__"),K!==void 0){this.options.trimValues&&(K=K.trim()),K=this.replaceEntitiesValue(K);const Y=this.options.attributeValueProcessor(W,K,D);Y==null?G[X]=K:typeof Y!=typeof K||Y!==K?G[X]=Y:G[X]=N(K,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(G[X]=!0)}if(!Object.keys(G).length)return;if(this.options.attributesGroupName){const J={};return J[this.options.attributesGroupName]=G,J}return G}}const v=function(L){L=L.replace(/\r\n?/g,`
`);const D=new t("!xml");let j=D,k="",V="";for(let G=0;G<L.length;G++)if(L[G]==="<")if(L[G+1]==="/"){const W=_(L,">",G,"Closing Tag is not closed.");let K=L.substring(G+2,W).trim();if(this.options.removeNSPrefix){const te=K.indexOf(":");te!==-1&&(K=K.substr(te+1))}this.options.transformTagName&&(K=this.options.transformTagName(K)),j&&(k=this.saveTextToParentTag(k,j,V));const X=V.substring(V.lastIndexOf(".")+1);if(K&&this.options.unpairedTags.indexOf(K)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${K}>`);let Y=0;X&&this.options.unpairedTags.indexOf(X)!==-1?(Y=V.lastIndexOf(".",V.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Y=V.lastIndexOf("."),V=V.substring(0,Y),j=this.tagsNodeStack.pop(),k="",G=W}else if(L[G+1]==="?"){let W=T(L,G,!1,"?>");if(!W)throw new Error("Pi Tag is not closed.");if(k=this.saveTextToParentTag(k,j,V),!(this.options.ignoreDeclaration&&W.tagName==="?xml"||this.options.ignorePiTags)){const K=new t(W.tagName);K.add(this.options.textNodeName,""),W.tagName!==W.tagExp&&W.attrExpPresent&&(K[":@"]=this.buildAttributesMap(W.tagExp,V,W.tagName)),this.addChild(j,K,V)}G=W.closeIndex+1}else if(L.substr(G+1,3)==="!--"){const W=_(L,"-->",G+4,"Comment is not closed.");if(this.options.commentPropName){const K=L.substring(G+4,W-2);k=this.saveTextToParentTag(k,j,V),j.add(this.options.commentPropName,[{[this.options.textNodeName]:K}])}G=W}else if(L.substr(G+1,2)==="!D"){const W=a(L,G);this.docTypeEntities=W.entities,G=W.i}else if(L.substr(G+1,2)==="!["){const W=_(L,"]]>",G,"CDATA is not closed.")-2,K=L.substring(G+9,W);k=this.saveTextToParentTag(k,j,V);let X=this.parseTextData(K,j.tagname,V,!0,!1,!0,!0);X==null&&(X=""),this.options.cdataPropName?j.add(this.options.cdataPropName,[{[this.options.textNodeName]:K}]):j.add(this.options.textNodeName,X),G=W+2}else{let W=T(L,G,this.options.removeNSPrefix),K=W.tagName;const X=W.rawTagName;let Y=W.tagExp,te=W.attrExpPresent,oe=W.closeIndex;this.options.transformTagName&&(K=this.options.transformTagName(K)),j&&k&&j.tagname!=="!xml"&&(k=this.saveTextToParentTag(k,j,V,!1));const le=j;if(le&&this.options.unpairedTags.indexOf(le.tagname)!==-1&&(j=this.tagsNodeStack.pop(),V=V.substring(0,V.lastIndexOf("."))),K!==D.tagname&&(V+=V?"."+K:K),this.isItStopNode(this.options.stopNodes,V,K)){let ee="";if(Y.length>0&&Y.lastIndexOf("/")===Y.length-1)K[K.length-1]==="/"?(K=K.substr(0,K.length-1),V=V.substr(0,V.length-1),Y=K):Y=Y.substr(0,Y.length-1),G=W.closeIndex;else if(this.options.unpairedTags.indexOf(K)!==-1)G=W.closeIndex;else{const de=this.readStopNodeData(L,X,oe+1);if(!de)throw new Error(`Unexpected end of ${X}`);G=de.i,ee=de.tagContent}const se=new t(K);K!==Y&&te&&(se[":@"]=this.buildAttributesMap(Y,V,K)),ee&&(ee=this.parseTextData(ee,K,V,!0,te,!0,!0)),V=V.substr(0,V.lastIndexOf(".")),se.add(this.options.textNodeName,ee),this.addChild(j,se,V)}else{if(Y.length>0&&Y.lastIndexOf("/")===Y.length-1){K[K.length-1]==="/"?(K=K.substr(0,K.length-1),V=V.substr(0,V.length-1),Y=K):Y=Y.substr(0,Y.length-1),this.options.transformTagName&&(K=this.options.transformTagName(K));const ee=new t(K);K!==Y&&te&&(ee[":@"]=this.buildAttributesMap(Y,V,K)),this.addChild(j,ee,V),V=V.substr(0,V.lastIndexOf("."))}else{const ee=new t(K);this.tagsNodeStack.push(j),K!==Y&&te&&(ee[":@"]=this.buildAttributesMap(Y,V,K)),this.addChild(j,ee,V),j=ee}k="",G=oe}}else k+=L[G];return D.child};function b(L,D,j){const k=this.options.updateTag(D.tagname,j,D[":@"]);k===!1||(typeof k=="string"&&(D.tagname=k),L.addChild(D))}const y=function(L){if(this.options.processEntities){for(let D in this.docTypeEntities){const j=this.docTypeEntities[D];L=L.replace(j.regx,j.val)}for(let D in this.lastEntities){const j=this.lastEntities[D];L=L.replace(j.regex,j.val)}if(this.options.htmlEntities)for(let D in this.htmlEntities){const j=this.htmlEntities[D];L=L.replace(j.regex,j.val)}L=L.replace(this.ampEntity.regex,this.ampEntity.val)}return L};function O(L,D,j,k){return L&&(k===void 0&&(k=D.child.length===0),L=this.parseTextData(L,D.tagname,j,!1,D[":@"]?Object.keys(D[":@"]).length!==0:!1,k),L!==void 0&&L!==""&&D.add(this.options.textNodeName,L),L=""),L}function w(L,D,j){const k="*."+j;for(const V in L){const G=L[V];if(k===G||D===G)return!0}return!1}function I(L,D,j=">"){let k,V="";for(let G=D;G<L.length;G++){let J=L[G];if(k)J===k&&(k="");else if(J==='"'||J==="'")k=J;else if(J===j[0])if(j[1]){if(L[G+1]===j[1])return{data:V,index:G}}else return{data:V,index:G};else J==="	"&&(J=" ");V+=J}}function _(L,D,j,k){const V=L.indexOf(D,j);if(V===-1)throw new Error(k);return V+D.length-1}function T(L,D,j,k=">"){const V=I(L,D+1,k);if(!V)return;let G=V.data;const J=V.index,W=G.search(/\s/);let K=G,X=!0;W!==-1&&(K=G.substring(0,W),G=G.substring(W+1).trimStart());const Y=K;if(j){const te=K.indexOf(":");te!==-1&&(K=K.substr(te+1),X=K!==V.data.substr(te+1))}return{tagName:K,tagExp:G,closeIndex:J,attrExpPresent:X,rawTagName:Y}}function C(L,D,j){const k=j;let V=1;for(;j<L.length;j++)if(L[j]==="<")if(L[j+1]==="/"){const G=_(L,">",j,`${D} is not closed`);if(L.substring(j+2,G).trim()===D&&(V--,V===0))return{tagContent:L.substring(k,j),i:G};j=G}else if(L[j+1]==="?")j=_(L,"?>",j+1,"StopNode is not closed.");else if(L.substr(j+1,3)==="!--")j=_(L,"-->",j+3,"StopNode is not closed.");else if(L.substr(j+1,2)==="![")j=_(L,"]]>",j,"StopNode is not closed.")-2;else{const G=T(L,j,">");G&&((G&&G.tagName)===D&&G.tagExp[G.tagExp.length-1]!=="/"&&V++,j=G.closeIndex)}}function N(L,D,j){if(D&&typeof L=="string"){const k=L.trim();return k==="true"?!0:k==="false"?!1:p(L,j)}else return e.isExist(L)?L:""}return OrderedObjParser_1=m,OrderedObjParser_1}var node2json={},hasRequiredNode2json;function requireNode2json(){if(hasRequiredNode2json)return node2json;hasRequiredNode2json=1;function e(m,c){return t(m,c)}function t(m,c,l){let o;const s={};for(let h=0;h<m.length;h++){const v=m[h],b=a(v);let y="";if(l===void 0?y=b:y=l+"."+b,b===c.textNodeName)o===void 0?o=v[b]:o+=""+v[b];else{if(b===void 0)continue;if(v[b]){let O=t(v[b],c,y);const w=g(O,c);v[":@"]?p(O,v[":@"],y,c):Object.keys(O).length===1&&O[c.textNodeName]!==void 0&&!c.alwaysCreateTextNode?O=O[c.textNodeName]:Object.keys(O).length===0&&(c.alwaysCreateTextNode?O[c.textNodeName]="":O=""),s[b]!==void 0&&s.hasOwnProperty(b)?(Array.isArray(s[b])||(s[b]=[s[b]]),s[b].push(O)):c.isArray(b,y,w)?s[b]=[O]:s[b]=O}}}return typeof o=="string"?o.length>0&&(s[c.textNodeName]=o):o!==void 0&&(s[c.textNodeName]=o),s}function a(m){const c=Object.keys(m);for(let l=0;l<c.length;l++){const o=c[l];if(o!==":@")return o}}function p(m,c,l,o){if(c){const s=Object.keys(c),h=s.length;for(let v=0;v<h;v++){const b=s[v];o.isArray(b,l+"."+b,!0,!0)?m[b]=[c[b]]:m[b]=c[b]}}}function g(m,c){const{textNodeName:l}=c,o=Object.keys(m).length;return!!(o===0||o===1&&(m[l]||typeof m[l]=="boolean"||m[l]===0))}return node2json.prettify=e,node2json}var XMLParser_1,hasRequiredXMLParser;function requireXMLParser(){if(hasRequiredXMLParser)return XMLParser_1;hasRequiredXMLParser=1;const{buildOptions:e}=requireOptionsBuilder(),t=requireOrderedObjParser(),{prettify:a}=requireNode2json(),p=requireValidator();class g{constructor(c){this.externalEntities={},this.options=e(c)}parse(c,l){if(typeof c!="string")if(c.toString)c=c.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(l){l===!0&&(l={});const h=p.validate(c,l);if(h!==!0)throw Error(`${h.err.msg}:${h.err.line}:${h.err.col}`)}const o=new t(this.options);o.addExternalEntities(this.externalEntities);const s=o.parseXml(c);return this.options.preserveOrder||s===void 0?s:a(s,this.options)}addEntity(c,l){if(l.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(c.indexOf("&")!==-1||c.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(l==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[c]=l}}return XMLParser_1=g,XMLParser_1}var orderedJs2Xml,hasRequiredOrderedJs2Xml;function requireOrderedJs2Xml(){if(hasRequiredOrderedJs2Xml)return orderedJs2Xml;hasRequiredOrderedJs2Xml=1;const e=`
`;function t(l,o){let s="";return o.format&&o.indentBy.length>0&&(s=e),a(l,o,"",s)}function a(l,o,s,h){let v="",b=!1;for(let y=0;y<l.length;y++){const O=l[y],w=p(O);if(w===void 0)continue;let I="";if(s.length===0?I=w:I=`${s}.${w}`,w===o.textNodeName){let L=O[w];m(I,o)||(L=o.tagValueProcessor(w,L),L=c(L,o)),b&&(v+=h),v+=L,b=!1;continue}else if(w===o.cdataPropName){b&&(v+=h),v+=`<![CDATA[${O[w][0][o.textNodeName]}]]>`,b=!1;continue}else if(w===o.commentPropName){v+=h+`<!--${O[w][0][o.textNodeName]}-->`,b=!0;continue}else if(w[0]==="?"){const L=g(O[":@"],o),D=w==="?xml"?"":h;let j=O[w][0][o.textNodeName];j=j.length!==0?" "+j:"",v+=D+`<${w}${j}${L}?>`,b=!0;continue}let _=h;_!==""&&(_+=o.indentBy);const T=g(O[":@"],o),C=h+`<${w}${T}`,N=a(O[w],o,I,_);o.unpairedTags.indexOf(w)!==-1?o.suppressUnpairedNode?v+=C+">":v+=C+"/>":(!N||N.length===0)&&o.suppressEmptyNode?v+=C+"/>":N&&N.endsWith(">")?v+=C+`>${N}${h}</${w}>`:(v+=C+">",N&&h!==""&&(N.includes("/>")||N.includes("</"))?v+=h+o.indentBy+N+h:v+=N,v+=`</${w}>`),b=!0}return v}function p(l){const o=Object.keys(l);for(let s=0;s<o.length;s++){const h=o[s];if(l.hasOwnProperty(h)&&h!==":@")return h}}function g(l,o){let s="";if(l&&!o.ignoreAttributes)for(let h in l){if(!l.hasOwnProperty(h))continue;let v=o.attributeValueProcessor(h,l[h]);v=c(v,o),v===!0&&o.suppressBooleanAttributes?s+=` ${h.substr(o.attributeNamePrefix.length)}`:s+=` ${h.substr(o.attributeNamePrefix.length)}="${v}"`}return s}function m(l,o){l=l.substr(0,l.length-o.textNodeName.length-1);let s=l.substr(l.lastIndexOf(".")+1);for(let h in o.stopNodes)if(o.stopNodes[h]===l||o.stopNodes[h]==="*."+s)return!0;return!1}function c(l,o){if(l&&l.length>0&&o.processEntities)for(let s=0;s<o.entities.length;s++){const h=o.entities[s];l=l.replace(h.regex,h.val)}return l}return orderedJs2Xml=t,orderedJs2Xml}var json2xml,hasRequiredJson2xml;function requireJson2xml(){if(hasRequiredJson2xml)return json2xml;hasRequiredJson2xml=1;const e=requireOrderedJs2Xml(),t=requireIgnoreAttributes(),a={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(l,o){return o},attributeValueProcessor:function(l,o){return o},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function p(l){this.options=Object.assign({},a,l),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=t(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=g,this.options.format?(this.indentate=m,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}p.prototype.build=function(l){return this.options.preserveOrder?e(l,this.options):(Array.isArray(l)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(l={[this.options.arrayNodeName]:l}),this.j2x(l,0,[]).val)},p.prototype.j2x=function(l,o,s){let h="",v="";const b=s.join(".");for(let y in l)if(Object.prototype.hasOwnProperty.call(l,y))if(typeof l[y]>"u")this.isAttribute(y)&&(v+="");else if(l[y]===null)this.isAttribute(y)||y===this.options.cdataPropName?v+="":y[0]==="?"?v+=this.indentate(o)+"<"+y+"?"+this.tagEndChar:v+=this.indentate(o)+"<"+y+"/"+this.tagEndChar;else if(l[y]instanceof Date)v+=this.buildTextValNode(l[y],y,"",o);else if(typeof l[y]!="object"){const O=this.isAttribute(y);if(O&&!this.ignoreAttributesFn(O,b))h+=this.buildAttrPairStr(O,""+l[y]);else if(!O)if(y===this.options.textNodeName){let w=this.options.tagValueProcessor(y,""+l[y]);v+=this.replaceEntitiesValue(w)}else v+=this.buildTextValNode(l[y],y,"",o)}else if(Array.isArray(l[y])){const O=l[y].length;let w="",I="";for(let _=0;_<O;_++){const T=l[y][_];if(!(typeof T>"u"))if(T===null)y[0]==="?"?v+=this.indentate(o)+"<"+y+"?"+this.tagEndChar:v+=this.indentate(o)+"<"+y+"/"+this.tagEndChar;else if(typeof T=="object")if(this.options.oneListGroup){const C=this.j2x(T,o+1,s.concat(y));w+=C.val,this.options.attributesGroupName&&T.hasOwnProperty(this.options.attributesGroupName)&&(I+=C.attrStr)}else w+=this.processTextOrObjNode(T,y,o,s);else if(this.options.oneListGroup){let C=this.options.tagValueProcessor(y,T);C=this.replaceEntitiesValue(C),w+=C}else w+=this.buildTextValNode(T,y,"",o)}this.options.oneListGroup&&(w=this.buildObjectNode(w,y,I,o)),v+=w}else if(this.options.attributesGroupName&&y===this.options.attributesGroupName){const O=Object.keys(l[y]),w=O.length;for(let I=0;I<w;I++)h+=this.buildAttrPairStr(O[I],""+l[y][O[I]])}else v+=this.processTextOrObjNode(l[y],y,o,s);return{attrStr:h,val:v}},p.prototype.buildAttrPairStr=function(l,o){return o=this.options.attributeValueProcessor(l,""+o),o=this.replaceEntitiesValue(o),this.options.suppressBooleanAttributes&&o==="true"?" "+l:" "+l+'="'+o+'"'};function g(l,o,s,h){const v=this.j2x(l,s+1,h.concat(o));return l[this.options.textNodeName]!==void 0&&Object.keys(l).length===1?this.buildTextValNode(l[this.options.textNodeName],o,v.attrStr,s):this.buildObjectNode(v.val,o,v.attrStr,s)}p.prototype.buildObjectNode=function(l,o,s,h){if(l==="")return o[0]==="?"?this.indentate(h)+"<"+o+s+"?"+this.tagEndChar:this.indentate(h)+"<"+o+s+this.closeTag(o)+this.tagEndChar;{let v="</"+o+this.tagEndChar,b="";return o[0]==="?"&&(b="?",v=""),(s||s==="")&&l.indexOf("<")===-1?this.indentate(h)+"<"+o+s+b+">"+l+v:this.options.commentPropName!==!1&&o===this.options.commentPropName&&b.length===0?this.indentate(h)+`<!--${l}-->`+this.newLine:this.indentate(h)+"<"+o+s+b+this.tagEndChar+l+this.indentate(h)+v}},p.prototype.closeTag=function(l){let o="";return this.options.unpairedTags.indexOf(l)!==-1?this.options.suppressUnpairedNode||(o="/"):this.options.suppressEmptyNode?o="/":o=`></${l}`,o},p.prototype.buildTextValNode=function(l,o,s,h){if(this.options.cdataPropName!==!1&&o===this.options.cdataPropName)return this.indentate(h)+`<![CDATA[${l}]]>`+this.newLine;if(this.options.commentPropName!==!1&&o===this.options.commentPropName)return this.indentate(h)+`<!--${l}-->`+this.newLine;if(o[0]==="?")return this.indentate(h)+"<"+o+s+"?"+this.tagEndChar;{let v=this.options.tagValueProcessor(o,l);return v=this.replaceEntitiesValue(v),v===""?this.indentate(h)+"<"+o+s+this.closeTag(o)+this.tagEndChar:this.indentate(h)+"<"+o+s+">"+v+"</"+o+this.tagEndChar}},p.prototype.replaceEntitiesValue=function(l){if(l&&l.length>0&&this.options.processEntities)for(let o=0;o<this.options.entities.length;o++){const s=this.options.entities[o];l=l.replace(s.regex,s.val)}return l};function m(l){return this.options.indentBy.repeat(l)}function c(l){return l.startsWith(this.options.attributeNamePrefix)&&l!==this.options.textNodeName?l.substr(this.attrPrefixLen):!1}return json2xml=p,json2xml}var fxp,hasRequiredFxp;function requireFxp(){if(hasRequiredFxp)return fxp;hasRequiredFxp=1;const e=requireValidator(),t=requireXMLParser(),a=requireJson2xml();return fxp={XMLParser:t,XMLValidator:e,XMLBuilder:a},fxp}var hasRequiredTransferManager;function requireTransferManager(){if(hasRequiredTransferManager)return transferManager;hasRequiredTransferManager=1;var e=transferManager&&transferManager.__createBinding||(Object.create?(function(le,ee,se,de){de===void 0&&(de=se);var he=Object.getOwnPropertyDescriptor(ee,se);(!he||("get"in he?!ee.__esModule:he.writable||he.configurable))&&(he={enumerable:!0,get:function(){return ee[se]}}),Object.defineProperty(le,de,he)}):(function(le,ee,se,de){de===void 0&&(de=se),le[de]=ee[se]})),t=transferManager&&transferManager.__setModuleDefault||(Object.create?(function(le,ee){Object.defineProperty(le,"default",{enumerable:!0,value:ee})}):function(le,ee){le.default=ee}),a=transferManager&&transferManager.__importStar||(function(){var le=function(ee){return le=Object.getOwnPropertyNames||function(se){var de=[];for(var he in se)Object.prototype.hasOwnProperty.call(se,he)&&(de[de.length]=he);return de},le(ee)};return function(ee){if(ee&&ee.__esModule)return ee;var se={};if(ee!=null)for(var de=le(ee),he=0;he<de.length;he++)de[he]!=="default"&&e(se,ee,de[he]);return t(se,ee),se}})(),p=transferManager&&transferManager.__classPrivateFieldGet||function(le,ee,se,de){if(se==="a"&&!de)throw new TypeError("Private accessor was defined without a getter");if(typeof ee=="function"?le!==ee||!de:!ee.has(le))throw new TypeError("Cannot read private member from an object whose class did not declare it");return se==="m"?de:se==="a"?de.call(le):de?de.value:ee.get(le)},g=transferManager&&transferManager.__importDefault||function(le){return le&&le.__esModule?le:{default:le}},m,c,l;Object.defineProperty(transferManager,"__esModule",{value:!0}),transferManager.TransferManager=transferManager.MultiPartUploadError=void 0;const o=requireFile(),s=g(requirePLimit()),h=a(require$$1$3),v=require$$1$3,b=requireCrc32c(),y=requireSrc$b(),O=requireFxp(),w=g(requireLib$1()),I=require$$1$3,_=requireUtil$5(),T=requireUtil$6(),N=(0,requirePackageJsonHelper().getPackageJSON)(),L=5,D=5,j=5,k=32*1024*1024,V=32*1024*1024,G=32*1024*1024,J=5,W="(?:)",K={UPLOAD_MANY:"tm.upload_many",DOWNLOAD_MANY:"tm.download_many",UPLOAD_SHARDED:"tm.upload_sharded",DOWNLOAD_SHARDED:"tm.download_sharded"},X=(le,ee,se,de)=>new te(le,ee,se,de);class Y extends Error{constructor(ee,se,de){super(ee),this.uploadId=se,this.partsMap=de}}transferManager.MultiPartUploadError=Y;class te{constructor(ee,se,de,he){m.add(this),this.authClient=ee.storage.authClient||new y.GoogleAuth,this.uploadId=de||"",this.bucket=ee,this.fileName=se,this.baseUrl=`https://${ee.name}.${new URL(this.bucket.storage.apiEndpoint).hostname}/${se}`,this.xmlBuilder=new O.XMLBuilder({arrayNodeName:"Part"}),this.xmlParser=new O.XMLParser,this.partsMap=he||new Map,this.retryOptions={retries:this.bucket.storage.retryOptions.maxRetries,factor:this.bucket.storage.retryOptions.retryDelayMultiplier,maxTimeout:this.bucket.storage.retryOptions.maxRetryDelay*1e3,maxRetryTime:this.bucket.storage.retryOptions.totalTimeout*1e3}}async initiateUpload(ee={}){const se=`${this.baseUrl}?uploads`;return(0,w.default)(async de=>{try{const he=await this.authClient.request({headers:p(this,m,"m",c).call(this,ee),method:"POST",url:se});if(he.data&&he.data.error)throw he.data.error;const ge=this.xmlParser.parse(he.data);this.uploadId=ge.InitiateMultipartUploadResult.UploadId}catch(he){p(this,m,"m",l).call(this,he,de)}},this.retryOptions)}async uploadPart(ee,se,de){const he=`${this.baseUrl}?partNumber=${ee}&uploadId=${this.uploadId}`;let ge=p(this,m,"m",c).call(this);return de==="md5"&&(ge={"Content-MD5":(0,I.createHash)("md5").update(se).digest("base64")}),(0,w.default)(async me=>{try{const Oe=await this.authClient.request({url:he,method:"PUT",body:se,headers:ge});if(Oe.data&&Oe.data.error)throw Oe.data.error;this.partsMap.set(ee,Oe.headers.etag)}catch(Oe){p(this,m,"m",l).call(this,Oe,me)}},this.retryOptions)}async completeUpload(){const ee=`${this.baseUrl}?uploadId=${this.uploadId}`,se=new Map([...this.partsMap.entries()].sort((ge,me)=>ge[0]-me[0])),de=[];for(const ge of se.entries())de.push({PartNumber:ge[0],ETag:ge[1]});const he=`<CompleteMultipartUpload>${this.xmlBuilder.build(de)}</CompleteMultipartUpload>`;return(0,w.default)(async ge=>{try{const me=await this.authClient.request({headers:p(this,m,"m",c).call(this),url:ee,method:"POST",body:he});if(me.data&&me.data.error)throw me.data.error;return me}catch(me){p(this,m,"m",l).call(this,me,ge);return}},this.retryOptions)}async abortUpload(){const ee=`${this.baseUrl}?uploadId=${this.uploadId}`;return(0,w.default)(async se=>{try{const de=await this.authClient.request({url:ee,method:"DELETE"});if(de.data&&de.data.error)throw de.data.error}catch(de){p(this,m,"m",l).call(this,de,se);return}},this.retryOptions)}}m=new WeakSet,c=function(ee={}){let se=!1,de=!1;for(const[he,ge]of Object.entries(ee))he.toLocaleLowerCase().trim()==="x-goog-api-client"?(se=!0,ge.includes(K.UPLOAD_SHARDED)||(ee[he]=`${ge} gccl-gcs-cmd/${K.UPLOAD_SHARDED}`)):he.toLocaleLowerCase().trim()==="user-agent"&&(de=!0);return se||(ee["x-goog-api-client"]=`${(0,T.getRuntimeTrackingString)()} gccl/${N.version} gccl-gcs-cmd/${K.UPLOAD_SHARDED}`),de||(ee["User-Agent"]=(0,T.getUserAgentString)()),ee},l=function(ee,se){if(this.bucket.storage.retryOptions.autoRetry&&this.bucket.storage.retryOptions.retryableErrorFn(ee))throw ee;se(ee)};class oe{constructor(ee){this.bucket=ee}async uploadManyFiles(ee,se={}){var de;se.skipIfExists&&(!((de=se.passthroughOptions)===null||de===void 0)&&de.preconditionOpts)?se.passthroughOptions.preconditionOpts.ifGenerationMatch=0:se.skipIfExists&&se.passthroughOptions===void 0&&(se.passthroughOptions={preconditionOpts:{ifGenerationMatch:0}});const he=(0,s.default)(se.concurrencyLimit||L),ge=[];let me=[];if(Array.isArray(ee))me=ee;else for await(const Oe of this.getPathsFromDirectory(ee))me.push(Oe);for(const Oe of me){if((await v.promises.lstat(Oe)).isDirectory())continue;const _e={...se.passthroughOptions,[_.GCCL_GCS_CMD_KEY]:K.UPLOAD_MANY};_e.destination=se.customDestinationBuilder?se.customDestinationBuilder(Oe,se):Oe.split(h.sep).join(h.posix.sep),se.prefix&&(_e.destination=h.posix.join(...se.prefix.split(h.sep),_e.destination)),ge.push(he(()=>this.bucket.upload(Oe,_e)))}return Promise.all(ge)}async downloadManyFiles(ee,se={}){const de=(0,s.default)(se.concurrencyLimit||D),he=[];let ge=[];Array.isArray(ee)?ge=ee.map(fe=>typeof fe=="string"?this.bucket.file(fe):fe):ge=(await this.bucket.getFiles({prefix:ee}))[0];const me=se.stripPrefix?`^${se.stripPrefix}`:W,Oe=new RegExp(me,"g");for(const fe of ge){const _e={...se.passthroughOptions,[_.GCCL_GCS_CMD_KEY]:K.DOWNLOAD_MANY};(se.prefix||_e.destination)&&(_e.destination=h.join(se.prefix||"",_e.destination||"",fe.name)),se.stripPrefix&&(_e.destination=fe.name.replace(Oe,"")),!(se.skipIfExists&&(0,v.existsSync)(_e.destination||""))&&he.push(de(async()=>{const Ee=_e.destination;return Ee&&Ee.endsWith(h.sep)?(await v.promises.mkdir(Ee,{recursive:!0}),Promise.resolve([Buffer.alloc(0)])):fe.download(_e)}))}return Promise.all(he)}async downloadFileInChunks(ee,se={}){let de=se.chunkSizeBytes||V,he=(0,s.default)(se.concurrencyLimit||j);const ge=!!se.noReturnData,me=[],Oe=typeof ee=="string"?this.bucket.file(ee):ee,fe=await Oe.get(),_e=parseInt(fe[0].metadata.size.toString());_e<k&&(he=(0,s.default)(1),de=_e);let Ee=0;const z=se.destination||h.basename(Oe.name),d=await v.promises.open(z,"w");for(;Ee<_e;){const A=Ee;let $=Ee+de-1;$=$>_e?_e:$,me.push(he(async()=>{const ie=await Oe.download({start:A,end:$,[_.GCCL_GCS_CMD_KEY]:K.DOWNLOAD_SHARDED}),pe=await d.write(ie[0],0,ie[0].length,A);if(!ge)return pe.buffer})),Ee+=de}let P;try{P=await Promise.all(me)}finally{await d.close()}if(se.validation==="crc32c"&&fe[0].metadata.crc32c&&!(await b.CRC32C.fromFile(z)).validate(fe[0].metadata.crc32c)){const $=new o.RequestError(o.FileExceptionMessages.DOWNLOAD_MISMATCH);throw $.code="CONTENT_DOWNLOAD_MISMATCH",$}if(!ge)return[Buffer.concat(P,_e)]}async uploadFileInChunks(ee,se={},de=X){const he=se.chunkSizeBytes||G,ge=(0,s.default)(se.concurrencyLimit||J),me=se.maxQueueSize||se.concurrencyLimit||J,Oe=se.uploadName||h.basename(ee),fe=de(this.bucket,Oe,se.uploadId,se.partsMap);let _e=1,Ee=[];try{se.uploadId===void 0&&await fe.initiateUpload(se.headers);const z=fe.partsMap.size*he,d=(0,v.createReadStream)(ee,{highWaterMark:he,start:z});for await(const P of d)Ee.length>=me&&(await Promise.all(Ee),Ee=[]),Ee.push(ge(()=>fe.uploadPart(_e++,P,se.validation)));return await Promise.all(Ee),await fe.completeUpload()}catch(z){if((se.autoAbortFailure===void 0||se.autoAbortFailure)&&fe.uploadId)try{await fe.abortUpload();return}catch(d){throw new Y(d.message,fe.uploadId,fe.partsMap)}throw new Y(z.message,fe.uploadId,fe.partsMap)}}async*getPathsFromDirectory(ee){const se=await v.promises.readdir(ee,{withFileTypes:!0});for(const de of se){const he=h.join(ee,de.name);de.isDirectory()?yield*this.getPathsFromDirectory(he):yield he}}}return transferManager.TransferManager=oe,transferManager}var hasRequiredSrc$3;function requireSrc$3(){return hasRequiredSrc$3||(hasRequiredSrc$3=1,(function(e){var t=src$9&&src$9.__createBinding||(Object.create?(function(v,b,y,O){O===void 0&&(O=y);var w=Object.getOwnPropertyDescriptor(b,y);(!w||("get"in w?!b.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return b[y]}}),Object.defineProperty(v,O,w)}):(function(v,b,y,O){O===void 0&&(O=y),v[O]=b[y]})),a=src$9&&src$9.__exportStar||function(v,b){for(var y in v)y!=="default"&&!Object.prototype.hasOwnProperty.call(b,y)&&t(b,v,y)};Object.defineProperty(e,"__esModule",{value:!0}),e.Notification=e.Iam=e.HmacKey=e.File=e.Channel=e.Bucket=e.Storage=e.RETRYABLE_ERR_FN_DEFAULT=e.IdempotencyStrategy=e.ApiError=void 0;var p=requireNodejsCommon();Object.defineProperty(e,"ApiError",{enumerable:!0,get:function(){return p.ApiError}});var g=requireStorage$2();Object.defineProperty(e,"IdempotencyStrategy",{enumerable:!0,get:function(){return g.IdempotencyStrategy}}),Object.defineProperty(e,"RETRYABLE_ERR_FN_DEFAULT",{enumerable:!0,get:function(){return g.RETRYABLE_ERR_FN_DEFAULT}}),Object.defineProperty(e,"Storage",{enumerable:!0,get:function(){return g.Storage}});var m=requireBucket();Object.defineProperty(e,"Bucket",{enumerable:!0,get:function(){return m.Bucket}}),a(requireCrc32c(),e);var c=requireChannel();Object.defineProperty(e,"Channel",{enumerable:!0,get:function(){return c.Channel}});var l=requireFile();Object.defineProperty(e,"File",{enumerable:!0,get:function(){return l.File}}),a(requireHashStreamValidator(),e);var o=requireHmacKey();Object.defineProperty(e,"HmacKey",{enumerable:!0,get:function(){return o.HmacKey}});var s=requireIam();Object.defineProperty(e,"Iam",{enumerable:!0,get:function(){return s.Iam}});var h=requireNotification();Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return h.Notification}}),a(requireTransferManager(),e)})(src$9)),src$9}var hasRequiredStorage$1;function requireStorage$1(){if(hasRequiredStorage$1)return storage$2;hasRequiredStorage$1=1;var e={};Object.defineProperty(storage$2,"__esModule",{value:!0}),storage$2.Storage=void 0;const t=requireError(),a=requireCredentialInternal(),p=requireUtils$2(),g=requireValidator$1();class m{constructor(l){if(!g.isNonNullObject(l)||!("options"in l))throw new t.FirebaseError({code:"storage/invalid-argument",message:"First argument passed to admin.storage() must be a valid Firebase app instance."});if(!e.STORAGE_EMULATOR_HOST&&e.FIREBASE_STORAGE_EMULATOR_HOST){if(e.FIREBASE_STORAGE_EMULATOR_HOST.match(/https?:\/\//))throw new t.FirebaseError({code:"storage/invalid-emulator-host",message:"FIREBASE_STORAGE_EMULATOR_HOST should not contain a protocol (http or https)."});e.STORAGE_EMULATOR_HOST=`http://${e.FIREBASE_STORAGE_EMULATOR_HOST}`}let o;try{o=requireSrc$3().Storage}catch(v){throw new t.FirebaseError({code:"storage/missing-dependencies",message:`Failed to import the Cloud Storage client library for Node.js. Make sure to install the "@google-cloud/storage" npm package. Original error: ${v}`})}const s=p.getExplicitProjectId(l),h=l.options.credential;if(h instanceof a.ServiceAccountCredential)this.storageClient=new o({projectId:s,credentials:{private_key:h.privateKey,client_email:h.clientEmail}});else if((0,a.isApplicationDefault)(l.options.credential))this.storageClient=new o;else throw new t.FirebaseError({code:"storage/invalid-credential",message:"Failed to initialize Google Cloud Storage client with the available credential. Must initialize the SDK with a certificate credential or application default credentials to use Cloud Storage API."});this.appInternal=l}bucket(l){const o=typeof l<"u"?l:this.appInternal.options.storageBucket;if(g.isNonEmptyString(o))return this.storageClient.bucket(o);throw new t.FirebaseError({code:"storage/invalid-argument",message:"Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method."})}get app(){return this.appInternal}}return storage$2.Storage=m,storage$2}var src$2={exports:{}},backoff={},logger={},validate$1={},util$3={};const interfaces$5={"google.firestore.v1.Firestore":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],deadline_exceeded_resource_exhausted_internal_unavailable:["DEADLINE_EXCEEDED","RESOURCE_EXHAUSTED","INTERNAL","UNAVAILABLE"],resource_exhausted_unavailable:["RESOURCE_EXHAUSTED","UNAVAILABLE"],resource_exhausted_aborted_unavailable:["RESOURCE_EXHAUSTED","ABORTED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{GetDocument:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},ListDocuments:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},UpdateDocument:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_unavailable",retry_params_name:"default"},DeleteDocument:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},BatchGetDocuments:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},BeginTransaction:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},Commit:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_unavailable",retry_params_name:"default"},Rollback:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},RunQuery:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},RunAggregationQuery:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},PartitionQuery:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},Write:{timeout_millis:864e5,retry_codes_name:"non_idempotent",retry_params_name:"default"},Listen:{timeout_millis:864e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},ListCollectionIds:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},BatchWrite:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_aborted_unavailable",retry_params_name:"default"},CreateDocument:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_unavailable",retry_params_name:"default"}}}},require$$19={interfaces:interfaces$5};var fallback={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var object_hash={exports:{}},hasRequiredObject_hash;function requireObject_hash(){return hasRequiredObject_hash||(hasRequiredObject_hash=1,(function(e,t){(function(a){e.exports=a()})(function(){return(function a(p,g,m){function c(s,h){if(!g[s]){if(!p[s]){var v=typeof commonjsRequire=="function"&&commonjsRequire;if(!h&&v)return v(s,!0);if(l)return l(s,!0);throw new Error("Cannot find module '"+s+"'")}h=g[s]={exports:{}},p[s][0].call(h.exports,function(b){var y=p[s][1][b];return c(y||b)},h,h.exports,a,p,g,m)}return g[s].exports}for(var l=typeof commonjsRequire=="function"&&commonjsRequire,o=0;o<m.length;o++)c(m[o]);return c})({1:[function(a,p,g){(function(m,c,l,o,s,h,v,b,y){var O=a("crypto");function w(D,j){j=T(D,j);var k;return(k=j.algorithm!=="passthrough"?O.createHash(j.algorithm):new L).write===void 0&&(k.write=k.update,k.end=k.update),N(j,k).dispatch(D),k.update||k.end(""),k.digest?k.digest(j.encoding==="buffer"?void 0:j.encoding):(D=k.read(),j.encoding!=="buffer"?D.toString(j.encoding):D)}(g=p.exports=w).sha1=function(D){return w(D)},g.keys=function(D){return w(D,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},g.MD5=function(D){return w(D,{algorithm:"md5",encoding:"hex"})},g.keysMD5=function(D){return w(D,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var I=O.getHashes?O.getHashes().slice():["sha1","md5"],_=(I.push("passthrough"),["buffer","hex","binary","base64"]);function T(D,j){var k={};if(k.algorithm=(j=j||{}).algorithm||"sha1",k.encoding=j.encoding||"hex",k.excludeValues=!!j.excludeValues,k.algorithm=k.algorithm.toLowerCase(),k.encoding=k.encoding.toLowerCase(),k.ignoreUnknown=j.ignoreUnknown===!0,k.respectType=j.respectType!==!1,k.respectFunctionNames=j.respectFunctionNames!==!1,k.respectFunctionProperties=j.respectFunctionProperties!==!1,k.unorderedArrays=j.unorderedArrays===!0,k.unorderedSets=j.unorderedSets!==!1,k.unorderedObjects=j.unorderedObjects!==!1,k.replacer=j.replacer||void 0,k.excludeKeys=j.excludeKeys||void 0,D===void 0)throw new Error("Object argument required.");for(var V=0;V<I.length;++V)I[V].toLowerCase()===k.algorithm.toLowerCase()&&(k.algorithm=I[V]);if(I.indexOf(k.algorithm)===-1)throw new Error('Algorithm "'+k.algorithm+'"  not supported. supported values: '+I.join(", "));if(_.indexOf(k.encoding)===-1&&k.algorithm!=="passthrough")throw new Error('Encoding "'+k.encoding+'"  not supported. supported values: '+_.join(", "));return k}function C(D){if(typeof D=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(D))!=null}function N(D,j,k){k=k||[];function V(G){return j.update?j.update(G,"utf8"):j.write(G,"utf8")}return{dispatch:function(G){return this["_"+((G=D.replacer?D.replacer(G):G)===null?"null":typeof G)](G)},_object:function(G){var J,W=Object.prototype.toString.call(G),K=/\[object (.*)\]/i.exec(W);if(K=(K=K?K[1]:"unknown:["+W+"]").toLowerCase(),0<=(W=k.indexOf(G)))return this.dispatch("[CIRCULAR:"+W+"]");if(k.push(G),l!==void 0&&l.isBuffer&&l.isBuffer(G))return V("buffer:"),V(G);if(K==="object"||K==="function"||K==="asyncfunction")return W=Object.keys(G),D.unorderedObjects&&(W=W.sort()),D.respectType===!1||C(G)||W.splice(0,0,"prototype","__proto__","constructor"),D.excludeKeys&&(W=W.filter(function(X){return!D.excludeKeys(X)})),V("object:"+W.length+":"),J=this,W.forEach(function(X){J.dispatch(X),V(":"),D.excludeValues||J.dispatch(G[X]),V(",")});if(!this["_"+K]){if(D.ignoreUnknown)return V("["+K+"]");throw new Error('Unknown object type "'+K+'"')}this["_"+K](G)},_array:function(G,X){X=X!==void 0?X:D.unorderedArrays!==!1;var W=this;if(V("array:"+G.length+":"),!X||G.length<=1)return G.forEach(function(Y){return W.dispatch(Y)});var K=[],X=G.map(function(Y){var te=new L,oe=k.slice();return N(D,te,oe).dispatch(Y),K=K.concat(oe.slice(k.length)),te.read().toString()});return k=k.concat(K),X.sort(),this._array(X,!1)},_date:function(G){return V("date:"+G.toJSON())},_symbol:function(G){return V("symbol:"+G.toString())},_error:function(G){return V("error:"+G.toString())},_boolean:function(G){return V("bool:"+G.toString())},_string:function(G){V("string:"+G.length+":"),V(G.toString())},_function:function(G){V("fn:"),C(G)?this.dispatch("[native]"):this.dispatch(G.toString()),D.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(G.name)),D.respectFunctionProperties&&this._object(G)},_number:function(G){return V("number:"+G.toString())},_xml:function(G){return V("xml:"+G.toString())},_null:function(){return V("Null")},_undefined:function(){return V("Undefined")},_regexp:function(G){return V("regex:"+G.toString())},_uint8array:function(G){return V("uint8array:"),this.dispatch(Array.prototype.slice.call(G))},_uint8clampedarray:function(G){return V("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(G))},_int8array:function(G){return V("int8array:"),this.dispatch(Array.prototype.slice.call(G))},_uint16array:function(G){return V("uint16array:"),this.dispatch(Array.prototype.slice.call(G))},_int16array:function(G){return V("int16array:"),this.dispatch(Array.prototype.slice.call(G))},_uint32array:function(G){return V("uint32array:"),this.dispatch(Array.prototype.slice.call(G))},_int32array:function(G){return V("int32array:"),this.dispatch(Array.prototype.slice.call(G))},_float32array:function(G){return V("float32array:"),this.dispatch(Array.prototype.slice.call(G))},_float64array:function(G){return V("float64array:"),this.dispatch(Array.prototype.slice.call(G))},_arraybuffer:function(G){return V("arraybuffer:"),this.dispatch(new Uint8Array(G))},_url:function(G){return V("url:"+G.toString())},_map:function(G){return V("map:"),G=Array.from(G),this._array(G,D.unorderedSets!==!1)},_set:function(G){return V("set:"),G=Array.from(G),this._array(G,D.unorderedSets!==!1)},_file:function(G){return V("file:"),this.dispatch([G.name,G.size,G.type,G.lastModfied])},_blob:function(){if(D.ignoreUnknown)return V("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return V("domwindow")},_bigint:function(G){return V("bigint:"+G.toString())},_process:function(){return V("process")},_timer:function(){return V("timer")},_pipe:function(){return V("pipe")},_tcp:function(){return V("tcp")},_udp:function(){return V("udp")},_tty:function(){return V("tty")},_statwatcher:function(){return V("statwatcher")},_securecontext:function(){return V("securecontext")},_connection:function(){return V("connection")},_zlib:function(){return V("zlib")},_context:function(){return V("context")},_nodescript:function(){return V("nodescript")},_httpparser:function(){return V("httpparser")},_dataview:function(){return V("dataview")},_signal:function(){return V("signal")},_fsevent:function(){return V("fsevent")},_tlswrap:function(){return V("tlswrap")}}}function L(){return{buf:"",write:function(D){this.buf+=D},end:function(D){this.buf+=D},read:function(){return this.buf}}}g.writeToStream=function(D,j,k){return k===void 0&&(k=j,j={}),N(j=T(D,j),k).dispatch(D)}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(a,p,g){(function(m,c,l,o,s,h,v,b,y){(function(O){var w=typeof Uint8Array<"u"?Uint8Array:Array,I=43,_=47,T=48,C=97,N=65,L=45,D=95;function j(k){return k=k.charCodeAt(0),k===I||k===L?62:k===_||k===D?63:k<T?-1:k<T+10?k-T+26+26:k<N+26?k-N:k<C+26?k-C+26:void 0}O.toByteArray=function(k){var V,G;if(0<k.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var J=k.length,J=k.charAt(J-2)==="="?2:k.charAt(J-1)==="="?1:0,W=new w(3*k.length/4-J),K=0<J?k.length-4:k.length,X=0;function Y(te){W[X++]=te}for(V=0;V<K;V+=4,0)Y((16711680&(G=j(k.charAt(V))<<18|j(k.charAt(V+1))<<12|j(k.charAt(V+2))<<6|j(k.charAt(V+3))))>>16),Y((65280&G)>>8),Y(255&G);return J==2?Y(255&(G=j(k.charAt(V))<<2|j(k.charAt(V+1))>>4)):J==1&&(Y((G=j(k.charAt(V))<<10|j(k.charAt(V+1))<<4|j(k.charAt(V+2))>>2)>>8&255),Y(255&G)),W},O.fromByteArray=function(k){var V,G,J,W,K=k.length%3,X="";function Y(te){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(te)}for(V=0,J=k.length-K;V<J;V+=3)G=(k[V]<<16)+(k[V+1]<<8)+k[V+2],X+=Y((W=G)>>18&63)+Y(W>>12&63)+Y(W>>6&63)+Y(63&W);switch(K){case 1:X=(X+=Y((G=k[k.length-1])>>2))+Y(G<<4&63)+"==";break;case 2:X=(X=(X+=Y((G=(k[k.length-2]<<8)+k[k.length-1])>>10))+Y(G>>4&63))+Y(G<<2&63)+"="}return X}})(g===void 0?this.base64js={}:g)}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(a,p,g){(function(m,c,I,o,s,h,v,b,y){var O=a("base64-js"),w=a("ieee754");function I(z,d,P){if(!(this instanceof I))return new I(z,d,P);var A,$,ie,pe,ne=typeof z;if(d==="base64"&&ne=="string")for(z=(pe=z).trim?pe.trim():pe.replace(/^\s+|\s+$/g,"");z.length%4!=0;)z+="=";if(ne=="number")A=le(z);else if(ne=="string")A=I.byteLength(z,d);else{if(ne!="object")throw new Error("First argument needs to be a number, array or string.");A=le(z.length)}if(I._useTypedArrays?$=I._augment(new Uint8Array(A)):(($=this).length=A,$._isBuffer=!0),I._useTypedArrays&&typeof z.byteLength=="number")$._set(z);else if(ee(pe=z)||I.isBuffer(pe)||pe&&typeof pe=="object"&&typeof pe.length=="number")for(ie=0;ie<A;ie++)I.isBuffer(z)?$[ie]=z.readUInt8(ie):$[ie]=z[ie];else if(ne=="string")$.write(z,0,d);else if(ne=="number"&&!I._useTypedArrays&&!P)for(ie=0;ie<A;ie++)$[ie]=0;return $}function _(z,d,P,A){return I._charsWritten=ge((function($){for(var ie=[],pe=0;pe<$.length;pe++)ie.push(255&$.charCodeAt(pe));return ie})(d),z,P,A)}function T(z,d,P,A){return I._charsWritten=ge((function($){for(var ie,pe,ne=[],u=0;u<$.length;u++)pe=$.charCodeAt(u),ie=pe>>8,pe=pe%256,ne.push(pe),ne.push(ie);return ne})(d),z,P,A)}function C(z,d,P){var A="";P=Math.min(z.length,P);for(var $=d;$<P;$++)A+=String.fromCharCode(z[$]);return A}function N(z,d,P,ie){ie||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(d!=null,"missing offset"),Ee(d+1<z.length,"Trying to read beyond buffer length"));var $,ie=z.length;if(!(ie<=d))return P?($=z[d],d+1<ie&&($|=z[d+1]<<8)):($=z[d]<<8,d+1<ie&&($|=z[d+1])),$}function L(z,d,P,ie){ie||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(d!=null,"missing offset"),Ee(d+3<z.length,"Trying to read beyond buffer length"));var $,ie=z.length;if(!(ie<=d))return P?(d+2<ie&&($=z[d+2]<<16),d+1<ie&&($|=z[d+1]<<8),$|=z[d],d+3<ie&&($+=z[d+3]<<24>>>0)):(d+1<ie&&($=z[d+1]<<16),d+2<ie&&($|=z[d+2]<<8),d+3<ie&&($|=z[d+3]),$+=z[d]<<24>>>0),$}function D(z,d,P,A){if(A||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(d!=null,"missing offset"),Ee(d+1<z.length,"Trying to read beyond buffer length")),!(z.length<=d))return A=N(z,d,P,!0),32768&A?-1*(65535-A+1):A}function j(z,d,P,A){if(A||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(d!=null,"missing offset"),Ee(d+3<z.length,"Trying to read beyond buffer length")),!(z.length<=d))return A=L(z,d,P,!0),2147483648&A?-1*(4294967295-A+1):A}function k(z,d,P,A){return A||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(d+3<z.length,"Trying to read beyond buffer length")),w.read(z,d,P,23,4)}function V(z,d,P,A){return A||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(d+7<z.length,"Trying to read beyond buffer length")),w.read(z,d,P,52,8)}function G(z,d,P,A,$){if($||(Ee(d!=null,"missing value"),Ee(typeof A=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+1<z.length,"trying to write beyond buffer length"),Oe(d,65535)),$=z.length,!($<=P))for(var ie=0,pe=Math.min($-P,2);ie<pe;ie++)z[P+ie]=(d&255<<8*(A?ie:1-ie))>>>8*(A?ie:1-ie)}function J(z,d,P,A,$){if($||(Ee(d!=null,"missing value"),Ee(typeof A=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+3<z.length,"trying to write beyond buffer length"),Oe(d,4294967295)),$=z.length,!($<=P))for(var ie=0,pe=Math.min($-P,4);ie<pe;ie++)z[P+ie]=d>>>8*(A?ie:3-ie)&255}function W(z,d,P,A,$){$||(Ee(d!=null,"missing value"),Ee(typeof A=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+1<z.length,"Trying to write beyond buffer length"),fe(d,32767,-32768)),z.length<=P||G(z,0<=d?d:65535+d+1,P,A,$)}function K(z,d,P,A,$){$||(Ee(d!=null,"missing value"),Ee(typeof A=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+3<z.length,"Trying to write beyond buffer length"),fe(d,2147483647,-2147483648)),z.length<=P||J(z,0<=d?d:4294967295+d+1,P,A,$)}function X(z,d,P,A,$){$||(Ee(d!=null,"missing value"),Ee(typeof A=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+3<z.length,"Trying to write beyond buffer length"),_e(d,34028234663852886e22,-34028234663852886e22)),z.length<=P||w.write(z,d,P,A,23,4)}function Y(z,d,P,A,$){$||(Ee(d!=null,"missing value"),Ee(typeof A=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+7<z.length,"Trying to write beyond buffer length"),_e(d,17976931348623157e292,-17976931348623157e292)),z.length<=P||w.write(z,d,P,A,52,8)}g.Buffer=I,g.SlowBuffer=I,g.INSPECT_MAX_BYTES=50,I.poolSize=8192,I._useTypedArrays=(function(){try{var z=new ArrayBuffer(0),d=new Uint8Array(z);return d.foo=function(){return 42},d.foo()===42&&typeof d.subarray=="function"}catch{return!1}})(),I.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},I.isBuffer=function(z){return!(z==null||!z._isBuffer)},I.byteLength=function(z,d){var P;switch(z+="",d||"utf8"){case"hex":P=z.length/2;break;case"utf8":case"utf-8":P=de(z).length;break;case"ascii":case"binary":case"raw":P=z.length;break;case"base64":P=he(z).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":P=2*z.length;break;default:throw new Error("Unknown encoding")}return P},I.concat=function(z,d){if(Ee(ee(z),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),z.length===0)return new I(0);if(z.length===1)return z[0];if(typeof d!="number")for($=d=0;$<z.length;$++)d+=z[$].length;for(var P=new I(d),A=0,$=0;$<z.length;$++){var ie=z[$];ie.copy(P,A),A+=ie.length}return P},I.prototype.write=function(z,d,P,A){isFinite(d)?isFinite(P)||(A=P,P=void 0):(u=A,A=d,d=P,P=u),d=Number(d)||0;var $,ie,pe,ne,u=this.length-d;switch((!P||u<(P=Number(P)))&&(P=u),A=String(A||"utf8").toLowerCase()){case"hex":$=(function(x,M,n,q){n=Number(n)||0;var U=x.length-n;(!q||U<(q=Number(q)))&&(q=U),Ee((U=M.length)%2==0,"Invalid hex string"),U/2<q&&(q=U/2);for(var Q=0;Q<q;Q++){var ye=parseInt(M.substr(2*Q,2),16);Ee(!isNaN(ye),"Invalid hex string"),x[n+Q]=ye}return I._charsWritten=2*Q,Q})(this,z,d,P);break;case"utf8":case"utf-8":ie=this,pe=d,ne=P,$=I._charsWritten=ge(de(z),ie,pe,ne);break;case"ascii":case"binary":$=_(this,z,d,P);break;case"base64":ie=this,pe=d,ne=P,$=I._charsWritten=ge(he(z),ie,pe,ne);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":$=T(this,z,d,P);break;default:throw new Error("Unknown encoding")}return $},I.prototype.toString=function(z,d,P){var A,$,ie,pe,ne=this;if(z=String(z||"utf8").toLowerCase(),d=Number(d)||0,(P=P!==void 0?Number(P):ne.length)===d)return"";switch(z){case"hex":A=(function(u,x,M){var n=u.length;(!x||x<0)&&(x=0),(!M||M<0||n<M)&&(M=n);for(var q="",U=x;U<M;U++)q+=se(u[U]);return q})(ne,d,P);break;case"utf8":case"utf-8":A=(function(u,x,M){var n="",q="";M=Math.min(u.length,M);for(var U=x;U<M;U++)u[U]<=127?(n+=me(q)+String.fromCharCode(u[U]),q=""):q+="%"+u[U].toString(16);return n+me(q)})(ne,d,P);break;case"ascii":case"binary":A=C(ne,d,P);break;case"base64":$=ne,pe=P,A=(ie=d)===0&&pe===$.length?O.fromByteArray($):O.fromByteArray($.slice(ie,pe));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":A=(function(u,x,M){for(var n=u.slice(x,M),q="",U=0;U<n.length;U+=2)q+=String.fromCharCode(n[U]+256*n[U+1]);return q})(ne,d,P);break;default:throw new Error("Unknown encoding")}return A},I.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},I.prototype.copy=function(z,d,P,A){if(d=d||0,(A=A||A===0?A:this.length)!==(P=P||0)&&z.length!==0&&this.length!==0){Ee(P<=A,"sourceEnd < sourceStart"),Ee(0<=d&&d<z.length,"targetStart out of bounds"),Ee(0<=P&&P<this.length,"sourceStart out of bounds"),Ee(0<=A&&A<=this.length,"sourceEnd out of bounds"),A>this.length&&(A=this.length);var $=(A=z.length-d<A-P?z.length-d+P:A)-P;if($<100||!I._useTypedArrays)for(var ie=0;ie<$;ie++)z[ie+d]=this[ie+P];else z._set(this.subarray(P,P+$),d)}},I.prototype.slice=function(z,d){var P=this.length;if(z=oe(z,P,0),d=oe(d,P,P),I._useTypedArrays)return I._augment(this.subarray(z,d));for(var A=d-z,$=new I(A,void 0,!0),ie=0;ie<A;ie++)$[ie]=this[ie+z];return $},I.prototype.get=function(z){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(z)},I.prototype.set=function(z,d){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(z,d)},I.prototype.readUInt8=function(z,d){if(d||(Ee(z!=null,"missing offset"),Ee(z<this.length,"Trying to read beyond buffer length")),!(z>=this.length))return this[z]},I.prototype.readUInt16LE=function(z,d){return N(this,z,!0,d)},I.prototype.readUInt16BE=function(z,d){return N(this,z,!1,d)},I.prototype.readUInt32LE=function(z,d){return L(this,z,!0,d)},I.prototype.readUInt32BE=function(z,d){return L(this,z,!1,d)},I.prototype.readInt8=function(z,d){if(d||(Ee(z!=null,"missing offset"),Ee(z<this.length,"Trying to read beyond buffer length")),!(z>=this.length))return 128&this[z]?-1*(255-this[z]+1):this[z]},I.prototype.readInt16LE=function(z,d){return D(this,z,!0,d)},I.prototype.readInt16BE=function(z,d){return D(this,z,!1,d)},I.prototype.readInt32LE=function(z,d){return j(this,z,!0,d)},I.prototype.readInt32BE=function(z,d){return j(this,z,!1,d)},I.prototype.readFloatLE=function(z,d){return k(this,z,!0,d)},I.prototype.readFloatBE=function(z,d){return k(this,z,!1,d)},I.prototype.readDoubleLE=function(z,d){return V(this,z,!0,d)},I.prototype.readDoubleBE=function(z,d){return V(this,z,!1,d)},I.prototype.writeUInt8=function(z,d,P){P||(Ee(z!=null,"missing value"),Ee(d!=null,"missing offset"),Ee(d<this.length,"trying to write beyond buffer length"),Oe(z,255)),d>=this.length||(this[d]=z)},I.prototype.writeUInt16LE=function(z,d,P){G(this,z,d,!0,P)},I.prototype.writeUInt16BE=function(z,d,P){G(this,z,d,!1,P)},I.prototype.writeUInt32LE=function(z,d,P){J(this,z,d,!0,P)},I.prototype.writeUInt32BE=function(z,d,P){J(this,z,d,!1,P)},I.prototype.writeInt8=function(z,d,P){P||(Ee(z!=null,"missing value"),Ee(d!=null,"missing offset"),Ee(d<this.length,"Trying to write beyond buffer length"),fe(z,127,-128)),d>=this.length||(0<=z?this.writeUInt8(z,d,P):this.writeUInt8(255+z+1,d,P))},I.prototype.writeInt16LE=function(z,d,P){W(this,z,d,!0,P)},I.prototype.writeInt16BE=function(z,d,P){W(this,z,d,!1,P)},I.prototype.writeInt32LE=function(z,d,P){K(this,z,d,!0,P)},I.prototype.writeInt32BE=function(z,d,P){K(this,z,d,!1,P)},I.prototype.writeFloatLE=function(z,d,P){X(this,z,d,!0,P)},I.prototype.writeFloatBE=function(z,d,P){X(this,z,d,!1,P)},I.prototype.writeDoubleLE=function(z,d,P){Y(this,z,d,!0,P)},I.prototype.writeDoubleBE=function(z,d,P){Y(this,z,d,!1,P)},I.prototype.fill=function(z,d,P){if(d=d||0,P=P||this.length,Ee(typeof(z=typeof(z=z||0)=="string"?z.charCodeAt(0):z)=="number"&&!isNaN(z),"value is not a number"),Ee(d<=P,"end < start"),P!==d&&this.length!==0){Ee(0<=d&&d<this.length,"start out of bounds"),Ee(0<=P&&P<=this.length,"end out of bounds");for(var A=d;A<P;A++)this[A]=z}},I.prototype.inspect=function(){for(var z=[],d=this.length,P=0;P<d;P++)if(z[P]=se(this[P]),P===g.INSPECT_MAX_BYTES){z[P+1]="...";break}return"<Buffer "+z.join(" ")+">"},I.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(I._useTypedArrays)return new I(this).buffer;for(var z=new Uint8Array(this.length),d=0,P=z.length;d<P;d+=1)z[d]=this[d];return z.buffer};var te=I.prototype;function oe(z,d,P){return typeof z!="number"?P:d<=(z=~~z)?d:0<=z||0<=(z+=d)?z:0}function le(z){return(z=~~Math.ceil(+z))<0?0:z}function ee(z){return(Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"})(z)}function se(z){return z<16?"0"+z.toString(16):z.toString(16)}function de(z){for(var d=[],P=0;P<z.length;P++){var A=z.charCodeAt(P);if(A<=127)d.push(z.charCodeAt(P));else for(var $=P,ie=(55296<=A&&A<=57343&&P++,encodeURIComponent(z.slice($,P+1)).substr(1).split("%")),pe=0;pe<ie.length;pe++)d.push(parseInt(ie[pe],16))}return d}function he(z){return O.toByteArray(z)}function ge(z,d,P,A){for(var $=0;$<A&&!($+P>=d.length||$>=z.length);$++)d[$+P]=z[$];return $}function me(z){try{return decodeURIComponent(z)}catch{return""}}function Oe(z,d){Ee(typeof z=="number","cannot write a non-number as a number"),Ee(0<=z,"specified a negative value for writing an unsigned value"),Ee(z<=d,"value is larger than maximum value for type"),Ee(Math.floor(z)===z,"value has a fractional component")}function fe(z,d,P){Ee(typeof z=="number","cannot write a non-number as a number"),Ee(z<=d,"value larger than maximum allowed value"),Ee(P<=z,"value smaller than minimum allowed value"),Ee(Math.floor(z)===z,"value has a fractional component")}function _e(z,d,P){Ee(typeof z=="number","cannot write a non-number as a number"),Ee(z<=d,"value larger than maximum allowed value"),Ee(P<=z,"value smaller than minimum allowed value")}function Ee(z,d){if(!z)throw new Error(d||"Failed assertion")}I._augment=function(z){return z._isBuffer=!0,z._get=z.get,z._set=z.set,z.get=te.get,z.set=te.set,z.write=te.write,z.toString=te.toString,z.toLocaleString=te.toString,z.toJSON=te.toJSON,z.copy=te.copy,z.slice=te.slice,z.readUInt8=te.readUInt8,z.readUInt16LE=te.readUInt16LE,z.readUInt16BE=te.readUInt16BE,z.readUInt32LE=te.readUInt32LE,z.readUInt32BE=te.readUInt32BE,z.readInt8=te.readInt8,z.readInt16LE=te.readInt16LE,z.readInt16BE=te.readInt16BE,z.readInt32LE=te.readInt32LE,z.readInt32BE=te.readInt32BE,z.readFloatLE=te.readFloatLE,z.readFloatBE=te.readFloatBE,z.readDoubleLE=te.readDoubleLE,z.readDoubleBE=te.readDoubleBE,z.writeUInt8=te.writeUInt8,z.writeUInt16LE=te.writeUInt16LE,z.writeUInt16BE=te.writeUInt16BE,z.writeUInt32LE=te.writeUInt32LE,z.writeUInt32BE=te.writeUInt32BE,z.writeInt8=te.writeInt8,z.writeInt16LE=te.writeInt16LE,z.writeInt16BE=te.writeInt16BE,z.writeInt32LE=te.writeInt32LE,z.writeInt32BE=te.writeInt32BE,z.writeFloatLE=te.writeFloatLE,z.writeFloatBE=te.writeFloatBE,z.writeDoubleLE=te.writeDoubleLE,z.writeDoubleBE=te.writeDoubleBE,z.fill=te.fill,z.inspect=te.inspect,z.toArrayBuffer=te.toArrayBuffer,z}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(a,p,g){(function(m,c,O,o,s,h,v,b,y){var O=a("buffer").Buffer,w=4,I=new O(w);I.fill(0),p.exports={hash:function(_,T,C,N){for(var L=T((function(G,J){G.length%w!=0&&(W=G.length+(w-G.length%w),G=O.concat([G,I],W));for(var W,K=[],X=J?G.readInt32BE:G.readInt32LE,Y=0;Y<G.length;Y+=w)K.push(X.call(G,Y));return K})(_=O.isBuffer(_)?_:new O(_),N),8*_.length),T=N,D=new O(C),j=T?D.writeInt32BE:D.writeInt32LE,k=0;k<L.length;k++)j.call(D,L[k],4*k,!0);return D}}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(a,p,g){(function(m,c,O,o,s,h,v,b,y){var O=a("buffer").Buffer,w=a("./sha"),I=a("./sha256"),_=a("./rng"),T={sha1:w,sha256:I,md5:a("./md5")},C=64,N=new O(C);function L(G,J){var W=T[G=G||"sha1"],K=[];return W||D("algorithm:",G,"is not yet supported"),{update:function(X){return O.isBuffer(X)||(X=new O(X)),K.push(X),X.length,this},digest:function(X){var Y=O.concat(K),Y=J?(function(te,oe,le){O.isBuffer(oe)||(oe=new O(oe)),O.isBuffer(le)||(le=new O(le)),oe.length>C?oe=te(oe):oe.length<C&&(oe=O.concat([oe,N],C));for(var ee=new O(C),se=new O(C),de=0;de<C;de++)ee[de]=54^oe[de],se[de]=92^oe[de];return le=te(O.concat([ee,le])),te(O.concat([se,le]))})(W,J,Y):W(Y);return K=null,X?Y.toString(X):Y}}}function D(){var G=[].slice.call(arguments).join(" ");throw new Error([G,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}N.fill(0),g.createHash=function(G){return L(G)},g.createHmac=L,g.randomBytes=function(G,J){if(!J||!J.call)return new O(_(G));try{J.call(this,void 0,new O(_(G)))}catch(W){J(W)}};var j,k=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],V=function(G){g[G]=function(){D("sorry,",G,"is not implemented yet")}};for(j in k)V(k[j])}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(a,p,g){(function(m,c,l,o,s,h,v,b,y){var O=a("./helpers");function w(D,j){D[j>>5]|=128<<j%32,D[14+(j+64>>>9<<4)]=j;for(var k=1732584193,V=-271733879,G=-1732584194,J=271733878,W=0;W<D.length;W+=16){var K=k,X=V,Y=G,te=J,k=_(k,V,G,J,D[W+0],7,-680876936),J=_(J,k,V,G,D[W+1],12,-389564586),G=_(G,J,k,V,D[W+2],17,606105819),V=_(V,G,J,k,D[W+3],22,-1044525330);k=_(k,V,G,J,D[W+4],7,-176418897),J=_(J,k,V,G,D[W+5],12,1200080426),G=_(G,J,k,V,D[W+6],17,-1473231341),V=_(V,G,J,k,D[W+7],22,-45705983),k=_(k,V,G,J,D[W+8],7,1770035416),J=_(J,k,V,G,D[W+9],12,-1958414417),G=_(G,J,k,V,D[W+10],17,-42063),V=_(V,G,J,k,D[W+11],22,-1990404162),k=_(k,V,G,J,D[W+12],7,1804603682),J=_(J,k,V,G,D[W+13],12,-40341101),G=_(G,J,k,V,D[W+14],17,-1502002290),k=T(k,V=_(V,G,J,k,D[W+15],22,1236535329),G,J,D[W+1],5,-165796510),J=T(J,k,V,G,D[W+6],9,-1069501632),G=T(G,J,k,V,D[W+11],14,643717713),V=T(V,G,J,k,D[W+0],20,-373897302),k=T(k,V,G,J,D[W+5],5,-701558691),J=T(J,k,V,G,D[W+10],9,38016083),G=T(G,J,k,V,D[W+15],14,-660478335),V=T(V,G,J,k,D[W+4],20,-405537848),k=T(k,V,G,J,D[W+9],5,568446438),J=T(J,k,V,G,D[W+14],9,-1019803690),G=T(G,J,k,V,D[W+3],14,-187363961),V=T(V,G,J,k,D[W+8],20,1163531501),k=T(k,V,G,J,D[W+13],5,-1444681467),J=T(J,k,V,G,D[W+2],9,-51403784),G=T(G,J,k,V,D[W+7],14,1735328473),k=C(k,V=T(V,G,J,k,D[W+12],20,-1926607734),G,J,D[W+5],4,-378558),J=C(J,k,V,G,D[W+8],11,-2022574463),G=C(G,J,k,V,D[W+11],16,1839030562),V=C(V,G,J,k,D[W+14],23,-35309556),k=C(k,V,G,J,D[W+1],4,-1530992060),J=C(J,k,V,G,D[W+4],11,1272893353),G=C(G,J,k,V,D[W+7],16,-155497632),V=C(V,G,J,k,D[W+10],23,-1094730640),k=C(k,V,G,J,D[W+13],4,681279174),J=C(J,k,V,G,D[W+0],11,-358537222),G=C(G,J,k,V,D[W+3],16,-722521979),V=C(V,G,J,k,D[W+6],23,76029189),k=C(k,V,G,J,D[W+9],4,-640364487),J=C(J,k,V,G,D[W+12],11,-421815835),G=C(G,J,k,V,D[W+15],16,530742520),k=N(k,V=C(V,G,J,k,D[W+2],23,-995338651),G,J,D[W+0],6,-198630844),J=N(J,k,V,G,D[W+7],10,1126891415),G=N(G,J,k,V,D[W+14],15,-1416354905),V=N(V,G,J,k,D[W+5],21,-57434055),k=N(k,V,G,J,D[W+12],6,1700485571),J=N(J,k,V,G,D[W+3],10,-1894986606),G=N(G,J,k,V,D[W+10],15,-1051523),V=N(V,G,J,k,D[W+1],21,-2054922799),k=N(k,V,G,J,D[W+8],6,1873313359),J=N(J,k,V,G,D[W+15],10,-30611744),G=N(G,J,k,V,D[W+6],15,-1560198380),V=N(V,G,J,k,D[W+13],21,1309151649),k=N(k,V,G,J,D[W+4],6,-145523070),J=N(J,k,V,G,D[W+11],10,-1120210379),G=N(G,J,k,V,D[W+2],15,718787259),V=N(V,G,J,k,D[W+9],21,-343485551),k=L(k,K),V=L(V,X),G=L(G,Y),J=L(J,te)}return Array(k,V,G,J)}function I(D,j,k,V,G,J){return L((j=L(L(j,D),L(V,J)))<<G|j>>>32-G,k)}function _(D,j,k,V,G,J,W){return I(j&k|~j&V,D,j,G,J,W)}function T(D,j,k,V,G,J,W){return I(j&V|k&~V,D,j,G,J,W)}function C(D,j,k,V,G,J,W){return I(j^k^V,D,j,G,J,W)}function N(D,j,k,V,G,J,W){return I(k^(j|~V),D,j,G,J,W)}function L(D,j){var k=(65535&D)+(65535&j);return(D>>16)+(j>>16)+(k>>16)<<16|65535&k}p.exports=function(D){return O.hash(D,w,16)}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(a,p,g){(function(m,c,l,o,s,h,v,b,y){p.exports=function(O){for(var w,I=new Array(O),_=0;_<O;_++)(3&_)==0&&(w=4294967296*Math.random()),I[_]=w>>>((3&_)<<3)&255;return I}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(a,p,g){(function(m,c,l,o,s,h,v,b,y){var O=a("./helpers");function w(T,C){T[C>>5]|=128<<24-C%32,T[15+(C+64>>9<<4)]=C;for(var N,L,D,j=Array(80),k=1732584193,V=-271733879,G=-1732584194,J=271733878,W=-1009589776,K=0;K<T.length;K+=16){for(var X=k,Y=V,te=G,oe=J,le=W,ee=0;ee<80;ee++){j[ee]=ee<16?T[K+ee]:_(j[ee-3]^j[ee-8]^j[ee-14]^j[ee-16],1);var se=I(I(_(k,5),(se=V,L=G,D=J,(N=ee)<20?se&L|~se&D:!(N<40)&&N<60?se&L|se&D|L&D:se^L^D)),I(I(W,j[ee]),(N=ee)<20?1518500249:N<40?1859775393:N<60?-1894007588:-899497514)),W=J,J=G,G=_(V,30),V=k,k=se}k=I(k,X),V=I(V,Y),G=I(G,te),J=I(J,oe),W=I(W,le)}return Array(k,V,G,J,W)}function I(T,C){var N=(65535&T)+(65535&C);return(T>>16)+(C>>16)+(N>>16)<<16|65535&N}function _(T,C){return T<<C|T>>>32-C}p.exports=function(T){return O.hash(T,w,20,!0)}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(a,p,g){(function(m,c,l,o,s,h,v,b,y){function O(C,N){var L=(65535&C)+(65535&N);return(C>>16)+(N>>16)+(L>>16)<<16|65535&L}function w(C,N){var L,D=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),j=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),k=new Array(64);C[N>>5]|=128<<24-N%32,C[15+(N+64>>9<<4)]=N;for(var V,G,J=0;J<C.length;J+=16){for(var W=j[0],K=j[1],X=j[2],Y=j[3],te=j[4],oe=j[5],le=j[6],ee=j[7],se=0;se<64;se++)k[se]=se<16?C[se+J]:O(O(O((G=k[se-2],_(G,17)^_(G,19)^T(G,10)),k[se-7]),(G=k[se-15],_(G,7)^_(G,18)^T(G,3))),k[se-16]),L=O(O(O(O(ee,_(G=te,6)^_(G,11)^_(G,25)),te&oe^~te&le),D[se]),k[se]),V=O(_(V=W,2)^_(V,13)^_(V,22),W&K^W&X^K&X),ee=le,le=oe,oe=te,te=O(Y,L),Y=X,X=K,K=W,W=O(L,V);j[0]=O(W,j[0]),j[1]=O(K,j[1]),j[2]=O(X,j[2]),j[3]=O(Y,j[3]),j[4]=O(te,j[4]),j[5]=O(oe,j[5]),j[6]=O(le,j[6]),j[7]=O(ee,j[7])}return j}var I=a("./helpers"),_=function(C,N){return C>>>N|C<<32-N},T=function(C,N){return C>>>N};p.exports=function(C){return I.hash(C,w,32,!0)}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(a,p,g){(function(m,c,l,o,s,h,v,b,y){g.read=function(O,w,I,_,J){var C,N,L=8*J-_-1,D=(1<<L)-1,j=D>>1,k=-7,V=I?J-1:0,G=I?-1:1,J=O[w+V];for(V+=G,C=J&(1<<-k)-1,J>>=-k,k+=L;0<k;C=256*C+O[w+V],V+=G,k-=8);for(N=C&(1<<-k)-1,C>>=-k,k+=_;0<k;N=256*N+O[w+V],V+=G,k-=8);if(C===0)C=1-j;else{if(C===D)return N?NaN:1/0*(J?-1:1);N+=Math.pow(2,_),C-=j}return(J?-1:1)*N*Math.pow(2,C-_)},g.write=function(O,w,I,_,T,W){var N,L,D=8*W-T-1,j=(1<<D)-1,k=j>>1,V=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,G=_?0:W-1,J=_?1:-1,W=w<0||w===0&&1/w<0?1:0;for(w=Math.abs(w),isNaN(w)||w===1/0?(L=isNaN(w)?1:0,N=j):(N=Math.floor(Math.log(w)/Math.LN2),w*(_=Math.pow(2,-N))<1&&(N--,_*=2),2<=(w+=1<=N+k?V/_:V*Math.pow(2,1-k))*_&&(N++,_/=2),j<=N+k?(L=0,N=j):1<=N+k?(L=(w*_-1)*Math.pow(2,T),N+=k):(L=w*Math.pow(2,k-1)*Math.pow(2,T),N=0));8<=T;O[I+G]=255&L,G+=J,L/=256,T-=8);for(N=N<<T|L,D+=T;0<D;O[I+G]=255&N,G+=J,N/=256,D-=8);O[I+G-J]|=128*W}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(a,p,g){(function(m,c,l,o,s,h,v,b,y){var O,w,I;function _(){}(m=p.exports={}).nextTick=(w=typeof window<"u"&&window.setImmediate,I=typeof window<"u"&&window.postMessage&&window.addEventListener,w?function(T){return window.setImmediate(T)}:I?(O=[],window.addEventListener("message",function(T){var C=T.source;C!==window&&C!==null||T.data!=="process-tick"||(T.stopPropagation(),0<O.length&&O.shift()())},!0),function(T){O.push(T),window.postMessage("process-tick","*")}):function(T){setTimeout(T,0)}),m.title="browser",m.browser=!0,m.env={},m.argv=[],m.on=_,m.addListener=_,m.once=_,m.off=_,m.removeListener=_,m.removeAllListeners=_,m.emit=_,m.binding=function(T){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(T){throw new Error("process.chdir is not supported")}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(object_hash)),object_hash.exports}var src$1={exports:{}},indexLight={exports:{}},indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=e;function e(t,a){for(var p=new Array(arguments.length-1),g=0,m=2,c=!0;m<arguments.length;)p[g++]=arguments[m++];return new Promise(function(o,s){p[g]=function(v){if(c)if(c=!1,v)s(v);else{for(var b=new Array(arguments.length-1),y=0;y<b.length;)b[y++]=arguments[y];o.apply(null,b)}};try{t.apply(a||null,p)}catch(h){c&&(c=!1,s(h))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(e){var t=e;t.length=function(l){var o=l.length;if(!o)return 0;for(var s=0;--o%4>1&&l.charAt(o)==="=";)++s;return Math.ceil(l.length*3)/4-s};for(var a=new Array(64),p=new Array(123),g=0;g<64;)p[a[g]=g<26?g+65:g<52?g+71:g<62?g-4:g-59|43]=g++;t.encode=function(l,o,s){for(var h=null,v=[],b=0,y=0,O;o<s;){var w=l[o++];switch(y){case 0:v[b++]=a[w>>2],O=(w&3)<<4,y=1;break;case 1:v[b++]=a[O|w>>4],O=(w&15)<<2,y=2;break;case 2:v[b++]=a[O|w>>6],v[b++]=a[w&63],y=0;break}b>8191&&((h||(h=[])).push(String.fromCharCode.apply(String,v)),b=0)}return y&&(v[b++]=a[O],v[b++]=61,y===1&&(v[b++]=61)),h?(b&&h.push(String.fromCharCode.apply(String,v.slice(0,b))),h.join("")):String.fromCharCode.apply(String,v.slice(0,b))};var m="invalid encoding";t.decode=function(l,o,s){for(var h=s,v=0,b,y=0;y<l.length;){var O=l.charCodeAt(y++);if(O===61&&v>1)break;if((O=p[O])===void 0)throw Error(m);switch(v){case 0:b=O,v=1;break;case 1:o[s++]=b<<2|(O&48)>>4,b=O,v=2;break;case 2:o[s++]=(b&15)<<4|(O&60)>>2,b=O,v=3;break;case 3:o[s++]=(b&3)<<6|O,v=0;break}}if(v===1)throw Error(m);return s-h},t.test=function(l){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(l)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=e;function e(){this._listeners={}}return e.prototype.on=function(a,p,g){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:p,ctx:g||this}),this},e.prototype.off=function(a,p){if(a===void 0)this._listeners={};else if(p===void 0)this._listeners[a]=[];else for(var g=this._listeners[a],m=0;m<g.length;)g[m].fn===p?g.splice(m,1):++m;return this},e.prototype.emit=function(a){var p=this._listeners[a];if(p){for(var g=[],m=1;m<arguments.length;)g.push(arguments[m++]);for(m=0;m<p.length;)p[m].fn.apply(p[m++].ctx,g)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=e(e);function e(m){return typeof Float32Array<"u"?(function(){var c=new Float32Array([-0]),l=new Uint8Array(c.buffer),o=l[3]===128;function s(y,O,w){c[0]=y,O[w]=l[0],O[w+1]=l[1],O[w+2]=l[2],O[w+3]=l[3]}function h(y,O,w){c[0]=y,O[w]=l[3],O[w+1]=l[2],O[w+2]=l[1],O[w+3]=l[0]}m.writeFloatLE=o?s:h,m.writeFloatBE=o?h:s;function v(y,O){return l[0]=y[O],l[1]=y[O+1],l[2]=y[O+2],l[3]=y[O+3],c[0]}function b(y,O){return l[3]=y[O],l[2]=y[O+1],l[1]=y[O+2],l[0]=y[O+3],c[0]}m.readFloatLE=o?v:b,m.readFloatBE=o?b:v})():(function(){function c(o,s,h,v){var b=s<0?1:0;if(b&&(s=-s),s===0)o(1/s>0?0:2147483648,h,v);else if(isNaN(s))o(2143289344,h,v);else if(s>34028234663852886e22)o((b<<31|2139095040)>>>0,h,v);else if(s<11754943508222875e-54)o((b<<31|Math.round(s/1401298464324817e-60))>>>0,h,v);else{var y=Math.floor(Math.log(s)/Math.LN2),O=Math.round(s*Math.pow(2,-y)*8388608)&8388607;o((b<<31|y+127<<23|O)>>>0,h,v)}}m.writeFloatLE=c.bind(null,t),m.writeFloatBE=c.bind(null,a);function l(o,s,h){var v=o(s,h),b=(v>>31)*2+1,y=v>>>23&255,O=v&8388607;return y===255?O?NaN:b*(1/0):y===0?b*1401298464324817e-60*O:b*Math.pow(2,y-150)*(O+8388608)}m.readFloatLE=l.bind(null,p),m.readFloatBE=l.bind(null,g)})(),typeof Float64Array<"u"?(function(){var c=new Float64Array([-0]),l=new Uint8Array(c.buffer),o=l[7]===128;function s(y,O,w){c[0]=y,O[w]=l[0],O[w+1]=l[1],O[w+2]=l[2],O[w+3]=l[3],O[w+4]=l[4],O[w+5]=l[5],O[w+6]=l[6],O[w+7]=l[7]}function h(y,O,w){c[0]=y,O[w]=l[7],O[w+1]=l[6],O[w+2]=l[5],O[w+3]=l[4],O[w+4]=l[3],O[w+5]=l[2],O[w+6]=l[1],O[w+7]=l[0]}m.writeDoubleLE=o?s:h,m.writeDoubleBE=o?h:s;function v(y,O){return l[0]=y[O],l[1]=y[O+1],l[2]=y[O+2],l[3]=y[O+3],l[4]=y[O+4],l[5]=y[O+5],l[6]=y[O+6],l[7]=y[O+7],c[0]}function b(y,O){return l[7]=y[O],l[6]=y[O+1],l[5]=y[O+2],l[4]=y[O+3],l[3]=y[O+4],l[2]=y[O+5],l[1]=y[O+6],l[0]=y[O+7],c[0]}m.readDoubleLE=o?v:b,m.readDoubleBE=o?b:v})():(function(){function c(o,s,h,v,b,y){var O=v<0?1:0;if(O&&(v=-v),v===0)o(0,b,y+s),o(1/v>0?0:2147483648,b,y+h);else if(isNaN(v))o(0,b,y+s),o(2146959360,b,y+h);else if(v>17976931348623157e292)o(0,b,y+s),o((O<<31|2146435072)>>>0,b,y+h);else{var w;if(v<22250738585072014e-324)w=v/5e-324,o(w>>>0,b,y+s),o((O<<31|w/4294967296)>>>0,b,y+h);else{var I=Math.floor(Math.log(v)/Math.LN2);I===1024&&(I=1023),w=v*Math.pow(2,-I),o(w*4503599627370496>>>0,b,y+s),o((O<<31|I+1023<<20|w*1048576&1048575)>>>0,b,y+h)}}}m.writeDoubleLE=c.bind(null,t,0,4),m.writeDoubleBE=c.bind(null,a,4,0);function l(o,s,h,v,b){var y=o(v,b+s),O=o(v,b+h),w=(O>>31)*2+1,I=O>>>20&2047,_=4294967296*(O&1048575)+y;return I===2047?_?NaN:w*(1/0):I===0?w*5e-324*_:w*Math.pow(2,I-1075)*(_+4503599627370496)}m.readDoubleLE=l.bind(null,p,0,4),m.readDoubleBE=l.bind(null,g,4,0)})(),m}function t(m,c,l){c[l]=m&255,c[l+1]=m>>>8&255,c[l+2]=m>>>16&255,c[l+3]=m>>>24}function a(m,c,l){c[l]=m>>>24,c[l+1]=m>>>16&255,c[l+2]=m>>>8&255,c[l+3]=m&255}function p(m,c){return(m[c]|m[c+1]<<8|m[c+2]<<16|m[c+3]<<24)>>>0}function g(m,c){return(m[c]<<24|m[c+1]<<16|m[c+2]<<8|m[c+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(e){var t=e;t.length=function(p){for(var g=0,m=0,c=0;c<p.length;++c)m=p.charCodeAt(c),m<128?g+=1:m<2048?g+=2:(m&64512)===55296&&(p.charCodeAt(c+1)&64512)===56320?(++c,g+=4):g+=3;return g},t.read=function(p,g,m){var c=m-g;if(c<1)return"";for(var l=null,o=[],s=0,h;g<m;)h=p[g++],h<128?o[s++]=h:h>191&&h<224?o[s++]=(h&31)<<6|p[g++]&63:h>239&&h<365?(h=((h&7)<<18|(p[g++]&63)<<12|(p[g++]&63)<<6|p[g++]&63)-65536,o[s++]=55296+(h>>10),o[s++]=56320+(h&1023)):o[s++]=(h&15)<<12|(p[g++]&63)<<6|p[g++]&63,s>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,o)),s=0);return l?(s&&l.push(String.fromCharCode.apply(String,o.slice(0,s))),l.join("")):String.fromCharCode.apply(String,o.slice(0,s))},t.write=function(p,g,m){for(var c=m,l,o,s=0;s<p.length;++s)l=p.charCodeAt(s),l<128?g[m++]=l:l<2048?(g[m++]=l>>6|192,g[m++]=l&63|128):(l&64512)===55296&&((o=p.charCodeAt(s+1))&64512)===56320?(l=65536+((l&1023)<<10)+(o&1023),++s,g[m++]=l>>18|240,g[m++]=l>>12&63|128,g[m++]=l>>6&63|128,g[m++]=l&63|128):(g[m++]=l>>12|224,g[m++]=l>>6&63|128,g[m++]=l&63|128);return m-c}})(utf8)),utf8}var pool_1,hasRequiredPool$1;function requirePool$1(){if(hasRequiredPool$1)return pool_1;hasRequiredPool$1=1,pool_1=e;function e(t,a,p){var g=p||8192,m=g>>>1,c=null,l=g;return function(s){if(s<1||s>m)return t(s);l+s>g&&(c=t(g),l=0);var h=a.call(c,l,l+=s);return l&7&&(l=(l|7)+1),h}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=t;var e=requireMinimal$1();function t(m,c){this.lo=m>>>0,this.hi=c>>>0}var a=t.zero=new t(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var p=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(c){if(c===0)return a;var l=c<0;l&&(c=-c);var o=c>>>0,s=(c-o)/4294967296>>>0;return l&&(s=~s>>>0,o=~o>>>0,++o>4294967295&&(o=0,++s>4294967295&&(s=0))),new t(o,s)},t.from=function(c){if(typeof c=="number")return t.fromNumber(c);if(e.isString(c))if(e.Long)c=e.Long.fromString(c);else return t.fromNumber(parseInt(c,10));return c.low||c.high?new t(c.low>>>0,c.high>>>0):a},t.prototype.toNumber=function(c){if(!c&&this.hi>>>31){var l=~this.lo+1>>>0,o=~this.hi>>>0;return l||(o=o+1>>>0),-(l+o*4294967296)}return this.lo+this.hi*4294967296},t.prototype.toLong=function(c){return e.Long?new e.Long(this.lo|0,this.hi|0,!!c):{low:this.lo|0,high:this.hi|0,unsigned:!!c}};var g=String.prototype.charCodeAt;return t.fromHash=function(c){return c===p?a:new t((g.call(c,0)|g.call(c,1)<<8|g.call(c,2)<<16|g.call(c,3)<<24)>>>0,(g.call(c,4)|g.call(c,5)<<8|g.call(c,6)<<16|g.call(c,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var c=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^c)>>>0,this.lo=(this.lo<<1^c)>>>0,this},t.prototype.zzDecode=function(){var c=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^c)>>>0,this.hi=(this.hi>>>1^c)>>>0,this},t.prototype.length=function(){var c=this.lo,l=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?l===0?c<16384?c<128?1:2:c<2097152?3:4:l<16384?l<128?5:6:l<2097152?7:8:o<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,(function(e){var t=e;t.asPromise=requireAspromise(),t.base64=requireBase64(),t.EventEmitter=requireEventemitter(),t.float=requireFloat(),t.inquire=requireInquire(),t.utf8=requireUtf8(),t.pool=requirePool$1(),t.LongBits=requireLongbits(),t.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$1,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(m){return typeof m=="number"&&isFinite(m)&&Math.floor(m)===m},t.isString=function(m){return typeof m=="string"||m instanceof String},t.isObject=function(m){return m&&typeof m=="object"},t.isset=t.isSet=function(m,c){var l=m[c];return l!=null&&m.hasOwnProperty(c)?typeof l!="object"||(Array.isArray(l)?l.length:Object.keys(l).length)>0:!1},t.Buffer=(function(){try{var g=t.inquire("buffer").Buffer;return g.prototype.utf8Write?g:null}catch{return null}})(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(m){return typeof m=="number"?t.Buffer?t._Buffer_allocUnsafe(m):new t.Array(m):t.Buffer?t._Buffer_from(m):typeof Uint8Array>"u"?m:new Uint8Array(m)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(m){return m?t.LongBits.from(m).toHash():t.LongBits.zeroHash},t.longFromHash=function(m,c){var l=t.LongBits.fromHash(m);return t.Long?t.Long.fromBits(l.lo,l.hi,c):l.toNumber(!!c)};function a(g,m,c){for(var l=Object.keys(m),o=0;o<l.length;++o)(g[l[o]]===void 0||!c)&&(g[l[o]]=m[l[o]]);return g}t.merge=a,t.lcFirst=function(m){return m.charAt(0).toLowerCase()+m.substring(1)};function p(g){function m(c,l){if(!(this instanceof m))return new m(c,l);Object.defineProperty(this,"message",{get:function(){return c}}),Error.captureStackTrace?Error.captureStackTrace(this,m):Object.defineProperty(this,"stack",{value:new Error().stack||""}),l&&a(this,l)}return m.prototype=Object.create(Error.prototype,{constructor:{value:m,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return g},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),m}t.newError=p,t.ProtocolError=p("ProtocolError"),t.oneOfGetter=function(m){for(var c={},l=0;l<m.length;++l)c[m[l]]=1;return function(){for(var o=Object.keys(this),s=o.length-1;s>-1;--s)if(c[o[s]]===1&&this[o[s]]!==void 0&&this[o[s]]!==null)return o[s]}},t.oneOfSetter=function(m){return function(c){for(var l=0;l<m.length;++l)m[l]!==c&&delete this[m[l]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var g=t.Buffer;if(!g){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=g.from!==Uint8Array.from&&g.from||function(c,l){return new g(c,l)},t._Buffer_allocUnsafe=g.allocUnsafe||function(c){return new g(c)}}})(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=o;var e=requireMinimal$1(),t,a=e.LongBits,p=e.base64,g=e.utf8;function m(I,_,T){this.fn=I,this.len=_,this.next=void 0,this.val=T}function c(){}function l(I){this.head=I.head,this.tail=I.tail,this.len=I.len,this.next=I.states}function o(){this.len=0,this.head=new m(c,0,0),this.tail=this.head,this.states=null}var s=function(){return e.Buffer?function(){return(o.create=function(){return new t})()}:function(){return new o}};o.create=s(),o.alloc=function(_){return new e.Array(_)},e.Array!==Array&&(o.alloc=e.pool(o.alloc,e.Array.prototype.subarray)),o.prototype._push=function(_,T,C){return this.tail=this.tail.next=new m(_,T,C),this.len+=T,this};function h(I,_,T){_[T]=I&255}function v(I,_,T){for(;I>127;)_[T++]=I&127|128,I>>>=7;_[T]=I}function b(I,_){this.len=I,this.next=void 0,this.val=_}b.prototype=Object.create(m.prototype),b.prototype.fn=v,o.prototype.uint32=function(_){return this.len+=(this.tail=this.tail.next=new b((_=_>>>0)<128?1:_<16384?2:_<2097152?3:_<268435456?4:5,_)).len,this},o.prototype.int32=function(_){return _<0?this._push(y,10,a.fromNumber(_)):this.uint32(_)},o.prototype.sint32=function(_){return this.uint32((_<<1^_>>31)>>>0)};function y(I,_,T){for(;I.hi;)_[T++]=I.lo&127|128,I.lo=(I.lo>>>7|I.hi<<25)>>>0,I.hi>>>=7;for(;I.lo>127;)_[T++]=I.lo&127|128,I.lo=I.lo>>>7;_[T++]=I.lo}o.prototype.uint64=function(_){var T=a.from(_);return this._push(y,T.length(),T)},o.prototype.int64=o.prototype.uint64,o.prototype.sint64=function(_){var T=a.from(_).zzEncode();return this._push(y,T.length(),T)},o.prototype.bool=function(_){return this._push(h,1,_?1:0)};function O(I,_,T){_[T]=I&255,_[T+1]=I>>>8&255,_[T+2]=I>>>16&255,_[T+3]=I>>>24}o.prototype.fixed32=function(_){return this._push(O,4,_>>>0)},o.prototype.sfixed32=o.prototype.fixed32,o.prototype.fixed64=function(_){var T=a.from(_);return this._push(O,4,T.lo)._push(O,4,T.hi)},o.prototype.sfixed64=o.prototype.fixed64,o.prototype.float=function(_){return this._push(e.float.writeFloatLE,4,_)},o.prototype.double=function(_){return this._push(e.float.writeDoubleLE,8,_)};var w=e.Array.prototype.set?function(_,T,C){T.set(_,C)}:function(_,T,C){for(var N=0;N<_.length;++N)T[C+N]=_[N]};return o.prototype.bytes=function(_){var T=_.length>>>0;if(!T)return this._push(h,1,0);if(e.isString(_)){var C=o.alloc(T=p.length(_));p.decode(_,C,0),_=C}return this.uint32(T)._push(w,T,_)},o.prototype.string=function(_){var T=g.length(_);return T?this.uint32(T)._push(g.write,T,_):this._push(h,1,0)},o.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new m(c,0,0),this.len=0,this},o.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new m(c,0,0),this.len=0),this},o.prototype.ldelim=function(){var _=this.head,T=this.tail,C=this.len;return this.reset().uint32(C),C&&(this.tail.next=_.next,this.tail=T,this.len+=C),this},o.prototype.finish=function(){for(var _=this.head.next,T=this.constructor.alloc(this.len),C=0;_;)_.fn(_.val,T,C),C+=_.len,_=_.next;return T},o._configure=function(I){t=I,o.create=s(),t._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=a;var e=requireWriter();(a.prototype=Object.create(e.prototype)).constructor=a;var t=requireMinimal$1();function a(){e.call(this)}a._configure=function(){a.alloc=t._Buffer_allocUnsafe,a.writeBytesBuffer=t.Buffer&&t.Buffer.prototype instanceof Uint8Array&&t.Buffer.prototype.set.name==="set"?function(m,c,l){c.set(m,l)}:function(m,c,l){if(m.copy)m.copy(c,l,0,m.length);else for(var o=0;o<m.length;)c[l++]=m[o++]}},a.prototype.bytes=function(m){t.isString(m)&&(m=t._Buffer_from(m,"base64"));var c=m.length>>>0;return this.uint32(c),c&&this._push(a.writeBytesBuffer,c,m),this};function p(g,m,c){g.length<40?t.utf8.write(g,m,c):m.utf8Write?m.utf8Write(g,c):m.write(g,c)}return a.prototype.string=function(m){var c=t.Buffer.byteLength(m);return this.uint32(c),c&&this._push(p,c,m),this},a._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=m;var e=requireMinimal$1(),t,a=e.LongBits,p=e.utf8;function g(v,b){return RangeError("index out of range: "+v.pos+" + "+(b||1)+" > "+v.len)}function m(v){this.buf=v,this.pos=0,this.len=v.length}var c=typeof Uint8Array<"u"?function(b){if(b instanceof Uint8Array||Array.isArray(b))return new m(b);throw Error("illegal buffer")}:function(b){if(Array.isArray(b))return new m(b);throw Error("illegal buffer")},l=function(){return e.Buffer?function(y){return(m.create=function(w){return e.Buffer.isBuffer(w)?new t(w):c(w)})(y)}:c};m.create=l(),m.prototype._slice=e.Array.prototype.subarray||e.Array.prototype.slice,m.prototype.uint32=(function(){var b=4294967295;return function(){if(b=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(b=(b|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(b=(b|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(b=(b|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(b=(b|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return b;if((this.pos+=5)>this.len)throw this.pos=this.len,g(this,10);return b}})(),m.prototype.int32=function(){return this.uint32()|0},m.prototype.sint32=function(){var b=this.uint32();return b>>>1^-(b&1)|0};function o(){var v=new a(0,0),b=0;if(this.len-this.pos>4){for(;b<4;++b)if(v.lo=(v.lo|(this.buf[this.pos]&127)<<b*7)>>>0,this.buf[this.pos++]<128)return v;if(v.lo=(v.lo|(this.buf[this.pos]&127)<<28)>>>0,v.hi=(v.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return v;b=0}else{for(;b<3;++b){if(this.pos>=this.len)throw g(this);if(v.lo=(v.lo|(this.buf[this.pos]&127)<<b*7)>>>0,this.buf[this.pos++]<128)return v}return v.lo=(v.lo|(this.buf[this.pos++]&127)<<b*7)>>>0,v}if(this.len-this.pos>4){for(;b<5;++b)if(v.hi=(v.hi|(this.buf[this.pos]&127)<<b*7+3)>>>0,this.buf[this.pos++]<128)return v}else for(;b<5;++b){if(this.pos>=this.len)throw g(this);if(v.hi=(v.hi|(this.buf[this.pos]&127)<<b*7+3)>>>0,this.buf[this.pos++]<128)return v}throw Error("invalid varint encoding")}m.prototype.bool=function(){return this.uint32()!==0};function s(v,b){return(v[b-4]|v[b-3]<<8|v[b-2]<<16|v[b-1]<<24)>>>0}m.prototype.fixed32=function(){if(this.pos+4>this.len)throw g(this,4);return s(this.buf,this.pos+=4)},m.prototype.sfixed32=function(){if(this.pos+4>this.len)throw g(this,4);return s(this.buf,this.pos+=4)|0};function h(){if(this.pos+8>this.len)throw g(this,8);return new a(s(this.buf,this.pos+=4),s(this.buf,this.pos+=4))}return m.prototype.float=function(){if(this.pos+4>this.len)throw g(this,4);var b=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,b},m.prototype.double=function(){if(this.pos+8>this.len)throw g(this,4);var b=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,b},m.prototype.bytes=function(){var b=this.uint32(),y=this.pos,O=this.pos+b;if(O>this.len)throw g(this,b);if(this.pos+=b,Array.isArray(this.buf))return this.buf.slice(y,O);if(y===O){var w=e.Buffer;return w?w.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,y,O)},m.prototype.string=function(){var b=this.bytes();return p.read(b,0,b.length)},m.prototype.skip=function(b){if(typeof b=="number"){if(this.pos+b>this.len)throw g(this,b);this.pos+=b}else do if(this.pos>=this.len)throw g(this);while(this.buf[this.pos++]&128);return this},m.prototype.skipType=function(v){switch(v){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(v=this.uint32()&7)!==4;)this.skipType(v);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+v+" at offset "+this.pos)}return this},m._configure=function(v){t=v,m.create=l(),t._configure();var b=e.Long?"toLong":"toNumber";e.merge(m.prototype,{int64:function(){return o.call(this)[b](!1)},uint64:function(){return o.call(this)[b](!0)},sint64:function(){return o.call(this).zzDecode()[b](!1)},fixed64:function(){return h.call(this)[b](!0)},sfixed64:function(){return h.call(this)[b](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=a;var e=requireReader();(a.prototype=Object.create(e.prototype)).constructor=a;var t=requireMinimal$1();function a(p){e.call(this,p)}return a._configure=function(){t.Buffer&&(a.prototype._slice=t.Buffer.prototype.slice)},a.prototype.string=function(){var g=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+g,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+g,this.len))},a._configure(),reader_buffer}var rpc={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=t;var e=requireMinimal$1();(t.prototype=Object.create(e.EventEmitter.prototype)).constructor=t;function t(a,p,g){if(typeof a!="function")throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!p,this.responseDelimited=!!g}return t.prototype.rpcCall=function a(p,g,m,c,l){if(!c)throw TypeError("request must be specified");var o=this;if(!l)return e.asPromise(a,o,p,g,m,c);if(!o.rpcImpl){setTimeout(function(){l(Error("already ended"))},0);return}try{return o.rpcImpl(p,g[o.requestDelimited?"encodeDelimited":"encode"](c).finish(),function(h,v){if(h)return o.emit("error",h,p),l(h);if(v===null){o.end(!0);return}if(!(v instanceof m))try{v=m[o.responseDelimited?"decodeDelimited":"decode"](v)}catch(b){return o.emit("error",b,p),l(b)}return o.emit("data",v,p),l(null,v)})}catch(s){o.emit("error",s,p),setTimeout(function(){l(s)},0);return}},t.prototype.end=function(p){return this.rpcImpl&&(p||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(e){var t=e;t.Service=requireService$1()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(e){var t=e;t.build="minimal",t.Writer=requireWriter(),t.BufferWriter=requireWriter_buffer(),t.Reader=requireReader(),t.BufferReader=requireReader_buffer(),t.util=requireMinimal$1(),t.rpc=requireRpc(),t.roots=requireRoots(),t.configure=a;function a(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}a()})(indexMinimal)),indexMinimal}var types$2={},util$2={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=e;function e(t,a){typeof t=="string"&&(a=t,t=void 0);var p=[];function g(c){if(typeof c!="string"){var l=m();if(e.verbose&&console.log("codegen: "+l),l="return "+l,c){for(var o=Object.keys(c),s=new Array(o.length+1),h=new Array(o.length),v=0;v<o.length;)s[v]=o[v],h[v]=c[o[v++]];return s[v]=l,Function.apply(null,s).apply(null,h)}return Function(l)()}for(var b=new Array(arguments.length-1),y=0;y<b.length;)b[y]=arguments[++y];if(y=0,c=c.replace(/%([%dfijs])/g,function(w,I){var _=b[y++];switch(I){case"d":case"f":return String(Number(_));case"i":return String(Math.floor(_));case"j":return JSON.stringify(_);case"s":return String(_)}return"%"}),y!==b.length)throw Error("parameter count mismatch");return p.push(c),g}function m(c){return"function "+(c||a||"")+"("+(t&&t.join(",")||"")+`){
  `+p.join(`
  `)+`
}`}return g.toString=m,g}return e.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=p;var e=requireAspromise(),t=requireInquire(),a=t("fs");function p(g,m,c){return typeof m=="function"?(c=m,m={}):m||(m={}),c?!m.xhr&&a&&a.readFile?a.readFile(g,function(o,s){return o&&typeof XMLHttpRequest<"u"?p.xhr(g,m,c):o?c(o):c(null,m.binary?s:s.toString("utf8"))}):p.xhr(g,m,c):e(p,this,g,m)}return p.xhr=function(m,c,l){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===4){if(o.status!==0&&o.status!==200)return l(Error("status "+o.status));if(c.binary){var h=o.response;if(!h){h=[];for(var v=0;v<o.responseText.length;++v)h.push(o.responseText.charCodeAt(v)&255)}return l(null,typeof Uint8Array<"u"?new Uint8Array(h):h)}return l(null,o.responseText)}},c.binary&&("overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.responseType="arraybuffer"),o.open("GET",m),o.send()},fetch_1}var path$1={},hasRequiredPath$1;function requirePath$1(){return hasRequiredPath$1||(hasRequiredPath$1=1,(function(e){var t=e,a=t.isAbsolute=function(m){return/^(?:\/|\w+:)/.test(m)},p=t.normalize=function(m){m=m.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var c=m.split("/"),l=a(m),o="";l&&(o=c.shift()+"/");for(var s=0;s<c.length;)c[s]===".."?s>0&&c[s-1]!==".."?c.splice(--s,2):l?c.splice(s,1):++s:c[s]==="."?c.splice(s,1):++s;return o+c.join("/")};t.resolve=function(m,c,l){return l||(c=p(c)),a(c)?c:(l||(m=p(m)),(m=m.replace(/(?:\/|^)[^/]+$/,"")).length?p(m+"/"+c):c)}})(path$1)),path$1}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=o;var e=requireObject();((o.prototype=Object.create(e.prototype)).constructor=o).className="Namespace";var t=requireField(),a=requireUtil$3(),p=requireOneof(),g,m,c;o.fromJSON=function(v,b){return new o(v,b.options).addJSON(b.nested)};function l(h,v){if(h&&h.length){for(var b={},y=0;y<h.length;++y)b[h[y].name]=h[y].toJSON(v);return b}}o.arrayToJSON=l,o.isReservedId=function(v,b){if(v){for(var y=0;y<v.length;++y)if(typeof v[y]!="string"&&v[y][0]<=b&&v[y][1]>b)return!0}return!1},o.isReservedName=function(v,b){if(v){for(var y=0;y<v.length;++y)if(v[y]===b)return!0}return!1};function o(h,v){e.call(this,h,v),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function s(h){h._nestedArray=null,h._lookupCache={};for(var v=h;v=v.parent;)v._lookupCache={};return h}return Object.defineProperty(o.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=a.toArray(this.nested))}}),o.prototype.toJSON=function(v){return a.toObject(["options",this.options,"nested",l(this.nestedArray,v)])},o.prototype.addJSON=function(v){var b=this;if(v)for(var y=Object.keys(v),O=0,w;O<y.length;++O)w=v[y[O]],b.add((w.fields!==void 0?g.fromJSON:w.values!==void 0?c.fromJSON:w.methods!==void 0?m.fromJSON:w.id!==void 0?t.fromJSON:o.fromJSON)(y[O],w));return this},o.prototype.get=function(v){return this.nested&&this.nested[v]||null},o.prototype.getEnum=function(v){if(this.nested&&this.nested[v]instanceof c)return this.nested[v].values;throw Error("no such enum: "+v)},o.prototype.add=function(v){if(!(v instanceof t&&v.extend!==void 0||v instanceof g||v instanceof p||v instanceof c||v instanceof m||v instanceof o))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var b=this.get(v.name);if(b)if(b instanceof o&&v instanceof o&&!(b instanceof g||b instanceof m)){for(var y=b.nestedArray,O=0;O<y.length;++O)v.add(y[O]);this.remove(b),this.nested||(this.nested={}),v.setOptions(b.options,!0)}else throw Error("duplicate name '"+v.name+"' in "+this)}this.nested[v.name]=v,this instanceof g||this instanceof m||this instanceof c||this instanceof t||v._edition||(v._edition=v._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var w=this;w=w.parent;)w._needsRecursiveFeatureResolution=!0,w._needsRecursiveResolve=!0;return v.onAdd(this),s(this)},o.prototype.remove=function(v){if(!(v instanceof e))throw TypeError("object must be a ReflectionObject");if(v.parent!==this)throw Error(v+" is not a member of "+this);return delete this.nested[v.name],Object.keys(this.nested).length||(this.nested=void 0),v.onRemove(this),s(this)},o.prototype.define=function(v,b){if(a.isString(v))v=v.split(".");else if(!Array.isArray(v))throw TypeError("illegal path");if(v&&v.length&&v[0]==="")throw Error("path must be relative");for(var y=this;v.length>0;){var O=v.shift();if(y.nested&&y.nested[O]){if(y=y.nested[O],!(y instanceof o))throw Error("path conflicts with non-namespace objects")}else y.add(y=new o(O))}return b&&y.addJSON(b),y},o.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var v=this.nestedArray,b=0;for(this.resolve();b<v.length;)v[b]instanceof o?v[b++].resolveAll():v[b++].resolve();return this._needsRecursiveResolve=!1,this},o.prototype._resolveFeaturesRecursive=function(v){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,v=this._edition||v,e.prototype._resolveFeaturesRecursive.call(this,v),this.nestedArray.forEach(b=>{b._resolveFeaturesRecursive(v)}),this):this},o.prototype.lookup=function(v,b,y){if(typeof b=="boolean"?(y=b,b=void 0):b&&!Array.isArray(b)&&(b=[b]),a.isString(v)&&v.length){if(v===".")return this.root;v=v.split(".")}else if(!v.length)return this;var O=v.join(".");if(v[0]==="")return this.root.lookup(v.slice(1),b);var w=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+O];if(w&&(!b||b.indexOf(w.constructor)>-1)||(w=this._lookupImpl(v,O),w&&(!b||b.indexOf(w.constructor)>-1)))return w;if(y)return null;for(var I=this;I.parent;){if(w=I.parent._lookupImpl(v,O),w&&(!b||b.indexOf(w.constructor)>-1))return w;I=I.parent}return null},o.prototype._lookupImpl=function(v,b){if(Object.prototype.hasOwnProperty.call(this._lookupCache,b))return this._lookupCache[b];var y=this.get(v[0]),O=null;if(y)v.length===1?O=y:y instanceof o&&(v=v.slice(1),O=y._lookupImpl(v,v.join(".")));else for(var w=0;w<this.nestedArray.length;++w)this._nestedArray[w]instanceof o&&(y=this._nestedArray[w]._lookupImpl(v,b))&&(O=y);return this._lookupCache[b]=O,O},o.prototype.lookupType=function(v){var b=this.lookup(v,[g]);if(!b)throw Error("no such type: "+v);return b},o.prototype.lookupEnum=function(v){var b=this.lookup(v,[c]);if(!b)throw Error("no such Enum '"+v+"' in "+this);return b},o.prototype.lookupTypeOrEnum=function(v){var b=this.lookup(v,[g,c]);if(!b)throw Error("no such Type or Enum '"+v+"' in "+this);return b},o.prototype.lookupService=function(v){var b=this.lookup(v,[m]);if(!b)throw Error("no such Service '"+v+"' in "+this);return b},o._configure=function(h,v,b){g=h,m=v,c=b},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=p;var e=requireField();((p.prototype=Object.create(e.prototype)).constructor=p).className="MapField";var t=requireTypes$2(),a=requireUtil$3();function p(g,m,c,l,o,s){if(e.call(this,g,m,l,void 0,void 0,o,s),!a.isString(c))throw TypeError("keyType must be a string");this.keyType=c,this.resolvedKeyType=null,this.map=!0}return p.fromJSON=function(m,c){return new p(m,c.id,c.keyType,c.type,c.options,c.comment)},p.prototype.toJSON=function(m){var c=m?!!m.keepComments:!1;return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",c?this.comment:void 0])},p.prototype.resolve=function(){if(this.resolved)return this;if(t.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return e.prototype.resolve.call(this)},p.d=function(m,c,l){return typeof l=="function"?l=a.decorateType(l).name:l&&typeof l=="object"&&(l=a.decorateEnum(l).name),function(s,h){a.decorateType(s.constructor).add(new p(h,m,c,l))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=a;var e=requireObject();((a.prototype=Object.create(e.prototype)).constructor=a).className="Method";var t=requireUtil$3();function a(p,g,m,c,l,o,s,h,v){if(t.isObject(l)?(s=l,l=o=void 0):t.isObject(o)&&(s=o,o=void 0),!(g===void 0||t.isString(g)))throw TypeError("type must be a string");if(!t.isString(m))throw TypeError("requestType must be a string");if(!t.isString(c))throw TypeError("responseType must be a string");e.call(this,p,s),this.type=g||"rpc",this.requestType=m,this.requestStream=l?!0:void 0,this.responseType=c,this.responseStream=o?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=h,this.parsedOptions=v}return a.fromJSON=function(g,m){return new a(g,m.type,m.requestType,m.responseType,m.requestStream,m.responseStream,m.options,m.comment,m.parsedOptions)},a.prototype.toJSON=function(g){var m=g?!!g.keepComments:!1;return t.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",m?this.comment:void 0,"parsedOptions",this.parsedOptions])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),e.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=g;var e=requireNamespace();((g.prototype=Object.create(e.prototype)).constructor=g).className="Service";var t=requireMethod(),a=requireUtil$3(),p=requireRpc();function g(c,l){e.call(this,c,l),this.methods={},this._methodsArray=null}g.fromJSON=function(l,o){var s=new g(l,o.options);if(o.methods)for(var h=Object.keys(o.methods),v=0;v<h.length;++v)s.add(t.fromJSON(h[v],o.methods[h[v]]));return o.nested&&s.addJSON(o.nested),o.edition&&(s._edition=o.edition),s.comment=o.comment,s._defaultEdition="proto3",s},g.prototype.toJSON=function(l){var o=e.prototype.toJSON.call(this,l),s=l?!!l.keepComments:!1;return a.toObject(["edition",this._editionToJSON(),"options",o&&o.options||void 0,"methods",e.arrayToJSON(this.methodsArray,l)||{},"nested",o&&o.nested||void 0,"comment",s?this.comment:void 0])},Object.defineProperty(g.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}});function m(c){return c._methodsArray=null,c}return g.prototype.get=function(l){return this.methods[l]||e.prototype.get.call(this,l)},g.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;e.prototype.resolve.call(this);for(var l=this.methodsArray,o=0;o<l.length;++o)l[o].resolve();return this},g.prototype._resolveFeaturesRecursive=function(l){return this._needsRecursiveFeatureResolution?(l=this._edition||l,e.prototype._resolveFeaturesRecursive.call(this,l),this.methodsArray.forEach(o=>{o._resolveFeaturesRecursive(l)}),this):this},g.prototype.add=function(l){if(this.get(l.name))throw Error("duplicate name '"+l.name+"' in "+this);return l instanceof t?(this.methods[l.name]=l,l.parent=this,m(this)):e.prototype.add.call(this,l)},g.prototype.remove=function(l){if(l instanceof t){if(this.methods[l.name]!==l)throw Error(l+" is not a member of "+this);return delete this.methods[l.name],l.parent=null,m(this)}return e.prototype.remove.call(this,l)},g.prototype.create=function(l,o,s){for(var h=new p.Service(l,o,s),v=0,b;v<this.methodsArray.length;++v){var y=a.lcFirst((b=this._methodsArray[v]).resolve().name).replace(/[^$\w_]/g,"");h[y]=a.codegen(["r","c"],a.isReserved(y)?y+"_":y)("return this.rpcCall(m,q,s,r,c)")({m:b,q:b.resolvedRequestType.ctor,s:b.resolvedResponseType.ctor})}return h},service}var message,hasRequiredMessage;function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,message=t;var e=requireMinimal$1();function t(a){if(a)for(var p=Object.keys(a),g=0;g<p.length;++g)this[p[g]]=a[p[g]]}return t.create=function(p){return this.$type.create(p)},t.encode=function(p,g){return this.$type.encode(p,g)},t.encodeDelimited=function(p,g){return this.$type.encodeDelimited(p,g)},t.decode=function(p){return this.$type.decode(p)},t.decodeDelimited=function(p){return this.$type.decodeDelimited(p)},t.verify=function(p){return this.$type.verify(p)},t.fromObject=function(p){return this.$type.fromObject(p)},t.toObject=function(p,g){return this.$type.toObject(p,g)},t.prototype.toJSON=function(){return this.$type.toObject(this,e.toJSONOptions)},message}var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=g;var e=require_enum$1(),t=requireTypes$2(),a=requireUtil$3();function p(m){return"missing required '"+m.name+"'"}function g(m){for(var c=a.codegen(["r","l","e"],m.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(m.fieldsArray.filter(function(b){return b.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),l=0;l<m.fieldsArray.length;++l){var o=m._fieldsArray[l].resolve(),s=o.resolvedType instanceof e?"int32":o.type,h="m"+a.safeProp(o.name);c("case %i: {",o.id),o.map?(c("if(%s===util.emptyObject)",h)("%s={}",h)("var c2 = r.uint32()+r.pos"),t.defaults[o.keyType]!==void 0?c("k=%j",t.defaults[o.keyType]):c("k=null"),t.defaults[s]!==void 0?c("value=%j",t.defaults[s]):c("value=null"),c("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),t.basic[s]===void 0?c("value=types[%i].decode(r,r.uint32())",l):c("value=r.%s()",s),c("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),t.long[o.keyType]!==void 0?c('%s[typeof k==="object"?util.longToHash(k):k]=value',h):c("%s[k]=value",h)):o.repeated?(c("if(!(%s&&%s.length))",h,h)("%s=[]",h),t.packed[s]!==void 0&&c("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",h,s)("}else"),t.basic[s]===void 0?c(o.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",h,l):c("%s.push(r.%s())",h,s)):t.basic[s]===void 0?c(o.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",h,l):c("%s=r.%s()",h,s),c("break")("}")}for(c("default:")("r.skipType(t&7)")("break")("}")("}"),l=0;l<m._fieldsArray.length;++l){var v=m._fieldsArray[l];v.required&&c("if(!m.hasOwnProperty(%j))",v.name)("throw util.ProtocolError(%j,{instance:m})",p(v))}return c("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=m;var e=require_enum$1(),t=requireUtil$3();function a(c,l){return c.name+": "+l+(c.repeated&&l!=="array"?"[]":c.map&&l!=="object"?"{k:"+c.keyType+"}":"")+" expected"}function p(c,l,o,s){if(l.resolvedType)if(l.resolvedType instanceof e){c("switch(%s){",s)("default:")("return%j",a(l,"enum value"));for(var h=Object.keys(l.resolvedType.values),v=0;v<h.length;++v)c("case %i:",l.resolvedType.values[h[v]]);c("break")("}")}else c("{")("var e=types[%i].verify(%s);",o,s)("if(e)")("return%j+e",l.name+".")("}");else switch(l.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":c("if(!util.isInteger(%s))",s)("return%j",a(l,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":c("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",s,s,s,s)("return%j",a(l,"integer|Long"));break;case"float":case"double":c('if(typeof %s!=="number")',s)("return%j",a(l,"number"));break;case"bool":c('if(typeof %s!=="boolean")',s)("return%j",a(l,"boolean"));break;case"string":c("if(!util.isString(%s))",s)("return%j",a(l,"string"));break;case"bytes":c('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',s,s,s)("return%j",a(l,"buffer"));break}return c}function g(c,l,o){switch(l.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":c("if(!util.key32Re.test(%s))",o)("return%j",a(l,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":c("if(!util.key64Re.test(%s))",o)("return%j",a(l,"integer|Long key"));break;case"bool":c("if(!util.key2Re.test(%s))",o)("return%j",a(l,"boolean key"));break}return c}function m(c){var l=t.codegen(["m"],c.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),o=c.oneofsArray,s={};o.length&&l("var p={}");for(var h=0;h<c.fieldsArray.length;++h){var v=c._fieldsArray[h].resolve(),b="m"+t.safeProp(v.name);if(v.optional&&l("if(%s!=null&&m.hasOwnProperty(%j)){",b,v.name),v.map)l("if(!util.isObject(%s))",b)("return%j",a(v,"object"))("var k=Object.keys(%s)",b)("for(var i=0;i<k.length;++i){"),g(l,v,"k[i]"),p(l,v,h,b+"[k[i]]")("}");else if(v.repeated)l("if(!Array.isArray(%s))",b)("return%j",a(v,"array"))("for(var i=0;i<%s.length;++i){",b),p(l,v,h,b+"[i]")("}");else{if(v.partOf){var y=t.safeProp(v.partOf.name);s[v.partOf.name]===1&&l("if(p%s===1)",y)("return%j",v.partOf.name+": multiple values"),s[v.partOf.name]=1,l("p%s=1",y)}p(l,v,h,b)}v.optional&&l("}")}return l("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,(function(e){var t=e,a=require_enum$1(),p=requireUtil$3();function g(c,l,o,s){var h=!1;if(l.resolvedType)if(l.resolvedType instanceof a){c("switch(d%s){",s);for(var v=l.resolvedType.values,b=Object.keys(v),y=0;y<b.length;++y)v[b[y]]===l.typeDefault&&!h&&(c("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',s,s,s),l.repeated||c("break"),h=!0),c("case%j:",b[y])("case %i:",v[b[y]])("m%s=%j",s,v[b[y]])("break");c("}")}else c('if(typeof d%s!=="object")',s)("throw TypeError(%j)",l.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",s,o,s);else{var O=!1;switch(l.type){case"double":case"float":c("m%s=Number(d%s)",s,s);break;case"uint32":case"fixed32":c("m%s=d%s>>>0",s,s);break;case"int32":case"sint32":case"sfixed32":c("m%s=d%s|0",s,s);break;case"uint64":O=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":c("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",s,s,O)('else if(typeof d%s==="string")',s)("m%s=parseInt(d%s,10)",s,s)('else if(typeof d%s==="number")',s)("m%s=d%s",s,s)('else if(typeof d%s==="object")',s)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",s,s,s,O?"true":"");break;case"bytes":c('if(typeof d%s==="string")',s)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",s,s,s)("else if(d%s.length >= 0)",s)("m%s=d%s",s,s);break;case"string":c("m%s=String(d%s)",s,s);break;case"bool":c("m%s=Boolean(d%s)",s,s);break}}return c}t.fromObject=function(l){var o=l.fieldsArray,s=p.codegen(["d"],l.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!o.length)return s("return new this.ctor");s("var m=new this.ctor");for(var h=0;h<o.length;++h){var v=o[h].resolve(),b=p.safeProp(v.name);v.map?(s("if(d%s){",b)('if(typeof d%s!=="object")',b)("throw TypeError(%j)",v.fullName+": object expected")("m%s={}",b)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",b),g(s,v,h,b+"[ks[i]]")("}")("}")):v.repeated?(s("if(d%s){",b)("if(!Array.isArray(d%s))",b)("throw TypeError(%j)",v.fullName+": array expected")("m%s=[]",b)("for(var i=0;i<d%s.length;++i){",b),g(s,v,h,b+"[i]")("}")("}")):(v.resolvedType instanceof a||s("if(d%s!=null){",b),g(s,v,h,b),v.resolvedType instanceof a||s("}"))}return s("return m")};function m(c,l,o,s){if(l.resolvedType)l.resolvedType instanceof a?c("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",s,o,s,s,o,s,s):c("d%s=types[%i].toObject(m%s,o)",s,o,s);else{var h=!1;switch(l.type){case"double":case"float":c("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",s,s,s,s);break;case"uint64":h=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":c('if(typeof m%s==="number")',s)("d%s=o.longs===String?String(m%s):m%s",s,s,s)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",s,s,s,s,h?"true":"",s);break;case"bytes":c("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",s,s,s,s,s);break;default:c("d%s=m%s",s,s);break}}return c}t.toObject=function(l){var o=l.fieldsArray.slice().sort(p.compareFieldsById);if(!o.length)return p.codegen()("return {}");for(var s=p.codegen(["m","o"],l.name+"$toObject")("if(!o)")("o={}")("var d={}"),h=[],v=[],b=[],y=0;y<o.length;++y)o[y].partOf||(o[y].resolve().repeated?h:o[y].map?v:b).push(o[y]);if(h.length){for(s("if(o.arrays||o.defaults){"),y=0;y<h.length;++y)s("d%s=[]",p.safeProp(h[y].name));s("}")}if(v.length){for(s("if(o.objects||o.defaults){"),y=0;y<v.length;++y)s("d%s={}",p.safeProp(v[y].name));s("}")}if(b.length){for(s("if(o.defaults){"),y=0;y<b.length;++y){var O=b[y],w=p.safeProp(O.name);if(O.resolvedType instanceof a)s("d%s=o.enums===String?%j:%j",w,O.resolvedType.valuesById[O.typeDefault],O.typeDefault);else if(O.long)s("if(util.Long){")("var n=new util.Long(%i,%i,%j)",O.typeDefault.low,O.typeDefault.high,O.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",w)("}else")("d%s=o.longs===String?%j:%i",w,O.typeDefault.toString(),O.typeDefault.toNumber());else if(O.bytes){var I="["+Array.prototype.slice.call(O.typeDefault).join(",")+"]";s("if(o.bytes===String)d%s=%j",w,String.fromCharCode.apply(String,O.typeDefault))("else{")("d%s=%s",w,I)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",w,w)("}")}else s("d%s=%j",w,O.typeDefault)}s("}")}var _=!1;for(y=0;y<o.length;++y){var O=o[y],T=l._fieldsArray.indexOf(O),w=p.safeProp(O.name);O.map?(_||(_=!0,s("var ks2")),s("if(m%s&&(ks2=Object.keys(m%s)).length){",w,w)("d%s={}",w)("for(var j=0;j<ks2.length;++j){"),m(s,O,T,w+"[ks2[j]]")("}")):O.repeated?(s("if(m%s&&m%s.length){",w,w)("d%s=[]",w)("for(var j=0;j<m%s.length;++j){",w),m(s,O,T,w+"[j]")("}")):(s("if(m%s!=null&&m.hasOwnProperty(%j)){",w,O.name),m(s,O,T,w),O.partOf&&s("if(o.oneofs)")("d%s=%j",p.safeProp(O.partOf.name),O.name)),s("}")}return s("return d")}})(converter)),converter}var wrappers$1={},hasRequiredWrappers$1;function requireWrappers$1(){return hasRequiredWrappers$1||(hasRequiredWrappers$1=1,(function(e){var t=e,a=requireMessage();t[".google.protobuf.Any"]={fromObject:function(p){if(p&&p["@type"]){var g=p["@type"].substring(p["@type"].lastIndexOf("/")+1),m=this.lookup(g);if(m){var c=p["@type"].charAt(0)==="."?p["@type"].slice(1):p["@type"];return c.indexOf("/")===-1&&(c="/"+c),this.create({type_url:c,value:m.encode(m.fromObject(p)).finish()})}}return this.fromObject(p)},toObject:function(p,g){var m="type.googleapis.com/",c="",l="";if(g&&g.json&&p.type_url&&p.value){l=p.type_url.substring(p.type_url.lastIndexOf("/")+1),c=p.type_url.substring(0,p.type_url.lastIndexOf("/")+1);var o=this.lookup(l);o&&(p=o.decode(p.value))}if(!(p instanceof this.ctor)&&p instanceof a){var s=p.$type.toObject(p,g),h=p.$type.fullName[0]==="."?p.$type.fullName.slice(1):p.$type.fullName;return c===""&&(c=m),l=c+h,s["@type"]=l,s}return this.toObject(p,g)}}})(wrappers$1)),wrappers$1}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=w;var e=requireNamespace();((w.prototype=Object.create(e.prototype)).constructor=w).className="Type";var t=require_enum$1(),a=requireOneof(),p=requireField(),g=requireMapfield(),m=requireService(),c=requireMessage(),l=requireReader(),o=requireWriter(),s=requireUtil$3(),h=requireEncoder(),v=requireDecoder(),b=requireVerifier(),y=requireConverter(),O=requireWrappers$1();function w(_,T){e.call(this,_,T),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(w.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var _=Object.keys(this.fields),T=0;T<_.length;++T){var C=this.fields[_[T]],N=C.id;if(this._fieldsById[N])throw Error("duplicate id "+N+" in "+this);this._fieldsById[N]=C}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=s.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=s.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=w.generateConstructor(this)())},set:function(_){var T=_.prototype;T instanceof c||((_.prototype=new c).constructor=_,s.merge(_.prototype,T)),_.$type=_.prototype.$type=this,s.merge(_,c,!0),this._ctor=_;for(var C=0;C<this.fieldsArray.length;++C)this._fieldsArray[C].resolve();var N={};for(C=0;C<this.oneofsArray.length;++C)N[this._oneofsArray[C].resolve().name]={get:s.oneOfGetter(this._oneofsArray[C].oneof),set:s.oneOfSetter(this._oneofsArray[C].oneof)};C&&Object.defineProperties(_.prototype,N)}}}),w.generateConstructor=function(T){for(var C=s.codegen(["p"],T.name),N=0,L;N<T.fieldsArray.length;++N)(L=T._fieldsArray[N]).map?C("this%s={}",s.safeProp(L.name)):L.repeated&&C("this%s=[]",s.safeProp(L.name));return C("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function I(_){return _._fieldsById=_._fieldsArray=_._oneofsArray=null,delete _.encode,delete _.decode,delete _.verify,_}return w.fromJSON=function(T,C){var N=new w(T,C.options);N.extensions=C.extensions,N.reserved=C.reserved;for(var L=Object.keys(C.fields),D=0;D<L.length;++D)N.add((typeof C.fields[L[D]].keyType<"u"?g.fromJSON:p.fromJSON)(L[D],C.fields[L[D]]));if(C.oneofs)for(L=Object.keys(C.oneofs),D=0;D<L.length;++D)N.add(a.fromJSON(L[D],C.oneofs[L[D]]));if(C.nested)for(L=Object.keys(C.nested),D=0;D<L.length;++D){var j=C.nested[L[D]];N.add((j.id!==void 0?p.fromJSON:j.fields!==void 0?w.fromJSON:j.values!==void 0?t.fromJSON:j.methods!==void 0?m.fromJSON:e.fromJSON)(L[D],j))}return C.extensions&&C.extensions.length&&(N.extensions=C.extensions),C.reserved&&C.reserved.length&&(N.reserved=C.reserved),C.group&&(N.group=!0),C.comment&&(N.comment=C.comment),C.edition&&(N._edition=C.edition),N._defaultEdition="proto3",N},w.prototype.toJSON=function(T){var C=e.prototype.toJSON.call(this,T),N=T?!!T.keepComments:!1;return s.toObject(["edition",this._editionToJSON(),"options",C&&C.options||void 0,"oneofs",e.arrayToJSON(this.oneofsArray,T),"fields",e.arrayToJSON(this.fieldsArray.filter(function(L){return!L.declaringField}),T)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",C&&C.nested||void 0,"comment",N?this.comment:void 0])},w.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;e.prototype.resolveAll.call(this);var T=this.oneofsArray;for(N=0;N<T.length;)T[N++].resolve();for(var C=this.fieldsArray,N=0;N<C.length;)C[N++].resolve();return this},w.prototype._resolveFeaturesRecursive=function(T){return this._needsRecursiveFeatureResolution?(T=this._edition||T,e.prototype._resolveFeaturesRecursive.call(this,T),this.oneofsArray.forEach(C=>{C._resolveFeatures(T)}),this.fieldsArray.forEach(C=>{C._resolveFeatures(T)}),this):this},w.prototype.get=function(T){return this.fields[T]||this.oneofs&&this.oneofs[T]||this.nested&&this.nested[T]||null},w.prototype.add=function(T){if(this.get(T.name))throw Error("duplicate name '"+T.name+"' in "+this);if(T instanceof p&&T.extend===void 0){if(this._fieldsById?this._fieldsById[T.id]:this.fieldsById[T.id])throw Error("duplicate id "+T.id+" in "+this);if(this.isReservedId(T.id))throw Error("id "+T.id+" is reserved in "+this);if(this.isReservedName(T.name))throw Error("name '"+T.name+"' is reserved in "+this);return T.parent&&T.parent.remove(T),this.fields[T.name]=T,T.message=this,T.onAdd(this),I(this)}return T instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[T.name]=T,T.onAdd(this),I(this)):e.prototype.add.call(this,T)},w.prototype.remove=function(T){if(T instanceof p&&T.extend===void 0){if(!this.fields||this.fields[T.name]!==T)throw Error(T+" is not a member of "+this);return delete this.fields[T.name],T.parent=null,T.onRemove(this),I(this)}if(T instanceof a){if(!this.oneofs||this.oneofs[T.name]!==T)throw Error(T+" is not a member of "+this);return delete this.oneofs[T.name],T.parent=null,T.onRemove(this),I(this)}return e.prototype.remove.call(this,T)},w.prototype.isReservedId=function(T){return e.isReservedId(this.reserved,T)},w.prototype.isReservedName=function(T){return e.isReservedName(this.reserved,T)},w.prototype.create=function(T){return new this.ctor(T)},w.prototype.setup=function(){for(var T=this.fullName,C=[],N=0;N<this.fieldsArray.length;++N)C.push(this._fieldsArray[N].resolve().resolvedType);this.encode=h(this)({Writer:o,types:C,util:s}),this.decode=v(this)({Reader:l,types:C,util:s}),this.verify=b(this)({types:C,util:s}),this.fromObject=y.fromObject(this)({types:C,util:s}),this.toObject=y.toObject(this)({types:C,util:s});var L=O[T];if(L){var D=Object.create(this);D.fromObject=this.fromObject,this.fromObject=L.fromObject.bind(D),D.toObject=this.toObject,this.toObject=L.toObject.bind(D)}return this},w.prototype.encode=function(T,C){return this.setup().encode(T,C)},w.prototype.encodeDelimited=function(T,C){return this.encode(T,C&&C.len?C.fork():C).ldelim()},w.prototype.decode=function(T,C){return this.setup().decode(T,C)},w.prototype.decodeDelimited=function(T){return T instanceof l||(T=l.create(T)),this.decode(T,T.uint32())},w.prototype.verify=function(T){return this.setup().verify(T)},w.prototype.fromObject=function(T){return this.setup().fromObject(T)},w.prototype.toObject=function(T,C){return this.setup().toObject(T,C)},w.d=function(T){return function(N){s.decorateType(N,T)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=o;var e=requireNamespace();((o.prototype=Object.create(e.prototype)).constructor=o).className="Root";var t=requireField(),a=require_enum$1(),p=requireOneof(),g=requireUtil$3(),m,c,l;function o(b){e.call(this,"",b),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}o.fromJSON=function(y,O){return O||(O=new o),y.options&&O.setOptions(y.options),O.addJSON(y.nested).resolveAll()},o.prototype.resolvePath=g.path.resolve,o.prototype.fetch=g.fetch;function s(){}o.prototype.load=function b(y,O,w){typeof O=="function"&&(w=O,O=void 0);var I=this;if(!w)return g.asPromise(b,I,y,O);var _=w===s;function T(V,G){if(w){if(_)throw V;G&&G.resolveAll();var J=w;w=null,J(V,G)}}function C(V){var G=V.lastIndexOf("google/protobuf/");if(G>-1){var J=V.substring(G);if(J in l)return J}return null}function N(V,G){try{if(g.isString(G)&&G.charAt(0)==="{"&&(G=JSON.parse(G)),!g.isString(G))I.setOptions(G.options).addJSON(G.nested);else{c.filename=V;var J=c(G,I,O),W,K=0;if(J.imports)for(;K<J.imports.length;++K)(W=C(J.imports[K])||I.resolvePath(V,J.imports[K]))&&L(W);if(J.weakImports)for(K=0;K<J.weakImports.length;++K)(W=C(J.weakImports[K])||I.resolvePath(V,J.weakImports[K]))&&L(W,!0)}}catch(X){T(X)}!_&&!D&&T(null,I)}function L(V,G){if(V=C(V)||V,!(I.files.indexOf(V)>-1)){if(I.files.push(V),V in l){_?N(V,l[V]):(++D,setTimeout(function(){--D,N(V,l[V])}));return}if(_){var J;try{J=g.fs.readFileSync(V).toString("utf8")}catch(W){G||T(W);return}N(V,J)}else++D,I.fetch(V,function(W,K){if(--D,!!w){if(W){G?D||T(null,I):T(W);return}N(V,K)}})}}var D=0;g.isString(y)&&(y=[y]);for(var j=0,k;j<y.length;++j)(k=I.resolvePath("",y[j]))&&L(k);return _?(I.resolveAll(),I):(D||T(null,I),I)},o.prototype.loadSync=function(y,O){if(!g.isNode)throw Error("not supported");return this.load(y,O,s)},o.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(y){return"'extend "+y.extend+"' in "+y.parent.fullName}).join(", "));return e.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function v(b,y){var O=y.parent.lookup(y.extend);if(O){var w=new t(y.fullName,y.id,y.type,y.rule,void 0,y.options);return O.get(w.name)||(w.declaringField=y,y.extensionField=w,O.add(w)),!0}return!1}return o.prototype._handleAdd=function(y){if(y instanceof t)y.extend!==void 0&&!y.extensionField&&(v(this,y)||this.deferred.push(y));else if(y instanceof a)h.test(y.name)&&(y.parent[y.name]=y.values);else if(!(y instanceof p)){if(y instanceof m)for(var O=0;O<this.deferred.length;)v(this,this.deferred[O])?this.deferred.splice(O,1):++O;for(var w=0;w<y.nestedArray.length;++w)this._handleAdd(y._nestedArray[w]);h.test(y.name)&&(y.parent[y.name]=y)}(y instanceof m||y instanceof a||y instanceof t)&&(this._fullyQualifiedObjects[y.fullName]=y)},o.prototype._handleRemove=function(y){if(y instanceof t){if(y.extend!==void 0)if(y.extensionField)y.extensionField.parent.remove(y.extensionField),y.extensionField=null;else{var O=this.deferred.indexOf(y);O>-1&&this.deferred.splice(O,1)}}else if(y instanceof a)h.test(y.name)&&delete y.parent[y.name];else if(y instanceof e){for(var w=0;w<y.nestedArray.length;++w)this._handleRemove(y._nestedArray[w]);h.test(y.name)&&delete y.parent[y.name]}delete this._fullyQualifiedObjects[y.fullName]},o._configure=function(b,y,O){m=b,c=y,l=O},root}var hasRequiredUtil$3;function requireUtil$3(){if(hasRequiredUtil$3)return util$2.exports;hasRequiredUtil$3=1;var e=util$2.exports=requireMinimal$1(),t=requireRoots(),a,p;e.codegen=requireCodegen(),e.fetch=requireFetch(),e.path=requirePath$1(),e.fs=e.inquire("fs"),e.toArray=function(s){if(s){for(var h=Object.keys(s),v=new Array(h.length),b=0;b<h.length;)v[b]=s[h[b++]];return v}return[]},e.toObject=function(s){for(var h={},v=0;v<s.length;){var b=s[v++],y=s[v++];y!==void 0&&(h[b]=y)}return h};var g=/\\/g,m=/"/g;e.isReserved=function(s){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(s)},e.safeProp=function(s){return!/^[$\w_]+$/.test(s)||e.isReserved(s)?'["'+s.replace(g,"\\\\").replace(m,'\\"')+'"]':"."+s},e.ucFirst=function(s){return s.charAt(0).toUpperCase()+s.substring(1)};var c=/_([a-z])/g;e.camelCase=function(s){return s.substring(0,1)+s.substring(1).replace(c,function(h,v){return v.toUpperCase()})},e.compareFieldsById=function(s,h){return s.id-h.id},e.decorateType=function(s,h){if(s.$type)return h&&s.$type.name!==h&&(e.decorateRoot.remove(s.$type),s.$type.name=h,e.decorateRoot.add(s.$type)),s.$type;a||(a=requireType());var v=new a(h||s.name);return e.decorateRoot.add(v),v.ctor=s,Object.defineProperty(s,"$type",{value:v,enumerable:!1}),Object.defineProperty(s.prototype,"$type",{value:v,enumerable:!1}),v};var l=0;return e.decorateEnum=function(s){if(s.$type)return s.$type;p||(p=require_enum$1());var h=new p("Enum"+l++,s);return e.decorateRoot.add(h),Object.defineProperty(s,"$type",{value:h,enumerable:!1}),h},e.setProperty=function(s,h,v,b){function y(O,w,I){var _=w.shift();if(_==="__proto__"||_==="prototype")return O;if(w.length>0)O[_]=y(O[_]||{},w,I);else{var T=O[_];if(T&&b)return O;T&&(I=[].concat(T).concat(I)),O[_]=I}return O}if(typeof s!="object")throw TypeError("dst must be an object");if(!h)throw TypeError("path must be specified");return h=h.split("."),y(s,h,v)},Object.defineProperty(e,"decorateRoot",{get:function(){return t.decorated||(t.decorated=new(requireRoot()))}}),util$2.exports}var hasRequiredTypes$2;function requireTypes$2(){return hasRequiredTypes$2||(hasRequiredTypes$2=1,(function(e){var t=e,a=requireUtil$3(),p=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function g(m,c){var l=0,o={};for(c|=0;l<m.length;)o[p[l+c]]=m[l++];return o}t.basic=g([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),t.defaults=g([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",a.emptyArray,null]),t.long=g([0,0,0,1,1],7),t.mapKey=g([0,0,0,5,5,0,0,0,1,1,0,2],2),t.packed=g([1,5,0,0,0,5,5,0,0,0,1,1,0])})(types$2)),types$2}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=c;var e=requireObject();((c.prototype=Object.create(e.prototype)).constructor=c).className="Field";var t=require_enum$1(),a=requireTypes$2(),p=requireUtil$3(),g,m=/^required|optional|repeated$/;c.fromJSON=function(o,s){var h=new c(o,s.id,s.type,s.rule,s.extend,s.options,s.comment);return s.edition&&(h._edition=s.edition),h._defaultEdition="proto3",h};function c(l,o,s,h,v,b,y){if(p.isObject(h)?(y=v,b=h,h=v=void 0):p.isObject(v)&&(y=b,b=v,v=void 0),e.call(this,l,b),!p.isInteger(o)||o<0)throw TypeError("id must be a non-negative integer");if(!p.isString(s))throw TypeError("type must be a string");if(h!==void 0&&!m.test(h=h.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(v!==void 0&&!p.isString(v))throw TypeError("extend must be a string");h==="proto3_optional"&&(h="optional"),this.rule=h&&h!=="optional"?h:void 0,this.type=s,this.id=o,this.extend=v||void 0,this.repeated=h==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=p.Long?a.long[s]!==void 0:!1,this.bytes=s==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=y}return Object.defineProperty(c.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}}),Object.defineProperty(c.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(c.prototype,"delimited",{get:function(){return this.resolvedType instanceof g&&this._features.message_encoding==="DELIMITED"}}),Object.defineProperty(c.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}}),Object.defineProperty(c.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}}),c.prototype.setOption=function(o,s,h){return e.prototype.setOption.call(this,o,s,h)},c.prototype.toJSON=function(o){var s=o?!!o.keepComments:!1;return p.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",s?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=a.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof g?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof t&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof t)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=p.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var o;p.base64.test(this.typeDefault)?p.base64.decode(this.typeDefault,o=p.newBuffer(p.base64.length(this.typeDefault)),0):p.utf8.write(this.typeDefault,o=p.newBuffer(p.utf8.length(this.typeDefault)),0),this.typeDefault=o}return this.map?this.defaultValue=p.emptyObject:this.repeated?this.defaultValue=p.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof g&&(this.parent.ctor.prototype[this.name]=this.defaultValue),e.prototype.resolve.call(this)},c.prototype._inferLegacyProtoFeatures=function(o){if(o!=="proto2"&&o!=="proto3")return{};var s={};if(this.rule==="required"&&(s.field_presence="LEGACY_REQUIRED"),this.parent&&a.defaults[this.type]===void 0){var h=this.parent.get(this.type.split(".").pop());h&&h instanceof g&&h.group&&(s.message_encoding="DELIMITED")}return this.getOption("packed")===!0?s.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(s.repeated_field_encoding="EXPANDED"),s},c.prototype._resolveFeatures=function(o){return e.prototype._resolveFeatures.call(this,this._edition||o)},c.d=function(o,s,h,v){return typeof s=="function"?s=p.decorateType(s).name:s&&typeof s=="object"&&(s=p.decorateEnum(s).name),function(y,O){p.decorateType(y.constructor).add(new c(O,o,s,h,{default:v}))}},c._configure=function(o){g=o},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=p;var e=requireObject();((p.prototype=Object.create(e.prototype)).constructor=p).className="OneOf";var t=requireField(),a=requireUtil$3();function p(m,c,l,o){if(Array.isArray(c)||(l=c,c=void 0),e.call(this,m,l),!(c===void 0||Array.isArray(c)))throw TypeError("fieldNames must be an Array");this.oneof=c||[],this.fieldsArray=[],this.comment=o}p.fromJSON=function(c,l){return new p(c,l.oneof,l.options,l.comment)},p.prototype.toJSON=function(c){var l=c?!!c.keepComments:!1;return a.toObject(["options",this.options,"oneof",this.oneof,"comment",l?this.comment:void 0])};function g(m){if(m.parent)for(var c=0;c<m.fieldsArray.length;++c)m.fieldsArray[c].parent||m.parent.add(m.fieldsArray[c])}return p.prototype.add=function(c){if(!(c instanceof t))throw TypeError("field must be a Field");return c.parent&&c.parent!==this.parent&&c.parent.remove(c),this.oneof.push(c.name),this.fieldsArray.push(c),c.partOf=this,g(this),this},p.prototype.remove=function(c){if(!(c instanceof t))throw TypeError("field must be a Field");var l=this.fieldsArray.indexOf(c);if(l<0)throw Error(c+" is not a member of "+this);return this.fieldsArray.splice(l,1),l=this.oneof.indexOf(c.name),l>-1&&this.oneof.splice(l,1),c.partOf=null,this},p.prototype.onAdd=function(c){e.prototype.onAdd.call(this,c);for(var l=this,o=0;o<this.oneof.length;++o){var s=c.get(this.oneof[o]);s&&!s.partOf&&(s.partOf=l,l.fieldsArray.push(s))}g(this)},p.prototype.onRemove=function(c){for(var l=0,o;l<this.fieldsArray.length;++l)(o=this.fieldsArray[l]).parent&&o.parent.remove(o);e.prototype.onRemove.call(this,c)},Object.defineProperty(p.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var m=this.fieldsArray[0];return m.options!=null&&m.options.proto3_optional===!0}}),p.d=function(){for(var c=new Array(arguments.length),l=0;l<arguments.length;)c[l]=arguments[l++];return function(s,h){a.decorateType(s.constructor).add(new p(h,c)),Object.defineProperty(s,h,{get:a.oneOfGetter(c),set:a.oneOfSetter(c)})}},oneof}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=c,c.className="ReflectionObject";const e=requireOneof();var t=requireUtil$3(),a,p={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},g={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},m={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function c(l,o){if(!t.isString(l))throw TypeError("name must be a string");if(o&&!t.isObject(o))throw TypeError("options must be an object");this.options=o,this.parsedOptions=null,this.name=l,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(c.prototype,{root:{get:function(){for(var l=this;l.parent!==null;)l=l.parent;return l}},fullName:{get:function(){for(var l=[this.name],o=this.parent;o;)l.unshift(o.name),o=o.parent;return l.join(".")}}}),c.prototype.toJSON=function(){throw Error()},c.prototype.onAdd=function(o){this.parent&&this.parent!==o&&this.parent.remove(this),this.parent=o,this.resolved=!1;var s=o.root;s instanceof a&&s._handleAdd(this)},c.prototype.onRemove=function(o){var s=o.root;s instanceof a&&s._handleRemove(this),this.parent=null,this.resolved=!1},c.prototype.resolve=function(){return this.resolved?this:(this.root instanceof a&&(this.resolved=!0),this)},c.prototype._resolveFeaturesRecursive=function(o){return this._resolveFeatures(this._edition||o)},c.prototype._resolveFeatures=function(o){if(!this._featuresResolved){var s={};if(!o)throw new Error("Unknown edition for "+this.fullName);var h=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(o));if(this._edition){if(o==="proto2")s=Object.assign({},g);else if(o==="proto3")s=Object.assign({},m);else if(o==="2023")s=Object.assign({},p);else throw new Error("Unknown edition: "+o);this._features=Object.assign(s,h||{}),this._featuresResolved=!0;return}if(this.partOf instanceof e){var v=Object.assign({},this.partOf._features);this._features=Object.assign(v,h||{})}else if(!this.declaringField)if(this.parent){var b=Object.assign({},this.parent._features);this._features=Object.assign(b,h||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},c.prototype._inferLegacyProtoFeatures=function(){return{}},c.prototype.getOption=function(o){if(this.options)return this.options[o]},c.prototype.setOption=function(o,s,h){return this.options||(this.options={}),/^features\./.test(o)?t.setProperty(this.options,o,s,h):(!h||this.options[o]===void 0)&&(this.getOption(o)!==s&&(this.resolved=!1),this.options[o]=s),this},c.prototype.setParsedOption=function(o,s,h){this.parsedOptions||(this.parsedOptions=[]);var v=this.parsedOptions;if(h){var b=v.find(function(w){return Object.prototype.hasOwnProperty.call(w,o)});if(b){var y=b[o];t.setProperty(y,h,s)}else b={},b[o]=t.setProperty({},h,s),v.push(b)}else{var O={};O[o]=s,v.push(O)}return this},c.prototype.setOptions=function(o,s){if(o)for(var h=Object.keys(o),v=0;v<h.length;++v)this.setOption(h[v],o[h[v]],s);return this},c.prototype.toString=function(){var o=this.constructor.className,s=this.fullName;return s.length?o+" "+s:o},c.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition},c._configure=function(l){a=l},object}var _enum$1,hasRequired_enum$1;function require_enum$1(){if(hasRequired_enum$1)return _enum$1;hasRequired_enum$1=1,_enum$1=p;var e=requireObject();((p.prototype=Object.create(e.prototype)).constructor=p).className="Enum";var t=requireNamespace(),a=requireUtil$3();function p(g,m,c,l,o,s){if(e.call(this,g,c),m&&typeof m!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=l,this.comments=o||{},this.valuesOptions=s,this._valuesFeatures={},this.reserved=void 0,m)for(var h=Object.keys(m),v=0;v<h.length;++v)typeof m[h[v]]=="number"&&(this.valuesById[this.values[h[v]]=m[h[v]]]=h[v])}return p.prototype._resolveFeatures=function(m){return m=this._edition||m,e.prototype._resolveFeatures.call(this,m),Object.keys(this.values).forEach(c=>{var l=Object.assign({},this._features);this._valuesFeatures[c]=Object.assign(l,this.valuesOptions&&this.valuesOptions[c]&&this.valuesOptions[c].features)}),this},p.fromJSON=function(m,c){var l=new p(m,c.values,c.options,c.comment,c.comments);return l.reserved=c.reserved,c.edition&&(l._edition=c.edition),l._defaultEdition="proto3",l},p.prototype.toJSON=function(m){var c=m?!!m.keepComments:!1;return a.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",c?this.comment:void 0,"comments",c?this.comments:void 0])},p.prototype.add=function(m,c,l,o){if(!a.isString(m))throw TypeError("name must be a string");if(!a.isInteger(c))throw TypeError("id must be an integer");if(this.values[m]!==void 0)throw Error("duplicate name '"+m+"' in "+this);if(this.isReservedId(c))throw Error("id "+c+" is reserved in "+this);if(this.isReservedName(m))throw Error("name '"+m+"' is reserved in "+this);if(this.valuesById[c]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+c+" in "+this);this.values[m]=c}else this.valuesById[this.values[m]=c]=m;return o&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[m]=o||null),this.comments[m]=l||null,this},p.prototype.remove=function(m){if(!a.isString(m))throw TypeError("name must be a string");var c=this.values[m];if(c==null)throw Error("name '"+m+"' does not exist in "+this);return delete this.valuesById[c],delete this.values[m],delete this.comments[m],this.valuesOptions&&delete this.valuesOptions[m],this},p.prototype.isReservedId=function(m){return t.isReservedId(this.reserved,m)},p.prototype.isReservedName=function(m){return t.isReservedName(this.reserved,m)},_enum$1}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=g;var e=require_enum$1(),t=requireTypes$2(),a=requireUtil$3();function p(m,c,l,o){return c.delimited?m("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",l,o,(c.id<<3|3)>>>0,(c.id<<3|4)>>>0):m("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",l,o,(c.id<<3|2)>>>0)}function g(m){for(var c=a.codegen(["m","w"],m.name+"$encode")("if(!w)")("w=Writer.create()"),l,o,s=m.fieldsArray.slice().sort(a.compareFieldsById),l=0;l<s.length;++l){var h=s[l].resolve(),v=m._fieldsArray.indexOf(h),b=h.resolvedType instanceof e?"int32":h.type,y=t.basic[b];o="m"+a.safeProp(h.name),h.map?(c("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,h.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(h.id<<3|2)>>>0,8|t.mapKey[h.keyType],h.keyType),y===void 0?c("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",v,o):c(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|y,b,o),c("}")("}")):h.repeated?(c("if(%s!=null&&%s.length){",o,o),h.packed&&t.packed[b]!==void 0?c("w.uint32(%i).fork()",(h.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",b,o)("w.ldelim()"):(c("for(var i=0;i<%s.length;++i)",o),y===void 0?p(c,h,v,o+"[i]"):c("w.uint32(%i).%s(%s[i])",(h.id<<3|y)>>>0,b,o)),c("}")):(h.optional&&c("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,h.name),y===void 0?p(c,h,v,o):c("w.uint32(%i).%s(%s)",(h.id<<3|y)>>>0,b,o))}return c("return w")}return encoder_1}var hasRequiredIndexLight;function requireIndexLight(){if(hasRequiredIndexLight)return indexLight.exports;hasRequiredIndexLight=1;var e=indexLight.exports=requireIndexMinimal();e.build="light";function t(p,g,m){return typeof g=="function"?(m=g,g=new e.Root):g||(g=new e.Root),g.load(p,m)}e.load=t;function a(p,g){return g||(g=new e.Root),g.loadSync(p)}return e.loadSync=a,e.encoder=requireEncoder(),e.decoder=requireDecoder(),e.verifier=requireVerifier(),e.converter=requireConverter(),e.ReflectionObject=requireObject(),e.Namespace=requireNamespace(),e.Root=requireRoot(),e.Enum=require_enum$1(),e.Type=requireType(),e.Field=requireField(),e.OneOf=requireOneof(),e.MapField=requireMapfield(),e.Service=requireService(),e.Method=requireMethod(),e.Message=requireMessage(),e.wrappers=requireWrappers$1(),e.types=requireTypes$2(),e.util=requireUtil$3(),e.ReflectionObject._configure(e.Root),e.Namespace._configure(e.Type,e.Service,e.Enum),e.Root._configure(e.Type),e.Field._configure(e.Type),indexLight.exports}var tokenize_1,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize_1;hasRequiredTokenize=1,tokenize_1=h;var e=/[\s{}=;:[\],'"()<>]/g,t=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,a=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,p=/^ *[*/]+ */,g=/^\s*\*?\/*/,m=/\n/g,c=/\s/,l=/\\(.?)/g,o={0:"\0",r:"\r",n:`
`,t:"	"};function s(v){return v.replace(l,function(b,y){switch(y){case"\\":case"":return y;default:return o[y]||""}})}h.unescape=s;function h(v,b){v=v.toString();var y=0,O=v.length,w=1,I=0,_={},T=[],C=null;function N(Y){return Error("illegal "+Y+" (line "+w+")")}function L(){var Y=C==="'"?a:t;Y.lastIndex=y-1;var te=Y.exec(v);if(!te)throw N("string");return y=Y.lastIndex,J(C),C=null,s(te[1])}function D(Y){return v.charAt(Y)}function j(Y,te,oe){var le={type:v.charAt(Y++),lineEmpty:!1,leading:oe},ee;b?ee=2:ee=3;var se=Y-ee,de;do if(--se<0||(de=v.charAt(se))===`
`){le.lineEmpty=!0;break}while(de===" "||de==="	");for(var he=v.substring(Y,te).split(m),ge=0;ge<he.length;++ge)he[ge]=he[ge].replace(b?g:p,"").trim();le.text=he.join(`
`).trim(),_[w]=le,I=w}function k(Y){var te=V(Y),oe=v.substring(Y,te),le=/^\s*\/\//.test(oe);return le}function V(Y){for(var te=Y;te<O&&D(te)!==`
`;)te++;return te}function G(){if(T.length>0)return T.shift();if(C)return L();var Y,te,oe,le,ee,se=y===0;do{if(y===O)return null;for(Y=!1;c.test(oe=D(y));)if(oe===`
`&&(se=!0,++w),++y===O)return null;if(D(y)==="/"){if(++y===O)throw N("comment");if(D(y)==="/")if(b){if(le=y,ee=!1,k(y-1)){ee=!0;do if(y=V(y),y===O||(y++,!se))break;while(k(y))}else y=Math.min(O,V(y)+1);ee&&(j(le,y,se),se=!0),w++,Y=!0}else{for(ee=D(le=y+1)==="/";D(++y)!==`
`;)if(y===O)return null;++y,ee&&(j(le,y-1,se),se=!0),++w,Y=!0}else if((oe=D(y))==="*"){le=y+1,ee=b||D(le)==="*";do{if(oe===`
`&&++w,++y===O)throw N("comment");te=oe,oe=D(y)}while(te!=="*"||oe!=="/");++y,ee&&(j(le,y-2,se),se=!0),Y=!0}else return"/"}}while(Y);var de=y;e.lastIndex=0;var he=e.test(D(de++));if(!he)for(;de<O&&!e.test(D(de));)++de;var ge=v.substring(y,y=de);return(ge==='"'||ge==="'")&&(C=ge),ge}function J(Y){T.push(Y)}function W(){if(!T.length){var Y=G();if(Y===null)return null;J(Y)}return T[0]}function K(Y,te){var oe=W(),le=oe===Y;if(le)return G(),!0;if(!te)throw N("token '"+oe+"', '"+Y+"' expected");return!1}function X(Y){var te=null,oe;return Y===void 0?(oe=_[w-1],delete _[w-1],oe&&(b||oe.type==="*"||oe.lineEmpty)&&(te=oe.leading?oe.text:null)):(I<Y&&W(),oe=_[Y],delete _[Y],oe&&!oe.lineEmpty&&(b||oe.type==="/")&&(te=oe.leading?null:oe.text)),te}return Object.defineProperty({next:G,peek:W,push:J,skip:K,cmnt:X},"line",{get:function(){return w}})}return tokenize_1}var parse_1,hasRequiredParse$1;function requireParse$1(){if(hasRequiredParse$1)return parse_1;hasRequiredParse$1=1,parse_1=L,L.filename=null,L.defaults={keepCase:!1};var e=requireTokenize(),t=requireRoot(),a=requireType(),p=requireField(),g=requireMapfield(),m=requireOneof(),c=require_enum$1(),l=requireService(),o=requireMethod(),s=requireObject(),h=requireTypes$2(),v=requireUtil$3(),b=/^[1-9][0-9]*$/,y=/^-?[1-9][0-9]*$/,O=/^0[x][0-9a-fA-F]+$/,w=/^-?0[x][0-9a-fA-F]+$/,I=/^0[0-7]+$/,_=/^-?0[0-7]+$/,T=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,C=/^[a-zA-Z_][a-zA-Z_0-9]*$/,N=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function L(D,j,k){j instanceof t||(k=j,j=new t),k||(k=L.defaults);var V=k.preferTrailingComment||!1,G=e(D,k.alternateCommentMode||!1),J=G.next,W=G.push,K=G.peek,X=G.skip,Y=G.cmnt,te=!0,oe,le,ee,se="proto2",de=j,he=[],ge={},me=k.keepCase?function(Ve){return Ve}:v.camelCase;function Oe(){he.forEach(Ve=>{Ve._edition=se,Object.keys(ge).forEach(Me=>{Ve.getOption(Me)===void 0&&Ve.setOption(Me,ge[Me],!0)})})}function fe(Ve,Me,$e){var Je=L.filename;return $e||(L.filename=null),Error("illegal "+(Me||"token")+" '"+Ve+"' ("+(Je?Je+", ":"")+"line "+G.line+")")}function _e(){var Ve=[],Me;do{if((Me=J())!=='"'&&Me!=="'")throw fe(Me);Ve.push(J()),X(Me),Me=K()}while(Me==='"'||Me==="'");return Ve.join("")}function Ee(Ve){var Me=J();switch(Me){case"'":case'"':return W(Me),_e();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return d(Me,!0)}catch{if(N.test(Me))return Me;throw fe(Me,"value")}}function z(Ve,Me){var $e,Je;do if(Me&&(($e=K())==='"'||$e==="'")){var Ze=_e();if(Ve.push(Ze),se>=2023)throw fe(Ze,"id")}else try{Ve.push([Je=P(J()),X("to",!0)?P(J()):Je])}catch(mt){if(Me&&N.test($e)&&se>=2023)Ve.push($e);else throw mt}while(X(",",!0));var st={options:void 0};st.setOption=function(mt,bt){this.options===void 0&&(this.options={}),this.options[mt]=bt},u(st,function(bt){if(bt==="option")Ie(st,bt),X(";");else throw fe(bt)},function(){it(st)})}function d(Ve,Me){var $e=1;switch(Ve.charAt(0)==="-"&&($e=-1,Ve=Ve.substring(1)),Ve){case"inf":case"INF":case"Inf":return $e*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(b.test(Ve))return $e*parseInt(Ve,10);if(O.test(Ve))return $e*parseInt(Ve,16);if(I.test(Ve))return $e*parseInt(Ve,8);if(T.test(Ve))return $e*parseFloat(Ve);throw fe(Ve,"number",Me)}function P(Ve,Me){switch(Ve){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!Me&&Ve.charAt(0)==="-")throw fe(Ve,"id");if(y.test(Ve))return parseInt(Ve,10);if(w.test(Ve))return parseInt(Ve,16);if(_.test(Ve))return parseInt(Ve,8);throw fe(Ve,"id")}function A(){if(oe!==void 0)throw fe("package");if(oe=J(),!N.test(oe))throw fe(oe,"name");de=de.define(oe),X(";")}function $(){var Ve=K(),Me;switch(Ve){case"weak":Me=ee||(ee=[]),J();break;case"public":J();default:Me=le||(le=[]);break}Ve=_e(),X(";"),Me.push(Ve)}function ie(){if(X("="),se=_e(),se<2023)throw fe(se,"syntax");X(";")}function pe(){if(X("="),se=_e(),!["2023"].includes(se))throw fe(se,"edition");X(";")}function ne(Ve,Me){switch(Me){case"option":return Ie(Ve,Me),X(";"),!0;case"message":return x(Ve,Me),!0;case"enum":return Q(Ve,Me),!0;case"service":return dt(Ve,Me),!0;case"extend":return St(Ve,Me),!0}return!1}function u(Ve,Me,$e){var Je=G.line;if(Ve&&(typeof Ve.comment!="string"&&(Ve.comment=Y()),Ve.filename=L.filename),X("{",!0)){for(var Ze;(Ze=J())!=="}";)Me(Ze);X(";",!0)}else $e&&$e(),X(";"),Ve&&(typeof Ve.comment!="string"||V)&&(Ve.comment=Y(Je)||Ve.comment)}function x(Ve,Me){if(!C.test(Me=J()))throw fe(Me,"type name");var $e=new a(Me);u($e,function(Ze){if(!ne($e,Ze))switch(Ze){case"map":q($e);break;case"required":if(se!=="proto2")throw fe(Ze);case"repeated":M($e,Ze);break;case"optional":if(se==="proto3")M($e,"proto3_optional");else{if(se!=="proto2")throw fe(Ze);M($e,"optional")}break;case"oneof":U($e,Ze);break;case"extensions":z($e.extensions||($e.extensions=[]));break;case"reserved":z($e.reserved||($e.reserved=[]),!0);break;default:if(se==="proto2"||!N.test(Ze))throw fe(Ze);W(Ze),M($e,"optional");break}}),Ve.add($e),Ve===de&&he.push($e)}function M(Ve,Me,$e){var Je=J();if(Je==="group"){n(Ve,Me);return}for(;Je.endsWith(".")||K().startsWith(".");)Je+=J();if(!N.test(Je))throw fe(Je,"type");var Ze=J();if(!C.test(Ze))throw fe(Ze,"name");Ze=me(Ze),X("=");var st=new p(Ze,P(J()),Je,Me,$e);if(u(st,function(yt){if(yt==="option")Ie(st,yt),X(";");else throw fe(yt)},function(){it(st)}),Me==="proto3_optional"){var mt=new m("_"+Ze);st.setOption("proto3_optional",!0),mt.add(st),Ve.add(mt)}else Ve.add(st);Ve===de&&he.push(st)}function n(Ve,Me){if(se>=2023)throw fe("group");var $e=J();if(!C.test($e))throw fe($e,"name");var Je=v.lcFirst($e);$e===Je&&($e=v.ucFirst($e)),X("=");var Ze=P(J()),st=new a($e);st.group=!0;var mt=new p(Je,Ze,$e,Me);mt.filename=L.filename,u(st,function(yt){switch(yt){case"option":Ie(st,yt),X(";");break;case"required":case"repeated":M(st,yt);break;case"optional":se==="proto3"?M(st,"proto3_optional"):M(st,"optional");break;case"message":x(st,yt);break;case"enum":Q(st,yt);break;case"reserved":z(st.reserved||(st.reserved=[]),!0);break;default:throw fe(yt)}}),Ve.add(st).add(mt)}function q(Ve){X("<");var Me=J();if(h.mapKey[Me]===void 0)throw fe(Me,"type");X(",");var $e=J();if(!N.test($e))throw fe($e,"type");X(">");var Je=J();if(!C.test(Je))throw fe(Je,"name");X("=");var Ze=new g(me(Je),P(J()),Me,$e);u(Ze,function(mt){if(mt==="option")Ie(Ze,mt),X(";");else throw fe(mt)},function(){it(Ze)}),Ve.add(Ze)}function U(Ve,Me){if(!C.test(Me=J()))throw fe(Me,"name");var $e=new m(me(Me));u($e,function(Ze){Ze==="option"?(Ie($e,Ze),X(";")):(W(Ze),M($e,"optional"))}),Ve.add($e)}function Q(Ve,Me){if(!C.test(Me=J()))throw fe(Me,"name");var $e=new c(Me);u($e,function(Ze){switch(Ze){case"option":Ie($e,Ze),X(";");break;case"reserved":z($e.reserved||($e.reserved=[]),!0),$e.reserved===void 0&&($e.reserved=[]);break;default:ye($e,Ze)}}),Ve.add($e),Ve===de&&he.push($e)}function ye(Ve,Me){if(!C.test(Me))throw fe(Me,"name");X("=");var $e=P(J(),!0),Je={options:void 0};Je.getOption=function(Ze){return this.options[Ze]},Je.setOption=function(Ze,st){s.prototype.setOption.call(Je,Ze,st)},Je.setParsedOption=function(){},u(Je,function(st){if(st==="option")Ie(Je,st),X(";");else throw fe(st)},function(){it(Je)}),Ve.add(Me,$e,Je.comment,Je.parsedOptions||Je.options)}function Ie(Ve,Me){var $e,Je,Ze=!0;for(Me==="option"&&(Me=J());Me!=="=";){if(Me==="("){var st=J();X(")"),Me="("+st+")"}if(Ze){if(Ze=!1,Me.includes(".")&&!Me.includes("(")){var mt=Me.split(".");$e=mt[0]+".",Me=mt[1];continue}$e=Me}else Je=Je?Je+=Me:Me;Me=J()}var bt=Je?$e.concat(Je):$e,yt=je(Ve,bt);Je=Je&&Je[0]==="."?Je.slice(1):Je,$e=$e&&$e[$e.length-1]==="."?$e.slice(0,-1):$e,ze(Ve,$e,yt,Je)}function je(Ve,Me){if(X("{",!0)){for(var $e={};!X("}",!0);){if(!C.test(lt=J()))throw fe(lt,"name");if(lt===null)throw fe(lt,"end of input");var Je,Ze=lt;if(X(":",!0),K()==="{")Je=je(Ve,Me+"."+lt);else if(K()==="["){Je=[];var st;if(X("[",!0)){do st=Ee(),Je.push(st);while(X(",",!0));X("]"),typeof st<"u"&&ke(Ve,Me+"."+lt,st)}}else Je=Ee(),ke(Ve,Me+"."+lt,Je);var mt=$e[Ze];mt&&(Je=[].concat(mt).concat(Je)),$e[Ze]=Je,X(",",!0),X(";",!0)}return $e}var bt=Ee();return ke(Ve,Me,bt),bt}function ke(Ve,Me,$e){if(de===Ve&&/^features\./.test(Me)){ge[Me]=$e;return}Ve.setOption&&Ve.setOption(Me,$e)}function ze(Ve,Me,$e,Je){Ve.setParsedOption&&Ve.setParsedOption(Me,$e,Je)}function it(Ve){if(X("[",!0)){do Ie(Ve,"option");while(X(",",!0));X("]")}return Ve}function dt(Ve,Me){if(!C.test(Me=J()))throw fe(Me,"service name");var $e=new l(Me);u($e,function(Ze){if(!ne($e,Ze))if(Ze==="rpc")_t($e,Ze);else throw fe(Ze)}),Ve.add($e),Ve===de&&he.push($e)}function _t(Ve,Me){var $e=Y(),Je=Me;if(!C.test(Me=J()))throw fe(Me,"name");var Ze=Me,st,mt,bt,yt;if(X("("),X("stream",!0)&&(mt=!0),!N.test(Me=J())||(st=Me,X(")"),X("returns"),X("("),X("stream",!0)&&(yt=!0),!N.test(Me=J())))throw fe(Me);bt=Me,X(")");var Jt=new o(Ze,Je,st,bt,mt,yt);Jt.comment=$e,u(Jt,function(Nt){if(Nt==="option")Ie(Jt,Nt),X(";");else throw fe(Nt)}),Ve.add(Jt)}function St(Ve,Me){if(!N.test(Me=J()))throw fe(Me,"reference");var $e=Me;u(null,function(Ze){switch(Ze){case"required":case"repeated":M(Ve,Ze,$e);break;case"optional":se==="proto3"?M(Ve,"proto3_optional",$e):M(Ve,"optional",$e);break;default:if(se==="proto2"||!N.test(Ze))throw fe(Ze);W(Ze),M(Ve,"optional",$e);break}})}for(var lt;(lt=J())!==null;)switch(lt){case"package":if(!te)throw fe(lt);A();break;case"import":if(!te)throw fe(lt);$();break;case"syntax":if(!te)throw fe(lt);ie();break;case"edition":if(!te)throw fe(lt);pe();break;case"option":Ie(de,lt),X(";",!0);break;default:if(ne(de,lt)){te=!1;continue}throw fe(lt)}return Oe(),L.filename=null,{package:oe,imports:le,weakImports:ee,root:j}}return parse_1}var common_1,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common_1;hasRequiredCommon=1,common_1=t;var e=/\/|\./;function t(p,g){e.test(p)||(p="google/protobuf/"+p+".proto",g={nested:{google:{nested:{protobuf:{nested:g}}}}}),t[p]=g}t("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var a;return t("duration",{Duration:a={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),t("timestamp",{Timestamp:a}),t("empty",{Empty:{fields:{}}}),t("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),t("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),t("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),t.get=function(g){return t[g]||null},common_1}var hasRequiredSrc$2;function requireSrc$2(){if(hasRequiredSrc$2)return src$1.exports;hasRequiredSrc$2=1;var e=src$1.exports=requireIndexLight();return e.build="full",e.tokenize=requireTokenize(),e.parse=requireParse$1(),e.common=requireCommon(),e.Root._configure(e.Type,e.parse,e.common),src$1.exports}var protobufjs,hasRequiredProtobufjs;function requireProtobufjs(){return hasRequiredProtobufjs||(hasRequiredProtobufjs=1,protobufjs=requireSrc$2()),protobufjs}var gax={},warnings={},featureDetection={},hasRequiredFeatureDetection;function requireFeatureDetection(){if(hasRequiredFeatureDetection)return featureDetection;hasRequiredFeatureDetection=1;var e;Object.defineProperty(featureDetection,"__esModule",{value:!0}),featureDetection.hasWindowFetch=a,featureDetection.isNodeJS=p,featureDetection.hasAbortController=g;const t={windowFetch:typeof window<"u"&&window?.fetch&&typeof window?.fetch=="function",nodeJS:typeof process<"u"&&((e=process==null?void 0:process.versions)===null||e===void 0?void 0:e.node),abortController:typeof AbortController<"u"};function a(){return t.windowFetch}function p(){return t.nodeJS}function g(){return t.abortController}return featureDetection}var hasRequiredWarnings;function requireWarnings(){if(hasRequiredWarnings)return warnings;hasRequiredWarnings=1,Object.defineProperty(warnings,"__esModule",{value:!0}),warnings.warn=a;const e=requireFeatureDetection(),t=new Set;function a(p,g,m){t.has(p)||(t.add(p),(0,e.isNodeJS)()?typeof m<"u"?process.emitWarning(g,{type:m}):process.emitWarning(g):console.warn(g))}return warnings}var util$1={},commonjsBrowser={},v1$1={},rng={},hasRequiredRng;function requireRng(){if(hasRequiredRng)return rng;hasRequiredRng=1,Object.defineProperty(rng,"__esModule",{value:!0}),rng.default=a;let e;const t=new Uint8Array(16);function a(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return rng}var stringify={},validate={},regex={},hasRequiredRegex;function requireRegex(){if(hasRequiredRegex)return regex;hasRequiredRegex=1,Object.defineProperty(regex,"__esModule",{value:!0}),regex.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return regex.default=e,regex}var hasRequiredValidate$1;function requireValidate$1(){if(hasRequiredValidate$1)return validate;hasRequiredValidate$1=1,Object.defineProperty(validate,"__esModule",{value:!0}),validate.default=void 0;var e=t(requireRegex());function t(g){return g&&g.__esModule?g:{default:g}}function a(g){return typeof g=="string"&&e.default.test(g)}var p=a;return validate.default=p,validate}var hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify;hasRequiredStringify=1,Object.defineProperty(stringify,"__esModule",{value:!0}),stringify.default=void 0,stringify.unsafeStringify=p;var e=t(requireValidate$1());function t(c){return c&&c.__esModule?c:{default:c}}const a=[];for(let c=0;c<256;++c)a.push((c+256).toString(16).slice(1));function p(c,l=0){return a[c[l+0]]+a[c[l+1]]+a[c[l+2]]+a[c[l+3]]+"-"+a[c[l+4]]+a[c[l+5]]+"-"+a[c[l+6]]+a[c[l+7]]+"-"+a[c[l+8]]+a[c[l+9]]+"-"+a[c[l+10]]+a[c[l+11]]+a[c[l+12]]+a[c[l+13]]+a[c[l+14]]+a[c[l+15]]}function g(c,l=0){const o=p(c,l);if(!(0,e.default)(o))throw TypeError("Stringified UUID is invalid");return o}var m=g;return stringify.default=m,stringify}var hasRequiredV1$1;function requireV1$1(){if(hasRequiredV1$1)return v1$1;hasRequiredV1$1=1,Object.defineProperty(v1$1,"__esModule",{value:!0}),v1$1.default=void 0;var e=a(requireRng()),t=requireStringify();function a(s){return s&&s.__esModule?s:{default:s}}let p,g,m=0,c=0;function l(s,h,v){let b=h&&v||0;const y=h||new Array(16);s=s||{};let O=s.node||p,w=s.clockseq!==void 0?s.clockseq:g;if(O==null||w==null){const L=s.random||(s.rng||e.default)();O==null&&(O=p=[L[0]|1,L[1],L[2],L[3],L[4],L[5]]),w==null&&(w=g=(L[6]<<8|L[7])&16383)}let I=s.msecs!==void 0?s.msecs:Date.now(),_=s.nsecs!==void 0?s.nsecs:c+1;const T=I-m+(_-c)/1e4;if(T<0&&s.clockseq===void 0&&(w=w+1&16383),(T<0||I>m)&&s.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=I,c=_,g=w,I+=122192928e5;const C=((I&268435455)*1e4+_)%4294967296;y[b++]=C>>>24&255,y[b++]=C>>>16&255,y[b++]=C>>>8&255,y[b++]=C&255;const N=I/4294967296*1e4&268435455;y[b++]=N>>>8&255,y[b++]=N&255,y[b++]=N>>>24&15|16,y[b++]=N>>>16&255,y[b++]=w>>>8|128,y[b++]=w&255;for(let L=0;L<6;++L)y[b+L]=O[L];return h||(0,t.unsafeStringify)(y)}var o=l;return v1$1.default=o,v1$1}var v3={},v35={},parse={},hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse;hasRequiredParse=1,Object.defineProperty(parse,"__esModule",{value:!0}),parse.default=void 0;var e=t(requireValidate$1());function t(g){return g&&g.__esModule?g:{default:g}}function a(g){if(!(0,e.default)(g))throw TypeError("Invalid UUID");let m;const c=new Uint8Array(16);return c[0]=(m=parseInt(g.slice(0,8),16))>>>24,c[1]=m>>>16&255,c[2]=m>>>8&255,c[3]=m&255,c[4]=(m=parseInt(g.slice(9,13),16))>>>8,c[5]=m&255,c[6]=(m=parseInt(g.slice(14,18),16))>>>8,c[7]=m&255,c[8]=(m=parseInt(g.slice(19,23),16))>>>8,c[9]=m&255,c[10]=(m=parseInt(g.slice(24,36),16))/1099511627776&255,c[11]=m/4294967296&255,c[12]=m>>>24&255,c[13]=m>>>16&255,c[14]=m>>>8&255,c[15]=m&255,c}var p=a;return parse.default=p,parse}var hasRequiredV35;function requireV35(){if(hasRequiredV35)return v35;hasRequiredV35=1,Object.defineProperty(v35,"__esModule",{value:!0}),v35.URL=v35.DNS=void 0,v35.default=c;var e=requireStringify(),t=a(requireParse());function a(l){return l&&l.__esModule?l:{default:l}}function p(l){l=unescape(encodeURIComponent(l));const o=[];for(let s=0;s<l.length;++s)o.push(l.charCodeAt(s));return o}const g="6ba7b810-9dad-11d1-80b4-00c04fd430c8";v35.DNS=g;const m="6ba7b811-9dad-11d1-80b4-00c04fd430c8";v35.URL=m;function c(l,o,s){function h(v,b,y,O){var w;if(typeof v=="string"&&(v=p(v)),typeof b=="string"&&(b=(0,t.default)(b)),((w=b)===null||w===void 0?void 0:w.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let I=new Uint8Array(16+v.length);if(I.set(b),I.set(v,b.length),I=s(I),I[6]=I[6]&15|o,I[8]=I[8]&63|128,y){O=O||0;for(let _=0;_<16;++_)y[O+_]=I[_];return y}return(0,e.unsafeStringify)(I)}try{h.name=l}catch{}return h.DNS=g,h.URL=m,h}return v35}var md5={},hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1,Object.defineProperty(md5,"__esModule",{value:!0}),md5.default=void 0;function e(y){if(typeof y=="string"){const O=unescape(encodeURIComponent(y));y=new Uint8Array(O.length);for(let w=0;w<O.length;++w)y[w]=O.charCodeAt(w)}return t(p(g(y),y.length*8))}function t(y){const O=[],w=y.length*32,I="0123456789abcdef";for(let _=0;_<w;_+=8){const T=y[_>>5]>>>_%32&255,C=parseInt(I.charAt(T>>>4&15)+I.charAt(T&15),16);O.push(C)}return O}function a(y){return(y+64>>>9<<4)+14+1}function p(y,O){y[O>>5]|=128<<O%32,y[a(O)-1]=O;let w=1732584193,I=-271733879,_=-1732584194,T=271733878;for(let C=0;C<y.length;C+=16){const N=w,L=I,D=_,j=T;w=o(w,I,_,T,y[C],7,-680876936),T=o(T,w,I,_,y[C+1],12,-389564586),_=o(_,T,w,I,y[C+2],17,606105819),I=o(I,_,T,w,y[C+3],22,-1044525330),w=o(w,I,_,T,y[C+4],7,-176418897),T=o(T,w,I,_,y[C+5],12,1200080426),_=o(_,T,w,I,y[C+6],17,-1473231341),I=o(I,_,T,w,y[C+7],22,-45705983),w=o(w,I,_,T,y[C+8],7,1770035416),T=o(T,w,I,_,y[C+9],12,-1958414417),_=o(_,T,w,I,y[C+10],17,-42063),I=o(I,_,T,w,y[C+11],22,-1990404162),w=o(w,I,_,T,y[C+12],7,1804603682),T=o(T,w,I,_,y[C+13],12,-40341101),_=o(_,T,w,I,y[C+14],17,-1502002290),I=o(I,_,T,w,y[C+15],22,1236535329),w=s(w,I,_,T,y[C+1],5,-165796510),T=s(T,w,I,_,y[C+6],9,-1069501632),_=s(_,T,w,I,y[C+11],14,643717713),I=s(I,_,T,w,y[C],20,-373897302),w=s(w,I,_,T,y[C+5],5,-701558691),T=s(T,w,I,_,y[C+10],9,38016083),_=s(_,T,w,I,y[C+15],14,-660478335),I=s(I,_,T,w,y[C+4],20,-405537848),w=s(w,I,_,T,y[C+9],5,568446438),T=s(T,w,I,_,y[C+14],9,-1019803690),_=s(_,T,w,I,y[C+3],14,-187363961),I=s(I,_,T,w,y[C+8],20,1163531501),w=s(w,I,_,T,y[C+13],5,-1444681467),T=s(T,w,I,_,y[C+2],9,-51403784),_=s(_,T,w,I,y[C+7],14,1735328473),I=s(I,_,T,w,y[C+12],20,-1926607734),w=h(w,I,_,T,y[C+5],4,-378558),T=h(T,w,I,_,y[C+8],11,-2022574463),_=h(_,T,w,I,y[C+11],16,1839030562),I=h(I,_,T,w,y[C+14],23,-35309556),w=h(w,I,_,T,y[C+1],4,-1530992060),T=h(T,w,I,_,y[C+4],11,1272893353),_=h(_,T,w,I,y[C+7],16,-155497632),I=h(I,_,T,w,y[C+10],23,-1094730640),w=h(w,I,_,T,y[C+13],4,681279174),T=h(T,w,I,_,y[C],11,-358537222),_=h(_,T,w,I,y[C+3],16,-722521979),I=h(I,_,T,w,y[C+6],23,76029189),w=h(w,I,_,T,y[C+9],4,-640364487),T=h(T,w,I,_,y[C+12],11,-421815835),_=h(_,T,w,I,y[C+15],16,530742520),I=h(I,_,T,w,y[C+2],23,-995338651),w=v(w,I,_,T,y[C],6,-198630844),T=v(T,w,I,_,y[C+7],10,1126891415),_=v(_,T,w,I,y[C+14],15,-1416354905),I=v(I,_,T,w,y[C+5],21,-57434055),w=v(w,I,_,T,y[C+12],6,1700485571),T=v(T,w,I,_,y[C+3],10,-1894986606),_=v(_,T,w,I,y[C+10],15,-1051523),I=v(I,_,T,w,y[C+1],21,-2054922799),w=v(w,I,_,T,y[C+8],6,1873313359),T=v(T,w,I,_,y[C+15],10,-30611744),_=v(_,T,w,I,y[C+6],15,-1560198380),I=v(I,_,T,w,y[C+13],21,1309151649),w=v(w,I,_,T,y[C+4],6,-145523070),T=v(T,w,I,_,y[C+11],10,-1120210379),_=v(_,T,w,I,y[C+2],15,718787259),I=v(I,_,T,w,y[C+9],21,-343485551),w=m(w,N),I=m(I,L),_=m(_,D),T=m(T,j)}return[w,I,_,T]}function g(y){if(y.length===0)return[];const O=y.length*8,w=new Uint32Array(a(O));for(let I=0;I<O;I+=8)w[I>>5]|=(y[I/8]&255)<<I%32;return w}function m(y,O){const w=(y&65535)+(O&65535);return(y>>16)+(O>>16)+(w>>16)<<16|w&65535}function c(y,O){return y<<O|y>>>32-O}function l(y,O,w,I,_,T){return m(c(m(m(O,y),m(I,T)),_),w)}function o(y,O,w,I,_,T,C){return l(O&w|~O&I,y,O,_,T,C)}function s(y,O,w,I,_,T,C){return l(O&I|w&~I,y,O,_,T,C)}function h(y,O,w,I,_,T,C){return l(O^w^I,y,O,_,T,C)}function v(y,O,w,I,_,T,C){return l(w^(O|~I),y,O,_,T,C)}var b=e;return md5.default=b,md5}var hasRequiredV3;function requireV3(){if(hasRequiredV3)return v3;hasRequiredV3=1,Object.defineProperty(v3,"__esModule",{value:!0}),v3.default=void 0;var e=a(requireV35()),t=a(requireMd5());function a(m){return m&&m.__esModule?m:{default:m}}var g=(0,e.default)("v3",48,t.default);return v3.default=g,v3}var v4={},native={},hasRequiredNative;function requireNative(){if(hasRequiredNative)return native;hasRequiredNative=1,Object.defineProperty(native,"__esModule",{value:!0}),native.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return native.default=t,native}var hasRequiredV4;function requireV4(){if(hasRequiredV4)return v4;hasRequiredV4=1,Object.defineProperty(v4,"__esModule",{value:!0}),v4.default=void 0;var e=p(requireNative()),t=p(requireRng()),a=requireStringify();function p(c){return c&&c.__esModule?c:{default:c}}function g(c,l,o){if(e.default.randomUUID&&!l&&!c)return e.default.randomUUID();c=c||{};const s=c.random||(c.rng||t.default)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,l){o=o||0;for(let h=0;h<16;++h)l[o+h]=s[h];return l}return(0,a.unsafeStringify)(s)}var m=g;return v4.default=m,v4}var v5={},sha1={},hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1,Object.defineProperty(sha1,"__esModule",{value:!0}),sha1.default=void 0;function e(g,m,c,l){switch(g){case 0:return m&c^~m&l;case 1:return m^c^l;case 2:return m&c^m&l^c&l;case 3:return m^c^l}}function t(g,m){return g<<m|g>>>32-m}function a(g){const m=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof g=="string"){const h=unescape(encodeURIComponent(g));g=[];for(let v=0;v<h.length;++v)g.push(h.charCodeAt(v))}else Array.isArray(g)||(g=Array.prototype.slice.call(g));g.push(128);const l=g.length/4+2,o=Math.ceil(l/16),s=new Array(o);for(let h=0;h<o;++h){const v=new Uint32Array(16);for(let b=0;b<16;++b)v[b]=g[h*64+b*4]<<24|g[h*64+b*4+1]<<16|g[h*64+b*4+2]<<8|g[h*64+b*4+3];s[h]=v}s[o-1][14]=(g.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(g.length-1)*8&4294967295;for(let h=0;h<o;++h){const v=new Uint32Array(80);for(let _=0;_<16;++_)v[_]=s[h][_];for(let _=16;_<80;++_)v[_]=t(v[_-3]^v[_-8]^v[_-14]^v[_-16],1);let b=c[0],y=c[1],O=c[2],w=c[3],I=c[4];for(let _=0;_<80;++_){const T=Math.floor(_/20),C=t(b,5)+e(T,y,O,w)+I+m[T]+v[_]>>>0;I=w,w=O,O=t(y,30)>>>0,y=b,b=C}c[0]=c[0]+b>>>0,c[1]=c[1]+y>>>0,c[2]=c[2]+O>>>0,c[3]=c[3]+w>>>0,c[4]=c[4]+I>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,c[0]&255,c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,c[1]&255,c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,c[2]&255,c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,c[3]&255,c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,c[4]&255]}var p=a;return sha1.default=p,sha1}var hasRequiredV5;function requireV5(){if(hasRequiredV5)return v5;hasRequiredV5=1,Object.defineProperty(v5,"__esModule",{value:!0}),v5.default=void 0;var e=a(requireV35()),t=a(requireSha1());function a(m){return m&&m.__esModule?m:{default:m}}var g=(0,e.default)("v5",80,t.default);return v5.default=g,v5}var nil={},hasRequiredNil;function requireNil(){if(hasRequiredNil)return nil;hasRequiredNil=1,Object.defineProperty(nil,"__esModule",{value:!0}),nil.default=void 0;var e="00000000-0000-0000-0000-000000000000";return nil.default=e,nil}var version$2={},hasRequiredVersion;function requireVersion(){if(hasRequiredVersion)return version$2;hasRequiredVersion=1,Object.defineProperty(version$2,"__esModule",{value:!0}),version$2.default=void 0;var e=t(requireValidate$1());function t(g){return g&&g.__esModule?g:{default:g}}function a(g){if(!(0,e.default)(g))throw TypeError("Invalid UUID");return parseInt(g.slice(14,15),16)}var p=a;return version$2.default=p,version$2}var hasRequiredCommonjsBrowser;function requireCommonjsBrowser(){return hasRequiredCommonjsBrowser||(hasRequiredCommonjsBrowser=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return c.default}});var t=h(requireV1$1()),a=h(requireV3()),p=h(requireV4()),g=h(requireV5()),m=h(requireNil()),c=h(requireVersion()),l=h(requireValidate$1()),o=h(requireStringify()),s=h(requireParse());function h(v){return v&&v.__esModule?v:{default:v}}})(commonjsBrowser)),commonjsBrowser}var hasRequiredUtil$2;function requireUtil$2(){if(hasRequiredUtil$2)return util$1;hasRequiredUtil$2=1,Object.defineProperty(util$1,"__esModule",{value:!0}),util$1.camelToSnakeCase=p,util$1.toCamelCase=m,util$1.toLowerCamelCase=c,util$1.makeUUID=l;const e=requireCommonjsBrowser();function t(o,s=!1){return s&&(o=o.replace(/([A-Z])([A-Z]+)([A-Z])/g,h=>h[0]+h.slice(1,h.length-1).toLowerCase()+h[h.length-1])),o.split(/(?=[A-Z])|[^A-Za-z0-9.]+/).filter(h=>h.length>0).map((h,v)=>v===0?h:h.toLowerCase())}function a(o){return o.length===0?o:o[0].toLowerCase()+o.slice(1)}function p(o){const s=t(o);if(s.length===0)return o;const h=[s[0]];return h.push(...s.slice(1).map(a)),h.join("_")}function g(o){return o.length===0?o:o[0].toUpperCase()+o.slice(1)}function m(o){const s=t(o,!0);if(s.length===0)return o;const h=[s[0]];return h.push(...s.slice(1).map(v=>v.match(/^\d+$/)?"_"+v:g(v))),h.join("")}function c(o){const s=m(o);return s.length===0?s:s[0].toLowerCase()+s.slice(1)}function l(){return(0,e.v4)()}return util$1}var status={},hasRequiredStatus;function requireStatus(){return hasRequiredStatus||(hasRequiredStatus=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.HttpCodeToRpcCodeMap=e.Status=void 0,e.rpcCodeFromHttpStatusCode=a;var t;(function(p){p[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(t||(e.Status=t={})),e.HttpCodeToRpcCodeMap=new Map([[400,t.INVALID_ARGUMENT],[401,t.UNAUTHENTICATED],[403,t.PERMISSION_DENIED],[404,t.NOT_FOUND],[409,t.ABORTED],[416,t.OUT_OF_RANGE],[429,t.RESOURCE_EXHAUSTED],[499,t.CANCELLED],[501,t.UNIMPLEMENTED],[503,t.UNAVAILABLE],[504,t.DEADLINE_EXCEEDED]]);function a(p){return e.HttpCodeToRpcCodeMap.has(p)?e.HttpCodeToRpcCodeMap.get(p):p>=200&&p<300?t.OK:p>=400&&p<500?t.FAILED_PRECONDITION:p>=500&&p<600?t.INTERNAL:t.UNKNOWN}})(status)),status}var hasRequiredGax;function requireGax(){if(hasRequiredGax)return gax;hasRequiredGax=1,Object.defineProperty(gax,"__esModule",{value:!0}),gax.CallSettings=gax.RetryOptions=void 0,gax.convertRetryOptions=m,gax.createRetryOptions=c,gax.createBackoffSettings=l,gax.createDefaultBackoffSettings=o,gax.createMaxRetriesBackoffSettings=s,gax.createBundleOptions=h,gax.constructSettings=y,gax.createByteLengthFunction=O;const e=requireWarnings(),t=requireUtil$2(),a=requireStatus();class p{constructor(I,_,T,C){this.retryCodes=I,this.backoffSettings=_,this.shouldRetryFn=T,this.getResumptionRequestFn=C}}gax.RetryOptions=p;class g{constructor(I){var _;I=I||{},this.timeout=I.timeout||3e4,this.retry=I.retry,this.autoPaginate="autoPaginate"in I?I.autoPaginate:!0,this.maxResults=I.maxResults,this.otherArgs=I.otherArgs||{},this.bundleOptions=I.bundleOptions,this.isBundling="isBundling"in I?I.isBundling:!0,this.longrunning="longrunning"in I?I.longrunning:void 0,this.apiName=(_=I.apiName)!==null&&_!==void 0?_:void 0,this.retryRequestOptions=I.retryRequestOptions}merge(I){if(!I)return new g(this);let _=this.timeout,T=this.retry,C=this.autoPaginate,N=this.maxResults,L=this.otherArgs,D=this.isBundling,j=this.longrunning,k=this.apiName,V=this.retryRequestOptions;if("timeout"in I&&(_=I.timeout),T?.retryCodes&&(T.backoffSettings.initialRpcTimeoutMillis=_,T.backoffSettings.maxRpcTimeoutMillis=_,T.backoffSettings.totalTimeoutMillis=_),"retry"in I&&(T=b(T||{},I.retry)),"autoPaginate"in I&&!I.autoPaginate&&(C=!1),"maxResults"in I&&(N=I.maxResults),"otherArgs"in I){L={};for(const G in this.otherArgs)L[G]=this.otherArgs[G];for(const G in I.otherArgs)L[G]=I.otherArgs[G]}return"isBundling"in I&&(D=I.isBundling),"maxRetries"in I&&I.maxRetries!==void 0&&(T.backoffSettings.maxRetries=I.maxRetries,delete T.backoffSettings.totalTimeoutMillis),"longrunning"in I&&(j=I.longrunning),"apiName"in I&&(k=I.apiName),"retryRequestOptions"in I&&(V=I.retryRequestOptions),new g({timeout:_,retry:T,bundleOptions:this.bundleOptions,longrunning:j,autoPaginate:C,maxResults:N,otherArgs:L,isBundling:D,apiName:k,retryRequestOptions:V})}}gax.CallSettings=g;function m(w,I){var _,T,C,N;if(!w||!I)return w;if(w.retry&&w.retryRequestOptions)throw new Error("Only one of retry or retryRequestOptions may be set");if(w.retryRequestOptions){w.retryRequestOptions.objectMode!==void 0&&(0,e.warn)("retry_request_options","objectMode override is not supported. It is set to true internally by default in gax.","UnsupportedParameterWarning"),w.retryRequestOptions.noResponseRetries!==void 0&&(0,e.warn)("retry_request_options","noResponseRetries override is not supported. Please specify retry codes or a function to determine retry eligibility.","UnsupportedParameterWarning"),w.retryRequestOptions.currentRetryAttempt!==void 0&&(0,e.warn)("retry_request_options","currentRetryAttempt override is not supported. Retry attempts are tracked internally.","UnsupportedParameterWarning");let L=[a.Status.UNAVAILABLE],D;w.retryRequestOptions.shouldRetryFn&&(L=[],D=w.retryRequestOptions.shouldRetryFn),w.maxRetries=(T=(_=w?.retryRequestOptions)===null||_===void 0?void 0:_.retries)!==null&&T!==void 0?T:w.maxRetries;const j=o();let k,V;w.retryRequestOptions.maxRetryDelay!==void 0&&(k=w.retryRequestOptions.maxRetryDelay*1e3);const G=(N=(C=w?.retryRequestOptions)===null||C===void 0?void 0:C.retryDelayMultiplier)!==null&&N!==void 0?N:j.retryDelayMultiplier;w.retryRequestOptions.totalTimeout!==void 0?V=w.retryRequestOptions.totalTimeout*1e3:w.maxRetries===void 0&&(V=3e4,(0,e.warn)("retry_request_options_no_max_retries_timeout","Neither maxRetries nor totalTimeout were passed. Defaulting to totalTimeout of 30000ms.","MissingParameterWarning")),j.maxRetryDelayMillis=k??j.maxRetryDelayMillis,j.retryDelayMultiplier=G??j.retryDelayMultiplier,j.totalTimeoutMillis=V??j.totalTimeoutMillis;const J=c(L,j,D);w.retry=J,delete w.retryRequestOptions,(0,e.warn)("retry_request_options","retryRequestOptions will be deprecated in a future release. Please use retryOptions to pass retry options at call time","DeprecationWarning")}return w}function c(w,I,_,T){return{retryCodes:w,backoffSettings:I,shouldRetryFn:_,getResumptionRequestFn:T}}function l(w,I,_,T,C,N,L){return{initialRetryDelayMillis:w,retryDelayMultiplier:I,maxRetryDelayMillis:_,initialRpcTimeoutMillis:T,rpcTimeoutMultiplier:C,maxRpcTimeoutMillis:N,totalTimeoutMillis:L}}function o(){return l(100,1.3,6e4,null,null,null,null)}function s(w,I,_,T,C,N,L){return{initialRetryDelayMillis:w,retryDelayMultiplier:I,maxRetryDelayMillis:_,initialRpcTimeoutMillis:T,rpcTimeoutMultiplier:C,maxRpcTimeoutMillis:N,maxRetries:L}}function h(w){["element_count_threshold","element_count_limit","request_byte_threshold","request_byte_limit","delay_threshold_millis"].forEach(D=>{if(D in w&&typeof w[D]!="number")throw new Error(`${D} should be a number`)});const _=w.element_count_threshold||0,T=w.element_count_limit||0,C=w.request_byte_threshold||0,N=w.request_byte_limit||0,L=w.delay_threshold_millis||0;if(_===0&&C===0&&L===0)throw new Error("one threshold should be > 0");return{elementCountThreshold:_,elementCountLimit:T,requestByteThreshold:C,requestByteLimit:N,delayThreshold:L}}function v(w,I,_,T){if(!w)return null;let C=null;if(I&&"retry_codes_name"in w){const L=w.retry_codes_name;C=(I[L]||[]).map(D=>Number(T[D]))}let N=null;if(_&&"retry_params_name"in w){const L=_[w.retry_params_name];N=l(L.initial_retry_delay_millis,L.retry_delay_multiplier,L.max_retry_delay_millis,L.initial_rpc_timeout_millis,L.rpc_timeout_multiplier,L.max_rpc_timeout_millis,L.total_timeout_millis)}return c(C,N)}function b(w,I){if(!I)return null;if(!I.retryCodes&&!I.backoffSettings&&!I.shouldRetryFn&&!I.getResumptionRequestFn)return w;const _=I.retryCodes?I.retryCodes:w.retryCodes,T=I.backoffSettings?I.backoffSettings:w.backoffSettings,C=I.shouldRetryFn?I.shouldRetryFn:w.shouldRetryFn,N=I.getResumptionRequestFn?I.getResumptionRequestFn:w.getResumptionRequestFn;return c(_,T,C,N)}function y(w,I,_,T,C){C=C||{};const N={},L=(I.interfaces||{})[w];if(!L)return null;const D=(_.interfaces||{})[w]||{},j=L.methods,k=D.methods||{};for(const V in j){const G=j[V],J=(0,t.toLowerCamelCase)(V);let W=v(G,L.retry_codes,L.retry_params,T),K=G.bundling,X=G.timeout_millis;if(V in k){const te=k[V];te&&("bundling"in te&&(K=te.bundling),"timeout_millis"in te&&(X=te.timeout_millis)),W=b(W,v(te,D.retry_codes,D.retry_params,T))}const Y=w;N[J]=new g({timeout:X,retry:W,bundleOptions:K?h(K):null,otherArgs:C,apiName:Y})}return N}function O(w){return function(_){try{return w.encode(_).finish().length}catch(T){const C=JSON.stringify(_);return(0,e.warn)("error_encoding_protobufjs_object",`Cannot encode protobuf.js object: ${C}: ${T}`),C.length}}}return gax}var routingHeader={},hasRequiredRoutingHeader;function requireRoutingHeader(){if(hasRequiredRoutingHeader)return routingHeader;hasRequiredRoutingHeader=1,Object.defineProperty(routingHeader,"__esModule",{value:!0}),routingHeader.fromParams=t;const e=require$$1$3;function t(a){return e.stringify(a)}return routingHeader}var operationsClient={},createApiCall={},apiCaller={},normalApiCaller={},call={},googleError={},src={},toproto3json={},any={},fromproto3json={},bytes={},hasRequiredBytes;function requireBytes(){if(hasRequiredBytes)return bytes;hasRequiredBytes=1,Object.defineProperty(bytes,"__esModule",{value:!0}),bytes.bytesFromProto3JSON=bytes.bytesToProto3JSON=void 0;function e(a){return Buffer.isBuffer(a)?a.toString("base64"):Buffer.from(a.buffer,0,a.byteLength).toString("base64")}bytes.bytesToProto3JSON=e;function t(a){return Buffer.from(a,"base64")}return bytes.bytesFromProto3JSON=t,bytes}var _enum={},hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,Object.defineProperty(_enum,"__esModule",{value:!0}),_enum.resolveEnumValueToNumber=_enum.resolveEnumValueToString=void 0;function e(a,p){if(typeof p=="number"){const g=a.valuesById[p];return typeof g>"u"?p:g}if(typeof p=="string")return p;throw new Error("resolveEnumValueToString: enum value must be a string or a number")}_enum.resolveEnumValueToString=e;function t(a,p){if(typeof p=="number")return p;if(typeof p=="string"){const g=a.values[p];return typeof g>"u"?p:g}throw new Error("resolveEnumValueToNumber: enum value must be a string or a number")}return _enum.resolveEnumValueToNumber=t,_enum}var value={},util={},hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util;hasRequiredUtil$1=1,Object.defineProperty(util,"__esModule",{value:!0}),util.assert=util.wrapperTypes=util.getFullyQualifiedTypeName=void 0;function e(a){let p="";for(;a.parent;)p=`.${a.name}${p}`,a=a.parent;return p}util.getFullyQualifiedTypeName=e,util.wrapperTypes=new Set([".google.protobuf.DoubleValue",".google.protobuf.FloatValue",".google.protobuf.Int64Value",".google.protobuf.UInt64Value",".google.protobuf.Int32Value",".google.protobuf.UInt32Value",".google.protobuf.BoolValue",".google.protobuf.StringValue",".google.protobuf.BytesValue"]);function t(a,p){if(!a)throw new Error(p)}return util.assert=t,util}var hasRequiredValue;function requireValue(){if(hasRequiredValue)return value;hasRequiredValue=1,Object.defineProperty(value,"__esModule",{value:!0}),value.googleProtobufValueFromProto3JSON=value.googleProtobufListValueFromProto3JSON=value.googleProtobufStructFromProto3JSON=value.googleProtobufValueToProto3JSON=value.googleProtobufListValueToProto3JSON=value.googleProtobufStructToProto3JSON=void 0;const e=requireUtil$1();function t(l){const o={},s=l.fields;for(const[h,v]of Object.entries(s))o[h]=p(v);return o}value.googleProtobufStructToProto3JSON=t;function a(l){return(0,e.assert)(Array.isArray(l.values),"ListValue internal representation must contain array of values"),l.values.map(p)}value.googleProtobufListValueToProto3JSON=a;function p(l){return Object.prototype.hasOwnProperty.call(l,"nullValue")?null:Object.prototype.hasOwnProperty.call(l,"numberValue")&&typeof l.numberValue=="number"?Number.isFinite(l.numberValue)?l.numberValue:l.numberValue.toString():Object.prototype.hasOwnProperty.call(l,"stringValue")&&typeof l.stringValue=="string"?l.stringValue:Object.prototype.hasOwnProperty.call(l,"boolValue")&&typeof l.boolValue=="boolean"?l.boolValue:Object.prototype.hasOwnProperty.call(l,"structValue")&&typeof l.structValue=="object"?t(l.structValue):Object.prototype.hasOwnProperty.call(l,"listValue")&&typeof l=="object"&&typeof l.listValue=="object"?a(l.listValue):null}value.googleProtobufValueToProto3JSON=p;function g(l){const o={};for(const[s,h]of Object.entries(l))o[s]=c(h);return{fields:o}}value.googleProtobufStructFromProto3JSON=g;function m(l){return{values:l.map(o=>c(o))}}value.googleProtobufListValueFromProto3JSON=m;function c(l){if(l===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return{numberValue:l};if(typeof l=="string")return{stringValue:l};if(typeof l=="boolean")return{boolValue:l};if(Array.isArray(l))return{listValue:m(l)};if(typeof l=="object")return{structValue:g(l)};throw new Error(`googleProtobufValueFromProto3JSON: incorrect parameter type: ${typeof l}`)}return value.googleProtobufValueFromProto3JSON=c,value}var duration={},hasRequiredDuration;function requireDuration(){if(hasRequiredDuration)return duration;hasRequiredDuration=1,Object.defineProperty(duration,"__esModule",{value:!0}),duration.googleProtobufDurationFromProto3JSON=duration.googleProtobufDurationToProto3JSON=void 0;function e(a){let p=a.seconds.toString();if(typeof a.nanos=="number"&&a.nanos>0){const g=a.nanos.toString().padStart(9,"0").replace(/^((?:\d\d\d)+?)(?:0*)$/,"$1");p+="."+g}return p+="s",p}duration.googleProtobufDurationToProto3JSON=e;function t(a){const p=a.match(/^(\d*)(?:\.(\d*))?s$/);if(!p)throw new Error(`googleProtobufDurationFromProto3JSON: incorrect value ${a} passed as google.protobuf.Duration`);let g=0,m=0;typeof p[1]=="string"&&p[1].length>0&&(g=parseInt(p[1])),typeof p[2]=="string"&&p[2].length>0&&(m=parseInt(p[2].padEnd(9,"0")));const c={};return g!==0&&(c.seconds=g),m!==0&&(c.nanos=m),c}return duration.googleProtobufDurationFromProto3JSON=t,duration}var timestamp$1={},hasRequiredTimestamp$1;function requireTimestamp$1(){if(hasRequiredTimestamp$1)return timestamp$1;hasRequiredTimestamp$1=1,Object.defineProperty(timestamp$1,"__esModule",{value:!0}),timestamp$1.googleProtobufTimestampFromProto3JSON=timestamp$1.googleProtobufTimestampToProto3JSON=void 0;function e(a){var p;const g=a.seconds,m=new Date(g*1e3).toISOString();let c=(p=a.nanos)===null||p===void 0?void 0:p.toString().padStart(9,"0");for(;c&&c.length>3&&c.endsWith("000");)c=c.slice(0,-3);return m.replace(/(?:\.\d{0,9})/,"."+c)}timestamp$1.googleProtobufTimestampToProto3JSON=e;function t(a){if(!a.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?/))throw new Error(`googleProtobufDurationFromProto3JSON: incorrect value ${a} passed as google.protobuf.Duration`);const m=new Date(a).getTime(),c=Math.floor(m/1e3);let l=0;const o=a.split(".")[1];o&&(l=parseInt(o.slice(0,-1).padEnd(9,"0")));const s={};return c!==0&&(s.seconds=c),l!==0&&(s.nanos=l),s}return timestamp$1.googleProtobufTimestampFromProto3JSON=t,timestamp$1}var wrappers={},hasRequiredWrappers;function requireWrappers(){if(hasRequiredWrappers)return wrappers;hasRequiredWrappers=1,Object.defineProperty(wrappers,"__esModule",{value:!0}),wrappers.wrapperFromProto3JSON=wrappers.wrapperToProto3JSON=void 0;const e=requireBytes(),t=requireUtil$1();function a(g){return Object.prototype.hasOwnProperty.call(g,"value")?Buffer.isBuffer(g.value)||g.value instanceof Uint8Array?(0,e.bytesToProto3JSON)(g.value):typeof g.value=="object"?((0,t.assert)(g.value.constructor.name==="Long",`wrapperToProto3JSON: expected to see a number, a string, a boolean, or a Long, but got ${g.value}`),g.value.toString()):typeof g.value=="number"&&!Number.isFinite(g.value)?g.value.toString():g.value:null}wrappers.wrapperToProto3JSON=a;function p(g,m){if(m===null)return{value:null};if(g===".google.protobuf.BytesValue"){if(typeof m!="string")throw new Error(`numberWrapperFromProto3JSON: expected to get a string for google.protobuf.BytesValue but got ${typeof m}`);return{value:(0,e.bytesFromProto3JSON)(m)}}return{value:m}}return wrappers.wrapperFromProto3JSON=p,wrappers}var fieldmask={},hasRequiredFieldmask;function requireFieldmask(){if(hasRequiredFieldmask)return fieldmask;hasRequiredFieldmask=1,Object.defineProperty(fieldmask,"__esModule",{value:!0}),fieldmask.googleProtobufFieldMaskFromProto3JSON=fieldmask.googleProtobufFieldMaskToProto3JSON=void 0;function e(a){return a.paths.join(",")}fieldmask.googleProtobufFieldMaskToProto3JSON=e;function t(a){return{paths:a.split(",")}}return fieldmask.googleProtobufFieldMaskFromProto3JSON=t,fieldmask}var hasRequiredFromproto3json;function requireFromproto3json(){if(hasRequiredFromproto3json)return fromproto3json;hasRequiredFromproto3json=1,Object.defineProperty(fromproto3json,"__esModule",{value:!0}),fromproto3json.fromProto3JSON=fromproto3json.fromProto3JSONToInternalRepresentation=void 0;const e=requireAny(),t=requireBytes(),a=require_enum(),p=requireValue(),g=requireUtil$1(),m=requireDuration(),c=requireTimestamp$1(),l=requireWrappers(),o=requireFieldmask();function s(v,b){const y=typeof v=="string"?v:(0,g.getFullyQualifiedTypeName)(v);if(typeof v!="string"&&"values"in v)return y===".google.protobuf.NullValue"?"NULL_VALUE":(0,a.resolveEnumValueToString)(v,b);if(typeof v!="string"&&v.resolveAll(),typeof v=="string")return b;if(y===".google.protobuf.Value")return(0,p.googleProtobufValueFromProto3JSON)(b);if(g.wrapperTypes.has(y)){if(b!==null&&typeof b=="object"||Array.isArray(b))throw new Error(`fromProto3JSONToInternalRepresentation: JSON representation for ${y} expects a string, a number, or a boolean, but got ${typeof b}`);return(0,l.wrapperFromProto3JSON)(y,b)}if(b===null)return null;if(y===".google.protobuf.Any")return(0,e.googleProtobufAnyFromProto3JSON)(v.root,b);if(y===".google.protobuf.Struct"){if(typeof b!="object")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Struct must be an object but got ${typeof b}`);if(Array.isArray(b))throw new Error("fromProto3JSONToInternalRepresentation: google.protobuf.Struct must be an object but got an array");return(0,p.googleProtobufStructFromProto3JSON)(b)}if(y===".google.protobuf.ListValue"){if(!Array.isArray(b))throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.ListValue must be an array but got ${typeof b}`);return(0,p.googleProtobufListValueFromProto3JSON)(b)}if(y===".google.protobuf.Duration"){if(typeof b!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Duration must be a string but got ${typeof b}`);return(0,m.googleProtobufDurationFromProto3JSON)(b)}if(y===".google.protobuf.Timestamp"){if(typeof b!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Timestamp must be a string but got ${typeof b}`);return(0,c.googleProtobufTimestampFromProto3JSON)(b)}if(y===".google.protobuf.FieldMask"){if(typeof b!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.FieldMask must be a string but got ${typeof b}`);return(0,o.googleProtobufFieldMaskFromProto3JSON)(b)}const O={};for(const[w,I]of Object.entries(b)){const _=v.fields[w];if(!_)continue;const T=_.resolvedType,C=_.type;if(_.repeated)if(I===null)O[w]=[];else{if(!Array.isArray(I))throw new Error(`fromProto3JSONToInternalRepresentation: expected an array for field ${w}`);O[w]=I.map(N=>s(T||C,N))}else if(_.map){const N={};for(const[L,D]of Object.entries(I))N[L]=s(T||C,D);O[w]=N}else if(C.match(/^(?:(?:(?:u?int|fixed)(?:32|64))|float|double)$/)){if(typeof I!="number"&&typeof I!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${w} of type ${_.type} cannot contain value ${I}`);O[w]=I}else if(C==="string"){if(typeof I!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${w} of type ${_.type} cannot contain value ${I}`);O[w]=I}else if(C==="bool"){if(typeof I!="boolean")throw new Error(`fromProto3JSONToInternalRepresentation: field ${w} of type ${_.type} cannot contain value ${I}`);O[w]=I}else if(C==="bytes"){if(typeof I!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${w} of type ${_.type} cannot contain value ${I}`);O[w]=(0,t.bytesFromProto3JSON)(I)}else{(0,g.assert)(T!==null,`Expected to be able to resolve type for field ${_.name}`);const N=s(T,I);O[w]=N}}return O}fromproto3json.fromProto3JSONToInternalRepresentation=s;function h(v,b){const y=s(v,b);return y===null?null:((0,g.assert)(typeof y=="object"&&!Array.isArray(y),`fromProto3JSON: expected an object, not ${b}`),v.fromObject(y))}return fromproto3json.fromProto3JSON=h,fromproto3json}var hasRequiredAny;function requireAny(){if(hasRequiredAny)return any;hasRequiredAny=1,Object.defineProperty(any,"__esModule",{value:!0}),any.googleProtobufAnyFromProto3JSON=any.googleProtobufAnyToProto3JSON=void 0;const e=requireFromproto3json(),t=requireToproto3json(),a=new Set(["google.protobuf.Any","google.protobuf.Duration","google.protobuf.FieldMask","google.protobuf.ListValue","google.protobuf.Struct","google.protobuf.Timestamp","google.protobuf.Value"]);function p(m,c){const l=m.type_url.replace(/^.*\//,"");let o;try{o=m.$type.root.lookupType(l)}catch(v){throw new Error(`googleProtobufAnyToProto3JSON: cannot find type ${l}: ${v}`)}const s=o.decode(m.value),h=(0,t.toProto3JSON)(s,c);return a.has(l)?{"@type":m.type_url,value:h}:(h["@type"]=m.type_url,h)}any.googleProtobufAnyToProto3JSON=p;function g(m,c){if(c===null||typeof c!="object"||Array.isArray(c))throw new Error("googleProtobufAnyFromProto3JSON: must be an object to decode google.protobuf.Any");const l=c["@type"];if(!l||typeof l!="string")throw new Error("googleProtobufAnyFromProto3JSON: JSON serialization of google.protobuf.Any must contain @type field");const o=l.replace(/^.*\//,"");let s;try{s=m.lookupType(o)}catch(w){throw new Error(`googleProtobufAnyFromProto3JSON: cannot find type ${o}: ${w}`)}let h=c;if(a.has(o)){if(!("value"in c))throw new Error(`googleProtobufAnyFromProto3JSON: JSON representation of google.protobuf.Any with type ${o} must contain the value field`);h=c.value}const v=(0,e.fromProto3JSON)(s,h);if(v===null)return{type_url:l,value:null};const b=s.encode(v).finish(),O=Buffer.from(b,0,b.byteLength).toString("base64");return{type_url:l,value:O}}return any.googleProtobufAnyFromProto3JSON=g,any}var hasRequiredToproto3json;function requireToproto3json(){if(hasRequiredToproto3json)return toproto3json;hasRequiredToproto3json=1,Object.defineProperty(toproto3json,"__esModule",{value:!0}),toproto3json.toProto3JSON=void 0;const e=requireAny(),t=requireBytes(),a=requireUtil$1(),p=require_enum(),g=requireValue(),m=requireDuration(),c=requireTimestamp$1(),l=requireWrappers(),o=requireFieldmask();function s(v){var b;if(typeof v=="object"){if(((b=v?.constructor)===null||b===void 0?void 0:b.name)==="Long")return v.toString();throw new Error(`toProto3JSON: don't know how to convert value ${v}`)}return v}function h(v,b){const y=v.$type;if(!y)throw new Error("Cannot serialize object to proto3 JSON since its .$type is unknown. Use Type.fromObject(obj) before calling toProto3JSON.");y.resolveAll();const O=(0,a.getFullyQualifiedTypeName)(y);if(O===".google.protobuf.Any")return(0,e.googleProtobufAnyToProto3JSON)(v,b);if(O===".google.protobuf.Value")return(0,g.googleProtobufValueToProto3JSON)(v);if(O===".google.protobuf.Struct")return(0,g.googleProtobufStructToProto3JSON)(v);if(O===".google.protobuf.ListValue")return(0,g.googleProtobufListValueToProto3JSON)(v);if(O===".google.protobuf.Duration")return(0,m.googleProtobufDurationToProto3JSON)(v);if(O===".google.protobuf.Timestamp")return(0,c.googleProtobufTimestampToProto3JSON)(v);if(O===".google.protobuf.FieldMask")return(0,o.googleProtobufFieldMaskToProto3JSON)(v);if(a.wrapperTypes.has(O))return(0,l.wrapperToProto3JSON)(v);const w={};for(const[I,_]of Object.entries(v)){const T=y.fields[I],C=T.resolvedType,N=C?(0,a.getFullyQualifiedTypeName)(C):null;if(_===null){w[I]=null;continue}if(Array.isArray(_)){if(_.length===0)continue;w[I]=_.map(C?L=>h(L,b):s);continue}if(T.map){const L={};for(const[D,j]of Object.entries(_))L[D]=C?h(j,b):s(j);w[I]=L;continue}if(N===".google.protobuf.NullValue"){w[I]=null;continue}if(C&&"values"in C&&_!==null){b?.numericEnums?w[I]=(0,p.resolveEnumValueToNumber)(C,_):w[I]=(0,p.resolveEnumValueToString)(C,_);continue}if(C){w[I]=h(_,b);continue}if(typeof _=="string"||typeof _=="number"||typeof _=="boolean"||_===null){if(typeof _=="number"&&!Number.isFinite(_)){w[I]=_.toString();continue}w[I]=_;continue}if(Buffer.isBuffer(_)||_ instanceof Uint8Array){w[I]=(0,t.bytesToProto3JSON)(_);continue}w[I]=s(_)}return w}return toproto3json.toProto3JSON=h,toproto3json}var hasRequiredSrc$1;function requireSrc$1(){return hasRequiredSrc$1||(hasRequiredSrc$1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromProto3JSON=e.toProto3JSON=void 0;var t=requireToproto3json();Object.defineProperty(e,"toProto3JSON",{enumerable:!0,get:function(){return t.toProto3JSON}});var a=requireFromproto3json();Object.defineProperty(e,"fromProto3JSON",{enumerable:!0,get:function(){return a.fromProto3JSON}})})(src)),src}const nested$6={google:{nested:{protobuf:{nested:{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/errdetails;errdetails",java_multiple_files:!0,java_outer_classname:"ErrorDetailsProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}},RetryInfo:{fields:{retryDelay:{type:"google.protobuf.Duration",id:1}}},DebugInfo:{fields:{stackEntries:{rule:"repeated",type:"string",id:1},detail:{type:"string",id:2}}},QuotaFailure:{fields:{violations:{rule:"repeated",type:"Violation",id:1}},nested:{Violation:{fields:{subject:{type:"string",id:1},description:{type:"string",id:2}}}}},ErrorInfo:{fields:{reason:{type:"string",id:1},domain:{type:"string",id:2},metadata:{keyType:"string",type:"string",id:3}}},PreconditionFailure:{fields:{violations:{rule:"repeated",type:"Violation",id:1}},nested:{Violation:{fields:{type:{type:"string",id:1},subject:{type:"string",id:2},description:{type:"string",id:3}}}}},BadRequest:{fields:{fieldViolations:{rule:"repeated",type:"FieldViolation",id:1}},nested:{FieldViolation:{fields:{field:{type:"string",id:1},description:{type:"string",id:2}}}}},RequestInfo:{fields:{requestId:{type:"string",id:1},servingData:{type:"string",id:2}}},ResourceInfo:{fields:{resourceType:{type:"string",id:1},resourceName:{type:"string",id:2},owner:{type:"string",id:3},description:{type:"string",id:4}}},Help:{fields:{links:{rule:"repeated",type:"Link",id:1}},nested:{Link:{fields:{description:{type:"string",id:1},url:{type:"string",id:2}}}}},LocalizedMessage:{fields:{locale:{type:"string",id:1},message:{type:"string",id:2}}}}}}}},require$$4$1={nested:nested$6};var hasRequiredGoogleError;function requireGoogleError(){if(hasRequiredGoogleError)return googleError;hasRequiredGoogleError=1,Object.defineProperty(googleError,"__esModule",{value:!0}),googleError.GoogleErrorDecoder=googleError.GoogleError=void 0;const e=requireStatus(),t=requireProtobufjs(),a=requireSrc$1(),p=requireFallback();class g extends Error{static parseGRPCStatusDetails(l){const o=new m;try{if(l.metadata&&l.metadata.get("grpc-status-details-bin")){const s=o.decodeGRPCStatusDetails(l.metadata.get("grpc-status-details-bin"));s&&s.details&&s.details.length>0&&(l.statusDetails=s.details),s&&s.errorInfo&&(l.reason=s.errorInfo.reason,l.domain=s.errorInfo.domain,l.errorInfoMetadata=s.errorInfo.metadata)}}catch{}return l}static parseHttpError(l){Array.isArray(l)&&(l=l.find(v=>"error"in v)),l.error||(l.error={},Object.keys(l).filter(v=>v!=="error").forEach(v=>{l.error[v]=l[v],delete l[v]}));const o=new m,s=o.decodeHTTPError(l.error),h=Object.assign(new g(l.error.message),s);if(l.error.code?h.code=(0,e.rpcCodeFromHttpStatusCode)(l.error.code):delete h.code,h.details)try{const v=o.decodeHttpStatusDetails(h.details);v&&v.details&&v.details.length>0&&(h.statusDetails=v.details),v&&v.errorInfo&&(h.reason=v.errorInfo.reason,h.domain=v.errorInfo.domain,h.errorInfoMetadata=v.errorInfo.metadata)}catch{}return h}}googleError.GoogleError=g;class m{constructor(){const l=require$$4$1;this.root=t.Root.fromJSON(l),this.anyType=this.root.lookupType("google.protobuf.Any"),this.statusType=this.root.lookupType("google.rpc.Status")}decodeProtobufAny(l){const o=l.type_url.match(/^type.googleapis.com\/(.*)/);if(!o)throw new Error(`Unknown type encoded in google.protobuf.any: ${l.type_url}`);const s=o[1],h=this.root.lookupType(s);if(!h)throw new Error(`Cannot lookup type ${s}`);return h.decode(l.value)}decodeRpcStatus(l){const o=new Uint8Array(l),s=this.statusType.decode(o),h=[];let v;for(const y of s.details)try{const O=this.decodeProtobufAny(y);h.push(O),y.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(v=O)}catch{}return{code:s.code,message:s.message,statusDetails:h,reason:v?.reason,domain:v?.domain,errorInfoMetadata:v?.metadata}}callErrorFromStatus(l){return l.message=`${l.code} ${e.Status[l.code]}: ${l.message}`,Object.assign(new g(l.message),l)}decodeErrorFromBuffer(l){return this.callErrorFromStatus(this.decodeRpcStatus(l))}decodeGRPCStatusDetails(l){const o=[];let s;return l.forEach(v=>{const b=new Uint8Array(v),y=this.statusType.decode(b);for(const O of y.details)try{const w=this.decodeProtobufAny(O);o.push(w),O.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(s=w)}catch{}}),{details:o,errorInfo:s}}decodeHTTPError(l){const o=a.fromProto3JSON(this.statusType,l);if(!o)throw new Error(`Received error message ${l}, but failed to serialize as proto3 message`);return this.statusType.toObject(o,p.defaultToObjectOptions)}decodeHttpStatusDetails(l){const o=[];let s;for(const h of l)try{const v=this.decodeProtobufAny(h);o.push(v),h.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(s=v)}catch{}return{details:o,errorInfo:s}}}return googleError.GoogleErrorDecoder=m,googleError}var hasRequiredCall;function requireCall(){if(hasRequiredCall)return call;hasRequiredCall=1,Object.defineProperty(call,"__esModule",{value:!0}),call.OngoingCallPromise=call.OngoingCall=void 0;const e=requireStatus(),t=requireGoogleError();class a{constructor(m){this.callback=m,this.completed=!1}cancel(){if(!this.completed)if(this.completed=!0,this.cancelFunc)this.cancelFunc();else{const m=new t.GoogleError("cancelled");m.code=e.Status.CANCELLED,this.callback(m)}}call(m,c){if(this.completed)return;const l=m(c,(o,s,h,v)=>{this.completed=!0,setImmediate(this.callback,o,s,h,v)});l instanceof Promise&&l.catch(o=>{setImmediate(this.callback,new t.GoogleError(o),null,null,null)}),this.cancelFunc=()=>l.cancel()}}call.OngoingCall=a;class p extends a{constructor(){let m,c;const l=(s,h,v,b)=>{if(s)s.metadata?c(t.GoogleError.parseGRPCStatusDetails(s)):c(s);else if(h!==void 0)m([h,v||null,b||null]);else throw new t.GoogleError("Neither error nor response are defined")},o=new Promise((s,h)=>{m=s,c=h});super(l),this.promise=o,this.promise.cancel=()=>{this.cancel()}}}return call.OngoingCallPromise=p,call}var hasRequiredNormalApiCaller;function requireNormalApiCaller(){if(hasRequiredNormalApiCaller)return normalApiCaller;hasRequiredNormalApiCaller=1,Object.defineProperty(normalApiCaller,"__esModule",{value:!0}),normalApiCaller.NormalApiCaller=void 0;const e=requireCall();class t{init(p){return p?new e.OngoingCall(p):new e.OngoingCallPromise}wrap(p){return p}call(p,g,m,c){c.call(p,g)}fail(p,g){p.callback(g)}result(p){return p.promise}}return normalApiCaller.NormalApiCaller=t,normalApiCaller}var hasRequiredApiCaller;function requireApiCaller(){if(hasRequiredApiCaller)return apiCaller;hasRequiredApiCaller=1,Object.defineProperty(apiCaller,"__esModule",{value:!0}),apiCaller.createAPICaller=t;const e=requireNormalApiCaller();function t(a,p){return p?p.getApiCaller(a):new e.NormalApiCaller}return apiCaller}var retries={},timeout={},hasRequiredTimeout;function requireTimeout(){if(hasRequiredTimeout)return timeout;hasRequiredTimeout=1,Object.defineProperty(timeout,"__esModule",{value:!0}),timeout.addTimeoutArg=e;function e(t,a,p,g){return(m,c)=>{const l=new Date,o=p.options||{};o.deadline=new Date(l.getTime()+a);const s=p.metadataBuilder?p.metadataBuilder(g,p.headers||{}):null;return t(m,s,o,c)}}return timeout}var hasRequiredRetries;function requireRetries(){if(hasRequiredRetries)return retries;hasRequiredRetries=1,Object.defineProperty(retries,"__esModule",{value:!0}),retries.retryable=p;const e=requireStatus(),t=requireGoogleError(),a=requireTimeout();function p(g,m,c,l){const o=m.backoffSettings.retryDelayMultiplier,s=m.backoffSettings.maxRetryDelayMillis,h=m.backoffSettings.rpcTimeoutMultiplier,v=m.backoffSettings.maxRpcTimeoutMillis;let b=m.backoffSettings.initialRetryDelayMillis,y=m.backoffSettings.initialRpcTimeoutMillis;return(O,w)=>{let I,_,T=new Date,C;m.backoffSettings.totalTimeoutMillis&&(C=T.getTime()+m.backoffSettings.totalTimeoutMillis);let N=0;const L=m.backoffSettings.maxRetries;function D(j){if(_=null,C&&T.getTime()>=C){const G=new t.GoogleError(`Total timeout of API ${l} exceeded ${m.backoffSettings.totalTimeoutMillis} milliseconds ${j?`retrying error ${j} `:""} before any response was received.`);G.code=e.Status.DEADLINE_EXCEEDED,w(G);return}if(N&&N>=L){const G=new t.GoogleError("Exceeded maximum number of retries "+(j?`retrying error ${j} `:"")+"before any response was received");G.code=e.Status.DEADLINE_EXCEEDED,w(G);return}N++;let k=j;I=(0,a.addTimeoutArg)(g,y,c)(O,(G,J,W,K)=>{if(G&&G.code!==4&&(k=G),!G){w(null,J,W,K);return}if(I=null,m.retryCodes.length>0&&m.retryCodes.indexOf(G.code)<0)G.note="Exception occurred in retry method that was not classified as transient",w(G);else{const X=Math.random()*b;_=setTimeout(()=>{T=new Date,b=Math.min(b*o,s);const Y=y&&h?y*h:0,te=v||0,oe=C?C-T.getTime():0;y=Math.min(Y,te,oe),D(k)},X)}}),I instanceof Promise&&I.catch(G=>{w(new t.GoogleError(G))})}if(L&&C){const j=new t.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");j.code=e.Status.INVALID_ARGUMENT,w(j)}else D();return{cancel(){if(_&&clearTimeout(_),I)I.cancel();else{const j=new t.GoogleError("cancelled");j.code=e.Status.CANCELLED,w(j)}}}}}return retries}var streamingApiCaller={},streaming={},hasRequiredStreaming;function requireStreaming(){if(hasRequiredStreaming)return streaming;hasRequiredStreaming=1,Object.defineProperty(streaming,"__esModule",{value:!0}),streaming.StreamProxy=streaming.StreamType=void 0;const e=requireGax(),t=requireGoogleError(),a=requireStatus(),p=require$$1$3,g=requireDuplexify(),m=requireRetryRequest();var c;(function(s){s[s.SERVER_STREAMING=1]="SERVER_STREAMING",s[s.CLIENT_STREAMING=2]="CLIENT_STREAMING",s[s.BIDI_STREAMING=3]="BIDI_STREAMING"})(c||(streaming.StreamType=c={}));const l=null;class o extends g{constructor(h,v,b,y){super(void 0,void 0,{objectMode:!0,readable:h!==c.CLIENT_STREAMING,writable:h!==c.SERVER_STREAMING}),this.type=h,this._callback=v,this._isCancelCalled=!1,this._responseHasSent=!1,this.rest=b,this.gaxServerStreamingRetries=y}shouldRetryRequest(h,v){const b=t.GoogleError.parseGRPCStatusDetails(h);let y=this.defaultShouldRetry(b,v);return v.shouldRetryFn&&(y=v.shouldRetryFn(b)),y}cancel(){this.stream?this.stream.cancel():this._isCancelCalled=!0}throwIfMaxRetriesOrTotalTimeoutExceeded(h,v,b,y,O,w){const _=new Date().getTime();if(O&&(b===0||b<0||h&&_>=h)){const T=new t.GoogleError(`Total timeout of API exceeded ${O} milliseconds ${y?`retrying error ${y} `:""} before any response was received.`);throw T.code=a.Status.DEADLINE_EXCEEDED,T}if(v===0){const T=y;throw T.note="Max retries is set to zero.",T}if(w&&w>=v){const T=new t.GoogleError("Exceeded maximum number of retries "+(y?`retrying error ${y} `:"")+"before any response was received");throw T.code=a.Status.DEADLINE_EXCEEDED,T}}eventForwardHelper(h){["metadata","response","status"].forEach(b=>{h.on(b,this.emit.bind(this,b))})}statusMetadataHelper(h){h.on("status",()=>{this._responseHasSent||h.emit("response",{code:200,details:"",message:"OK"})}),h.on("metadata",v=>{h.emit("response",{code:200,details:"",message:"OK",metadata:v}),this._responseHasSent=!0})}forwardEvents(h){this.eventForwardHelper(h),this.statusMetadataHelper(h),h.on("error",v=>{t.GoogleError.parseGRPCStatusDetails(v)})}defaultShouldRetry(h,v){return!(v.retryCodes.length>0&&v.retryCodes.indexOf(h.code)<0||v.retryCodes.length===0)}setStream(h,v,b={},y){if(this.apiCall=h,this.argument=v,this.type===c.SERVER_STREAMING){if(this.rest){const w=h(v,this._callback);this.stream=w,this.setReadable(w)}else if(this.gaxServerStreamingRetries){const w=()=>{if(this._isCancelCalled){this.stream&&this.stream.cancel();return}return h(v,this._callback)},I=this.newStreamingRetryRequest({request:w,retry:y});this.stream=I,this.eventForwardHelper(I),this.setReadable(I)}else{const w=m(null,{objectMode:!0,request:()=>{if(this._isCancelCalled){this.stream&&this.stream.cancel();return}const I=h(v,this._callback);return this.stream=I,this.forwardEvents(I),I},retries:b.retries,currentRetryAttempt:b.currentRetryAttempt,noResponseRetries:b.noResponseRetries,shouldRetryFn:b.shouldRetryFn});this.setReadable(w)}return}const O=h(v,this._callback);this.stream=O,this.forwardEvents(O),this.type===c.CLIENT_STREAMING&&this.setWritable(O),this.type===c.BIDI_STREAMING&&(this.setReadable(O),this.setWritable(O)),this._isCancelCalled&&this.stream&&this.stream.cancel()}newStreamingRetryRequest(h){var v,b,y,O;const w=(v=h.retry)!==null&&v!==void 0?v:{retryCodes:[],backoffSettings:(0,e.createDefaultBackoffSettings)()};let I=0;const _=new p.PassThrough({objectMode:!0}),T=(b=w.backoffSettings.totalTimeoutMillis)!==null&&b!==void 0?b:void 0,C=(y=w.backoffSettings.maxRetries)!==null&&y!==void 0?y:void 0;let N=(O=w.backoffSettings.initialRpcTimeoutMillis)!==null&&O!==void 0?O:void 0,L=new Date,D=0;T&&(D=L.getTime()+T);const j=(V,G)=>{const J=t.GoogleError.parseGRPCStatusDetails(V);return J.note="Exception occurred in retry method that was not classified as transient",G.destroy(),_.destroy(J),_},k=V=>{let G=!1,J=!1,W=!1;const K=V.request(l);return _.cancel=K.cancel,["metadata","response","status"].forEach(Y=>{K.on(Y,_.emit.bind(_,Y))}),this.statusMetadataHelper(K),K.on("data",Y=>{I=0,this.emit.bind(this,"data")(Y)}),K.on("status",()=>(J=!0,G&&_.end(),_)),K.on("end",()=>(W||(G=!0,J&&_.end()),_)),K.on("error",Y=>{if(W=!0,typeof C!==void 0||typeof T!==void 0)if(this.shouldRetryRequest(Y,w))if(C&&T){const te=new t.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");return te.code=a.Status.INVALID_ARGUMENT,K.destroy(),_.destroy(te),_}else{try{this.throwIfMaxRetriesOrTotalTimeoutExceeded(D,C,N,Y,T,I)}catch(ge){const me=t.GoogleError.parseGRPCStatusDetails(ge);return K.destroy(),_.destroy(me),_}const te=w.backoffSettings.retryDelayMultiplier,oe=w.backoffSettings.maxRetryDelayMillis,le=w.backoffSettings.rpcTimeoutMultiplier,ee=w.backoffSettings.maxRpcTimeoutMillis;let se=w.backoffSettings.initialRetryDelayMillis;const de=Math.random()*se;return void setTimeout(()=>{if(N){L=new Date,se=Math.min(se*te,oe);const Oe=N&&le?N*le:0,fe=ee||0,_e=D?D-L.getTime():0;N=Math.min(Oe,fe,_e)}I++;let ge=this.argument;w.getResumptionRequestFn!==void 0&&(ge=w.getResumptionRequestFn(ge));const me=()=>{if(this._isCancelCalled){this.stream&&this.stream.cancel();return}return this.apiCall(ge,this._callback)};return h.request=me,k(h)},de)}else return j(Y,K);else return j(Y,K)}),_};return k(h)}}return streaming.StreamProxy=o,streaming}var hasRequiredStreamingApiCaller;function requireStreamingApiCaller(){if(hasRequiredStreamingApiCaller)return streamingApiCaller;hasRequiredStreamingApiCaller=1,Object.defineProperty(streamingApiCaller,"__esModule",{value:!0}),streamingApiCaller.StreamingApiCaller=void 0;const e=requireWarnings(),t=requireStreaming();class a{constructor(g){this.descriptor=g}init(g){return new t.StreamProxy(this.descriptor.type,g,this.descriptor.rest,this.descriptor.gaxStreamingRetries)}wrap(g){switch(this.descriptor.type){case t.StreamType.SERVER_STREAMING:return(m,c,l)=>g(m,c,l);case t.StreamType.CLIENT_STREAMING:return(m,c,l,o)=>g(c,l,o);case t.StreamType.BIDI_STREAMING:return(m,c,l)=>g(c,l);default:(0,e.warn)("streaming_wrap_unknown_stream_type",`Unknown stream type: ${this.descriptor.type}`)}return g}call(g,m,c,l){l.setStream(g,m,c.retryRequestOptions,c.retry)}fail(g,m){g.emit("error",m)}result(g){return g}}return streamingApiCaller.StreamingApiCaller=a,streamingApiCaller}var hasRequiredCreateApiCall;function requireCreateApiCall(){if(hasRequiredCreateApiCall)return createApiCall;hasRequiredCreateApiCall=1,Object.defineProperty(createApiCall,"__esModule",{value:!0}),createApiCall.createApiCall=c;const e=requireApiCaller(),t=requireGax(),a=requireRetries(),p=requireTimeout(),g=requireStreamingApiCaller(),m=requireWarnings();function c(l,o,s,h){const v=typeof l=="function"?Promise.resolve(l):l,b=(0,e.createAPICaller)(o,s);return(y,O,w)=>{var I,_;let T=b,C;if(T instanceof g.StreamingApiCaller){const L=(_=(I=T.descriptor)===null||I===void 0?void 0:I.gaxStreamingRetries)!==null&&_!==void 0?_:!1,D=(0,t.convertRetryOptions)(O,L);C=o.merge(D)}else C=o.merge(O);o.isBundling&&!C.isBundling&&(T=(0,e.createAPICaller)(o,void 0));const N=T.init(w);return v.then(L=>{var D,j,k;L=T.wrap(L);const V=(D=T.descriptor)===null||D===void 0?void 0:D.streaming,G=C.retry;if(V&&G&&(G.retryCodes.length>0&&G.shouldRetryFn&&((0,m.warn)("either_retrycodes_or_shouldretryfn","Only one of retryCodes or shouldRetryFn may be defined. Ignoring retryCodes."),G.retryCodes=[]),!T.descriptor.gaxStreamingRetries&&G.getResumptionRequestFn))throw new Error("getResumptionRequestFn can only be used when gaxStreamingRetries is set to true.");if(!V&&G){if(G.shouldRetryFn)throw new Error("Using a function to determine retry eligibility is only supported with server streaming calls");if(G.getResumptionRequestFn)throw new Error("Resumption strategy can only be used with server streaming retries");if(G.retryCodes&&G.retryCodes.length>0)return(j=(k=G.backoffSettings).initialRpcTimeoutMillis)!==null&&j!==void 0||(k.initialRpcTimeoutMillis=C.timeout),(0,a.retryable)(L,C.retry,C.otherArgs,C.apiName)}return(0,p.addTimeoutArg)(L,C.timeout,C.otherArgs)}).then(L=>{T.call(L,y,C,N)}).catch(L=>{T.fail(N,L)}),T.result(N)}}return createApiCall}var descriptor={},longRunningDescriptor={},longRunningApiCaller={},longrunning={},operations={exports:{}},minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var hasRequiredOperations;function requireOperations(){return hasRequiredOperations||(hasRequiredOperations=1,(function(e){(t=>{typeof commonjsRequire=="function"&&e&&e.exports&&(e.exports=t(requireMinimal()))})(function(t){var a,p,g,m,c=t.Reader,l=t.Writer,o=t.util,s=t.roots.operations_protos||(t.roots.operations_protos={});function h(u,x,M){t.rpc.Service.call(this,u,x,M)}function v(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function b(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function y(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function O(u){if(this.operations=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function w(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function I(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function _(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function T(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function C(u){if(this.rules=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function N(u){if(this.additionalBindings=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function L(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function D(u){if(this.file=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function j(u){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function k(u){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function V(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function G(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function J(u){if(this.uninterpretedOption=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function W(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function K(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function X(u){if(this.value=[],this.reservedRange=[],this.reservedName=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function Y(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function te(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function oe(u){if(this.method=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function le(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function ee(u){if(this.uninterpretedOption=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function se(u){if(this.uninterpretedOption=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function de(u){if(this.uninterpretedOption=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function he(u){if(this.uninterpretedOption=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function ge(u){if(this.uninterpretedOption=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function me(u){if(this.uninterpretedOption=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function Oe(u){if(this.uninterpretedOption=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function fe(u){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function _e(u){if(this.name=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function Ee(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function z(u){if(this.location=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function d(u){if(this.path=[],this.span=[],this.leadingDetachedComments=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function P(u){if(this.annotation=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function A(u){if(this.path=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function $(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function ie(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function pe(u){if(u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}function ne(u){if(this.details=[],u)for(var x=Object.keys(u),M=0;M<x.length;++M)u[x[M]]!=null&&(this[x[M]]=u[x[M]])}return s.google=((m={}).longrunning=((p={}).Operations=(((h.prototype=Object.create(t.rpc.Service.prototype)).constructor=h).create=function(u,x,M){return new this(u,x,M)},Object.defineProperty(h.prototype.listOperations=function u(x,M){return this.rpcCall(u,s.google.longrunning.ListOperationsRequest,s.google.longrunning.ListOperationsResponse,x,M)},"name",{value:"ListOperations"}),Object.defineProperty(h.prototype.getOperation=function u(x,M){return this.rpcCall(u,s.google.longrunning.GetOperationRequest,s.google.longrunning.Operation,x,M)},"name",{value:"GetOperation"}),Object.defineProperty(h.prototype.deleteOperation=function u(x,M){return this.rpcCall(u,s.google.longrunning.DeleteOperationRequest,s.google.protobuf.Empty,x,M)},"name",{value:"DeleteOperation"}),Object.defineProperty(h.prototype.cancelOperation=function u(x,M){return this.rpcCall(u,s.google.longrunning.CancelOperationRequest,s.google.protobuf.Empty,x,M)},"name",{value:"CancelOperation"}),Object.defineProperty(h.prototype.waitOperation=function u(x,M){return this.rpcCall(u,s.google.longrunning.WaitOperationRequest,s.google.longrunning.Operation,x,M)},"name",{value:"WaitOperation"}),h),p.Operation=(v.prototype.name="",v.prototype.metadata=null,v.prototype.done=!1,v.prototype.error=null,v.prototype.response=null,Object.defineProperty(v.prototype,"result",{get:o.oneOfGetter(g=["error","response"]),set:o.oneOfSetter(g)}),v.create=function(u){return new v(u)},v.encode=function(u,x){return x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),u.metadata!=null&&Object.hasOwnProperty.call(u,"metadata")&&s.google.protobuf.Any.encode(u.metadata,x.uint32(18).fork()).ldelim(),u.done!=null&&Object.hasOwnProperty.call(u,"done")&&x.uint32(24).bool(u.done),u.error!=null&&Object.hasOwnProperty.call(u,"error")&&s.google.rpc.Status.encode(u.error,x.uint32(34).fork()).ldelim(),u.response!=null&&Object.hasOwnProperty.call(u,"response")&&s.google.protobuf.Any.encode(u.response,x.uint32(42).fork()).ldelim(),x},v.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},v.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.longrunning.Operation;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.name=u.string();break;case 2:n.metadata=s.google.protobuf.Any.decode(u,u.uint32());break;case 3:n.done=u.bool();break;case 4:n.error=s.google.rpc.Status.decode(u,u.uint32());break;case 5:n.response=s.google.protobuf.Any.decode(u,u.uint32());break;default:u.skipType(7&q)}}return n},v.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},v.verify=function(u){if(typeof u!="object"||u===null)return"object expected";var x,M={};if(u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name))return"name: string expected";if(u.metadata!=null&&u.hasOwnProperty("metadata")&&(x=s.google.protobuf.Any.verify(u.metadata)))return"metadata."+x;if(u.done!=null&&u.hasOwnProperty("done")&&typeof u.done!="boolean")return"done: boolean expected";if(u.error!=null&&u.hasOwnProperty("error")&&(M.result=1,x=s.google.rpc.Status.verify(u.error)))return"error."+x;if(u.response!=null&&u.hasOwnProperty("response")){if(M.result===1)return"result: multiple values";if(M.result=1,x=s.google.protobuf.Any.verify(u.response))return"response."+x}return null},v.fromObject=function(u){if(u instanceof s.google.longrunning.Operation)return u;var x=new s.google.longrunning.Operation;if(u.name!=null&&(x.name=String(u.name)),u.metadata!=null){if(typeof u.metadata!="object")throw TypeError(".google.longrunning.Operation.metadata: object expected");x.metadata=s.google.protobuf.Any.fromObject(u.metadata)}if(u.done!=null&&(x.done=!!u.done),u.error!=null){if(typeof u.error!="object")throw TypeError(".google.longrunning.Operation.error: object expected");x.error=s.google.rpc.Status.fromObject(u.error)}if(u.response!=null){if(typeof u.response!="object")throw TypeError(".google.longrunning.Operation.response: object expected");x.response=s.google.protobuf.Any.fromObject(u.response)}return x},v.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.name="",M.metadata=null,M.done=!1),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),u.metadata!=null&&u.hasOwnProperty("metadata")&&(M.metadata=s.google.protobuf.Any.toObject(u.metadata,x)),u.done!=null&&u.hasOwnProperty("done")&&(M.done=u.done),u.error!=null&&u.hasOwnProperty("error")&&(M.error=s.google.rpc.Status.toObject(u.error,x),x.oneofs)&&(M.result="error"),u.response!=null&&u.hasOwnProperty("response")&&(M.response=s.google.protobuf.Any.toObject(u.response,x),x.oneofs)&&(M.result="response"),M},v.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},v),p.GetOperationRequest=(b.prototype.name="",b.create=function(u){return new b(u)},b.encode=function(u,x){return x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),x},b.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},b.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.longrunning.GetOperationRequest;u.pos<M;){var q=u.uint32();q>>>3==1?n.name=u.string():u.skipType(7&q)}return n},b.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},b.verify=function(u){return typeof u!="object"||u===null?"object expected":u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name)?"name: string expected":null},b.fromObject=function(u){var x;return u instanceof s.google.longrunning.GetOperationRequest?u:(x=new s.google.longrunning.GetOperationRequest,u.name!=null&&(x.name=String(u.name)),x)},b.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.name=""),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),M},b.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},b),p.ListOperationsRequest=(y.prototype.name="",y.prototype.filter="",y.prototype.pageSize=0,y.prototype.pageToken="",y.create=function(u){return new y(u)},y.encode=function(u,x){return x=x||l.create(),u.filter!=null&&Object.hasOwnProperty.call(u,"filter")&&x.uint32(10).string(u.filter),u.pageSize!=null&&Object.hasOwnProperty.call(u,"pageSize")&&x.uint32(16).int32(u.pageSize),u.pageToken!=null&&Object.hasOwnProperty.call(u,"pageToken")&&x.uint32(26).string(u.pageToken),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(34).string(u.name),x},y.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},y.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.longrunning.ListOperationsRequest;u.pos<M;){var q=u.uint32();switch(q>>>3){case 4:n.name=u.string();break;case 1:n.filter=u.string();break;case 2:n.pageSize=u.int32();break;case 3:n.pageToken=u.string();break;default:u.skipType(7&q)}}return n},y.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},y.verify=function(u){return typeof u!="object"||u===null?"object expected":u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name)?"name: string expected":u.filter!=null&&u.hasOwnProperty("filter")&&!o.isString(u.filter)?"filter: string expected":u.pageSize!=null&&u.hasOwnProperty("pageSize")&&!o.isInteger(u.pageSize)?"pageSize: integer expected":u.pageToken!=null&&u.hasOwnProperty("pageToken")&&!o.isString(u.pageToken)?"pageToken: string expected":null},y.fromObject=function(u){var x;return u instanceof s.google.longrunning.ListOperationsRequest?u:(x=new s.google.longrunning.ListOperationsRequest,u.name!=null&&(x.name=String(u.name)),u.filter!=null&&(x.filter=String(u.filter)),u.pageSize!=null&&(x.pageSize=0|u.pageSize),u.pageToken!=null&&(x.pageToken=String(u.pageToken)),x)},y.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.filter="",M.pageSize=0,M.pageToken="",M.name=""),u.filter!=null&&u.hasOwnProperty("filter")&&(M.filter=u.filter),u.pageSize!=null&&u.hasOwnProperty("pageSize")&&(M.pageSize=u.pageSize),u.pageToken!=null&&u.hasOwnProperty("pageToken")&&(M.pageToken=u.pageToken),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),M},y.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},y),p.ListOperationsResponse=(O.prototype.operations=o.emptyArray,O.prototype.nextPageToken="",O.create=function(u){return new O(u)},O.encode=function(u,x){if(x=x||l.create(),u.operations!=null&&u.operations.length)for(var M=0;M<u.operations.length;++M)s.google.longrunning.Operation.encode(u.operations[M],x.uint32(10).fork()).ldelim();return u.nextPageToken!=null&&Object.hasOwnProperty.call(u,"nextPageToken")&&x.uint32(18).string(u.nextPageToken),x},O.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},O.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.longrunning.ListOperationsResponse;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.operations&&n.operations.length||(n.operations=[]),n.operations.push(s.google.longrunning.Operation.decode(u,u.uint32()));break;case 2:n.nextPageToken=u.string();break;default:u.skipType(7&q)}}return n},O.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},O.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.operations!=null&&u.hasOwnProperty("operations")){if(!Array.isArray(u.operations))return"operations: array expected";for(var x=0;x<u.operations.length;++x){var M=s.google.longrunning.Operation.verify(u.operations[x]);if(M)return"operations."+M}}return u.nextPageToken!=null&&u.hasOwnProperty("nextPageToken")&&!o.isString(u.nextPageToken)?"nextPageToken: string expected":null},O.fromObject=function(u){if(u instanceof s.google.longrunning.ListOperationsResponse)return u;var x=new s.google.longrunning.ListOperationsResponse;if(u.operations){if(!Array.isArray(u.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");x.operations=[];for(var M=0;M<u.operations.length;++M){if(typeof u.operations[M]!="object")throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");x.operations[M]=s.google.longrunning.Operation.fromObject(u.operations[M])}}return u.nextPageToken!=null&&(x.nextPageToken=String(u.nextPageToken)),x},O.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.operations=[]),x.defaults&&(M.nextPageToken=""),u.operations&&u.operations.length){M.operations=[];for(var n=0;n<u.operations.length;++n)M.operations[n]=s.google.longrunning.Operation.toObject(u.operations[n],x)}return u.nextPageToken!=null&&u.hasOwnProperty("nextPageToken")&&(M.nextPageToken=u.nextPageToken),M},O.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},O),p.CancelOperationRequest=(w.prototype.name="",w.create=function(u){return new w(u)},w.encode=function(u,x){return x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),x},w.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},w.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.longrunning.CancelOperationRequest;u.pos<M;){var q=u.uint32();q>>>3==1?n.name=u.string():u.skipType(7&q)}return n},w.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},w.verify=function(u){return typeof u!="object"||u===null?"object expected":u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name)?"name: string expected":null},w.fromObject=function(u){var x;return u instanceof s.google.longrunning.CancelOperationRequest?u:(x=new s.google.longrunning.CancelOperationRequest,u.name!=null&&(x.name=String(u.name)),x)},w.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.name=""),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),M},w.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},w),p.DeleteOperationRequest=(I.prototype.name="",I.create=function(u){return new I(u)},I.encode=function(u,x){return x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),x},I.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},I.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.longrunning.DeleteOperationRequest;u.pos<M;){var q=u.uint32();q>>>3==1?n.name=u.string():u.skipType(7&q)}return n},I.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},I.verify=function(u){return typeof u!="object"||u===null?"object expected":u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name)?"name: string expected":null},I.fromObject=function(u){var x;return u instanceof s.google.longrunning.DeleteOperationRequest?u:(x=new s.google.longrunning.DeleteOperationRequest,u.name!=null&&(x.name=String(u.name)),x)},I.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.name=""),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),M},I.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},I),p.WaitOperationRequest=(_.prototype.name="",_.prototype.timeout=null,_.create=function(u){return new _(u)},_.encode=function(u,x){return x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),u.timeout!=null&&Object.hasOwnProperty.call(u,"timeout")&&s.google.protobuf.Duration.encode(u.timeout,x.uint32(18).fork()).ldelim(),x},_.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},_.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.longrunning.WaitOperationRequest;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.name=u.string();break;case 2:n.timeout=s.google.protobuf.Duration.decode(u,u.uint32());break;default:u.skipType(7&q)}}return n},_.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},_.verify=function(u){return typeof u!="object"||u===null?"object expected":u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name)?"name: string expected":u.timeout!=null&&u.hasOwnProperty("timeout")&&(u=s.google.protobuf.Duration.verify(u.timeout),u)?"timeout."+u:null},_.fromObject=function(u){if(u instanceof s.google.longrunning.WaitOperationRequest)return u;var x=new s.google.longrunning.WaitOperationRequest;if(u.name!=null&&(x.name=String(u.name)),u.timeout!=null){if(typeof u.timeout!="object")throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");x.timeout=s.google.protobuf.Duration.fromObject(u.timeout)}return x},_.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.name="",M.timeout=null),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),u.timeout!=null&&u.hasOwnProperty("timeout")&&(M.timeout=s.google.protobuf.Duration.toObject(u.timeout,x)),M},_.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},_),p.OperationInfo=(T.prototype.responseType="",T.prototype.metadataType="",T.create=function(u){return new T(u)},T.encode=function(u,x){return x=x||l.create(),u.responseType!=null&&Object.hasOwnProperty.call(u,"responseType")&&x.uint32(10).string(u.responseType),u.metadataType!=null&&Object.hasOwnProperty.call(u,"metadataType")&&x.uint32(18).string(u.metadataType),x},T.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},T.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.longrunning.OperationInfo;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.responseType=u.string();break;case 2:n.metadataType=u.string();break;default:u.skipType(7&q)}}return n},T.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},T.verify=function(u){return typeof u!="object"||u===null?"object expected":u.responseType!=null&&u.hasOwnProperty("responseType")&&!o.isString(u.responseType)?"responseType: string expected":u.metadataType!=null&&u.hasOwnProperty("metadataType")&&!o.isString(u.metadataType)?"metadataType: string expected":null},T.fromObject=function(u){var x;return u instanceof s.google.longrunning.OperationInfo?u:(x=new s.google.longrunning.OperationInfo,u.responseType!=null&&(x.responseType=String(u.responseType)),u.metadataType!=null&&(x.metadataType=String(u.metadataType)),x)},T.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.responseType="",M.metadataType=""),u.responseType!=null&&u.hasOwnProperty("responseType")&&(M.responseType=u.responseType),u.metadataType!=null&&u.hasOwnProperty("metadataType")&&(M.metadataType=u.metadataType),M},T.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},T),p),m.api=((g={}).Http=(C.prototype.rules=o.emptyArray,C.prototype.fullyDecodeReservedExpansion=!1,C.create=function(u){return new C(u)},C.encode=function(u,x){if(x=x||l.create(),u.rules!=null&&u.rules.length)for(var M=0;M<u.rules.length;++M)s.google.api.HttpRule.encode(u.rules[M],x.uint32(10).fork()).ldelim();return u.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(u,"fullyDecodeReservedExpansion")&&x.uint32(16).bool(u.fullyDecodeReservedExpansion),x},C.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},C.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.api.Http;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.rules&&n.rules.length||(n.rules=[]),n.rules.push(s.google.api.HttpRule.decode(u,u.uint32()));break;case 2:n.fullyDecodeReservedExpansion=u.bool();break;default:u.skipType(7&q)}}return n},C.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},C.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.rules!=null&&u.hasOwnProperty("rules")){if(!Array.isArray(u.rules))return"rules: array expected";for(var x=0;x<u.rules.length;++x){var M=s.google.api.HttpRule.verify(u.rules[x]);if(M)return"rules."+M}}return u.fullyDecodeReservedExpansion!=null&&u.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof u.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},C.fromObject=function(u){if(u instanceof s.google.api.Http)return u;var x=new s.google.api.Http;if(u.rules){if(!Array.isArray(u.rules))throw TypeError(".google.api.Http.rules: array expected");x.rules=[];for(var M=0;M<u.rules.length;++M){if(typeof u.rules[M]!="object")throw TypeError(".google.api.Http.rules: object expected");x.rules[M]=s.google.api.HttpRule.fromObject(u.rules[M])}}return u.fullyDecodeReservedExpansion!=null&&(x.fullyDecodeReservedExpansion=!!u.fullyDecodeReservedExpansion),x},C.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.rules=[]),x.defaults&&(M.fullyDecodeReservedExpansion=!1),u.rules&&u.rules.length){M.rules=[];for(var n=0;n<u.rules.length;++n)M.rules[n]=s.google.api.HttpRule.toObject(u.rules[n],x)}return u.fullyDecodeReservedExpansion!=null&&u.hasOwnProperty("fullyDecodeReservedExpansion")&&(M.fullyDecodeReservedExpansion=u.fullyDecodeReservedExpansion),M},C.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},C),g.HttpRule=(N.prototype.selector="",N.prototype.get="",N.prototype.put="",N.prototype.post="",N.prototype.delete="",N.prototype.patch="",N.prototype.custom=null,N.prototype.body="",N.prototype.responseBody="",N.prototype.additionalBindings=o.emptyArray,Object.defineProperty(N.prototype,"pattern",{get:o.oneOfGetter(p=["get","put","post","delete","patch","custom"]),set:o.oneOfSetter(p)}),N.create=function(u){return new N(u)},N.encode=function(u,x){if(x=x||l.create(),u.selector!=null&&Object.hasOwnProperty.call(u,"selector")&&x.uint32(10).string(u.selector),u.get!=null&&Object.hasOwnProperty.call(u,"get")&&x.uint32(18).string(u.get),u.put!=null&&Object.hasOwnProperty.call(u,"put")&&x.uint32(26).string(u.put),u.post!=null&&Object.hasOwnProperty.call(u,"post")&&x.uint32(34).string(u.post),u.delete!=null&&Object.hasOwnProperty.call(u,"delete")&&x.uint32(42).string(u.delete),u.patch!=null&&Object.hasOwnProperty.call(u,"patch")&&x.uint32(50).string(u.patch),u.body!=null&&Object.hasOwnProperty.call(u,"body")&&x.uint32(58).string(u.body),u.custom!=null&&Object.hasOwnProperty.call(u,"custom")&&s.google.api.CustomHttpPattern.encode(u.custom,x.uint32(66).fork()).ldelim(),u.additionalBindings!=null&&u.additionalBindings.length)for(var M=0;M<u.additionalBindings.length;++M)s.google.api.HttpRule.encode(u.additionalBindings[M],x.uint32(90).fork()).ldelim();return u.responseBody!=null&&Object.hasOwnProperty.call(u,"responseBody")&&x.uint32(98).string(u.responseBody),x},N.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},N.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.api.HttpRule;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.selector=u.string();break;case 2:n.get=u.string();break;case 3:n.put=u.string();break;case 4:n.post=u.string();break;case 5:n.delete=u.string();break;case 6:n.patch=u.string();break;case 8:n.custom=s.google.api.CustomHttpPattern.decode(u,u.uint32());break;case 7:n.body=u.string();break;case 12:n.responseBody=u.string();break;case 11:n.additionalBindings&&n.additionalBindings.length||(n.additionalBindings=[]),n.additionalBindings.push(s.google.api.HttpRule.decode(u,u.uint32()));break;default:u.skipType(7&q)}}return n},N.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},N.verify=function(u){if(typeof u!="object"||u===null)return"object expected";var x={};if(u.selector!=null&&u.hasOwnProperty("selector")&&!o.isString(u.selector))return"selector: string expected";if(u.get!=null&&u.hasOwnProperty("get")&&(x.pattern=1,!o.isString(u.get)))return"get: string expected";if(u.put!=null&&u.hasOwnProperty("put")){if(x.pattern===1)return"pattern: multiple values";if(x.pattern=1,!o.isString(u.put))return"put: string expected"}if(u.post!=null&&u.hasOwnProperty("post")){if(x.pattern===1)return"pattern: multiple values";if(x.pattern=1,!o.isString(u.post))return"post: string expected"}if(u.delete!=null&&u.hasOwnProperty("delete")){if(x.pattern===1)return"pattern: multiple values";if(x.pattern=1,!o.isString(u.delete))return"delete: string expected"}if(u.patch!=null&&u.hasOwnProperty("patch")){if(x.pattern===1)return"pattern: multiple values";if(x.pattern=1,!o.isString(u.patch))return"patch: string expected"}if(u.custom!=null&&u.hasOwnProperty("custom")){if(x.pattern===1)return"pattern: multiple values";if(x.pattern=1,M=s.google.api.CustomHttpPattern.verify(u.custom))return"custom."+M}if(u.body!=null&&u.hasOwnProperty("body")&&!o.isString(u.body))return"body: string expected";if(u.responseBody!=null&&u.hasOwnProperty("responseBody")&&!o.isString(u.responseBody))return"responseBody: string expected";if(u.additionalBindings!=null&&u.hasOwnProperty("additionalBindings")){if(!Array.isArray(u.additionalBindings))return"additionalBindings: array expected";for(var M,n=0;n<u.additionalBindings.length;++n)if(M=s.google.api.HttpRule.verify(u.additionalBindings[n]))return"additionalBindings."+M}return null},N.fromObject=function(u){if(u instanceof s.google.api.HttpRule)return u;var x=new s.google.api.HttpRule;if(u.selector!=null&&(x.selector=String(u.selector)),u.get!=null&&(x.get=String(u.get)),u.put!=null&&(x.put=String(u.put)),u.post!=null&&(x.post=String(u.post)),u.delete!=null&&(x.delete=String(u.delete)),u.patch!=null&&(x.patch=String(u.patch)),u.custom!=null){if(typeof u.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");x.custom=s.google.api.CustomHttpPattern.fromObject(u.custom)}if(u.body!=null&&(x.body=String(u.body)),u.responseBody!=null&&(x.responseBody=String(u.responseBody)),u.additionalBindings){if(!Array.isArray(u.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");x.additionalBindings=[];for(var M=0;M<u.additionalBindings.length;++M){if(typeof u.additionalBindings[M]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");x.additionalBindings[M]=s.google.api.HttpRule.fromObject(u.additionalBindings[M])}}return x},N.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.additionalBindings=[]),x.defaults&&(M.selector="",M.body="",M.responseBody=""),u.selector!=null&&u.hasOwnProperty("selector")&&(M.selector=u.selector),u.get!=null&&u.hasOwnProperty("get")&&(M.get=u.get,x.oneofs)&&(M.pattern="get"),u.put!=null&&u.hasOwnProperty("put")&&(M.put=u.put,x.oneofs)&&(M.pattern="put"),u.post!=null&&u.hasOwnProperty("post")&&(M.post=u.post,x.oneofs)&&(M.pattern="post"),u.delete!=null&&u.hasOwnProperty("delete")&&(M.delete=u.delete,x.oneofs)&&(M.pattern="delete"),u.patch!=null&&u.hasOwnProperty("patch")&&(M.patch=u.patch,x.oneofs)&&(M.pattern="patch"),u.body!=null&&u.hasOwnProperty("body")&&(M.body=u.body),u.custom!=null&&u.hasOwnProperty("custom")&&(M.custom=s.google.api.CustomHttpPattern.toObject(u.custom,x),x.oneofs)&&(M.pattern="custom"),u.additionalBindings&&u.additionalBindings.length){M.additionalBindings=[];for(var n=0;n<u.additionalBindings.length;++n)M.additionalBindings[n]=s.google.api.HttpRule.toObject(u.additionalBindings[n],x)}return u.responseBody!=null&&u.hasOwnProperty("responseBody")&&(M.responseBody=u.responseBody),M},N.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},N),g.CustomHttpPattern=(L.prototype.kind="",L.prototype.path="",L.create=function(u){return new L(u)},L.encode=function(u,x){return x=x||l.create(),u.kind!=null&&Object.hasOwnProperty.call(u,"kind")&&x.uint32(10).string(u.kind),u.path!=null&&Object.hasOwnProperty.call(u,"path")&&x.uint32(18).string(u.path),x},L.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},L.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.api.CustomHttpPattern;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.kind=u.string();break;case 2:n.path=u.string();break;default:u.skipType(7&q)}}return n},L.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},L.verify=function(u){return typeof u!="object"||u===null?"object expected":u.kind!=null&&u.hasOwnProperty("kind")&&!o.isString(u.kind)?"kind: string expected":u.path!=null&&u.hasOwnProperty("path")&&!o.isString(u.path)?"path: string expected":null},L.fromObject=function(u){var x;return u instanceof s.google.api.CustomHttpPattern?u:(x=new s.google.api.CustomHttpPattern,u.kind!=null&&(x.kind=String(u.kind)),u.path!=null&&(x.path=String(u.path)),x)},L.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.kind="",M.path=""),u.kind!=null&&u.hasOwnProperty("kind")&&(M.kind=u.kind),u.path!=null&&u.hasOwnProperty("path")&&(M.path=u.path),M},L.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},L),g),m.protobuf=((p={}).FileDescriptorSet=(D.prototype.file=o.emptyArray,D.create=function(u){return new D(u)},D.encode=function(u,x){if(x=x||l.create(),u.file!=null&&u.file.length)for(var M=0;M<u.file.length;++M)s.google.protobuf.FileDescriptorProto.encode(u.file[M],x.uint32(10).fork()).ldelim();return x},D.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},D.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.FileDescriptorSet;u.pos<M;){var q=u.uint32();q>>>3==1?(n.file&&n.file.length||(n.file=[]),n.file.push(s.google.protobuf.FileDescriptorProto.decode(u,u.uint32()))):u.skipType(7&q)}return n},D.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},D.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.file!=null&&u.hasOwnProperty("file")){if(!Array.isArray(u.file))return"file: array expected";for(var x=0;x<u.file.length;++x){var M=s.google.protobuf.FileDescriptorProto.verify(u.file[x]);if(M)return"file."+M}}return null},D.fromObject=function(u){if(u instanceof s.google.protobuf.FileDescriptorSet)return u;var x=new s.google.protobuf.FileDescriptorSet;if(u.file){if(!Array.isArray(u.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");x.file=[];for(var M=0;M<u.file.length;++M){if(typeof u.file[M]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");x.file[M]=s.google.protobuf.FileDescriptorProto.fromObject(u.file[M])}}return x},D.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.file=[]),u.file&&u.file.length){M.file=[];for(var n=0;n<u.file.length;++n)M.file[n]=s.google.protobuf.FileDescriptorProto.toObject(u.file[n],x)}return M},D.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},D),p.FileDescriptorProto=(j.prototype.name="",j.prototype.package="",j.prototype.dependency=o.emptyArray,j.prototype.publicDependency=o.emptyArray,j.prototype.weakDependency=o.emptyArray,j.prototype.messageType=o.emptyArray,j.prototype.enumType=o.emptyArray,j.prototype.service=o.emptyArray,j.prototype.extension=o.emptyArray,j.prototype.options=null,j.prototype.sourceCodeInfo=null,j.prototype.syntax="",j.create=function(u){return new j(u)},j.encode=function(u,x){if(x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),u.package!=null&&Object.hasOwnProperty.call(u,"package")&&x.uint32(18).string(u.package),u.dependency!=null&&u.dependency.length)for(var M=0;M<u.dependency.length;++M)x.uint32(26).string(u.dependency[M]);if(u.messageType!=null&&u.messageType.length)for(M=0;M<u.messageType.length;++M)s.google.protobuf.DescriptorProto.encode(u.messageType[M],x.uint32(34).fork()).ldelim();if(u.enumType!=null&&u.enumType.length)for(M=0;M<u.enumType.length;++M)s.google.protobuf.EnumDescriptorProto.encode(u.enumType[M],x.uint32(42).fork()).ldelim();if(u.service!=null&&u.service.length)for(M=0;M<u.service.length;++M)s.google.protobuf.ServiceDescriptorProto.encode(u.service[M],x.uint32(50).fork()).ldelim();if(u.extension!=null&&u.extension.length)for(M=0;M<u.extension.length;++M)s.google.protobuf.FieldDescriptorProto.encode(u.extension[M],x.uint32(58).fork()).ldelim();if(u.options!=null&&Object.hasOwnProperty.call(u,"options")&&s.google.protobuf.FileOptions.encode(u.options,x.uint32(66).fork()).ldelim(),u.sourceCodeInfo!=null&&Object.hasOwnProperty.call(u,"sourceCodeInfo")&&s.google.protobuf.SourceCodeInfo.encode(u.sourceCodeInfo,x.uint32(74).fork()).ldelim(),u.publicDependency!=null&&u.publicDependency.length)for(M=0;M<u.publicDependency.length;++M)x.uint32(80).int32(u.publicDependency[M]);if(u.weakDependency!=null&&u.weakDependency.length)for(M=0;M<u.weakDependency.length;++M)x.uint32(88).int32(u.weakDependency[M]);return u.syntax!=null&&Object.hasOwnProperty.call(u,"syntax")&&x.uint32(98).string(u.syntax),x},j.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},j.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.FileDescriptorProto;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.name=u.string();break;case 2:n.package=u.string();break;case 3:n.dependency&&n.dependency.length||(n.dependency=[]),n.dependency.push(u.string());break;case 10:if(n.publicDependency&&n.publicDependency.length||(n.publicDependency=[]),(7&q)==2)for(var U=u.uint32()+u.pos;u.pos<U;)n.publicDependency.push(u.int32());else n.publicDependency.push(u.int32());break;case 11:if(n.weakDependency&&n.weakDependency.length||(n.weakDependency=[]),(7&q)==2)for(U=u.uint32()+u.pos;u.pos<U;)n.weakDependency.push(u.int32());else n.weakDependency.push(u.int32());break;case 4:n.messageType&&n.messageType.length||(n.messageType=[]),n.messageType.push(s.google.protobuf.DescriptorProto.decode(u,u.uint32()));break;case 5:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(s.google.protobuf.EnumDescriptorProto.decode(u,u.uint32()));break;case 6:n.service&&n.service.length||(n.service=[]),n.service.push(s.google.protobuf.ServiceDescriptorProto.decode(u,u.uint32()));break;case 7:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(s.google.protobuf.FieldDescriptorProto.decode(u,u.uint32()));break;case 8:n.options=s.google.protobuf.FileOptions.decode(u,u.uint32());break;case 9:n.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.decode(u,u.uint32());break;case 12:n.syntax=u.string();break;default:u.skipType(7&q)}}return n},j.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},j.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name))return"name: string expected";if(u.package!=null&&u.hasOwnProperty("package")&&!o.isString(u.package))return"package: string expected";if(u.dependency!=null&&u.hasOwnProperty("dependency")){if(!Array.isArray(u.dependency))return"dependency: array expected";for(var x=0;x<u.dependency.length;++x)if(!o.isString(u.dependency[x]))return"dependency: string[] expected"}if(u.publicDependency!=null&&u.hasOwnProperty("publicDependency")){if(!Array.isArray(u.publicDependency))return"publicDependency: array expected";for(x=0;x<u.publicDependency.length;++x)if(!o.isInteger(u.publicDependency[x]))return"publicDependency: integer[] expected"}if(u.weakDependency!=null&&u.hasOwnProperty("weakDependency")){if(!Array.isArray(u.weakDependency))return"weakDependency: array expected";for(x=0;x<u.weakDependency.length;++x)if(!o.isInteger(u.weakDependency[x]))return"weakDependency: integer[] expected"}if(u.messageType!=null&&u.hasOwnProperty("messageType")){if(!Array.isArray(u.messageType))return"messageType: array expected";for(x=0;x<u.messageType.length;++x)if(M=s.google.protobuf.DescriptorProto.verify(u.messageType[x]))return"messageType."+M}if(u.enumType!=null&&u.hasOwnProperty("enumType")){if(!Array.isArray(u.enumType))return"enumType: array expected";for(x=0;x<u.enumType.length;++x)if(M=s.google.protobuf.EnumDescriptorProto.verify(u.enumType[x]))return"enumType."+M}if(u.service!=null&&u.hasOwnProperty("service")){if(!Array.isArray(u.service))return"service: array expected";for(x=0;x<u.service.length;++x)if(M=s.google.protobuf.ServiceDescriptorProto.verify(u.service[x]))return"service."+M}if(u.extension!=null&&u.hasOwnProperty("extension")){if(!Array.isArray(u.extension))return"extension: array expected";for(x=0;x<u.extension.length;++x)if(M=s.google.protobuf.FieldDescriptorProto.verify(u.extension[x]))return"extension."+M}var M;return u.options!=null&&u.hasOwnProperty("options")&&(M=s.google.protobuf.FileOptions.verify(u.options))?"options."+M:u.sourceCodeInfo!=null&&u.hasOwnProperty("sourceCodeInfo")&&(M=s.google.protobuf.SourceCodeInfo.verify(u.sourceCodeInfo))?"sourceCodeInfo."+M:u.syntax!=null&&u.hasOwnProperty("syntax")&&!o.isString(u.syntax)?"syntax: string expected":null},j.fromObject=function(u){if(u instanceof s.google.protobuf.FileDescriptorProto)return u;var x=new s.google.protobuf.FileDescriptorProto;if(u.name!=null&&(x.name=String(u.name)),u.package!=null&&(x.package=String(u.package)),u.dependency){if(!Array.isArray(u.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");x.dependency=[];for(var M=0;M<u.dependency.length;++M)x.dependency[M]=String(u.dependency[M])}if(u.publicDependency){if(!Array.isArray(u.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(x.publicDependency=[],M=0;M<u.publicDependency.length;++M)x.publicDependency[M]=0|u.publicDependency[M]}if(u.weakDependency){if(!Array.isArray(u.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(x.weakDependency=[],M=0;M<u.weakDependency.length;++M)x.weakDependency[M]=0|u.weakDependency[M]}if(u.messageType){if(!Array.isArray(u.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(x.messageType=[],M=0;M<u.messageType.length;++M){if(typeof u.messageType[M]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");x.messageType[M]=s.google.protobuf.DescriptorProto.fromObject(u.messageType[M])}}if(u.enumType){if(!Array.isArray(u.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(x.enumType=[],M=0;M<u.enumType.length;++M){if(typeof u.enumType[M]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");x.enumType[M]=s.google.protobuf.EnumDescriptorProto.fromObject(u.enumType[M])}}if(u.service){if(!Array.isArray(u.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(x.service=[],M=0;M<u.service.length;++M){if(typeof u.service[M]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");x.service[M]=s.google.protobuf.ServiceDescriptorProto.fromObject(u.service[M])}}if(u.extension){if(!Array.isArray(u.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(x.extension=[],M=0;M<u.extension.length;++M){if(typeof u.extension[M]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");x.extension[M]=s.google.protobuf.FieldDescriptorProto.fromObject(u.extension[M])}}if(u.options!=null){if(typeof u.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");x.options=s.google.protobuf.FileOptions.fromObject(u.options)}if(u.sourceCodeInfo!=null){if(typeof u.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");x.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.fromObject(u.sourceCodeInfo)}return u.syntax!=null&&(x.syntax=String(u.syntax)),x},j.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.dependency=[],M.messageType=[],M.enumType=[],M.service=[],M.extension=[],M.publicDependency=[],M.weakDependency=[]),x.defaults&&(M.name="",M.package="",M.options=null,M.sourceCodeInfo=null,M.syntax=""),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),u.package!=null&&u.hasOwnProperty("package")&&(M.package=u.package),u.dependency&&u.dependency.length){M.dependency=[];for(var n=0;n<u.dependency.length;++n)M.dependency[n]=u.dependency[n]}if(u.messageType&&u.messageType.length)for(M.messageType=[],n=0;n<u.messageType.length;++n)M.messageType[n]=s.google.protobuf.DescriptorProto.toObject(u.messageType[n],x);if(u.enumType&&u.enumType.length)for(M.enumType=[],n=0;n<u.enumType.length;++n)M.enumType[n]=s.google.protobuf.EnumDescriptorProto.toObject(u.enumType[n],x);if(u.service&&u.service.length)for(M.service=[],n=0;n<u.service.length;++n)M.service[n]=s.google.protobuf.ServiceDescriptorProto.toObject(u.service[n],x);if(u.extension&&u.extension.length)for(M.extension=[],n=0;n<u.extension.length;++n)M.extension[n]=s.google.protobuf.FieldDescriptorProto.toObject(u.extension[n],x);if(u.options!=null&&u.hasOwnProperty("options")&&(M.options=s.google.protobuf.FileOptions.toObject(u.options,x)),u.sourceCodeInfo!=null&&u.hasOwnProperty("sourceCodeInfo")&&(M.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.toObject(u.sourceCodeInfo,x)),u.publicDependency&&u.publicDependency.length)for(M.publicDependency=[],n=0;n<u.publicDependency.length;++n)M.publicDependency[n]=u.publicDependency[n];if(u.weakDependency&&u.weakDependency.length)for(M.weakDependency=[],n=0;n<u.weakDependency.length;++n)M.weakDependency[n]=u.weakDependency[n];return u.syntax!=null&&u.hasOwnProperty("syntax")&&(M.syntax=u.syntax),M},j.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},j),p.DescriptorProto=(k.prototype.name="",k.prototype.field=o.emptyArray,k.prototype.extension=o.emptyArray,k.prototype.nestedType=o.emptyArray,k.prototype.enumType=o.emptyArray,k.prototype.extensionRange=o.emptyArray,k.prototype.oneofDecl=o.emptyArray,k.prototype.options=null,k.prototype.reservedRange=o.emptyArray,k.prototype.reservedName=o.emptyArray,k.create=function(u){return new k(u)},k.encode=function(u,x){if(x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),u.field!=null&&u.field.length)for(var M=0;M<u.field.length;++M)s.google.protobuf.FieldDescriptorProto.encode(u.field[M],x.uint32(18).fork()).ldelim();if(u.nestedType!=null&&u.nestedType.length)for(M=0;M<u.nestedType.length;++M)s.google.protobuf.DescriptorProto.encode(u.nestedType[M],x.uint32(26).fork()).ldelim();if(u.enumType!=null&&u.enumType.length)for(M=0;M<u.enumType.length;++M)s.google.protobuf.EnumDescriptorProto.encode(u.enumType[M],x.uint32(34).fork()).ldelim();if(u.extensionRange!=null&&u.extensionRange.length)for(M=0;M<u.extensionRange.length;++M)s.google.protobuf.DescriptorProto.ExtensionRange.encode(u.extensionRange[M],x.uint32(42).fork()).ldelim();if(u.extension!=null&&u.extension.length)for(M=0;M<u.extension.length;++M)s.google.protobuf.FieldDescriptorProto.encode(u.extension[M],x.uint32(50).fork()).ldelim();if(u.options!=null&&Object.hasOwnProperty.call(u,"options")&&s.google.protobuf.MessageOptions.encode(u.options,x.uint32(58).fork()).ldelim(),u.oneofDecl!=null&&u.oneofDecl.length)for(M=0;M<u.oneofDecl.length;++M)s.google.protobuf.OneofDescriptorProto.encode(u.oneofDecl[M],x.uint32(66).fork()).ldelim();if(u.reservedRange!=null&&u.reservedRange.length)for(M=0;M<u.reservedRange.length;++M)s.google.protobuf.DescriptorProto.ReservedRange.encode(u.reservedRange[M],x.uint32(74).fork()).ldelim();if(u.reservedName!=null&&u.reservedName.length)for(M=0;M<u.reservedName.length;++M)x.uint32(82).string(u.reservedName[M]);return x},k.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},k.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.DescriptorProto;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.name=u.string();break;case 2:n.field&&n.field.length||(n.field=[]),n.field.push(s.google.protobuf.FieldDescriptorProto.decode(u,u.uint32()));break;case 6:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(s.google.protobuf.FieldDescriptorProto.decode(u,u.uint32()));break;case 3:n.nestedType&&n.nestedType.length||(n.nestedType=[]),n.nestedType.push(s.google.protobuf.DescriptorProto.decode(u,u.uint32()));break;case 4:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(s.google.protobuf.EnumDescriptorProto.decode(u,u.uint32()));break;case 5:n.extensionRange&&n.extensionRange.length||(n.extensionRange=[]),n.extensionRange.push(s.google.protobuf.DescriptorProto.ExtensionRange.decode(u,u.uint32()));break;case 8:n.oneofDecl&&n.oneofDecl.length||(n.oneofDecl=[]),n.oneofDecl.push(s.google.protobuf.OneofDescriptorProto.decode(u,u.uint32()));break;case 7:n.options=s.google.protobuf.MessageOptions.decode(u,u.uint32());break;case 9:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(s.google.protobuf.DescriptorProto.ReservedRange.decode(u,u.uint32()));break;case 10:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(u.string());break;default:u.skipType(7&q)}}return n},k.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},k.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name))return"name: string expected";if(u.field!=null&&u.hasOwnProperty("field")){if(!Array.isArray(u.field))return"field: array expected";for(var x=0;x<u.field.length;++x)if(M=s.google.protobuf.FieldDescriptorProto.verify(u.field[x]))return"field."+M}if(u.extension!=null&&u.hasOwnProperty("extension")){if(!Array.isArray(u.extension))return"extension: array expected";for(x=0;x<u.extension.length;++x)if(M=s.google.protobuf.FieldDescriptorProto.verify(u.extension[x]))return"extension."+M}if(u.nestedType!=null&&u.hasOwnProperty("nestedType")){if(!Array.isArray(u.nestedType))return"nestedType: array expected";for(x=0;x<u.nestedType.length;++x)if(M=s.google.protobuf.DescriptorProto.verify(u.nestedType[x]))return"nestedType."+M}if(u.enumType!=null&&u.hasOwnProperty("enumType")){if(!Array.isArray(u.enumType))return"enumType: array expected";for(x=0;x<u.enumType.length;++x)if(M=s.google.protobuf.EnumDescriptorProto.verify(u.enumType[x]))return"enumType."+M}if(u.extensionRange!=null&&u.hasOwnProperty("extensionRange")){if(!Array.isArray(u.extensionRange))return"extensionRange: array expected";for(x=0;x<u.extensionRange.length;++x)if(M=s.google.protobuf.DescriptorProto.ExtensionRange.verify(u.extensionRange[x]))return"extensionRange."+M}if(u.oneofDecl!=null&&u.hasOwnProperty("oneofDecl")){if(!Array.isArray(u.oneofDecl))return"oneofDecl: array expected";for(x=0;x<u.oneofDecl.length;++x)if(M=s.google.protobuf.OneofDescriptorProto.verify(u.oneofDecl[x]))return"oneofDecl."+M}if(u.options!=null&&u.hasOwnProperty("options")&&(M=s.google.protobuf.MessageOptions.verify(u.options)))return"options."+M;if(u.reservedRange!=null&&u.hasOwnProperty("reservedRange")){if(!Array.isArray(u.reservedRange))return"reservedRange: array expected";for(var M,x=0;x<u.reservedRange.length;++x)if(M=s.google.protobuf.DescriptorProto.ReservedRange.verify(u.reservedRange[x]))return"reservedRange."+M}if(u.reservedName!=null&&u.hasOwnProperty("reservedName")){if(!Array.isArray(u.reservedName))return"reservedName: array expected";for(x=0;x<u.reservedName.length;++x)if(!o.isString(u.reservedName[x]))return"reservedName: string[] expected"}return null},k.fromObject=function(u){if(u instanceof s.google.protobuf.DescriptorProto)return u;var x=new s.google.protobuf.DescriptorProto;if(u.name!=null&&(x.name=String(u.name)),u.field){if(!Array.isArray(u.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");x.field=[];for(var M=0;M<u.field.length;++M){if(typeof u.field[M]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");x.field[M]=s.google.protobuf.FieldDescriptorProto.fromObject(u.field[M])}}if(u.extension){if(!Array.isArray(u.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(x.extension=[],M=0;M<u.extension.length;++M){if(typeof u.extension[M]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");x.extension[M]=s.google.protobuf.FieldDescriptorProto.fromObject(u.extension[M])}}if(u.nestedType){if(!Array.isArray(u.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(x.nestedType=[],M=0;M<u.nestedType.length;++M){if(typeof u.nestedType[M]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");x.nestedType[M]=s.google.protobuf.DescriptorProto.fromObject(u.nestedType[M])}}if(u.enumType){if(!Array.isArray(u.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(x.enumType=[],M=0;M<u.enumType.length;++M){if(typeof u.enumType[M]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");x.enumType[M]=s.google.protobuf.EnumDescriptorProto.fromObject(u.enumType[M])}}if(u.extensionRange){if(!Array.isArray(u.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(x.extensionRange=[],M=0;M<u.extensionRange.length;++M){if(typeof u.extensionRange[M]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");x.extensionRange[M]=s.google.protobuf.DescriptorProto.ExtensionRange.fromObject(u.extensionRange[M])}}if(u.oneofDecl){if(!Array.isArray(u.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(x.oneofDecl=[],M=0;M<u.oneofDecl.length;++M){if(typeof u.oneofDecl[M]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");x.oneofDecl[M]=s.google.protobuf.OneofDescriptorProto.fromObject(u.oneofDecl[M])}}if(u.options!=null){if(typeof u.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");x.options=s.google.protobuf.MessageOptions.fromObject(u.options)}if(u.reservedRange){if(!Array.isArray(u.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(x.reservedRange=[],M=0;M<u.reservedRange.length;++M){if(typeof u.reservedRange[M]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");x.reservedRange[M]=s.google.protobuf.DescriptorProto.ReservedRange.fromObject(u.reservedRange[M])}}if(u.reservedName){if(!Array.isArray(u.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(x.reservedName=[],M=0;M<u.reservedName.length;++M)x.reservedName[M]=String(u.reservedName[M])}return x},k.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.field=[],M.nestedType=[],M.enumType=[],M.extensionRange=[],M.extension=[],M.oneofDecl=[],M.reservedRange=[],M.reservedName=[]),x.defaults&&(M.name="",M.options=null),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),u.field&&u.field.length){M.field=[];for(var n=0;n<u.field.length;++n)M.field[n]=s.google.protobuf.FieldDescriptorProto.toObject(u.field[n],x)}if(u.nestedType&&u.nestedType.length)for(M.nestedType=[],n=0;n<u.nestedType.length;++n)M.nestedType[n]=s.google.protobuf.DescriptorProto.toObject(u.nestedType[n],x);if(u.enumType&&u.enumType.length)for(M.enumType=[],n=0;n<u.enumType.length;++n)M.enumType[n]=s.google.protobuf.EnumDescriptorProto.toObject(u.enumType[n],x);if(u.extensionRange&&u.extensionRange.length)for(M.extensionRange=[],n=0;n<u.extensionRange.length;++n)M.extensionRange[n]=s.google.protobuf.DescriptorProto.ExtensionRange.toObject(u.extensionRange[n],x);if(u.extension&&u.extension.length)for(M.extension=[],n=0;n<u.extension.length;++n)M.extension[n]=s.google.protobuf.FieldDescriptorProto.toObject(u.extension[n],x);if(u.options!=null&&u.hasOwnProperty("options")&&(M.options=s.google.protobuf.MessageOptions.toObject(u.options,x)),u.oneofDecl&&u.oneofDecl.length)for(M.oneofDecl=[],n=0;n<u.oneofDecl.length;++n)M.oneofDecl[n]=s.google.protobuf.OneofDescriptorProto.toObject(u.oneofDecl[n],x);if(u.reservedRange&&u.reservedRange.length)for(M.reservedRange=[],n=0;n<u.reservedRange.length;++n)M.reservedRange[n]=s.google.protobuf.DescriptorProto.ReservedRange.toObject(u.reservedRange[n],x);if(u.reservedName&&u.reservedName.length)for(M.reservedName=[],n=0;n<u.reservedName.length;++n)M.reservedName[n]=u.reservedName[n];return M},k.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},k.ExtensionRange=(V.prototype.start=0,V.prototype.end=0,V.prototype.options=null,V.create=function(u){return new V(u)},V.encode=function(u,x){return x=x||l.create(),u.start!=null&&Object.hasOwnProperty.call(u,"start")&&x.uint32(8).int32(u.start),u.end!=null&&Object.hasOwnProperty.call(u,"end")&&x.uint32(16).int32(u.end),u.options!=null&&Object.hasOwnProperty.call(u,"options")&&s.google.protobuf.ExtensionRangeOptions.encode(u.options,x.uint32(26).fork()).ldelim(),x},V.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},V.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.DescriptorProto.ExtensionRange;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.start=u.int32();break;case 2:n.end=u.int32();break;case 3:n.options=s.google.protobuf.ExtensionRangeOptions.decode(u,u.uint32());break;default:u.skipType(7&q)}}return n},V.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},V.verify=function(u){return typeof u!="object"||u===null?"object expected":u.start!=null&&u.hasOwnProperty("start")&&!o.isInteger(u.start)?"start: integer expected":u.end!=null&&u.hasOwnProperty("end")&&!o.isInteger(u.end)?"end: integer expected":u.options!=null&&u.hasOwnProperty("options")&&(u=s.google.protobuf.ExtensionRangeOptions.verify(u.options),u)?"options."+u:null},V.fromObject=function(u){if(u instanceof s.google.protobuf.DescriptorProto.ExtensionRange)return u;var x=new s.google.protobuf.DescriptorProto.ExtensionRange;if(u.start!=null&&(x.start=0|u.start),u.end!=null&&(x.end=0|u.end),u.options!=null){if(typeof u.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");x.options=s.google.protobuf.ExtensionRangeOptions.fromObject(u.options)}return x},V.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.start=0,M.end=0,M.options=null),u.start!=null&&u.hasOwnProperty("start")&&(M.start=u.start),u.end!=null&&u.hasOwnProperty("end")&&(M.end=u.end),u.options!=null&&u.hasOwnProperty("options")&&(M.options=s.google.protobuf.ExtensionRangeOptions.toObject(u.options,x)),M},V.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},V),k.ReservedRange=(G.prototype.start=0,G.prototype.end=0,G.create=function(u){return new G(u)},G.encode=function(u,x){return x=x||l.create(),u.start!=null&&Object.hasOwnProperty.call(u,"start")&&x.uint32(8).int32(u.start),u.end!=null&&Object.hasOwnProperty.call(u,"end")&&x.uint32(16).int32(u.end),x},G.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},G.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.DescriptorProto.ReservedRange;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.start=u.int32();break;case 2:n.end=u.int32();break;default:u.skipType(7&q)}}return n},G.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},G.verify=function(u){return typeof u!="object"||u===null?"object expected":u.start!=null&&u.hasOwnProperty("start")&&!o.isInteger(u.start)?"start: integer expected":u.end!=null&&u.hasOwnProperty("end")&&!o.isInteger(u.end)?"end: integer expected":null},G.fromObject=function(u){var x;return u instanceof s.google.protobuf.DescriptorProto.ReservedRange?u:(x=new s.google.protobuf.DescriptorProto.ReservedRange,u.start!=null&&(x.start=0|u.start),u.end!=null&&(x.end=0|u.end),x)},G.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.start=0,M.end=0),u.start!=null&&u.hasOwnProperty("start")&&(M.start=u.start),u.end!=null&&u.hasOwnProperty("end")&&(M.end=u.end),M},G.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},G),k),p.ExtensionRangeOptions=(J.prototype.uninterpretedOption=o.emptyArray,J.create=function(u){return new J(u)},J.encode=function(u,x){if(x=x||l.create(),u.uninterpretedOption!=null&&u.uninterpretedOption.length)for(var M=0;M<u.uninterpretedOption.length;++M)s.google.protobuf.UninterpretedOption.encode(u.uninterpretedOption[M],x.uint32(7994).fork()).ldelim();return x},J.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},J.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.ExtensionRangeOptions;u.pos<M;){var q=u.uint32();q>>>3==999?(n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(u,u.uint32()))):u.skipType(7&q)}return n},J.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},J.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.uninterpretedOption!=null&&u.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(u.uninterpretedOption))return"uninterpretedOption: array expected";for(var x=0;x<u.uninterpretedOption.length;++x){var M=s.google.protobuf.UninterpretedOption.verify(u.uninterpretedOption[x]);if(M)return"uninterpretedOption."+M}}return null},J.fromObject=function(u){if(u instanceof s.google.protobuf.ExtensionRangeOptions)return u;var x=new s.google.protobuf.ExtensionRangeOptions;if(u.uninterpretedOption){if(!Array.isArray(u.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");x.uninterpretedOption=[];for(var M=0;M<u.uninterpretedOption.length;++M){if(typeof u.uninterpretedOption[M]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");x.uninterpretedOption[M]=s.google.protobuf.UninterpretedOption.fromObject(u.uninterpretedOption[M])}}return x},J.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.uninterpretedOption=[]),u.uninterpretedOption&&u.uninterpretedOption.length){M.uninterpretedOption=[];for(var n=0;n<u.uninterpretedOption.length;++n)M.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(u.uninterpretedOption[n],x)}return M},J.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},J),p.FieldDescriptorProto=(W.prototype.name="",W.prototype.number=0,W.prototype.label=1,W.prototype.type=1,W.prototype.typeName="",W.prototype.extendee="",W.prototype.defaultValue="",W.prototype.oneofIndex=0,W.prototype.jsonName="",W.prototype.options=null,W.prototype.proto3Optional=!1,W.create=function(u){return new W(u)},W.encode=function(u,x){return x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),u.extendee!=null&&Object.hasOwnProperty.call(u,"extendee")&&x.uint32(18).string(u.extendee),u.number!=null&&Object.hasOwnProperty.call(u,"number")&&x.uint32(24).int32(u.number),u.label!=null&&Object.hasOwnProperty.call(u,"label")&&x.uint32(32).int32(u.label),u.type!=null&&Object.hasOwnProperty.call(u,"type")&&x.uint32(40).int32(u.type),u.typeName!=null&&Object.hasOwnProperty.call(u,"typeName")&&x.uint32(50).string(u.typeName),u.defaultValue!=null&&Object.hasOwnProperty.call(u,"defaultValue")&&x.uint32(58).string(u.defaultValue),u.options!=null&&Object.hasOwnProperty.call(u,"options")&&s.google.protobuf.FieldOptions.encode(u.options,x.uint32(66).fork()).ldelim(),u.oneofIndex!=null&&Object.hasOwnProperty.call(u,"oneofIndex")&&x.uint32(72).int32(u.oneofIndex),u.jsonName!=null&&Object.hasOwnProperty.call(u,"jsonName")&&x.uint32(82).string(u.jsonName),u.proto3Optional!=null&&Object.hasOwnProperty.call(u,"proto3Optional")&&x.uint32(136).bool(u.proto3Optional),x},W.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},W.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.FieldDescriptorProto;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.name=u.string();break;case 3:n.number=u.int32();break;case 4:n.label=u.int32();break;case 5:n.type=u.int32();break;case 6:n.typeName=u.string();break;case 2:n.extendee=u.string();break;case 7:n.defaultValue=u.string();break;case 9:n.oneofIndex=u.int32();break;case 10:n.jsonName=u.string();break;case 8:n.options=s.google.protobuf.FieldOptions.decode(u,u.uint32());break;case 17:n.proto3Optional=u.bool();break;default:u.skipType(7&q)}}return n},W.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},W.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name))return"name: string expected";if(u.number!=null&&u.hasOwnProperty("number")&&!o.isInteger(u.number))return"number: integer expected";if(u.label!=null&&u.hasOwnProperty("label"))switch(u.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(u.type!=null&&u.hasOwnProperty("type"))switch(u.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(u.typeName!=null&&u.hasOwnProperty("typeName")&&!o.isString(u.typeName))return"typeName: string expected";if(u.extendee!=null&&u.hasOwnProperty("extendee")&&!o.isString(u.extendee))return"extendee: string expected";if(u.defaultValue!=null&&u.hasOwnProperty("defaultValue")&&!o.isString(u.defaultValue))return"defaultValue: string expected";if(u.oneofIndex!=null&&u.hasOwnProperty("oneofIndex")&&!o.isInteger(u.oneofIndex))return"oneofIndex: integer expected";if(u.jsonName!=null&&u.hasOwnProperty("jsonName")&&!o.isString(u.jsonName))return"jsonName: string expected";if(u.options!=null&&u.hasOwnProperty("options")){var x=s.google.protobuf.FieldOptions.verify(u.options);if(x)return"options."+x}return u.proto3Optional!=null&&u.hasOwnProperty("proto3Optional")&&typeof u.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},W.fromObject=function(u){if(u instanceof s.google.protobuf.FieldDescriptorProto)return u;var x=new s.google.protobuf.FieldDescriptorProto;switch(u.name!=null&&(x.name=String(u.name)),u.number!=null&&(x.number=0|u.number),u.label){case"LABEL_OPTIONAL":case 1:x.label=1;break;case"LABEL_REQUIRED":case 2:x.label=2;break;case"LABEL_REPEATED":case 3:x.label=3}switch(u.type){case"TYPE_DOUBLE":case 1:x.type=1;break;case"TYPE_FLOAT":case 2:x.type=2;break;case"TYPE_INT64":case 3:x.type=3;break;case"TYPE_UINT64":case 4:x.type=4;break;case"TYPE_INT32":case 5:x.type=5;break;case"TYPE_FIXED64":case 6:x.type=6;break;case"TYPE_FIXED32":case 7:x.type=7;break;case"TYPE_BOOL":case 8:x.type=8;break;case"TYPE_STRING":case 9:x.type=9;break;case"TYPE_GROUP":case 10:x.type=10;break;case"TYPE_MESSAGE":case 11:x.type=11;break;case"TYPE_BYTES":case 12:x.type=12;break;case"TYPE_UINT32":case 13:x.type=13;break;case"TYPE_ENUM":case 14:x.type=14;break;case"TYPE_SFIXED32":case 15:x.type=15;break;case"TYPE_SFIXED64":case 16:x.type=16;break;case"TYPE_SINT32":case 17:x.type=17;break;case"TYPE_SINT64":case 18:x.type=18}if(u.typeName!=null&&(x.typeName=String(u.typeName)),u.extendee!=null&&(x.extendee=String(u.extendee)),u.defaultValue!=null&&(x.defaultValue=String(u.defaultValue)),u.oneofIndex!=null&&(x.oneofIndex=0|u.oneofIndex),u.jsonName!=null&&(x.jsonName=String(u.jsonName)),u.options!=null){if(typeof u.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");x.options=s.google.protobuf.FieldOptions.fromObject(u.options)}return u.proto3Optional!=null&&(x.proto3Optional=!!u.proto3Optional),x},W.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.name="",M.extendee="",M.number=0,M.label=x.enums===String?"LABEL_OPTIONAL":1,M.type=x.enums===String?"TYPE_DOUBLE":1,M.typeName="",M.defaultValue="",M.options=null,M.oneofIndex=0,M.jsonName="",M.proto3Optional=!1),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),u.extendee!=null&&u.hasOwnProperty("extendee")&&(M.extendee=u.extendee),u.number!=null&&u.hasOwnProperty("number")&&(M.number=u.number),u.label!=null&&u.hasOwnProperty("label")&&(M.label=x.enums===String?s.google.protobuf.FieldDescriptorProto.Label[u.label]:u.label),u.type!=null&&u.hasOwnProperty("type")&&(M.type=x.enums===String?s.google.protobuf.FieldDescriptorProto.Type[u.type]:u.type),u.typeName!=null&&u.hasOwnProperty("typeName")&&(M.typeName=u.typeName),u.defaultValue!=null&&u.hasOwnProperty("defaultValue")&&(M.defaultValue=u.defaultValue),u.options!=null&&u.hasOwnProperty("options")&&(M.options=s.google.protobuf.FieldOptions.toObject(u.options,x)),u.oneofIndex!=null&&u.hasOwnProperty("oneofIndex")&&(M.oneofIndex=u.oneofIndex),u.jsonName!=null&&u.hasOwnProperty("jsonName")&&(M.jsonName=u.jsonName),u.proto3Optional!=null&&u.hasOwnProperty("proto3Optional")&&(M.proto3Optional=u.proto3Optional),M},W.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},W.Type=(g={},(a=Object.create(g))[g[1]="TYPE_DOUBLE"]=1,a[g[2]="TYPE_FLOAT"]=2,a[g[3]="TYPE_INT64"]=3,a[g[4]="TYPE_UINT64"]=4,a[g[5]="TYPE_INT32"]=5,a[g[6]="TYPE_FIXED64"]=6,a[g[7]="TYPE_FIXED32"]=7,a[g[8]="TYPE_BOOL"]=8,a[g[9]="TYPE_STRING"]=9,a[g[10]="TYPE_GROUP"]=10,a[g[11]="TYPE_MESSAGE"]=11,a[g[12]="TYPE_BYTES"]=12,a[g[13]="TYPE_UINT32"]=13,a[g[14]="TYPE_ENUM"]=14,a[g[15]="TYPE_SFIXED32"]=15,a[g[16]="TYPE_SFIXED64"]=16,a[g[17]="TYPE_SINT32"]=17,a[g[18]="TYPE_SINT64"]=18,a),W.Label=(g={},(a=Object.create(g))[g[1]="LABEL_OPTIONAL"]=1,a[g[2]="LABEL_REQUIRED"]=2,a[g[3]="LABEL_REPEATED"]=3,a),W),p.OneofDescriptorProto=(K.prototype.name="",K.prototype.options=null,K.create=function(u){return new K(u)},K.encode=function(u,x){return x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),u.options!=null&&Object.hasOwnProperty.call(u,"options")&&s.google.protobuf.OneofOptions.encode(u.options,x.uint32(18).fork()).ldelim(),x},K.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},K.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.OneofDescriptorProto;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.name=u.string();break;case 2:n.options=s.google.protobuf.OneofOptions.decode(u,u.uint32());break;default:u.skipType(7&q)}}return n},K.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},K.verify=function(u){return typeof u!="object"||u===null?"object expected":u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name)?"name: string expected":u.options!=null&&u.hasOwnProperty("options")&&(u=s.google.protobuf.OneofOptions.verify(u.options),u)?"options."+u:null},K.fromObject=function(u){if(u instanceof s.google.protobuf.OneofDescriptorProto)return u;var x=new s.google.protobuf.OneofDescriptorProto;if(u.name!=null&&(x.name=String(u.name)),u.options!=null){if(typeof u.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");x.options=s.google.protobuf.OneofOptions.fromObject(u.options)}return x},K.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.name="",M.options=null),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),u.options!=null&&u.hasOwnProperty("options")&&(M.options=s.google.protobuf.OneofOptions.toObject(u.options,x)),M},K.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},K),p.EnumDescriptorProto=(X.prototype.name="",X.prototype.value=o.emptyArray,X.prototype.options=null,X.prototype.reservedRange=o.emptyArray,X.prototype.reservedName=o.emptyArray,X.create=function(u){return new X(u)},X.encode=function(u,x){if(x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),u.value!=null&&u.value.length)for(var M=0;M<u.value.length;++M)s.google.protobuf.EnumValueDescriptorProto.encode(u.value[M],x.uint32(18).fork()).ldelim();if(u.options!=null&&Object.hasOwnProperty.call(u,"options")&&s.google.protobuf.EnumOptions.encode(u.options,x.uint32(26).fork()).ldelim(),u.reservedRange!=null&&u.reservedRange.length)for(M=0;M<u.reservedRange.length;++M)s.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(u.reservedRange[M],x.uint32(34).fork()).ldelim();if(u.reservedName!=null&&u.reservedName.length)for(M=0;M<u.reservedName.length;++M)x.uint32(42).string(u.reservedName[M]);return x},X.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},X.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.EnumDescriptorProto;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.name=u.string();break;case 2:n.value&&n.value.length||(n.value=[]),n.value.push(s.google.protobuf.EnumValueDescriptorProto.decode(u,u.uint32()));break;case 3:n.options=s.google.protobuf.EnumOptions.decode(u,u.uint32());break;case 4:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(s.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(u,u.uint32()));break;case 5:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(u.string());break;default:u.skipType(7&q)}}return n},X.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},X.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name))return"name: string expected";if(u.value!=null&&u.hasOwnProperty("value")){if(!Array.isArray(u.value))return"value: array expected";for(var x=0;x<u.value.length;++x)if(M=s.google.protobuf.EnumValueDescriptorProto.verify(u.value[x]))return"value."+M}if(u.options!=null&&u.hasOwnProperty("options")&&(M=s.google.protobuf.EnumOptions.verify(u.options)))return"options."+M;if(u.reservedRange!=null&&u.hasOwnProperty("reservedRange")){if(!Array.isArray(u.reservedRange))return"reservedRange: array expected";for(var M,x=0;x<u.reservedRange.length;++x)if(M=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(u.reservedRange[x]))return"reservedRange."+M}if(u.reservedName!=null&&u.hasOwnProperty("reservedName")){if(!Array.isArray(u.reservedName))return"reservedName: array expected";for(x=0;x<u.reservedName.length;++x)if(!o.isString(u.reservedName[x]))return"reservedName: string[] expected"}return null},X.fromObject=function(u){if(u instanceof s.google.protobuf.EnumDescriptorProto)return u;var x=new s.google.protobuf.EnumDescriptorProto;if(u.name!=null&&(x.name=String(u.name)),u.value){if(!Array.isArray(u.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");x.value=[];for(var M=0;M<u.value.length;++M){if(typeof u.value[M]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");x.value[M]=s.google.protobuf.EnumValueDescriptorProto.fromObject(u.value[M])}}if(u.options!=null){if(typeof u.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");x.options=s.google.protobuf.EnumOptions.fromObject(u.options)}if(u.reservedRange){if(!Array.isArray(u.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(x.reservedRange=[],M=0;M<u.reservedRange.length;++M){if(typeof u.reservedRange[M]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");x.reservedRange[M]=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(u.reservedRange[M])}}if(u.reservedName){if(!Array.isArray(u.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(x.reservedName=[],M=0;M<u.reservedName.length;++M)x.reservedName[M]=String(u.reservedName[M])}return x},X.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.value=[],M.reservedRange=[],M.reservedName=[]),x.defaults&&(M.name="",M.options=null),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),u.value&&u.value.length){M.value=[];for(var n=0;n<u.value.length;++n)M.value[n]=s.google.protobuf.EnumValueDescriptorProto.toObject(u.value[n],x)}if(u.options!=null&&u.hasOwnProperty("options")&&(M.options=s.google.protobuf.EnumOptions.toObject(u.options,x)),u.reservedRange&&u.reservedRange.length)for(M.reservedRange=[],n=0;n<u.reservedRange.length;++n)M.reservedRange[n]=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(u.reservedRange[n],x);if(u.reservedName&&u.reservedName.length)for(M.reservedName=[],n=0;n<u.reservedName.length;++n)M.reservedName[n]=u.reservedName[n];return M},X.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},X.EnumReservedRange=(Y.prototype.start=0,Y.prototype.end=0,Y.create=function(u){return new Y(u)},Y.encode=function(u,x){return x=x||l.create(),u.start!=null&&Object.hasOwnProperty.call(u,"start")&&x.uint32(8).int32(u.start),u.end!=null&&Object.hasOwnProperty.call(u,"end")&&x.uint32(16).int32(u.end),x},Y.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},Y.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.EnumDescriptorProto.EnumReservedRange;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.start=u.int32();break;case 2:n.end=u.int32();break;default:u.skipType(7&q)}}return n},Y.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},Y.verify=function(u){return typeof u!="object"||u===null?"object expected":u.start!=null&&u.hasOwnProperty("start")&&!o.isInteger(u.start)?"start: integer expected":u.end!=null&&u.hasOwnProperty("end")&&!o.isInteger(u.end)?"end: integer expected":null},Y.fromObject=function(u){var x;return u instanceof s.google.protobuf.EnumDescriptorProto.EnumReservedRange?u:(x=new s.google.protobuf.EnumDescriptorProto.EnumReservedRange,u.start!=null&&(x.start=0|u.start),u.end!=null&&(x.end=0|u.end),x)},Y.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.start=0,M.end=0),u.start!=null&&u.hasOwnProperty("start")&&(M.start=u.start),u.end!=null&&u.hasOwnProperty("end")&&(M.end=u.end),M},Y.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Y),X),p.EnumValueDescriptorProto=(te.prototype.name="",te.prototype.number=0,te.prototype.options=null,te.create=function(u){return new te(u)},te.encode=function(u,x){return x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),u.number!=null&&Object.hasOwnProperty.call(u,"number")&&x.uint32(16).int32(u.number),u.options!=null&&Object.hasOwnProperty.call(u,"options")&&s.google.protobuf.EnumValueOptions.encode(u.options,x.uint32(26).fork()).ldelim(),x},te.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},te.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.EnumValueDescriptorProto;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.name=u.string();break;case 2:n.number=u.int32();break;case 3:n.options=s.google.protobuf.EnumValueOptions.decode(u,u.uint32());break;default:u.skipType(7&q)}}return n},te.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},te.verify=function(u){return typeof u!="object"||u===null?"object expected":u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name)?"name: string expected":u.number!=null&&u.hasOwnProperty("number")&&!o.isInteger(u.number)?"number: integer expected":u.options!=null&&u.hasOwnProperty("options")&&(u=s.google.protobuf.EnumValueOptions.verify(u.options),u)?"options."+u:null},te.fromObject=function(u){if(u instanceof s.google.protobuf.EnumValueDescriptorProto)return u;var x=new s.google.protobuf.EnumValueDescriptorProto;if(u.name!=null&&(x.name=String(u.name)),u.number!=null&&(x.number=0|u.number),u.options!=null){if(typeof u.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");x.options=s.google.protobuf.EnumValueOptions.fromObject(u.options)}return x},te.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.name="",M.number=0,M.options=null),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),u.number!=null&&u.hasOwnProperty("number")&&(M.number=u.number),u.options!=null&&u.hasOwnProperty("options")&&(M.options=s.google.protobuf.EnumValueOptions.toObject(u.options,x)),M},te.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},te),p.ServiceDescriptorProto=(oe.prototype.name="",oe.prototype.method=o.emptyArray,oe.prototype.options=null,oe.create=function(u){return new oe(u)},oe.encode=function(u,x){if(x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),u.method!=null&&u.method.length)for(var M=0;M<u.method.length;++M)s.google.protobuf.MethodDescriptorProto.encode(u.method[M],x.uint32(18).fork()).ldelim();return u.options!=null&&Object.hasOwnProperty.call(u,"options")&&s.google.protobuf.ServiceOptions.encode(u.options,x.uint32(26).fork()).ldelim(),x},oe.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},oe.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.ServiceDescriptorProto;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.name=u.string();break;case 2:n.method&&n.method.length||(n.method=[]),n.method.push(s.google.protobuf.MethodDescriptorProto.decode(u,u.uint32()));break;case 3:n.options=s.google.protobuf.ServiceOptions.decode(u,u.uint32());break;default:u.skipType(7&q)}}return n},oe.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},oe.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name))return"name: string expected";if(u.method!=null&&u.hasOwnProperty("method")){if(!Array.isArray(u.method))return"method: array expected";for(var x=0;x<u.method.length;++x)if(M=s.google.protobuf.MethodDescriptorProto.verify(u.method[x]))return"method."+M}var M;return u.options!=null&&u.hasOwnProperty("options")&&(M=s.google.protobuf.ServiceOptions.verify(u.options))?"options."+M:null},oe.fromObject=function(u){if(u instanceof s.google.protobuf.ServiceDescriptorProto)return u;var x=new s.google.protobuf.ServiceDescriptorProto;if(u.name!=null&&(x.name=String(u.name)),u.method){if(!Array.isArray(u.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");x.method=[];for(var M=0;M<u.method.length;++M){if(typeof u.method[M]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");x.method[M]=s.google.protobuf.MethodDescriptorProto.fromObject(u.method[M])}}if(u.options!=null){if(typeof u.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");x.options=s.google.protobuf.ServiceOptions.fromObject(u.options)}return x},oe.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.method=[]),x.defaults&&(M.name="",M.options=null),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),u.method&&u.method.length){M.method=[];for(var n=0;n<u.method.length;++n)M.method[n]=s.google.protobuf.MethodDescriptorProto.toObject(u.method[n],x)}return u.options!=null&&u.hasOwnProperty("options")&&(M.options=s.google.protobuf.ServiceOptions.toObject(u.options,x)),M},oe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},oe),p.MethodDescriptorProto=(le.prototype.name="",le.prototype.inputType="",le.prototype.outputType="",le.prototype.options=null,le.prototype.clientStreaming=!1,le.prototype.serverStreaming=!1,le.create=function(u){return new le(u)},le.encode=function(u,x){return x=x||l.create(),u.name!=null&&Object.hasOwnProperty.call(u,"name")&&x.uint32(10).string(u.name),u.inputType!=null&&Object.hasOwnProperty.call(u,"inputType")&&x.uint32(18).string(u.inputType),u.outputType!=null&&Object.hasOwnProperty.call(u,"outputType")&&x.uint32(26).string(u.outputType),u.options!=null&&Object.hasOwnProperty.call(u,"options")&&s.google.protobuf.MethodOptions.encode(u.options,x.uint32(34).fork()).ldelim(),u.clientStreaming!=null&&Object.hasOwnProperty.call(u,"clientStreaming")&&x.uint32(40).bool(u.clientStreaming),u.serverStreaming!=null&&Object.hasOwnProperty.call(u,"serverStreaming")&&x.uint32(48).bool(u.serverStreaming),x},le.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},le.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.MethodDescriptorProto;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.name=u.string();break;case 2:n.inputType=u.string();break;case 3:n.outputType=u.string();break;case 4:n.options=s.google.protobuf.MethodOptions.decode(u,u.uint32());break;case 5:n.clientStreaming=u.bool();break;case 6:n.serverStreaming=u.bool();break;default:u.skipType(7&q)}}return n},le.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},le.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.name!=null&&u.hasOwnProperty("name")&&!o.isString(u.name))return"name: string expected";if(u.inputType!=null&&u.hasOwnProperty("inputType")&&!o.isString(u.inputType))return"inputType: string expected";if(u.outputType!=null&&u.hasOwnProperty("outputType")&&!o.isString(u.outputType))return"outputType: string expected";if(u.options!=null&&u.hasOwnProperty("options")){var x=s.google.protobuf.MethodOptions.verify(u.options);if(x)return"options."+x}return u.clientStreaming!=null&&u.hasOwnProperty("clientStreaming")&&typeof u.clientStreaming!="boolean"?"clientStreaming: boolean expected":u.serverStreaming!=null&&u.hasOwnProperty("serverStreaming")&&typeof u.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},le.fromObject=function(u){if(u instanceof s.google.protobuf.MethodDescriptorProto)return u;var x=new s.google.protobuf.MethodDescriptorProto;if(u.name!=null&&(x.name=String(u.name)),u.inputType!=null&&(x.inputType=String(u.inputType)),u.outputType!=null&&(x.outputType=String(u.outputType)),u.options!=null){if(typeof u.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");x.options=s.google.protobuf.MethodOptions.fromObject(u.options)}return u.clientStreaming!=null&&(x.clientStreaming=!!u.clientStreaming),u.serverStreaming!=null&&(x.serverStreaming=!!u.serverStreaming),x},le.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.name="",M.inputType="",M.outputType="",M.options=null,M.clientStreaming=!1,M.serverStreaming=!1),u.name!=null&&u.hasOwnProperty("name")&&(M.name=u.name),u.inputType!=null&&u.hasOwnProperty("inputType")&&(M.inputType=u.inputType),u.outputType!=null&&u.hasOwnProperty("outputType")&&(M.outputType=u.outputType),u.options!=null&&u.hasOwnProperty("options")&&(M.options=s.google.protobuf.MethodOptions.toObject(u.options,x)),u.clientStreaming!=null&&u.hasOwnProperty("clientStreaming")&&(M.clientStreaming=u.clientStreaming),u.serverStreaming!=null&&u.hasOwnProperty("serverStreaming")&&(M.serverStreaming=u.serverStreaming),M},le.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},le),p.FileOptions=(ee.prototype.javaPackage="",ee.prototype.javaOuterClassname="",ee.prototype.javaMultipleFiles=!1,ee.prototype.javaGenerateEqualsAndHash=!1,ee.prototype.javaStringCheckUtf8=!1,ee.prototype.optimizeFor=1,ee.prototype.goPackage="",ee.prototype.ccGenericServices=!1,ee.prototype.javaGenericServices=!1,ee.prototype.pyGenericServices=!1,ee.prototype.phpGenericServices=!1,ee.prototype.deprecated=!1,ee.prototype.ccEnableArenas=!0,ee.prototype.objcClassPrefix="",ee.prototype.csharpNamespace="",ee.prototype.swiftPrefix="",ee.prototype.phpClassPrefix="",ee.prototype.phpNamespace="",ee.prototype.phpMetadataNamespace="",ee.prototype.rubyPackage="",ee.prototype.uninterpretedOption=o.emptyArray,ee.create=function(u){return new ee(u)},ee.encode=function(u,x){if(x=x||l.create(),u.javaPackage!=null&&Object.hasOwnProperty.call(u,"javaPackage")&&x.uint32(10).string(u.javaPackage),u.javaOuterClassname!=null&&Object.hasOwnProperty.call(u,"javaOuterClassname")&&x.uint32(66).string(u.javaOuterClassname),u.optimizeFor!=null&&Object.hasOwnProperty.call(u,"optimizeFor")&&x.uint32(72).int32(u.optimizeFor),u.javaMultipleFiles!=null&&Object.hasOwnProperty.call(u,"javaMultipleFiles")&&x.uint32(80).bool(u.javaMultipleFiles),u.goPackage!=null&&Object.hasOwnProperty.call(u,"goPackage")&&x.uint32(90).string(u.goPackage),u.ccGenericServices!=null&&Object.hasOwnProperty.call(u,"ccGenericServices")&&x.uint32(128).bool(u.ccGenericServices),u.javaGenericServices!=null&&Object.hasOwnProperty.call(u,"javaGenericServices")&&x.uint32(136).bool(u.javaGenericServices),u.pyGenericServices!=null&&Object.hasOwnProperty.call(u,"pyGenericServices")&&x.uint32(144).bool(u.pyGenericServices),u.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(u,"javaGenerateEqualsAndHash")&&x.uint32(160).bool(u.javaGenerateEqualsAndHash),u.deprecated!=null&&Object.hasOwnProperty.call(u,"deprecated")&&x.uint32(184).bool(u.deprecated),u.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(u,"javaStringCheckUtf8")&&x.uint32(216).bool(u.javaStringCheckUtf8),u.ccEnableArenas!=null&&Object.hasOwnProperty.call(u,"ccEnableArenas")&&x.uint32(248).bool(u.ccEnableArenas),u.objcClassPrefix!=null&&Object.hasOwnProperty.call(u,"objcClassPrefix")&&x.uint32(290).string(u.objcClassPrefix),u.csharpNamespace!=null&&Object.hasOwnProperty.call(u,"csharpNamespace")&&x.uint32(298).string(u.csharpNamespace),u.swiftPrefix!=null&&Object.hasOwnProperty.call(u,"swiftPrefix")&&x.uint32(314).string(u.swiftPrefix),u.phpClassPrefix!=null&&Object.hasOwnProperty.call(u,"phpClassPrefix")&&x.uint32(322).string(u.phpClassPrefix),u.phpNamespace!=null&&Object.hasOwnProperty.call(u,"phpNamespace")&&x.uint32(330).string(u.phpNamespace),u.phpGenericServices!=null&&Object.hasOwnProperty.call(u,"phpGenericServices")&&x.uint32(336).bool(u.phpGenericServices),u.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(u,"phpMetadataNamespace")&&x.uint32(354).string(u.phpMetadataNamespace),u.rubyPackage!=null&&Object.hasOwnProperty.call(u,"rubyPackage")&&x.uint32(362).string(u.rubyPackage),u.uninterpretedOption!=null&&u.uninterpretedOption.length)for(var M=0;M<u.uninterpretedOption.length;++M)s.google.protobuf.UninterpretedOption.encode(u.uninterpretedOption[M],x.uint32(7994).fork()).ldelim();return x},ee.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},ee.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.FileOptions;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.javaPackage=u.string();break;case 8:n.javaOuterClassname=u.string();break;case 10:n.javaMultipleFiles=u.bool();break;case 20:n.javaGenerateEqualsAndHash=u.bool();break;case 27:n.javaStringCheckUtf8=u.bool();break;case 9:n.optimizeFor=u.int32();break;case 11:n.goPackage=u.string();break;case 16:n.ccGenericServices=u.bool();break;case 17:n.javaGenericServices=u.bool();break;case 18:n.pyGenericServices=u.bool();break;case 42:n.phpGenericServices=u.bool();break;case 23:n.deprecated=u.bool();break;case 31:n.ccEnableArenas=u.bool();break;case 36:n.objcClassPrefix=u.string();break;case 37:n.csharpNamespace=u.string();break;case 39:n.swiftPrefix=u.string();break;case 40:n.phpClassPrefix=u.string();break;case 41:n.phpNamespace=u.string();break;case 44:n.phpMetadataNamespace=u.string();break;case 45:n.rubyPackage=u.string();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(u,u.uint32()));break;default:u.skipType(7&q)}}return n},ee.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},ee.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.javaPackage!=null&&u.hasOwnProperty("javaPackage")&&!o.isString(u.javaPackage))return"javaPackage: string expected";if(u.javaOuterClassname!=null&&u.hasOwnProperty("javaOuterClassname")&&!o.isString(u.javaOuterClassname))return"javaOuterClassname: string expected";if(u.javaMultipleFiles!=null&&u.hasOwnProperty("javaMultipleFiles")&&typeof u.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(u.javaGenerateEqualsAndHash!=null&&u.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof u.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(u.javaStringCheckUtf8!=null&&u.hasOwnProperty("javaStringCheckUtf8")&&typeof u.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(u.optimizeFor!=null&&u.hasOwnProperty("optimizeFor"))switch(u.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(u.goPackage!=null&&u.hasOwnProperty("goPackage")&&!o.isString(u.goPackage))return"goPackage: string expected";if(u.ccGenericServices!=null&&u.hasOwnProperty("ccGenericServices")&&typeof u.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(u.javaGenericServices!=null&&u.hasOwnProperty("javaGenericServices")&&typeof u.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(u.pyGenericServices!=null&&u.hasOwnProperty("pyGenericServices")&&typeof u.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(u.phpGenericServices!=null&&u.hasOwnProperty("phpGenericServices")&&typeof u.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(u.deprecated!=null&&u.hasOwnProperty("deprecated")&&typeof u.deprecated!="boolean")return"deprecated: boolean expected";if(u.ccEnableArenas!=null&&u.hasOwnProperty("ccEnableArenas")&&typeof u.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(u.objcClassPrefix!=null&&u.hasOwnProperty("objcClassPrefix")&&!o.isString(u.objcClassPrefix))return"objcClassPrefix: string expected";if(u.csharpNamespace!=null&&u.hasOwnProperty("csharpNamespace")&&!o.isString(u.csharpNamespace))return"csharpNamespace: string expected";if(u.swiftPrefix!=null&&u.hasOwnProperty("swiftPrefix")&&!o.isString(u.swiftPrefix))return"swiftPrefix: string expected";if(u.phpClassPrefix!=null&&u.hasOwnProperty("phpClassPrefix")&&!o.isString(u.phpClassPrefix))return"phpClassPrefix: string expected";if(u.phpNamespace!=null&&u.hasOwnProperty("phpNamespace")&&!o.isString(u.phpNamespace))return"phpNamespace: string expected";if(u.phpMetadataNamespace!=null&&u.hasOwnProperty("phpMetadataNamespace")&&!o.isString(u.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(u.rubyPackage!=null&&u.hasOwnProperty("rubyPackage")&&!o.isString(u.rubyPackage))return"rubyPackage: string expected";if(u.uninterpretedOption!=null&&u.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(u.uninterpretedOption))return"uninterpretedOption: array expected";for(var x=0;x<u.uninterpretedOption.length;++x){var M=s.google.protobuf.UninterpretedOption.verify(u.uninterpretedOption[x]);if(M)return"uninterpretedOption."+M}}return null},ee.fromObject=function(u){if(u instanceof s.google.protobuf.FileOptions)return u;var x=new s.google.protobuf.FileOptions;switch(u.javaPackage!=null&&(x.javaPackage=String(u.javaPackage)),u.javaOuterClassname!=null&&(x.javaOuterClassname=String(u.javaOuterClassname)),u.javaMultipleFiles!=null&&(x.javaMultipleFiles=!!u.javaMultipleFiles),u.javaGenerateEqualsAndHash!=null&&(x.javaGenerateEqualsAndHash=!!u.javaGenerateEqualsAndHash),u.javaStringCheckUtf8!=null&&(x.javaStringCheckUtf8=!!u.javaStringCheckUtf8),u.optimizeFor){case"SPEED":case 1:x.optimizeFor=1;break;case"CODE_SIZE":case 2:x.optimizeFor=2;break;case"LITE_RUNTIME":case 3:x.optimizeFor=3}if(u.goPackage!=null&&(x.goPackage=String(u.goPackage)),u.ccGenericServices!=null&&(x.ccGenericServices=!!u.ccGenericServices),u.javaGenericServices!=null&&(x.javaGenericServices=!!u.javaGenericServices),u.pyGenericServices!=null&&(x.pyGenericServices=!!u.pyGenericServices),u.phpGenericServices!=null&&(x.phpGenericServices=!!u.phpGenericServices),u.deprecated!=null&&(x.deprecated=!!u.deprecated),u.ccEnableArenas!=null&&(x.ccEnableArenas=!!u.ccEnableArenas),u.objcClassPrefix!=null&&(x.objcClassPrefix=String(u.objcClassPrefix)),u.csharpNamespace!=null&&(x.csharpNamespace=String(u.csharpNamespace)),u.swiftPrefix!=null&&(x.swiftPrefix=String(u.swiftPrefix)),u.phpClassPrefix!=null&&(x.phpClassPrefix=String(u.phpClassPrefix)),u.phpNamespace!=null&&(x.phpNamespace=String(u.phpNamespace)),u.phpMetadataNamespace!=null&&(x.phpMetadataNamespace=String(u.phpMetadataNamespace)),u.rubyPackage!=null&&(x.rubyPackage=String(u.rubyPackage)),u.uninterpretedOption){if(!Array.isArray(u.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");x.uninterpretedOption=[];for(var M=0;M<u.uninterpretedOption.length;++M){if(typeof u.uninterpretedOption[M]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");x.uninterpretedOption[M]=s.google.protobuf.UninterpretedOption.fromObject(u.uninterpretedOption[M])}}return x},ee.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.uninterpretedOption=[]),x.defaults&&(M.javaPackage="",M.javaOuterClassname="",M.optimizeFor=x.enums===String?"SPEED":1,M.javaMultipleFiles=!1,M.goPackage="",M.ccGenericServices=!1,M.javaGenericServices=!1,M.pyGenericServices=!1,M.javaGenerateEqualsAndHash=!1,M.deprecated=!1,M.javaStringCheckUtf8=!1,M.ccEnableArenas=!0,M.objcClassPrefix="",M.csharpNamespace="",M.swiftPrefix="",M.phpClassPrefix="",M.phpNamespace="",M.phpGenericServices=!1,M.phpMetadataNamespace="",M.rubyPackage=""),u.javaPackage!=null&&u.hasOwnProperty("javaPackage")&&(M.javaPackage=u.javaPackage),u.javaOuterClassname!=null&&u.hasOwnProperty("javaOuterClassname")&&(M.javaOuterClassname=u.javaOuterClassname),u.optimizeFor!=null&&u.hasOwnProperty("optimizeFor")&&(M.optimizeFor=x.enums===String?s.google.protobuf.FileOptions.OptimizeMode[u.optimizeFor]:u.optimizeFor),u.javaMultipleFiles!=null&&u.hasOwnProperty("javaMultipleFiles")&&(M.javaMultipleFiles=u.javaMultipleFiles),u.goPackage!=null&&u.hasOwnProperty("goPackage")&&(M.goPackage=u.goPackage),u.ccGenericServices!=null&&u.hasOwnProperty("ccGenericServices")&&(M.ccGenericServices=u.ccGenericServices),u.javaGenericServices!=null&&u.hasOwnProperty("javaGenericServices")&&(M.javaGenericServices=u.javaGenericServices),u.pyGenericServices!=null&&u.hasOwnProperty("pyGenericServices")&&(M.pyGenericServices=u.pyGenericServices),u.javaGenerateEqualsAndHash!=null&&u.hasOwnProperty("javaGenerateEqualsAndHash")&&(M.javaGenerateEqualsAndHash=u.javaGenerateEqualsAndHash),u.deprecated!=null&&u.hasOwnProperty("deprecated")&&(M.deprecated=u.deprecated),u.javaStringCheckUtf8!=null&&u.hasOwnProperty("javaStringCheckUtf8")&&(M.javaStringCheckUtf8=u.javaStringCheckUtf8),u.ccEnableArenas!=null&&u.hasOwnProperty("ccEnableArenas")&&(M.ccEnableArenas=u.ccEnableArenas),u.objcClassPrefix!=null&&u.hasOwnProperty("objcClassPrefix")&&(M.objcClassPrefix=u.objcClassPrefix),u.csharpNamespace!=null&&u.hasOwnProperty("csharpNamespace")&&(M.csharpNamespace=u.csharpNamespace),u.swiftPrefix!=null&&u.hasOwnProperty("swiftPrefix")&&(M.swiftPrefix=u.swiftPrefix),u.phpClassPrefix!=null&&u.hasOwnProperty("phpClassPrefix")&&(M.phpClassPrefix=u.phpClassPrefix),u.phpNamespace!=null&&u.hasOwnProperty("phpNamespace")&&(M.phpNamespace=u.phpNamespace),u.phpGenericServices!=null&&u.hasOwnProperty("phpGenericServices")&&(M.phpGenericServices=u.phpGenericServices),u.phpMetadataNamespace!=null&&u.hasOwnProperty("phpMetadataNamespace")&&(M.phpMetadataNamespace=u.phpMetadataNamespace),u.rubyPackage!=null&&u.hasOwnProperty("rubyPackage")&&(M.rubyPackage=u.rubyPackage),u.uninterpretedOption&&u.uninterpretedOption.length){M.uninterpretedOption=[];for(var n=0;n<u.uninterpretedOption.length;++n)M.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(u.uninterpretedOption[n],x)}return M},ee.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ee.OptimizeMode=(g={},(a=Object.create(g))[g[1]="SPEED"]=1,a[g[2]="CODE_SIZE"]=2,a[g[3]="LITE_RUNTIME"]=3,a),ee),p.MessageOptions=(se.prototype.messageSetWireFormat=!1,se.prototype.noStandardDescriptorAccessor=!1,se.prototype.deprecated=!1,se.prototype.mapEntry=!1,se.prototype.uninterpretedOption=o.emptyArray,se.create=function(u){return new se(u)},se.encode=function(u,x){if(x=x||l.create(),u.messageSetWireFormat!=null&&Object.hasOwnProperty.call(u,"messageSetWireFormat")&&x.uint32(8).bool(u.messageSetWireFormat),u.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(u,"noStandardDescriptorAccessor")&&x.uint32(16).bool(u.noStandardDescriptorAccessor),u.deprecated!=null&&Object.hasOwnProperty.call(u,"deprecated")&&x.uint32(24).bool(u.deprecated),u.mapEntry!=null&&Object.hasOwnProperty.call(u,"mapEntry")&&x.uint32(56).bool(u.mapEntry),u.uninterpretedOption!=null&&u.uninterpretedOption.length)for(var M=0;M<u.uninterpretedOption.length;++M)s.google.protobuf.UninterpretedOption.encode(u.uninterpretedOption[M],x.uint32(7994).fork()).ldelim();return x},se.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},se.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.MessageOptions;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.messageSetWireFormat=u.bool();break;case 2:n.noStandardDescriptorAccessor=u.bool();break;case 3:n.deprecated=u.bool();break;case 7:n.mapEntry=u.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(u,u.uint32()));break;default:u.skipType(7&q)}}return n},se.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},se.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.messageSetWireFormat!=null&&u.hasOwnProperty("messageSetWireFormat")&&typeof u.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(u.noStandardDescriptorAccessor!=null&&u.hasOwnProperty("noStandardDescriptorAccessor")&&typeof u.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(u.deprecated!=null&&u.hasOwnProperty("deprecated")&&typeof u.deprecated!="boolean")return"deprecated: boolean expected";if(u.mapEntry!=null&&u.hasOwnProperty("mapEntry")&&typeof u.mapEntry!="boolean")return"mapEntry: boolean expected";if(u.uninterpretedOption!=null&&u.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(u.uninterpretedOption))return"uninterpretedOption: array expected";for(var x=0;x<u.uninterpretedOption.length;++x){var M=s.google.protobuf.UninterpretedOption.verify(u.uninterpretedOption[x]);if(M)return"uninterpretedOption."+M}}return null},se.fromObject=function(u){if(u instanceof s.google.protobuf.MessageOptions)return u;var x=new s.google.protobuf.MessageOptions;if(u.messageSetWireFormat!=null&&(x.messageSetWireFormat=!!u.messageSetWireFormat),u.noStandardDescriptorAccessor!=null&&(x.noStandardDescriptorAccessor=!!u.noStandardDescriptorAccessor),u.deprecated!=null&&(x.deprecated=!!u.deprecated),u.mapEntry!=null&&(x.mapEntry=!!u.mapEntry),u.uninterpretedOption){if(!Array.isArray(u.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");x.uninterpretedOption=[];for(var M=0;M<u.uninterpretedOption.length;++M){if(typeof u.uninterpretedOption[M]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");x.uninterpretedOption[M]=s.google.protobuf.UninterpretedOption.fromObject(u.uninterpretedOption[M])}}return x},se.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.uninterpretedOption=[]),x.defaults&&(M.messageSetWireFormat=!1,M.noStandardDescriptorAccessor=!1,M.deprecated=!1,M.mapEntry=!1),u.messageSetWireFormat!=null&&u.hasOwnProperty("messageSetWireFormat")&&(M.messageSetWireFormat=u.messageSetWireFormat),u.noStandardDescriptorAccessor!=null&&u.hasOwnProperty("noStandardDescriptorAccessor")&&(M.noStandardDescriptorAccessor=u.noStandardDescriptorAccessor),u.deprecated!=null&&u.hasOwnProperty("deprecated")&&(M.deprecated=u.deprecated),u.mapEntry!=null&&u.hasOwnProperty("mapEntry")&&(M.mapEntry=u.mapEntry),u.uninterpretedOption&&u.uninterpretedOption.length){M.uninterpretedOption=[];for(var n=0;n<u.uninterpretedOption.length;++n)M.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(u.uninterpretedOption[n],x)}return M},se.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},se),p.FieldOptions=(de.prototype.ctype=0,de.prototype.packed=!1,de.prototype.jstype=0,de.prototype.lazy=!1,de.prototype.deprecated=!1,de.prototype.weak=!1,de.prototype.uninterpretedOption=o.emptyArray,de.create=function(u){return new de(u)},de.encode=function(u,x){if(x=x||l.create(),u.ctype!=null&&Object.hasOwnProperty.call(u,"ctype")&&x.uint32(8).int32(u.ctype),u.packed!=null&&Object.hasOwnProperty.call(u,"packed")&&x.uint32(16).bool(u.packed),u.deprecated!=null&&Object.hasOwnProperty.call(u,"deprecated")&&x.uint32(24).bool(u.deprecated),u.lazy!=null&&Object.hasOwnProperty.call(u,"lazy")&&x.uint32(40).bool(u.lazy),u.jstype!=null&&Object.hasOwnProperty.call(u,"jstype")&&x.uint32(48).int32(u.jstype),u.weak!=null&&Object.hasOwnProperty.call(u,"weak")&&x.uint32(80).bool(u.weak),u.uninterpretedOption!=null&&u.uninterpretedOption.length)for(var M=0;M<u.uninterpretedOption.length;++M)s.google.protobuf.UninterpretedOption.encode(u.uninterpretedOption[M],x.uint32(7994).fork()).ldelim();return x},de.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},de.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.FieldOptions;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.ctype=u.int32();break;case 2:n.packed=u.bool();break;case 6:n.jstype=u.int32();break;case 5:n.lazy=u.bool();break;case 3:n.deprecated=u.bool();break;case 10:n.weak=u.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(u,u.uint32()));break;default:u.skipType(7&q)}}return n},de.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},de.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.ctype!=null&&u.hasOwnProperty("ctype"))switch(u.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(u.packed!=null&&u.hasOwnProperty("packed")&&typeof u.packed!="boolean")return"packed: boolean expected";if(u.jstype!=null&&u.hasOwnProperty("jstype"))switch(u.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(u.lazy!=null&&u.hasOwnProperty("lazy")&&typeof u.lazy!="boolean")return"lazy: boolean expected";if(u.deprecated!=null&&u.hasOwnProperty("deprecated")&&typeof u.deprecated!="boolean")return"deprecated: boolean expected";if(u.weak!=null&&u.hasOwnProperty("weak")&&typeof u.weak!="boolean")return"weak: boolean expected";if(u.uninterpretedOption!=null&&u.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(u.uninterpretedOption))return"uninterpretedOption: array expected";for(var x=0;x<u.uninterpretedOption.length;++x){var M=s.google.protobuf.UninterpretedOption.verify(u.uninterpretedOption[x]);if(M)return"uninterpretedOption."+M}}return null},de.fromObject=function(u){if(u instanceof s.google.protobuf.FieldOptions)return u;var x=new s.google.protobuf.FieldOptions;switch(u.ctype){case"STRING":case 0:x.ctype=0;break;case"CORD":case 1:x.ctype=1;break;case"STRING_PIECE":case 2:x.ctype=2}switch(u.packed!=null&&(x.packed=!!u.packed),u.jstype){case"JS_NORMAL":case 0:x.jstype=0;break;case"JS_STRING":case 1:x.jstype=1;break;case"JS_NUMBER":case 2:x.jstype=2}if(u.lazy!=null&&(x.lazy=!!u.lazy),u.deprecated!=null&&(x.deprecated=!!u.deprecated),u.weak!=null&&(x.weak=!!u.weak),u.uninterpretedOption){if(!Array.isArray(u.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");x.uninterpretedOption=[];for(var M=0;M<u.uninterpretedOption.length;++M){if(typeof u.uninterpretedOption[M]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");x.uninterpretedOption[M]=s.google.protobuf.UninterpretedOption.fromObject(u.uninterpretedOption[M])}}return x},de.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.uninterpretedOption=[]),x.defaults&&(M.ctype=x.enums===String?"STRING":0,M.packed=!1,M.deprecated=!1,M.lazy=!1,M.jstype=x.enums===String?"JS_NORMAL":0,M.weak=!1),u.ctype!=null&&u.hasOwnProperty("ctype")&&(M.ctype=x.enums===String?s.google.protobuf.FieldOptions.CType[u.ctype]:u.ctype),u.packed!=null&&u.hasOwnProperty("packed")&&(M.packed=u.packed),u.deprecated!=null&&u.hasOwnProperty("deprecated")&&(M.deprecated=u.deprecated),u.lazy!=null&&u.hasOwnProperty("lazy")&&(M.lazy=u.lazy),u.jstype!=null&&u.hasOwnProperty("jstype")&&(M.jstype=x.enums===String?s.google.protobuf.FieldOptions.JSType[u.jstype]:u.jstype),u.weak!=null&&u.hasOwnProperty("weak")&&(M.weak=u.weak),u.uninterpretedOption&&u.uninterpretedOption.length){M.uninterpretedOption=[];for(var n=0;n<u.uninterpretedOption.length;++n)M.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(u.uninterpretedOption[n],x)}return M},de.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},de.CType=(g={},(a=Object.create(g))[g[0]="STRING"]=0,a[g[1]="CORD"]=1,a[g[2]="STRING_PIECE"]=2,a),de.JSType=(g={},(a=Object.create(g))[g[0]="JS_NORMAL"]=0,a[g[1]="JS_STRING"]=1,a[g[2]="JS_NUMBER"]=2,a),de),p.OneofOptions=(he.prototype.uninterpretedOption=o.emptyArray,he.create=function(u){return new he(u)},he.encode=function(u,x){if(x=x||l.create(),u.uninterpretedOption!=null&&u.uninterpretedOption.length)for(var M=0;M<u.uninterpretedOption.length;++M)s.google.protobuf.UninterpretedOption.encode(u.uninterpretedOption[M],x.uint32(7994).fork()).ldelim();return x},he.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},he.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.OneofOptions;u.pos<M;){var q=u.uint32();q>>>3==999?(n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(u,u.uint32()))):u.skipType(7&q)}return n},he.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},he.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.uninterpretedOption!=null&&u.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(u.uninterpretedOption))return"uninterpretedOption: array expected";for(var x=0;x<u.uninterpretedOption.length;++x){var M=s.google.protobuf.UninterpretedOption.verify(u.uninterpretedOption[x]);if(M)return"uninterpretedOption."+M}}return null},he.fromObject=function(u){if(u instanceof s.google.protobuf.OneofOptions)return u;var x=new s.google.protobuf.OneofOptions;if(u.uninterpretedOption){if(!Array.isArray(u.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");x.uninterpretedOption=[];for(var M=0;M<u.uninterpretedOption.length;++M){if(typeof u.uninterpretedOption[M]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");x.uninterpretedOption[M]=s.google.protobuf.UninterpretedOption.fromObject(u.uninterpretedOption[M])}}return x},he.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.uninterpretedOption=[]),u.uninterpretedOption&&u.uninterpretedOption.length){M.uninterpretedOption=[];for(var n=0;n<u.uninterpretedOption.length;++n)M.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(u.uninterpretedOption[n],x)}return M},he.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},he),p.EnumOptions=(ge.prototype.allowAlias=!1,ge.prototype.deprecated=!1,ge.prototype.uninterpretedOption=o.emptyArray,ge.create=function(u){return new ge(u)},ge.encode=function(u,x){if(x=x||l.create(),u.allowAlias!=null&&Object.hasOwnProperty.call(u,"allowAlias")&&x.uint32(16).bool(u.allowAlias),u.deprecated!=null&&Object.hasOwnProperty.call(u,"deprecated")&&x.uint32(24).bool(u.deprecated),u.uninterpretedOption!=null&&u.uninterpretedOption.length)for(var M=0;M<u.uninterpretedOption.length;++M)s.google.protobuf.UninterpretedOption.encode(u.uninterpretedOption[M],x.uint32(7994).fork()).ldelim();return x},ge.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},ge.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.EnumOptions;u.pos<M;){var q=u.uint32();switch(q>>>3){case 2:n.allowAlias=u.bool();break;case 3:n.deprecated=u.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(u,u.uint32()));break;default:u.skipType(7&q)}}return n},ge.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},ge.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.allowAlias!=null&&u.hasOwnProperty("allowAlias")&&typeof u.allowAlias!="boolean")return"allowAlias: boolean expected";if(u.deprecated!=null&&u.hasOwnProperty("deprecated")&&typeof u.deprecated!="boolean")return"deprecated: boolean expected";if(u.uninterpretedOption!=null&&u.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(u.uninterpretedOption))return"uninterpretedOption: array expected";for(var x=0;x<u.uninterpretedOption.length;++x){var M=s.google.protobuf.UninterpretedOption.verify(u.uninterpretedOption[x]);if(M)return"uninterpretedOption."+M}}return null},ge.fromObject=function(u){if(u instanceof s.google.protobuf.EnumOptions)return u;var x=new s.google.protobuf.EnumOptions;if(u.allowAlias!=null&&(x.allowAlias=!!u.allowAlias),u.deprecated!=null&&(x.deprecated=!!u.deprecated),u.uninterpretedOption){if(!Array.isArray(u.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");x.uninterpretedOption=[];for(var M=0;M<u.uninterpretedOption.length;++M){if(typeof u.uninterpretedOption[M]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");x.uninterpretedOption[M]=s.google.protobuf.UninterpretedOption.fromObject(u.uninterpretedOption[M])}}return x},ge.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.uninterpretedOption=[]),x.defaults&&(M.allowAlias=!1,M.deprecated=!1),u.allowAlias!=null&&u.hasOwnProperty("allowAlias")&&(M.allowAlias=u.allowAlias),u.deprecated!=null&&u.hasOwnProperty("deprecated")&&(M.deprecated=u.deprecated),u.uninterpretedOption&&u.uninterpretedOption.length){M.uninterpretedOption=[];for(var n=0;n<u.uninterpretedOption.length;++n)M.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(u.uninterpretedOption[n],x)}return M},ge.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ge),p.EnumValueOptions=(me.prototype.deprecated=!1,me.prototype.uninterpretedOption=o.emptyArray,me.create=function(u){return new me(u)},me.encode=function(u,x){if(x=x||l.create(),u.deprecated!=null&&Object.hasOwnProperty.call(u,"deprecated")&&x.uint32(8).bool(u.deprecated),u.uninterpretedOption!=null&&u.uninterpretedOption.length)for(var M=0;M<u.uninterpretedOption.length;++M)s.google.protobuf.UninterpretedOption.encode(u.uninterpretedOption[M],x.uint32(7994).fork()).ldelim();return x},me.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},me.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.EnumValueOptions;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.deprecated=u.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(u,u.uint32()));break;default:u.skipType(7&q)}}return n},me.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},me.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.deprecated!=null&&u.hasOwnProperty("deprecated")&&typeof u.deprecated!="boolean")return"deprecated: boolean expected";if(u.uninterpretedOption!=null&&u.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(u.uninterpretedOption))return"uninterpretedOption: array expected";for(var x=0;x<u.uninterpretedOption.length;++x){var M=s.google.protobuf.UninterpretedOption.verify(u.uninterpretedOption[x]);if(M)return"uninterpretedOption."+M}}return null},me.fromObject=function(u){if(u instanceof s.google.protobuf.EnumValueOptions)return u;var x=new s.google.protobuf.EnumValueOptions;if(u.deprecated!=null&&(x.deprecated=!!u.deprecated),u.uninterpretedOption){if(!Array.isArray(u.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");x.uninterpretedOption=[];for(var M=0;M<u.uninterpretedOption.length;++M){if(typeof u.uninterpretedOption[M]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");x.uninterpretedOption[M]=s.google.protobuf.UninterpretedOption.fromObject(u.uninterpretedOption[M])}}return x},me.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.uninterpretedOption=[]),x.defaults&&(M.deprecated=!1),u.deprecated!=null&&u.hasOwnProperty("deprecated")&&(M.deprecated=u.deprecated),u.uninterpretedOption&&u.uninterpretedOption.length){M.uninterpretedOption=[];for(var n=0;n<u.uninterpretedOption.length;++n)M.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(u.uninterpretedOption[n],x)}return M},me.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},me),p.ServiceOptions=(Oe.prototype.deprecated=!1,Oe.prototype.uninterpretedOption=o.emptyArray,Oe.prototype[".google.api.defaultHost"]="",Oe.prototype[".google.api.oauthScopes"]="",Oe.create=function(u){return new Oe(u)},Oe.encode=function(u,x){if(x=x||l.create(),u.deprecated!=null&&Object.hasOwnProperty.call(u,"deprecated")&&x.uint32(264).bool(u.deprecated),u.uninterpretedOption!=null&&u.uninterpretedOption.length)for(var M=0;M<u.uninterpretedOption.length;++M)s.google.protobuf.UninterpretedOption.encode(u.uninterpretedOption[M],x.uint32(7994).fork()).ldelim();return u[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(u,".google.api.defaultHost")&&x.uint32(8394).string(u[".google.api.defaultHost"]),u[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(u,".google.api.oauthScopes")&&x.uint32(8402).string(u[".google.api.oauthScopes"]),x},Oe.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},Oe.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.ServiceOptions;u.pos<M;){var q=u.uint32();switch(q>>>3){case 33:n.deprecated=u.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(u,u.uint32()));break;case 1049:n[".google.api.defaultHost"]=u.string();break;case 1050:n[".google.api.oauthScopes"]=u.string();break;default:u.skipType(7&q)}}return n},Oe.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},Oe.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.deprecated!=null&&u.hasOwnProperty("deprecated")&&typeof u.deprecated!="boolean")return"deprecated: boolean expected";if(u.uninterpretedOption!=null&&u.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(u.uninterpretedOption))return"uninterpretedOption: array expected";for(var x=0;x<u.uninterpretedOption.length;++x){var M=s.google.protobuf.UninterpretedOption.verify(u.uninterpretedOption[x]);if(M)return"uninterpretedOption."+M}}return u[".google.api.defaultHost"]!=null&&u.hasOwnProperty(".google.api.defaultHost")&&!o.isString(u[".google.api.defaultHost"])?".google.api.defaultHost: string expected":u[".google.api.oauthScopes"]!=null&&u.hasOwnProperty(".google.api.oauthScopes")&&!o.isString(u[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},Oe.fromObject=function(u){if(u instanceof s.google.protobuf.ServiceOptions)return u;var x=new s.google.protobuf.ServiceOptions;if(u.deprecated!=null&&(x.deprecated=!!u.deprecated),u.uninterpretedOption){if(!Array.isArray(u.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");x.uninterpretedOption=[];for(var M=0;M<u.uninterpretedOption.length;++M){if(typeof u.uninterpretedOption[M]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");x.uninterpretedOption[M]=s.google.protobuf.UninterpretedOption.fromObject(u.uninterpretedOption[M])}}return u[".google.api.defaultHost"]!=null&&(x[".google.api.defaultHost"]=String(u[".google.api.defaultHost"])),u[".google.api.oauthScopes"]!=null&&(x[".google.api.oauthScopes"]=String(u[".google.api.oauthScopes"])),x},Oe.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.uninterpretedOption=[]),x.defaults&&(M.deprecated=!1,M[".google.api.defaultHost"]="",M[".google.api.oauthScopes"]=""),u.deprecated!=null&&u.hasOwnProperty("deprecated")&&(M.deprecated=u.deprecated),u.uninterpretedOption&&u.uninterpretedOption.length){M.uninterpretedOption=[];for(var n=0;n<u.uninterpretedOption.length;++n)M.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(u.uninterpretedOption[n],x)}return u[".google.api.defaultHost"]!=null&&u.hasOwnProperty(".google.api.defaultHost")&&(M[".google.api.defaultHost"]=u[".google.api.defaultHost"]),u[".google.api.oauthScopes"]!=null&&u.hasOwnProperty(".google.api.oauthScopes")&&(M[".google.api.oauthScopes"]=u[".google.api.oauthScopes"]),M},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Oe),p.MethodOptions=(fe.prototype.deprecated=!1,fe.prototype.idempotencyLevel=0,fe.prototype.uninterpretedOption=o.emptyArray,fe.prototype[".google.longrunning.operationInfo"]=null,fe.prototype[".google.api.http"]=null,fe.prototype[".google.api.methodSignature"]=o.emptyArray,fe.create=function(u){return new fe(u)},fe.encode=function(u,x){if(x=x||l.create(),u.deprecated!=null&&Object.hasOwnProperty.call(u,"deprecated")&&x.uint32(264).bool(u.deprecated),u.idempotencyLevel!=null&&Object.hasOwnProperty.call(u,"idempotencyLevel")&&x.uint32(272).int32(u.idempotencyLevel),u.uninterpretedOption!=null&&u.uninterpretedOption.length)for(var M=0;M<u.uninterpretedOption.length;++M)s.google.protobuf.UninterpretedOption.encode(u.uninterpretedOption[M],x.uint32(7994).fork()).ldelim();if(u[".google.longrunning.operationInfo"]!=null&&Object.hasOwnProperty.call(u,".google.longrunning.operationInfo")&&s.google.longrunning.OperationInfo.encode(u[".google.longrunning.operationInfo"],x.uint32(8394).fork()).ldelim(),u[".google.api.methodSignature"]!=null&&u[".google.api.methodSignature"].length)for(M=0;M<u[".google.api.methodSignature"].length;++M)x.uint32(8410).string(u[".google.api.methodSignature"][M]);return u[".google.api.http"]!=null&&Object.hasOwnProperty.call(u,".google.api.http")&&s.google.api.HttpRule.encode(u[".google.api.http"],x.uint32(578365826).fork()).ldelim(),x},fe.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},fe.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.MethodOptions;u.pos<M;){var q=u.uint32();switch(q>>>3){case 33:n.deprecated=u.bool();break;case 34:n.idempotencyLevel=u.int32();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(u,u.uint32()));break;case 1049:n[".google.longrunning.operationInfo"]=s.google.longrunning.OperationInfo.decode(u,u.uint32());break;case 72295728:n[".google.api.http"]=s.google.api.HttpRule.decode(u,u.uint32());break;case 1051:n[".google.api.methodSignature"]&&n[".google.api.methodSignature"].length||(n[".google.api.methodSignature"]=[]),n[".google.api.methodSignature"].push(u.string());break;default:u.skipType(7&q)}}return n},fe.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},fe.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.deprecated!=null&&u.hasOwnProperty("deprecated")&&typeof u.deprecated!="boolean")return"deprecated: boolean expected";if(u.idempotencyLevel!=null&&u.hasOwnProperty("idempotencyLevel"))switch(u.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(u.uninterpretedOption!=null&&u.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(u.uninterpretedOption))return"uninterpretedOption: array expected";for(var x=0;x<u.uninterpretedOption.length;++x)if(M=s.google.protobuf.UninterpretedOption.verify(u.uninterpretedOption[x]))return"uninterpretedOption."+M}var M;if(u[".google.longrunning.operationInfo"]!=null&&u.hasOwnProperty(".google.longrunning.operationInfo")&&(M=s.google.longrunning.OperationInfo.verify(u[".google.longrunning.operationInfo"])))return".google.longrunning.operationInfo."+M;if(u[".google.api.http"]!=null&&u.hasOwnProperty(".google.api.http")&&(M=s.google.api.HttpRule.verify(u[".google.api.http"])))return".google.api.http."+M;if(u[".google.api.methodSignature"]!=null&&u.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(u[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(x=0;x<u[".google.api.methodSignature"].length;++x)if(!o.isString(u[".google.api.methodSignature"][x]))return".google.api.methodSignature: string[] expected"}return null},fe.fromObject=function(u){if(u instanceof s.google.protobuf.MethodOptions)return u;var x=new s.google.protobuf.MethodOptions;switch(u.deprecated!=null&&(x.deprecated=!!u.deprecated),u.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:x.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:x.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:x.idempotencyLevel=2}if(u.uninterpretedOption){if(!Array.isArray(u.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");x.uninterpretedOption=[];for(var M=0;M<u.uninterpretedOption.length;++M){if(typeof u.uninterpretedOption[M]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");x.uninterpretedOption[M]=s.google.protobuf.UninterpretedOption.fromObject(u.uninterpretedOption[M])}}if(u[".google.longrunning.operationInfo"]!=null){if(typeof u[".google.longrunning.operationInfo"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");x[".google.longrunning.operationInfo"]=s.google.longrunning.OperationInfo.fromObject(u[".google.longrunning.operationInfo"])}if(u[".google.api.http"]!=null){if(typeof u[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");x[".google.api.http"]=s.google.api.HttpRule.fromObject(u[".google.api.http"])}if(u[".google.api.methodSignature"]){if(!Array.isArray(u[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(x[".google.api.methodSignature"]=[],M=0;M<u[".google.api.methodSignature"].length;++M)x[".google.api.methodSignature"][M]=String(u[".google.api.methodSignature"][M])}return x},fe.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.uninterpretedOption=[],M[".google.api.methodSignature"]=[]),x.defaults&&(M.deprecated=!1,M.idempotencyLevel=x.enums===String?"IDEMPOTENCY_UNKNOWN":0,M[".google.longrunning.operationInfo"]=null,M[".google.api.http"]=null),u.deprecated!=null&&u.hasOwnProperty("deprecated")&&(M.deprecated=u.deprecated),u.idempotencyLevel!=null&&u.hasOwnProperty("idempotencyLevel")&&(M.idempotencyLevel=x.enums===String?s.google.protobuf.MethodOptions.IdempotencyLevel[u.idempotencyLevel]:u.idempotencyLevel),u.uninterpretedOption&&u.uninterpretedOption.length){M.uninterpretedOption=[];for(var n=0;n<u.uninterpretedOption.length;++n)M.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(u.uninterpretedOption[n],x)}if(u[".google.longrunning.operationInfo"]!=null&&u.hasOwnProperty(".google.longrunning.operationInfo")&&(M[".google.longrunning.operationInfo"]=s.google.longrunning.OperationInfo.toObject(u[".google.longrunning.operationInfo"],x)),u[".google.api.methodSignature"]&&u[".google.api.methodSignature"].length)for(M[".google.api.methodSignature"]=[],n=0;n<u[".google.api.methodSignature"].length;++n)M[".google.api.methodSignature"][n]=u[".google.api.methodSignature"][n];return u[".google.api.http"]!=null&&u.hasOwnProperty(".google.api.http")&&(M[".google.api.http"]=s.google.api.HttpRule.toObject(u[".google.api.http"],x)),M},fe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},fe.IdempotencyLevel=(g={},(a=Object.create(g))[g[0]="IDEMPOTENCY_UNKNOWN"]=0,a[g[1]="NO_SIDE_EFFECTS"]=1,a[g[2]="IDEMPOTENT"]=2,a),fe),p.UninterpretedOption=(_e.prototype.name=o.emptyArray,_e.prototype.identifierValue="",_e.prototype.positiveIntValue=o.Long?o.Long.fromBits(0,0,!0):0,_e.prototype.negativeIntValue=o.Long?o.Long.fromBits(0,0,!1):0,_e.prototype.doubleValue=0,_e.prototype.stringValue=o.newBuffer([]),_e.prototype.aggregateValue="",_e.create=function(u){return new _e(u)},_e.encode=function(u,x){if(x=x||l.create(),u.name!=null&&u.name.length)for(var M=0;M<u.name.length;++M)s.google.protobuf.UninterpretedOption.NamePart.encode(u.name[M],x.uint32(18).fork()).ldelim();return u.identifierValue!=null&&Object.hasOwnProperty.call(u,"identifierValue")&&x.uint32(26).string(u.identifierValue),u.positiveIntValue!=null&&Object.hasOwnProperty.call(u,"positiveIntValue")&&x.uint32(32).uint64(u.positiveIntValue),u.negativeIntValue!=null&&Object.hasOwnProperty.call(u,"negativeIntValue")&&x.uint32(40).int64(u.negativeIntValue),u.doubleValue!=null&&Object.hasOwnProperty.call(u,"doubleValue")&&x.uint32(49).double(u.doubleValue),u.stringValue!=null&&Object.hasOwnProperty.call(u,"stringValue")&&x.uint32(58).bytes(u.stringValue),u.aggregateValue!=null&&Object.hasOwnProperty.call(u,"aggregateValue")&&x.uint32(66).string(u.aggregateValue),x},_e.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},_e.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.UninterpretedOption;u.pos<M;){var q=u.uint32();switch(q>>>3){case 2:n.name&&n.name.length||(n.name=[]),n.name.push(s.google.protobuf.UninterpretedOption.NamePart.decode(u,u.uint32()));break;case 3:n.identifierValue=u.string();break;case 4:n.positiveIntValue=u.uint64();break;case 5:n.negativeIntValue=u.int64();break;case 6:n.doubleValue=u.double();break;case 7:n.stringValue=u.bytes();break;case 8:n.aggregateValue=u.string();break;default:u.skipType(7&q)}}return n},_e.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},_e.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.name!=null&&u.hasOwnProperty("name")){if(!Array.isArray(u.name))return"name: array expected";for(var x=0;x<u.name.length;++x){var M=s.google.protobuf.UninterpretedOption.NamePart.verify(u.name[x]);if(M)return"name."+M}}return u.identifierValue!=null&&u.hasOwnProperty("identifierValue")&&!o.isString(u.identifierValue)?"identifierValue: string expected":u.positiveIntValue!=null&&u.hasOwnProperty("positiveIntValue")&&!(o.isInteger(u.positiveIntValue)||u.positiveIntValue&&o.isInteger(u.positiveIntValue.low)&&o.isInteger(u.positiveIntValue.high))?"positiveIntValue: integer|Long expected":u.negativeIntValue!=null&&u.hasOwnProperty("negativeIntValue")&&!(o.isInteger(u.negativeIntValue)||u.negativeIntValue&&o.isInteger(u.negativeIntValue.low)&&o.isInteger(u.negativeIntValue.high))?"negativeIntValue: integer|Long expected":u.doubleValue!=null&&u.hasOwnProperty("doubleValue")&&typeof u.doubleValue!="number"?"doubleValue: number expected":u.stringValue!=null&&u.hasOwnProperty("stringValue")&&!(u.stringValue&&typeof u.stringValue.length=="number"||o.isString(u.stringValue))?"stringValue: buffer expected":u.aggregateValue!=null&&u.hasOwnProperty("aggregateValue")&&!o.isString(u.aggregateValue)?"aggregateValue: string expected":null},_e.fromObject=function(u){if(u instanceof s.google.protobuf.UninterpretedOption)return u;var x=new s.google.protobuf.UninterpretedOption;if(u.name){if(!Array.isArray(u.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");x.name=[];for(var M=0;M<u.name.length;++M){if(typeof u.name[M]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");x.name[M]=s.google.protobuf.UninterpretedOption.NamePart.fromObject(u.name[M])}}return u.identifierValue!=null&&(x.identifierValue=String(u.identifierValue)),u.positiveIntValue!=null&&(o.Long?(x.positiveIntValue=o.Long.fromValue(u.positiveIntValue)).unsigned=!0:typeof u.positiveIntValue=="string"?x.positiveIntValue=parseInt(u.positiveIntValue,10):typeof u.positiveIntValue=="number"?x.positiveIntValue=u.positiveIntValue:typeof u.positiveIntValue=="object"&&(x.positiveIntValue=new o.LongBits(u.positiveIntValue.low>>>0,u.positiveIntValue.high>>>0).toNumber(!0))),u.negativeIntValue!=null&&(o.Long?(x.negativeIntValue=o.Long.fromValue(u.negativeIntValue)).unsigned=!1:typeof u.negativeIntValue=="string"?x.negativeIntValue=parseInt(u.negativeIntValue,10):typeof u.negativeIntValue=="number"?x.negativeIntValue=u.negativeIntValue:typeof u.negativeIntValue=="object"&&(x.negativeIntValue=new o.LongBits(u.negativeIntValue.low>>>0,u.negativeIntValue.high>>>0).toNumber())),u.doubleValue!=null&&(x.doubleValue=Number(u.doubleValue)),u.stringValue!=null&&(typeof u.stringValue=="string"?o.base64.decode(u.stringValue,x.stringValue=o.newBuffer(o.base64.length(u.stringValue)),0):u.stringValue.length&&(x.stringValue=u.stringValue)),u.aggregateValue!=null&&(x.aggregateValue=String(u.aggregateValue)),x},_e.toObject=function(u,x){var M,n={};if(((x=x||{}).arrays||x.defaults)&&(n.name=[]),x.defaults&&(n.identifierValue="",o.Long?(M=new o.Long(0,0,!0),n.positiveIntValue=x.longs===String?M.toString():x.longs===Number?M.toNumber():M):n.positiveIntValue=x.longs===String?"0":0,o.Long?(M=new o.Long(0,0,!1),n.negativeIntValue=x.longs===String?M.toString():x.longs===Number?M.toNumber():M):n.negativeIntValue=x.longs===String?"0":0,n.doubleValue=0,x.bytes===String?n.stringValue="":(n.stringValue=[],x.bytes!==Array&&(n.stringValue=o.newBuffer(n.stringValue))),n.aggregateValue=""),u.name&&u.name.length){n.name=[];for(var q=0;q<u.name.length;++q)n.name[q]=s.google.protobuf.UninterpretedOption.NamePart.toObject(u.name[q],x)}return u.identifierValue!=null&&u.hasOwnProperty("identifierValue")&&(n.identifierValue=u.identifierValue),u.positiveIntValue!=null&&u.hasOwnProperty("positiveIntValue")&&(typeof u.positiveIntValue=="number"?n.positiveIntValue=x.longs===String?String(u.positiveIntValue):u.positiveIntValue:n.positiveIntValue=x.longs===String?o.Long.prototype.toString.call(u.positiveIntValue):x.longs===Number?new o.LongBits(u.positiveIntValue.low>>>0,u.positiveIntValue.high>>>0).toNumber(!0):u.positiveIntValue),u.negativeIntValue!=null&&u.hasOwnProperty("negativeIntValue")&&(typeof u.negativeIntValue=="number"?n.negativeIntValue=x.longs===String?String(u.negativeIntValue):u.negativeIntValue:n.negativeIntValue=x.longs===String?o.Long.prototype.toString.call(u.negativeIntValue):x.longs===Number?new o.LongBits(u.negativeIntValue.low>>>0,u.negativeIntValue.high>>>0).toNumber():u.negativeIntValue),u.doubleValue!=null&&u.hasOwnProperty("doubleValue")&&(n.doubleValue=x.json&&!isFinite(u.doubleValue)?String(u.doubleValue):u.doubleValue),u.stringValue!=null&&u.hasOwnProperty("stringValue")&&(n.stringValue=x.bytes===String?o.base64.encode(u.stringValue,0,u.stringValue.length):x.bytes===Array?Array.prototype.slice.call(u.stringValue):u.stringValue),u.aggregateValue!=null&&u.hasOwnProperty("aggregateValue")&&(n.aggregateValue=u.aggregateValue),n},_e.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},_e.NamePart=(Ee.prototype.namePart="",Ee.prototype.isExtension=!1,Ee.create=function(u){return new Ee(u)},Ee.encode=function(u,x){return(x=x||l.create()).uint32(10).string(u.namePart),x.uint32(16).bool(u.isExtension),x},Ee.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},Ee.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.UninterpretedOption.NamePart;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.namePart=u.string();break;case 2:n.isExtension=u.bool();break;default:u.skipType(7&q)}}if(!n.hasOwnProperty("namePart"))throw o.ProtocolError("missing required 'namePart'",{instance:n});if(n.hasOwnProperty("isExtension"))return n;throw o.ProtocolError("missing required 'isExtension'",{instance:n})},Ee.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},Ee.verify=function(u){return typeof u!="object"||u===null?"object expected":o.isString(u.namePart)?typeof u.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},Ee.fromObject=function(u){var x;return u instanceof s.google.protobuf.UninterpretedOption.NamePart?u:(x=new s.google.protobuf.UninterpretedOption.NamePart,u.namePart!=null&&(x.namePart=String(u.namePart)),u.isExtension!=null&&(x.isExtension=!!u.isExtension),x)},Ee.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.namePart="",M.isExtension=!1),u.namePart!=null&&u.hasOwnProperty("namePart")&&(M.namePart=u.namePart),u.isExtension!=null&&u.hasOwnProperty("isExtension")&&(M.isExtension=u.isExtension),M},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ee),_e),p.SourceCodeInfo=(z.prototype.location=o.emptyArray,z.create=function(u){return new z(u)},z.encode=function(u,x){if(x=x||l.create(),u.location!=null&&u.location.length)for(var M=0;M<u.location.length;++M)s.google.protobuf.SourceCodeInfo.Location.encode(u.location[M],x.uint32(10).fork()).ldelim();return x},z.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},z.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.SourceCodeInfo;u.pos<M;){var q=u.uint32();q>>>3==1?(n.location&&n.location.length||(n.location=[]),n.location.push(s.google.protobuf.SourceCodeInfo.Location.decode(u,u.uint32()))):u.skipType(7&q)}return n},z.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},z.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.location!=null&&u.hasOwnProperty("location")){if(!Array.isArray(u.location))return"location: array expected";for(var x=0;x<u.location.length;++x){var M=s.google.protobuf.SourceCodeInfo.Location.verify(u.location[x]);if(M)return"location."+M}}return null},z.fromObject=function(u){if(u instanceof s.google.protobuf.SourceCodeInfo)return u;var x=new s.google.protobuf.SourceCodeInfo;if(u.location){if(!Array.isArray(u.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");x.location=[];for(var M=0;M<u.location.length;++M){if(typeof u.location[M]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");x.location[M]=s.google.protobuf.SourceCodeInfo.Location.fromObject(u.location[M])}}return x},z.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.location=[]),u.location&&u.location.length){M.location=[];for(var n=0;n<u.location.length;++n)M.location[n]=s.google.protobuf.SourceCodeInfo.Location.toObject(u.location[n],x)}return M},z.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},z.Location=(d.prototype.path=o.emptyArray,d.prototype.span=o.emptyArray,d.prototype.leadingComments="",d.prototype.trailingComments="",d.prototype.leadingDetachedComments=o.emptyArray,d.create=function(u){return new d(u)},d.encode=function(u,x){if(x=x||l.create(),u.path!=null&&u.path.length){x.uint32(10).fork();for(var M=0;M<u.path.length;++M)x.int32(u.path[M]);x.ldelim()}if(u.span!=null&&u.span.length){for(x.uint32(18).fork(),M=0;M<u.span.length;++M)x.int32(u.span[M]);x.ldelim()}if(u.leadingComments!=null&&Object.hasOwnProperty.call(u,"leadingComments")&&x.uint32(26).string(u.leadingComments),u.trailingComments!=null&&Object.hasOwnProperty.call(u,"trailingComments")&&x.uint32(34).string(u.trailingComments),u.leadingDetachedComments!=null&&u.leadingDetachedComments.length)for(M=0;M<u.leadingDetachedComments.length;++M)x.uint32(50).string(u.leadingDetachedComments[M]);return x},d.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},d.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.SourceCodeInfo.Location;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),(7&q)==2)for(var U=u.uint32()+u.pos;u.pos<U;)n.path.push(u.int32());else n.path.push(u.int32());break;case 2:if(n.span&&n.span.length||(n.span=[]),(7&q)==2)for(U=u.uint32()+u.pos;u.pos<U;)n.span.push(u.int32());else n.span.push(u.int32());break;case 3:n.leadingComments=u.string();break;case 4:n.trailingComments=u.string();break;case 6:n.leadingDetachedComments&&n.leadingDetachedComments.length||(n.leadingDetachedComments=[]),n.leadingDetachedComments.push(u.string());break;default:u.skipType(7&q)}}return n},d.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},d.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.path!=null&&u.hasOwnProperty("path")){if(!Array.isArray(u.path))return"path: array expected";for(var x=0;x<u.path.length;++x)if(!o.isInteger(u.path[x]))return"path: integer[] expected"}if(u.span!=null&&u.hasOwnProperty("span")){if(!Array.isArray(u.span))return"span: array expected";for(x=0;x<u.span.length;++x)if(!o.isInteger(u.span[x]))return"span: integer[] expected"}if(u.leadingComments!=null&&u.hasOwnProperty("leadingComments")&&!o.isString(u.leadingComments))return"leadingComments: string expected";if(u.trailingComments!=null&&u.hasOwnProperty("trailingComments")&&!o.isString(u.trailingComments))return"trailingComments: string expected";if(u.leadingDetachedComments!=null&&u.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(u.leadingDetachedComments))return"leadingDetachedComments: array expected";for(x=0;x<u.leadingDetachedComments.length;++x)if(!o.isString(u.leadingDetachedComments[x]))return"leadingDetachedComments: string[] expected"}return null},d.fromObject=function(u){if(u instanceof s.google.protobuf.SourceCodeInfo.Location)return u;var x=new s.google.protobuf.SourceCodeInfo.Location;if(u.path){if(!Array.isArray(u.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");x.path=[];for(var M=0;M<u.path.length;++M)x.path[M]=0|u.path[M]}if(u.span){if(!Array.isArray(u.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(x.span=[],M=0;M<u.span.length;++M)x.span[M]=0|u.span[M]}if(u.leadingComments!=null&&(x.leadingComments=String(u.leadingComments)),u.trailingComments!=null&&(x.trailingComments=String(u.trailingComments)),u.leadingDetachedComments){if(!Array.isArray(u.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(x.leadingDetachedComments=[],M=0;M<u.leadingDetachedComments.length;++M)x.leadingDetachedComments[M]=String(u.leadingDetachedComments[M])}return x},d.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.path=[],M.span=[],M.leadingDetachedComments=[]),x.defaults&&(M.leadingComments="",M.trailingComments=""),u.path&&u.path.length){M.path=[];for(var n=0;n<u.path.length;++n)M.path[n]=u.path[n]}if(u.span&&u.span.length)for(M.span=[],n=0;n<u.span.length;++n)M.span[n]=u.span[n];if(u.leadingComments!=null&&u.hasOwnProperty("leadingComments")&&(M.leadingComments=u.leadingComments),u.trailingComments!=null&&u.hasOwnProperty("trailingComments")&&(M.trailingComments=u.trailingComments),u.leadingDetachedComments&&u.leadingDetachedComments.length)for(M.leadingDetachedComments=[],n=0;n<u.leadingDetachedComments.length;++n)M.leadingDetachedComments[n]=u.leadingDetachedComments[n];return M},d.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},d),z),p.GeneratedCodeInfo=(P.prototype.annotation=o.emptyArray,P.create=function(u){return new P(u)},P.encode=function(u,x){if(x=x||l.create(),u.annotation!=null&&u.annotation.length)for(var M=0;M<u.annotation.length;++M)s.google.protobuf.GeneratedCodeInfo.Annotation.encode(u.annotation[M],x.uint32(10).fork()).ldelim();return x},P.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},P.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.GeneratedCodeInfo;u.pos<M;){var q=u.uint32();q>>>3==1?(n.annotation&&n.annotation.length||(n.annotation=[]),n.annotation.push(s.google.protobuf.GeneratedCodeInfo.Annotation.decode(u,u.uint32()))):u.skipType(7&q)}return n},P.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},P.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.annotation!=null&&u.hasOwnProperty("annotation")){if(!Array.isArray(u.annotation))return"annotation: array expected";for(var x=0;x<u.annotation.length;++x){var M=s.google.protobuf.GeneratedCodeInfo.Annotation.verify(u.annotation[x]);if(M)return"annotation."+M}}return null},P.fromObject=function(u){if(u instanceof s.google.protobuf.GeneratedCodeInfo)return u;var x=new s.google.protobuf.GeneratedCodeInfo;if(u.annotation){if(!Array.isArray(u.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");x.annotation=[];for(var M=0;M<u.annotation.length;++M){if(typeof u.annotation[M]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");x.annotation[M]=s.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(u.annotation[M])}}return x},P.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.annotation=[]),u.annotation&&u.annotation.length){M.annotation=[];for(var n=0;n<u.annotation.length;++n)M.annotation[n]=s.google.protobuf.GeneratedCodeInfo.Annotation.toObject(u.annotation[n],x)}return M},P.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},P.Annotation=(A.prototype.path=o.emptyArray,A.prototype.sourceFile="",A.prototype.begin=0,A.prototype.end=0,A.create=function(u){return new A(u)},A.encode=function(u,x){if(x=x||l.create(),u.path!=null&&u.path.length){x.uint32(10).fork();for(var M=0;M<u.path.length;++M)x.int32(u.path[M]);x.ldelim()}return u.sourceFile!=null&&Object.hasOwnProperty.call(u,"sourceFile")&&x.uint32(18).string(u.sourceFile),u.begin!=null&&Object.hasOwnProperty.call(u,"begin")&&x.uint32(24).int32(u.begin),u.end!=null&&Object.hasOwnProperty.call(u,"end")&&x.uint32(32).int32(u.end),x},A.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},A.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.GeneratedCodeInfo.Annotation;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),(7&q)==2)for(var U=u.uint32()+u.pos;u.pos<U;)n.path.push(u.int32());else n.path.push(u.int32());break;case 2:n.sourceFile=u.string();break;case 3:n.begin=u.int32();break;case 4:n.end=u.int32();break;default:u.skipType(7&q)}}return n},A.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},A.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.path!=null&&u.hasOwnProperty("path")){if(!Array.isArray(u.path))return"path: array expected";for(var x=0;x<u.path.length;++x)if(!o.isInteger(u.path[x]))return"path: integer[] expected"}return u.sourceFile!=null&&u.hasOwnProperty("sourceFile")&&!o.isString(u.sourceFile)?"sourceFile: string expected":u.begin!=null&&u.hasOwnProperty("begin")&&!o.isInteger(u.begin)?"begin: integer expected":u.end!=null&&u.hasOwnProperty("end")&&!o.isInteger(u.end)?"end: integer expected":null},A.fromObject=function(u){if(u instanceof s.google.protobuf.GeneratedCodeInfo.Annotation)return u;var x=new s.google.protobuf.GeneratedCodeInfo.Annotation;if(u.path){if(!Array.isArray(u.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");x.path=[];for(var M=0;M<u.path.length;++M)x.path[M]=0|u.path[M]}return u.sourceFile!=null&&(x.sourceFile=String(u.sourceFile)),u.begin!=null&&(x.begin=0|u.begin),u.end!=null&&(x.end=0|u.end),x},A.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.path=[]),x.defaults&&(M.sourceFile="",M.begin=0,M.end=0),u.path&&u.path.length){M.path=[];for(var n=0;n<u.path.length;++n)M.path[n]=u.path[n]}return u.sourceFile!=null&&u.hasOwnProperty("sourceFile")&&(M.sourceFile=u.sourceFile),u.begin!=null&&u.hasOwnProperty("begin")&&(M.begin=u.begin),u.end!=null&&u.hasOwnProperty("end")&&(M.end=u.end),M},A.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},A),P),p.Any=($.prototype.type_url="",$.prototype.value=o.newBuffer([]),$.create=function(u){return new $(u)},$.encode=function(u,x){return x=x||l.create(),u.type_url!=null&&Object.hasOwnProperty.call(u,"type_url")&&x.uint32(10).string(u.type_url),u.value!=null&&Object.hasOwnProperty.call(u,"value")&&x.uint32(18).bytes(u.value),x},$.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},$.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.Any;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.type_url=u.string();break;case 2:n.value=u.bytes();break;default:u.skipType(7&q)}}return n},$.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},$.verify=function(u){return typeof u!="object"||u===null?"object expected":u.type_url!=null&&u.hasOwnProperty("type_url")&&!o.isString(u.type_url)?"type_url: string expected":u.value!=null&&u.hasOwnProperty("value")&&!(u.value&&typeof u.value.length=="number"||o.isString(u.value))?"value: buffer expected":null},$.fromObject=function(u){var x;return u instanceof s.google.protobuf.Any?u:(x=new s.google.protobuf.Any,u.type_url!=null&&(x.type_url=String(u.type_url)),u.value!=null&&(typeof u.value=="string"?o.base64.decode(u.value,x.value=o.newBuffer(o.base64.length(u.value)),0):u.value.length&&(x.value=u.value)),x)},$.toObject=function(u,x){var M={};return(x=x||{}).defaults&&(M.type_url="",x.bytes===String?M.value="":(M.value=[],x.bytes!==Array&&(M.value=o.newBuffer(M.value)))),u.type_url!=null&&u.hasOwnProperty("type_url")&&(M.type_url=u.type_url),u.value!=null&&u.hasOwnProperty("value")&&(M.value=x.bytes===String?o.base64.encode(u.value,0,u.value.length):x.bytes===Array?Array.prototype.slice.call(u.value):u.value),M},$.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},$),p.Duration=(ie.prototype.seconds=o.Long?o.Long.fromBits(0,0,!1):0,ie.prototype.nanos=0,ie.create=function(u){return new ie(u)},ie.encode=function(u,x){return x=x||l.create(),u.seconds!=null&&Object.hasOwnProperty.call(u,"seconds")&&x.uint32(8).int64(u.seconds),u.nanos!=null&&Object.hasOwnProperty.call(u,"nanos")&&x.uint32(16).int32(u.nanos),x},ie.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},ie.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.protobuf.Duration;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.seconds=u.int64();break;case 2:n.nanos=u.int32();break;default:u.skipType(7&q)}}return n},ie.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},ie.verify=function(u){return typeof u!="object"||u===null?"object expected":u.seconds!=null&&u.hasOwnProperty("seconds")&&!(o.isInteger(u.seconds)||u.seconds&&o.isInteger(u.seconds.low)&&o.isInteger(u.seconds.high))?"seconds: integer|Long expected":u.nanos!=null&&u.hasOwnProperty("nanos")&&!o.isInteger(u.nanos)?"nanos: integer expected":null},ie.fromObject=function(u){var x;return u instanceof s.google.protobuf.Duration?u:(x=new s.google.protobuf.Duration,u.seconds!=null&&(o.Long?(x.seconds=o.Long.fromValue(u.seconds)).unsigned=!1:typeof u.seconds=="string"?x.seconds=parseInt(u.seconds,10):typeof u.seconds=="number"?x.seconds=u.seconds:typeof u.seconds=="object"&&(x.seconds=new o.LongBits(u.seconds.low>>>0,u.seconds.high>>>0).toNumber())),u.nanos!=null&&(x.nanos=0|u.nanos),x)},ie.toObject=function(u,x){var M,n={};return(x=x||{}).defaults&&(o.Long?(M=new o.Long(0,0,!1),n.seconds=x.longs===String?M.toString():x.longs===Number?M.toNumber():M):n.seconds=x.longs===String?"0":0,n.nanos=0),u.seconds!=null&&u.hasOwnProperty("seconds")&&(typeof u.seconds=="number"?n.seconds=x.longs===String?String(u.seconds):u.seconds:n.seconds=x.longs===String?o.Long.prototype.toString.call(u.seconds):x.longs===Number?new o.LongBits(u.seconds.low>>>0,u.seconds.high>>>0).toNumber():u.seconds),u.nanos!=null&&u.hasOwnProperty("nanos")&&(n.nanos=u.nanos),n},ie.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ie),p.Empty=(pe.create=function(u){return new pe(u)},pe.encode=function(u,x){return x=x||l.create()},pe.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},pe.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,x=new s.google.protobuf.Empty;u.pos<M;){var n=u.uint32();u.skipType(7&n)}return x},pe.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},pe.verify=function(u){return typeof u!="object"||u===null?"object expected":null},pe.fromObject=function(u){return u instanceof s.google.protobuf.Empty?u:new s.google.protobuf.Empty},pe.toObject=function(){return{}},pe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},pe),p),m.rpc=((g={}).Status=(ne.prototype.code=0,ne.prototype.message="",ne.prototype.details=o.emptyArray,ne.create=function(u){return new ne(u)},ne.encode=function(u,x){if(x=x||l.create(),u.code!=null&&Object.hasOwnProperty.call(u,"code")&&x.uint32(8).int32(u.code),u.message!=null&&Object.hasOwnProperty.call(u,"message")&&x.uint32(18).string(u.message),u.details!=null&&u.details.length)for(var M=0;M<u.details.length;++M)s.google.protobuf.Any.encode(u.details[M],x.uint32(26).fork()).ldelim();return x},ne.encodeDelimited=function(u,x){return this.encode(u,x).ldelim()},ne.decode=function(u,x){u instanceof c||(u=c.create(u));for(var M=x===void 0?u.len:u.pos+x,n=new s.google.rpc.Status;u.pos<M;){var q=u.uint32();switch(q>>>3){case 1:n.code=u.int32();break;case 2:n.message=u.string();break;case 3:n.details&&n.details.length||(n.details=[]),n.details.push(s.google.protobuf.Any.decode(u,u.uint32()));break;default:u.skipType(7&q)}}return n},ne.decodeDelimited=function(u){return u instanceof c||(u=new c(u)),this.decode(u,u.uint32())},ne.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.code!=null&&u.hasOwnProperty("code")&&!o.isInteger(u.code))return"code: integer expected";if(u.message!=null&&u.hasOwnProperty("message")&&!o.isString(u.message))return"message: string expected";if(u.details!=null&&u.hasOwnProperty("details")){if(!Array.isArray(u.details))return"details: array expected";for(var x=0;x<u.details.length;++x){var M=s.google.protobuf.Any.verify(u.details[x]);if(M)return"details."+M}}return null},ne.fromObject=function(u){if(u instanceof s.google.rpc.Status)return u;var x=new s.google.rpc.Status;if(u.code!=null&&(x.code=0|u.code),u.message!=null&&(x.message=String(u.message)),u.details){if(!Array.isArray(u.details))throw TypeError(".google.rpc.Status.details: array expected");x.details=[];for(var M=0;M<u.details.length;++M){if(typeof u.details[M]!="object")throw TypeError(".google.rpc.Status.details: object expected");x.details[M]=s.google.protobuf.Any.fromObject(u.details[M])}}return x},ne.toObject=function(u,x){var M={};if(((x=x||{}).arrays||x.defaults)&&(M.details=[]),x.defaults&&(M.code=0,M.message=""),u.code!=null&&u.hasOwnProperty("code")&&(M.code=u.code),u.message!=null&&u.hasOwnProperty("message")&&(M.message=u.message),u.details&&u.details.length){M.details=[];for(var n=0;n<u.details.length;++n)M.details[n]=s.google.protobuf.Any.toObject(u.details[n],x)}return M},ne.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ne),g),m),s})})(operations)),operations.exports}var hasRequiredLongrunning;function requireLongrunning(){if(hasRequiredLongrunning)return longrunning;hasRequiredLongrunning=1,Object.defineProperty(longrunning,"__esModule",{value:!0}),longrunning.Operation=void 0,longrunning.operation=m;const e=require$$1$3,t=requireStatus(),a=requireGoogleError(),p=requireOperations();class g extends e.EventEmitter{constructor(l,o,s,h){super(),this.completeListeners=0,this.hasActiveListeners=!1,this.latestResponse=l,this.name=this.latestResponse.name,this.done=this.latestResponse.done,this.error=this.latestResponse.error,this.longrunningDescriptor=o,this.result=null,this.metadata=null,this.backoffSettings=s,this._unpackResponse(l),this._listenForEvents(),this._callOptions=h}_listenForEvents(){this.on("newListener",l=>{l==="complete"&&(this.completeListeners++,this.hasActiveListeners||(this.hasActiveListeners=!0,this.startPolling_()))}),this.on("removeListener",l=>{l==="complete"&&--this.completeListeners===0&&(this.hasActiveListeners=!1)})}cancel(){this.currentCallPromise_&&this.currentCallPromise_.cancel();const l=this.longrunningDescriptor.operationsClient,o=new p.google.longrunning.CancelOperationRequest;return o.name=this.latestResponse.name,l.cancelOperation(o)}getOperation(l){const o=this,s=this.longrunningDescriptor.operationsClient;function h(){if(!l)return new Promise((y,O)=>{if(o.latestResponse.error){const w=new a.GoogleError(o.latestResponse.error.message);w.code=o.latestResponse.error.code,O(w)}else y([o.result,o.metadata,o.latestResponse])})}if(this.latestResponse.done)return this._unpackResponse(this.latestResponse,l),h();const v=new p.google.longrunning.GetOperationRequest;v.name=this.latestResponse.name,this.currentCallPromise_=s.getOperationInternal(v,this._callOptions);const b=this.currentCallPromise_.then(y=>(o.latestResponse=y[0],o._unpackResponse(y[0],l),h()),y=>{if(l){l(y);return}return Promise.reject(y)});if(!l)return b}_unpackResponse(l,o){const s=this.longrunningDescriptor.responseDecoder,h=this.longrunningDescriptor.metadataDecoder;let v,b;if(l.done){if(l.result==="error"){const y=new a.GoogleError(l.error.message);y.code=l.error.code,this.error=y,o&&o(y);return}s&&l.response&&(this.response=l.response,v=s(l.response.value),this.result=v,this.done=!0)}h&&l.metadata&&(b=h(l.metadata.value),this.metadata=b),o&&o(null,v,b,l)}startPolling_(){const l=this;let o=new Date;const s=this.backoffSettings.retryDelayMultiplier,h=this.backoffSettings.maxRetryDelayMillis;let v=this.backoffSettings.initialRetryDelayMillis,b=1/0;this.backoffSettings.totalTimeoutMillis&&(b=o.getTime()+this.backoffSettings.totalTimeoutMillis);let y;this.latestResponse.metadata&&(y=this.latestResponse.metadata.value);function O(_,...T){l.emit(_,...T)}function w(_,T){if(_.byteLength!==T.byteLength)return!1;for(let C=0;C<_.byteLength;++C)if(_[C]!==T[C])return!1;return!0}function I(){if(l.hasActiveListeners){if(o.getTime()>=b){const _=new a.GoogleError("Total timeout exceeded before any response was received");_.code=t.Status.DEADLINE_EXCEEDED,setImmediate(O,"error",_);return}l.getOperation((_,T,C,N)=>{if(_){setImmediate(O,"error",_);return}if(!T){if(N.metadata&&(!y||N&&!w(N.metadata.value,y))&&(setImmediate(O,"progress",C,N),y=N.metadata.value),N.done){setImmediate(O,"complete",{},C,N);return}setTimeout(()=>{o=new Date,v=Math.min(v*s,h),I()},v);return}setImmediate(O,"complete",T,C,N)})}}I()}promise(){return new Promise((l,o)=>{this.on("error",o).on("complete",(s,h,v)=>{l([s,h,v])})})}}longrunning.Operation=g;function m(c,l,o,s){return new g(c,l,o,s)}return longrunning}var hasRequiredLongRunningApiCaller;function requireLongRunningApiCaller(){if(hasRequiredLongRunningApiCaller)return longRunningApiCaller;hasRequiredLongRunningApiCaller=1,Object.defineProperty(longRunningApiCaller,"__esModule",{value:!0}),longRunningApiCaller.LongrunningApiCaller=void 0;const e=requireCall(),t=requireGax(),a=requireLongrunning();class p{constructor(m){this.longrunningDescriptor=m}init(m){return m?new e.OngoingCall(m):new e.OngoingCallPromise}wrap(m){return m}call(m,c,l,o){o.call((s,h)=>this._wrapOperation(m,l,s,h),c)}_wrapOperation(m,c,l,o){let s=c.longrunning;s||(s=(0,t.createDefaultBackoffSettings)());const h=this.longrunningDescriptor;return m(l,(v,b)=>{if(v){o(v,null,null,b);return}const y=new a.Operation(b,h,s,c);o(null,y,b)})}fail(m,c){m.callback(c)}result(m){return m.promise}}return longRunningApiCaller.LongrunningApiCaller=p,longRunningApiCaller}var hasRequiredLongRunningDescriptor;function requireLongRunningDescriptor(){if(hasRequiredLongRunningDescriptor)return longRunningDescriptor;hasRequiredLongRunningDescriptor=1,Object.defineProperty(longRunningDescriptor,"__esModule",{value:!0}),longRunningDescriptor.LongRunningDescriptor=void 0;const e=requireLongRunningApiCaller();class t{constructor(p,g,m){this.operationsClient=p,this.responseDecoder=g,this.metadataDecoder=m}getApiCaller(){return new e.LongrunningApiCaller(this)}}return longRunningDescriptor.LongRunningDescriptor=t,longRunningDescriptor}var pageDescriptor={},pagedApiCaller={},resourceCollector={},hasRequiredResourceCollector;function requireResourceCollector(){if(hasRequiredResourceCollector)return resourceCollector;hasRequiredResourceCollector=1,Object.defineProperty(resourceCollector,"__esModule",{value:!0}),resourceCollector.ResourceCollector=void 0;class e{constructor(a,p=-1){this.apiCall=a,this.resources=[],this.maxResults=p}callback(a,p,g){if(a){this.rejectCallback(a);return}for(const c of p)if(this.resources.push(c),this.resources.length===this.maxResults){g=null;break}if(!g){this.resolveCallback(this.resources);return}const m=(...c)=>this.callback(...c);setImmediate(this.apiCall,g,m)}processAllPages(a){return new Promise((p,g)=>{this.resolveCallback=p,this.rejectCallback=g;const m=(...c)=>this.callback(...c);setImmediate(this.apiCall,a,m)})}}return resourceCollector.ResourceCollector=e,resourceCollector}var hasRequiredPagedApiCaller;function requirePagedApiCaller(){if(hasRequiredPagedApiCaller)return pagedApiCaller;hasRequiredPagedApiCaller=1,Object.defineProperty(pagedApiCaller,"__esModule",{value:!0}),pagedApiCaller.PagedApiCaller=void 0;const e=requireCall(),t=requireGoogleError(),a=requireResourceCollector(),p=requireWarnings();class g{constructor(c){this.pageDescriptor=c}generateParseResponseCallback(c,l){const o=this.pageDescriptor.resourceField,s=this.pageDescriptor.responsePageTokenField,h=this.pageDescriptor.requestPageTokenField;return(v,b)=>{if(v){l(v);return}if(!c){l(new t.GoogleError("Undefined request in pagination method callback."));return}if(!b){l(new t.GoogleError("Undefined response in pagination method callback."));return}const y=b[o]||[],O=b[s];let w=null;O&&(w=Object.assign({},c),w[h]=O),l(v,y,w,b)}}wrap(c){const l=this;return function(s,h,v,b){return c(s,h,v,l.generateParseResponseCallback(s,b))}}init(c){return c?new e.OngoingCall(c):new e.OngoingCallPromise}call(c,l,o,s){if(l=Object.assign({},l),!o.autoPaginate){s.call(c,l);return}l.pageSize&&o.autoPaginate&&(0,p.warn)("autoPaginate true","Providing a pageSize without setting autoPaginate to false will still return all results. See https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure manual paging","AutopaginateTrueWarning");const h=o.maxResults||-1;new a.ResourceCollector(c,h).processAllPages(l).then(b=>s.callback(null,b),b=>s.callback(b))}fail(c,l){c.callback(l)}result(c){return c.promise}}return pagedApiCaller.PagedApiCaller=g,pagedApiCaller}var hasRequiredPageDescriptor;function requirePageDescriptor(){if(hasRequiredPageDescriptor)return pageDescriptor;hasRequiredPageDescriptor=1,Object.defineProperty(pageDescriptor,"__esModule",{value:!0}),pageDescriptor.PageDescriptor=void 0;const e=require$$1$3,t=requireNormalApiCaller(),a=requireWarnings(),p=requirePagedApiCaller(),g=10;class m{constructor(l,o,s){this.requestPageTokenField=l,this.responsePageTokenField=o,this.resourceField=s}createStream(l,o,s){s?.autoPaginate&&(0,a.warn)("autoPaginate true","Autopaginate will always be set to false in stream paging methods. See more info at https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure paging calls","AutopaginateTrueWarning");const h=new e.PassThrough({objectMode:!0});s=Object.assign({},s,{autoPaginate:!1});const v="maxResults"in s?s.maxResults:-1;let b=0,y=!1;function O(w,I,_,T){if(w){h.emit("error",w);return}h.emit("response",T);for(let C=0;C<I.length;++C){if(h._readableState.ended)return;I[C]!==null&&(h.push(I[C]),b++,b===v&&h.end())}if(!h._readableState.ended){if(!_){h.end();return}"pageToken"in s&&delete s.pageToken,h.isPaused()?(o=_,y=!1):setImmediate(l,_,s,O)}}return h.on("resume",()=>{y||(y=!0,l(o,s,O))}),h}asyncIterate(l,o,s){return s?.autoPaginate&&(0,a.warn)("autoPaginate true","Autopaginate will always be set to false in Async paging methods. See more info at https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure paging calls","AutopaginateTrueWarning"),s=Object.assign({},s,{autoPaginate:!1}),this.createIterator(l,o,s)}createIterator(l,o,s){return{[Symbol.asyncIterator](){let v=o;const b=[];return{async next(){if(b.length>0)return Promise.resolve({done:!1,value:b.shift()});let y=0;for(;b.length===0&&v;){let O;if([O,v]=await l(v,s),O&&!Array.isArray(O))for(const[w,I]of Object.entries(O))b.push([w,I]);else b.push(...O);if(b.length===0&&(++y,y>g))break}return b.length===0?Promise.resolve({done:!0,value:void 0}):Promise.resolve({done:!1,value:b.shift()})}}}}}getApiCaller(l){return l.autoPaginate?new p.PagedApiCaller(this):new t.NormalApiCaller}}return pageDescriptor.PageDescriptor=m,pageDescriptor}var streamDescriptor={},hasRequiredStreamDescriptor;function requireStreamDescriptor(){if(hasRequiredStreamDescriptor)return streamDescriptor;hasRequiredStreamDescriptor=1,Object.defineProperty(streamDescriptor,"__esModule",{value:!0}),streamDescriptor.StreamDescriptor=void 0;const e=requireStreamingApiCaller();class t{constructor(p,g,m){this.type=p,this.streaming=!0,this.rest=g,this.gaxStreamingRetries=m}getApiCaller(){return new e.StreamingApiCaller(this)}}return streamDescriptor.StreamDescriptor=t,streamDescriptor}var bundleDescriptor={},bundleApiCaller={},hasRequiredBundleApiCaller;function requireBundleApiCaller(){if(hasRequiredBundleApiCaller)return bundleApiCaller;hasRequiredBundleApiCaller=1,Object.defineProperty(bundleApiCaller,"__esModule",{value:!0}),bundleApiCaller.BundleApiCaller=void 0;const e=requireCall(),t=requireGoogleError();class a{constructor(g){this.bundler=g}init(g){return g?new e.OngoingCall(g):new e.OngoingCallPromise}wrap(g){return g}call(g,m,c,l){if(!c.isBundling)throw new t.GoogleError("Bundling enabled with no isBundling!");l.call((o,s)=>(this.bundler.schedule(g,o,s),l),m)}fail(g,m){g.callback(m)}result(g){return g.promise}}return bundleApiCaller.BundleApiCaller=a,bundleApiCaller}var bundleExecutor={},bundlingUtils={},hasRequiredBundlingUtils;function requireBundlingUtils(){if(hasRequiredBundlingUtils)return bundlingUtils;hasRequiredBundlingUtils=1,Object.defineProperty(bundlingUtils,"__esModule",{value:!0}),bundlingUtils.computeBundleId=e;function e(a,p){const g=[];let m=!1;for(const c of p){const l=t(a,c);l===void 0?g.push(null):(m=!0,g.push(l))}if(m)return JSON.stringify(g)}function t(a,p){const g=p.split(".");let m=a;for(const c of g)m=m?.[c];return m}return bundlingUtils}var task={},hasRequiredTask;function requireTask(){if(hasRequiredTask)return task;hasRequiredTask=1,Object.defineProperty(task,"__esModule",{value:!0}),task.Task=void 0,task.deepCopyForResponse=a;const e=requireStatus(),t=requireGoogleError();function a(g,m){let c;if(g===null)return null;if(g!==void 0)return Array.isArray(g)?(c=[],g.forEach(l=>{c.push(a(l,null))}),c):g.copy!==void 0?g.copy():g instanceof ArrayBuffer?g.slice(0):typeof g=="object"?(c={},Object.keys(g).forEach(l=>{m&&l===m.field&&Array.isArray(g[l])?c[l]=g[l].slice(m.start,m.end):c[l]=a(g[l],null)}),c):g}class p{constructor(m,c,l,o){this._apiCall=m,this._request=c,this._bundledField=l,this._subresponseField=o,this._data=[]}getElementCount(){let m=0;for(let c=0;c<this._data.length;++c)m+=this._data[c].elements.length;return m}getRequestByteSize(){let m=0;for(let c=0;c<this._data.length;++c)m+=this._data[c].bytes;return m}run(){if(this._data.length===0)return[];const m=this._request,c=[],l=[];for(let s=0;s<this._data.length;++s)c.push(...this._data[s].elements),l.push(this._data[s].callback.id);m[this._bundledField]=c;const o=this;return this.callCanceller=this._apiCall(m,(s,h)=>{const v=[];if(s)o._data.forEach(()=>{v.push(void 0)});else{let b=null;o._subresponseField&&(b={field:o._subresponseField,start:0}),o._data.forEach(y=>{b&&(b.end=b.start+y.elements.length),v.push(a(h,b)),b&&(b.start=b.end)})}for(let b=0;b<o._data.length;++b)if(o._data[b].cancelled){const y=new t.GoogleError("cancelled");y.code=e.Status.CANCELLED,o._data[b].callback(y)}else o._data[b].callback(s,v[b])}),l}extend(m,c,l){this._data.push({elements:m,bytes:c,callback:l})}cancel(m){if(this.callCanceller){let c=!0;return this._data.forEach(l=>{l.callback.id===m&&(l.cancelled=!0),l.cancelled||(c=!1)}),c&&this.callCanceller.cancel(),c}for(let c=0;c<this._data.length;++c)if(this._data[c].callback.id===m){const l=new t.GoogleError("cancelled");l.code=e.Status.CANCELLED,this._data[c].callback(l),this._data.splice(c,1);break}return this._data.length===0}}return task.Task=p,task}var hasRequiredBundleExecutor;function requireBundleExecutor(){if(hasRequiredBundleExecutor)return bundleExecutor;hasRequiredBundleExecutor=1,Object.defineProperty(bundleExecutor,"__esModule",{value:!0}),bundleExecutor.BundleExecutor=void 0;const e=requireStatus(),t=requireGoogleError(),a=requireWarnings(),p=requireBundlingUtils(),g=requireTask();function m(){}class c{constructor(o,s){this._options=o,this._descriptor=s,this._tasks={},this._timers={},this._invocations={},this._invocationId=0}schedule(o,s,h){const v=(0,p.computeBundleId)(s,this._descriptor.requestDiscriminatorFields);if(h=h||m,v===void 0)return(0,a.warn)("bundling_schedule_bundleid_undefined",`The request does not have enough information for request bundling. Invoking immediately. Request: ${JSON.stringify(s)} discriminator fields: ${this._descriptor.requestDiscriminatorFields}`),o(s,h);if(s[this._descriptor.bundledField]===void 0)return(0,a.warn)("bundling_no_bundled_field",`Request does not contain field ${this._descriptor.bundledField} that must present for bundling. Invoking immediately. Request: ${JSON.stringify(s)}`),o(s,h);v in this._tasks||(this._tasks[v]=new g.Task(o,s,this._descriptor.bundledField,this._descriptor.subresponseField));let b=this._tasks[v];h.id=String(this._invocationId++),this._invocations[h.id]=v;const y=s[this._descriptor.bundledField],O=y.length;let w=0;const I=this;y.forEach(k=>{w+=this._descriptor.byteLengthFunction(k)});const _=this._options.elementCountLimit||0,T=this._options.requestByteLimit||0;if(_>0&&O>_||T>0&&w>=T){let k;_>0&&O>_?k="The number of elements "+O+" exceeds the limit "+this._options.elementCountLimit:k="The required bytes "+w+" exceeds the limit "+this._options.requestByteLimit;const V=new t.GoogleError(k);return V.code=e.Status.INVALID_ARGUMENT,h(V),{cancel:m}}const C=b.getElementCount(),N=b.getRequestByteSize();(_>0&&O+C>=_||T>0&&w+N>=T)&&(this._runNow(v),this._tasks[v]=new g.Task(o,s,this._descriptor.bundledField,this._descriptor.subresponseField),b=this._tasks[v]),b.extend(y,w,h);const L={cancel(){I._cancel(h.id)}},D=this._options.elementCountThreshold||0,j=this._options.requestByteThreshold||0;return D>0&&b.getElementCount()>=D||j>0&&b.getRequestByteSize()>=j?(this._runNow(v),L):(!(v in this._timers)&&this._options.delayThreshold>0&&(this._timers[v]=setTimeout(()=>{delete this._timers[v],this._runNow(v)},this._options.delayThreshold)),L)}_maybeClearTimeout(o){if(o in this._timers){const s=this._timers[o];delete this._timers[o],clearTimeout(s)}}_cancel(o){if(!(o in this._invocations))return;const s=this._invocations[o];if(!(s in this._tasks))return;const h=this._tasks[s];delete this._invocations[o],h.cancel(o)&&(this._maybeClearTimeout(s),delete this._tasks[s])}_runNow(o){if(!(o in this._tasks)){(0,a.warn)("bundle_runnow_bundleid_unknown",`No such bundleid: ${o}`);return}this._maybeClearTimeout(o);const s=this._tasks[o];delete this._tasks[o],s.run().forEach(h=>{delete this._invocations[h]})}}return bundleExecutor.BundleExecutor=c,bundleExecutor}var hasRequiredBundleDescriptor;function requireBundleDescriptor(){if(hasRequiredBundleDescriptor)return bundleDescriptor;hasRequiredBundleDescriptor=1,Object.defineProperty(bundleDescriptor,"__esModule",{value:!0}),bundleDescriptor.BundleDescriptor=void 0;const e=requireNormalApiCaller(),t=requireBundleApiCaller(),a=requireBundleExecutor(),p=requireUtil$2();class g{constructor(c,l,o,s){!s&&typeof o=="function"&&(s=o,o=null),this.bundledField=c,this.requestDiscriminatorFields=l.map(p.toCamelCase),this.subresponseField=o,this.byteLengthFunction=s}getApiCaller(c){return c.isBundling===!1?new e.NormalApiCaller:new t.BundleApiCaller(new a.BundleExecutor(c.bundleOptions,this))}}return bundleDescriptor.BundleDescriptor=g,bundleDescriptor}var hasRequiredDescriptor;function requireDescriptor(){return hasRequiredDescriptor||(hasRequiredDescriptor=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BundleDescriptor=e.StreamDescriptor=e.PageDescriptor=e.LongrunningDescriptor=void 0;var t=requireLongRunningDescriptor();Object.defineProperty(e,"LongrunningDescriptor",{enumerable:!0,get:function(){return t.LongRunningDescriptor}});var a=requirePageDescriptor();Object.defineProperty(e,"PageDescriptor",{enumerable:!0,get:function(){return a.PageDescriptor}});var p=requireStreamDescriptor();Object.defineProperty(e,"StreamDescriptor",{enumerable:!0,get:function(){return p.StreamDescriptor}});var g=requireBundleDescriptor();Object.defineProperty(e,"BundleDescriptor",{enumerable:!0,get:function(){return g.BundleDescriptor}})})(descriptor)),descriptor}const interfaces$4={"google.longrunning.Operations":{retry_codes:{idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],non_idempotent:[]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:9e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:9e4,total_timeout_millis:6e5}},methods:{GetOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListOperations:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},CancelOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},DeleteOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"}}}},require$$3={interfaces:interfaces$4},nested$5=JSON.parse('{"google":{"nested":{"longrunning":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.LongRunning","go_package":"google.golang.org/genproto/googleapis/longrunning;longrunning","java_multiple_files":true,"java_outer_classname":"OperationsProto","java_package":"com.google.longrunning","php_namespace":"Google\\\\LongRunning"},"nested":{"operationInfo":{"type":"google.longrunning.OperationInfo","id":1049,"extend":"google.protobuf.MethodOptions"},"Operations":{"options":{"(google.api.default_host)":"longrunning.googleapis.com"},"methods":{"ListOperations":{"requestType":"ListOperationsRequest","responseType":"ListOperationsResponse","options":{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},"GetOperation":{"requestType":"GetOperationRequest","responseType":"Operation","options":{"(google.api.http).get":"/v1/operations/{name}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/operations/{name}"}},{"(google.api.method_signature)":"name"}]},"DeleteOperation":{"requestType":"DeleteOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"CancelOperation":{"requestType":"CancelOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=operations/**}:cancel","body":"*"}},{"(google.api.method_signature)":"name"}]},"WaitOperation":{"requestType":"WaitOperationRequest","responseType":"Operation"}}},"Operation":{"oneofs":{"result":{"oneof":["error","response"]}},"fields":{"name":{"type":"string","id":1},"metadata":{"type":"google.protobuf.Any","id":2},"done":{"type":"bool","id":3},"error":{"type":"google.rpc.Status","id":4},"response":{"type":"google.protobuf.Any","id":5}}},"GetOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"ListOperationsRequest":{"fields":{"name":{"type":"string","id":4},"filter":{"type":"string","id":1},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListOperationsResponse":{"fields":{"operations":{"rule":"repeated","type":"Operation","id":1},"nextPageToken":{"type":"string","id":2}}},"CancelOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"DeleteOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"WaitOperationRequest":{"fields":{"name":{"type":"string","id":1},"timeout":{"type":"google.protobuf.Duration","id":2}}},"OperationInfo":{"fields":{"responseType":{"type":"string","id":1},"metadataType":{"type":"string","id":2}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Empty":{"fields":{}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}'),require$$4={nested:nested$5};var transcoding={},hasRequiredTranscoding;function requireTranscoding(){if(hasRequiredTranscoding)return transcoding;hasRequiredTranscoding=1,Object.defineProperty(transcoding,"__esModule",{value:!0}),transcoding.getField=g,transcoding.deepCopyWithoutMatchedFields=m,transcoding.deleteField=c,transcoding.buildQueryStringComponents=l,transcoding.encodeWithSlashes=o,transcoding.encodeWithoutSlashes=s,transcoding.applyPattern=v,transcoding.match=y,transcoding.flattenObject=O,transcoding.isProto3OptionalField=w,transcoding.transcode=I,transcoding.overrideHttpRules=_;const e=requireUtil$2(),t="(google.api.http)",a="proto3_optional",p=["get","post","put","patch","delete"];function g(T,C,N=!1){const L=C.split(".");let D=T;for(const j of L){if(typeof D!="object")return;D=D[j]}if(!(!N&&typeof D=="object"&&!Array.isArray(D)&&D!==null))return D}function m(T,C,N=""){if(typeof T!="object"||T===null)return T;const L=Object.assign({},T);for(const D in L){if(C.has(`${N}${D}`)){delete L[D];continue}const j=`${N}${D}.`;Array.isArray(L[D])?L[D]=L[D].map(k=>m(k,new Set)):typeof L[D]=="object"&&L[D]!==null&&(L[D]=m(L[D],C,j))}return L}function c(T,C){const N=C.split(".");for(;N.length>1;){if(typeof T!="object")return;const D=N.shift();T=T[D]}const L=N.shift();typeof T=="object"&&delete T[L]}function l(T,C=""){const N=[];for(const L in T)if(Array.isArray(T[L]))for(const D of T[L])N.push(`${C}${s(L)}=${s(D.toString())}`);else typeof T[L]=="object"&&T[L]!==null?N.push(...l(T[L],`${L}.`)):N.push(`${C}${s(L)}=${s(T[L]===null?"null":T[L].toString())}`);return N}function o(T){return T.split("").map(C=>C.match(/[-_.~0-9a-zA-Z]/)?C:encodeURIComponent(C)).join("")}function s(T){return T.split("").map(C=>C.match(/[-_.~0-9a-zA-Z/]/)?C:encodeURIComponent(C)).join("")}function h(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(T,C){if(!T||T==="*")return o(C);if(!T.includes("*")&&T!==C)return;const N=new RegExp("^"+h(T).replace(/\\\*\\\*/g,"(.+)").replace(/\\\*/g,"([^/]+)")+"$");if(C.match(N))return s(C)}function b(T){return T.split(".").map(N=>(0,e.toCamelCase)(N)).join(".")}function y(T,C){let N=C;const L=[];for(;;){const D=N.match(/^(.*)\{([^}=]+)(?:=([^}]*))?\}(.*)/);if(!D)break;const[,j,k,V,G]=D,J=b(k);L.push(b(J));const W=g(T,J);if(W===void 0)return;const K=v(V,W===null?"null":W.toString());if(K===void 0)return;N=j+K+G}return{matchedFields:L,url:N}}function O(T){const C={};for(const N in T)if(T[N]!==void 0){if(Array.isArray(T[N])){C[N]=T[N];continue}if(typeof T[N]=="object"&&T[N]!==null){const L=O(T[N]);for(const D in L)C[`${N}.${D}`]=L[D];continue}C[N]=T[N]}return C}function w(T){return T&&T.options&&T.options[a]}function I(T,C){const N=[];for(const L of C){if(!(t in L))continue;const D=L[t];if(N.push(D),D?.additional_bindings){const j=Array.isArray(D.additional_bindings)?D.additional_bindings:[D.additional_bindings];N.push(...j)}}for(const L of N)for(const D of p){if(!(D in L))continue;const j=L[D],k=y(T,j);if(k===void 0)continue;const{url:V,matchedFields:G}=k;let J=m(T,new Set(G));if(L.body==="*")return{httpMethod:D,url:V,queryString:"",data:J};const W=J;L.body?(J=g(W,b(L.body),!0),c(W,b(L.body))):J="";const X=l(W).join("&");return(!J||typeof J=="object"&&Object.keys(J).length===0)&&(J=""),{httpMethod:D,url:V,queryString:X,data:J}}}function _(T,C){for(const N of T){if(!N.selector)continue;const L=C.lookup(N.selector);if(!(!L||!L.parsedOptions))for(const D of L.parsedOptions){if(!(t in D))continue;const j=D[t];for(const k in j){if(k in N){if(k==="additional_bindings")continue;j[k]=N[k]}N.additional_bindings&&(j.additional_bindings=j.additional_bindings?Array.isArray(j.additional_bindings)?j.additional_bindings:[j.additional_bindings]:[],j.additional_bindings.push(...N.additional_bindings))}}}}return transcoding}const version$1="4.6.1",require$$17={version:version$1};var hasRequiredOperationsClient;function requireOperationsClient(){return hasRequiredOperationsClient||(hasRequiredOperationsClient=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OperationsClientBuilder=e.OperationsClient=e.ALL_SCOPES=e.SERVICE_ADDRESS=void 0;const t=requireCreateApiCall(),a=requireDescriptor(),p=requireGax(),g=require$$3,m=require$$4,c=requireTranscoding();e.SERVICE_ADDRESS="longrunning.googleapis.com";const l=require$$17.version,o=443,s="gapic/0.7.1";e.ALL_SCOPES=[];class h{constructor(y,O,w){const I=Object.assign({servicePath:e.SERVICE_ADDRESS,port:o,clientConfig:{}},w),_=["gl-node/"+process.versions.node];I.libName&&I.libVersion&&_.push(I.libName+"/"+I.libVersion),_.push(s,"gax/"+l),I.fallback?_.push("gl-web/"+l):_.push("grpc/"+y.grpcVersion);const T=y.constructSettings("google.longrunning.Operations",g,I.clientConfig||{},{"x-goog-api-client":_.join(" ")});this.auth=y.auth,this.innerApiCalls={},this.descriptor={listOperations:new a.PageDescriptor("pageToken","nextPageToken","operations")},this.operationsStub=y.createStub(I.fallback?O.lookupService("google.longrunning.Operations"):O.google.longrunning.Operations,I);const C=["getOperation","listOperations","cancelOperation","deleteOperation"];for(const N of C){const L=this.operationsStub.then(D=>(...j)=>D[N].apply(D,j),D=>()=>{throw D});this.innerApiCalls[N]=(0,t.createApiCall)(L,T[N],this.descriptor[N])}}close(){this.operationsStub.then(y=>y.close())}getProjectId(y){if(this.auth&&"getProjectId"in this.auth)return this.auth.getProjectId(y);if(y)y(new Error("Cannot determine project ID."));else return Promise.reject("Cannot determine project ID.")}getOperationInternal(y,O,w){return y=y||{},O=O||{},this.innerApiCalls.getOperation(y,O,w)}getOperation(y,O,w){let I;return O instanceof Function&&w===void 0?(w=O,I={}):I=O,y=y||{},I=I||{},this.innerApiCalls.getOperation(y,I,w)}listOperations(y,O,w){let I;return O instanceof Function&&w===void 0?(w=O,I={}):I=O,y=y||{},I=I||{},this.innerApiCalls.listOperations(y,I,w)}listOperationsStream(y,O){const w=new p.CallSettings(O);return this.descriptor.listOperations.createStream(this.innerApiCalls.listOperations,y,w)}listOperationsAsync(y,O){y=y||{},O=O||{};const w=new p.CallSettings(O);return this.descriptor.listOperations.asyncIterate(this.innerApiCalls.listOperations,y,w)}cancelOperation(y,O,w){let I;return O instanceof Function&&w===void 0?(w=O,I={}):I=O,y=y||{},I=I||{},this.innerApiCalls.cancelOperation(y,I,w)}deleteOperation(y,O,w){let I;return O instanceof Function&&w===void 0?(w=O,I={}):I=O,y=y||{},I=I||{},this.innerApiCalls.deleteOperation(y,I,w)}}e.OperationsClient=h;class v{constructor(y,O){O&&y.httpRules&&(0,c.overrideHttpRules)(y.httpRules,O);const w=O??y.loadProtoJSON(m);this.operationsClient=I=>(y.fallback&&(I.fallback=y.fallback),new h(y,w,I)),Object.assign(this.operationsClient,h)}}e.OperationsClientBuilder=v})(operationsClient)),operationsClient}var fallbackRest={},hasRequiredFallbackRest;function requireFallbackRest(){if(hasRequiredFallbackRest)return fallbackRest;hasRequiredFallbackRest=1,Object.defineProperty(fallbackRest,"__esModule",{value:!0}),fallbackRest.encodeRequest=g,fallbackRest.decodeResponse=m;const e=requireSrc$1(),t=requireFallback(),a=requireGoogleError(),p=requireTranscoding();function g(c,l,o,s,h,v){const b={"Content-Type":"application/json"},y=c.resolvedRequestType.fromObject(h),O=e.toProto3JSON(y,{numericEnums:v});if(!O)throw new Error(`Cannot send null request to RPC ${c.name}.`);if(typeof O!="object"||Array.isArray(O))throw new Error(`Request to RPC ${c.name} must be an object.`);const w=(0,p.transcode)(O,c.parsedOptions);if(!w)throw new Error(`Cannot build HTTP request for ${JSON.stringify(O)}, method: ${c.name}`);v&&(w.queryString=(w.queryString?`${w.queryString}&`:"")+"$alt=json%3Benum-encoding=int");const I=w.httpMethod.toUpperCase(),_=JSON.stringify(w.data),T=`${l}://${o}:${s}/${w.url.replace(/^\//,"")}?${w.queryString}`;return{method:I,url:T,headers:b,body:_}}function m(c,l,o){const s=new TextDecoder().decode(o);if(!s)throw new Error(`Received null response from RPC ${c.name}`);const h=JSON.parse(s);if(!l)throw a.GoogleError.parseHttpError(h);const v=e.fromProto3JSON(c.resolvedResponseType,h);if(!v)throw new Error(`Received null or malformed response from JSON serializer from RPC ${c.name}`);return c.resolvedResponseType.toObject(v,t.defaultToObjectOptions)}return fallbackRest}var fallbackServiceStub={},streamArrayParser={},hasRequiredStreamArrayParser;function requireStreamArrayParser(){if(hasRequiredStreamArrayParser)return streamArrayParser;hasRequiredStreamArrayParser=1,Object.defineProperty(streamArrayParser,"__esModule",{value:!0}),streamArrayParser.StreamArrayParser=void 0;const e=requireBrowser(),t=require$$1$3,a=requireFallbackRest(),p=requireFeatureDetection();class g extends t.Transform{constructor(c,l){super(Object.assign({},l,{readableObjectMode:!0})),this._done=!1,this._prevBlock=Buffer.from(""),this._isInString=!1,this._isSkipped=!1,this._level=0,this.rpc=c,this.cancelController=(0,p.hasAbortController)()?new AbortController:new e.AbortController,this.cancelSignal=this.cancelController.signal,this.cancelRequested=!1}_transform(c,l,o){let s=0,h=0;for(this._level===0&&h===0&&(String.fromCharCode(c[0])!=="["&&this.emit("error",new Error(`Internal Error: API service stream data must start with a '[' and close with the corresponding ']', but it start with ${String.fromCharCode(c[0])}`)),h++,this._level++);h<c.length;){const v=String.fromCharCode(c[h]);if(this._isSkipped)this._isSkipped=!1;else switch(v){case"{":this._isInString||this._level++,!this._isInString&&this._level===2&&(s=h);break;case'"':this._isInString=!this._isInString;break;case"}":if(this._isInString||this._level--,!this._isInString&&this._level===1){const b=Buffer.concat([this._prevBlock,c.slice(s,h+1)]);try{const y=(0,a.decodeResponse)(this.rpc,!0,b);this.push(y)}catch(y){this.emit("error",y)}s=h+1,this._prevBlock=Buffer.from("")}break;case"]":!this._isInString&&this._level===1&&(this._done=!0,this.push(null));break;case"\\":this._isSkipped=!0;break}h++}this._level>1&&(this._prevBlock=Buffer.concat([this._prevBlock,c.slice(s,h)])),o()}_flush(c){c()}cancel(){this._done=!0,this.cancelRequested=!0,this.cancelController.abort(),this.end()}}return streamArrayParser.StreamArrayParser=g,streamArrayParser}var hasRequiredFallbackServiceStub;function requireFallbackServiceStub(){if(hasRequiredFallbackServiceStub)return fallbackServiceStub;hasRequiredFallbackServiceStub=1,Object.defineProperty(fallbackServiceStub,"__esModule",{value:!0}),fallbackServiceStub.generateServiceStub=m;const e=requireBrowser$3(),t=requireBrowser(),a=requireFeatureDetection(),p=requireStreamArrayParser(),g=require$$1$3;function m(c,l,o,s,h,v,b,y){const O=(0,a.hasWindowFetch)()?window.fetch:e.default,w={close:()=>({cancel:()=>{}})};for(const[I,_]of Object.entries(c))w[I]=(T,C,N,L)=>{C??(C={});let D;try{D=v(_,l,o,s,T,y)}catch(K){return L&&L(K),{cancel(){}}}const j=(0,a.hasAbortController)()?new AbortController:new t.AbortController,k=j.signal;let V=!1;const G=D.url,J=D.headers;for(const K of Object.keys(C))J[K]=C[K][0];const W=new p.StreamArrayParser(_);return h.getRequestHeaders().then(K=>{const X={headers:{...K,...J},body:D.body,method:D.method,signal:k};return(D.method==="GET"||D.method==="DELETE")&&delete X.body,O(G,X)}).then(K=>{if(K.ok&&_.responseStream){(0,g.pipeline)(K.body,W,X=>{X&&(!V||X instanceof Error&&X.name!=="AbortError")&&(L&&L(X),W.emit("error",X))});return}else return Promise.all([Promise.resolve(K.ok),K.arrayBuffer()]).then(([X,Y])=>{const te=b(_,X,Y);L(null,te)}).catch(X=>{if(!V||X.name!=="AbortError")if(_.responseStream)L&&L(X),W.emit("error",X);else if(L)L(X);else throw X})}).catch(K=>{if(_.responseStream)L&&L(K),W.emit("error",K);else if(L)L(K);else throw K}),_.responseStream?W:{cancel:()=>{V=!0,j.abort()}}};return w}return fallbackServiceStub}var iam_service={exports:{}},hasRequiredIam_service;function requireIam_service(){return hasRequiredIam_service||(hasRequiredIam_service=1,(function(e){(t=>{typeof commonjsRequire=="function"&&e&&e.exports&&(e.exports=t(requireMinimal()))})(function(t){var a,p,g,m,c,l=t.Reader,o=t.Writer,s=t.util,h=t.roots.iam_protos||(t.roots.iam_protos={});function v(n,q,U){t.rpc.Service.call(this,n,q,U)}function b(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function y(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function O(n){if(this.permissions=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function w(n){if(this.permissions=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function I(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function _(n){if(this.bindings=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function T(n){if(this.members=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function C(n){if(this.bindingDeltas=[],this.auditConfigDeltas=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function N(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function L(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function D(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function j(n){if(this.rules=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function k(n){if(this.additionalBindings=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function V(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function G(n){if(this.pattern=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function J(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function W(n){if(this.file=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function K(n){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function X(n){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function Y(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function te(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function oe(n){if(this.uninterpretedOption=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function le(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function ee(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function se(n){if(this.value=[],this.reservedRange=[],this.reservedName=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function de(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function he(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function ge(n){if(this.method=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function me(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function Oe(n){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function fe(n){if(this.uninterpretedOption=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function _e(n){if(this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function Ee(n){if(this.uninterpretedOption=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function z(n){if(this.uninterpretedOption=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function d(n){if(this.uninterpretedOption=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function P(n){if(this.uninterpretedOption=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function A(n){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function $(n){if(this.name=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function ie(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function pe(n){if(this.location=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function ne(n){if(this.path=[],this.span=[],this.leadingDetachedComments=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function u(n){if(this.annotation=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function x(n){if(this.path=[],n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}function M(n){if(n)for(var q=Object.keys(n),U=0;U<q.length;++U)n[q[U]]!=null&&(this[q[U]]=n[q[U]])}return h.google=((c={}).iam=((g={}).v1=((p={}).IAMPolicy=(((v.prototype=Object.create(t.rpc.Service.prototype)).constructor=v).create=function(n,q,U){return new this(n,q,U)},Object.defineProperty(v.prototype.setIamPolicy=function n(q,U){return this.rpcCall(n,h.google.iam.v1.SetIamPolicyRequest,h.google.iam.v1.Policy,q,U)},"name",{value:"SetIamPolicy"}),Object.defineProperty(v.prototype.getIamPolicy=function n(q,U){return this.rpcCall(n,h.google.iam.v1.GetIamPolicyRequest,h.google.iam.v1.Policy,q,U)},"name",{value:"GetIamPolicy"}),Object.defineProperty(v.prototype.testIamPermissions=function n(q,U){return this.rpcCall(n,h.google.iam.v1.TestIamPermissionsRequest,h.google.iam.v1.TestIamPermissionsResponse,q,U)},"name",{value:"TestIamPermissions"}),v),p.SetIamPolicyRequest=(b.prototype.resource="",b.prototype.policy=null,b.create=function(n){return new b(n)},b.encode=function(n,q){return q=q||o.create(),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&q.uint32(10).string(n.resource),n.policy!=null&&Object.hasOwnProperty.call(n,"policy")&&h.google.iam.v1.Policy.encode(n.policy,q.uint32(18).fork()).ldelim(),q},b.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},b.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.SetIamPolicyRequest;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.resource=n.string();break;case 2:Q.policy=h.google.iam.v1.Policy.decode(n,n.uint32());break;default:n.skipType(7&ye)}}return Q},b.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},b.verify=function(n){return typeof n!="object"||n===null?"object expected":n.resource!=null&&n.hasOwnProperty("resource")&&!s.isString(n.resource)?"resource: string expected":n.policy!=null&&n.hasOwnProperty("policy")&&(n=h.google.iam.v1.Policy.verify(n.policy),n)?"policy."+n:null},b.fromObject=function(n){if(n instanceof h.google.iam.v1.SetIamPolicyRequest)return n;var q=new h.google.iam.v1.SetIamPolicyRequest;if(n.resource!=null&&(q.resource=String(n.resource)),n.policy!=null){if(typeof n.policy!="object")throw TypeError(".google.iam.v1.SetIamPolicyRequest.policy: object expected");q.policy=h.google.iam.v1.Policy.fromObject(n.policy)}return q},b.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.resource="",U.policy=null),n.resource!=null&&n.hasOwnProperty("resource")&&(U.resource=n.resource),n.policy!=null&&n.hasOwnProperty("policy")&&(U.policy=h.google.iam.v1.Policy.toObject(n.policy,q)),U},b.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},b),p.GetIamPolicyRequest=(y.prototype.resource="",y.prototype.options=null,y.create=function(n){return new y(n)},y.encode=function(n,q){return q=q||o.create(),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&q.uint32(10).string(n.resource),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&h.google.iam.v1.GetPolicyOptions.encode(n.options,q.uint32(18).fork()).ldelim(),q},y.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},y.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.GetIamPolicyRequest;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.resource=n.string();break;case 2:Q.options=h.google.iam.v1.GetPolicyOptions.decode(n,n.uint32());break;default:n.skipType(7&ye)}}return Q},y.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},y.verify=function(n){return typeof n!="object"||n===null?"object expected":n.resource!=null&&n.hasOwnProperty("resource")&&!s.isString(n.resource)?"resource: string expected":n.options!=null&&n.hasOwnProperty("options")&&(n=h.google.iam.v1.GetPolicyOptions.verify(n.options),n)?"options."+n:null},y.fromObject=function(n){if(n instanceof h.google.iam.v1.GetIamPolicyRequest)return n;var q=new h.google.iam.v1.GetIamPolicyRequest;if(n.resource!=null&&(q.resource=String(n.resource)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.iam.v1.GetIamPolicyRequest.options: object expected");q.options=h.google.iam.v1.GetPolicyOptions.fromObject(n.options)}return q},y.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.resource="",U.options=null),n.resource!=null&&n.hasOwnProperty("resource")&&(U.resource=n.resource),n.options!=null&&n.hasOwnProperty("options")&&(U.options=h.google.iam.v1.GetPolicyOptions.toObject(n.options,q)),U},y.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},y),p.TestIamPermissionsRequest=(O.prototype.resource="",O.prototype.permissions=s.emptyArray,O.create=function(n){return new O(n)},O.encode=function(n,q){if(q=q||o.create(),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&q.uint32(10).string(n.resource),n.permissions!=null&&n.permissions.length)for(var U=0;U<n.permissions.length;++U)q.uint32(18).string(n.permissions[U]);return q},O.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},O.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.TestIamPermissionsRequest;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.resource=n.string();break;case 2:Q.permissions&&Q.permissions.length||(Q.permissions=[]),Q.permissions.push(n.string());break;default:n.skipType(7&ye)}}return Q},O.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},O.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resource!=null&&n.hasOwnProperty("resource")&&!s.isString(n.resource))return"resource: string expected";if(n.permissions!=null&&n.hasOwnProperty("permissions")){if(!Array.isArray(n.permissions))return"permissions: array expected";for(var q=0;q<n.permissions.length;++q)if(!s.isString(n.permissions[q]))return"permissions: string[] expected"}return null},O.fromObject=function(n){if(n instanceof h.google.iam.v1.TestIamPermissionsRequest)return n;var q=new h.google.iam.v1.TestIamPermissionsRequest;if(n.resource!=null&&(q.resource=String(n.resource)),n.permissions){if(!Array.isArray(n.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsRequest.permissions: array expected");q.permissions=[];for(var U=0;U<n.permissions.length;++U)q.permissions[U]=String(n.permissions[U])}return q},O.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.permissions=[]),q.defaults&&(U.resource=""),n.resource!=null&&n.hasOwnProperty("resource")&&(U.resource=n.resource),n.permissions&&n.permissions.length){U.permissions=[];for(var Q=0;Q<n.permissions.length;++Q)U.permissions[Q]=n.permissions[Q]}return U},O.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},O),p.TestIamPermissionsResponse=(w.prototype.permissions=s.emptyArray,w.create=function(n){return new w(n)},w.encode=function(n,q){if(q=q||o.create(),n.permissions!=null&&n.permissions.length)for(var U=0;U<n.permissions.length;++U)q.uint32(10).string(n.permissions[U]);return q},w.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},w.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.TestIamPermissionsResponse;n.pos<U;){var ye=n.uint32();ye>>>3==1?(Q.permissions&&Q.permissions.length||(Q.permissions=[]),Q.permissions.push(n.string())):n.skipType(7&ye)}return Q},w.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},w.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.permissions!=null&&n.hasOwnProperty("permissions")){if(!Array.isArray(n.permissions))return"permissions: array expected";for(var q=0;q<n.permissions.length;++q)if(!s.isString(n.permissions[q]))return"permissions: string[] expected"}return null},w.fromObject=function(n){if(n instanceof h.google.iam.v1.TestIamPermissionsResponse)return n;var q=new h.google.iam.v1.TestIamPermissionsResponse;if(n.permissions){if(!Array.isArray(n.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsResponse.permissions: array expected");q.permissions=[];for(var U=0;U<n.permissions.length;++U)q.permissions[U]=String(n.permissions[U])}return q},w.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.permissions=[]),n.permissions&&n.permissions.length){U.permissions=[];for(var Q=0;Q<n.permissions.length;++Q)U.permissions[Q]=n.permissions[Q]}return U},w.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},w),p.GetPolicyOptions=(I.prototype.requestedPolicyVersion=0,I.create=function(n){return new I(n)},I.encode=function(n,q){return q=q||o.create(),n.requestedPolicyVersion!=null&&Object.hasOwnProperty.call(n,"requestedPolicyVersion")&&q.uint32(8).int32(n.requestedPolicyVersion),q},I.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},I.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.GetPolicyOptions;n.pos<U;){var ye=n.uint32();ye>>>3==1?Q.requestedPolicyVersion=n.int32():n.skipType(7&ye)}return Q},I.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},I.verify=function(n){return typeof n!="object"||n===null?"object expected":n.requestedPolicyVersion!=null&&n.hasOwnProperty("requestedPolicyVersion")&&!s.isInteger(n.requestedPolicyVersion)?"requestedPolicyVersion: integer expected":null},I.fromObject=function(n){var q;return n instanceof h.google.iam.v1.GetPolicyOptions?n:(q=new h.google.iam.v1.GetPolicyOptions,n.requestedPolicyVersion!=null&&(q.requestedPolicyVersion=0|n.requestedPolicyVersion),q)},I.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.requestedPolicyVersion=0),n.requestedPolicyVersion!=null&&n.hasOwnProperty("requestedPolicyVersion")&&(U.requestedPolicyVersion=n.requestedPolicyVersion),U},I.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},I),p.Policy=(_.prototype.version=0,_.prototype.bindings=s.emptyArray,_.prototype.etag=s.newBuffer([]),_.create=function(n){return new _(n)},_.encode=function(n,q){if(q=q||o.create(),n.version!=null&&Object.hasOwnProperty.call(n,"version")&&q.uint32(8).int32(n.version),n.etag!=null&&Object.hasOwnProperty.call(n,"etag")&&q.uint32(26).bytes(n.etag),n.bindings!=null&&n.bindings.length)for(var U=0;U<n.bindings.length;++U)h.google.iam.v1.Binding.encode(n.bindings[U],q.uint32(34).fork()).ldelim();return q},_.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},_.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.Policy;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.version=n.int32();break;case 4:Q.bindings&&Q.bindings.length||(Q.bindings=[]),Q.bindings.push(h.google.iam.v1.Binding.decode(n,n.uint32()));break;case 3:Q.etag=n.bytes();break;default:n.skipType(7&ye)}}return Q},_.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},_.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.version!=null&&n.hasOwnProperty("version")&&!s.isInteger(n.version))return"version: integer expected";if(n.bindings!=null&&n.hasOwnProperty("bindings")){if(!Array.isArray(n.bindings))return"bindings: array expected";for(var q=0;q<n.bindings.length;++q){var U=h.google.iam.v1.Binding.verify(n.bindings[q]);if(U)return"bindings."+U}}return n.etag!=null&&n.hasOwnProperty("etag")&&!(n.etag&&typeof n.etag.length=="number"||s.isString(n.etag))?"etag: buffer expected":null},_.fromObject=function(n){if(n instanceof h.google.iam.v1.Policy)return n;var q=new h.google.iam.v1.Policy;if(n.version!=null&&(q.version=0|n.version),n.bindings){if(!Array.isArray(n.bindings))throw TypeError(".google.iam.v1.Policy.bindings: array expected");q.bindings=[];for(var U=0;U<n.bindings.length;++U){if(typeof n.bindings[U]!="object")throw TypeError(".google.iam.v1.Policy.bindings: object expected");q.bindings[U]=h.google.iam.v1.Binding.fromObject(n.bindings[U])}}return n.etag!=null&&(typeof n.etag=="string"?s.base64.decode(n.etag,q.etag=s.newBuffer(s.base64.length(n.etag)),0):n.etag.length&&(q.etag=n.etag)),q},_.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.bindings=[]),q.defaults&&(U.version=0,q.bytes===String?U.etag="":(U.etag=[],q.bytes!==Array&&(U.etag=s.newBuffer(U.etag)))),n.version!=null&&n.hasOwnProperty("version")&&(U.version=n.version),n.etag!=null&&n.hasOwnProperty("etag")&&(U.etag=q.bytes===String?s.base64.encode(n.etag,0,n.etag.length):q.bytes===Array?Array.prototype.slice.call(n.etag):n.etag),n.bindings&&n.bindings.length){U.bindings=[];for(var Q=0;Q<n.bindings.length;++Q)U.bindings[Q]=h.google.iam.v1.Binding.toObject(n.bindings[Q],q)}return U},_.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},_),p.Binding=(T.prototype.role="",T.prototype.members=s.emptyArray,T.prototype.condition=null,T.create=function(n){return new T(n)},T.encode=function(n,q){if(q=q||o.create(),n.role!=null&&Object.hasOwnProperty.call(n,"role")&&q.uint32(10).string(n.role),n.members!=null&&n.members.length)for(var U=0;U<n.members.length;++U)q.uint32(18).string(n.members[U]);return n.condition!=null&&Object.hasOwnProperty.call(n,"condition")&&h.google.type.Expr.encode(n.condition,q.uint32(26).fork()).ldelim(),q},T.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},T.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.Binding;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.role=n.string();break;case 2:Q.members&&Q.members.length||(Q.members=[]),Q.members.push(n.string());break;case 3:Q.condition=h.google.type.Expr.decode(n,n.uint32());break;default:n.skipType(7&ye)}}return Q},T.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},T.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.role!=null&&n.hasOwnProperty("role")&&!s.isString(n.role))return"role: string expected";if(n.members!=null&&n.hasOwnProperty("members")){if(!Array.isArray(n.members))return"members: array expected";for(var q=0;q<n.members.length;++q)if(!s.isString(n.members[q]))return"members: string[] expected"}if(n.condition!=null&&n.hasOwnProperty("condition")){var U=h.google.type.Expr.verify(n.condition);if(U)return"condition."+U}return null},T.fromObject=function(n){if(n instanceof h.google.iam.v1.Binding)return n;var q=new h.google.iam.v1.Binding;if(n.role!=null&&(q.role=String(n.role)),n.members){if(!Array.isArray(n.members))throw TypeError(".google.iam.v1.Binding.members: array expected");q.members=[];for(var U=0;U<n.members.length;++U)q.members[U]=String(n.members[U])}if(n.condition!=null){if(typeof n.condition!="object")throw TypeError(".google.iam.v1.Binding.condition: object expected");q.condition=h.google.type.Expr.fromObject(n.condition)}return q},T.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.members=[]),q.defaults&&(U.role="",U.condition=null),n.role!=null&&n.hasOwnProperty("role")&&(U.role=n.role),n.members&&n.members.length){U.members=[];for(var Q=0;Q<n.members.length;++Q)U.members[Q]=n.members[Q]}return n.condition!=null&&n.hasOwnProperty("condition")&&(U.condition=h.google.type.Expr.toObject(n.condition,q)),U},T.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},T),p.PolicyDelta=(C.prototype.bindingDeltas=s.emptyArray,C.prototype.auditConfigDeltas=s.emptyArray,C.create=function(n){return new C(n)},C.encode=function(n,q){if(q=q||o.create(),n.bindingDeltas!=null&&n.bindingDeltas.length)for(var U=0;U<n.bindingDeltas.length;++U)h.google.iam.v1.BindingDelta.encode(n.bindingDeltas[U],q.uint32(10).fork()).ldelim();if(n.auditConfigDeltas!=null&&n.auditConfigDeltas.length)for(U=0;U<n.auditConfigDeltas.length;++U)h.google.iam.v1.AuditConfigDelta.encode(n.auditConfigDeltas[U],q.uint32(18).fork()).ldelim();return q},C.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},C.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.PolicyDelta;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.bindingDeltas&&Q.bindingDeltas.length||(Q.bindingDeltas=[]),Q.bindingDeltas.push(h.google.iam.v1.BindingDelta.decode(n,n.uint32()));break;case 2:Q.auditConfigDeltas&&Q.auditConfigDeltas.length||(Q.auditConfigDeltas=[]),Q.auditConfigDeltas.push(h.google.iam.v1.AuditConfigDelta.decode(n,n.uint32()));break;default:n.skipType(7&ye)}}return Q},C.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},C.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.bindingDeltas!=null&&n.hasOwnProperty("bindingDeltas")){if(!Array.isArray(n.bindingDeltas))return"bindingDeltas: array expected";for(var q=0;q<n.bindingDeltas.length;++q)if(U=h.google.iam.v1.BindingDelta.verify(n.bindingDeltas[q]))return"bindingDeltas."+U}if(n.auditConfigDeltas!=null&&n.hasOwnProperty("auditConfigDeltas")){if(!Array.isArray(n.auditConfigDeltas))return"auditConfigDeltas: array expected";for(var U,q=0;q<n.auditConfigDeltas.length;++q)if(U=h.google.iam.v1.AuditConfigDelta.verify(n.auditConfigDeltas[q]))return"auditConfigDeltas."+U}return null},C.fromObject=function(n){if(n instanceof h.google.iam.v1.PolicyDelta)return n;var q=new h.google.iam.v1.PolicyDelta;if(n.bindingDeltas){if(!Array.isArray(n.bindingDeltas))throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: array expected");q.bindingDeltas=[];for(var U=0;U<n.bindingDeltas.length;++U){if(typeof n.bindingDeltas[U]!="object")throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: object expected");q.bindingDeltas[U]=h.google.iam.v1.BindingDelta.fromObject(n.bindingDeltas[U])}}if(n.auditConfigDeltas){if(!Array.isArray(n.auditConfigDeltas))throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: array expected");for(q.auditConfigDeltas=[],U=0;U<n.auditConfigDeltas.length;++U){if(typeof n.auditConfigDeltas[U]!="object")throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: object expected");q.auditConfigDeltas[U]=h.google.iam.v1.AuditConfigDelta.fromObject(n.auditConfigDeltas[U])}}return q},C.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.bindingDeltas=[],U.auditConfigDeltas=[]),n.bindingDeltas&&n.bindingDeltas.length){U.bindingDeltas=[];for(var Q=0;Q<n.bindingDeltas.length;++Q)U.bindingDeltas[Q]=h.google.iam.v1.BindingDelta.toObject(n.bindingDeltas[Q],q)}if(n.auditConfigDeltas&&n.auditConfigDeltas.length)for(U.auditConfigDeltas=[],Q=0;Q<n.auditConfigDeltas.length;++Q)U.auditConfigDeltas[Q]=h.google.iam.v1.AuditConfigDelta.toObject(n.auditConfigDeltas[Q],q);return U},C.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},C),p.BindingDelta=(N.prototype.action=0,N.prototype.role="",N.prototype.member="",N.prototype.condition=null,N.create=function(n){return new N(n)},N.encode=function(n,q){return q=q||o.create(),n.action!=null&&Object.hasOwnProperty.call(n,"action")&&q.uint32(8).int32(n.action),n.role!=null&&Object.hasOwnProperty.call(n,"role")&&q.uint32(18).string(n.role),n.member!=null&&Object.hasOwnProperty.call(n,"member")&&q.uint32(26).string(n.member),n.condition!=null&&Object.hasOwnProperty.call(n,"condition")&&h.google.type.Expr.encode(n.condition,q.uint32(34).fork()).ldelim(),q},N.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},N.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.BindingDelta;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.action=n.int32();break;case 2:Q.role=n.string();break;case 3:Q.member=n.string();break;case 4:Q.condition=h.google.type.Expr.decode(n,n.uint32());break;default:n.skipType(7&ye)}}return Q},N.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},N.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.action!=null&&n.hasOwnProperty("action"))switch(n.action){default:return"action: enum value expected";case 0:case 1:case 2:}return n.role!=null&&n.hasOwnProperty("role")&&!s.isString(n.role)?"role: string expected":n.member!=null&&n.hasOwnProperty("member")&&!s.isString(n.member)?"member: string expected":n.condition!=null&&n.hasOwnProperty("condition")&&(n=h.google.type.Expr.verify(n.condition),n)?"condition."+n:null},N.fromObject=function(n){if(n instanceof h.google.iam.v1.BindingDelta)return n;var q=new h.google.iam.v1.BindingDelta;switch(n.action){case"ACTION_UNSPECIFIED":case 0:q.action=0;break;case"ADD":case 1:q.action=1;break;case"REMOVE":case 2:q.action=2}if(n.role!=null&&(q.role=String(n.role)),n.member!=null&&(q.member=String(n.member)),n.condition!=null){if(typeof n.condition!="object")throw TypeError(".google.iam.v1.BindingDelta.condition: object expected");q.condition=h.google.type.Expr.fromObject(n.condition)}return q},N.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.action=q.enums===String?"ACTION_UNSPECIFIED":0,U.role="",U.member="",U.condition=null),n.action!=null&&n.hasOwnProperty("action")&&(U.action=q.enums===String?h.google.iam.v1.BindingDelta.Action[n.action]:n.action),n.role!=null&&n.hasOwnProperty("role")&&(U.role=n.role),n.member!=null&&n.hasOwnProperty("member")&&(U.member=n.member),n.condition!=null&&n.hasOwnProperty("condition")&&(U.condition=h.google.type.Expr.toObject(n.condition,q)),U},N.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},N.Action=(a={},(m=Object.create(a))[a[0]="ACTION_UNSPECIFIED"]=0,m[a[1]="ADD"]=1,m[a[2]="REMOVE"]=2,m),N),p.AuditConfigDelta=(L.prototype.action=0,L.prototype.service="",L.prototype.exemptedMember="",L.prototype.logType="",L.create=function(n){return new L(n)},L.encode=function(n,q){return q=q||o.create(),n.action!=null&&Object.hasOwnProperty.call(n,"action")&&q.uint32(8).int32(n.action),n.service!=null&&Object.hasOwnProperty.call(n,"service")&&q.uint32(18).string(n.service),n.exemptedMember!=null&&Object.hasOwnProperty.call(n,"exemptedMember")&&q.uint32(26).string(n.exemptedMember),n.logType!=null&&Object.hasOwnProperty.call(n,"logType")&&q.uint32(34).string(n.logType),q},L.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},L.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.AuditConfigDelta;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.action=n.int32();break;case 2:Q.service=n.string();break;case 3:Q.exemptedMember=n.string();break;case 4:Q.logType=n.string();break;default:n.skipType(7&ye)}}return Q},L.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},L.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.action!=null&&n.hasOwnProperty("action"))switch(n.action){default:return"action: enum value expected";case 0:case 1:case 2:}return n.service!=null&&n.hasOwnProperty("service")&&!s.isString(n.service)?"service: string expected":n.exemptedMember!=null&&n.hasOwnProperty("exemptedMember")&&!s.isString(n.exemptedMember)?"exemptedMember: string expected":n.logType!=null&&n.hasOwnProperty("logType")&&!s.isString(n.logType)?"logType: string expected":null},L.fromObject=function(n){if(n instanceof h.google.iam.v1.AuditConfigDelta)return n;var q=new h.google.iam.v1.AuditConfigDelta;switch(n.action){case"ACTION_UNSPECIFIED":case 0:q.action=0;break;case"ADD":case 1:q.action=1;break;case"REMOVE":case 2:q.action=2}return n.service!=null&&(q.service=String(n.service)),n.exemptedMember!=null&&(q.exemptedMember=String(n.exemptedMember)),n.logType!=null&&(q.logType=String(n.logType)),q},L.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.action=q.enums===String?"ACTION_UNSPECIFIED":0,U.service="",U.exemptedMember="",U.logType=""),n.action!=null&&n.hasOwnProperty("action")&&(U.action=q.enums===String?h.google.iam.v1.AuditConfigDelta.Action[n.action]:n.action),n.service!=null&&n.hasOwnProperty("service")&&(U.service=n.service),n.exemptedMember!=null&&n.hasOwnProperty("exemptedMember")&&(U.exemptedMember=n.exemptedMember),n.logType!=null&&n.hasOwnProperty("logType")&&(U.logType=n.logType),U},L.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},L.Action=(a={},(m=Object.create(a))[a[0]="ACTION_UNSPECIFIED"]=0,m[a[1]="ADD"]=1,m[a[2]="REMOVE"]=2,m),L),p.logging=((a={}).AuditData=(D.prototype.policyDelta=null,D.create=function(n){return new D(n)},D.encode=function(n,q){return q=q||o.create(),n.policyDelta!=null&&Object.hasOwnProperty.call(n,"policyDelta")&&h.google.iam.v1.PolicyDelta.encode(n.policyDelta,q.uint32(18).fork()).ldelim(),q},D.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},D.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.iam.v1.logging.AuditData;n.pos<U;){var ye=n.uint32();ye>>>3==2?Q.policyDelta=h.google.iam.v1.PolicyDelta.decode(n,n.uint32()):n.skipType(7&ye)}return Q},D.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},D.verify=function(n){return typeof n!="object"||n===null?"object expected":n.policyDelta!=null&&n.hasOwnProperty("policyDelta")&&(n=h.google.iam.v1.PolicyDelta.verify(n.policyDelta),n)?"policyDelta."+n:null},D.fromObject=function(n){if(n instanceof h.google.iam.v1.logging.AuditData)return n;var q=new h.google.iam.v1.logging.AuditData;if(n.policyDelta!=null){if(typeof n.policyDelta!="object")throw TypeError(".google.iam.v1.logging.AuditData.policyDelta: object expected");q.policyDelta=h.google.iam.v1.PolicyDelta.fromObject(n.policyDelta)}return q},D.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.policyDelta=null),n.policyDelta!=null&&n.hasOwnProperty("policyDelta")&&(U.policyDelta=h.google.iam.v1.PolicyDelta.toObject(n.policyDelta,q)),U},D.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},D),a),p),g),c.api=((m={}).Http=(j.prototype.rules=s.emptyArray,j.prototype.fullyDecodeReservedExpansion=!1,j.create=function(n){return new j(n)},j.encode=function(n,q){if(q=q||o.create(),n.rules!=null&&n.rules.length)for(var U=0;U<n.rules.length;++U)h.google.api.HttpRule.encode(n.rules[U],q.uint32(10).fork()).ldelim();return n.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(n,"fullyDecodeReservedExpansion")&&q.uint32(16).bool(n.fullyDecodeReservedExpansion),q},j.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},j.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.api.Http;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.rules&&Q.rules.length||(Q.rules=[]),Q.rules.push(h.google.api.HttpRule.decode(n,n.uint32()));break;case 2:Q.fullyDecodeReservedExpansion=n.bool();break;default:n.skipType(7&ye)}}return Q},j.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},j.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.rules!=null&&n.hasOwnProperty("rules")){if(!Array.isArray(n.rules))return"rules: array expected";for(var q=0;q<n.rules.length;++q){var U=h.google.api.HttpRule.verify(n.rules[q]);if(U)return"rules."+U}}return n.fullyDecodeReservedExpansion!=null&&n.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof n.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},j.fromObject=function(n){if(n instanceof h.google.api.Http)return n;var q=new h.google.api.Http;if(n.rules){if(!Array.isArray(n.rules))throw TypeError(".google.api.Http.rules: array expected");q.rules=[];for(var U=0;U<n.rules.length;++U){if(typeof n.rules[U]!="object")throw TypeError(".google.api.Http.rules: object expected");q.rules[U]=h.google.api.HttpRule.fromObject(n.rules[U])}}return n.fullyDecodeReservedExpansion!=null&&(q.fullyDecodeReservedExpansion=!!n.fullyDecodeReservedExpansion),q},j.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.rules=[]),q.defaults&&(U.fullyDecodeReservedExpansion=!1),n.rules&&n.rules.length){U.rules=[];for(var Q=0;Q<n.rules.length;++Q)U.rules[Q]=h.google.api.HttpRule.toObject(n.rules[Q],q)}return n.fullyDecodeReservedExpansion!=null&&n.hasOwnProperty("fullyDecodeReservedExpansion")&&(U.fullyDecodeReservedExpansion=n.fullyDecodeReservedExpansion),U},j.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},j),m.HttpRule=(k.prototype.selector="",k.prototype.get="",k.prototype.put="",k.prototype.post="",k.prototype.delete="",k.prototype.patch="",k.prototype.custom=null,k.prototype.body="",k.prototype.responseBody="",k.prototype.additionalBindings=s.emptyArray,Object.defineProperty(k.prototype,"pattern",{get:s.oneOfGetter(a=["get","put","post","delete","patch","custom"]),set:s.oneOfSetter(a)}),k.create=function(n){return new k(n)},k.encode=function(n,q){if(q=q||o.create(),n.selector!=null&&Object.hasOwnProperty.call(n,"selector")&&q.uint32(10).string(n.selector),n.get!=null&&Object.hasOwnProperty.call(n,"get")&&q.uint32(18).string(n.get),n.put!=null&&Object.hasOwnProperty.call(n,"put")&&q.uint32(26).string(n.put),n.post!=null&&Object.hasOwnProperty.call(n,"post")&&q.uint32(34).string(n.post),n.delete!=null&&Object.hasOwnProperty.call(n,"delete")&&q.uint32(42).string(n.delete),n.patch!=null&&Object.hasOwnProperty.call(n,"patch")&&q.uint32(50).string(n.patch),n.body!=null&&Object.hasOwnProperty.call(n,"body")&&q.uint32(58).string(n.body),n.custom!=null&&Object.hasOwnProperty.call(n,"custom")&&h.google.api.CustomHttpPattern.encode(n.custom,q.uint32(66).fork()).ldelim(),n.additionalBindings!=null&&n.additionalBindings.length)for(var U=0;U<n.additionalBindings.length;++U)h.google.api.HttpRule.encode(n.additionalBindings[U],q.uint32(90).fork()).ldelim();return n.responseBody!=null&&Object.hasOwnProperty.call(n,"responseBody")&&q.uint32(98).string(n.responseBody),q},k.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},k.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.api.HttpRule;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.selector=n.string();break;case 2:Q.get=n.string();break;case 3:Q.put=n.string();break;case 4:Q.post=n.string();break;case 5:Q.delete=n.string();break;case 6:Q.patch=n.string();break;case 8:Q.custom=h.google.api.CustomHttpPattern.decode(n,n.uint32());break;case 7:Q.body=n.string();break;case 12:Q.responseBody=n.string();break;case 11:Q.additionalBindings&&Q.additionalBindings.length||(Q.additionalBindings=[]),Q.additionalBindings.push(h.google.api.HttpRule.decode(n,n.uint32()));break;default:n.skipType(7&ye)}}return Q},k.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},k.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var q={};if(n.selector!=null&&n.hasOwnProperty("selector")&&!s.isString(n.selector))return"selector: string expected";if(n.get!=null&&n.hasOwnProperty("get")&&(q.pattern=1,!s.isString(n.get)))return"get: string expected";if(n.put!=null&&n.hasOwnProperty("put")){if(q.pattern===1)return"pattern: multiple values";if(q.pattern=1,!s.isString(n.put))return"put: string expected"}if(n.post!=null&&n.hasOwnProperty("post")){if(q.pattern===1)return"pattern: multiple values";if(q.pattern=1,!s.isString(n.post))return"post: string expected"}if(n.delete!=null&&n.hasOwnProperty("delete")){if(q.pattern===1)return"pattern: multiple values";if(q.pattern=1,!s.isString(n.delete))return"delete: string expected"}if(n.patch!=null&&n.hasOwnProperty("patch")){if(q.pattern===1)return"pattern: multiple values";if(q.pattern=1,!s.isString(n.patch))return"patch: string expected"}if(n.custom!=null&&n.hasOwnProperty("custom")){if(q.pattern===1)return"pattern: multiple values";if(q.pattern=1,U=h.google.api.CustomHttpPattern.verify(n.custom))return"custom."+U}if(n.body!=null&&n.hasOwnProperty("body")&&!s.isString(n.body))return"body: string expected";if(n.responseBody!=null&&n.hasOwnProperty("responseBody")&&!s.isString(n.responseBody))return"responseBody: string expected";if(n.additionalBindings!=null&&n.hasOwnProperty("additionalBindings")){if(!Array.isArray(n.additionalBindings))return"additionalBindings: array expected";for(var U,Q=0;Q<n.additionalBindings.length;++Q)if(U=h.google.api.HttpRule.verify(n.additionalBindings[Q]))return"additionalBindings."+U}return null},k.fromObject=function(n){if(n instanceof h.google.api.HttpRule)return n;var q=new h.google.api.HttpRule;if(n.selector!=null&&(q.selector=String(n.selector)),n.get!=null&&(q.get=String(n.get)),n.put!=null&&(q.put=String(n.put)),n.post!=null&&(q.post=String(n.post)),n.delete!=null&&(q.delete=String(n.delete)),n.patch!=null&&(q.patch=String(n.patch)),n.custom!=null){if(typeof n.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");q.custom=h.google.api.CustomHttpPattern.fromObject(n.custom)}if(n.body!=null&&(q.body=String(n.body)),n.responseBody!=null&&(q.responseBody=String(n.responseBody)),n.additionalBindings){if(!Array.isArray(n.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");q.additionalBindings=[];for(var U=0;U<n.additionalBindings.length;++U){if(typeof n.additionalBindings[U]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");q.additionalBindings[U]=h.google.api.HttpRule.fromObject(n.additionalBindings[U])}}return q},k.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.additionalBindings=[]),q.defaults&&(U.selector="",U.body="",U.responseBody=""),n.selector!=null&&n.hasOwnProperty("selector")&&(U.selector=n.selector),n.get!=null&&n.hasOwnProperty("get")&&(U.get=n.get,q.oneofs)&&(U.pattern="get"),n.put!=null&&n.hasOwnProperty("put")&&(U.put=n.put,q.oneofs)&&(U.pattern="put"),n.post!=null&&n.hasOwnProperty("post")&&(U.post=n.post,q.oneofs)&&(U.pattern="post"),n.delete!=null&&n.hasOwnProperty("delete")&&(U.delete=n.delete,q.oneofs)&&(U.pattern="delete"),n.patch!=null&&n.hasOwnProperty("patch")&&(U.patch=n.patch,q.oneofs)&&(U.pattern="patch"),n.body!=null&&n.hasOwnProperty("body")&&(U.body=n.body),n.custom!=null&&n.hasOwnProperty("custom")&&(U.custom=h.google.api.CustomHttpPattern.toObject(n.custom,q),q.oneofs)&&(U.pattern="custom"),n.additionalBindings&&n.additionalBindings.length){U.additionalBindings=[];for(var Q=0;Q<n.additionalBindings.length;++Q)U.additionalBindings[Q]=h.google.api.HttpRule.toObject(n.additionalBindings[Q],q)}return n.responseBody!=null&&n.hasOwnProperty("responseBody")&&(U.responseBody=n.responseBody),U},k.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},k),m.CustomHttpPattern=(V.prototype.kind="",V.prototype.path="",V.create=function(n){return new V(n)},V.encode=function(n,q){return q=q||o.create(),n.kind!=null&&Object.hasOwnProperty.call(n,"kind")&&q.uint32(10).string(n.kind),n.path!=null&&Object.hasOwnProperty.call(n,"path")&&q.uint32(18).string(n.path),q},V.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},V.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.api.CustomHttpPattern;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.kind=n.string();break;case 2:Q.path=n.string();break;default:n.skipType(7&ye)}}return Q},V.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},V.verify=function(n){return typeof n!="object"||n===null?"object expected":n.kind!=null&&n.hasOwnProperty("kind")&&!s.isString(n.kind)?"kind: string expected":n.path!=null&&n.hasOwnProperty("path")&&!s.isString(n.path)?"path: string expected":null},V.fromObject=function(n){var q;return n instanceof h.google.api.CustomHttpPattern?n:(q=new h.google.api.CustomHttpPattern,n.kind!=null&&(q.kind=String(n.kind)),n.path!=null&&(q.path=String(n.path)),q)},V.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.kind="",U.path=""),n.kind!=null&&n.hasOwnProperty("kind")&&(U.kind=n.kind),n.path!=null&&n.hasOwnProperty("path")&&(U.path=n.path),U},V.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},V),m.FieldBehavior=(a={},(p=Object.create(a))[a[0]="FIELD_BEHAVIOR_UNSPECIFIED"]=0,p[a[1]="OPTIONAL"]=1,p[a[2]="REQUIRED"]=2,p[a[3]="OUTPUT_ONLY"]=3,p[a[4]="INPUT_ONLY"]=4,p[a[5]="IMMUTABLE"]=5,p),m.ResourceDescriptor=(G.prototype.type="",G.prototype.pattern=s.emptyArray,G.prototype.nameField="",G.prototype.history=0,G.prototype.plural="",G.prototype.singular="",G.create=function(n){return new G(n)},G.encode=function(n,q){if(q=q||o.create(),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&q.uint32(10).string(n.type),n.pattern!=null&&n.pattern.length)for(var U=0;U<n.pattern.length;++U)q.uint32(18).string(n.pattern[U]);return n.nameField!=null&&Object.hasOwnProperty.call(n,"nameField")&&q.uint32(26).string(n.nameField),n.history!=null&&Object.hasOwnProperty.call(n,"history")&&q.uint32(32).int32(n.history),n.plural!=null&&Object.hasOwnProperty.call(n,"plural")&&q.uint32(42).string(n.plural),n.singular!=null&&Object.hasOwnProperty.call(n,"singular")&&q.uint32(50).string(n.singular),q},G.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},G.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.api.ResourceDescriptor;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.type=n.string();break;case 2:Q.pattern&&Q.pattern.length||(Q.pattern=[]),Q.pattern.push(n.string());break;case 3:Q.nameField=n.string();break;case 4:Q.history=n.int32();break;case 5:Q.plural=n.string();break;case 6:Q.singular=n.string();break;default:n.skipType(7&ye)}}return Q},G.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},G.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.type!=null&&n.hasOwnProperty("type")&&!s.isString(n.type))return"type: string expected";if(n.pattern!=null&&n.hasOwnProperty("pattern")){if(!Array.isArray(n.pattern))return"pattern: array expected";for(var q=0;q<n.pattern.length;++q)if(!s.isString(n.pattern[q]))return"pattern: string[] expected"}if(n.nameField!=null&&n.hasOwnProperty("nameField")&&!s.isString(n.nameField))return"nameField: string expected";if(n.history!=null&&n.hasOwnProperty("history"))switch(n.history){default:return"history: enum value expected";case 0:case 1:case 2:}return n.plural!=null&&n.hasOwnProperty("plural")&&!s.isString(n.plural)?"plural: string expected":n.singular!=null&&n.hasOwnProperty("singular")&&!s.isString(n.singular)?"singular: string expected":null},G.fromObject=function(n){if(n instanceof h.google.api.ResourceDescriptor)return n;var q=new h.google.api.ResourceDescriptor;if(n.type!=null&&(q.type=String(n.type)),n.pattern){if(!Array.isArray(n.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");q.pattern=[];for(var U=0;U<n.pattern.length;++U)q.pattern[U]=String(n.pattern[U])}switch(n.nameField!=null&&(q.nameField=String(n.nameField)),n.history){case"HISTORY_UNSPECIFIED":case 0:q.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:q.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:q.history=2}return n.plural!=null&&(q.plural=String(n.plural)),n.singular!=null&&(q.singular=String(n.singular)),q},G.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.pattern=[]),q.defaults&&(U.type="",U.nameField="",U.history=q.enums===String?"HISTORY_UNSPECIFIED":0,U.plural="",U.singular=""),n.type!=null&&n.hasOwnProperty("type")&&(U.type=n.type),n.pattern&&n.pattern.length){U.pattern=[];for(var Q=0;Q<n.pattern.length;++Q)U.pattern[Q]=n.pattern[Q]}return n.nameField!=null&&n.hasOwnProperty("nameField")&&(U.nameField=n.nameField),n.history!=null&&n.hasOwnProperty("history")&&(U.history=q.enums===String?h.google.api.ResourceDescriptor.History[n.history]:n.history),n.plural!=null&&n.hasOwnProperty("plural")&&(U.plural=n.plural),n.singular!=null&&n.hasOwnProperty("singular")&&(U.singular=n.singular),U},G.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},G.History=(a={},(p=Object.create(a))[a[0]="HISTORY_UNSPECIFIED"]=0,p[a[1]="ORIGINALLY_SINGLE_PATTERN"]=1,p[a[2]="FUTURE_MULTI_PATTERN"]=2,p),G),m.ResourceReference=(J.prototype.type="",J.prototype.childType="",J.create=function(n){return new J(n)},J.encode=function(n,q){return q=q||o.create(),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&q.uint32(10).string(n.type),n.childType!=null&&Object.hasOwnProperty.call(n,"childType")&&q.uint32(18).string(n.childType),q},J.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},J.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.api.ResourceReference;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.type=n.string();break;case 2:Q.childType=n.string();break;default:n.skipType(7&ye)}}return Q},J.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},J.verify=function(n){return typeof n!="object"||n===null?"object expected":n.type!=null&&n.hasOwnProperty("type")&&!s.isString(n.type)?"type: string expected":n.childType!=null&&n.hasOwnProperty("childType")&&!s.isString(n.childType)?"childType: string expected":null},J.fromObject=function(n){var q;return n instanceof h.google.api.ResourceReference?n:(q=new h.google.api.ResourceReference,n.type!=null&&(q.type=String(n.type)),n.childType!=null&&(q.childType=String(n.childType)),q)},J.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.type="",U.childType=""),n.type!=null&&n.hasOwnProperty("type")&&(U.type=n.type),n.childType!=null&&n.hasOwnProperty("childType")&&(U.childType=n.childType),U},J.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},J),m),c.protobuf=((g={}).FileDescriptorSet=(W.prototype.file=s.emptyArray,W.create=function(n){return new W(n)},W.encode=function(n,q){if(q=q||o.create(),n.file!=null&&n.file.length)for(var U=0;U<n.file.length;++U)h.google.protobuf.FileDescriptorProto.encode(n.file[U],q.uint32(10).fork()).ldelim();return q},W.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},W.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.FileDescriptorSet;n.pos<U;){var ye=n.uint32();ye>>>3==1?(Q.file&&Q.file.length||(Q.file=[]),Q.file.push(h.google.protobuf.FileDescriptorProto.decode(n,n.uint32()))):n.skipType(7&ye)}return Q},W.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},W.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.file!=null&&n.hasOwnProperty("file")){if(!Array.isArray(n.file))return"file: array expected";for(var q=0;q<n.file.length;++q){var U=h.google.protobuf.FileDescriptorProto.verify(n.file[q]);if(U)return"file."+U}}return null},W.fromObject=function(n){if(n instanceof h.google.protobuf.FileDescriptorSet)return n;var q=new h.google.protobuf.FileDescriptorSet;if(n.file){if(!Array.isArray(n.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");q.file=[];for(var U=0;U<n.file.length;++U){if(typeof n.file[U]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");q.file[U]=h.google.protobuf.FileDescriptorProto.fromObject(n.file[U])}}return q},W.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.file=[]),n.file&&n.file.length){U.file=[];for(var Q=0;Q<n.file.length;++Q)U.file[Q]=h.google.protobuf.FileDescriptorProto.toObject(n.file[Q],q)}return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},W),g.FileDescriptorProto=(K.prototype.name="",K.prototype.package="",K.prototype.dependency=s.emptyArray,K.prototype.publicDependency=s.emptyArray,K.prototype.weakDependency=s.emptyArray,K.prototype.messageType=s.emptyArray,K.prototype.enumType=s.emptyArray,K.prototype.service=s.emptyArray,K.prototype.extension=s.emptyArray,K.prototype.options=null,K.prototype.sourceCodeInfo=null,K.prototype.syntax="",K.create=function(n){return new K(n)},K.encode=function(n,q){if(q=q||o.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&q.uint32(10).string(n.name),n.package!=null&&Object.hasOwnProperty.call(n,"package")&&q.uint32(18).string(n.package),n.dependency!=null&&n.dependency.length)for(var U=0;U<n.dependency.length;++U)q.uint32(26).string(n.dependency[U]);if(n.messageType!=null&&n.messageType.length)for(U=0;U<n.messageType.length;++U)h.google.protobuf.DescriptorProto.encode(n.messageType[U],q.uint32(34).fork()).ldelim();if(n.enumType!=null&&n.enumType.length)for(U=0;U<n.enumType.length;++U)h.google.protobuf.EnumDescriptorProto.encode(n.enumType[U],q.uint32(42).fork()).ldelim();if(n.service!=null&&n.service.length)for(U=0;U<n.service.length;++U)h.google.protobuf.ServiceDescriptorProto.encode(n.service[U],q.uint32(50).fork()).ldelim();if(n.extension!=null&&n.extension.length)for(U=0;U<n.extension.length;++U)h.google.protobuf.FieldDescriptorProto.encode(n.extension[U],q.uint32(58).fork()).ldelim();if(n.options!=null&&Object.hasOwnProperty.call(n,"options")&&h.google.protobuf.FileOptions.encode(n.options,q.uint32(66).fork()).ldelim(),n.sourceCodeInfo!=null&&Object.hasOwnProperty.call(n,"sourceCodeInfo")&&h.google.protobuf.SourceCodeInfo.encode(n.sourceCodeInfo,q.uint32(74).fork()).ldelim(),n.publicDependency!=null&&n.publicDependency.length)for(U=0;U<n.publicDependency.length;++U)q.uint32(80).int32(n.publicDependency[U]);if(n.weakDependency!=null&&n.weakDependency.length)for(U=0;U<n.weakDependency.length;++U)q.uint32(88).int32(n.weakDependency[U]);return n.syntax!=null&&Object.hasOwnProperty.call(n,"syntax")&&q.uint32(98).string(n.syntax),q},K.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},K.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.FileDescriptorProto;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.name=n.string();break;case 2:Q.package=n.string();break;case 3:Q.dependency&&Q.dependency.length||(Q.dependency=[]),Q.dependency.push(n.string());break;case 10:if(Q.publicDependency&&Q.publicDependency.length||(Q.publicDependency=[]),(7&ye)==2)for(var Ie=n.uint32()+n.pos;n.pos<Ie;)Q.publicDependency.push(n.int32());else Q.publicDependency.push(n.int32());break;case 11:if(Q.weakDependency&&Q.weakDependency.length||(Q.weakDependency=[]),(7&ye)==2)for(Ie=n.uint32()+n.pos;n.pos<Ie;)Q.weakDependency.push(n.int32());else Q.weakDependency.push(n.int32());break;case 4:Q.messageType&&Q.messageType.length||(Q.messageType=[]),Q.messageType.push(h.google.protobuf.DescriptorProto.decode(n,n.uint32()));break;case 5:Q.enumType&&Q.enumType.length||(Q.enumType=[]),Q.enumType.push(h.google.protobuf.EnumDescriptorProto.decode(n,n.uint32()));break;case 6:Q.service&&Q.service.length||(Q.service=[]),Q.service.push(h.google.protobuf.ServiceDescriptorProto.decode(n,n.uint32()));break;case 7:Q.extension&&Q.extension.length||(Q.extension=[]),Q.extension.push(h.google.protobuf.FieldDescriptorProto.decode(n,n.uint32()));break;case 8:Q.options=h.google.protobuf.FileOptions.decode(n,n.uint32());break;case 9:Q.sourceCodeInfo=h.google.protobuf.SourceCodeInfo.decode(n,n.uint32());break;case 12:Q.syntax=n.string();break;default:n.skipType(7&ye)}}return Q},K.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},K.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!s.isString(n.name))return"name: string expected";if(n.package!=null&&n.hasOwnProperty("package")&&!s.isString(n.package))return"package: string expected";if(n.dependency!=null&&n.hasOwnProperty("dependency")){if(!Array.isArray(n.dependency))return"dependency: array expected";for(var q=0;q<n.dependency.length;++q)if(!s.isString(n.dependency[q]))return"dependency: string[] expected"}if(n.publicDependency!=null&&n.hasOwnProperty("publicDependency")){if(!Array.isArray(n.publicDependency))return"publicDependency: array expected";for(q=0;q<n.publicDependency.length;++q)if(!s.isInteger(n.publicDependency[q]))return"publicDependency: integer[] expected"}if(n.weakDependency!=null&&n.hasOwnProperty("weakDependency")){if(!Array.isArray(n.weakDependency))return"weakDependency: array expected";for(q=0;q<n.weakDependency.length;++q)if(!s.isInteger(n.weakDependency[q]))return"weakDependency: integer[] expected"}if(n.messageType!=null&&n.hasOwnProperty("messageType")){if(!Array.isArray(n.messageType))return"messageType: array expected";for(q=0;q<n.messageType.length;++q)if(U=h.google.protobuf.DescriptorProto.verify(n.messageType[q]))return"messageType."+U}if(n.enumType!=null&&n.hasOwnProperty("enumType")){if(!Array.isArray(n.enumType))return"enumType: array expected";for(q=0;q<n.enumType.length;++q)if(U=h.google.protobuf.EnumDescriptorProto.verify(n.enumType[q]))return"enumType."+U}if(n.service!=null&&n.hasOwnProperty("service")){if(!Array.isArray(n.service))return"service: array expected";for(q=0;q<n.service.length;++q)if(U=h.google.protobuf.ServiceDescriptorProto.verify(n.service[q]))return"service."+U}if(n.extension!=null&&n.hasOwnProperty("extension")){if(!Array.isArray(n.extension))return"extension: array expected";for(q=0;q<n.extension.length;++q)if(U=h.google.protobuf.FieldDescriptorProto.verify(n.extension[q]))return"extension."+U}var U;return n.options!=null&&n.hasOwnProperty("options")&&(U=h.google.protobuf.FileOptions.verify(n.options))?"options."+U:n.sourceCodeInfo!=null&&n.hasOwnProperty("sourceCodeInfo")&&(U=h.google.protobuf.SourceCodeInfo.verify(n.sourceCodeInfo))?"sourceCodeInfo."+U:n.syntax!=null&&n.hasOwnProperty("syntax")&&!s.isString(n.syntax)?"syntax: string expected":null},K.fromObject=function(n){if(n instanceof h.google.protobuf.FileDescriptorProto)return n;var q=new h.google.protobuf.FileDescriptorProto;if(n.name!=null&&(q.name=String(n.name)),n.package!=null&&(q.package=String(n.package)),n.dependency){if(!Array.isArray(n.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");q.dependency=[];for(var U=0;U<n.dependency.length;++U)q.dependency[U]=String(n.dependency[U])}if(n.publicDependency){if(!Array.isArray(n.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(q.publicDependency=[],U=0;U<n.publicDependency.length;++U)q.publicDependency[U]=0|n.publicDependency[U]}if(n.weakDependency){if(!Array.isArray(n.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(q.weakDependency=[],U=0;U<n.weakDependency.length;++U)q.weakDependency[U]=0|n.weakDependency[U]}if(n.messageType){if(!Array.isArray(n.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(q.messageType=[],U=0;U<n.messageType.length;++U){if(typeof n.messageType[U]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");q.messageType[U]=h.google.protobuf.DescriptorProto.fromObject(n.messageType[U])}}if(n.enumType){if(!Array.isArray(n.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(q.enumType=[],U=0;U<n.enumType.length;++U){if(typeof n.enumType[U]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");q.enumType[U]=h.google.protobuf.EnumDescriptorProto.fromObject(n.enumType[U])}}if(n.service){if(!Array.isArray(n.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(q.service=[],U=0;U<n.service.length;++U){if(typeof n.service[U]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");q.service[U]=h.google.protobuf.ServiceDescriptorProto.fromObject(n.service[U])}}if(n.extension){if(!Array.isArray(n.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(q.extension=[],U=0;U<n.extension.length;++U){if(typeof n.extension[U]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");q.extension[U]=h.google.protobuf.FieldDescriptorProto.fromObject(n.extension[U])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");q.options=h.google.protobuf.FileOptions.fromObject(n.options)}if(n.sourceCodeInfo!=null){if(typeof n.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");q.sourceCodeInfo=h.google.protobuf.SourceCodeInfo.fromObject(n.sourceCodeInfo)}return n.syntax!=null&&(q.syntax=String(n.syntax)),q},K.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.dependency=[],U.messageType=[],U.enumType=[],U.service=[],U.extension=[],U.publicDependency=[],U.weakDependency=[]),q.defaults&&(U.name="",U.package="",U.options=null,U.sourceCodeInfo=null,U.syntax=""),n.name!=null&&n.hasOwnProperty("name")&&(U.name=n.name),n.package!=null&&n.hasOwnProperty("package")&&(U.package=n.package),n.dependency&&n.dependency.length){U.dependency=[];for(var Q=0;Q<n.dependency.length;++Q)U.dependency[Q]=n.dependency[Q]}if(n.messageType&&n.messageType.length)for(U.messageType=[],Q=0;Q<n.messageType.length;++Q)U.messageType[Q]=h.google.protobuf.DescriptorProto.toObject(n.messageType[Q],q);if(n.enumType&&n.enumType.length)for(U.enumType=[],Q=0;Q<n.enumType.length;++Q)U.enumType[Q]=h.google.protobuf.EnumDescriptorProto.toObject(n.enumType[Q],q);if(n.service&&n.service.length)for(U.service=[],Q=0;Q<n.service.length;++Q)U.service[Q]=h.google.protobuf.ServiceDescriptorProto.toObject(n.service[Q],q);if(n.extension&&n.extension.length)for(U.extension=[],Q=0;Q<n.extension.length;++Q)U.extension[Q]=h.google.protobuf.FieldDescriptorProto.toObject(n.extension[Q],q);if(n.options!=null&&n.hasOwnProperty("options")&&(U.options=h.google.protobuf.FileOptions.toObject(n.options,q)),n.sourceCodeInfo!=null&&n.hasOwnProperty("sourceCodeInfo")&&(U.sourceCodeInfo=h.google.protobuf.SourceCodeInfo.toObject(n.sourceCodeInfo,q)),n.publicDependency&&n.publicDependency.length)for(U.publicDependency=[],Q=0;Q<n.publicDependency.length;++Q)U.publicDependency[Q]=n.publicDependency[Q];if(n.weakDependency&&n.weakDependency.length)for(U.weakDependency=[],Q=0;Q<n.weakDependency.length;++Q)U.weakDependency[Q]=n.weakDependency[Q];return n.syntax!=null&&n.hasOwnProperty("syntax")&&(U.syntax=n.syntax),U},K.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},K),g.DescriptorProto=(X.prototype.name="",X.prototype.field=s.emptyArray,X.prototype.extension=s.emptyArray,X.prototype.nestedType=s.emptyArray,X.prototype.enumType=s.emptyArray,X.prototype.extensionRange=s.emptyArray,X.prototype.oneofDecl=s.emptyArray,X.prototype.options=null,X.prototype.reservedRange=s.emptyArray,X.prototype.reservedName=s.emptyArray,X.create=function(n){return new X(n)},X.encode=function(n,q){if(q=q||o.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&q.uint32(10).string(n.name),n.field!=null&&n.field.length)for(var U=0;U<n.field.length;++U)h.google.protobuf.FieldDescriptorProto.encode(n.field[U],q.uint32(18).fork()).ldelim();if(n.nestedType!=null&&n.nestedType.length)for(U=0;U<n.nestedType.length;++U)h.google.protobuf.DescriptorProto.encode(n.nestedType[U],q.uint32(26).fork()).ldelim();if(n.enumType!=null&&n.enumType.length)for(U=0;U<n.enumType.length;++U)h.google.protobuf.EnumDescriptorProto.encode(n.enumType[U],q.uint32(34).fork()).ldelim();if(n.extensionRange!=null&&n.extensionRange.length)for(U=0;U<n.extensionRange.length;++U)h.google.protobuf.DescriptorProto.ExtensionRange.encode(n.extensionRange[U],q.uint32(42).fork()).ldelim();if(n.extension!=null&&n.extension.length)for(U=0;U<n.extension.length;++U)h.google.protobuf.FieldDescriptorProto.encode(n.extension[U],q.uint32(50).fork()).ldelim();if(n.options!=null&&Object.hasOwnProperty.call(n,"options")&&h.google.protobuf.MessageOptions.encode(n.options,q.uint32(58).fork()).ldelim(),n.oneofDecl!=null&&n.oneofDecl.length)for(U=0;U<n.oneofDecl.length;++U)h.google.protobuf.OneofDescriptorProto.encode(n.oneofDecl[U],q.uint32(66).fork()).ldelim();if(n.reservedRange!=null&&n.reservedRange.length)for(U=0;U<n.reservedRange.length;++U)h.google.protobuf.DescriptorProto.ReservedRange.encode(n.reservedRange[U],q.uint32(74).fork()).ldelim();if(n.reservedName!=null&&n.reservedName.length)for(U=0;U<n.reservedName.length;++U)q.uint32(82).string(n.reservedName[U]);return q},X.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},X.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.DescriptorProto;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.name=n.string();break;case 2:Q.field&&Q.field.length||(Q.field=[]),Q.field.push(h.google.protobuf.FieldDescriptorProto.decode(n,n.uint32()));break;case 6:Q.extension&&Q.extension.length||(Q.extension=[]),Q.extension.push(h.google.protobuf.FieldDescriptorProto.decode(n,n.uint32()));break;case 3:Q.nestedType&&Q.nestedType.length||(Q.nestedType=[]),Q.nestedType.push(h.google.protobuf.DescriptorProto.decode(n,n.uint32()));break;case 4:Q.enumType&&Q.enumType.length||(Q.enumType=[]),Q.enumType.push(h.google.protobuf.EnumDescriptorProto.decode(n,n.uint32()));break;case 5:Q.extensionRange&&Q.extensionRange.length||(Q.extensionRange=[]),Q.extensionRange.push(h.google.protobuf.DescriptorProto.ExtensionRange.decode(n,n.uint32()));break;case 8:Q.oneofDecl&&Q.oneofDecl.length||(Q.oneofDecl=[]),Q.oneofDecl.push(h.google.protobuf.OneofDescriptorProto.decode(n,n.uint32()));break;case 7:Q.options=h.google.protobuf.MessageOptions.decode(n,n.uint32());break;case 9:Q.reservedRange&&Q.reservedRange.length||(Q.reservedRange=[]),Q.reservedRange.push(h.google.protobuf.DescriptorProto.ReservedRange.decode(n,n.uint32()));break;case 10:Q.reservedName&&Q.reservedName.length||(Q.reservedName=[]),Q.reservedName.push(n.string());break;default:n.skipType(7&ye)}}return Q},X.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},X.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!s.isString(n.name))return"name: string expected";if(n.field!=null&&n.hasOwnProperty("field")){if(!Array.isArray(n.field))return"field: array expected";for(var q=0;q<n.field.length;++q)if(U=h.google.protobuf.FieldDescriptorProto.verify(n.field[q]))return"field."+U}if(n.extension!=null&&n.hasOwnProperty("extension")){if(!Array.isArray(n.extension))return"extension: array expected";for(q=0;q<n.extension.length;++q)if(U=h.google.protobuf.FieldDescriptorProto.verify(n.extension[q]))return"extension."+U}if(n.nestedType!=null&&n.hasOwnProperty("nestedType")){if(!Array.isArray(n.nestedType))return"nestedType: array expected";for(q=0;q<n.nestedType.length;++q)if(U=h.google.protobuf.DescriptorProto.verify(n.nestedType[q]))return"nestedType."+U}if(n.enumType!=null&&n.hasOwnProperty("enumType")){if(!Array.isArray(n.enumType))return"enumType: array expected";for(q=0;q<n.enumType.length;++q)if(U=h.google.protobuf.EnumDescriptorProto.verify(n.enumType[q]))return"enumType."+U}if(n.extensionRange!=null&&n.hasOwnProperty("extensionRange")){if(!Array.isArray(n.extensionRange))return"extensionRange: array expected";for(q=0;q<n.extensionRange.length;++q)if(U=h.google.protobuf.DescriptorProto.ExtensionRange.verify(n.extensionRange[q]))return"extensionRange."+U}if(n.oneofDecl!=null&&n.hasOwnProperty("oneofDecl")){if(!Array.isArray(n.oneofDecl))return"oneofDecl: array expected";for(q=0;q<n.oneofDecl.length;++q)if(U=h.google.protobuf.OneofDescriptorProto.verify(n.oneofDecl[q]))return"oneofDecl."+U}if(n.options!=null&&n.hasOwnProperty("options")&&(U=h.google.protobuf.MessageOptions.verify(n.options)))return"options."+U;if(n.reservedRange!=null&&n.hasOwnProperty("reservedRange")){if(!Array.isArray(n.reservedRange))return"reservedRange: array expected";for(var U,q=0;q<n.reservedRange.length;++q)if(U=h.google.protobuf.DescriptorProto.ReservedRange.verify(n.reservedRange[q]))return"reservedRange."+U}if(n.reservedName!=null&&n.hasOwnProperty("reservedName")){if(!Array.isArray(n.reservedName))return"reservedName: array expected";for(q=0;q<n.reservedName.length;++q)if(!s.isString(n.reservedName[q]))return"reservedName: string[] expected"}return null},X.fromObject=function(n){if(n instanceof h.google.protobuf.DescriptorProto)return n;var q=new h.google.protobuf.DescriptorProto;if(n.name!=null&&(q.name=String(n.name)),n.field){if(!Array.isArray(n.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");q.field=[];for(var U=0;U<n.field.length;++U){if(typeof n.field[U]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");q.field[U]=h.google.protobuf.FieldDescriptorProto.fromObject(n.field[U])}}if(n.extension){if(!Array.isArray(n.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(q.extension=[],U=0;U<n.extension.length;++U){if(typeof n.extension[U]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");q.extension[U]=h.google.protobuf.FieldDescriptorProto.fromObject(n.extension[U])}}if(n.nestedType){if(!Array.isArray(n.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(q.nestedType=[],U=0;U<n.nestedType.length;++U){if(typeof n.nestedType[U]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");q.nestedType[U]=h.google.protobuf.DescriptorProto.fromObject(n.nestedType[U])}}if(n.enumType){if(!Array.isArray(n.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(q.enumType=[],U=0;U<n.enumType.length;++U){if(typeof n.enumType[U]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");q.enumType[U]=h.google.protobuf.EnumDescriptorProto.fromObject(n.enumType[U])}}if(n.extensionRange){if(!Array.isArray(n.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(q.extensionRange=[],U=0;U<n.extensionRange.length;++U){if(typeof n.extensionRange[U]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");q.extensionRange[U]=h.google.protobuf.DescriptorProto.ExtensionRange.fromObject(n.extensionRange[U])}}if(n.oneofDecl){if(!Array.isArray(n.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(q.oneofDecl=[],U=0;U<n.oneofDecl.length;++U){if(typeof n.oneofDecl[U]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");q.oneofDecl[U]=h.google.protobuf.OneofDescriptorProto.fromObject(n.oneofDecl[U])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");q.options=h.google.protobuf.MessageOptions.fromObject(n.options)}if(n.reservedRange){if(!Array.isArray(n.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(q.reservedRange=[],U=0;U<n.reservedRange.length;++U){if(typeof n.reservedRange[U]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");q.reservedRange[U]=h.google.protobuf.DescriptorProto.ReservedRange.fromObject(n.reservedRange[U])}}if(n.reservedName){if(!Array.isArray(n.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(q.reservedName=[],U=0;U<n.reservedName.length;++U)q.reservedName[U]=String(n.reservedName[U])}return q},X.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.field=[],U.nestedType=[],U.enumType=[],U.extensionRange=[],U.extension=[],U.oneofDecl=[],U.reservedRange=[],U.reservedName=[]),q.defaults&&(U.name="",U.options=null),n.name!=null&&n.hasOwnProperty("name")&&(U.name=n.name),n.field&&n.field.length){U.field=[];for(var Q=0;Q<n.field.length;++Q)U.field[Q]=h.google.protobuf.FieldDescriptorProto.toObject(n.field[Q],q)}if(n.nestedType&&n.nestedType.length)for(U.nestedType=[],Q=0;Q<n.nestedType.length;++Q)U.nestedType[Q]=h.google.protobuf.DescriptorProto.toObject(n.nestedType[Q],q);if(n.enumType&&n.enumType.length)for(U.enumType=[],Q=0;Q<n.enumType.length;++Q)U.enumType[Q]=h.google.protobuf.EnumDescriptorProto.toObject(n.enumType[Q],q);if(n.extensionRange&&n.extensionRange.length)for(U.extensionRange=[],Q=0;Q<n.extensionRange.length;++Q)U.extensionRange[Q]=h.google.protobuf.DescriptorProto.ExtensionRange.toObject(n.extensionRange[Q],q);if(n.extension&&n.extension.length)for(U.extension=[],Q=0;Q<n.extension.length;++Q)U.extension[Q]=h.google.protobuf.FieldDescriptorProto.toObject(n.extension[Q],q);if(n.options!=null&&n.hasOwnProperty("options")&&(U.options=h.google.protobuf.MessageOptions.toObject(n.options,q)),n.oneofDecl&&n.oneofDecl.length)for(U.oneofDecl=[],Q=0;Q<n.oneofDecl.length;++Q)U.oneofDecl[Q]=h.google.protobuf.OneofDescriptorProto.toObject(n.oneofDecl[Q],q);if(n.reservedRange&&n.reservedRange.length)for(U.reservedRange=[],Q=0;Q<n.reservedRange.length;++Q)U.reservedRange[Q]=h.google.protobuf.DescriptorProto.ReservedRange.toObject(n.reservedRange[Q],q);if(n.reservedName&&n.reservedName.length)for(U.reservedName=[],Q=0;Q<n.reservedName.length;++Q)U.reservedName[Q]=n.reservedName[Q];return U},X.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},X.ExtensionRange=(Y.prototype.start=0,Y.prototype.end=0,Y.prototype.options=null,Y.create=function(n){return new Y(n)},Y.encode=function(n,q){return q=q||o.create(),n.start!=null&&Object.hasOwnProperty.call(n,"start")&&q.uint32(8).int32(n.start),n.end!=null&&Object.hasOwnProperty.call(n,"end")&&q.uint32(16).int32(n.end),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&h.google.protobuf.ExtensionRangeOptions.encode(n.options,q.uint32(26).fork()).ldelim(),q},Y.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},Y.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.DescriptorProto.ExtensionRange;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.start=n.int32();break;case 2:Q.end=n.int32();break;case 3:Q.options=h.google.protobuf.ExtensionRangeOptions.decode(n,n.uint32());break;default:n.skipType(7&ye)}}return Q},Y.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},Y.verify=function(n){return typeof n!="object"||n===null?"object expected":n.start!=null&&n.hasOwnProperty("start")&&!s.isInteger(n.start)?"start: integer expected":n.end!=null&&n.hasOwnProperty("end")&&!s.isInteger(n.end)?"end: integer expected":n.options!=null&&n.hasOwnProperty("options")&&(n=h.google.protobuf.ExtensionRangeOptions.verify(n.options),n)?"options."+n:null},Y.fromObject=function(n){if(n instanceof h.google.protobuf.DescriptorProto.ExtensionRange)return n;var q=new h.google.protobuf.DescriptorProto.ExtensionRange;if(n.start!=null&&(q.start=0|n.start),n.end!=null&&(q.end=0|n.end),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");q.options=h.google.protobuf.ExtensionRangeOptions.fromObject(n.options)}return q},Y.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.start=0,U.end=0,U.options=null),n.start!=null&&n.hasOwnProperty("start")&&(U.start=n.start),n.end!=null&&n.hasOwnProperty("end")&&(U.end=n.end),n.options!=null&&n.hasOwnProperty("options")&&(U.options=h.google.protobuf.ExtensionRangeOptions.toObject(n.options,q)),U},Y.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Y),X.ReservedRange=(te.prototype.start=0,te.prototype.end=0,te.create=function(n){return new te(n)},te.encode=function(n,q){return q=q||o.create(),n.start!=null&&Object.hasOwnProperty.call(n,"start")&&q.uint32(8).int32(n.start),n.end!=null&&Object.hasOwnProperty.call(n,"end")&&q.uint32(16).int32(n.end),q},te.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},te.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.DescriptorProto.ReservedRange;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.start=n.int32();break;case 2:Q.end=n.int32();break;default:n.skipType(7&ye)}}return Q},te.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},te.verify=function(n){return typeof n!="object"||n===null?"object expected":n.start!=null&&n.hasOwnProperty("start")&&!s.isInteger(n.start)?"start: integer expected":n.end!=null&&n.hasOwnProperty("end")&&!s.isInteger(n.end)?"end: integer expected":null},te.fromObject=function(n){var q;return n instanceof h.google.protobuf.DescriptorProto.ReservedRange?n:(q=new h.google.protobuf.DescriptorProto.ReservedRange,n.start!=null&&(q.start=0|n.start),n.end!=null&&(q.end=0|n.end),q)},te.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.start=0,U.end=0),n.start!=null&&n.hasOwnProperty("start")&&(U.start=n.start),n.end!=null&&n.hasOwnProperty("end")&&(U.end=n.end),U},te.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},te),X),g.ExtensionRangeOptions=(oe.prototype.uninterpretedOption=s.emptyArray,oe.create=function(n){return new oe(n)},oe.encode=function(n,q){if(q=q||o.create(),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var U=0;U<n.uninterpretedOption.length;++U)h.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[U],q.uint32(7994).fork()).ldelim();return q},oe.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},oe.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.ExtensionRangeOptions;n.pos<U;){var ye=n.uint32();ye>>>3==999?(Q.uninterpretedOption&&Q.uninterpretedOption.length||(Q.uninterpretedOption=[]),Q.uninterpretedOption.push(h.google.protobuf.UninterpretedOption.decode(n,n.uint32()))):n.skipType(7&ye)}return Q},oe.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},oe.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<n.uninterpretedOption.length;++q){var U=h.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[q]);if(U)return"uninterpretedOption."+U}}return null},oe.fromObject=function(n){if(n instanceof h.google.protobuf.ExtensionRangeOptions)return n;var q=new h.google.protobuf.ExtensionRangeOptions;if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var U=0;U<n.uninterpretedOption.length;++U){if(typeof n.uninterpretedOption[U]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");q.uninterpretedOption[U]=h.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[U])}}return q},oe.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.uninterpretedOption=[]),n.uninterpretedOption&&n.uninterpretedOption.length){U.uninterpretedOption=[];for(var Q=0;Q<n.uninterpretedOption.length;++Q)U.uninterpretedOption[Q]=h.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[Q],q)}return U},oe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},oe),g.FieldDescriptorProto=(le.prototype.name="",le.prototype.number=0,le.prototype.label=1,le.prototype.type=1,le.prototype.typeName="",le.prototype.extendee="",le.prototype.defaultValue="",le.prototype.oneofIndex=0,le.prototype.jsonName="",le.prototype.options=null,le.prototype.proto3Optional=!1,le.create=function(n){return new le(n)},le.encode=function(n,q){return q=q||o.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&q.uint32(10).string(n.name),n.extendee!=null&&Object.hasOwnProperty.call(n,"extendee")&&q.uint32(18).string(n.extendee),n.number!=null&&Object.hasOwnProperty.call(n,"number")&&q.uint32(24).int32(n.number),n.label!=null&&Object.hasOwnProperty.call(n,"label")&&q.uint32(32).int32(n.label),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&q.uint32(40).int32(n.type),n.typeName!=null&&Object.hasOwnProperty.call(n,"typeName")&&q.uint32(50).string(n.typeName),n.defaultValue!=null&&Object.hasOwnProperty.call(n,"defaultValue")&&q.uint32(58).string(n.defaultValue),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&h.google.protobuf.FieldOptions.encode(n.options,q.uint32(66).fork()).ldelim(),n.oneofIndex!=null&&Object.hasOwnProperty.call(n,"oneofIndex")&&q.uint32(72).int32(n.oneofIndex),n.jsonName!=null&&Object.hasOwnProperty.call(n,"jsonName")&&q.uint32(82).string(n.jsonName),n.proto3Optional!=null&&Object.hasOwnProperty.call(n,"proto3Optional")&&q.uint32(136).bool(n.proto3Optional),q},le.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},le.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.FieldDescriptorProto;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.name=n.string();break;case 3:Q.number=n.int32();break;case 4:Q.label=n.int32();break;case 5:Q.type=n.int32();break;case 6:Q.typeName=n.string();break;case 2:Q.extendee=n.string();break;case 7:Q.defaultValue=n.string();break;case 9:Q.oneofIndex=n.int32();break;case 10:Q.jsonName=n.string();break;case 8:Q.options=h.google.protobuf.FieldOptions.decode(n,n.uint32());break;case 17:Q.proto3Optional=n.bool();break;default:n.skipType(7&ye)}}return Q},le.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},le.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!s.isString(n.name))return"name: string expected";if(n.number!=null&&n.hasOwnProperty("number")&&!s.isInteger(n.number))return"number: integer expected";if(n.label!=null&&n.hasOwnProperty("label"))switch(n.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(n.type!=null&&n.hasOwnProperty("type"))switch(n.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(n.typeName!=null&&n.hasOwnProperty("typeName")&&!s.isString(n.typeName))return"typeName: string expected";if(n.extendee!=null&&n.hasOwnProperty("extendee")&&!s.isString(n.extendee))return"extendee: string expected";if(n.defaultValue!=null&&n.hasOwnProperty("defaultValue")&&!s.isString(n.defaultValue))return"defaultValue: string expected";if(n.oneofIndex!=null&&n.hasOwnProperty("oneofIndex")&&!s.isInteger(n.oneofIndex))return"oneofIndex: integer expected";if(n.jsonName!=null&&n.hasOwnProperty("jsonName")&&!s.isString(n.jsonName))return"jsonName: string expected";if(n.options!=null&&n.hasOwnProperty("options")){var q=h.google.protobuf.FieldOptions.verify(n.options);if(q)return"options."+q}return n.proto3Optional!=null&&n.hasOwnProperty("proto3Optional")&&typeof n.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},le.fromObject=function(n){if(n instanceof h.google.protobuf.FieldDescriptorProto)return n;var q=new h.google.protobuf.FieldDescriptorProto;switch(n.name!=null&&(q.name=String(n.name)),n.number!=null&&(q.number=0|n.number),n.label){case"LABEL_OPTIONAL":case 1:q.label=1;break;case"LABEL_REQUIRED":case 2:q.label=2;break;case"LABEL_REPEATED":case 3:q.label=3}switch(n.type){case"TYPE_DOUBLE":case 1:q.type=1;break;case"TYPE_FLOAT":case 2:q.type=2;break;case"TYPE_INT64":case 3:q.type=3;break;case"TYPE_UINT64":case 4:q.type=4;break;case"TYPE_INT32":case 5:q.type=5;break;case"TYPE_FIXED64":case 6:q.type=6;break;case"TYPE_FIXED32":case 7:q.type=7;break;case"TYPE_BOOL":case 8:q.type=8;break;case"TYPE_STRING":case 9:q.type=9;break;case"TYPE_GROUP":case 10:q.type=10;break;case"TYPE_MESSAGE":case 11:q.type=11;break;case"TYPE_BYTES":case 12:q.type=12;break;case"TYPE_UINT32":case 13:q.type=13;break;case"TYPE_ENUM":case 14:q.type=14;break;case"TYPE_SFIXED32":case 15:q.type=15;break;case"TYPE_SFIXED64":case 16:q.type=16;break;case"TYPE_SINT32":case 17:q.type=17;break;case"TYPE_SINT64":case 18:q.type=18}if(n.typeName!=null&&(q.typeName=String(n.typeName)),n.extendee!=null&&(q.extendee=String(n.extendee)),n.defaultValue!=null&&(q.defaultValue=String(n.defaultValue)),n.oneofIndex!=null&&(q.oneofIndex=0|n.oneofIndex),n.jsonName!=null&&(q.jsonName=String(n.jsonName)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");q.options=h.google.protobuf.FieldOptions.fromObject(n.options)}return n.proto3Optional!=null&&(q.proto3Optional=!!n.proto3Optional),q},le.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.name="",U.extendee="",U.number=0,U.label=q.enums===String?"LABEL_OPTIONAL":1,U.type=q.enums===String?"TYPE_DOUBLE":1,U.typeName="",U.defaultValue="",U.options=null,U.oneofIndex=0,U.jsonName="",U.proto3Optional=!1),n.name!=null&&n.hasOwnProperty("name")&&(U.name=n.name),n.extendee!=null&&n.hasOwnProperty("extendee")&&(U.extendee=n.extendee),n.number!=null&&n.hasOwnProperty("number")&&(U.number=n.number),n.label!=null&&n.hasOwnProperty("label")&&(U.label=q.enums===String?h.google.protobuf.FieldDescriptorProto.Label[n.label]:n.label),n.type!=null&&n.hasOwnProperty("type")&&(U.type=q.enums===String?h.google.protobuf.FieldDescriptorProto.Type[n.type]:n.type),n.typeName!=null&&n.hasOwnProperty("typeName")&&(U.typeName=n.typeName),n.defaultValue!=null&&n.hasOwnProperty("defaultValue")&&(U.defaultValue=n.defaultValue),n.options!=null&&n.hasOwnProperty("options")&&(U.options=h.google.protobuf.FieldOptions.toObject(n.options,q)),n.oneofIndex!=null&&n.hasOwnProperty("oneofIndex")&&(U.oneofIndex=n.oneofIndex),n.jsonName!=null&&n.hasOwnProperty("jsonName")&&(U.jsonName=n.jsonName),n.proto3Optional!=null&&n.hasOwnProperty("proto3Optional")&&(U.proto3Optional=n.proto3Optional),U},le.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},le.Type=(a={},(p=Object.create(a))[a[1]="TYPE_DOUBLE"]=1,p[a[2]="TYPE_FLOAT"]=2,p[a[3]="TYPE_INT64"]=3,p[a[4]="TYPE_UINT64"]=4,p[a[5]="TYPE_INT32"]=5,p[a[6]="TYPE_FIXED64"]=6,p[a[7]="TYPE_FIXED32"]=7,p[a[8]="TYPE_BOOL"]=8,p[a[9]="TYPE_STRING"]=9,p[a[10]="TYPE_GROUP"]=10,p[a[11]="TYPE_MESSAGE"]=11,p[a[12]="TYPE_BYTES"]=12,p[a[13]="TYPE_UINT32"]=13,p[a[14]="TYPE_ENUM"]=14,p[a[15]="TYPE_SFIXED32"]=15,p[a[16]="TYPE_SFIXED64"]=16,p[a[17]="TYPE_SINT32"]=17,p[a[18]="TYPE_SINT64"]=18,p),le.Label=(a={},(p=Object.create(a))[a[1]="LABEL_OPTIONAL"]=1,p[a[2]="LABEL_REQUIRED"]=2,p[a[3]="LABEL_REPEATED"]=3,p),le),g.OneofDescriptorProto=(ee.prototype.name="",ee.prototype.options=null,ee.create=function(n){return new ee(n)},ee.encode=function(n,q){return q=q||o.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&q.uint32(10).string(n.name),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&h.google.protobuf.OneofOptions.encode(n.options,q.uint32(18).fork()).ldelim(),q},ee.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},ee.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.OneofDescriptorProto;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.name=n.string();break;case 2:Q.options=h.google.protobuf.OneofOptions.decode(n,n.uint32());break;default:n.skipType(7&ye)}}return Q},ee.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},ee.verify=function(n){return typeof n!="object"||n===null?"object expected":n.name!=null&&n.hasOwnProperty("name")&&!s.isString(n.name)?"name: string expected":n.options!=null&&n.hasOwnProperty("options")&&(n=h.google.protobuf.OneofOptions.verify(n.options),n)?"options."+n:null},ee.fromObject=function(n){if(n instanceof h.google.protobuf.OneofDescriptorProto)return n;var q=new h.google.protobuf.OneofDescriptorProto;if(n.name!=null&&(q.name=String(n.name)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");q.options=h.google.protobuf.OneofOptions.fromObject(n.options)}return q},ee.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.name="",U.options=null),n.name!=null&&n.hasOwnProperty("name")&&(U.name=n.name),n.options!=null&&n.hasOwnProperty("options")&&(U.options=h.google.protobuf.OneofOptions.toObject(n.options,q)),U},ee.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ee),g.EnumDescriptorProto=(se.prototype.name="",se.prototype.value=s.emptyArray,se.prototype.options=null,se.prototype.reservedRange=s.emptyArray,se.prototype.reservedName=s.emptyArray,se.create=function(n){return new se(n)},se.encode=function(n,q){if(q=q||o.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&q.uint32(10).string(n.name),n.value!=null&&n.value.length)for(var U=0;U<n.value.length;++U)h.google.protobuf.EnumValueDescriptorProto.encode(n.value[U],q.uint32(18).fork()).ldelim();if(n.options!=null&&Object.hasOwnProperty.call(n,"options")&&h.google.protobuf.EnumOptions.encode(n.options,q.uint32(26).fork()).ldelim(),n.reservedRange!=null&&n.reservedRange.length)for(U=0;U<n.reservedRange.length;++U)h.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(n.reservedRange[U],q.uint32(34).fork()).ldelim();if(n.reservedName!=null&&n.reservedName.length)for(U=0;U<n.reservedName.length;++U)q.uint32(42).string(n.reservedName[U]);return q},se.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},se.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.EnumDescriptorProto;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.name=n.string();break;case 2:Q.value&&Q.value.length||(Q.value=[]),Q.value.push(h.google.protobuf.EnumValueDescriptorProto.decode(n,n.uint32()));break;case 3:Q.options=h.google.protobuf.EnumOptions.decode(n,n.uint32());break;case 4:Q.reservedRange&&Q.reservedRange.length||(Q.reservedRange=[]),Q.reservedRange.push(h.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(n,n.uint32()));break;case 5:Q.reservedName&&Q.reservedName.length||(Q.reservedName=[]),Q.reservedName.push(n.string());break;default:n.skipType(7&ye)}}return Q},se.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},se.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!s.isString(n.name))return"name: string expected";if(n.value!=null&&n.hasOwnProperty("value")){if(!Array.isArray(n.value))return"value: array expected";for(var q=0;q<n.value.length;++q)if(U=h.google.protobuf.EnumValueDescriptorProto.verify(n.value[q]))return"value."+U}if(n.options!=null&&n.hasOwnProperty("options")&&(U=h.google.protobuf.EnumOptions.verify(n.options)))return"options."+U;if(n.reservedRange!=null&&n.hasOwnProperty("reservedRange")){if(!Array.isArray(n.reservedRange))return"reservedRange: array expected";for(var U,q=0;q<n.reservedRange.length;++q)if(U=h.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(n.reservedRange[q]))return"reservedRange."+U}if(n.reservedName!=null&&n.hasOwnProperty("reservedName")){if(!Array.isArray(n.reservedName))return"reservedName: array expected";for(q=0;q<n.reservedName.length;++q)if(!s.isString(n.reservedName[q]))return"reservedName: string[] expected"}return null},se.fromObject=function(n){if(n instanceof h.google.protobuf.EnumDescriptorProto)return n;var q=new h.google.protobuf.EnumDescriptorProto;if(n.name!=null&&(q.name=String(n.name)),n.value){if(!Array.isArray(n.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");q.value=[];for(var U=0;U<n.value.length;++U){if(typeof n.value[U]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");q.value[U]=h.google.protobuf.EnumValueDescriptorProto.fromObject(n.value[U])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");q.options=h.google.protobuf.EnumOptions.fromObject(n.options)}if(n.reservedRange){if(!Array.isArray(n.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(q.reservedRange=[],U=0;U<n.reservedRange.length;++U){if(typeof n.reservedRange[U]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");q.reservedRange[U]=h.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(n.reservedRange[U])}}if(n.reservedName){if(!Array.isArray(n.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(q.reservedName=[],U=0;U<n.reservedName.length;++U)q.reservedName[U]=String(n.reservedName[U])}return q},se.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.value=[],U.reservedRange=[],U.reservedName=[]),q.defaults&&(U.name="",U.options=null),n.name!=null&&n.hasOwnProperty("name")&&(U.name=n.name),n.value&&n.value.length){U.value=[];for(var Q=0;Q<n.value.length;++Q)U.value[Q]=h.google.protobuf.EnumValueDescriptorProto.toObject(n.value[Q],q)}if(n.options!=null&&n.hasOwnProperty("options")&&(U.options=h.google.protobuf.EnumOptions.toObject(n.options,q)),n.reservedRange&&n.reservedRange.length)for(U.reservedRange=[],Q=0;Q<n.reservedRange.length;++Q)U.reservedRange[Q]=h.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(n.reservedRange[Q],q);if(n.reservedName&&n.reservedName.length)for(U.reservedName=[],Q=0;Q<n.reservedName.length;++Q)U.reservedName[Q]=n.reservedName[Q];return U},se.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},se.EnumReservedRange=(de.prototype.start=0,de.prototype.end=0,de.create=function(n){return new de(n)},de.encode=function(n,q){return q=q||o.create(),n.start!=null&&Object.hasOwnProperty.call(n,"start")&&q.uint32(8).int32(n.start),n.end!=null&&Object.hasOwnProperty.call(n,"end")&&q.uint32(16).int32(n.end),q},de.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},de.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.EnumDescriptorProto.EnumReservedRange;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.start=n.int32();break;case 2:Q.end=n.int32();break;default:n.skipType(7&ye)}}return Q},de.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},de.verify=function(n){return typeof n!="object"||n===null?"object expected":n.start!=null&&n.hasOwnProperty("start")&&!s.isInteger(n.start)?"start: integer expected":n.end!=null&&n.hasOwnProperty("end")&&!s.isInteger(n.end)?"end: integer expected":null},de.fromObject=function(n){var q;return n instanceof h.google.protobuf.EnumDescriptorProto.EnumReservedRange?n:(q=new h.google.protobuf.EnumDescriptorProto.EnumReservedRange,n.start!=null&&(q.start=0|n.start),n.end!=null&&(q.end=0|n.end),q)},de.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.start=0,U.end=0),n.start!=null&&n.hasOwnProperty("start")&&(U.start=n.start),n.end!=null&&n.hasOwnProperty("end")&&(U.end=n.end),U},de.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},de),se),g.EnumValueDescriptorProto=(he.prototype.name="",he.prototype.number=0,he.prototype.options=null,he.create=function(n){return new he(n)},he.encode=function(n,q){return q=q||o.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&q.uint32(10).string(n.name),n.number!=null&&Object.hasOwnProperty.call(n,"number")&&q.uint32(16).int32(n.number),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&h.google.protobuf.EnumValueOptions.encode(n.options,q.uint32(26).fork()).ldelim(),q},he.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},he.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.EnumValueDescriptorProto;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.name=n.string();break;case 2:Q.number=n.int32();break;case 3:Q.options=h.google.protobuf.EnumValueOptions.decode(n,n.uint32());break;default:n.skipType(7&ye)}}return Q},he.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},he.verify=function(n){return typeof n!="object"||n===null?"object expected":n.name!=null&&n.hasOwnProperty("name")&&!s.isString(n.name)?"name: string expected":n.number!=null&&n.hasOwnProperty("number")&&!s.isInteger(n.number)?"number: integer expected":n.options!=null&&n.hasOwnProperty("options")&&(n=h.google.protobuf.EnumValueOptions.verify(n.options),n)?"options."+n:null},he.fromObject=function(n){if(n instanceof h.google.protobuf.EnumValueDescriptorProto)return n;var q=new h.google.protobuf.EnumValueDescriptorProto;if(n.name!=null&&(q.name=String(n.name)),n.number!=null&&(q.number=0|n.number),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");q.options=h.google.protobuf.EnumValueOptions.fromObject(n.options)}return q},he.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.name="",U.number=0,U.options=null),n.name!=null&&n.hasOwnProperty("name")&&(U.name=n.name),n.number!=null&&n.hasOwnProperty("number")&&(U.number=n.number),n.options!=null&&n.hasOwnProperty("options")&&(U.options=h.google.protobuf.EnumValueOptions.toObject(n.options,q)),U},he.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},he),g.ServiceDescriptorProto=(ge.prototype.name="",ge.prototype.method=s.emptyArray,ge.prototype.options=null,ge.create=function(n){return new ge(n)},ge.encode=function(n,q){if(q=q||o.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&q.uint32(10).string(n.name),n.method!=null&&n.method.length)for(var U=0;U<n.method.length;++U)h.google.protobuf.MethodDescriptorProto.encode(n.method[U],q.uint32(18).fork()).ldelim();return n.options!=null&&Object.hasOwnProperty.call(n,"options")&&h.google.protobuf.ServiceOptions.encode(n.options,q.uint32(26).fork()).ldelim(),q},ge.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},ge.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.ServiceDescriptorProto;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.name=n.string();break;case 2:Q.method&&Q.method.length||(Q.method=[]),Q.method.push(h.google.protobuf.MethodDescriptorProto.decode(n,n.uint32()));break;case 3:Q.options=h.google.protobuf.ServiceOptions.decode(n,n.uint32());break;default:n.skipType(7&ye)}}return Q},ge.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},ge.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!s.isString(n.name))return"name: string expected";if(n.method!=null&&n.hasOwnProperty("method")){if(!Array.isArray(n.method))return"method: array expected";for(var q=0;q<n.method.length;++q)if(U=h.google.protobuf.MethodDescriptorProto.verify(n.method[q]))return"method."+U}var U;return n.options!=null&&n.hasOwnProperty("options")&&(U=h.google.protobuf.ServiceOptions.verify(n.options))?"options."+U:null},ge.fromObject=function(n){if(n instanceof h.google.protobuf.ServiceDescriptorProto)return n;var q=new h.google.protobuf.ServiceDescriptorProto;if(n.name!=null&&(q.name=String(n.name)),n.method){if(!Array.isArray(n.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");q.method=[];for(var U=0;U<n.method.length;++U){if(typeof n.method[U]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");q.method[U]=h.google.protobuf.MethodDescriptorProto.fromObject(n.method[U])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");q.options=h.google.protobuf.ServiceOptions.fromObject(n.options)}return q},ge.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.method=[]),q.defaults&&(U.name="",U.options=null),n.name!=null&&n.hasOwnProperty("name")&&(U.name=n.name),n.method&&n.method.length){U.method=[];for(var Q=0;Q<n.method.length;++Q)U.method[Q]=h.google.protobuf.MethodDescriptorProto.toObject(n.method[Q],q)}return n.options!=null&&n.hasOwnProperty("options")&&(U.options=h.google.protobuf.ServiceOptions.toObject(n.options,q)),U},ge.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ge),g.MethodDescriptorProto=(me.prototype.name="",me.prototype.inputType="",me.prototype.outputType="",me.prototype.options=null,me.prototype.clientStreaming=!1,me.prototype.serverStreaming=!1,me.create=function(n){return new me(n)},me.encode=function(n,q){return q=q||o.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&q.uint32(10).string(n.name),n.inputType!=null&&Object.hasOwnProperty.call(n,"inputType")&&q.uint32(18).string(n.inputType),n.outputType!=null&&Object.hasOwnProperty.call(n,"outputType")&&q.uint32(26).string(n.outputType),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&h.google.protobuf.MethodOptions.encode(n.options,q.uint32(34).fork()).ldelim(),n.clientStreaming!=null&&Object.hasOwnProperty.call(n,"clientStreaming")&&q.uint32(40).bool(n.clientStreaming),n.serverStreaming!=null&&Object.hasOwnProperty.call(n,"serverStreaming")&&q.uint32(48).bool(n.serverStreaming),q},me.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},me.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.MethodDescriptorProto;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.name=n.string();break;case 2:Q.inputType=n.string();break;case 3:Q.outputType=n.string();break;case 4:Q.options=h.google.protobuf.MethodOptions.decode(n,n.uint32());break;case 5:Q.clientStreaming=n.bool();break;case 6:Q.serverStreaming=n.bool();break;default:n.skipType(7&ye)}}return Q},me.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},me.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!s.isString(n.name))return"name: string expected";if(n.inputType!=null&&n.hasOwnProperty("inputType")&&!s.isString(n.inputType))return"inputType: string expected";if(n.outputType!=null&&n.hasOwnProperty("outputType")&&!s.isString(n.outputType))return"outputType: string expected";if(n.options!=null&&n.hasOwnProperty("options")){var q=h.google.protobuf.MethodOptions.verify(n.options);if(q)return"options."+q}return n.clientStreaming!=null&&n.hasOwnProperty("clientStreaming")&&typeof n.clientStreaming!="boolean"?"clientStreaming: boolean expected":n.serverStreaming!=null&&n.hasOwnProperty("serverStreaming")&&typeof n.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},me.fromObject=function(n){if(n instanceof h.google.protobuf.MethodDescriptorProto)return n;var q=new h.google.protobuf.MethodDescriptorProto;if(n.name!=null&&(q.name=String(n.name)),n.inputType!=null&&(q.inputType=String(n.inputType)),n.outputType!=null&&(q.outputType=String(n.outputType)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");q.options=h.google.protobuf.MethodOptions.fromObject(n.options)}return n.clientStreaming!=null&&(q.clientStreaming=!!n.clientStreaming),n.serverStreaming!=null&&(q.serverStreaming=!!n.serverStreaming),q},me.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.name="",U.inputType="",U.outputType="",U.options=null,U.clientStreaming=!1,U.serverStreaming=!1),n.name!=null&&n.hasOwnProperty("name")&&(U.name=n.name),n.inputType!=null&&n.hasOwnProperty("inputType")&&(U.inputType=n.inputType),n.outputType!=null&&n.hasOwnProperty("outputType")&&(U.outputType=n.outputType),n.options!=null&&n.hasOwnProperty("options")&&(U.options=h.google.protobuf.MethodOptions.toObject(n.options,q)),n.clientStreaming!=null&&n.hasOwnProperty("clientStreaming")&&(U.clientStreaming=n.clientStreaming),n.serverStreaming!=null&&n.hasOwnProperty("serverStreaming")&&(U.serverStreaming=n.serverStreaming),U},me.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},me),g.FileOptions=(Oe.prototype.javaPackage="",Oe.prototype.javaOuterClassname="",Oe.prototype.javaMultipleFiles=!1,Oe.prototype.javaGenerateEqualsAndHash=!1,Oe.prototype.javaStringCheckUtf8=!1,Oe.prototype.optimizeFor=1,Oe.prototype.goPackage="",Oe.prototype.ccGenericServices=!1,Oe.prototype.javaGenericServices=!1,Oe.prototype.pyGenericServices=!1,Oe.prototype.phpGenericServices=!1,Oe.prototype.deprecated=!1,Oe.prototype.ccEnableArenas=!0,Oe.prototype.objcClassPrefix="",Oe.prototype.csharpNamespace="",Oe.prototype.swiftPrefix="",Oe.prototype.phpClassPrefix="",Oe.prototype.phpNamespace="",Oe.prototype.phpMetadataNamespace="",Oe.prototype.rubyPackage="",Oe.prototype.uninterpretedOption=s.emptyArray,Oe.prototype[".google.api.resourceDefinition"]=s.emptyArray,Oe.create=function(n){return new Oe(n)},Oe.encode=function(n,q){if(q=q||o.create(),n.javaPackage!=null&&Object.hasOwnProperty.call(n,"javaPackage")&&q.uint32(10).string(n.javaPackage),n.javaOuterClassname!=null&&Object.hasOwnProperty.call(n,"javaOuterClassname")&&q.uint32(66).string(n.javaOuterClassname),n.optimizeFor!=null&&Object.hasOwnProperty.call(n,"optimizeFor")&&q.uint32(72).int32(n.optimizeFor),n.javaMultipleFiles!=null&&Object.hasOwnProperty.call(n,"javaMultipleFiles")&&q.uint32(80).bool(n.javaMultipleFiles),n.goPackage!=null&&Object.hasOwnProperty.call(n,"goPackage")&&q.uint32(90).string(n.goPackage),n.ccGenericServices!=null&&Object.hasOwnProperty.call(n,"ccGenericServices")&&q.uint32(128).bool(n.ccGenericServices),n.javaGenericServices!=null&&Object.hasOwnProperty.call(n,"javaGenericServices")&&q.uint32(136).bool(n.javaGenericServices),n.pyGenericServices!=null&&Object.hasOwnProperty.call(n,"pyGenericServices")&&q.uint32(144).bool(n.pyGenericServices),n.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(n,"javaGenerateEqualsAndHash")&&q.uint32(160).bool(n.javaGenerateEqualsAndHash),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&q.uint32(184).bool(n.deprecated),n.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(n,"javaStringCheckUtf8")&&q.uint32(216).bool(n.javaStringCheckUtf8),n.ccEnableArenas!=null&&Object.hasOwnProperty.call(n,"ccEnableArenas")&&q.uint32(248).bool(n.ccEnableArenas),n.objcClassPrefix!=null&&Object.hasOwnProperty.call(n,"objcClassPrefix")&&q.uint32(290).string(n.objcClassPrefix),n.csharpNamespace!=null&&Object.hasOwnProperty.call(n,"csharpNamespace")&&q.uint32(298).string(n.csharpNamespace),n.swiftPrefix!=null&&Object.hasOwnProperty.call(n,"swiftPrefix")&&q.uint32(314).string(n.swiftPrefix),n.phpClassPrefix!=null&&Object.hasOwnProperty.call(n,"phpClassPrefix")&&q.uint32(322).string(n.phpClassPrefix),n.phpNamespace!=null&&Object.hasOwnProperty.call(n,"phpNamespace")&&q.uint32(330).string(n.phpNamespace),n.phpGenericServices!=null&&Object.hasOwnProperty.call(n,"phpGenericServices")&&q.uint32(336).bool(n.phpGenericServices),n.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(n,"phpMetadataNamespace")&&q.uint32(354).string(n.phpMetadataNamespace),n.rubyPackage!=null&&Object.hasOwnProperty.call(n,"rubyPackage")&&q.uint32(362).string(n.rubyPackage),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var U=0;U<n.uninterpretedOption.length;++U)h.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[U],q.uint32(7994).fork()).ldelim();if(n[".google.api.resourceDefinition"]!=null&&n[".google.api.resourceDefinition"].length)for(U=0;U<n[".google.api.resourceDefinition"].length;++U)h.google.api.ResourceDescriptor.encode(n[".google.api.resourceDefinition"][U],q.uint32(8426).fork()).ldelim();return q},Oe.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},Oe.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.FileOptions;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.javaPackage=n.string();break;case 8:Q.javaOuterClassname=n.string();break;case 10:Q.javaMultipleFiles=n.bool();break;case 20:Q.javaGenerateEqualsAndHash=n.bool();break;case 27:Q.javaStringCheckUtf8=n.bool();break;case 9:Q.optimizeFor=n.int32();break;case 11:Q.goPackage=n.string();break;case 16:Q.ccGenericServices=n.bool();break;case 17:Q.javaGenericServices=n.bool();break;case 18:Q.pyGenericServices=n.bool();break;case 42:Q.phpGenericServices=n.bool();break;case 23:Q.deprecated=n.bool();break;case 31:Q.ccEnableArenas=n.bool();break;case 36:Q.objcClassPrefix=n.string();break;case 37:Q.csharpNamespace=n.string();break;case 39:Q.swiftPrefix=n.string();break;case 40:Q.phpClassPrefix=n.string();break;case 41:Q.phpNamespace=n.string();break;case 44:Q.phpMetadataNamespace=n.string();break;case 45:Q.rubyPackage=n.string();break;case 999:Q.uninterpretedOption&&Q.uninterpretedOption.length||(Q.uninterpretedOption=[]),Q.uninterpretedOption.push(h.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;case 1053:Q[".google.api.resourceDefinition"]&&Q[".google.api.resourceDefinition"].length||(Q[".google.api.resourceDefinition"]=[]),Q[".google.api.resourceDefinition"].push(h.google.api.ResourceDescriptor.decode(n,n.uint32()));break;default:n.skipType(7&ye)}}return Q},Oe.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},Oe.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.javaPackage!=null&&n.hasOwnProperty("javaPackage")&&!s.isString(n.javaPackage))return"javaPackage: string expected";if(n.javaOuterClassname!=null&&n.hasOwnProperty("javaOuterClassname")&&!s.isString(n.javaOuterClassname))return"javaOuterClassname: string expected";if(n.javaMultipleFiles!=null&&n.hasOwnProperty("javaMultipleFiles")&&typeof n.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(n.javaGenerateEqualsAndHash!=null&&n.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof n.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(n.javaStringCheckUtf8!=null&&n.hasOwnProperty("javaStringCheckUtf8")&&typeof n.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(n.optimizeFor!=null&&n.hasOwnProperty("optimizeFor"))switch(n.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(n.goPackage!=null&&n.hasOwnProperty("goPackage")&&!s.isString(n.goPackage))return"goPackage: string expected";if(n.ccGenericServices!=null&&n.hasOwnProperty("ccGenericServices")&&typeof n.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(n.javaGenericServices!=null&&n.hasOwnProperty("javaGenericServices")&&typeof n.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(n.pyGenericServices!=null&&n.hasOwnProperty("pyGenericServices")&&typeof n.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(n.phpGenericServices!=null&&n.hasOwnProperty("phpGenericServices")&&typeof n.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.ccEnableArenas!=null&&n.hasOwnProperty("ccEnableArenas")&&typeof n.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(n.objcClassPrefix!=null&&n.hasOwnProperty("objcClassPrefix")&&!s.isString(n.objcClassPrefix))return"objcClassPrefix: string expected";if(n.csharpNamespace!=null&&n.hasOwnProperty("csharpNamespace")&&!s.isString(n.csharpNamespace))return"csharpNamespace: string expected";if(n.swiftPrefix!=null&&n.hasOwnProperty("swiftPrefix")&&!s.isString(n.swiftPrefix))return"swiftPrefix: string expected";if(n.phpClassPrefix!=null&&n.hasOwnProperty("phpClassPrefix")&&!s.isString(n.phpClassPrefix))return"phpClassPrefix: string expected";if(n.phpNamespace!=null&&n.hasOwnProperty("phpNamespace")&&!s.isString(n.phpNamespace))return"phpNamespace: string expected";if(n.phpMetadataNamespace!=null&&n.hasOwnProperty("phpMetadataNamespace")&&!s.isString(n.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(n.rubyPackage!=null&&n.hasOwnProperty("rubyPackage")&&!s.isString(n.rubyPackage))return"rubyPackage: string expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<n.uninterpretedOption.length;++q)if(U=h.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[q]))return"uninterpretedOption."+U}if(n[".google.api.resourceDefinition"]!=null&&n.hasOwnProperty(".google.api.resourceDefinition")){if(!Array.isArray(n[".google.api.resourceDefinition"]))return".google.api.resourceDefinition: array expected";for(var U,q=0;q<n[".google.api.resourceDefinition"].length;++q)if(U=h.google.api.ResourceDescriptor.verify(n[".google.api.resourceDefinition"][q]))return".google.api.resourceDefinition."+U}return null},Oe.fromObject=function(n){if(n instanceof h.google.protobuf.FileOptions)return n;var q=new h.google.protobuf.FileOptions;switch(n.javaPackage!=null&&(q.javaPackage=String(n.javaPackage)),n.javaOuterClassname!=null&&(q.javaOuterClassname=String(n.javaOuterClassname)),n.javaMultipleFiles!=null&&(q.javaMultipleFiles=!!n.javaMultipleFiles),n.javaGenerateEqualsAndHash!=null&&(q.javaGenerateEqualsAndHash=!!n.javaGenerateEqualsAndHash),n.javaStringCheckUtf8!=null&&(q.javaStringCheckUtf8=!!n.javaStringCheckUtf8),n.optimizeFor){case"SPEED":case 1:q.optimizeFor=1;break;case"CODE_SIZE":case 2:q.optimizeFor=2;break;case"LITE_RUNTIME":case 3:q.optimizeFor=3}if(n.goPackage!=null&&(q.goPackage=String(n.goPackage)),n.ccGenericServices!=null&&(q.ccGenericServices=!!n.ccGenericServices),n.javaGenericServices!=null&&(q.javaGenericServices=!!n.javaGenericServices),n.pyGenericServices!=null&&(q.pyGenericServices=!!n.pyGenericServices),n.phpGenericServices!=null&&(q.phpGenericServices=!!n.phpGenericServices),n.deprecated!=null&&(q.deprecated=!!n.deprecated),n.ccEnableArenas!=null&&(q.ccEnableArenas=!!n.ccEnableArenas),n.objcClassPrefix!=null&&(q.objcClassPrefix=String(n.objcClassPrefix)),n.csharpNamespace!=null&&(q.csharpNamespace=String(n.csharpNamespace)),n.swiftPrefix!=null&&(q.swiftPrefix=String(n.swiftPrefix)),n.phpClassPrefix!=null&&(q.phpClassPrefix=String(n.phpClassPrefix)),n.phpNamespace!=null&&(q.phpNamespace=String(n.phpNamespace)),n.phpMetadataNamespace!=null&&(q.phpMetadataNamespace=String(n.phpMetadataNamespace)),n.rubyPackage!=null&&(q.rubyPackage=String(n.rubyPackage)),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var U=0;U<n.uninterpretedOption.length;++U){if(typeof n.uninterpretedOption[U]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");q.uninterpretedOption[U]=h.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[U])}}if(n[".google.api.resourceDefinition"]){if(!Array.isArray(n[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(q[".google.api.resourceDefinition"]=[],U=0;U<n[".google.api.resourceDefinition"].length;++U){if(typeof n[".google.api.resourceDefinition"][U]!="object")throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");q[".google.api.resourceDefinition"][U]=h.google.api.ResourceDescriptor.fromObject(n[".google.api.resourceDefinition"][U])}}return q},Oe.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.uninterpretedOption=[],U[".google.api.resourceDefinition"]=[]),q.defaults&&(U.javaPackage="",U.javaOuterClassname="",U.optimizeFor=q.enums===String?"SPEED":1,U.javaMultipleFiles=!1,U.goPackage="",U.ccGenericServices=!1,U.javaGenericServices=!1,U.pyGenericServices=!1,U.javaGenerateEqualsAndHash=!1,U.deprecated=!1,U.javaStringCheckUtf8=!1,U.ccEnableArenas=!0,U.objcClassPrefix="",U.csharpNamespace="",U.swiftPrefix="",U.phpClassPrefix="",U.phpNamespace="",U.phpGenericServices=!1,U.phpMetadataNamespace="",U.rubyPackage=""),n.javaPackage!=null&&n.hasOwnProperty("javaPackage")&&(U.javaPackage=n.javaPackage),n.javaOuterClassname!=null&&n.hasOwnProperty("javaOuterClassname")&&(U.javaOuterClassname=n.javaOuterClassname),n.optimizeFor!=null&&n.hasOwnProperty("optimizeFor")&&(U.optimizeFor=q.enums===String?h.google.protobuf.FileOptions.OptimizeMode[n.optimizeFor]:n.optimizeFor),n.javaMultipleFiles!=null&&n.hasOwnProperty("javaMultipleFiles")&&(U.javaMultipleFiles=n.javaMultipleFiles),n.goPackage!=null&&n.hasOwnProperty("goPackage")&&(U.goPackage=n.goPackage),n.ccGenericServices!=null&&n.hasOwnProperty("ccGenericServices")&&(U.ccGenericServices=n.ccGenericServices),n.javaGenericServices!=null&&n.hasOwnProperty("javaGenericServices")&&(U.javaGenericServices=n.javaGenericServices),n.pyGenericServices!=null&&n.hasOwnProperty("pyGenericServices")&&(U.pyGenericServices=n.pyGenericServices),n.javaGenerateEqualsAndHash!=null&&n.hasOwnProperty("javaGenerateEqualsAndHash")&&(U.javaGenerateEqualsAndHash=n.javaGenerateEqualsAndHash),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(U.deprecated=n.deprecated),n.javaStringCheckUtf8!=null&&n.hasOwnProperty("javaStringCheckUtf8")&&(U.javaStringCheckUtf8=n.javaStringCheckUtf8),n.ccEnableArenas!=null&&n.hasOwnProperty("ccEnableArenas")&&(U.ccEnableArenas=n.ccEnableArenas),n.objcClassPrefix!=null&&n.hasOwnProperty("objcClassPrefix")&&(U.objcClassPrefix=n.objcClassPrefix),n.csharpNamespace!=null&&n.hasOwnProperty("csharpNamespace")&&(U.csharpNamespace=n.csharpNamespace),n.swiftPrefix!=null&&n.hasOwnProperty("swiftPrefix")&&(U.swiftPrefix=n.swiftPrefix),n.phpClassPrefix!=null&&n.hasOwnProperty("phpClassPrefix")&&(U.phpClassPrefix=n.phpClassPrefix),n.phpNamespace!=null&&n.hasOwnProperty("phpNamespace")&&(U.phpNamespace=n.phpNamespace),n.phpGenericServices!=null&&n.hasOwnProperty("phpGenericServices")&&(U.phpGenericServices=n.phpGenericServices),n.phpMetadataNamespace!=null&&n.hasOwnProperty("phpMetadataNamespace")&&(U.phpMetadataNamespace=n.phpMetadataNamespace),n.rubyPackage!=null&&n.hasOwnProperty("rubyPackage")&&(U.rubyPackage=n.rubyPackage),n.uninterpretedOption&&n.uninterpretedOption.length){U.uninterpretedOption=[];for(var Q=0;Q<n.uninterpretedOption.length;++Q)U.uninterpretedOption[Q]=h.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[Q],q)}if(n[".google.api.resourceDefinition"]&&n[".google.api.resourceDefinition"].length)for(U[".google.api.resourceDefinition"]=[],Q=0;Q<n[".google.api.resourceDefinition"].length;++Q)U[".google.api.resourceDefinition"][Q]=h.google.api.ResourceDescriptor.toObject(n[".google.api.resourceDefinition"][Q],q);return U},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Oe.OptimizeMode=(a={},(p=Object.create(a))[a[1]="SPEED"]=1,p[a[2]="CODE_SIZE"]=2,p[a[3]="LITE_RUNTIME"]=3,p),Oe),g.MessageOptions=(fe.prototype.messageSetWireFormat=!1,fe.prototype.noStandardDescriptorAccessor=!1,fe.prototype.deprecated=!1,fe.prototype.mapEntry=!1,fe.prototype.uninterpretedOption=s.emptyArray,fe.prototype[".google.api.resource"]=null,fe.create=function(n){return new fe(n)},fe.encode=function(n,q){if(q=q||o.create(),n.messageSetWireFormat!=null&&Object.hasOwnProperty.call(n,"messageSetWireFormat")&&q.uint32(8).bool(n.messageSetWireFormat),n.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(n,"noStandardDescriptorAccessor")&&q.uint32(16).bool(n.noStandardDescriptorAccessor),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&q.uint32(24).bool(n.deprecated),n.mapEntry!=null&&Object.hasOwnProperty.call(n,"mapEntry")&&q.uint32(56).bool(n.mapEntry),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var U=0;U<n.uninterpretedOption.length;++U)h.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[U],q.uint32(7994).fork()).ldelim();return n[".google.api.resource"]!=null&&Object.hasOwnProperty.call(n,".google.api.resource")&&h.google.api.ResourceDescriptor.encode(n[".google.api.resource"],q.uint32(8426).fork()).ldelim(),q},fe.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},fe.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.MessageOptions;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.messageSetWireFormat=n.bool();break;case 2:Q.noStandardDescriptorAccessor=n.bool();break;case 3:Q.deprecated=n.bool();break;case 7:Q.mapEntry=n.bool();break;case 999:Q.uninterpretedOption&&Q.uninterpretedOption.length||(Q.uninterpretedOption=[]),Q.uninterpretedOption.push(h.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;case 1053:Q[".google.api.resource"]=h.google.api.ResourceDescriptor.decode(n,n.uint32());break;default:n.skipType(7&ye)}}return Q},fe.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},fe.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.messageSetWireFormat!=null&&n.hasOwnProperty("messageSetWireFormat")&&typeof n.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(n.noStandardDescriptorAccessor!=null&&n.hasOwnProperty("noStandardDescriptorAccessor")&&typeof n.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.mapEntry!=null&&n.hasOwnProperty("mapEntry")&&typeof n.mapEntry!="boolean")return"mapEntry: boolean expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<n.uninterpretedOption.length;++q)if(U=h.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[q]))return"uninterpretedOption."+U}var U;return n[".google.api.resource"]!=null&&n.hasOwnProperty(".google.api.resource")&&(U=h.google.api.ResourceDescriptor.verify(n[".google.api.resource"]))?".google.api.resource."+U:null},fe.fromObject=function(n){if(n instanceof h.google.protobuf.MessageOptions)return n;var q=new h.google.protobuf.MessageOptions;if(n.messageSetWireFormat!=null&&(q.messageSetWireFormat=!!n.messageSetWireFormat),n.noStandardDescriptorAccessor!=null&&(q.noStandardDescriptorAccessor=!!n.noStandardDescriptorAccessor),n.deprecated!=null&&(q.deprecated=!!n.deprecated),n.mapEntry!=null&&(q.mapEntry=!!n.mapEntry),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var U=0;U<n.uninterpretedOption.length;++U){if(typeof n.uninterpretedOption[U]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");q.uninterpretedOption[U]=h.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[U])}}if(n[".google.api.resource"]!=null){if(typeof n[".google.api.resource"]!="object")throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");q[".google.api.resource"]=h.google.api.ResourceDescriptor.fromObject(n[".google.api.resource"])}return q},fe.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.uninterpretedOption=[]),q.defaults&&(U.messageSetWireFormat=!1,U.noStandardDescriptorAccessor=!1,U.deprecated=!1,U.mapEntry=!1,U[".google.api.resource"]=null),n.messageSetWireFormat!=null&&n.hasOwnProperty("messageSetWireFormat")&&(U.messageSetWireFormat=n.messageSetWireFormat),n.noStandardDescriptorAccessor!=null&&n.hasOwnProperty("noStandardDescriptorAccessor")&&(U.noStandardDescriptorAccessor=n.noStandardDescriptorAccessor),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(U.deprecated=n.deprecated),n.mapEntry!=null&&n.hasOwnProperty("mapEntry")&&(U.mapEntry=n.mapEntry),n.uninterpretedOption&&n.uninterpretedOption.length){U.uninterpretedOption=[];for(var Q=0;Q<n.uninterpretedOption.length;++Q)U.uninterpretedOption[Q]=h.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[Q],q)}return n[".google.api.resource"]!=null&&n.hasOwnProperty(".google.api.resource")&&(U[".google.api.resource"]=h.google.api.ResourceDescriptor.toObject(n[".google.api.resource"],q)),U},fe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},fe),g.FieldOptions=(_e.prototype.ctype=0,_e.prototype.packed=!1,_e.prototype.jstype=0,_e.prototype.lazy=!1,_e.prototype.deprecated=!1,_e.prototype.weak=!1,_e.prototype.uninterpretedOption=s.emptyArray,_e.prototype[".google.api.fieldBehavior"]=s.emptyArray,_e.prototype[".google.api.resourceReference"]=null,_e.create=function(n){return new _e(n)},_e.encode=function(n,q){if(q=q||o.create(),n.ctype!=null&&Object.hasOwnProperty.call(n,"ctype")&&q.uint32(8).int32(n.ctype),n.packed!=null&&Object.hasOwnProperty.call(n,"packed")&&q.uint32(16).bool(n.packed),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&q.uint32(24).bool(n.deprecated),n.lazy!=null&&Object.hasOwnProperty.call(n,"lazy")&&q.uint32(40).bool(n.lazy),n.jstype!=null&&Object.hasOwnProperty.call(n,"jstype")&&q.uint32(48).int32(n.jstype),n.weak!=null&&Object.hasOwnProperty.call(n,"weak")&&q.uint32(80).bool(n.weak),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var U=0;U<n.uninterpretedOption.length;++U)h.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[U],q.uint32(7994).fork()).ldelim();if(n[".google.api.fieldBehavior"]!=null&&n[".google.api.fieldBehavior"].length){for(q.uint32(8418).fork(),U=0;U<n[".google.api.fieldBehavior"].length;++U)q.int32(n[".google.api.fieldBehavior"][U]);q.ldelim()}return n[".google.api.resourceReference"]!=null&&Object.hasOwnProperty.call(n,".google.api.resourceReference")&&h.google.api.ResourceReference.encode(n[".google.api.resourceReference"],q.uint32(8442).fork()).ldelim(),q},_e.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},_e.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.FieldOptions;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.ctype=n.int32();break;case 2:Q.packed=n.bool();break;case 6:Q.jstype=n.int32();break;case 5:Q.lazy=n.bool();break;case 3:Q.deprecated=n.bool();break;case 10:Q.weak=n.bool();break;case 999:Q.uninterpretedOption&&Q.uninterpretedOption.length||(Q.uninterpretedOption=[]),Q.uninterpretedOption.push(h.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;case 1052:if(Q[".google.api.fieldBehavior"]&&Q[".google.api.fieldBehavior"].length||(Q[".google.api.fieldBehavior"]=[]),(7&ye)==2)for(var Ie=n.uint32()+n.pos;n.pos<Ie;)Q[".google.api.fieldBehavior"].push(n.int32());else Q[".google.api.fieldBehavior"].push(n.int32());break;case 1055:Q[".google.api.resourceReference"]=h.google.api.ResourceReference.decode(n,n.uint32());break;default:n.skipType(7&ye)}}return Q},_e.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},_e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.ctype!=null&&n.hasOwnProperty("ctype"))switch(n.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(n.packed!=null&&n.hasOwnProperty("packed")&&typeof n.packed!="boolean")return"packed: boolean expected";if(n.jstype!=null&&n.hasOwnProperty("jstype"))switch(n.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(n.lazy!=null&&n.hasOwnProperty("lazy")&&typeof n.lazy!="boolean")return"lazy: boolean expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.weak!=null&&n.hasOwnProperty("weak")&&typeof n.weak!="boolean")return"weak: boolean expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<n.uninterpretedOption.length;++q)if(U=h.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[q]))return"uninterpretedOption."+U}if(n[".google.api.fieldBehavior"]!=null&&n.hasOwnProperty(".google.api.fieldBehavior")){if(!Array.isArray(n[".google.api.fieldBehavior"]))return".google.api.fieldBehavior: array expected";for(q=0;q<n[".google.api.fieldBehavior"].length;++q)switch(n[".google.api.fieldBehavior"][q]){default:return".google.api.fieldBehavior: enum value[] expected";case 0:case 1:case 2:case 3:case 4:case 5:}}var U;return n[".google.api.resourceReference"]!=null&&n.hasOwnProperty(".google.api.resourceReference")&&(U=h.google.api.ResourceReference.verify(n[".google.api.resourceReference"]))?".google.api.resourceReference."+U:null},_e.fromObject=function(n){if(n instanceof h.google.protobuf.FieldOptions)return n;var q=new h.google.protobuf.FieldOptions;switch(n.ctype){case"STRING":case 0:q.ctype=0;break;case"CORD":case 1:q.ctype=1;break;case"STRING_PIECE":case 2:q.ctype=2}switch(n.packed!=null&&(q.packed=!!n.packed),n.jstype){case"JS_NORMAL":case 0:q.jstype=0;break;case"JS_STRING":case 1:q.jstype=1;break;case"JS_NUMBER":case 2:q.jstype=2}if(n.lazy!=null&&(q.lazy=!!n.lazy),n.deprecated!=null&&(q.deprecated=!!n.deprecated),n.weak!=null&&(q.weak=!!n.weak),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var U=0;U<n.uninterpretedOption.length;++U){if(typeof n.uninterpretedOption[U]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");q.uninterpretedOption[U]=h.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[U])}}if(n[".google.api.fieldBehavior"]){if(!Array.isArray(n[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(q[".google.api.fieldBehavior"]=[],U=0;U<n[".google.api.fieldBehavior"].length;++U)switch(n[".google.api.fieldBehavior"][U]){default:case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:q[".google.api.fieldBehavior"][U]=0;break;case"OPTIONAL":case 1:q[".google.api.fieldBehavior"][U]=1;break;case"REQUIRED":case 2:q[".google.api.fieldBehavior"][U]=2;break;case"OUTPUT_ONLY":case 3:q[".google.api.fieldBehavior"][U]=3;break;case"INPUT_ONLY":case 4:q[".google.api.fieldBehavior"][U]=4;break;case"IMMUTABLE":case 5:q[".google.api.fieldBehavior"][U]=5}}if(n[".google.api.resourceReference"]!=null){if(typeof n[".google.api.resourceReference"]!="object")throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");q[".google.api.resourceReference"]=h.google.api.ResourceReference.fromObject(n[".google.api.resourceReference"])}return q},_e.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.uninterpretedOption=[],U[".google.api.fieldBehavior"]=[]),q.defaults&&(U.ctype=q.enums===String?"STRING":0,U.packed=!1,U.deprecated=!1,U.lazy=!1,U.jstype=q.enums===String?"JS_NORMAL":0,U.weak=!1,U[".google.api.resourceReference"]=null),n.ctype!=null&&n.hasOwnProperty("ctype")&&(U.ctype=q.enums===String?h.google.protobuf.FieldOptions.CType[n.ctype]:n.ctype),n.packed!=null&&n.hasOwnProperty("packed")&&(U.packed=n.packed),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(U.deprecated=n.deprecated),n.lazy!=null&&n.hasOwnProperty("lazy")&&(U.lazy=n.lazy),n.jstype!=null&&n.hasOwnProperty("jstype")&&(U.jstype=q.enums===String?h.google.protobuf.FieldOptions.JSType[n.jstype]:n.jstype),n.weak!=null&&n.hasOwnProperty("weak")&&(U.weak=n.weak),n.uninterpretedOption&&n.uninterpretedOption.length){U.uninterpretedOption=[];for(var Q=0;Q<n.uninterpretedOption.length;++Q)U.uninterpretedOption[Q]=h.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[Q],q)}if(n[".google.api.fieldBehavior"]&&n[".google.api.fieldBehavior"].length)for(U[".google.api.fieldBehavior"]=[],Q=0;Q<n[".google.api.fieldBehavior"].length;++Q)U[".google.api.fieldBehavior"][Q]=q.enums===String?h.google.api.FieldBehavior[n[".google.api.fieldBehavior"][Q]]:n[".google.api.fieldBehavior"][Q];return n[".google.api.resourceReference"]!=null&&n.hasOwnProperty(".google.api.resourceReference")&&(U[".google.api.resourceReference"]=h.google.api.ResourceReference.toObject(n[".google.api.resourceReference"],q)),U},_e.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},_e.CType=(a={},(p=Object.create(a))[a[0]="STRING"]=0,p[a[1]="CORD"]=1,p[a[2]="STRING_PIECE"]=2,p),_e.JSType=(a={},(p=Object.create(a))[a[0]="JS_NORMAL"]=0,p[a[1]="JS_STRING"]=1,p[a[2]="JS_NUMBER"]=2,p),_e),g.OneofOptions=(Ee.prototype.uninterpretedOption=s.emptyArray,Ee.create=function(n){return new Ee(n)},Ee.encode=function(n,q){if(q=q||o.create(),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var U=0;U<n.uninterpretedOption.length;++U)h.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[U],q.uint32(7994).fork()).ldelim();return q},Ee.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},Ee.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.OneofOptions;n.pos<U;){var ye=n.uint32();ye>>>3==999?(Q.uninterpretedOption&&Q.uninterpretedOption.length||(Q.uninterpretedOption=[]),Q.uninterpretedOption.push(h.google.protobuf.UninterpretedOption.decode(n,n.uint32()))):n.skipType(7&ye)}return Q},Ee.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},Ee.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<n.uninterpretedOption.length;++q){var U=h.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[q]);if(U)return"uninterpretedOption."+U}}return null},Ee.fromObject=function(n){if(n instanceof h.google.protobuf.OneofOptions)return n;var q=new h.google.protobuf.OneofOptions;if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var U=0;U<n.uninterpretedOption.length;++U){if(typeof n.uninterpretedOption[U]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");q.uninterpretedOption[U]=h.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[U])}}return q},Ee.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.uninterpretedOption=[]),n.uninterpretedOption&&n.uninterpretedOption.length){U.uninterpretedOption=[];for(var Q=0;Q<n.uninterpretedOption.length;++Q)U.uninterpretedOption[Q]=h.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[Q],q)}return U},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ee),g.EnumOptions=(z.prototype.allowAlias=!1,z.prototype.deprecated=!1,z.prototype.uninterpretedOption=s.emptyArray,z.create=function(n){return new z(n)},z.encode=function(n,q){if(q=q||o.create(),n.allowAlias!=null&&Object.hasOwnProperty.call(n,"allowAlias")&&q.uint32(16).bool(n.allowAlias),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&q.uint32(24).bool(n.deprecated),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var U=0;U<n.uninterpretedOption.length;++U)h.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[U],q.uint32(7994).fork()).ldelim();return q},z.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},z.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.EnumOptions;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 2:Q.allowAlias=n.bool();break;case 3:Q.deprecated=n.bool();break;case 999:Q.uninterpretedOption&&Q.uninterpretedOption.length||(Q.uninterpretedOption=[]),Q.uninterpretedOption.push(h.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;default:n.skipType(7&ye)}}return Q},z.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},z.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.allowAlias!=null&&n.hasOwnProperty("allowAlias")&&typeof n.allowAlias!="boolean")return"allowAlias: boolean expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<n.uninterpretedOption.length;++q){var U=h.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[q]);if(U)return"uninterpretedOption."+U}}return null},z.fromObject=function(n){if(n instanceof h.google.protobuf.EnumOptions)return n;var q=new h.google.protobuf.EnumOptions;if(n.allowAlias!=null&&(q.allowAlias=!!n.allowAlias),n.deprecated!=null&&(q.deprecated=!!n.deprecated),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var U=0;U<n.uninterpretedOption.length;++U){if(typeof n.uninterpretedOption[U]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");q.uninterpretedOption[U]=h.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[U])}}return q},z.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.uninterpretedOption=[]),q.defaults&&(U.allowAlias=!1,U.deprecated=!1),n.allowAlias!=null&&n.hasOwnProperty("allowAlias")&&(U.allowAlias=n.allowAlias),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(U.deprecated=n.deprecated),n.uninterpretedOption&&n.uninterpretedOption.length){U.uninterpretedOption=[];for(var Q=0;Q<n.uninterpretedOption.length;++Q)U.uninterpretedOption[Q]=h.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[Q],q)}return U},z.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},z),g.EnumValueOptions=(d.prototype.deprecated=!1,d.prototype.uninterpretedOption=s.emptyArray,d.create=function(n){return new d(n)},d.encode=function(n,q){if(q=q||o.create(),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&q.uint32(8).bool(n.deprecated),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var U=0;U<n.uninterpretedOption.length;++U)h.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[U],q.uint32(7994).fork()).ldelim();return q},d.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},d.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.EnumValueOptions;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.deprecated=n.bool();break;case 999:Q.uninterpretedOption&&Q.uninterpretedOption.length||(Q.uninterpretedOption=[]),Q.uninterpretedOption.push(h.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;default:n.skipType(7&ye)}}return Q},d.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},d.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<n.uninterpretedOption.length;++q){var U=h.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[q]);if(U)return"uninterpretedOption."+U}}return null},d.fromObject=function(n){if(n instanceof h.google.protobuf.EnumValueOptions)return n;var q=new h.google.protobuf.EnumValueOptions;if(n.deprecated!=null&&(q.deprecated=!!n.deprecated),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var U=0;U<n.uninterpretedOption.length;++U){if(typeof n.uninterpretedOption[U]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");q.uninterpretedOption[U]=h.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[U])}}return q},d.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.uninterpretedOption=[]),q.defaults&&(U.deprecated=!1),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(U.deprecated=n.deprecated),n.uninterpretedOption&&n.uninterpretedOption.length){U.uninterpretedOption=[];for(var Q=0;Q<n.uninterpretedOption.length;++Q)U.uninterpretedOption[Q]=h.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[Q],q)}return U},d.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},d),g.ServiceOptions=(P.prototype.deprecated=!1,P.prototype.uninterpretedOption=s.emptyArray,P.prototype[".google.api.defaultHost"]="",P.prototype[".google.api.oauthScopes"]="",P.create=function(n){return new P(n)},P.encode=function(n,q){if(q=q||o.create(),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&q.uint32(264).bool(n.deprecated),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var U=0;U<n.uninterpretedOption.length;++U)h.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[U],q.uint32(7994).fork()).ldelim();return n[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(n,".google.api.defaultHost")&&q.uint32(8394).string(n[".google.api.defaultHost"]),n[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(n,".google.api.oauthScopes")&&q.uint32(8402).string(n[".google.api.oauthScopes"]),q},P.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},P.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.ServiceOptions;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 33:Q.deprecated=n.bool();break;case 999:Q.uninterpretedOption&&Q.uninterpretedOption.length||(Q.uninterpretedOption=[]),Q.uninterpretedOption.push(h.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;case 1049:Q[".google.api.defaultHost"]=n.string();break;case 1050:Q[".google.api.oauthScopes"]=n.string();break;default:n.skipType(7&ye)}}return Q},P.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},P.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<n.uninterpretedOption.length;++q){var U=h.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[q]);if(U)return"uninterpretedOption."+U}}return n[".google.api.defaultHost"]!=null&&n.hasOwnProperty(".google.api.defaultHost")&&!s.isString(n[".google.api.defaultHost"])?".google.api.defaultHost: string expected":n[".google.api.oauthScopes"]!=null&&n.hasOwnProperty(".google.api.oauthScopes")&&!s.isString(n[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},P.fromObject=function(n){if(n instanceof h.google.protobuf.ServiceOptions)return n;var q=new h.google.protobuf.ServiceOptions;if(n.deprecated!=null&&(q.deprecated=!!n.deprecated),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var U=0;U<n.uninterpretedOption.length;++U){if(typeof n.uninterpretedOption[U]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");q.uninterpretedOption[U]=h.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[U])}}return n[".google.api.defaultHost"]!=null&&(q[".google.api.defaultHost"]=String(n[".google.api.defaultHost"])),n[".google.api.oauthScopes"]!=null&&(q[".google.api.oauthScopes"]=String(n[".google.api.oauthScopes"])),q},P.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.uninterpretedOption=[]),q.defaults&&(U.deprecated=!1,U[".google.api.defaultHost"]="",U[".google.api.oauthScopes"]=""),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(U.deprecated=n.deprecated),n.uninterpretedOption&&n.uninterpretedOption.length){U.uninterpretedOption=[];for(var Q=0;Q<n.uninterpretedOption.length;++Q)U.uninterpretedOption[Q]=h.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[Q],q)}return n[".google.api.defaultHost"]!=null&&n.hasOwnProperty(".google.api.defaultHost")&&(U[".google.api.defaultHost"]=n[".google.api.defaultHost"]),n[".google.api.oauthScopes"]!=null&&n.hasOwnProperty(".google.api.oauthScopes")&&(U[".google.api.oauthScopes"]=n[".google.api.oauthScopes"]),U},P.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},P),g.MethodOptions=(A.prototype.deprecated=!1,A.prototype.idempotencyLevel=0,A.prototype.uninterpretedOption=s.emptyArray,A.prototype[".google.api.http"]=null,A.prototype[".google.api.methodSignature"]=s.emptyArray,A.create=function(n){return new A(n)},A.encode=function(n,q){if(q=q||o.create(),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&q.uint32(264).bool(n.deprecated),n.idempotencyLevel!=null&&Object.hasOwnProperty.call(n,"idempotencyLevel")&&q.uint32(272).int32(n.idempotencyLevel),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var U=0;U<n.uninterpretedOption.length;++U)h.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[U],q.uint32(7994).fork()).ldelim();if(n[".google.api.methodSignature"]!=null&&n[".google.api.methodSignature"].length)for(U=0;U<n[".google.api.methodSignature"].length;++U)q.uint32(8410).string(n[".google.api.methodSignature"][U]);return n[".google.api.http"]!=null&&Object.hasOwnProperty.call(n,".google.api.http")&&h.google.api.HttpRule.encode(n[".google.api.http"],q.uint32(578365826).fork()).ldelim(),q},A.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},A.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.MethodOptions;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 33:Q.deprecated=n.bool();break;case 34:Q.idempotencyLevel=n.int32();break;case 999:Q.uninterpretedOption&&Q.uninterpretedOption.length||(Q.uninterpretedOption=[]),Q.uninterpretedOption.push(h.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;case 72295728:Q[".google.api.http"]=h.google.api.HttpRule.decode(n,n.uint32());break;case 1051:Q[".google.api.methodSignature"]&&Q[".google.api.methodSignature"].length||(Q[".google.api.methodSignature"]=[]),Q[".google.api.methodSignature"].push(n.string());break;default:n.skipType(7&ye)}}return Q},A.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},A.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.idempotencyLevel!=null&&n.hasOwnProperty("idempotencyLevel"))switch(n.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<n.uninterpretedOption.length;++q)if(U=h.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[q]))return"uninterpretedOption."+U}var U;if(n[".google.api.http"]!=null&&n.hasOwnProperty(".google.api.http")&&(U=h.google.api.HttpRule.verify(n[".google.api.http"])))return".google.api.http."+U;if(n[".google.api.methodSignature"]!=null&&n.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(n[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(q=0;q<n[".google.api.methodSignature"].length;++q)if(!s.isString(n[".google.api.methodSignature"][q]))return".google.api.methodSignature: string[] expected"}return null},A.fromObject=function(n){if(n instanceof h.google.protobuf.MethodOptions)return n;var q=new h.google.protobuf.MethodOptions;switch(n.deprecated!=null&&(q.deprecated=!!n.deprecated),n.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:q.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:q.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:q.idempotencyLevel=2}if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var U=0;U<n.uninterpretedOption.length;++U){if(typeof n.uninterpretedOption[U]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");q.uninterpretedOption[U]=h.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[U])}}if(n[".google.api.http"]!=null){if(typeof n[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");q[".google.api.http"]=h.google.api.HttpRule.fromObject(n[".google.api.http"])}if(n[".google.api.methodSignature"]){if(!Array.isArray(n[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(q[".google.api.methodSignature"]=[],U=0;U<n[".google.api.methodSignature"].length;++U)q[".google.api.methodSignature"][U]=String(n[".google.api.methodSignature"][U])}return q},A.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.uninterpretedOption=[],U[".google.api.methodSignature"]=[]),q.defaults&&(U.deprecated=!1,U.idempotencyLevel=q.enums===String?"IDEMPOTENCY_UNKNOWN":0,U[".google.api.http"]=null),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(U.deprecated=n.deprecated),n.idempotencyLevel!=null&&n.hasOwnProperty("idempotencyLevel")&&(U.idempotencyLevel=q.enums===String?h.google.protobuf.MethodOptions.IdempotencyLevel[n.idempotencyLevel]:n.idempotencyLevel),n.uninterpretedOption&&n.uninterpretedOption.length){U.uninterpretedOption=[];for(var Q=0;Q<n.uninterpretedOption.length;++Q)U.uninterpretedOption[Q]=h.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[Q],q)}if(n[".google.api.methodSignature"]&&n[".google.api.methodSignature"].length)for(U[".google.api.methodSignature"]=[],Q=0;Q<n[".google.api.methodSignature"].length;++Q)U[".google.api.methodSignature"][Q]=n[".google.api.methodSignature"][Q];return n[".google.api.http"]!=null&&n.hasOwnProperty(".google.api.http")&&(U[".google.api.http"]=h.google.api.HttpRule.toObject(n[".google.api.http"],q)),U},A.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},A.IdempotencyLevel=(a={},(p=Object.create(a))[a[0]="IDEMPOTENCY_UNKNOWN"]=0,p[a[1]="NO_SIDE_EFFECTS"]=1,p[a[2]="IDEMPOTENT"]=2,p),A),g.UninterpretedOption=($.prototype.name=s.emptyArray,$.prototype.identifierValue="",$.prototype.positiveIntValue=s.Long?s.Long.fromBits(0,0,!0):0,$.prototype.negativeIntValue=s.Long?s.Long.fromBits(0,0,!1):0,$.prototype.doubleValue=0,$.prototype.stringValue=s.newBuffer([]),$.prototype.aggregateValue="",$.create=function(n){return new $(n)},$.encode=function(n,q){if(q=q||o.create(),n.name!=null&&n.name.length)for(var U=0;U<n.name.length;++U)h.google.protobuf.UninterpretedOption.NamePart.encode(n.name[U],q.uint32(18).fork()).ldelim();return n.identifierValue!=null&&Object.hasOwnProperty.call(n,"identifierValue")&&q.uint32(26).string(n.identifierValue),n.positiveIntValue!=null&&Object.hasOwnProperty.call(n,"positiveIntValue")&&q.uint32(32).uint64(n.positiveIntValue),n.negativeIntValue!=null&&Object.hasOwnProperty.call(n,"negativeIntValue")&&q.uint32(40).int64(n.negativeIntValue),n.doubleValue!=null&&Object.hasOwnProperty.call(n,"doubleValue")&&q.uint32(49).double(n.doubleValue),n.stringValue!=null&&Object.hasOwnProperty.call(n,"stringValue")&&q.uint32(58).bytes(n.stringValue),n.aggregateValue!=null&&Object.hasOwnProperty.call(n,"aggregateValue")&&q.uint32(66).string(n.aggregateValue),q},$.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},$.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.UninterpretedOption;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 2:Q.name&&Q.name.length||(Q.name=[]),Q.name.push(h.google.protobuf.UninterpretedOption.NamePart.decode(n,n.uint32()));break;case 3:Q.identifierValue=n.string();break;case 4:Q.positiveIntValue=n.uint64();break;case 5:Q.negativeIntValue=n.int64();break;case 6:Q.doubleValue=n.double();break;case 7:Q.stringValue=n.bytes();break;case 8:Q.aggregateValue=n.string();break;default:n.skipType(7&ye)}}return Q},$.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},$.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")){if(!Array.isArray(n.name))return"name: array expected";for(var q=0;q<n.name.length;++q){var U=h.google.protobuf.UninterpretedOption.NamePart.verify(n.name[q]);if(U)return"name."+U}}return n.identifierValue!=null&&n.hasOwnProperty("identifierValue")&&!s.isString(n.identifierValue)?"identifierValue: string expected":n.positiveIntValue!=null&&n.hasOwnProperty("positiveIntValue")&&!(s.isInteger(n.positiveIntValue)||n.positiveIntValue&&s.isInteger(n.positiveIntValue.low)&&s.isInteger(n.positiveIntValue.high))?"positiveIntValue: integer|Long expected":n.negativeIntValue!=null&&n.hasOwnProperty("negativeIntValue")&&!(s.isInteger(n.negativeIntValue)||n.negativeIntValue&&s.isInteger(n.negativeIntValue.low)&&s.isInteger(n.negativeIntValue.high))?"negativeIntValue: integer|Long expected":n.doubleValue!=null&&n.hasOwnProperty("doubleValue")&&typeof n.doubleValue!="number"?"doubleValue: number expected":n.stringValue!=null&&n.hasOwnProperty("stringValue")&&!(n.stringValue&&typeof n.stringValue.length=="number"||s.isString(n.stringValue))?"stringValue: buffer expected":n.aggregateValue!=null&&n.hasOwnProperty("aggregateValue")&&!s.isString(n.aggregateValue)?"aggregateValue: string expected":null},$.fromObject=function(n){if(n instanceof h.google.protobuf.UninterpretedOption)return n;var q=new h.google.protobuf.UninterpretedOption;if(n.name){if(!Array.isArray(n.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");q.name=[];for(var U=0;U<n.name.length;++U){if(typeof n.name[U]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");q.name[U]=h.google.protobuf.UninterpretedOption.NamePart.fromObject(n.name[U])}}return n.identifierValue!=null&&(q.identifierValue=String(n.identifierValue)),n.positiveIntValue!=null&&(s.Long?(q.positiveIntValue=s.Long.fromValue(n.positiveIntValue)).unsigned=!0:typeof n.positiveIntValue=="string"?q.positiveIntValue=parseInt(n.positiveIntValue,10):typeof n.positiveIntValue=="number"?q.positiveIntValue=n.positiveIntValue:typeof n.positiveIntValue=="object"&&(q.positiveIntValue=new s.LongBits(n.positiveIntValue.low>>>0,n.positiveIntValue.high>>>0).toNumber(!0))),n.negativeIntValue!=null&&(s.Long?(q.negativeIntValue=s.Long.fromValue(n.negativeIntValue)).unsigned=!1:typeof n.negativeIntValue=="string"?q.negativeIntValue=parseInt(n.negativeIntValue,10):typeof n.negativeIntValue=="number"?q.negativeIntValue=n.negativeIntValue:typeof n.negativeIntValue=="object"&&(q.negativeIntValue=new s.LongBits(n.negativeIntValue.low>>>0,n.negativeIntValue.high>>>0).toNumber())),n.doubleValue!=null&&(q.doubleValue=Number(n.doubleValue)),n.stringValue!=null&&(typeof n.stringValue=="string"?s.base64.decode(n.stringValue,q.stringValue=s.newBuffer(s.base64.length(n.stringValue)),0):n.stringValue.length&&(q.stringValue=n.stringValue)),n.aggregateValue!=null&&(q.aggregateValue=String(n.aggregateValue)),q},$.toObject=function(n,q){var U,Q={};if(((q=q||{}).arrays||q.defaults)&&(Q.name=[]),q.defaults&&(Q.identifierValue="",s.Long?(U=new s.Long(0,0,!0),Q.positiveIntValue=q.longs===String?U.toString():q.longs===Number?U.toNumber():U):Q.positiveIntValue=q.longs===String?"0":0,s.Long?(U=new s.Long(0,0,!1),Q.negativeIntValue=q.longs===String?U.toString():q.longs===Number?U.toNumber():U):Q.negativeIntValue=q.longs===String?"0":0,Q.doubleValue=0,q.bytes===String?Q.stringValue="":(Q.stringValue=[],q.bytes!==Array&&(Q.stringValue=s.newBuffer(Q.stringValue))),Q.aggregateValue=""),n.name&&n.name.length){Q.name=[];for(var ye=0;ye<n.name.length;++ye)Q.name[ye]=h.google.protobuf.UninterpretedOption.NamePart.toObject(n.name[ye],q)}return n.identifierValue!=null&&n.hasOwnProperty("identifierValue")&&(Q.identifierValue=n.identifierValue),n.positiveIntValue!=null&&n.hasOwnProperty("positiveIntValue")&&(typeof n.positiveIntValue=="number"?Q.positiveIntValue=q.longs===String?String(n.positiveIntValue):n.positiveIntValue:Q.positiveIntValue=q.longs===String?s.Long.prototype.toString.call(n.positiveIntValue):q.longs===Number?new s.LongBits(n.positiveIntValue.low>>>0,n.positiveIntValue.high>>>0).toNumber(!0):n.positiveIntValue),n.negativeIntValue!=null&&n.hasOwnProperty("negativeIntValue")&&(typeof n.negativeIntValue=="number"?Q.negativeIntValue=q.longs===String?String(n.negativeIntValue):n.negativeIntValue:Q.negativeIntValue=q.longs===String?s.Long.prototype.toString.call(n.negativeIntValue):q.longs===Number?new s.LongBits(n.negativeIntValue.low>>>0,n.negativeIntValue.high>>>0).toNumber():n.negativeIntValue),n.doubleValue!=null&&n.hasOwnProperty("doubleValue")&&(Q.doubleValue=q.json&&!isFinite(n.doubleValue)?String(n.doubleValue):n.doubleValue),n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(Q.stringValue=q.bytes===String?s.base64.encode(n.stringValue,0,n.stringValue.length):q.bytes===Array?Array.prototype.slice.call(n.stringValue):n.stringValue),n.aggregateValue!=null&&n.hasOwnProperty("aggregateValue")&&(Q.aggregateValue=n.aggregateValue),Q},$.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},$.NamePart=(ie.prototype.namePart="",ie.prototype.isExtension=!1,ie.create=function(n){return new ie(n)},ie.encode=function(n,q){return(q=q||o.create()).uint32(10).string(n.namePart),q.uint32(16).bool(n.isExtension),q},ie.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},ie.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.UninterpretedOption.NamePart;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.namePart=n.string();break;case 2:Q.isExtension=n.bool();break;default:n.skipType(7&ye)}}if(!Q.hasOwnProperty("namePart"))throw s.ProtocolError("missing required 'namePart'",{instance:Q});if(Q.hasOwnProperty("isExtension"))return Q;throw s.ProtocolError("missing required 'isExtension'",{instance:Q})},ie.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},ie.verify=function(n){return typeof n!="object"||n===null?"object expected":s.isString(n.namePart)?typeof n.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},ie.fromObject=function(n){var q;return n instanceof h.google.protobuf.UninterpretedOption.NamePart?n:(q=new h.google.protobuf.UninterpretedOption.NamePart,n.namePart!=null&&(q.namePart=String(n.namePart)),n.isExtension!=null&&(q.isExtension=!!n.isExtension),q)},ie.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.namePart="",U.isExtension=!1),n.namePart!=null&&n.hasOwnProperty("namePart")&&(U.namePart=n.namePart),n.isExtension!=null&&n.hasOwnProperty("isExtension")&&(U.isExtension=n.isExtension),U},ie.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ie),$),g.SourceCodeInfo=(pe.prototype.location=s.emptyArray,pe.create=function(n){return new pe(n)},pe.encode=function(n,q){if(q=q||o.create(),n.location!=null&&n.location.length)for(var U=0;U<n.location.length;++U)h.google.protobuf.SourceCodeInfo.Location.encode(n.location[U],q.uint32(10).fork()).ldelim();return q},pe.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},pe.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.SourceCodeInfo;n.pos<U;){var ye=n.uint32();ye>>>3==1?(Q.location&&Q.location.length||(Q.location=[]),Q.location.push(h.google.protobuf.SourceCodeInfo.Location.decode(n,n.uint32()))):n.skipType(7&ye)}return Q},pe.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},pe.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.location!=null&&n.hasOwnProperty("location")){if(!Array.isArray(n.location))return"location: array expected";for(var q=0;q<n.location.length;++q){var U=h.google.protobuf.SourceCodeInfo.Location.verify(n.location[q]);if(U)return"location."+U}}return null},pe.fromObject=function(n){if(n instanceof h.google.protobuf.SourceCodeInfo)return n;var q=new h.google.protobuf.SourceCodeInfo;if(n.location){if(!Array.isArray(n.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");q.location=[];for(var U=0;U<n.location.length;++U){if(typeof n.location[U]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");q.location[U]=h.google.protobuf.SourceCodeInfo.Location.fromObject(n.location[U])}}return q},pe.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.location=[]),n.location&&n.location.length){U.location=[];for(var Q=0;Q<n.location.length;++Q)U.location[Q]=h.google.protobuf.SourceCodeInfo.Location.toObject(n.location[Q],q)}return U},pe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},pe.Location=(ne.prototype.path=s.emptyArray,ne.prototype.span=s.emptyArray,ne.prototype.leadingComments="",ne.prototype.trailingComments="",ne.prototype.leadingDetachedComments=s.emptyArray,ne.create=function(n){return new ne(n)},ne.encode=function(n,q){if(q=q||o.create(),n.path!=null&&n.path.length){q.uint32(10).fork();for(var U=0;U<n.path.length;++U)q.int32(n.path[U]);q.ldelim()}if(n.span!=null&&n.span.length){for(q.uint32(18).fork(),U=0;U<n.span.length;++U)q.int32(n.span[U]);q.ldelim()}if(n.leadingComments!=null&&Object.hasOwnProperty.call(n,"leadingComments")&&q.uint32(26).string(n.leadingComments),n.trailingComments!=null&&Object.hasOwnProperty.call(n,"trailingComments")&&q.uint32(34).string(n.trailingComments),n.leadingDetachedComments!=null&&n.leadingDetachedComments.length)for(U=0;U<n.leadingDetachedComments.length;++U)q.uint32(50).string(n.leadingDetachedComments[U]);return q},ne.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},ne.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.SourceCodeInfo.Location;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:if(Q.path&&Q.path.length||(Q.path=[]),(7&ye)==2)for(var Ie=n.uint32()+n.pos;n.pos<Ie;)Q.path.push(n.int32());else Q.path.push(n.int32());break;case 2:if(Q.span&&Q.span.length||(Q.span=[]),(7&ye)==2)for(Ie=n.uint32()+n.pos;n.pos<Ie;)Q.span.push(n.int32());else Q.span.push(n.int32());break;case 3:Q.leadingComments=n.string();break;case 4:Q.trailingComments=n.string();break;case 6:Q.leadingDetachedComments&&Q.leadingDetachedComments.length||(Q.leadingDetachedComments=[]),Q.leadingDetachedComments.push(n.string());break;default:n.skipType(7&ye)}}return Q},ne.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},ne.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.path!=null&&n.hasOwnProperty("path")){if(!Array.isArray(n.path))return"path: array expected";for(var q=0;q<n.path.length;++q)if(!s.isInteger(n.path[q]))return"path: integer[] expected"}if(n.span!=null&&n.hasOwnProperty("span")){if(!Array.isArray(n.span))return"span: array expected";for(q=0;q<n.span.length;++q)if(!s.isInteger(n.span[q]))return"span: integer[] expected"}if(n.leadingComments!=null&&n.hasOwnProperty("leadingComments")&&!s.isString(n.leadingComments))return"leadingComments: string expected";if(n.trailingComments!=null&&n.hasOwnProperty("trailingComments")&&!s.isString(n.trailingComments))return"trailingComments: string expected";if(n.leadingDetachedComments!=null&&n.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(n.leadingDetachedComments))return"leadingDetachedComments: array expected";for(q=0;q<n.leadingDetachedComments.length;++q)if(!s.isString(n.leadingDetachedComments[q]))return"leadingDetachedComments: string[] expected"}return null},ne.fromObject=function(n){if(n instanceof h.google.protobuf.SourceCodeInfo.Location)return n;var q=new h.google.protobuf.SourceCodeInfo.Location;if(n.path){if(!Array.isArray(n.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");q.path=[];for(var U=0;U<n.path.length;++U)q.path[U]=0|n.path[U]}if(n.span){if(!Array.isArray(n.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(q.span=[],U=0;U<n.span.length;++U)q.span[U]=0|n.span[U]}if(n.leadingComments!=null&&(q.leadingComments=String(n.leadingComments)),n.trailingComments!=null&&(q.trailingComments=String(n.trailingComments)),n.leadingDetachedComments){if(!Array.isArray(n.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(q.leadingDetachedComments=[],U=0;U<n.leadingDetachedComments.length;++U)q.leadingDetachedComments[U]=String(n.leadingDetachedComments[U])}return q},ne.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.path=[],U.span=[],U.leadingDetachedComments=[]),q.defaults&&(U.leadingComments="",U.trailingComments=""),n.path&&n.path.length){U.path=[];for(var Q=0;Q<n.path.length;++Q)U.path[Q]=n.path[Q]}if(n.span&&n.span.length)for(U.span=[],Q=0;Q<n.span.length;++Q)U.span[Q]=n.span[Q];if(n.leadingComments!=null&&n.hasOwnProperty("leadingComments")&&(U.leadingComments=n.leadingComments),n.trailingComments!=null&&n.hasOwnProperty("trailingComments")&&(U.trailingComments=n.trailingComments),n.leadingDetachedComments&&n.leadingDetachedComments.length)for(U.leadingDetachedComments=[],Q=0;Q<n.leadingDetachedComments.length;++Q)U.leadingDetachedComments[Q]=n.leadingDetachedComments[Q];return U},ne.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ne),pe),g.GeneratedCodeInfo=(u.prototype.annotation=s.emptyArray,u.create=function(n){return new u(n)},u.encode=function(n,q){if(q=q||o.create(),n.annotation!=null&&n.annotation.length)for(var U=0;U<n.annotation.length;++U)h.google.protobuf.GeneratedCodeInfo.Annotation.encode(n.annotation[U],q.uint32(10).fork()).ldelim();return q},u.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},u.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.GeneratedCodeInfo;n.pos<U;){var ye=n.uint32();ye>>>3==1?(Q.annotation&&Q.annotation.length||(Q.annotation=[]),Q.annotation.push(h.google.protobuf.GeneratedCodeInfo.Annotation.decode(n,n.uint32()))):n.skipType(7&ye)}return Q},u.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},u.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.annotation!=null&&n.hasOwnProperty("annotation")){if(!Array.isArray(n.annotation))return"annotation: array expected";for(var q=0;q<n.annotation.length;++q){var U=h.google.protobuf.GeneratedCodeInfo.Annotation.verify(n.annotation[q]);if(U)return"annotation."+U}}return null},u.fromObject=function(n){if(n instanceof h.google.protobuf.GeneratedCodeInfo)return n;var q=new h.google.protobuf.GeneratedCodeInfo;if(n.annotation){if(!Array.isArray(n.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");q.annotation=[];for(var U=0;U<n.annotation.length;++U){if(typeof n.annotation[U]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");q.annotation[U]=h.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(n.annotation[U])}}return q},u.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.annotation=[]),n.annotation&&n.annotation.length){U.annotation=[];for(var Q=0;Q<n.annotation.length;++Q)U.annotation[Q]=h.google.protobuf.GeneratedCodeInfo.Annotation.toObject(n.annotation[Q],q)}return U},u.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},u.Annotation=(x.prototype.path=s.emptyArray,x.prototype.sourceFile="",x.prototype.begin=0,x.prototype.end=0,x.create=function(n){return new x(n)},x.encode=function(n,q){if(q=q||o.create(),n.path!=null&&n.path.length){q.uint32(10).fork();for(var U=0;U<n.path.length;++U)q.int32(n.path[U]);q.ldelim()}return n.sourceFile!=null&&Object.hasOwnProperty.call(n,"sourceFile")&&q.uint32(18).string(n.sourceFile),n.begin!=null&&Object.hasOwnProperty.call(n,"begin")&&q.uint32(24).int32(n.begin),n.end!=null&&Object.hasOwnProperty.call(n,"end")&&q.uint32(32).int32(n.end),q},x.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},x.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.protobuf.GeneratedCodeInfo.Annotation;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:if(Q.path&&Q.path.length||(Q.path=[]),(7&ye)==2)for(var Ie=n.uint32()+n.pos;n.pos<Ie;)Q.path.push(n.int32());else Q.path.push(n.int32());break;case 2:Q.sourceFile=n.string();break;case 3:Q.begin=n.int32();break;case 4:Q.end=n.int32();break;default:n.skipType(7&ye)}}return Q},x.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},x.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.path!=null&&n.hasOwnProperty("path")){if(!Array.isArray(n.path))return"path: array expected";for(var q=0;q<n.path.length;++q)if(!s.isInteger(n.path[q]))return"path: integer[] expected"}return n.sourceFile!=null&&n.hasOwnProperty("sourceFile")&&!s.isString(n.sourceFile)?"sourceFile: string expected":n.begin!=null&&n.hasOwnProperty("begin")&&!s.isInteger(n.begin)?"begin: integer expected":n.end!=null&&n.hasOwnProperty("end")&&!s.isInteger(n.end)?"end: integer expected":null},x.fromObject=function(n){if(n instanceof h.google.protobuf.GeneratedCodeInfo.Annotation)return n;var q=new h.google.protobuf.GeneratedCodeInfo.Annotation;if(n.path){if(!Array.isArray(n.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");q.path=[];for(var U=0;U<n.path.length;++U)q.path[U]=0|n.path[U]}return n.sourceFile!=null&&(q.sourceFile=String(n.sourceFile)),n.begin!=null&&(q.begin=0|n.begin),n.end!=null&&(q.end=0|n.end),q},x.toObject=function(n,q){var U={};if(((q=q||{}).arrays||q.defaults)&&(U.path=[]),q.defaults&&(U.sourceFile="",U.begin=0,U.end=0),n.path&&n.path.length){U.path=[];for(var Q=0;Q<n.path.length;++Q)U.path[Q]=n.path[Q]}return n.sourceFile!=null&&n.hasOwnProperty("sourceFile")&&(U.sourceFile=n.sourceFile),n.begin!=null&&n.hasOwnProperty("begin")&&(U.begin=n.begin),n.end!=null&&n.hasOwnProperty("end")&&(U.end=n.end),U},x.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},x),u),g),c.type=((m={}).Expr=(M.prototype.expression="",M.prototype.title="",M.prototype.description="",M.prototype.location="",M.create=function(n){return new M(n)},M.encode=function(n,q){return q=q||o.create(),n.expression!=null&&Object.hasOwnProperty.call(n,"expression")&&q.uint32(10).string(n.expression),n.title!=null&&Object.hasOwnProperty.call(n,"title")&&q.uint32(18).string(n.title),n.description!=null&&Object.hasOwnProperty.call(n,"description")&&q.uint32(26).string(n.description),n.location!=null&&Object.hasOwnProperty.call(n,"location")&&q.uint32(34).string(n.location),q},M.encodeDelimited=function(n,q){return this.encode(n,q).ldelim()},M.decode=function(n,q){n instanceof l||(n=l.create(n));for(var U=q===void 0?n.len:n.pos+q,Q=new h.google.type.Expr;n.pos<U;){var ye=n.uint32();switch(ye>>>3){case 1:Q.expression=n.string();break;case 2:Q.title=n.string();break;case 3:Q.description=n.string();break;case 4:Q.location=n.string();break;default:n.skipType(7&ye)}}return Q},M.decodeDelimited=function(n){return n instanceof l||(n=new l(n)),this.decode(n,n.uint32())},M.verify=function(n){return typeof n!="object"||n===null?"object expected":n.expression!=null&&n.hasOwnProperty("expression")&&!s.isString(n.expression)?"expression: string expected":n.title!=null&&n.hasOwnProperty("title")&&!s.isString(n.title)?"title: string expected":n.description!=null&&n.hasOwnProperty("description")&&!s.isString(n.description)?"description: string expected":n.location!=null&&n.hasOwnProperty("location")&&!s.isString(n.location)?"location: string expected":null},M.fromObject=function(n){var q;return n instanceof h.google.type.Expr?n:(q=new h.google.type.Expr,n.expression!=null&&(q.expression=String(n.expression)),n.title!=null&&(q.title=String(n.title)),n.description!=null&&(q.description=String(n.description)),n.location!=null&&(q.location=String(n.location)),q)},M.toObject=function(n,q){var U={};return(q=q||{}).defaults&&(U.expression="",U.title="",U.description="",U.location=""),n.expression!=null&&n.hasOwnProperty("expression")&&(U.expression=n.expression),n.title!=null&&n.hasOwnProperty("title")&&(U.title=n.title),n.description!=null&&n.hasOwnProperty("description")&&(U.description=n.description),n.location!=null&&n.hasOwnProperty("location")&&(U.location=n.location),U},M.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},M),m),c),h})})(iam_service)),iam_service.exports}var locations={exports:{}},hasRequiredLocations;function requireLocations(){return hasRequiredLocations||(hasRequiredLocations=1,(function(e){(t=>{typeof commonjsRequire=="function"&&e&&e.exports&&(e.exports=t(requireMinimal()))})(function(t){var a,p,g,m,c=t.Reader,l=t.Writer,o=t.util,s=t.roots.locations_protos||(t.roots.locations_protos={});function h(d,P,A){t.rpc.Service.call(this,d,P,A)}function v(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function b(d){if(this.locations=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function y(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function O(d){if(this.labels={},d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function w(d){if(this.rules=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function I(d){if(this.additionalBindings=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function _(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function T(d){if(this.file=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function C(d){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function N(d){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function L(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function D(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function j(d){if(this.uninterpretedOption=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function k(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function V(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function G(d){if(this.value=[],this.reservedRange=[],this.reservedName=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function J(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function W(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function K(d){if(this.method=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function X(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function Y(d){if(this.uninterpretedOption=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function te(d){if(this.uninterpretedOption=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function oe(d){if(this.uninterpretedOption=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function le(d){if(this.uninterpretedOption=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function ee(d){if(this.uninterpretedOption=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function se(d){if(this.uninterpretedOption=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function de(d){if(this.uninterpretedOption=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function he(d){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function ge(d){if(this.name=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function me(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function Oe(d){if(this.location=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function fe(d){if(this.path=[],this.span=[],this.leadingDetachedComments=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function _e(d){if(this.annotation=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function Ee(d){if(this.path=[],d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}function z(d){if(d)for(var P=Object.keys(d),A=0;A<P.length;++A)d[P[A]]!=null&&(this[P[A]]=d[P[A]])}return s.google=((m={}).cloud=((g={}).location=((a={}).Locations=(((h.prototype=Object.create(t.rpc.Service.prototype)).constructor=h).create=function(d,P,A){return new this(d,P,A)},Object.defineProperty(h.prototype.listLocations=function d(P,A){return this.rpcCall(d,s.google.cloud.location.ListLocationsRequest,s.google.cloud.location.ListLocationsResponse,P,A)},"name",{value:"ListLocations"}),Object.defineProperty(h.prototype.getLocation=function d(P,A){return this.rpcCall(d,s.google.cloud.location.GetLocationRequest,s.google.cloud.location.Location,P,A)},"name",{value:"GetLocation"}),h),a.ListLocationsRequest=(v.prototype.name="",v.prototype.filter="",v.prototype.pageSize=0,v.prototype.pageToken="",v.create=function(d){return new v(d)},v.encode=function(d,P){return P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),d.filter!=null&&Object.hasOwnProperty.call(d,"filter")&&P.uint32(18).string(d.filter),d.pageSize!=null&&Object.hasOwnProperty.call(d,"pageSize")&&P.uint32(24).int32(d.pageSize),d.pageToken!=null&&Object.hasOwnProperty.call(d,"pageToken")&&P.uint32(34).string(d.pageToken),P},v.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},v.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.cloud.location.ListLocationsRequest;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.name=d.string();break;case 2:$.filter=d.string();break;case 3:$.pageSize=d.int32();break;case 4:$.pageToken=d.string();break;default:d.skipType(7&ie)}}return $},v.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},v.verify=function(d){return typeof d!="object"||d===null?"object expected":d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name)?"name: string expected":d.filter!=null&&d.hasOwnProperty("filter")&&!o.isString(d.filter)?"filter: string expected":d.pageSize!=null&&d.hasOwnProperty("pageSize")&&!o.isInteger(d.pageSize)?"pageSize: integer expected":d.pageToken!=null&&d.hasOwnProperty("pageToken")&&!o.isString(d.pageToken)?"pageToken: string expected":null},v.fromObject=function(d){var P;return d instanceof s.google.cloud.location.ListLocationsRequest?d:(P=new s.google.cloud.location.ListLocationsRequest,d.name!=null&&(P.name=String(d.name)),d.filter!=null&&(P.filter=String(d.filter)),d.pageSize!=null&&(P.pageSize=0|d.pageSize),d.pageToken!=null&&(P.pageToken=String(d.pageToken)),P)},v.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.name="",A.filter="",A.pageSize=0,A.pageToken=""),d.name!=null&&d.hasOwnProperty("name")&&(A.name=d.name),d.filter!=null&&d.hasOwnProperty("filter")&&(A.filter=d.filter),d.pageSize!=null&&d.hasOwnProperty("pageSize")&&(A.pageSize=d.pageSize),d.pageToken!=null&&d.hasOwnProperty("pageToken")&&(A.pageToken=d.pageToken),A},v.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},v),a.ListLocationsResponse=(b.prototype.locations=o.emptyArray,b.prototype.nextPageToken="",b.create=function(d){return new b(d)},b.encode=function(d,P){if(P=P||l.create(),d.locations!=null&&d.locations.length)for(var A=0;A<d.locations.length;++A)s.google.cloud.location.Location.encode(d.locations[A],P.uint32(10).fork()).ldelim();return d.nextPageToken!=null&&Object.hasOwnProperty.call(d,"nextPageToken")&&P.uint32(18).string(d.nextPageToken),P},b.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},b.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.cloud.location.ListLocationsResponse;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.locations&&$.locations.length||($.locations=[]),$.locations.push(s.google.cloud.location.Location.decode(d,d.uint32()));break;case 2:$.nextPageToken=d.string();break;default:d.skipType(7&ie)}}return $},b.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},b.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.locations!=null&&d.hasOwnProperty("locations")){if(!Array.isArray(d.locations))return"locations: array expected";for(var P=0;P<d.locations.length;++P){var A=s.google.cloud.location.Location.verify(d.locations[P]);if(A)return"locations."+A}}return d.nextPageToken!=null&&d.hasOwnProperty("nextPageToken")&&!o.isString(d.nextPageToken)?"nextPageToken: string expected":null},b.fromObject=function(d){if(d instanceof s.google.cloud.location.ListLocationsResponse)return d;var P=new s.google.cloud.location.ListLocationsResponse;if(d.locations){if(!Array.isArray(d.locations))throw TypeError(".google.cloud.location.ListLocationsResponse.locations: array expected");P.locations=[];for(var A=0;A<d.locations.length;++A){if(typeof d.locations[A]!="object")throw TypeError(".google.cloud.location.ListLocationsResponse.locations: object expected");P.locations[A]=s.google.cloud.location.Location.fromObject(d.locations[A])}}return d.nextPageToken!=null&&(P.nextPageToken=String(d.nextPageToken)),P},b.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.locations=[]),P.defaults&&(A.nextPageToken=""),d.locations&&d.locations.length){A.locations=[];for(var $=0;$<d.locations.length;++$)A.locations[$]=s.google.cloud.location.Location.toObject(d.locations[$],P)}return d.nextPageToken!=null&&d.hasOwnProperty("nextPageToken")&&(A.nextPageToken=d.nextPageToken),A},b.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},b),a.GetLocationRequest=(y.prototype.name="",y.create=function(d){return new y(d)},y.encode=function(d,P){return P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),P},y.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},y.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.cloud.location.GetLocationRequest;d.pos<A;){var ie=d.uint32();ie>>>3==1?$.name=d.string():d.skipType(7&ie)}return $},y.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},y.verify=function(d){return typeof d!="object"||d===null?"object expected":d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name)?"name: string expected":null},y.fromObject=function(d){var P;return d instanceof s.google.cloud.location.GetLocationRequest?d:(P=new s.google.cloud.location.GetLocationRequest,d.name!=null&&(P.name=String(d.name)),P)},y.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.name=""),d.name!=null&&d.hasOwnProperty("name")&&(A.name=d.name),A},y.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},y),a.Location=(O.prototype.name="",O.prototype.locationId="",O.prototype.displayName="",O.prototype.labels=o.emptyObject,O.prototype.metadata=null,O.create=function(d){return new O(d)},O.encode=function(d,P){if(P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),d.labels!=null&&Object.hasOwnProperty.call(d,"labels"))for(var A=Object.keys(d.labels),$=0;$<A.length;++$)P.uint32(18).fork().uint32(10).string(A[$]).uint32(18).string(d.labels[A[$]]).ldelim();return d.metadata!=null&&Object.hasOwnProperty.call(d,"metadata")&&s.google.protobuf.Any.encode(d.metadata,P.uint32(26).fork()).ldelim(),d.locationId!=null&&Object.hasOwnProperty.call(d,"locationId")&&P.uint32(34).string(d.locationId),d.displayName!=null&&Object.hasOwnProperty.call(d,"displayName")&&P.uint32(42).string(d.displayName),P},O.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},O.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.cloud.location.Location;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.name=d.string();break;case 4:$.locationId=d.string();break;case 5:$.displayName=d.string();break;case 2:$.labels===o.emptyObject&&($.labels={});for(var pe=d.uint32()+d.pos,ne="",u="";d.pos<pe;){var x=d.uint32();switch(x>>>3){case 1:ne=d.string();break;case 2:u=d.string();break;default:d.skipType(7&x)}}$.labels[ne]=u;break;case 3:$.metadata=s.google.protobuf.Any.decode(d,d.uint32());break;default:d.skipType(7&ie)}}return $},O.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},O.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name))return"name: string expected";if(d.locationId!=null&&d.hasOwnProperty("locationId")&&!o.isString(d.locationId))return"locationId: string expected";if(d.displayName!=null&&d.hasOwnProperty("displayName")&&!o.isString(d.displayName))return"displayName: string expected";if(d.labels!=null&&d.hasOwnProperty("labels")){if(!o.isObject(d.labels))return"labels: object expected";for(var P=Object.keys(d.labels),A=0;A<P.length;++A)if(!o.isString(d.labels[P[A]]))return"labels: string{k:string} expected"}if(d.metadata!=null&&d.hasOwnProperty("metadata")){var $=s.google.protobuf.Any.verify(d.metadata);if($)return"metadata."+$}return null},O.fromObject=function(d){if(d instanceof s.google.cloud.location.Location)return d;var P=new s.google.cloud.location.Location;if(d.name!=null&&(P.name=String(d.name)),d.locationId!=null&&(P.locationId=String(d.locationId)),d.displayName!=null&&(P.displayName=String(d.displayName)),d.labels){if(typeof d.labels!="object")throw TypeError(".google.cloud.location.Location.labels: object expected");P.labels={};for(var A=Object.keys(d.labels),$=0;$<A.length;++$)P.labels[A[$]]=String(d.labels[A[$]])}if(d.metadata!=null){if(typeof d.metadata!="object")throw TypeError(".google.cloud.location.Location.metadata: object expected");P.metadata=s.google.protobuf.Any.fromObject(d.metadata)}return P},O.toObject=function(d,P){var A,$={};if(((P=P||{}).objects||P.defaults)&&($.labels={}),P.defaults&&($.name="",$.metadata=null,$.locationId="",$.displayName=""),d.name!=null&&d.hasOwnProperty("name")&&($.name=d.name),d.labels&&(A=Object.keys(d.labels)).length){$.labels={};for(var ie=0;ie<A.length;++ie)$.labels[A[ie]]=d.labels[A[ie]]}return d.metadata!=null&&d.hasOwnProperty("metadata")&&($.metadata=s.google.protobuf.Any.toObject(d.metadata,P)),d.locationId!=null&&d.hasOwnProperty("locationId")&&($.locationId=d.locationId),d.displayName!=null&&d.hasOwnProperty("displayName")&&($.displayName=d.displayName),$},O.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},O),a),g),m.api=((a={}).Http=(w.prototype.rules=o.emptyArray,w.prototype.fullyDecodeReservedExpansion=!1,w.create=function(d){return new w(d)},w.encode=function(d,P){if(P=P||l.create(),d.rules!=null&&d.rules.length)for(var A=0;A<d.rules.length;++A)s.google.api.HttpRule.encode(d.rules[A],P.uint32(10).fork()).ldelim();return d.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(d,"fullyDecodeReservedExpansion")&&P.uint32(16).bool(d.fullyDecodeReservedExpansion),P},w.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},w.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.api.Http;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.rules&&$.rules.length||($.rules=[]),$.rules.push(s.google.api.HttpRule.decode(d,d.uint32()));break;case 2:$.fullyDecodeReservedExpansion=d.bool();break;default:d.skipType(7&ie)}}return $},w.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},w.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.rules!=null&&d.hasOwnProperty("rules")){if(!Array.isArray(d.rules))return"rules: array expected";for(var P=0;P<d.rules.length;++P){var A=s.google.api.HttpRule.verify(d.rules[P]);if(A)return"rules."+A}}return d.fullyDecodeReservedExpansion!=null&&d.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof d.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},w.fromObject=function(d){if(d instanceof s.google.api.Http)return d;var P=new s.google.api.Http;if(d.rules){if(!Array.isArray(d.rules))throw TypeError(".google.api.Http.rules: array expected");P.rules=[];for(var A=0;A<d.rules.length;++A){if(typeof d.rules[A]!="object")throw TypeError(".google.api.Http.rules: object expected");P.rules[A]=s.google.api.HttpRule.fromObject(d.rules[A])}}return d.fullyDecodeReservedExpansion!=null&&(P.fullyDecodeReservedExpansion=!!d.fullyDecodeReservedExpansion),P},w.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.rules=[]),P.defaults&&(A.fullyDecodeReservedExpansion=!1),d.rules&&d.rules.length){A.rules=[];for(var $=0;$<d.rules.length;++$)A.rules[$]=s.google.api.HttpRule.toObject(d.rules[$],P)}return d.fullyDecodeReservedExpansion!=null&&d.hasOwnProperty("fullyDecodeReservedExpansion")&&(A.fullyDecodeReservedExpansion=d.fullyDecodeReservedExpansion),A},w.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},w),a.HttpRule=(I.prototype.selector="",I.prototype.get=null,I.prototype.put=null,I.prototype.post=null,I.prototype.delete=null,I.prototype.patch=null,I.prototype.custom=null,I.prototype.body="",I.prototype.responseBody="",I.prototype.additionalBindings=o.emptyArray,Object.defineProperty(I.prototype,"pattern",{get:o.oneOfGetter(g=["get","put","post","delete","patch","custom"]),set:o.oneOfSetter(g)}),I.create=function(d){return new I(d)},I.encode=function(d,P){if(P=P||l.create(),d.selector!=null&&Object.hasOwnProperty.call(d,"selector")&&P.uint32(10).string(d.selector),d.get!=null&&Object.hasOwnProperty.call(d,"get")&&P.uint32(18).string(d.get),d.put!=null&&Object.hasOwnProperty.call(d,"put")&&P.uint32(26).string(d.put),d.post!=null&&Object.hasOwnProperty.call(d,"post")&&P.uint32(34).string(d.post),d.delete!=null&&Object.hasOwnProperty.call(d,"delete")&&P.uint32(42).string(d.delete),d.patch!=null&&Object.hasOwnProperty.call(d,"patch")&&P.uint32(50).string(d.patch),d.body!=null&&Object.hasOwnProperty.call(d,"body")&&P.uint32(58).string(d.body),d.custom!=null&&Object.hasOwnProperty.call(d,"custom")&&s.google.api.CustomHttpPattern.encode(d.custom,P.uint32(66).fork()).ldelim(),d.additionalBindings!=null&&d.additionalBindings.length)for(var A=0;A<d.additionalBindings.length;++A)s.google.api.HttpRule.encode(d.additionalBindings[A],P.uint32(90).fork()).ldelim();return d.responseBody!=null&&Object.hasOwnProperty.call(d,"responseBody")&&P.uint32(98).string(d.responseBody),P},I.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},I.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.api.HttpRule;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.selector=d.string();break;case 2:$.get=d.string();break;case 3:$.put=d.string();break;case 4:$.post=d.string();break;case 5:$.delete=d.string();break;case 6:$.patch=d.string();break;case 8:$.custom=s.google.api.CustomHttpPattern.decode(d,d.uint32());break;case 7:$.body=d.string();break;case 12:$.responseBody=d.string();break;case 11:$.additionalBindings&&$.additionalBindings.length||($.additionalBindings=[]),$.additionalBindings.push(s.google.api.HttpRule.decode(d,d.uint32()));break;default:d.skipType(7&ie)}}return $},I.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},I.verify=function(d){if(typeof d!="object"||d===null)return"object expected";var P={};if(d.selector!=null&&d.hasOwnProperty("selector")&&!o.isString(d.selector))return"selector: string expected";if(d.get!=null&&d.hasOwnProperty("get")&&(P.pattern=1,!o.isString(d.get)))return"get: string expected";if(d.put!=null&&d.hasOwnProperty("put")){if(P.pattern===1)return"pattern: multiple values";if(P.pattern=1,!o.isString(d.put))return"put: string expected"}if(d.post!=null&&d.hasOwnProperty("post")){if(P.pattern===1)return"pattern: multiple values";if(P.pattern=1,!o.isString(d.post))return"post: string expected"}if(d.delete!=null&&d.hasOwnProperty("delete")){if(P.pattern===1)return"pattern: multiple values";if(P.pattern=1,!o.isString(d.delete))return"delete: string expected"}if(d.patch!=null&&d.hasOwnProperty("patch")){if(P.pattern===1)return"pattern: multiple values";if(P.pattern=1,!o.isString(d.patch))return"patch: string expected"}if(d.custom!=null&&d.hasOwnProperty("custom")){if(P.pattern===1)return"pattern: multiple values";if(P.pattern=1,A=s.google.api.CustomHttpPattern.verify(d.custom))return"custom."+A}if(d.body!=null&&d.hasOwnProperty("body")&&!o.isString(d.body))return"body: string expected";if(d.responseBody!=null&&d.hasOwnProperty("responseBody")&&!o.isString(d.responseBody))return"responseBody: string expected";if(d.additionalBindings!=null&&d.hasOwnProperty("additionalBindings")){if(!Array.isArray(d.additionalBindings))return"additionalBindings: array expected";for(var A,$=0;$<d.additionalBindings.length;++$)if(A=s.google.api.HttpRule.verify(d.additionalBindings[$]))return"additionalBindings."+A}return null},I.fromObject=function(d){if(d instanceof s.google.api.HttpRule)return d;var P=new s.google.api.HttpRule;if(d.selector!=null&&(P.selector=String(d.selector)),d.get!=null&&(P.get=String(d.get)),d.put!=null&&(P.put=String(d.put)),d.post!=null&&(P.post=String(d.post)),d.delete!=null&&(P.delete=String(d.delete)),d.patch!=null&&(P.patch=String(d.patch)),d.custom!=null){if(typeof d.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");P.custom=s.google.api.CustomHttpPattern.fromObject(d.custom)}if(d.body!=null&&(P.body=String(d.body)),d.responseBody!=null&&(P.responseBody=String(d.responseBody)),d.additionalBindings){if(!Array.isArray(d.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");P.additionalBindings=[];for(var A=0;A<d.additionalBindings.length;++A){if(typeof d.additionalBindings[A]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");P.additionalBindings[A]=s.google.api.HttpRule.fromObject(d.additionalBindings[A])}}return P},I.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.additionalBindings=[]),P.defaults&&(A.selector="",A.body="",A.responseBody=""),d.selector!=null&&d.hasOwnProperty("selector")&&(A.selector=d.selector),d.get!=null&&d.hasOwnProperty("get")&&(A.get=d.get,P.oneofs)&&(A.pattern="get"),d.put!=null&&d.hasOwnProperty("put")&&(A.put=d.put,P.oneofs)&&(A.pattern="put"),d.post!=null&&d.hasOwnProperty("post")&&(A.post=d.post,P.oneofs)&&(A.pattern="post"),d.delete!=null&&d.hasOwnProperty("delete")&&(A.delete=d.delete,P.oneofs)&&(A.pattern="delete"),d.patch!=null&&d.hasOwnProperty("patch")&&(A.patch=d.patch,P.oneofs)&&(A.pattern="patch"),d.body!=null&&d.hasOwnProperty("body")&&(A.body=d.body),d.custom!=null&&d.hasOwnProperty("custom")&&(A.custom=s.google.api.CustomHttpPattern.toObject(d.custom,P),P.oneofs)&&(A.pattern="custom"),d.additionalBindings&&d.additionalBindings.length){A.additionalBindings=[];for(var $=0;$<d.additionalBindings.length;++$)A.additionalBindings[$]=s.google.api.HttpRule.toObject(d.additionalBindings[$],P)}return d.responseBody!=null&&d.hasOwnProperty("responseBody")&&(A.responseBody=d.responseBody),A},I.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},I),a.CustomHttpPattern=(_.prototype.kind="",_.prototype.path="",_.create=function(d){return new _(d)},_.encode=function(d,P){return P=P||l.create(),d.kind!=null&&Object.hasOwnProperty.call(d,"kind")&&P.uint32(10).string(d.kind),d.path!=null&&Object.hasOwnProperty.call(d,"path")&&P.uint32(18).string(d.path),P},_.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},_.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.api.CustomHttpPattern;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.kind=d.string();break;case 2:$.path=d.string();break;default:d.skipType(7&ie)}}return $},_.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},_.verify=function(d){return typeof d!="object"||d===null?"object expected":d.kind!=null&&d.hasOwnProperty("kind")&&!o.isString(d.kind)?"kind: string expected":d.path!=null&&d.hasOwnProperty("path")&&!o.isString(d.path)?"path: string expected":null},_.fromObject=function(d){var P;return d instanceof s.google.api.CustomHttpPattern?d:(P=new s.google.api.CustomHttpPattern,d.kind!=null&&(P.kind=String(d.kind)),d.path!=null&&(P.path=String(d.path)),P)},_.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.kind="",A.path=""),d.kind!=null&&d.hasOwnProperty("kind")&&(A.kind=d.kind),d.path!=null&&d.hasOwnProperty("path")&&(A.path=d.path),A},_.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},_),a),m.protobuf=((g={}).FileDescriptorSet=(T.prototype.file=o.emptyArray,T.create=function(d){return new T(d)},T.encode=function(d,P){if(P=P||l.create(),d.file!=null&&d.file.length)for(var A=0;A<d.file.length;++A)s.google.protobuf.FileDescriptorProto.encode(d.file[A],P.uint32(10).fork()).ldelim();return P},T.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},T.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.FileDescriptorSet;d.pos<A;){var ie=d.uint32();ie>>>3==1?($.file&&$.file.length||($.file=[]),$.file.push(s.google.protobuf.FileDescriptorProto.decode(d,d.uint32()))):d.skipType(7&ie)}return $},T.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},T.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.file!=null&&d.hasOwnProperty("file")){if(!Array.isArray(d.file))return"file: array expected";for(var P=0;P<d.file.length;++P){var A=s.google.protobuf.FileDescriptorProto.verify(d.file[P]);if(A)return"file."+A}}return null},T.fromObject=function(d){if(d instanceof s.google.protobuf.FileDescriptorSet)return d;var P=new s.google.protobuf.FileDescriptorSet;if(d.file){if(!Array.isArray(d.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");P.file=[];for(var A=0;A<d.file.length;++A){if(typeof d.file[A]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");P.file[A]=s.google.protobuf.FileDescriptorProto.fromObject(d.file[A])}}return P},T.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.file=[]),d.file&&d.file.length){A.file=[];for(var $=0;$<d.file.length;++$)A.file[$]=s.google.protobuf.FileDescriptorProto.toObject(d.file[$],P)}return A},T.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},T),g.FileDescriptorProto=(C.prototype.name="",C.prototype.package="",C.prototype.dependency=o.emptyArray,C.prototype.publicDependency=o.emptyArray,C.prototype.weakDependency=o.emptyArray,C.prototype.messageType=o.emptyArray,C.prototype.enumType=o.emptyArray,C.prototype.service=o.emptyArray,C.prototype.extension=o.emptyArray,C.prototype.options=null,C.prototype.sourceCodeInfo=null,C.prototype.syntax="",C.create=function(d){return new C(d)},C.encode=function(d,P){if(P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),d.package!=null&&Object.hasOwnProperty.call(d,"package")&&P.uint32(18).string(d.package),d.dependency!=null&&d.dependency.length)for(var A=0;A<d.dependency.length;++A)P.uint32(26).string(d.dependency[A]);if(d.messageType!=null&&d.messageType.length)for(A=0;A<d.messageType.length;++A)s.google.protobuf.DescriptorProto.encode(d.messageType[A],P.uint32(34).fork()).ldelim();if(d.enumType!=null&&d.enumType.length)for(A=0;A<d.enumType.length;++A)s.google.protobuf.EnumDescriptorProto.encode(d.enumType[A],P.uint32(42).fork()).ldelim();if(d.service!=null&&d.service.length)for(A=0;A<d.service.length;++A)s.google.protobuf.ServiceDescriptorProto.encode(d.service[A],P.uint32(50).fork()).ldelim();if(d.extension!=null&&d.extension.length)for(A=0;A<d.extension.length;++A)s.google.protobuf.FieldDescriptorProto.encode(d.extension[A],P.uint32(58).fork()).ldelim();if(d.options!=null&&Object.hasOwnProperty.call(d,"options")&&s.google.protobuf.FileOptions.encode(d.options,P.uint32(66).fork()).ldelim(),d.sourceCodeInfo!=null&&Object.hasOwnProperty.call(d,"sourceCodeInfo")&&s.google.protobuf.SourceCodeInfo.encode(d.sourceCodeInfo,P.uint32(74).fork()).ldelim(),d.publicDependency!=null&&d.publicDependency.length)for(A=0;A<d.publicDependency.length;++A)P.uint32(80).int32(d.publicDependency[A]);if(d.weakDependency!=null&&d.weakDependency.length)for(A=0;A<d.weakDependency.length;++A)P.uint32(88).int32(d.weakDependency[A]);return d.syntax!=null&&Object.hasOwnProperty.call(d,"syntax")&&P.uint32(98).string(d.syntax),P},C.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},C.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.FileDescriptorProto;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.name=d.string();break;case 2:$.package=d.string();break;case 3:$.dependency&&$.dependency.length||($.dependency=[]),$.dependency.push(d.string());break;case 10:if($.publicDependency&&$.publicDependency.length||($.publicDependency=[]),(7&ie)==2)for(var pe=d.uint32()+d.pos;d.pos<pe;)$.publicDependency.push(d.int32());else $.publicDependency.push(d.int32());break;case 11:if($.weakDependency&&$.weakDependency.length||($.weakDependency=[]),(7&ie)==2)for(pe=d.uint32()+d.pos;d.pos<pe;)$.weakDependency.push(d.int32());else $.weakDependency.push(d.int32());break;case 4:$.messageType&&$.messageType.length||($.messageType=[]),$.messageType.push(s.google.protobuf.DescriptorProto.decode(d,d.uint32()));break;case 5:$.enumType&&$.enumType.length||($.enumType=[]),$.enumType.push(s.google.protobuf.EnumDescriptorProto.decode(d,d.uint32()));break;case 6:$.service&&$.service.length||($.service=[]),$.service.push(s.google.protobuf.ServiceDescriptorProto.decode(d,d.uint32()));break;case 7:$.extension&&$.extension.length||($.extension=[]),$.extension.push(s.google.protobuf.FieldDescriptorProto.decode(d,d.uint32()));break;case 8:$.options=s.google.protobuf.FileOptions.decode(d,d.uint32());break;case 9:$.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.decode(d,d.uint32());break;case 12:$.syntax=d.string();break;default:d.skipType(7&ie)}}return $},C.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},C.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name))return"name: string expected";if(d.package!=null&&d.hasOwnProperty("package")&&!o.isString(d.package))return"package: string expected";if(d.dependency!=null&&d.hasOwnProperty("dependency")){if(!Array.isArray(d.dependency))return"dependency: array expected";for(var P=0;P<d.dependency.length;++P)if(!o.isString(d.dependency[P]))return"dependency: string[] expected"}if(d.publicDependency!=null&&d.hasOwnProperty("publicDependency")){if(!Array.isArray(d.publicDependency))return"publicDependency: array expected";for(P=0;P<d.publicDependency.length;++P)if(!o.isInteger(d.publicDependency[P]))return"publicDependency: integer[] expected"}if(d.weakDependency!=null&&d.hasOwnProperty("weakDependency")){if(!Array.isArray(d.weakDependency))return"weakDependency: array expected";for(P=0;P<d.weakDependency.length;++P)if(!o.isInteger(d.weakDependency[P]))return"weakDependency: integer[] expected"}if(d.messageType!=null&&d.hasOwnProperty("messageType")){if(!Array.isArray(d.messageType))return"messageType: array expected";for(P=0;P<d.messageType.length;++P)if(A=s.google.protobuf.DescriptorProto.verify(d.messageType[P]))return"messageType."+A}if(d.enumType!=null&&d.hasOwnProperty("enumType")){if(!Array.isArray(d.enumType))return"enumType: array expected";for(P=0;P<d.enumType.length;++P)if(A=s.google.protobuf.EnumDescriptorProto.verify(d.enumType[P]))return"enumType."+A}if(d.service!=null&&d.hasOwnProperty("service")){if(!Array.isArray(d.service))return"service: array expected";for(P=0;P<d.service.length;++P)if(A=s.google.protobuf.ServiceDescriptorProto.verify(d.service[P]))return"service."+A}if(d.extension!=null&&d.hasOwnProperty("extension")){if(!Array.isArray(d.extension))return"extension: array expected";for(P=0;P<d.extension.length;++P)if(A=s.google.protobuf.FieldDescriptorProto.verify(d.extension[P]))return"extension."+A}var A;return d.options!=null&&d.hasOwnProperty("options")&&(A=s.google.protobuf.FileOptions.verify(d.options))?"options."+A:d.sourceCodeInfo!=null&&d.hasOwnProperty("sourceCodeInfo")&&(A=s.google.protobuf.SourceCodeInfo.verify(d.sourceCodeInfo))?"sourceCodeInfo."+A:d.syntax!=null&&d.hasOwnProperty("syntax")&&!o.isString(d.syntax)?"syntax: string expected":null},C.fromObject=function(d){if(d instanceof s.google.protobuf.FileDescriptorProto)return d;var P=new s.google.protobuf.FileDescriptorProto;if(d.name!=null&&(P.name=String(d.name)),d.package!=null&&(P.package=String(d.package)),d.dependency){if(!Array.isArray(d.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");P.dependency=[];for(var A=0;A<d.dependency.length;++A)P.dependency[A]=String(d.dependency[A])}if(d.publicDependency){if(!Array.isArray(d.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(P.publicDependency=[],A=0;A<d.publicDependency.length;++A)P.publicDependency[A]=0|d.publicDependency[A]}if(d.weakDependency){if(!Array.isArray(d.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(P.weakDependency=[],A=0;A<d.weakDependency.length;++A)P.weakDependency[A]=0|d.weakDependency[A]}if(d.messageType){if(!Array.isArray(d.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(P.messageType=[],A=0;A<d.messageType.length;++A){if(typeof d.messageType[A]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");P.messageType[A]=s.google.protobuf.DescriptorProto.fromObject(d.messageType[A])}}if(d.enumType){if(!Array.isArray(d.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(P.enumType=[],A=0;A<d.enumType.length;++A){if(typeof d.enumType[A]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");P.enumType[A]=s.google.protobuf.EnumDescriptorProto.fromObject(d.enumType[A])}}if(d.service){if(!Array.isArray(d.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(P.service=[],A=0;A<d.service.length;++A){if(typeof d.service[A]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");P.service[A]=s.google.protobuf.ServiceDescriptorProto.fromObject(d.service[A])}}if(d.extension){if(!Array.isArray(d.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(P.extension=[],A=0;A<d.extension.length;++A){if(typeof d.extension[A]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");P.extension[A]=s.google.protobuf.FieldDescriptorProto.fromObject(d.extension[A])}}if(d.options!=null){if(typeof d.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");P.options=s.google.protobuf.FileOptions.fromObject(d.options)}if(d.sourceCodeInfo!=null){if(typeof d.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");P.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.fromObject(d.sourceCodeInfo)}return d.syntax!=null&&(P.syntax=String(d.syntax)),P},C.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.dependency=[],A.messageType=[],A.enumType=[],A.service=[],A.extension=[],A.publicDependency=[],A.weakDependency=[]),P.defaults&&(A.name="",A.package="",A.options=null,A.sourceCodeInfo=null,A.syntax=""),d.name!=null&&d.hasOwnProperty("name")&&(A.name=d.name),d.package!=null&&d.hasOwnProperty("package")&&(A.package=d.package),d.dependency&&d.dependency.length){A.dependency=[];for(var $=0;$<d.dependency.length;++$)A.dependency[$]=d.dependency[$]}if(d.messageType&&d.messageType.length)for(A.messageType=[],$=0;$<d.messageType.length;++$)A.messageType[$]=s.google.protobuf.DescriptorProto.toObject(d.messageType[$],P);if(d.enumType&&d.enumType.length)for(A.enumType=[],$=0;$<d.enumType.length;++$)A.enumType[$]=s.google.protobuf.EnumDescriptorProto.toObject(d.enumType[$],P);if(d.service&&d.service.length)for(A.service=[],$=0;$<d.service.length;++$)A.service[$]=s.google.protobuf.ServiceDescriptorProto.toObject(d.service[$],P);if(d.extension&&d.extension.length)for(A.extension=[],$=0;$<d.extension.length;++$)A.extension[$]=s.google.protobuf.FieldDescriptorProto.toObject(d.extension[$],P);if(d.options!=null&&d.hasOwnProperty("options")&&(A.options=s.google.protobuf.FileOptions.toObject(d.options,P)),d.sourceCodeInfo!=null&&d.hasOwnProperty("sourceCodeInfo")&&(A.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.toObject(d.sourceCodeInfo,P)),d.publicDependency&&d.publicDependency.length)for(A.publicDependency=[],$=0;$<d.publicDependency.length;++$)A.publicDependency[$]=d.publicDependency[$];if(d.weakDependency&&d.weakDependency.length)for(A.weakDependency=[],$=0;$<d.weakDependency.length;++$)A.weakDependency[$]=d.weakDependency[$];return d.syntax!=null&&d.hasOwnProperty("syntax")&&(A.syntax=d.syntax),A},C.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},C),g.DescriptorProto=(N.prototype.name="",N.prototype.field=o.emptyArray,N.prototype.extension=o.emptyArray,N.prototype.nestedType=o.emptyArray,N.prototype.enumType=o.emptyArray,N.prototype.extensionRange=o.emptyArray,N.prototype.oneofDecl=o.emptyArray,N.prototype.options=null,N.prototype.reservedRange=o.emptyArray,N.prototype.reservedName=o.emptyArray,N.create=function(d){return new N(d)},N.encode=function(d,P){if(P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),d.field!=null&&d.field.length)for(var A=0;A<d.field.length;++A)s.google.protobuf.FieldDescriptorProto.encode(d.field[A],P.uint32(18).fork()).ldelim();if(d.nestedType!=null&&d.nestedType.length)for(A=0;A<d.nestedType.length;++A)s.google.protobuf.DescriptorProto.encode(d.nestedType[A],P.uint32(26).fork()).ldelim();if(d.enumType!=null&&d.enumType.length)for(A=0;A<d.enumType.length;++A)s.google.protobuf.EnumDescriptorProto.encode(d.enumType[A],P.uint32(34).fork()).ldelim();if(d.extensionRange!=null&&d.extensionRange.length)for(A=0;A<d.extensionRange.length;++A)s.google.protobuf.DescriptorProto.ExtensionRange.encode(d.extensionRange[A],P.uint32(42).fork()).ldelim();if(d.extension!=null&&d.extension.length)for(A=0;A<d.extension.length;++A)s.google.protobuf.FieldDescriptorProto.encode(d.extension[A],P.uint32(50).fork()).ldelim();if(d.options!=null&&Object.hasOwnProperty.call(d,"options")&&s.google.protobuf.MessageOptions.encode(d.options,P.uint32(58).fork()).ldelim(),d.oneofDecl!=null&&d.oneofDecl.length)for(A=0;A<d.oneofDecl.length;++A)s.google.protobuf.OneofDescriptorProto.encode(d.oneofDecl[A],P.uint32(66).fork()).ldelim();if(d.reservedRange!=null&&d.reservedRange.length)for(A=0;A<d.reservedRange.length;++A)s.google.protobuf.DescriptorProto.ReservedRange.encode(d.reservedRange[A],P.uint32(74).fork()).ldelim();if(d.reservedName!=null&&d.reservedName.length)for(A=0;A<d.reservedName.length;++A)P.uint32(82).string(d.reservedName[A]);return P},N.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},N.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.DescriptorProto;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.name=d.string();break;case 2:$.field&&$.field.length||($.field=[]),$.field.push(s.google.protobuf.FieldDescriptorProto.decode(d,d.uint32()));break;case 6:$.extension&&$.extension.length||($.extension=[]),$.extension.push(s.google.protobuf.FieldDescriptorProto.decode(d,d.uint32()));break;case 3:$.nestedType&&$.nestedType.length||($.nestedType=[]),$.nestedType.push(s.google.protobuf.DescriptorProto.decode(d,d.uint32()));break;case 4:$.enumType&&$.enumType.length||($.enumType=[]),$.enumType.push(s.google.protobuf.EnumDescriptorProto.decode(d,d.uint32()));break;case 5:$.extensionRange&&$.extensionRange.length||($.extensionRange=[]),$.extensionRange.push(s.google.protobuf.DescriptorProto.ExtensionRange.decode(d,d.uint32()));break;case 8:$.oneofDecl&&$.oneofDecl.length||($.oneofDecl=[]),$.oneofDecl.push(s.google.protobuf.OneofDescriptorProto.decode(d,d.uint32()));break;case 7:$.options=s.google.protobuf.MessageOptions.decode(d,d.uint32());break;case 9:$.reservedRange&&$.reservedRange.length||($.reservedRange=[]),$.reservedRange.push(s.google.protobuf.DescriptorProto.ReservedRange.decode(d,d.uint32()));break;case 10:$.reservedName&&$.reservedName.length||($.reservedName=[]),$.reservedName.push(d.string());break;default:d.skipType(7&ie)}}return $},N.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},N.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name))return"name: string expected";if(d.field!=null&&d.hasOwnProperty("field")){if(!Array.isArray(d.field))return"field: array expected";for(var P=0;P<d.field.length;++P)if(A=s.google.protobuf.FieldDescriptorProto.verify(d.field[P]))return"field."+A}if(d.extension!=null&&d.hasOwnProperty("extension")){if(!Array.isArray(d.extension))return"extension: array expected";for(P=0;P<d.extension.length;++P)if(A=s.google.protobuf.FieldDescriptorProto.verify(d.extension[P]))return"extension."+A}if(d.nestedType!=null&&d.hasOwnProperty("nestedType")){if(!Array.isArray(d.nestedType))return"nestedType: array expected";for(P=0;P<d.nestedType.length;++P)if(A=s.google.protobuf.DescriptorProto.verify(d.nestedType[P]))return"nestedType."+A}if(d.enumType!=null&&d.hasOwnProperty("enumType")){if(!Array.isArray(d.enumType))return"enumType: array expected";for(P=0;P<d.enumType.length;++P)if(A=s.google.protobuf.EnumDescriptorProto.verify(d.enumType[P]))return"enumType."+A}if(d.extensionRange!=null&&d.hasOwnProperty("extensionRange")){if(!Array.isArray(d.extensionRange))return"extensionRange: array expected";for(P=0;P<d.extensionRange.length;++P)if(A=s.google.protobuf.DescriptorProto.ExtensionRange.verify(d.extensionRange[P]))return"extensionRange."+A}if(d.oneofDecl!=null&&d.hasOwnProperty("oneofDecl")){if(!Array.isArray(d.oneofDecl))return"oneofDecl: array expected";for(P=0;P<d.oneofDecl.length;++P)if(A=s.google.protobuf.OneofDescriptorProto.verify(d.oneofDecl[P]))return"oneofDecl."+A}if(d.options!=null&&d.hasOwnProperty("options")&&(A=s.google.protobuf.MessageOptions.verify(d.options)))return"options."+A;if(d.reservedRange!=null&&d.hasOwnProperty("reservedRange")){if(!Array.isArray(d.reservedRange))return"reservedRange: array expected";for(var A,P=0;P<d.reservedRange.length;++P)if(A=s.google.protobuf.DescriptorProto.ReservedRange.verify(d.reservedRange[P]))return"reservedRange."+A}if(d.reservedName!=null&&d.hasOwnProperty("reservedName")){if(!Array.isArray(d.reservedName))return"reservedName: array expected";for(P=0;P<d.reservedName.length;++P)if(!o.isString(d.reservedName[P]))return"reservedName: string[] expected"}return null},N.fromObject=function(d){if(d instanceof s.google.protobuf.DescriptorProto)return d;var P=new s.google.protobuf.DescriptorProto;if(d.name!=null&&(P.name=String(d.name)),d.field){if(!Array.isArray(d.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");P.field=[];for(var A=0;A<d.field.length;++A){if(typeof d.field[A]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");P.field[A]=s.google.protobuf.FieldDescriptorProto.fromObject(d.field[A])}}if(d.extension){if(!Array.isArray(d.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(P.extension=[],A=0;A<d.extension.length;++A){if(typeof d.extension[A]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");P.extension[A]=s.google.protobuf.FieldDescriptorProto.fromObject(d.extension[A])}}if(d.nestedType){if(!Array.isArray(d.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(P.nestedType=[],A=0;A<d.nestedType.length;++A){if(typeof d.nestedType[A]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");P.nestedType[A]=s.google.protobuf.DescriptorProto.fromObject(d.nestedType[A])}}if(d.enumType){if(!Array.isArray(d.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(P.enumType=[],A=0;A<d.enumType.length;++A){if(typeof d.enumType[A]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");P.enumType[A]=s.google.protobuf.EnumDescriptorProto.fromObject(d.enumType[A])}}if(d.extensionRange){if(!Array.isArray(d.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(P.extensionRange=[],A=0;A<d.extensionRange.length;++A){if(typeof d.extensionRange[A]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");P.extensionRange[A]=s.google.protobuf.DescriptorProto.ExtensionRange.fromObject(d.extensionRange[A])}}if(d.oneofDecl){if(!Array.isArray(d.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(P.oneofDecl=[],A=0;A<d.oneofDecl.length;++A){if(typeof d.oneofDecl[A]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");P.oneofDecl[A]=s.google.protobuf.OneofDescriptorProto.fromObject(d.oneofDecl[A])}}if(d.options!=null){if(typeof d.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");P.options=s.google.protobuf.MessageOptions.fromObject(d.options)}if(d.reservedRange){if(!Array.isArray(d.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(P.reservedRange=[],A=0;A<d.reservedRange.length;++A){if(typeof d.reservedRange[A]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");P.reservedRange[A]=s.google.protobuf.DescriptorProto.ReservedRange.fromObject(d.reservedRange[A])}}if(d.reservedName){if(!Array.isArray(d.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(P.reservedName=[],A=0;A<d.reservedName.length;++A)P.reservedName[A]=String(d.reservedName[A])}return P},N.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.field=[],A.nestedType=[],A.enumType=[],A.extensionRange=[],A.extension=[],A.oneofDecl=[],A.reservedRange=[],A.reservedName=[]),P.defaults&&(A.name="",A.options=null),d.name!=null&&d.hasOwnProperty("name")&&(A.name=d.name),d.field&&d.field.length){A.field=[];for(var $=0;$<d.field.length;++$)A.field[$]=s.google.protobuf.FieldDescriptorProto.toObject(d.field[$],P)}if(d.nestedType&&d.nestedType.length)for(A.nestedType=[],$=0;$<d.nestedType.length;++$)A.nestedType[$]=s.google.protobuf.DescriptorProto.toObject(d.nestedType[$],P);if(d.enumType&&d.enumType.length)for(A.enumType=[],$=0;$<d.enumType.length;++$)A.enumType[$]=s.google.protobuf.EnumDescriptorProto.toObject(d.enumType[$],P);if(d.extensionRange&&d.extensionRange.length)for(A.extensionRange=[],$=0;$<d.extensionRange.length;++$)A.extensionRange[$]=s.google.protobuf.DescriptorProto.ExtensionRange.toObject(d.extensionRange[$],P);if(d.extension&&d.extension.length)for(A.extension=[],$=0;$<d.extension.length;++$)A.extension[$]=s.google.protobuf.FieldDescriptorProto.toObject(d.extension[$],P);if(d.options!=null&&d.hasOwnProperty("options")&&(A.options=s.google.protobuf.MessageOptions.toObject(d.options,P)),d.oneofDecl&&d.oneofDecl.length)for(A.oneofDecl=[],$=0;$<d.oneofDecl.length;++$)A.oneofDecl[$]=s.google.protobuf.OneofDescriptorProto.toObject(d.oneofDecl[$],P);if(d.reservedRange&&d.reservedRange.length)for(A.reservedRange=[],$=0;$<d.reservedRange.length;++$)A.reservedRange[$]=s.google.protobuf.DescriptorProto.ReservedRange.toObject(d.reservedRange[$],P);if(d.reservedName&&d.reservedName.length)for(A.reservedName=[],$=0;$<d.reservedName.length;++$)A.reservedName[$]=d.reservedName[$];return A},N.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},N.ExtensionRange=(L.prototype.start=0,L.prototype.end=0,L.prototype.options=null,L.create=function(d){return new L(d)},L.encode=function(d,P){return P=P||l.create(),d.start!=null&&Object.hasOwnProperty.call(d,"start")&&P.uint32(8).int32(d.start),d.end!=null&&Object.hasOwnProperty.call(d,"end")&&P.uint32(16).int32(d.end),d.options!=null&&Object.hasOwnProperty.call(d,"options")&&s.google.protobuf.ExtensionRangeOptions.encode(d.options,P.uint32(26).fork()).ldelim(),P},L.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},L.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.DescriptorProto.ExtensionRange;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.start=d.int32();break;case 2:$.end=d.int32();break;case 3:$.options=s.google.protobuf.ExtensionRangeOptions.decode(d,d.uint32());break;default:d.skipType(7&ie)}}return $},L.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},L.verify=function(d){return typeof d!="object"||d===null?"object expected":d.start!=null&&d.hasOwnProperty("start")&&!o.isInteger(d.start)?"start: integer expected":d.end!=null&&d.hasOwnProperty("end")&&!o.isInteger(d.end)?"end: integer expected":d.options!=null&&d.hasOwnProperty("options")&&(d=s.google.protobuf.ExtensionRangeOptions.verify(d.options),d)?"options."+d:null},L.fromObject=function(d){if(d instanceof s.google.protobuf.DescriptorProto.ExtensionRange)return d;var P=new s.google.protobuf.DescriptorProto.ExtensionRange;if(d.start!=null&&(P.start=0|d.start),d.end!=null&&(P.end=0|d.end),d.options!=null){if(typeof d.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");P.options=s.google.protobuf.ExtensionRangeOptions.fromObject(d.options)}return P},L.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.start=0,A.end=0,A.options=null),d.start!=null&&d.hasOwnProperty("start")&&(A.start=d.start),d.end!=null&&d.hasOwnProperty("end")&&(A.end=d.end),d.options!=null&&d.hasOwnProperty("options")&&(A.options=s.google.protobuf.ExtensionRangeOptions.toObject(d.options,P)),A},L.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},L),N.ReservedRange=(D.prototype.start=0,D.prototype.end=0,D.create=function(d){return new D(d)},D.encode=function(d,P){return P=P||l.create(),d.start!=null&&Object.hasOwnProperty.call(d,"start")&&P.uint32(8).int32(d.start),d.end!=null&&Object.hasOwnProperty.call(d,"end")&&P.uint32(16).int32(d.end),P},D.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},D.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.DescriptorProto.ReservedRange;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.start=d.int32();break;case 2:$.end=d.int32();break;default:d.skipType(7&ie)}}return $},D.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},D.verify=function(d){return typeof d!="object"||d===null?"object expected":d.start!=null&&d.hasOwnProperty("start")&&!o.isInteger(d.start)?"start: integer expected":d.end!=null&&d.hasOwnProperty("end")&&!o.isInteger(d.end)?"end: integer expected":null},D.fromObject=function(d){var P;return d instanceof s.google.protobuf.DescriptorProto.ReservedRange?d:(P=new s.google.protobuf.DescriptorProto.ReservedRange,d.start!=null&&(P.start=0|d.start),d.end!=null&&(P.end=0|d.end),P)},D.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.start=0,A.end=0),d.start!=null&&d.hasOwnProperty("start")&&(A.start=d.start),d.end!=null&&d.hasOwnProperty("end")&&(A.end=d.end),A},D.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},D),N),g.ExtensionRangeOptions=(j.prototype.uninterpretedOption=o.emptyArray,j.create=function(d){return new j(d)},j.encode=function(d,P){if(P=P||l.create(),d.uninterpretedOption!=null&&d.uninterpretedOption.length)for(var A=0;A<d.uninterpretedOption.length;++A)s.google.protobuf.UninterpretedOption.encode(d.uninterpretedOption[A],P.uint32(7994).fork()).ldelim();return P},j.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},j.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.ExtensionRangeOptions;d.pos<A;){var ie=d.uint32();ie>>>3==999?($.uninterpretedOption&&$.uninterpretedOption.length||($.uninterpretedOption=[]),$.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(d,d.uint32()))):d.skipType(7&ie)}return $},j.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},j.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.uninterpretedOption!=null&&d.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(d.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<d.uninterpretedOption.length;++P){var A=s.google.protobuf.UninterpretedOption.verify(d.uninterpretedOption[P]);if(A)return"uninterpretedOption."+A}}return null},j.fromObject=function(d){if(d instanceof s.google.protobuf.ExtensionRangeOptions)return d;var P=new s.google.protobuf.ExtensionRangeOptions;if(d.uninterpretedOption){if(!Array.isArray(d.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var A=0;A<d.uninterpretedOption.length;++A){if(typeof d.uninterpretedOption[A]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");P.uninterpretedOption[A]=s.google.protobuf.UninterpretedOption.fromObject(d.uninterpretedOption[A])}}return P},j.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.uninterpretedOption=[]),d.uninterpretedOption&&d.uninterpretedOption.length){A.uninterpretedOption=[];for(var $=0;$<d.uninterpretedOption.length;++$)A.uninterpretedOption[$]=s.google.protobuf.UninterpretedOption.toObject(d.uninterpretedOption[$],P)}return A},j.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},j),g.FieldDescriptorProto=(k.prototype.name="",k.prototype.number=0,k.prototype.label=1,k.prototype.type=1,k.prototype.typeName="",k.prototype.extendee="",k.prototype.defaultValue="",k.prototype.oneofIndex=0,k.prototype.jsonName="",k.prototype.options=null,k.prototype.proto3Optional=!1,k.create=function(d){return new k(d)},k.encode=function(d,P){return P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),d.extendee!=null&&Object.hasOwnProperty.call(d,"extendee")&&P.uint32(18).string(d.extendee),d.number!=null&&Object.hasOwnProperty.call(d,"number")&&P.uint32(24).int32(d.number),d.label!=null&&Object.hasOwnProperty.call(d,"label")&&P.uint32(32).int32(d.label),d.type!=null&&Object.hasOwnProperty.call(d,"type")&&P.uint32(40).int32(d.type),d.typeName!=null&&Object.hasOwnProperty.call(d,"typeName")&&P.uint32(50).string(d.typeName),d.defaultValue!=null&&Object.hasOwnProperty.call(d,"defaultValue")&&P.uint32(58).string(d.defaultValue),d.options!=null&&Object.hasOwnProperty.call(d,"options")&&s.google.protobuf.FieldOptions.encode(d.options,P.uint32(66).fork()).ldelim(),d.oneofIndex!=null&&Object.hasOwnProperty.call(d,"oneofIndex")&&P.uint32(72).int32(d.oneofIndex),d.jsonName!=null&&Object.hasOwnProperty.call(d,"jsonName")&&P.uint32(82).string(d.jsonName),d.proto3Optional!=null&&Object.hasOwnProperty.call(d,"proto3Optional")&&P.uint32(136).bool(d.proto3Optional),P},k.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},k.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.FieldDescriptorProto;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.name=d.string();break;case 3:$.number=d.int32();break;case 4:$.label=d.int32();break;case 5:$.type=d.int32();break;case 6:$.typeName=d.string();break;case 2:$.extendee=d.string();break;case 7:$.defaultValue=d.string();break;case 9:$.oneofIndex=d.int32();break;case 10:$.jsonName=d.string();break;case 8:$.options=s.google.protobuf.FieldOptions.decode(d,d.uint32());break;case 17:$.proto3Optional=d.bool();break;default:d.skipType(7&ie)}}return $},k.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},k.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name))return"name: string expected";if(d.number!=null&&d.hasOwnProperty("number")&&!o.isInteger(d.number))return"number: integer expected";if(d.label!=null&&d.hasOwnProperty("label"))switch(d.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(d.type!=null&&d.hasOwnProperty("type"))switch(d.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(d.typeName!=null&&d.hasOwnProperty("typeName")&&!o.isString(d.typeName))return"typeName: string expected";if(d.extendee!=null&&d.hasOwnProperty("extendee")&&!o.isString(d.extendee))return"extendee: string expected";if(d.defaultValue!=null&&d.hasOwnProperty("defaultValue")&&!o.isString(d.defaultValue))return"defaultValue: string expected";if(d.oneofIndex!=null&&d.hasOwnProperty("oneofIndex")&&!o.isInteger(d.oneofIndex))return"oneofIndex: integer expected";if(d.jsonName!=null&&d.hasOwnProperty("jsonName")&&!o.isString(d.jsonName))return"jsonName: string expected";if(d.options!=null&&d.hasOwnProperty("options")){var P=s.google.protobuf.FieldOptions.verify(d.options);if(P)return"options."+P}return d.proto3Optional!=null&&d.hasOwnProperty("proto3Optional")&&typeof d.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},k.fromObject=function(d){if(d instanceof s.google.protobuf.FieldDescriptorProto)return d;var P=new s.google.protobuf.FieldDescriptorProto;switch(d.name!=null&&(P.name=String(d.name)),d.number!=null&&(P.number=0|d.number),d.label){case"LABEL_OPTIONAL":case 1:P.label=1;break;case"LABEL_REQUIRED":case 2:P.label=2;break;case"LABEL_REPEATED":case 3:P.label=3}switch(d.type){case"TYPE_DOUBLE":case 1:P.type=1;break;case"TYPE_FLOAT":case 2:P.type=2;break;case"TYPE_INT64":case 3:P.type=3;break;case"TYPE_UINT64":case 4:P.type=4;break;case"TYPE_INT32":case 5:P.type=5;break;case"TYPE_FIXED64":case 6:P.type=6;break;case"TYPE_FIXED32":case 7:P.type=7;break;case"TYPE_BOOL":case 8:P.type=8;break;case"TYPE_STRING":case 9:P.type=9;break;case"TYPE_GROUP":case 10:P.type=10;break;case"TYPE_MESSAGE":case 11:P.type=11;break;case"TYPE_BYTES":case 12:P.type=12;break;case"TYPE_UINT32":case 13:P.type=13;break;case"TYPE_ENUM":case 14:P.type=14;break;case"TYPE_SFIXED32":case 15:P.type=15;break;case"TYPE_SFIXED64":case 16:P.type=16;break;case"TYPE_SINT32":case 17:P.type=17;break;case"TYPE_SINT64":case 18:P.type=18}if(d.typeName!=null&&(P.typeName=String(d.typeName)),d.extendee!=null&&(P.extendee=String(d.extendee)),d.defaultValue!=null&&(P.defaultValue=String(d.defaultValue)),d.oneofIndex!=null&&(P.oneofIndex=0|d.oneofIndex),d.jsonName!=null&&(P.jsonName=String(d.jsonName)),d.options!=null){if(typeof d.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");P.options=s.google.protobuf.FieldOptions.fromObject(d.options)}return d.proto3Optional!=null&&(P.proto3Optional=!!d.proto3Optional),P},k.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.name="",A.extendee="",A.number=0,A.label=P.enums===String?"LABEL_OPTIONAL":1,A.type=P.enums===String?"TYPE_DOUBLE":1,A.typeName="",A.defaultValue="",A.options=null,A.oneofIndex=0,A.jsonName="",A.proto3Optional=!1),d.name!=null&&d.hasOwnProperty("name")&&(A.name=d.name),d.extendee!=null&&d.hasOwnProperty("extendee")&&(A.extendee=d.extendee),d.number!=null&&d.hasOwnProperty("number")&&(A.number=d.number),d.label!=null&&d.hasOwnProperty("label")&&(A.label=P.enums===String?s.google.protobuf.FieldDescriptorProto.Label[d.label]:d.label),d.type!=null&&d.hasOwnProperty("type")&&(A.type=P.enums===String?s.google.protobuf.FieldDescriptorProto.Type[d.type]:d.type),d.typeName!=null&&d.hasOwnProperty("typeName")&&(A.typeName=d.typeName),d.defaultValue!=null&&d.hasOwnProperty("defaultValue")&&(A.defaultValue=d.defaultValue),d.options!=null&&d.hasOwnProperty("options")&&(A.options=s.google.protobuf.FieldOptions.toObject(d.options,P)),d.oneofIndex!=null&&d.hasOwnProperty("oneofIndex")&&(A.oneofIndex=d.oneofIndex),d.jsonName!=null&&d.hasOwnProperty("jsonName")&&(A.jsonName=d.jsonName),d.proto3Optional!=null&&d.hasOwnProperty("proto3Optional")&&(A.proto3Optional=d.proto3Optional),A},k.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},k.Type=(a={},(p=Object.create(a))[a[1]="TYPE_DOUBLE"]=1,p[a[2]="TYPE_FLOAT"]=2,p[a[3]="TYPE_INT64"]=3,p[a[4]="TYPE_UINT64"]=4,p[a[5]="TYPE_INT32"]=5,p[a[6]="TYPE_FIXED64"]=6,p[a[7]="TYPE_FIXED32"]=7,p[a[8]="TYPE_BOOL"]=8,p[a[9]="TYPE_STRING"]=9,p[a[10]="TYPE_GROUP"]=10,p[a[11]="TYPE_MESSAGE"]=11,p[a[12]="TYPE_BYTES"]=12,p[a[13]="TYPE_UINT32"]=13,p[a[14]="TYPE_ENUM"]=14,p[a[15]="TYPE_SFIXED32"]=15,p[a[16]="TYPE_SFIXED64"]=16,p[a[17]="TYPE_SINT32"]=17,p[a[18]="TYPE_SINT64"]=18,p),k.Label=(a={},(p=Object.create(a))[a[1]="LABEL_OPTIONAL"]=1,p[a[2]="LABEL_REQUIRED"]=2,p[a[3]="LABEL_REPEATED"]=3,p),k),g.OneofDescriptorProto=(V.prototype.name="",V.prototype.options=null,V.create=function(d){return new V(d)},V.encode=function(d,P){return P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),d.options!=null&&Object.hasOwnProperty.call(d,"options")&&s.google.protobuf.OneofOptions.encode(d.options,P.uint32(18).fork()).ldelim(),P},V.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},V.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.OneofDescriptorProto;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.name=d.string();break;case 2:$.options=s.google.protobuf.OneofOptions.decode(d,d.uint32());break;default:d.skipType(7&ie)}}return $},V.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},V.verify=function(d){return typeof d!="object"||d===null?"object expected":d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name)?"name: string expected":d.options!=null&&d.hasOwnProperty("options")&&(d=s.google.protobuf.OneofOptions.verify(d.options),d)?"options."+d:null},V.fromObject=function(d){if(d instanceof s.google.protobuf.OneofDescriptorProto)return d;var P=new s.google.protobuf.OneofDescriptorProto;if(d.name!=null&&(P.name=String(d.name)),d.options!=null){if(typeof d.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");P.options=s.google.protobuf.OneofOptions.fromObject(d.options)}return P},V.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.name="",A.options=null),d.name!=null&&d.hasOwnProperty("name")&&(A.name=d.name),d.options!=null&&d.hasOwnProperty("options")&&(A.options=s.google.protobuf.OneofOptions.toObject(d.options,P)),A},V.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},V),g.EnumDescriptorProto=(G.prototype.name="",G.prototype.value=o.emptyArray,G.prototype.options=null,G.prototype.reservedRange=o.emptyArray,G.prototype.reservedName=o.emptyArray,G.create=function(d){return new G(d)},G.encode=function(d,P){if(P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),d.value!=null&&d.value.length)for(var A=0;A<d.value.length;++A)s.google.protobuf.EnumValueDescriptorProto.encode(d.value[A],P.uint32(18).fork()).ldelim();if(d.options!=null&&Object.hasOwnProperty.call(d,"options")&&s.google.protobuf.EnumOptions.encode(d.options,P.uint32(26).fork()).ldelim(),d.reservedRange!=null&&d.reservedRange.length)for(A=0;A<d.reservedRange.length;++A)s.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(d.reservedRange[A],P.uint32(34).fork()).ldelim();if(d.reservedName!=null&&d.reservedName.length)for(A=0;A<d.reservedName.length;++A)P.uint32(42).string(d.reservedName[A]);return P},G.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},G.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.EnumDescriptorProto;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.name=d.string();break;case 2:$.value&&$.value.length||($.value=[]),$.value.push(s.google.protobuf.EnumValueDescriptorProto.decode(d,d.uint32()));break;case 3:$.options=s.google.protobuf.EnumOptions.decode(d,d.uint32());break;case 4:$.reservedRange&&$.reservedRange.length||($.reservedRange=[]),$.reservedRange.push(s.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(d,d.uint32()));break;case 5:$.reservedName&&$.reservedName.length||($.reservedName=[]),$.reservedName.push(d.string());break;default:d.skipType(7&ie)}}return $},G.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},G.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name))return"name: string expected";if(d.value!=null&&d.hasOwnProperty("value")){if(!Array.isArray(d.value))return"value: array expected";for(var P=0;P<d.value.length;++P)if(A=s.google.protobuf.EnumValueDescriptorProto.verify(d.value[P]))return"value."+A}if(d.options!=null&&d.hasOwnProperty("options")&&(A=s.google.protobuf.EnumOptions.verify(d.options)))return"options."+A;if(d.reservedRange!=null&&d.hasOwnProperty("reservedRange")){if(!Array.isArray(d.reservedRange))return"reservedRange: array expected";for(var A,P=0;P<d.reservedRange.length;++P)if(A=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(d.reservedRange[P]))return"reservedRange."+A}if(d.reservedName!=null&&d.hasOwnProperty("reservedName")){if(!Array.isArray(d.reservedName))return"reservedName: array expected";for(P=0;P<d.reservedName.length;++P)if(!o.isString(d.reservedName[P]))return"reservedName: string[] expected"}return null},G.fromObject=function(d){if(d instanceof s.google.protobuf.EnumDescriptorProto)return d;var P=new s.google.protobuf.EnumDescriptorProto;if(d.name!=null&&(P.name=String(d.name)),d.value){if(!Array.isArray(d.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");P.value=[];for(var A=0;A<d.value.length;++A){if(typeof d.value[A]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");P.value[A]=s.google.protobuf.EnumValueDescriptorProto.fromObject(d.value[A])}}if(d.options!=null){if(typeof d.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");P.options=s.google.protobuf.EnumOptions.fromObject(d.options)}if(d.reservedRange){if(!Array.isArray(d.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(P.reservedRange=[],A=0;A<d.reservedRange.length;++A){if(typeof d.reservedRange[A]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");P.reservedRange[A]=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(d.reservedRange[A])}}if(d.reservedName){if(!Array.isArray(d.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(P.reservedName=[],A=0;A<d.reservedName.length;++A)P.reservedName[A]=String(d.reservedName[A])}return P},G.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.value=[],A.reservedRange=[],A.reservedName=[]),P.defaults&&(A.name="",A.options=null),d.name!=null&&d.hasOwnProperty("name")&&(A.name=d.name),d.value&&d.value.length){A.value=[];for(var $=0;$<d.value.length;++$)A.value[$]=s.google.protobuf.EnumValueDescriptorProto.toObject(d.value[$],P)}if(d.options!=null&&d.hasOwnProperty("options")&&(A.options=s.google.protobuf.EnumOptions.toObject(d.options,P)),d.reservedRange&&d.reservedRange.length)for(A.reservedRange=[],$=0;$<d.reservedRange.length;++$)A.reservedRange[$]=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(d.reservedRange[$],P);if(d.reservedName&&d.reservedName.length)for(A.reservedName=[],$=0;$<d.reservedName.length;++$)A.reservedName[$]=d.reservedName[$];return A},G.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},G.EnumReservedRange=(J.prototype.start=0,J.prototype.end=0,J.create=function(d){return new J(d)},J.encode=function(d,P){return P=P||l.create(),d.start!=null&&Object.hasOwnProperty.call(d,"start")&&P.uint32(8).int32(d.start),d.end!=null&&Object.hasOwnProperty.call(d,"end")&&P.uint32(16).int32(d.end),P},J.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},J.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.EnumDescriptorProto.EnumReservedRange;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.start=d.int32();break;case 2:$.end=d.int32();break;default:d.skipType(7&ie)}}return $},J.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},J.verify=function(d){return typeof d!="object"||d===null?"object expected":d.start!=null&&d.hasOwnProperty("start")&&!o.isInteger(d.start)?"start: integer expected":d.end!=null&&d.hasOwnProperty("end")&&!o.isInteger(d.end)?"end: integer expected":null},J.fromObject=function(d){var P;return d instanceof s.google.protobuf.EnumDescriptorProto.EnumReservedRange?d:(P=new s.google.protobuf.EnumDescriptorProto.EnumReservedRange,d.start!=null&&(P.start=0|d.start),d.end!=null&&(P.end=0|d.end),P)},J.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.start=0,A.end=0),d.start!=null&&d.hasOwnProperty("start")&&(A.start=d.start),d.end!=null&&d.hasOwnProperty("end")&&(A.end=d.end),A},J.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},J),G),g.EnumValueDescriptorProto=(W.prototype.name="",W.prototype.number=0,W.prototype.options=null,W.create=function(d){return new W(d)},W.encode=function(d,P){return P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),d.number!=null&&Object.hasOwnProperty.call(d,"number")&&P.uint32(16).int32(d.number),d.options!=null&&Object.hasOwnProperty.call(d,"options")&&s.google.protobuf.EnumValueOptions.encode(d.options,P.uint32(26).fork()).ldelim(),P},W.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},W.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.EnumValueDescriptorProto;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.name=d.string();break;case 2:$.number=d.int32();break;case 3:$.options=s.google.protobuf.EnumValueOptions.decode(d,d.uint32());break;default:d.skipType(7&ie)}}return $},W.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},W.verify=function(d){return typeof d!="object"||d===null?"object expected":d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name)?"name: string expected":d.number!=null&&d.hasOwnProperty("number")&&!o.isInteger(d.number)?"number: integer expected":d.options!=null&&d.hasOwnProperty("options")&&(d=s.google.protobuf.EnumValueOptions.verify(d.options),d)?"options."+d:null},W.fromObject=function(d){if(d instanceof s.google.protobuf.EnumValueDescriptorProto)return d;var P=new s.google.protobuf.EnumValueDescriptorProto;if(d.name!=null&&(P.name=String(d.name)),d.number!=null&&(P.number=0|d.number),d.options!=null){if(typeof d.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");P.options=s.google.protobuf.EnumValueOptions.fromObject(d.options)}return P},W.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.name="",A.number=0,A.options=null),d.name!=null&&d.hasOwnProperty("name")&&(A.name=d.name),d.number!=null&&d.hasOwnProperty("number")&&(A.number=d.number),d.options!=null&&d.hasOwnProperty("options")&&(A.options=s.google.protobuf.EnumValueOptions.toObject(d.options,P)),A},W.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},W),g.ServiceDescriptorProto=(K.prototype.name="",K.prototype.method=o.emptyArray,K.prototype.options=null,K.create=function(d){return new K(d)},K.encode=function(d,P){if(P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),d.method!=null&&d.method.length)for(var A=0;A<d.method.length;++A)s.google.protobuf.MethodDescriptorProto.encode(d.method[A],P.uint32(18).fork()).ldelim();return d.options!=null&&Object.hasOwnProperty.call(d,"options")&&s.google.protobuf.ServiceOptions.encode(d.options,P.uint32(26).fork()).ldelim(),P},K.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},K.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.ServiceDescriptorProto;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.name=d.string();break;case 2:$.method&&$.method.length||($.method=[]),$.method.push(s.google.protobuf.MethodDescriptorProto.decode(d,d.uint32()));break;case 3:$.options=s.google.protobuf.ServiceOptions.decode(d,d.uint32());break;default:d.skipType(7&ie)}}return $},K.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},K.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name))return"name: string expected";if(d.method!=null&&d.hasOwnProperty("method")){if(!Array.isArray(d.method))return"method: array expected";for(var P=0;P<d.method.length;++P)if(A=s.google.protobuf.MethodDescriptorProto.verify(d.method[P]))return"method."+A}var A;return d.options!=null&&d.hasOwnProperty("options")&&(A=s.google.protobuf.ServiceOptions.verify(d.options))?"options."+A:null},K.fromObject=function(d){if(d instanceof s.google.protobuf.ServiceDescriptorProto)return d;var P=new s.google.protobuf.ServiceDescriptorProto;if(d.name!=null&&(P.name=String(d.name)),d.method){if(!Array.isArray(d.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");P.method=[];for(var A=0;A<d.method.length;++A){if(typeof d.method[A]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");P.method[A]=s.google.protobuf.MethodDescriptorProto.fromObject(d.method[A])}}if(d.options!=null){if(typeof d.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");P.options=s.google.protobuf.ServiceOptions.fromObject(d.options)}return P},K.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.method=[]),P.defaults&&(A.name="",A.options=null),d.name!=null&&d.hasOwnProperty("name")&&(A.name=d.name),d.method&&d.method.length){A.method=[];for(var $=0;$<d.method.length;++$)A.method[$]=s.google.protobuf.MethodDescriptorProto.toObject(d.method[$],P)}return d.options!=null&&d.hasOwnProperty("options")&&(A.options=s.google.protobuf.ServiceOptions.toObject(d.options,P)),A},K.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},K),g.MethodDescriptorProto=(X.prototype.name="",X.prototype.inputType="",X.prototype.outputType="",X.prototype.options=null,X.prototype.clientStreaming=!1,X.prototype.serverStreaming=!1,X.create=function(d){return new X(d)},X.encode=function(d,P){return P=P||l.create(),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&P.uint32(10).string(d.name),d.inputType!=null&&Object.hasOwnProperty.call(d,"inputType")&&P.uint32(18).string(d.inputType),d.outputType!=null&&Object.hasOwnProperty.call(d,"outputType")&&P.uint32(26).string(d.outputType),d.options!=null&&Object.hasOwnProperty.call(d,"options")&&s.google.protobuf.MethodOptions.encode(d.options,P.uint32(34).fork()).ldelim(),d.clientStreaming!=null&&Object.hasOwnProperty.call(d,"clientStreaming")&&P.uint32(40).bool(d.clientStreaming),d.serverStreaming!=null&&Object.hasOwnProperty.call(d,"serverStreaming")&&P.uint32(48).bool(d.serverStreaming),P},X.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},X.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.MethodDescriptorProto;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.name=d.string();break;case 2:$.inputType=d.string();break;case 3:$.outputType=d.string();break;case 4:$.options=s.google.protobuf.MethodOptions.decode(d,d.uint32());break;case 5:$.clientStreaming=d.bool();break;case 6:$.serverStreaming=d.bool();break;default:d.skipType(7&ie)}}return $},X.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},X.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!o.isString(d.name))return"name: string expected";if(d.inputType!=null&&d.hasOwnProperty("inputType")&&!o.isString(d.inputType))return"inputType: string expected";if(d.outputType!=null&&d.hasOwnProperty("outputType")&&!o.isString(d.outputType))return"outputType: string expected";if(d.options!=null&&d.hasOwnProperty("options")){var P=s.google.protobuf.MethodOptions.verify(d.options);if(P)return"options."+P}return d.clientStreaming!=null&&d.hasOwnProperty("clientStreaming")&&typeof d.clientStreaming!="boolean"?"clientStreaming: boolean expected":d.serverStreaming!=null&&d.hasOwnProperty("serverStreaming")&&typeof d.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},X.fromObject=function(d){if(d instanceof s.google.protobuf.MethodDescriptorProto)return d;var P=new s.google.protobuf.MethodDescriptorProto;if(d.name!=null&&(P.name=String(d.name)),d.inputType!=null&&(P.inputType=String(d.inputType)),d.outputType!=null&&(P.outputType=String(d.outputType)),d.options!=null){if(typeof d.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");P.options=s.google.protobuf.MethodOptions.fromObject(d.options)}return d.clientStreaming!=null&&(P.clientStreaming=!!d.clientStreaming),d.serverStreaming!=null&&(P.serverStreaming=!!d.serverStreaming),P},X.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.name="",A.inputType="",A.outputType="",A.options=null,A.clientStreaming=!1,A.serverStreaming=!1),d.name!=null&&d.hasOwnProperty("name")&&(A.name=d.name),d.inputType!=null&&d.hasOwnProperty("inputType")&&(A.inputType=d.inputType),d.outputType!=null&&d.hasOwnProperty("outputType")&&(A.outputType=d.outputType),d.options!=null&&d.hasOwnProperty("options")&&(A.options=s.google.protobuf.MethodOptions.toObject(d.options,P)),d.clientStreaming!=null&&d.hasOwnProperty("clientStreaming")&&(A.clientStreaming=d.clientStreaming),d.serverStreaming!=null&&d.hasOwnProperty("serverStreaming")&&(A.serverStreaming=d.serverStreaming),A},X.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},X),g.FileOptions=(Y.prototype.javaPackage="",Y.prototype.javaOuterClassname="",Y.prototype.javaMultipleFiles=!1,Y.prototype.javaGenerateEqualsAndHash=!1,Y.prototype.javaStringCheckUtf8=!1,Y.prototype.optimizeFor=1,Y.prototype.goPackage="",Y.prototype.ccGenericServices=!1,Y.prototype.javaGenericServices=!1,Y.prototype.pyGenericServices=!1,Y.prototype.phpGenericServices=!1,Y.prototype.deprecated=!1,Y.prototype.ccEnableArenas=!0,Y.prototype.objcClassPrefix="",Y.prototype.csharpNamespace="",Y.prototype.swiftPrefix="",Y.prototype.phpClassPrefix="",Y.prototype.phpNamespace="",Y.prototype.phpMetadataNamespace="",Y.prototype.rubyPackage="",Y.prototype.uninterpretedOption=o.emptyArray,Y.create=function(d){return new Y(d)},Y.encode=function(d,P){if(P=P||l.create(),d.javaPackage!=null&&Object.hasOwnProperty.call(d,"javaPackage")&&P.uint32(10).string(d.javaPackage),d.javaOuterClassname!=null&&Object.hasOwnProperty.call(d,"javaOuterClassname")&&P.uint32(66).string(d.javaOuterClassname),d.optimizeFor!=null&&Object.hasOwnProperty.call(d,"optimizeFor")&&P.uint32(72).int32(d.optimizeFor),d.javaMultipleFiles!=null&&Object.hasOwnProperty.call(d,"javaMultipleFiles")&&P.uint32(80).bool(d.javaMultipleFiles),d.goPackage!=null&&Object.hasOwnProperty.call(d,"goPackage")&&P.uint32(90).string(d.goPackage),d.ccGenericServices!=null&&Object.hasOwnProperty.call(d,"ccGenericServices")&&P.uint32(128).bool(d.ccGenericServices),d.javaGenericServices!=null&&Object.hasOwnProperty.call(d,"javaGenericServices")&&P.uint32(136).bool(d.javaGenericServices),d.pyGenericServices!=null&&Object.hasOwnProperty.call(d,"pyGenericServices")&&P.uint32(144).bool(d.pyGenericServices),d.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(d,"javaGenerateEqualsAndHash")&&P.uint32(160).bool(d.javaGenerateEqualsAndHash),d.deprecated!=null&&Object.hasOwnProperty.call(d,"deprecated")&&P.uint32(184).bool(d.deprecated),d.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(d,"javaStringCheckUtf8")&&P.uint32(216).bool(d.javaStringCheckUtf8),d.ccEnableArenas!=null&&Object.hasOwnProperty.call(d,"ccEnableArenas")&&P.uint32(248).bool(d.ccEnableArenas),d.objcClassPrefix!=null&&Object.hasOwnProperty.call(d,"objcClassPrefix")&&P.uint32(290).string(d.objcClassPrefix),d.csharpNamespace!=null&&Object.hasOwnProperty.call(d,"csharpNamespace")&&P.uint32(298).string(d.csharpNamespace),d.swiftPrefix!=null&&Object.hasOwnProperty.call(d,"swiftPrefix")&&P.uint32(314).string(d.swiftPrefix),d.phpClassPrefix!=null&&Object.hasOwnProperty.call(d,"phpClassPrefix")&&P.uint32(322).string(d.phpClassPrefix),d.phpNamespace!=null&&Object.hasOwnProperty.call(d,"phpNamespace")&&P.uint32(330).string(d.phpNamespace),d.phpGenericServices!=null&&Object.hasOwnProperty.call(d,"phpGenericServices")&&P.uint32(336).bool(d.phpGenericServices),d.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(d,"phpMetadataNamespace")&&P.uint32(354).string(d.phpMetadataNamespace),d.rubyPackage!=null&&Object.hasOwnProperty.call(d,"rubyPackage")&&P.uint32(362).string(d.rubyPackage),d.uninterpretedOption!=null&&d.uninterpretedOption.length)for(var A=0;A<d.uninterpretedOption.length;++A)s.google.protobuf.UninterpretedOption.encode(d.uninterpretedOption[A],P.uint32(7994).fork()).ldelim();return P},Y.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},Y.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.FileOptions;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.javaPackage=d.string();break;case 8:$.javaOuterClassname=d.string();break;case 10:$.javaMultipleFiles=d.bool();break;case 20:$.javaGenerateEqualsAndHash=d.bool();break;case 27:$.javaStringCheckUtf8=d.bool();break;case 9:$.optimizeFor=d.int32();break;case 11:$.goPackage=d.string();break;case 16:$.ccGenericServices=d.bool();break;case 17:$.javaGenericServices=d.bool();break;case 18:$.pyGenericServices=d.bool();break;case 42:$.phpGenericServices=d.bool();break;case 23:$.deprecated=d.bool();break;case 31:$.ccEnableArenas=d.bool();break;case 36:$.objcClassPrefix=d.string();break;case 37:$.csharpNamespace=d.string();break;case 39:$.swiftPrefix=d.string();break;case 40:$.phpClassPrefix=d.string();break;case 41:$.phpNamespace=d.string();break;case 44:$.phpMetadataNamespace=d.string();break;case 45:$.rubyPackage=d.string();break;case 999:$.uninterpretedOption&&$.uninterpretedOption.length||($.uninterpretedOption=[]),$.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(d,d.uint32()));break;default:d.skipType(7&ie)}}return $},Y.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},Y.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.javaPackage!=null&&d.hasOwnProperty("javaPackage")&&!o.isString(d.javaPackage))return"javaPackage: string expected";if(d.javaOuterClassname!=null&&d.hasOwnProperty("javaOuterClassname")&&!o.isString(d.javaOuterClassname))return"javaOuterClassname: string expected";if(d.javaMultipleFiles!=null&&d.hasOwnProperty("javaMultipleFiles")&&typeof d.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(d.javaGenerateEqualsAndHash!=null&&d.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof d.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(d.javaStringCheckUtf8!=null&&d.hasOwnProperty("javaStringCheckUtf8")&&typeof d.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(d.optimizeFor!=null&&d.hasOwnProperty("optimizeFor"))switch(d.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(d.goPackage!=null&&d.hasOwnProperty("goPackage")&&!o.isString(d.goPackage))return"goPackage: string expected";if(d.ccGenericServices!=null&&d.hasOwnProperty("ccGenericServices")&&typeof d.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(d.javaGenericServices!=null&&d.hasOwnProperty("javaGenericServices")&&typeof d.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(d.pyGenericServices!=null&&d.hasOwnProperty("pyGenericServices")&&typeof d.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(d.phpGenericServices!=null&&d.hasOwnProperty("phpGenericServices")&&typeof d.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(d.deprecated!=null&&d.hasOwnProperty("deprecated")&&typeof d.deprecated!="boolean")return"deprecated: boolean expected";if(d.ccEnableArenas!=null&&d.hasOwnProperty("ccEnableArenas")&&typeof d.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(d.objcClassPrefix!=null&&d.hasOwnProperty("objcClassPrefix")&&!o.isString(d.objcClassPrefix))return"objcClassPrefix: string expected";if(d.csharpNamespace!=null&&d.hasOwnProperty("csharpNamespace")&&!o.isString(d.csharpNamespace))return"csharpNamespace: string expected";if(d.swiftPrefix!=null&&d.hasOwnProperty("swiftPrefix")&&!o.isString(d.swiftPrefix))return"swiftPrefix: string expected";if(d.phpClassPrefix!=null&&d.hasOwnProperty("phpClassPrefix")&&!o.isString(d.phpClassPrefix))return"phpClassPrefix: string expected";if(d.phpNamespace!=null&&d.hasOwnProperty("phpNamespace")&&!o.isString(d.phpNamespace))return"phpNamespace: string expected";if(d.phpMetadataNamespace!=null&&d.hasOwnProperty("phpMetadataNamespace")&&!o.isString(d.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(d.rubyPackage!=null&&d.hasOwnProperty("rubyPackage")&&!o.isString(d.rubyPackage))return"rubyPackage: string expected";if(d.uninterpretedOption!=null&&d.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(d.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<d.uninterpretedOption.length;++P){var A=s.google.protobuf.UninterpretedOption.verify(d.uninterpretedOption[P]);if(A)return"uninterpretedOption."+A}}return null},Y.fromObject=function(d){if(d instanceof s.google.protobuf.FileOptions)return d;var P=new s.google.protobuf.FileOptions;switch(d.javaPackage!=null&&(P.javaPackage=String(d.javaPackage)),d.javaOuterClassname!=null&&(P.javaOuterClassname=String(d.javaOuterClassname)),d.javaMultipleFiles!=null&&(P.javaMultipleFiles=!!d.javaMultipleFiles),d.javaGenerateEqualsAndHash!=null&&(P.javaGenerateEqualsAndHash=!!d.javaGenerateEqualsAndHash),d.javaStringCheckUtf8!=null&&(P.javaStringCheckUtf8=!!d.javaStringCheckUtf8),d.optimizeFor){case"SPEED":case 1:P.optimizeFor=1;break;case"CODE_SIZE":case 2:P.optimizeFor=2;break;case"LITE_RUNTIME":case 3:P.optimizeFor=3}if(d.goPackage!=null&&(P.goPackage=String(d.goPackage)),d.ccGenericServices!=null&&(P.ccGenericServices=!!d.ccGenericServices),d.javaGenericServices!=null&&(P.javaGenericServices=!!d.javaGenericServices),d.pyGenericServices!=null&&(P.pyGenericServices=!!d.pyGenericServices),d.phpGenericServices!=null&&(P.phpGenericServices=!!d.phpGenericServices),d.deprecated!=null&&(P.deprecated=!!d.deprecated),d.ccEnableArenas!=null&&(P.ccEnableArenas=!!d.ccEnableArenas),d.objcClassPrefix!=null&&(P.objcClassPrefix=String(d.objcClassPrefix)),d.csharpNamespace!=null&&(P.csharpNamespace=String(d.csharpNamespace)),d.swiftPrefix!=null&&(P.swiftPrefix=String(d.swiftPrefix)),d.phpClassPrefix!=null&&(P.phpClassPrefix=String(d.phpClassPrefix)),d.phpNamespace!=null&&(P.phpNamespace=String(d.phpNamespace)),d.phpMetadataNamespace!=null&&(P.phpMetadataNamespace=String(d.phpMetadataNamespace)),d.rubyPackage!=null&&(P.rubyPackage=String(d.rubyPackage)),d.uninterpretedOption){if(!Array.isArray(d.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var A=0;A<d.uninterpretedOption.length;++A){if(typeof d.uninterpretedOption[A]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");P.uninterpretedOption[A]=s.google.protobuf.UninterpretedOption.fromObject(d.uninterpretedOption[A])}}return P},Y.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.uninterpretedOption=[]),P.defaults&&(A.javaPackage="",A.javaOuterClassname="",A.optimizeFor=P.enums===String?"SPEED":1,A.javaMultipleFiles=!1,A.goPackage="",A.ccGenericServices=!1,A.javaGenericServices=!1,A.pyGenericServices=!1,A.javaGenerateEqualsAndHash=!1,A.deprecated=!1,A.javaStringCheckUtf8=!1,A.ccEnableArenas=!0,A.objcClassPrefix="",A.csharpNamespace="",A.swiftPrefix="",A.phpClassPrefix="",A.phpNamespace="",A.phpGenericServices=!1,A.phpMetadataNamespace="",A.rubyPackage=""),d.javaPackage!=null&&d.hasOwnProperty("javaPackage")&&(A.javaPackage=d.javaPackage),d.javaOuterClassname!=null&&d.hasOwnProperty("javaOuterClassname")&&(A.javaOuterClassname=d.javaOuterClassname),d.optimizeFor!=null&&d.hasOwnProperty("optimizeFor")&&(A.optimizeFor=P.enums===String?s.google.protobuf.FileOptions.OptimizeMode[d.optimizeFor]:d.optimizeFor),d.javaMultipleFiles!=null&&d.hasOwnProperty("javaMultipleFiles")&&(A.javaMultipleFiles=d.javaMultipleFiles),d.goPackage!=null&&d.hasOwnProperty("goPackage")&&(A.goPackage=d.goPackage),d.ccGenericServices!=null&&d.hasOwnProperty("ccGenericServices")&&(A.ccGenericServices=d.ccGenericServices),d.javaGenericServices!=null&&d.hasOwnProperty("javaGenericServices")&&(A.javaGenericServices=d.javaGenericServices),d.pyGenericServices!=null&&d.hasOwnProperty("pyGenericServices")&&(A.pyGenericServices=d.pyGenericServices),d.javaGenerateEqualsAndHash!=null&&d.hasOwnProperty("javaGenerateEqualsAndHash")&&(A.javaGenerateEqualsAndHash=d.javaGenerateEqualsAndHash),d.deprecated!=null&&d.hasOwnProperty("deprecated")&&(A.deprecated=d.deprecated),d.javaStringCheckUtf8!=null&&d.hasOwnProperty("javaStringCheckUtf8")&&(A.javaStringCheckUtf8=d.javaStringCheckUtf8),d.ccEnableArenas!=null&&d.hasOwnProperty("ccEnableArenas")&&(A.ccEnableArenas=d.ccEnableArenas),d.objcClassPrefix!=null&&d.hasOwnProperty("objcClassPrefix")&&(A.objcClassPrefix=d.objcClassPrefix),d.csharpNamespace!=null&&d.hasOwnProperty("csharpNamespace")&&(A.csharpNamespace=d.csharpNamespace),d.swiftPrefix!=null&&d.hasOwnProperty("swiftPrefix")&&(A.swiftPrefix=d.swiftPrefix),d.phpClassPrefix!=null&&d.hasOwnProperty("phpClassPrefix")&&(A.phpClassPrefix=d.phpClassPrefix),d.phpNamespace!=null&&d.hasOwnProperty("phpNamespace")&&(A.phpNamespace=d.phpNamespace),d.phpGenericServices!=null&&d.hasOwnProperty("phpGenericServices")&&(A.phpGenericServices=d.phpGenericServices),d.phpMetadataNamespace!=null&&d.hasOwnProperty("phpMetadataNamespace")&&(A.phpMetadataNamespace=d.phpMetadataNamespace),d.rubyPackage!=null&&d.hasOwnProperty("rubyPackage")&&(A.rubyPackage=d.rubyPackage),d.uninterpretedOption&&d.uninterpretedOption.length){A.uninterpretedOption=[];for(var $=0;$<d.uninterpretedOption.length;++$)A.uninterpretedOption[$]=s.google.protobuf.UninterpretedOption.toObject(d.uninterpretedOption[$],P)}return A},Y.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Y.OptimizeMode=(a={},(p=Object.create(a))[a[1]="SPEED"]=1,p[a[2]="CODE_SIZE"]=2,p[a[3]="LITE_RUNTIME"]=3,p),Y),g.MessageOptions=(te.prototype.messageSetWireFormat=!1,te.prototype.noStandardDescriptorAccessor=!1,te.prototype.deprecated=!1,te.prototype.mapEntry=!1,te.prototype.uninterpretedOption=o.emptyArray,te.create=function(d){return new te(d)},te.encode=function(d,P){if(P=P||l.create(),d.messageSetWireFormat!=null&&Object.hasOwnProperty.call(d,"messageSetWireFormat")&&P.uint32(8).bool(d.messageSetWireFormat),d.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(d,"noStandardDescriptorAccessor")&&P.uint32(16).bool(d.noStandardDescriptorAccessor),d.deprecated!=null&&Object.hasOwnProperty.call(d,"deprecated")&&P.uint32(24).bool(d.deprecated),d.mapEntry!=null&&Object.hasOwnProperty.call(d,"mapEntry")&&P.uint32(56).bool(d.mapEntry),d.uninterpretedOption!=null&&d.uninterpretedOption.length)for(var A=0;A<d.uninterpretedOption.length;++A)s.google.protobuf.UninterpretedOption.encode(d.uninterpretedOption[A],P.uint32(7994).fork()).ldelim();return P},te.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},te.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.MessageOptions;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.messageSetWireFormat=d.bool();break;case 2:$.noStandardDescriptorAccessor=d.bool();break;case 3:$.deprecated=d.bool();break;case 7:$.mapEntry=d.bool();break;case 999:$.uninterpretedOption&&$.uninterpretedOption.length||($.uninterpretedOption=[]),$.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(d,d.uint32()));break;default:d.skipType(7&ie)}}return $},te.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},te.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.messageSetWireFormat!=null&&d.hasOwnProperty("messageSetWireFormat")&&typeof d.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(d.noStandardDescriptorAccessor!=null&&d.hasOwnProperty("noStandardDescriptorAccessor")&&typeof d.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(d.deprecated!=null&&d.hasOwnProperty("deprecated")&&typeof d.deprecated!="boolean")return"deprecated: boolean expected";if(d.mapEntry!=null&&d.hasOwnProperty("mapEntry")&&typeof d.mapEntry!="boolean")return"mapEntry: boolean expected";if(d.uninterpretedOption!=null&&d.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(d.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<d.uninterpretedOption.length;++P){var A=s.google.protobuf.UninterpretedOption.verify(d.uninterpretedOption[P]);if(A)return"uninterpretedOption."+A}}return null},te.fromObject=function(d){if(d instanceof s.google.protobuf.MessageOptions)return d;var P=new s.google.protobuf.MessageOptions;if(d.messageSetWireFormat!=null&&(P.messageSetWireFormat=!!d.messageSetWireFormat),d.noStandardDescriptorAccessor!=null&&(P.noStandardDescriptorAccessor=!!d.noStandardDescriptorAccessor),d.deprecated!=null&&(P.deprecated=!!d.deprecated),d.mapEntry!=null&&(P.mapEntry=!!d.mapEntry),d.uninterpretedOption){if(!Array.isArray(d.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var A=0;A<d.uninterpretedOption.length;++A){if(typeof d.uninterpretedOption[A]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");P.uninterpretedOption[A]=s.google.protobuf.UninterpretedOption.fromObject(d.uninterpretedOption[A])}}return P},te.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.uninterpretedOption=[]),P.defaults&&(A.messageSetWireFormat=!1,A.noStandardDescriptorAccessor=!1,A.deprecated=!1,A.mapEntry=!1),d.messageSetWireFormat!=null&&d.hasOwnProperty("messageSetWireFormat")&&(A.messageSetWireFormat=d.messageSetWireFormat),d.noStandardDescriptorAccessor!=null&&d.hasOwnProperty("noStandardDescriptorAccessor")&&(A.noStandardDescriptorAccessor=d.noStandardDescriptorAccessor),d.deprecated!=null&&d.hasOwnProperty("deprecated")&&(A.deprecated=d.deprecated),d.mapEntry!=null&&d.hasOwnProperty("mapEntry")&&(A.mapEntry=d.mapEntry),d.uninterpretedOption&&d.uninterpretedOption.length){A.uninterpretedOption=[];for(var $=0;$<d.uninterpretedOption.length;++$)A.uninterpretedOption[$]=s.google.protobuf.UninterpretedOption.toObject(d.uninterpretedOption[$],P)}return A},te.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},te),g.FieldOptions=(oe.prototype.ctype=0,oe.prototype.packed=!1,oe.prototype.jstype=0,oe.prototype.lazy=!1,oe.prototype.deprecated=!1,oe.prototype.weak=!1,oe.prototype.uninterpretedOption=o.emptyArray,oe.create=function(d){return new oe(d)},oe.encode=function(d,P){if(P=P||l.create(),d.ctype!=null&&Object.hasOwnProperty.call(d,"ctype")&&P.uint32(8).int32(d.ctype),d.packed!=null&&Object.hasOwnProperty.call(d,"packed")&&P.uint32(16).bool(d.packed),d.deprecated!=null&&Object.hasOwnProperty.call(d,"deprecated")&&P.uint32(24).bool(d.deprecated),d.lazy!=null&&Object.hasOwnProperty.call(d,"lazy")&&P.uint32(40).bool(d.lazy),d.jstype!=null&&Object.hasOwnProperty.call(d,"jstype")&&P.uint32(48).int32(d.jstype),d.weak!=null&&Object.hasOwnProperty.call(d,"weak")&&P.uint32(80).bool(d.weak),d.uninterpretedOption!=null&&d.uninterpretedOption.length)for(var A=0;A<d.uninterpretedOption.length;++A)s.google.protobuf.UninterpretedOption.encode(d.uninterpretedOption[A],P.uint32(7994).fork()).ldelim();return P},oe.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},oe.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.FieldOptions;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.ctype=d.int32();break;case 2:$.packed=d.bool();break;case 6:$.jstype=d.int32();break;case 5:$.lazy=d.bool();break;case 3:$.deprecated=d.bool();break;case 10:$.weak=d.bool();break;case 999:$.uninterpretedOption&&$.uninterpretedOption.length||($.uninterpretedOption=[]),$.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(d,d.uint32()));break;default:d.skipType(7&ie)}}return $},oe.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},oe.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.ctype!=null&&d.hasOwnProperty("ctype"))switch(d.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(d.packed!=null&&d.hasOwnProperty("packed")&&typeof d.packed!="boolean")return"packed: boolean expected";if(d.jstype!=null&&d.hasOwnProperty("jstype"))switch(d.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(d.lazy!=null&&d.hasOwnProperty("lazy")&&typeof d.lazy!="boolean")return"lazy: boolean expected";if(d.deprecated!=null&&d.hasOwnProperty("deprecated")&&typeof d.deprecated!="boolean")return"deprecated: boolean expected";if(d.weak!=null&&d.hasOwnProperty("weak")&&typeof d.weak!="boolean")return"weak: boolean expected";if(d.uninterpretedOption!=null&&d.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(d.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<d.uninterpretedOption.length;++P){var A=s.google.protobuf.UninterpretedOption.verify(d.uninterpretedOption[P]);if(A)return"uninterpretedOption."+A}}return null},oe.fromObject=function(d){if(d instanceof s.google.protobuf.FieldOptions)return d;var P=new s.google.protobuf.FieldOptions;switch(d.ctype){case"STRING":case 0:P.ctype=0;break;case"CORD":case 1:P.ctype=1;break;case"STRING_PIECE":case 2:P.ctype=2}switch(d.packed!=null&&(P.packed=!!d.packed),d.jstype){case"JS_NORMAL":case 0:P.jstype=0;break;case"JS_STRING":case 1:P.jstype=1;break;case"JS_NUMBER":case 2:P.jstype=2}if(d.lazy!=null&&(P.lazy=!!d.lazy),d.deprecated!=null&&(P.deprecated=!!d.deprecated),d.weak!=null&&(P.weak=!!d.weak),d.uninterpretedOption){if(!Array.isArray(d.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var A=0;A<d.uninterpretedOption.length;++A){if(typeof d.uninterpretedOption[A]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");P.uninterpretedOption[A]=s.google.protobuf.UninterpretedOption.fromObject(d.uninterpretedOption[A])}}return P},oe.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.uninterpretedOption=[]),P.defaults&&(A.ctype=P.enums===String?"STRING":0,A.packed=!1,A.deprecated=!1,A.lazy=!1,A.jstype=P.enums===String?"JS_NORMAL":0,A.weak=!1),d.ctype!=null&&d.hasOwnProperty("ctype")&&(A.ctype=P.enums===String?s.google.protobuf.FieldOptions.CType[d.ctype]:d.ctype),d.packed!=null&&d.hasOwnProperty("packed")&&(A.packed=d.packed),d.deprecated!=null&&d.hasOwnProperty("deprecated")&&(A.deprecated=d.deprecated),d.lazy!=null&&d.hasOwnProperty("lazy")&&(A.lazy=d.lazy),d.jstype!=null&&d.hasOwnProperty("jstype")&&(A.jstype=P.enums===String?s.google.protobuf.FieldOptions.JSType[d.jstype]:d.jstype),d.weak!=null&&d.hasOwnProperty("weak")&&(A.weak=d.weak),d.uninterpretedOption&&d.uninterpretedOption.length){A.uninterpretedOption=[];for(var $=0;$<d.uninterpretedOption.length;++$)A.uninterpretedOption[$]=s.google.protobuf.UninterpretedOption.toObject(d.uninterpretedOption[$],P)}return A},oe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},oe.CType=(a={},(p=Object.create(a))[a[0]="STRING"]=0,p[a[1]="CORD"]=1,p[a[2]="STRING_PIECE"]=2,p),oe.JSType=(a={},(p=Object.create(a))[a[0]="JS_NORMAL"]=0,p[a[1]="JS_STRING"]=1,p[a[2]="JS_NUMBER"]=2,p),oe),g.OneofOptions=(le.prototype.uninterpretedOption=o.emptyArray,le.create=function(d){return new le(d)},le.encode=function(d,P){if(P=P||l.create(),d.uninterpretedOption!=null&&d.uninterpretedOption.length)for(var A=0;A<d.uninterpretedOption.length;++A)s.google.protobuf.UninterpretedOption.encode(d.uninterpretedOption[A],P.uint32(7994).fork()).ldelim();return P},le.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},le.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.OneofOptions;d.pos<A;){var ie=d.uint32();ie>>>3==999?($.uninterpretedOption&&$.uninterpretedOption.length||($.uninterpretedOption=[]),$.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(d,d.uint32()))):d.skipType(7&ie)}return $},le.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},le.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.uninterpretedOption!=null&&d.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(d.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<d.uninterpretedOption.length;++P){var A=s.google.protobuf.UninterpretedOption.verify(d.uninterpretedOption[P]);if(A)return"uninterpretedOption."+A}}return null},le.fromObject=function(d){if(d instanceof s.google.protobuf.OneofOptions)return d;var P=new s.google.protobuf.OneofOptions;if(d.uninterpretedOption){if(!Array.isArray(d.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var A=0;A<d.uninterpretedOption.length;++A){if(typeof d.uninterpretedOption[A]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");P.uninterpretedOption[A]=s.google.protobuf.UninterpretedOption.fromObject(d.uninterpretedOption[A])}}return P},le.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.uninterpretedOption=[]),d.uninterpretedOption&&d.uninterpretedOption.length){A.uninterpretedOption=[];for(var $=0;$<d.uninterpretedOption.length;++$)A.uninterpretedOption[$]=s.google.protobuf.UninterpretedOption.toObject(d.uninterpretedOption[$],P)}return A},le.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},le),g.EnumOptions=(ee.prototype.allowAlias=!1,ee.prototype.deprecated=!1,ee.prototype.uninterpretedOption=o.emptyArray,ee.create=function(d){return new ee(d)},ee.encode=function(d,P){if(P=P||l.create(),d.allowAlias!=null&&Object.hasOwnProperty.call(d,"allowAlias")&&P.uint32(16).bool(d.allowAlias),d.deprecated!=null&&Object.hasOwnProperty.call(d,"deprecated")&&P.uint32(24).bool(d.deprecated),d.uninterpretedOption!=null&&d.uninterpretedOption.length)for(var A=0;A<d.uninterpretedOption.length;++A)s.google.protobuf.UninterpretedOption.encode(d.uninterpretedOption[A],P.uint32(7994).fork()).ldelim();return P},ee.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},ee.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.EnumOptions;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 2:$.allowAlias=d.bool();break;case 3:$.deprecated=d.bool();break;case 999:$.uninterpretedOption&&$.uninterpretedOption.length||($.uninterpretedOption=[]),$.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(d,d.uint32()));break;default:d.skipType(7&ie)}}return $},ee.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},ee.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.allowAlias!=null&&d.hasOwnProperty("allowAlias")&&typeof d.allowAlias!="boolean")return"allowAlias: boolean expected";if(d.deprecated!=null&&d.hasOwnProperty("deprecated")&&typeof d.deprecated!="boolean")return"deprecated: boolean expected";if(d.uninterpretedOption!=null&&d.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(d.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<d.uninterpretedOption.length;++P){var A=s.google.protobuf.UninterpretedOption.verify(d.uninterpretedOption[P]);if(A)return"uninterpretedOption."+A}}return null},ee.fromObject=function(d){if(d instanceof s.google.protobuf.EnumOptions)return d;var P=new s.google.protobuf.EnumOptions;if(d.allowAlias!=null&&(P.allowAlias=!!d.allowAlias),d.deprecated!=null&&(P.deprecated=!!d.deprecated),d.uninterpretedOption){if(!Array.isArray(d.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var A=0;A<d.uninterpretedOption.length;++A){if(typeof d.uninterpretedOption[A]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");P.uninterpretedOption[A]=s.google.protobuf.UninterpretedOption.fromObject(d.uninterpretedOption[A])}}return P},ee.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.uninterpretedOption=[]),P.defaults&&(A.allowAlias=!1,A.deprecated=!1),d.allowAlias!=null&&d.hasOwnProperty("allowAlias")&&(A.allowAlias=d.allowAlias),d.deprecated!=null&&d.hasOwnProperty("deprecated")&&(A.deprecated=d.deprecated),d.uninterpretedOption&&d.uninterpretedOption.length){A.uninterpretedOption=[];for(var $=0;$<d.uninterpretedOption.length;++$)A.uninterpretedOption[$]=s.google.protobuf.UninterpretedOption.toObject(d.uninterpretedOption[$],P)}return A},ee.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ee),g.EnumValueOptions=(se.prototype.deprecated=!1,se.prototype.uninterpretedOption=o.emptyArray,se.create=function(d){return new se(d)},se.encode=function(d,P){if(P=P||l.create(),d.deprecated!=null&&Object.hasOwnProperty.call(d,"deprecated")&&P.uint32(8).bool(d.deprecated),d.uninterpretedOption!=null&&d.uninterpretedOption.length)for(var A=0;A<d.uninterpretedOption.length;++A)s.google.protobuf.UninterpretedOption.encode(d.uninterpretedOption[A],P.uint32(7994).fork()).ldelim();return P},se.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},se.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.EnumValueOptions;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.deprecated=d.bool();break;case 999:$.uninterpretedOption&&$.uninterpretedOption.length||($.uninterpretedOption=[]),$.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(d,d.uint32()));break;default:d.skipType(7&ie)}}return $},se.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},se.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.deprecated!=null&&d.hasOwnProperty("deprecated")&&typeof d.deprecated!="boolean")return"deprecated: boolean expected";if(d.uninterpretedOption!=null&&d.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(d.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<d.uninterpretedOption.length;++P){var A=s.google.protobuf.UninterpretedOption.verify(d.uninterpretedOption[P]);if(A)return"uninterpretedOption."+A}}return null},se.fromObject=function(d){if(d instanceof s.google.protobuf.EnumValueOptions)return d;var P=new s.google.protobuf.EnumValueOptions;if(d.deprecated!=null&&(P.deprecated=!!d.deprecated),d.uninterpretedOption){if(!Array.isArray(d.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var A=0;A<d.uninterpretedOption.length;++A){if(typeof d.uninterpretedOption[A]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");P.uninterpretedOption[A]=s.google.protobuf.UninterpretedOption.fromObject(d.uninterpretedOption[A])}}return P},se.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.uninterpretedOption=[]),P.defaults&&(A.deprecated=!1),d.deprecated!=null&&d.hasOwnProperty("deprecated")&&(A.deprecated=d.deprecated),d.uninterpretedOption&&d.uninterpretedOption.length){A.uninterpretedOption=[];for(var $=0;$<d.uninterpretedOption.length;++$)A.uninterpretedOption[$]=s.google.protobuf.UninterpretedOption.toObject(d.uninterpretedOption[$],P)}return A},se.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},se),g.ServiceOptions=(de.prototype.deprecated=!1,de.prototype.uninterpretedOption=o.emptyArray,de.prototype[".google.api.defaultHost"]="",de.prototype[".google.api.oauthScopes"]="",de.create=function(d){return new de(d)},de.encode=function(d,P){if(P=P||l.create(),d.deprecated!=null&&Object.hasOwnProperty.call(d,"deprecated")&&P.uint32(264).bool(d.deprecated),d.uninterpretedOption!=null&&d.uninterpretedOption.length)for(var A=0;A<d.uninterpretedOption.length;++A)s.google.protobuf.UninterpretedOption.encode(d.uninterpretedOption[A],P.uint32(7994).fork()).ldelim();return d[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(d,".google.api.defaultHost")&&P.uint32(8394).string(d[".google.api.defaultHost"]),d[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(d,".google.api.oauthScopes")&&P.uint32(8402).string(d[".google.api.oauthScopes"]),P},de.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},de.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.ServiceOptions;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 33:$.deprecated=d.bool();break;case 999:$.uninterpretedOption&&$.uninterpretedOption.length||($.uninterpretedOption=[]),$.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(d,d.uint32()));break;case 1049:$[".google.api.defaultHost"]=d.string();break;case 1050:$[".google.api.oauthScopes"]=d.string();break;default:d.skipType(7&ie)}}return $},de.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},de.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.deprecated!=null&&d.hasOwnProperty("deprecated")&&typeof d.deprecated!="boolean")return"deprecated: boolean expected";if(d.uninterpretedOption!=null&&d.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(d.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<d.uninterpretedOption.length;++P){var A=s.google.protobuf.UninterpretedOption.verify(d.uninterpretedOption[P]);if(A)return"uninterpretedOption."+A}}return d[".google.api.defaultHost"]!=null&&d.hasOwnProperty(".google.api.defaultHost")&&!o.isString(d[".google.api.defaultHost"])?".google.api.defaultHost: string expected":d[".google.api.oauthScopes"]!=null&&d.hasOwnProperty(".google.api.oauthScopes")&&!o.isString(d[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},de.fromObject=function(d){if(d instanceof s.google.protobuf.ServiceOptions)return d;var P=new s.google.protobuf.ServiceOptions;if(d.deprecated!=null&&(P.deprecated=!!d.deprecated),d.uninterpretedOption){if(!Array.isArray(d.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var A=0;A<d.uninterpretedOption.length;++A){if(typeof d.uninterpretedOption[A]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");P.uninterpretedOption[A]=s.google.protobuf.UninterpretedOption.fromObject(d.uninterpretedOption[A])}}return d[".google.api.defaultHost"]!=null&&(P[".google.api.defaultHost"]=String(d[".google.api.defaultHost"])),d[".google.api.oauthScopes"]!=null&&(P[".google.api.oauthScopes"]=String(d[".google.api.oauthScopes"])),P},de.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.uninterpretedOption=[]),P.defaults&&(A.deprecated=!1,A[".google.api.defaultHost"]="",A[".google.api.oauthScopes"]=""),d.deprecated!=null&&d.hasOwnProperty("deprecated")&&(A.deprecated=d.deprecated),d.uninterpretedOption&&d.uninterpretedOption.length){A.uninterpretedOption=[];for(var $=0;$<d.uninterpretedOption.length;++$)A.uninterpretedOption[$]=s.google.protobuf.UninterpretedOption.toObject(d.uninterpretedOption[$],P)}return d[".google.api.defaultHost"]!=null&&d.hasOwnProperty(".google.api.defaultHost")&&(A[".google.api.defaultHost"]=d[".google.api.defaultHost"]),d[".google.api.oauthScopes"]!=null&&d.hasOwnProperty(".google.api.oauthScopes")&&(A[".google.api.oauthScopes"]=d[".google.api.oauthScopes"]),A},de.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},de),g.MethodOptions=(he.prototype.deprecated=!1,he.prototype.idempotencyLevel=0,he.prototype.uninterpretedOption=o.emptyArray,he.prototype[".google.api.http"]=null,he.prototype[".google.api.methodSignature"]=o.emptyArray,he.create=function(d){return new he(d)},he.encode=function(d,P){if(P=P||l.create(),d.deprecated!=null&&Object.hasOwnProperty.call(d,"deprecated")&&P.uint32(264).bool(d.deprecated),d.idempotencyLevel!=null&&Object.hasOwnProperty.call(d,"idempotencyLevel")&&P.uint32(272).int32(d.idempotencyLevel),d.uninterpretedOption!=null&&d.uninterpretedOption.length)for(var A=0;A<d.uninterpretedOption.length;++A)s.google.protobuf.UninterpretedOption.encode(d.uninterpretedOption[A],P.uint32(7994).fork()).ldelim();if(d[".google.api.methodSignature"]!=null&&d[".google.api.methodSignature"].length)for(A=0;A<d[".google.api.methodSignature"].length;++A)P.uint32(8410).string(d[".google.api.methodSignature"][A]);return d[".google.api.http"]!=null&&Object.hasOwnProperty.call(d,".google.api.http")&&s.google.api.HttpRule.encode(d[".google.api.http"],P.uint32(578365826).fork()).ldelim(),P},he.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},he.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.MethodOptions;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 33:$.deprecated=d.bool();break;case 34:$.idempotencyLevel=d.int32();break;case 999:$.uninterpretedOption&&$.uninterpretedOption.length||($.uninterpretedOption=[]),$.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(d,d.uint32()));break;case 72295728:$[".google.api.http"]=s.google.api.HttpRule.decode(d,d.uint32());break;case 1051:$[".google.api.methodSignature"]&&$[".google.api.methodSignature"].length||($[".google.api.methodSignature"]=[]),$[".google.api.methodSignature"].push(d.string());break;default:d.skipType(7&ie)}}return $},he.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},he.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.deprecated!=null&&d.hasOwnProperty("deprecated")&&typeof d.deprecated!="boolean")return"deprecated: boolean expected";if(d.idempotencyLevel!=null&&d.hasOwnProperty("idempotencyLevel"))switch(d.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(d.uninterpretedOption!=null&&d.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(d.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<d.uninterpretedOption.length;++P)if(A=s.google.protobuf.UninterpretedOption.verify(d.uninterpretedOption[P]))return"uninterpretedOption."+A}var A;if(d[".google.api.http"]!=null&&d.hasOwnProperty(".google.api.http")&&(A=s.google.api.HttpRule.verify(d[".google.api.http"])))return".google.api.http."+A;if(d[".google.api.methodSignature"]!=null&&d.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(d[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(P=0;P<d[".google.api.methodSignature"].length;++P)if(!o.isString(d[".google.api.methodSignature"][P]))return".google.api.methodSignature: string[] expected"}return null},he.fromObject=function(d){if(d instanceof s.google.protobuf.MethodOptions)return d;var P=new s.google.protobuf.MethodOptions;switch(d.deprecated!=null&&(P.deprecated=!!d.deprecated),d.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:P.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:P.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:P.idempotencyLevel=2}if(d.uninterpretedOption){if(!Array.isArray(d.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var A=0;A<d.uninterpretedOption.length;++A){if(typeof d.uninterpretedOption[A]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");P.uninterpretedOption[A]=s.google.protobuf.UninterpretedOption.fromObject(d.uninterpretedOption[A])}}if(d[".google.api.http"]!=null){if(typeof d[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");P[".google.api.http"]=s.google.api.HttpRule.fromObject(d[".google.api.http"])}if(d[".google.api.methodSignature"]){if(!Array.isArray(d[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(P[".google.api.methodSignature"]=[],A=0;A<d[".google.api.methodSignature"].length;++A)P[".google.api.methodSignature"][A]=String(d[".google.api.methodSignature"][A])}return P},he.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.uninterpretedOption=[],A[".google.api.methodSignature"]=[]),P.defaults&&(A.deprecated=!1,A.idempotencyLevel=P.enums===String?"IDEMPOTENCY_UNKNOWN":0,A[".google.api.http"]=null),d.deprecated!=null&&d.hasOwnProperty("deprecated")&&(A.deprecated=d.deprecated),d.idempotencyLevel!=null&&d.hasOwnProperty("idempotencyLevel")&&(A.idempotencyLevel=P.enums===String?s.google.protobuf.MethodOptions.IdempotencyLevel[d.idempotencyLevel]:d.idempotencyLevel),d.uninterpretedOption&&d.uninterpretedOption.length){A.uninterpretedOption=[];for(var $=0;$<d.uninterpretedOption.length;++$)A.uninterpretedOption[$]=s.google.protobuf.UninterpretedOption.toObject(d.uninterpretedOption[$],P)}if(d[".google.api.methodSignature"]&&d[".google.api.methodSignature"].length)for(A[".google.api.methodSignature"]=[],$=0;$<d[".google.api.methodSignature"].length;++$)A[".google.api.methodSignature"][$]=d[".google.api.methodSignature"][$];return d[".google.api.http"]!=null&&d.hasOwnProperty(".google.api.http")&&(A[".google.api.http"]=s.google.api.HttpRule.toObject(d[".google.api.http"],P)),A},he.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},he.IdempotencyLevel=(a={},(p=Object.create(a))[a[0]="IDEMPOTENCY_UNKNOWN"]=0,p[a[1]="NO_SIDE_EFFECTS"]=1,p[a[2]="IDEMPOTENT"]=2,p),he),g.UninterpretedOption=(ge.prototype.name=o.emptyArray,ge.prototype.identifierValue="",ge.prototype.positiveIntValue=o.Long?o.Long.fromBits(0,0,!0):0,ge.prototype.negativeIntValue=o.Long?o.Long.fromBits(0,0,!1):0,ge.prototype.doubleValue=0,ge.prototype.stringValue=o.newBuffer([]),ge.prototype.aggregateValue="",ge.create=function(d){return new ge(d)},ge.encode=function(d,P){if(P=P||l.create(),d.name!=null&&d.name.length)for(var A=0;A<d.name.length;++A)s.google.protobuf.UninterpretedOption.NamePart.encode(d.name[A],P.uint32(18).fork()).ldelim();return d.identifierValue!=null&&Object.hasOwnProperty.call(d,"identifierValue")&&P.uint32(26).string(d.identifierValue),d.positiveIntValue!=null&&Object.hasOwnProperty.call(d,"positiveIntValue")&&P.uint32(32).uint64(d.positiveIntValue),d.negativeIntValue!=null&&Object.hasOwnProperty.call(d,"negativeIntValue")&&P.uint32(40).int64(d.negativeIntValue),d.doubleValue!=null&&Object.hasOwnProperty.call(d,"doubleValue")&&P.uint32(49).double(d.doubleValue),d.stringValue!=null&&Object.hasOwnProperty.call(d,"stringValue")&&P.uint32(58).bytes(d.stringValue),d.aggregateValue!=null&&Object.hasOwnProperty.call(d,"aggregateValue")&&P.uint32(66).string(d.aggregateValue),P},ge.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},ge.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.UninterpretedOption;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 2:$.name&&$.name.length||($.name=[]),$.name.push(s.google.protobuf.UninterpretedOption.NamePart.decode(d,d.uint32()));break;case 3:$.identifierValue=d.string();break;case 4:$.positiveIntValue=d.uint64();break;case 5:$.negativeIntValue=d.int64();break;case 6:$.doubleValue=d.double();break;case 7:$.stringValue=d.bytes();break;case 8:$.aggregateValue=d.string();break;default:d.skipType(7&ie)}}return $},ge.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},ge.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")){if(!Array.isArray(d.name))return"name: array expected";for(var P=0;P<d.name.length;++P){var A=s.google.protobuf.UninterpretedOption.NamePart.verify(d.name[P]);if(A)return"name."+A}}return d.identifierValue!=null&&d.hasOwnProperty("identifierValue")&&!o.isString(d.identifierValue)?"identifierValue: string expected":d.positiveIntValue!=null&&d.hasOwnProperty("positiveIntValue")&&!(o.isInteger(d.positiveIntValue)||d.positiveIntValue&&o.isInteger(d.positiveIntValue.low)&&o.isInteger(d.positiveIntValue.high))?"positiveIntValue: integer|Long expected":d.negativeIntValue!=null&&d.hasOwnProperty("negativeIntValue")&&!(o.isInteger(d.negativeIntValue)||d.negativeIntValue&&o.isInteger(d.negativeIntValue.low)&&o.isInteger(d.negativeIntValue.high))?"negativeIntValue: integer|Long expected":d.doubleValue!=null&&d.hasOwnProperty("doubleValue")&&typeof d.doubleValue!="number"?"doubleValue: number expected":d.stringValue!=null&&d.hasOwnProperty("stringValue")&&!(d.stringValue&&typeof d.stringValue.length=="number"||o.isString(d.stringValue))?"stringValue: buffer expected":d.aggregateValue!=null&&d.hasOwnProperty("aggregateValue")&&!o.isString(d.aggregateValue)?"aggregateValue: string expected":null},ge.fromObject=function(d){if(d instanceof s.google.protobuf.UninterpretedOption)return d;var P=new s.google.protobuf.UninterpretedOption;if(d.name){if(!Array.isArray(d.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");P.name=[];for(var A=0;A<d.name.length;++A){if(typeof d.name[A]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");P.name[A]=s.google.protobuf.UninterpretedOption.NamePart.fromObject(d.name[A])}}return d.identifierValue!=null&&(P.identifierValue=String(d.identifierValue)),d.positiveIntValue!=null&&(o.Long?(P.positiveIntValue=o.Long.fromValue(d.positiveIntValue)).unsigned=!0:typeof d.positiveIntValue=="string"?P.positiveIntValue=parseInt(d.positiveIntValue,10):typeof d.positiveIntValue=="number"?P.positiveIntValue=d.positiveIntValue:typeof d.positiveIntValue=="object"&&(P.positiveIntValue=new o.LongBits(d.positiveIntValue.low>>>0,d.positiveIntValue.high>>>0).toNumber(!0))),d.negativeIntValue!=null&&(o.Long?(P.negativeIntValue=o.Long.fromValue(d.negativeIntValue)).unsigned=!1:typeof d.negativeIntValue=="string"?P.negativeIntValue=parseInt(d.negativeIntValue,10):typeof d.negativeIntValue=="number"?P.negativeIntValue=d.negativeIntValue:typeof d.negativeIntValue=="object"&&(P.negativeIntValue=new o.LongBits(d.negativeIntValue.low>>>0,d.negativeIntValue.high>>>0).toNumber())),d.doubleValue!=null&&(P.doubleValue=Number(d.doubleValue)),d.stringValue!=null&&(typeof d.stringValue=="string"?o.base64.decode(d.stringValue,P.stringValue=o.newBuffer(o.base64.length(d.stringValue)),0):d.stringValue.length&&(P.stringValue=d.stringValue)),d.aggregateValue!=null&&(P.aggregateValue=String(d.aggregateValue)),P},ge.toObject=function(d,P){var A,$={};if(((P=P||{}).arrays||P.defaults)&&($.name=[]),P.defaults&&($.identifierValue="",o.Long?(A=new o.Long(0,0,!0),$.positiveIntValue=P.longs===String?A.toString():P.longs===Number?A.toNumber():A):$.positiveIntValue=P.longs===String?"0":0,o.Long?(A=new o.Long(0,0,!1),$.negativeIntValue=P.longs===String?A.toString():P.longs===Number?A.toNumber():A):$.negativeIntValue=P.longs===String?"0":0,$.doubleValue=0,P.bytes===String?$.stringValue="":($.stringValue=[],P.bytes!==Array&&($.stringValue=o.newBuffer($.stringValue))),$.aggregateValue=""),d.name&&d.name.length){$.name=[];for(var ie=0;ie<d.name.length;++ie)$.name[ie]=s.google.protobuf.UninterpretedOption.NamePart.toObject(d.name[ie],P)}return d.identifierValue!=null&&d.hasOwnProperty("identifierValue")&&($.identifierValue=d.identifierValue),d.positiveIntValue!=null&&d.hasOwnProperty("positiveIntValue")&&(typeof d.positiveIntValue=="number"?$.positiveIntValue=P.longs===String?String(d.positiveIntValue):d.positiveIntValue:$.positiveIntValue=P.longs===String?o.Long.prototype.toString.call(d.positiveIntValue):P.longs===Number?new o.LongBits(d.positiveIntValue.low>>>0,d.positiveIntValue.high>>>0).toNumber(!0):d.positiveIntValue),d.negativeIntValue!=null&&d.hasOwnProperty("negativeIntValue")&&(typeof d.negativeIntValue=="number"?$.negativeIntValue=P.longs===String?String(d.negativeIntValue):d.negativeIntValue:$.negativeIntValue=P.longs===String?o.Long.prototype.toString.call(d.negativeIntValue):P.longs===Number?new o.LongBits(d.negativeIntValue.low>>>0,d.negativeIntValue.high>>>0).toNumber():d.negativeIntValue),d.doubleValue!=null&&d.hasOwnProperty("doubleValue")&&($.doubleValue=P.json&&!isFinite(d.doubleValue)?String(d.doubleValue):d.doubleValue),d.stringValue!=null&&d.hasOwnProperty("stringValue")&&($.stringValue=P.bytes===String?o.base64.encode(d.stringValue,0,d.stringValue.length):P.bytes===Array?Array.prototype.slice.call(d.stringValue):d.stringValue),d.aggregateValue!=null&&d.hasOwnProperty("aggregateValue")&&($.aggregateValue=d.aggregateValue),$},ge.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ge.NamePart=(me.prototype.namePart="",me.prototype.isExtension=!1,me.create=function(d){return new me(d)},me.encode=function(d,P){return(P=P||l.create()).uint32(10).string(d.namePart),P.uint32(16).bool(d.isExtension),P},me.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},me.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.UninterpretedOption.NamePart;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.namePart=d.string();break;case 2:$.isExtension=d.bool();break;default:d.skipType(7&ie)}}if(!$.hasOwnProperty("namePart"))throw o.ProtocolError("missing required 'namePart'",{instance:$});if($.hasOwnProperty("isExtension"))return $;throw o.ProtocolError("missing required 'isExtension'",{instance:$})},me.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},me.verify=function(d){return typeof d!="object"||d===null?"object expected":o.isString(d.namePart)?typeof d.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},me.fromObject=function(d){var P;return d instanceof s.google.protobuf.UninterpretedOption.NamePart?d:(P=new s.google.protobuf.UninterpretedOption.NamePart,d.namePart!=null&&(P.namePart=String(d.namePart)),d.isExtension!=null&&(P.isExtension=!!d.isExtension),P)},me.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.namePart="",A.isExtension=!1),d.namePart!=null&&d.hasOwnProperty("namePart")&&(A.namePart=d.namePart),d.isExtension!=null&&d.hasOwnProperty("isExtension")&&(A.isExtension=d.isExtension),A},me.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},me),ge),g.SourceCodeInfo=(Oe.prototype.location=o.emptyArray,Oe.create=function(d){return new Oe(d)},Oe.encode=function(d,P){if(P=P||l.create(),d.location!=null&&d.location.length)for(var A=0;A<d.location.length;++A)s.google.protobuf.SourceCodeInfo.Location.encode(d.location[A],P.uint32(10).fork()).ldelim();return P},Oe.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},Oe.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.SourceCodeInfo;d.pos<A;){var ie=d.uint32();ie>>>3==1?($.location&&$.location.length||($.location=[]),$.location.push(s.google.protobuf.SourceCodeInfo.Location.decode(d,d.uint32()))):d.skipType(7&ie)}return $},Oe.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},Oe.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.location!=null&&d.hasOwnProperty("location")){if(!Array.isArray(d.location))return"location: array expected";for(var P=0;P<d.location.length;++P){var A=s.google.protobuf.SourceCodeInfo.Location.verify(d.location[P]);if(A)return"location."+A}}return null},Oe.fromObject=function(d){if(d instanceof s.google.protobuf.SourceCodeInfo)return d;var P=new s.google.protobuf.SourceCodeInfo;if(d.location){if(!Array.isArray(d.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");P.location=[];for(var A=0;A<d.location.length;++A){if(typeof d.location[A]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");P.location[A]=s.google.protobuf.SourceCodeInfo.Location.fromObject(d.location[A])}}return P},Oe.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.location=[]),d.location&&d.location.length){A.location=[];for(var $=0;$<d.location.length;++$)A.location[$]=s.google.protobuf.SourceCodeInfo.Location.toObject(d.location[$],P)}return A},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Oe.Location=(fe.prototype.path=o.emptyArray,fe.prototype.span=o.emptyArray,fe.prototype.leadingComments="",fe.prototype.trailingComments="",fe.prototype.leadingDetachedComments=o.emptyArray,fe.create=function(d){return new fe(d)},fe.encode=function(d,P){if(P=P||l.create(),d.path!=null&&d.path.length){P.uint32(10).fork();for(var A=0;A<d.path.length;++A)P.int32(d.path[A]);P.ldelim()}if(d.span!=null&&d.span.length){for(P.uint32(18).fork(),A=0;A<d.span.length;++A)P.int32(d.span[A]);P.ldelim()}if(d.leadingComments!=null&&Object.hasOwnProperty.call(d,"leadingComments")&&P.uint32(26).string(d.leadingComments),d.trailingComments!=null&&Object.hasOwnProperty.call(d,"trailingComments")&&P.uint32(34).string(d.trailingComments),d.leadingDetachedComments!=null&&d.leadingDetachedComments.length)for(A=0;A<d.leadingDetachedComments.length;++A)P.uint32(50).string(d.leadingDetachedComments[A]);return P},fe.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},fe.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.SourceCodeInfo.Location;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:if($.path&&$.path.length||($.path=[]),(7&ie)==2)for(var pe=d.uint32()+d.pos;d.pos<pe;)$.path.push(d.int32());else $.path.push(d.int32());break;case 2:if($.span&&$.span.length||($.span=[]),(7&ie)==2)for(pe=d.uint32()+d.pos;d.pos<pe;)$.span.push(d.int32());else $.span.push(d.int32());break;case 3:$.leadingComments=d.string();break;case 4:$.trailingComments=d.string();break;case 6:$.leadingDetachedComments&&$.leadingDetachedComments.length||($.leadingDetachedComments=[]),$.leadingDetachedComments.push(d.string());break;default:d.skipType(7&ie)}}return $},fe.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},fe.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.path!=null&&d.hasOwnProperty("path")){if(!Array.isArray(d.path))return"path: array expected";for(var P=0;P<d.path.length;++P)if(!o.isInteger(d.path[P]))return"path: integer[] expected"}if(d.span!=null&&d.hasOwnProperty("span")){if(!Array.isArray(d.span))return"span: array expected";for(P=0;P<d.span.length;++P)if(!o.isInteger(d.span[P]))return"span: integer[] expected"}if(d.leadingComments!=null&&d.hasOwnProperty("leadingComments")&&!o.isString(d.leadingComments))return"leadingComments: string expected";if(d.trailingComments!=null&&d.hasOwnProperty("trailingComments")&&!o.isString(d.trailingComments))return"trailingComments: string expected";if(d.leadingDetachedComments!=null&&d.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(d.leadingDetachedComments))return"leadingDetachedComments: array expected";for(P=0;P<d.leadingDetachedComments.length;++P)if(!o.isString(d.leadingDetachedComments[P]))return"leadingDetachedComments: string[] expected"}return null},fe.fromObject=function(d){if(d instanceof s.google.protobuf.SourceCodeInfo.Location)return d;var P=new s.google.protobuf.SourceCodeInfo.Location;if(d.path){if(!Array.isArray(d.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");P.path=[];for(var A=0;A<d.path.length;++A)P.path[A]=0|d.path[A]}if(d.span){if(!Array.isArray(d.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(P.span=[],A=0;A<d.span.length;++A)P.span[A]=0|d.span[A]}if(d.leadingComments!=null&&(P.leadingComments=String(d.leadingComments)),d.trailingComments!=null&&(P.trailingComments=String(d.trailingComments)),d.leadingDetachedComments){if(!Array.isArray(d.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(P.leadingDetachedComments=[],A=0;A<d.leadingDetachedComments.length;++A)P.leadingDetachedComments[A]=String(d.leadingDetachedComments[A])}return P},fe.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.path=[],A.span=[],A.leadingDetachedComments=[]),P.defaults&&(A.leadingComments="",A.trailingComments=""),d.path&&d.path.length){A.path=[];for(var $=0;$<d.path.length;++$)A.path[$]=d.path[$]}if(d.span&&d.span.length)for(A.span=[],$=0;$<d.span.length;++$)A.span[$]=d.span[$];if(d.leadingComments!=null&&d.hasOwnProperty("leadingComments")&&(A.leadingComments=d.leadingComments),d.trailingComments!=null&&d.hasOwnProperty("trailingComments")&&(A.trailingComments=d.trailingComments),d.leadingDetachedComments&&d.leadingDetachedComments.length)for(A.leadingDetachedComments=[],$=0;$<d.leadingDetachedComments.length;++$)A.leadingDetachedComments[$]=d.leadingDetachedComments[$];return A},fe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},fe),Oe),g.GeneratedCodeInfo=(_e.prototype.annotation=o.emptyArray,_e.create=function(d){return new _e(d)},_e.encode=function(d,P){if(P=P||l.create(),d.annotation!=null&&d.annotation.length)for(var A=0;A<d.annotation.length;++A)s.google.protobuf.GeneratedCodeInfo.Annotation.encode(d.annotation[A],P.uint32(10).fork()).ldelim();return P},_e.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},_e.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.GeneratedCodeInfo;d.pos<A;){var ie=d.uint32();ie>>>3==1?($.annotation&&$.annotation.length||($.annotation=[]),$.annotation.push(s.google.protobuf.GeneratedCodeInfo.Annotation.decode(d,d.uint32()))):d.skipType(7&ie)}return $},_e.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},_e.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.annotation!=null&&d.hasOwnProperty("annotation")){if(!Array.isArray(d.annotation))return"annotation: array expected";for(var P=0;P<d.annotation.length;++P){var A=s.google.protobuf.GeneratedCodeInfo.Annotation.verify(d.annotation[P]);if(A)return"annotation."+A}}return null},_e.fromObject=function(d){if(d instanceof s.google.protobuf.GeneratedCodeInfo)return d;var P=new s.google.protobuf.GeneratedCodeInfo;if(d.annotation){if(!Array.isArray(d.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");P.annotation=[];for(var A=0;A<d.annotation.length;++A){if(typeof d.annotation[A]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");P.annotation[A]=s.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(d.annotation[A])}}return P},_e.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.annotation=[]),d.annotation&&d.annotation.length){A.annotation=[];for(var $=0;$<d.annotation.length;++$)A.annotation[$]=s.google.protobuf.GeneratedCodeInfo.Annotation.toObject(d.annotation[$],P)}return A},_e.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},_e.Annotation=(Ee.prototype.path=o.emptyArray,Ee.prototype.sourceFile="",Ee.prototype.begin=0,Ee.prototype.end=0,Ee.create=function(d){return new Ee(d)},Ee.encode=function(d,P){if(P=P||l.create(),d.path!=null&&d.path.length){P.uint32(10).fork();for(var A=0;A<d.path.length;++A)P.int32(d.path[A]);P.ldelim()}return d.sourceFile!=null&&Object.hasOwnProperty.call(d,"sourceFile")&&P.uint32(18).string(d.sourceFile),d.begin!=null&&Object.hasOwnProperty.call(d,"begin")&&P.uint32(24).int32(d.begin),d.end!=null&&Object.hasOwnProperty.call(d,"end")&&P.uint32(32).int32(d.end),P},Ee.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},Ee.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.GeneratedCodeInfo.Annotation;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:if($.path&&$.path.length||($.path=[]),(7&ie)==2)for(var pe=d.uint32()+d.pos;d.pos<pe;)$.path.push(d.int32());else $.path.push(d.int32());break;case 2:$.sourceFile=d.string();break;case 3:$.begin=d.int32();break;case 4:$.end=d.int32();break;default:d.skipType(7&ie)}}return $},Ee.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},Ee.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.path!=null&&d.hasOwnProperty("path")){if(!Array.isArray(d.path))return"path: array expected";for(var P=0;P<d.path.length;++P)if(!o.isInteger(d.path[P]))return"path: integer[] expected"}return d.sourceFile!=null&&d.hasOwnProperty("sourceFile")&&!o.isString(d.sourceFile)?"sourceFile: string expected":d.begin!=null&&d.hasOwnProperty("begin")&&!o.isInteger(d.begin)?"begin: integer expected":d.end!=null&&d.hasOwnProperty("end")&&!o.isInteger(d.end)?"end: integer expected":null},Ee.fromObject=function(d){if(d instanceof s.google.protobuf.GeneratedCodeInfo.Annotation)return d;var P=new s.google.protobuf.GeneratedCodeInfo.Annotation;if(d.path){if(!Array.isArray(d.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");P.path=[];for(var A=0;A<d.path.length;++A)P.path[A]=0|d.path[A]}return d.sourceFile!=null&&(P.sourceFile=String(d.sourceFile)),d.begin!=null&&(P.begin=0|d.begin),d.end!=null&&(P.end=0|d.end),P},Ee.toObject=function(d,P){var A={};if(((P=P||{}).arrays||P.defaults)&&(A.path=[]),P.defaults&&(A.sourceFile="",A.begin=0,A.end=0),d.path&&d.path.length){A.path=[];for(var $=0;$<d.path.length;++$)A.path[$]=d.path[$]}return d.sourceFile!=null&&d.hasOwnProperty("sourceFile")&&(A.sourceFile=d.sourceFile),d.begin!=null&&d.hasOwnProperty("begin")&&(A.begin=d.begin),d.end!=null&&d.hasOwnProperty("end")&&(A.end=d.end),A},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ee),_e),g.Any=(z.prototype.type_url="",z.prototype.value=o.newBuffer([]),z.create=function(d){return new z(d)},z.encode=function(d,P){return P=P||l.create(),d.type_url!=null&&Object.hasOwnProperty.call(d,"type_url")&&P.uint32(10).string(d.type_url),d.value!=null&&Object.hasOwnProperty.call(d,"value")&&P.uint32(18).bytes(d.value),P},z.encodeDelimited=function(d,P){return this.encode(d,P).ldelim()},z.decode=function(d,P){d instanceof c||(d=c.create(d));for(var A=P===void 0?d.len:d.pos+P,$=new s.google.protobuf.Any;d.pos<A;){var ie=d.uint32();switch(ie>>>3){case 1:$.type_url=d.string();break;case 2:$.value=d.bytes();break;default:d.skipType(7&ie)}}return $},z.decodeDelimited=function(d){return d instanceof c||(d=new c(d)),this.decode(d,d.uint32())},z.verify=function(d){return typeof d!="object"||d===null?"object expected":d.type_url!=null&&d.hasOwnProperty("type_url")&&!o.isString(d.type_url)?"type_url: string expected":d.value!=null&&d.hasOwnProperty("value")&&!(d.value&&typeof d.value.length=="number"||o.isString(d.value))?"value: buffer expected":null},z.fromObject=function(d){var P;return d instanceof s.google.protobuf.Any?d:(P=new s.google.protobuf.Any,d.type_url!=null&&(P.type_url=String(d.type_url)),d.value!=null&&(typeof d.value=="string"?o.base64.decode(d.value,P.value=o.newBuffer(o.base64.length(d.value)),0):d.value.length&&(P.value=d.value)),P)},z.toObject=function(d,P){var A={};return(P=P||{}).defaults&&(A.type_url="",P.bytes===String?A.value="":(A.value=[],P.bytes!==Array&&(A.value=o.newBuffer(A.value)))),d.type_url!=null&&d.hasOwnProperty("type_url")&&(A.type_url=d.type_url),d.value!=null&&d.hasOwnProperty("value")&&(A.value=P.bytes===String?o.base64.encode(d.value,0,d.value.length):P.bytes===Array?Array.prototype.slice.call(d.value):d.value),A},z.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},z),g),m),s})})(locations)),locations.exports}var pathTemplate={},hasRequiredPathTemplate;function requirePathTemplate(){if(hasRequiredPathTemplate)return pathTemplate;hasRequiredPathTemplate=1,Object.defineProperty(pathTemplate,"__esModule",{value:!0}),pathTemplate.PathTemplate=void 0;class e{constructor(p){this.bindings={},this.data=p,this.segments=this.parsePathTemplate(p),this.size=this.segments.length}match(p){let g=p.split("/");const m={};if(g.length!==this.segments.length)if(this.data.includes("**")){if(g.length!==this.segments.length+1)throw new TypeError(`This path ${p} does not match path template ${this.data}, the number of parameters is not same with one wildcard.`)}else throw new TypeError(`This path ${p} does not match path template ${this.data}, the number of parameters is not same.`);for(let c=0;c<this.segments.length&&g.length>0;c++)if(this.segments[c]!==g[0])if(this.segments[c].includes("*")){let l=this.segments[c];const o=l.match(/\{[$0-9a-zA-Z_]+=.*?\}/g);if(!o)throw new Error(`Error processing path template segment ${l}`);const s=o.map(h=>h.replace(/^\{/,"").replace(/=.*/,""));if(l.includes("**"))m[s[0]]=g[0]+"/"+g[1],g=g.slice(2);else{if(s.length===1)m[s[0]]=g[0];else{const h=g[0].split(/[-_.~]/);if(h.length!==s.length)throw new Error(`segment ${l} does not match ${g[0]}`);for(const v of s)m[v]=h[0],l=l.replace(`{${v}=*}`,`${h[0]}`),h.shift();if(l!==g[0])throw new TypeError(`non slash resource pattern ${this.segments[c]} and ${g[0]} should have same separator`)}g.shift()}}else throw new TypeError(`segment does not match, ${this.segments[c]} and  ${g[c]}.`);else g.shift();return m}render(p){if(Object.keys(p).length!==Object.keys(this.bindings).length)throw new TypeError(`The number of variables ${Object.keys(p).length} does not match the number of needed variables ${Object.keys(this.bindings).length}`);let g=this.inspect();for(const m of Object.keys(p)){const c=p[m].toString();if(!this.bindings[m])throw new TypeError(`render fails for not matching ${p[m]}`);const l=this.bindings[m];if(l==="*"){if(!c.match(/[^/{}]+/))throw new TypeError(`render fails for not matching ${c}`);g=g.replace(`{${m}=*}`,`${c}`)}else if(l==="**"){if(!c.match(/[^{}]+/))throw new TypeError(`render fails for not matching ${c}`);g=g.replace(`{${m}=**}`,`${c}`)}}return g}inspect(){return this.segments.join("/")}parsePathTemplate(p){const g=t(p);let m=0,c=0;const l=[];let o;if(g.forEach(s=>{if(s==="*"||s==="**")this.bindings[`$${m}`]=s,l.push(`{$${m}=${s}}`),m=m+1,s==="**"&&++c;else if(o=s.match(/\{[0-9a-zA-Z-.~_]+(?:=.*?)?\}/g)){for(const h of o){const v=h.match(/^\{([0-9a-zA-Z-.~_]+)(?:=(.*?))?\}$/);if(!v)throw new Error(`Cannot process path template segment ${h}`);const b=v[1];let y=v[2];y?y==="*"?this.bindings[b]=y:y==="**"&&(++c,this.bindings[b]=y):(y="*",s=s.replace(b,b+"=*"),this.bindings[b]=y)}l.push(s)}else s.match(/[0-9a-zA-Z-.~_]+/)&&l.push(s)}),c>1)throw new TypeError("Can not have more than one wildcard.");return l}}pathTemplate.PathTemplate=e;function t(a){let p=0,g=0,m=0;const c=[];for(;g>=p&&g<a.length;){if(a.charAt(g)==="{")m=m+1;else if(a.charAt(g)==="}")m=m-1;else if(a.charAt(g)==="/"){if(g===a.length-1)throw new TypeError("Invalid path, it can not be ended by /");m===0&&(c.push(a.substring(p,g)),p=g+1)}if(g===a.length-1){if(m!==0)throw new TypeError("Brackets are invalid.");c.push(a.substring(p))}g=g+1}return c}return pathTemplate}var iamService={};const interfaces$3={"google.iam.v1.IAMPolicy":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:2e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:2e4,total_timeout_millis:6e5}},methods:{GetIamPolicy:{retry_codes_name:"non_idempotent",retry_params_name:"default"},SetIamPolicy:{retry_codes_name:"non_idempotent",retry_params_name:"default"},TestIamPermissions:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$2$1={interfaces:interfaces$3},nested$4=JSON.parse('{"google":{"nested":{"iam":{"nested":{"v1":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.Cloud.Iam.V1","go_package":"google.golang.org/genproto/googleapis/iam/v1;iam","java_multiple_files":true,"java_outer_classname":"PolicyProto","java_package":"com.google.iam.v1","php_namespace":"Google\\\\Cloud\\\\Iam\\\\V1"},"nested":{"IAMPolicy":{"options":{"(google.api.default_host)":"iam-meta-api.googleapis.com"},"methods":{"SetIamPolicy":{"requestType":"SetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:setIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:setIamPolicy","body":"*"}}]},"GetIamPolicy":{"requestType":"GetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:getIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:getIamPolicy","body":"*"}}]},"TestIamPermissions":{"requestType":"TestIamPermissionsRequest","responseType":"TestIamPermissionsResponse","options":{"(google.api.http).post":"/v1/{resource=**}:testIamPermissions","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:testIamPermissions","body":"*"}}]}}},"SetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"policy":{"type":"Policy","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"GetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"options":{"type":"GetPolicyOptions","id":2}}},"TestIamPermissionsRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"permissions":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"TestIamPermissionsResponse":{"fields":{"permissions":{"rule":"repeated","type":"string","id":1}}},"GetPolicyOptions":{"fields":{"requestedPolicyVersion":{"type":"int32","id":1}}},"Policy":{"fields":{"version":{"type":"int32","id":1},"bindings":{"rule":"repeated","type":"Binding","id":4},"etag":{"type":"bytes","id":3}}},"Binding":{"fields":{"role":{"type":"string","id":1},"members":{"rule":"repeated","type":"string","id":2},"condition":{"type":"google.type.Expr","id":3}}},"PolicyDelta":{"fields":{"bindingDeltas":{"rule":"repeated","type":"BindingDelta","id":1},"auditConfigDeltas":{"rule":"repeated","type":"AuditConfigDelta","id":2}}},"BindingDelta":{"fields":{"action":{"type":"Action","id":1},"role":{"type":"string","id":2},"member":{"type":"string","id":3},"condition":{"type":"google.type.Expr","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"AuditConfigDelta":{"fields":{"action":{"type":"Action","id":1},"service":{"type":"string","id":2},"exemptedMember":{"type":"string","id":3},"logType":{"type":"string","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"logging":{"options":{"csharp_namespace":"Google.Cloud.Iam.V1.Logging","go_package":"google.golang.org/genproto/googleapis/iam/v1/logging;logging","java_multiple_files":true,"java_outer_classname":"AuditDataProto","java_package":"com.google.iam.v1.logging"},"nested":{"AuditData":{"fields":{"policyDelta":{"type":"google.iam.v1.PolicyDelta","id":2}}}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions"},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}},"type":{"options":{"go_package":"google.golang.org/genproto/googleapis/type/expr;expr","java_multiple_files":true,"java_outer_classname":"ExprProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"Expr":{"fields":{"expression":{"type":"string","id":1},"title":{"type":"string","id":2},"description":{"type":"string","id":3},"location":{"type":"string","id":4}}}}}}}}'),require$$5$1={nested:nested$4};var hasRequiredIamService;function requireIamService(){if(hasRequiredIamService)return iamService;hasRequiredIamService=1,Object.defineProperty(iamService,"__esModule",{value:!0}),iamService.IamClient=void 0;const e=requireCreateApiCall(),t=requireRoutingHeader(),a=require$$2$1,p=requireFallback();let g=require$$17.version;const m=require$$5$1;class c{constructor(o,s){this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{}},this.innerApiCalls={},this.gaxGrpc=o;const h=Object.assign({servicePath:s.servicePath,port:s.port,clientConfig:s.clientConfig,apiEndpoint:s.apiEndpoint,fallback:s.fallback},s);g=h.fallback?p.version:g,h.scopes=this.constructor.scopes,this._opts=h,this.auth=o.auth;const v=[`gax/${g}`,`gapic/${g}`];typeof process<"u"&&"versions"in process?v.push(`gl-node/${process.versions.node}`):v.push(`gl-web/${g}`),h.fallback||v.push(`grpc/${o.grpcVersion}`),h.libName&&h.libVersion&&v.push(`${h.libName}/${h.libVersion}`),this._protos=this.gaxGrpc.loadProtoJSON(m),this._defaults=o.constructSettings("google.iam.v1.IAMPolicy",a,h.clientConfig||{},{"x-goog-api-client":v.join(" ")}),this.innerApiCalls={}}initialize(){if(this.iamPolicyStub)return this.iamPolicyStub;this.iamPolicyStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.iam.v1.IAMPolicy"):this._protos.google.iam.v1.IAMPolicy,this._opts);const o=["getIamPolicy","setIamPolicy","testIamPermissions"];for(const s of o){const h=this.iamPolicyStub.then(v=>(...b)=>this._terminated?Promise.reject("The client has already been closed."):v[s].apply(v,b),v=>()=>{throw v});this.innerApiCalls[s]=(0,e.createApiCall)(h,this._defaults[s],this.descriptors.page[s])}return this.iamPolicyStub}static get servicePath(){return"cloudkms.googleapis.com"}static get apiEndpoint(){return"cloudkms.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudkms"]}getProjectId(o){if(this.auth&&"getProjectId"in this.auth)return this.auth.getProjectId(o);if(o)o(new Error("Cannot determine project ID."));else return Promise.reject("Cannot determine project ID.")}getIamPolicy(o,s,h){let v;return s instanceof Function&&h===void 0?(h=s,v={}):v=s,o=o||{},v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=t.fromParams({resource:o.resource}),this.initialize(),this.innerApiCalls.getIamPolicy(o,v,h)}setIamPolicy(o,s,h){let v;return s instanceof Function&&h===void 0?(h=s,v={}):v=s,o=o||{},v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=t.fromParams({resource:o.resource}),this.initialize(),this.innerApiCalls.setIamPolicy(o,v,h)}testIamPermissions(o,s,h){let v;return s instanceof Function&&h===void 0?(h=s,v={}):v=s,o=o||{},v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=t.fromParams({resource:o.resource}),this.initialize(),this.innerApiCalls.testIamPermissions(o,v,h)}close(){return this.initialize(),this._terminated?Promise.resolve():this.iamPolicyStub.then(o=>{this._terminated=!0,o.close()})}}return iamService.IamClient=c,iamService}var locationService={};const nested$3=JSON.parse('{"google":{"nested":{"cloud":{"nested":{"location":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/cloud/location;location","java_multiple_files":true,"java_outer_classname":"LocationsProto","java_package":"com.google.cloud.location"},"nested":{"Locations":{"options":{"(google.api.default_host)":"cloud.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},"methods":{"ListLocations":{"requestType":"ListLocationsRequest","responseType":"ListLocationsResponse","options":{"(google.api.http).get":"/v1/{name=locations}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*}/locations"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=locations}","additional_bindings":{"get":"/v1/{name=projects/*}/locations"}}}]},"GetLocation":{"requestType":"GetLocationRequest","responseType":"Location","options":{"(google.api.http).get":"/v1/{name=locations/*}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*/locations/*}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=locations/*}","additional_bindings":{"get":"/v1/{name=projects/*/locations/*}"}}}]}}},"ListLocationsRequest":{"fields":{"name":{"type":"string","id":1},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListLocationsResponse":{"fields":{"locations":{"rule":"repeated","type":"Location","id":1},"nextPageToken":{"type":"string","id":2}}},"GetLocationRequest":{"fields":{"name":{"type":"string","id":1}}},"Location":{"fields":{"name":{"type":"string","id":1},"locationId":{"type":"string","id":4},"displayName":{"type":"string","id":5},"labels":{"keyType":"string","type":"string","id":2},"metadata":{"type":"google.protobuf.Any","id":3}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}}}}}}}'),require$$5={nested:nested$3},interfaces$2={"google.cloud.location.Locations":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{ListLocations:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetLocation:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$6={interfaces:interfaces$2};var hasRequiredLocationService;function requireLocationService(){if(hasRequiredLocationService)return locationService;hasRequiredLocationService=1,Object.defineProperty(locationService,"__esModule",{value:!0}),locationService.LocationsClient=void 0;const e=requireGax(),t=requireWarnings(),a=requireCreateApiCall(),p=requireRoutingHeader(),g=requirePageDescriptor(),m=require$$5,c=require$$6,l=require$$17.version;class o{constructor(h,v){var b,y;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}},this.gaxGrpc=h;const O=this.constructor,w=v?.servicePath||v?.apiEndpoint||O.servicePath;this._providedCustomServicePath=!!(v?.servicePath||v?.apiEndpoint);const I=v?.port||O.port,_=(b=v?.clientConfig)!==null&&b!==void 0?b:{},T=(y=v?.fallback)!==null&&y!==void 0?y:typeof window<"u"&&typeof window?.fetch=="function";v=Object.assign({servicePath:w,port:I,clientConfig:_,fallback:T},v),w!==O.servicePath&&!("scopes"in v)&&(v.scopes=O.scopes),this._opts=v,this.auth=h.auth,w===O.servicePath&&(this.auth.defaultScopes=O.scopes);const C=[`gax/${l}`,`gapic/${l}`];typeof process<"u"&&"versions"in process?C.push(`gl-node/${process.versions.node}`):C.push(`gl-web/${l}`),v.fallback?v.fallback==="rest"&&C.push(`rest/${h.grpcVersion}`):C.push(`grpc/${h.grpcVersion}`),v.libName&&v.libVersion&&C.push(`${v.libName}/${v.libVersion}`),this._protos=h.loadProtoJSON(m),this.descriptors.page={listLocations:new g.PageDescriptor("pageToken","nextPageToken","locations")},this._defaults=h.constructSettings("google.cloud.location.Locations",c,v.clientConfig||{},{"x-goog-api-client":C.join(" ")}),this.innerApiCalls={},this.warn=t.warn}initialize(){if(this.locationsStub)return this.locationsStub;this.locationsStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.cloud.location.Locations"):this._protos.google.cloud.location.Locations,this._opts,this._providedCustomServicePath);const h=["listLocations","getLocation"];for(const v of h){const b=this.locationsStub.then(w=>(...I)=>this._terminated?Promise.reject("The client has already been closed."):w[v].apply(w,I),w=>()=>{throw w}),y=this.descriptors.page[v]||void 0,O=(0,a.createApiCall)(b,this._defaults[v],y);this.innerApiCalls[v]=O}return this.locationsStub}static get servicePath(){return"cloud.googleapis.com"}static get apiEndpoint(){return"cloud.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform"]}getProjectId(h){if(h){this.auth.getProjectId(h);return}return this.auth.getProjectId()}getLocation(h,v,b){h=h||{};let y;return typeof v=="function"&&b===void 0?(b=v,y={}):y=v,y=y||{},y.otherArgs=y.otherArgs||{},y.otherArgs.headers=y.otherArgs.headers||{},y.otherArgs.headers["x-goog-request-params"]=p.fromParams({name:h.name||""}),this.initialize(),this.innerApiCalls.getLocation(h,y,b)}listLocations(h,v,b){h=h||{};let y;return typeof v=="function"&&b===void 0?(b=v,y={}):y=v,y=y||{},y.otherArgs=y.otherArgs||{},y.otherArgs.headers=y.otherArgs.headers||{},y.otherArgs.headers["x-goog-request-params"]=p.fromParams({name:h.name||""}),this.initialize(),this.innerApiCalls.listLocations(h,y,b)}listLocationsAsync(h,v){h=h||{},v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=p.fromParams({name:h.name||""}),v=v||{};const b=new e.CallSettings(v);return this.initialize(),this.descriptors.page.listLocations.asyncIterate(this.innerApiCalls.listLocations,h,b)}close(){return this.initialize(),this._terminated?Promise.resolve():this.locationsStub.then(h=>{this._terminated=!0,h.close()})}}return locationService.LocationsClient=o,locationService}var hasRequiredFallback;function requireFallback(){return hasRequiredFallback||(hasRequiredFallback=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=t.GoogleError=t.operation=t.Operation=t.warn=t.protobufMinimal=t.protobuf=t.LocationProtos=t.IamProtos=t.operationsProtos=t.GrpcClient=t.defaultToObjectOptions=t.makeUUID=t.LocationsClient=t.IamClient=t.OperationsClient=t.StreamType=t.StreamDescriptor=t.PageDescriptor=t.LongrunningDescriptor=t.BundleDescriptor=t.version=t.createDefaultBackoffSettings=t.RetryOptions=t.constructSettings=t.CallSettings=t.routingHeader=t.PathTemplate=void 0,t.lro=W,t.createApiCall=K;const a=requireObject_hash(),p=requireProtobufjs();t.protobuf=p;const g=requireGax(),m=requireRoutingHeader();t.routingHeader=m;const c=requireStatus(),l=requireSrc$b(),o=requireOperationsClient(),s=requireCreateApiCall(),h=requireFallbackRest(),v=requireFeatureDetection(),b=requireFallbackServiceStub(),y=requireStreaming(),O=requireUtil$2(),w=requireIam_service();t.IamProtos=w;const I=requireLocations();t.LocationProtos=I;const _=requireOperations();t.operationsProtos=_;var T=requirePathTemplate();Object.defineProperty(t,"PathTemplate",{enumerable:!0,get:function(){return T.PathTemplate}});var C=requireGax();Object.defineProperty(t,"CallSettings",{enumerable:!0,get:function(){return C.CallSettings}}),Object.defineProperty(t,"constructSettings",{enumerable:!0,get:function(){return C.constructSettings}}),Object.defineProperty(t,"RetryOptions",{enumerable:!0,get:function(){return C.RetryOptions}}),Object.defineProperty(t,"createDefaultBackoffSettings",{enumerable:!0,get:function(){return C.createDefaultBackoffSettings}}),t.version=require$$17.version+"-fallback";var N=requireDescriptor();Object.defineProperty(t,"BundleDescriptor",{enumerable:!0,get:function(){return N.BundleDescriptor}}),Object.defineProperty(t,"LongrunningDescriptor",{enumerable:!0,get:function(){return N.LongrunningDescriptor}}),Object.defineProperty(t,"PageDescriptor",{enumerable:!0,get:function(){return N.PageDescriptor}}),Object.defineProperty(t,"StreamDescriptor",{enumerable:!0,get:function(){return N.StreamDescriptor}});var L=requireStreaming();Object.defineProperty(t,"StreamType",{enumerable:!0,get:function(){return L.StreamType}});var D=requireOperationsClient();Object.defineProperty(t,"OperationsClient",{enumerable:!0,get:function(){return D.OperationsClient}});var j=requireIamService();Object.defineProperty(t,"IamClient",{enumerable:!0,get:function(){return j.IamClient}});var k=requireLocationService();Object.defineProperty(t,"LocationsClient",{enumerable:!0,get:function(){return k.LocationsClient}});var V=requireUtil$2();Object.defineProperty(t,"makeUUID",{enumerable:!0,get:function(){return V.makeUUID}}),t.defaultToObjectOptions={keepCase:!1,longs:String,enums:String,defaults:!0,oneofs:!0};const G="x-goog-api-client";class J{static clearProtoCache(){J.protoCache.clear()}constructor(ee={}){var se;if((0,v.isNodeJS)())this.auth=ee.auth||new l.GoogleAuth(ee);else{if(!ee.auth)throw new Error(JSON.stringify(ee)+"You need to pass auth instance to use gRPC-fallback client in browser or other non-Node.js environments. Use OAuth2Client from google-auth-library.");this.auth=ee.auth}this.fallback=!!ee.fallback,this.grpcVersion=require$$17.version,this.httpRules=ee.httpRules,this.numericEnums=(se=ee.numericEnums)!==null&&se!==void 0?se:!1}loadProto(ee){return p.Root.fromJSON(ee)}loadProtoJSON(ee,se=!1){const de=a(JSON.stringify(ee)).toString(),he=J.protoCache.get(de);if(he&&!se)return he;const ge=p.Root.fromJSON(ee);return J.protoCache.set(de,ge),ge}static getServiceMethods(ee){const se={};for(const[de,he]of Object.entries(ee.methods)){const ge=(0,O.toLowerCamelCase)(de);se[ge]=he}return se}constructSettings(ee,se,de,he){function ge(me,Oe){const fe={};he||(he={});for(const Ee in he)fe[Ee]=Array.isArray(he[Ee])?he[Ee]:[he[Ee]];const _e=[];if(fe[G]&&fe[G][0]&&_e.push(...fe[G][0].split(" ")),_e.push(`grpc-web/${t.version}`),fe[G]=[_e.join(" ")],!Oe)return fe;for(const Ee in Oe)if(Ee.toLowerCase()!==G){const z=Oe[Ee];if(Array.isArray(z))if(fe[Ee]===void 0)fe[Ee]=z;else if(Array.isArray(fe[Ee]))fe[Ee].push(...z);else throw new Error(`Can not add value ${z} to the call metadata.`);else fe[Ee]=[z]}return fe}return g.constructSettings(ee,se,de,c.Status,{metadataBuilder:ge})}async createStub(ee,se,de){if(this.authClient||(this.auth&&"getClient"in this.auth?this.authClient=await this.auth.getClient():this.auth&&"getRequestHeaders"in this.auth&&(this.authClient=this.auth)),!this.authClient)throw new Error("No authentication was provided");if(se.universeDomain||(se.universeDomain="googleapis.com"),se.universeDomain){const d=this.authClient.universeDomain;if(d&&se.universeDomain!==d)throw new Error(`The configured universe domain (${se.universeDomain}) does not match the universe domain found in the credentials (${d}). If you haven't configured the universe domain explicitly, googleapis.com is the default.`)}ee.resolveAll();const he=J.getServiceMethods(ee),ge=se.protocol||"https";let me=se.servicePath;if(!me&&ee.options&&ee.options["(google.api.default_host)"]&&(me=ee.options["(google.api.default_host)"]),!me)throw new Error(`Cannot determine service API path for service ${ee.name}.`);let Oe;const fe=me.match(/^(.*):(\d+)$/);fe&&(me=fe[1],Oe=parseInt(fe[2])),se.port?Oe=se.port:Oe||(Oe=443);const _e=h.encodeRequest,Ee=h.decodeResponse;return(0,b.generateServiceStub)(he,ge,me,Oe,this.authClient,_e,Ee,this.numericEnums)}static createByteLengthFunction(ee){return g.createByteLengthFunction(ee)}}t.GrpcClient=J,J.protoCache=new Map;function W(le){le=Object.assign({scopes:[]},le),le.protoJson&&(le=Object.assign(le,{fallback:!0}));const ee=new J(le);return new o.OperationsClientBuilder(ee,le.protoJson)}function K(le,ee,se,de){return se&&"streaming"in se&&se.type!==y.StreamType.SERVER_STREAMING?()=>{throw new Error("The REST transport currently does not support client-streaming or bidi-stream calls.")}:se&&"streaming"in se&&!(0,v.isNodeJS)()?()=>{throw new Error("Server streaming over the REST transport is only supported in Node.js.")}:(0,s.createApiCall)(le,ee,se)}t.protobufMinimal=requireMinimal();var X=requireWarnings();Object.defineProperty(t,"warn",{enumerable:!0,get:function(){return X.warn}});var Y=requireLongrunning();Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return Y.Operation}}),Object.defineProperty(t,"operation",{enumerable:!0,get:function(){return Y.operation}});var te=requireGoogleError();Object.defineProperty(t,"GoogleError",{enumerable:!0,get:function(){return te.GoogleError}});const oe=e.exports;t.fallback=oe})(fallback,fallback.exports)),fallback.exports}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$3;hasRequiredUtil=1;var e={};Object.defineProperty(util$3,"__esModule",{value:!0}),util$3.Deferred=void 0,util$3.autoId=g,util$3.requestTag=m,util$3.isObject=c,util$3.isPlainObject=l,util$3.isEmpty=o,util$3.isFunction=s,util$3.isPermanentRpcError=h,util$3.getRetryCodes=y,util$3.getTotalTimeout=O,util$3.getRetryParams=w,util$3.silencePromise=I,util$3.wrapError=_,util$3.tryGetPreferRestEnvironmentVariable=T,util$3.mapToArray=C,util$3.isArrayEqual=N,util$3.isPrimitiveArrayEqual=L;const t=require$$1$3,a=require$$19;class p{constructor(){this.resolve=()=>{},this.reject=()=>{},this.promise=new Promise((j,k)=>{this.resolve=j,this.reject=k})}}util$3.Deferred=p;function g(){const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let j="";for(;j.length<20;)(0,t.randomBytes)(40).forEach(V=>{j.length<20&&V<=247&&(j+=D.charAt(V%62))});return j}function m(){return g().substr(0,5)}function c(D){return Object.prototype.toString.call(D)==="[object Object]"}function l(D){return c(D)&&(Object.getPrototypeOf(D)===Object.prototype||Object.getPrototypeOf(D)===null||D.constructor.name==="Object")}function o(D){return Object.keys(D).length===0}function s(D){return typeof D=="function"}function h(D,j){return D.code!==void 0?y(j).indexOf(D.code)===-1:!1}let v;function b(D){return v||(v=requireFallback().constructSettings("google.firestore.v1.Firestore",a,{},requireStatus().Status)),v[D]}function y(D){var j,k,V;return(V=(k=(j=b(D))===null||j===void 0?void 0:j.retry)===null||k===void 0?void 0:k.retryCodes)!==null&&V!==void 0?V:[]}function O(D){var j,k,V,G;return(G=(V=(k=(j=b(D))===null||j===void 0?void 0:j.retry)===null||k===void 0?void 0:k.backoffSettings)===null||V===void 0?void 0:V.totalTimeoutMillis)!==null&&G!==void 0?G:0}function w(D){var j,k,V;return(V=(k=(j=b(D))===null||j===void 0?void 0:j.retry)===null||k===void 0?void 0:k.backoffSettings)!==null&&V!==void 0?V:requireFallback().createDefaultBackoffSettings()}function I(D){return D.then(()=>{},()=>{})}function _(D,j){return D.stack+=`
Caused by: `+j,D}function T(){var D;const j=(D=e.FIRESTORE_PREFER_REST)===null||D===void 0?void 0:D.trim().toLowerCase();if(j!==void 0){if(j==="1"||j==="true")return!0;if(j==="0"||j==="false")return!1;console.warn(`An unsupported value was specified for the environment variable FIRESTORE_PREFER_REST. Value ${j} is unsupported.`);return}}function C(D,j){const k=[];for(const V in D)Object.prototype.hasOwnProperty.call(D,V)&&k.push(j(D[V],V,D));return k}function N(D,j){if(D.length!==j.length)return!1;for(let k=0;k<D.length;++k)if(!D[k].isEqual(j[k]))return!1;return!0}function L(D,j){if(D.length!==j.length)return!1;for(let k=0;k<D.length;++k)if(D[k]!==j[k])return!1;return!0}return util$3}var timestamp={},hasRequiredTimestamp;function requireTimestamp(){if(hasRequiredTimestamp)return timestamp;hasRequiredTimestamp=1;Object.defineProperty(timestamp,"__esModule",{value:!0}),timestamp.Timestamp=void 0;const e=requireValidate();const t=1e6;const a=-62135596800;const p=253402300799;class g{static now(){return g.fromMillis(Date.now())}static fromDate(c){return g.fromMillis(c.getTime())}static fromMillis(c){const l=Math.floor(c/1e3),o=Math.floor((c-l*1e3)*t);return new g(l,o)}static fromProto(c){return new g(Number(c.seconds||0),c.nanos||0)}constructor(c,l){(0,e.validateInteger)("seconds",c,{minValue:a,maxValue:p}),(0,e.validateInteger)("nanoseconds",l,{minValue:0,maxValue:999999999}),this._seconds=c,this._nanoseconds=l}get seconds(){return this._seconds}get nanoseconds(){return this._nanoseconds}toDate(){return new Date(this._seconds*1e3+Math.round(this._nanoseconds/t))}toMillis(){return this._seconds*1e3+Math.floor(this._nanoseconds/t)}isEqual(c){return this===c||c instanceof g&&this._seconds===c.seconds&&this._nanoseconds===c.nanoseconds}toProto(){const c={};return this.seconds&&(c.seconds=this.seconds.toString()),this.nanoseconds&&(c.nanos=this.nanoseconds),{timestampValue:c}}valueOf(){const c=this.seconds-a,l=String(c).padStart(12,"0"),o=String(this.nanoseconds).padStart(9,"0");return l+"."+o}}return timestamp.Timestamp=g,timestamp}var hasRequiredValidate;function requireValidate(){if(hasRequiredValidate)return validate$1;hasRequiredValidate=1;Object.defineProperty(validate$1,"__esModule",{value:!0}),validate$1.customObjectMessage=p,validate$1.validateFunction=g,validate$1.validateObject=m,validate$1.validateString=c,validate$1.validateHost=l,validate$1.validateBoolean=o,validate$1.validateNumber=s,validate$1.validateInteger=h,validate$1.validateTimestamp=v,validate$1.invalidArgumentMessage=b,validate$1.validateOptional=y,validate$1.validateMinNumberOfArguments=I,validate$1.validateMaxNumberOfArguments=_,validate$1.validateEnumValue=T;const e=require$$1$3,t=requireUtil(),a=requireTimestamp();function p(C,N,L){const D=L?` (found in field "${L}")`:"";if((0,t.isObject)(N)){const j=N.constructor.name;switch(j){case"DocumentReference":case"FieldPath":case"FieldValue":case"GeoPoint":case"Timestamp":return`${b(C,"Firestore document")} Detected an object of type "${j}" that doesn't match the expected instance${D}. Please ensure that the Firestore types you are using are from the same NPM package.)`;case"Object":return`${b(C,"Firestore document")} Invalid use of type "${typeof N}" as a Firestore argument${D}.`;default:return`${b(C,"Firestore document")} Couldn't serialize object of type "${j}"${D}. Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).`}}else return`${b(C,"Firestore document")} Input is not a plain JavaScript object${D}.`}function g(C,N,L){if(!y(N,L)&&!(0,t.isFunction)(N))throw new Error(b(C,"function"))}function m(C,N,L){if(!y(N,L)&&!(0,t.isObject)(N))throw new Error(b(C,"object"))}function c(C,N,L){if(!y(N,L)&&typeof N!="string")throw new Error(b(C,"string"))}function l(C,N,L){if(!y(N,L)){c(C,N);const D=`http://${N}/`;let j;try{j=new e.URL(D)}catch{throw new Error(b(C,"host"))}if(j.search!==""||j.pathname!=="/"||j.username!=="")throw new Error(b(C,"host"))}}function o(C,N,L){if(!y(N,L)&&typeof N!="boolean")throw new Error(b(C,"boolean"))}function s(C,N,L){const D=L!==void 0&&L.minValue!==void 0?L.minValue:-1/0,j=L!==void 0&&L.maxValue!==void 0?L.maxValue:1/0;if(!y(N,L)){if(typeof N!="number"||isNaN(N))throw new Error(b(C,"number"));if(N<D||N>j)throw new Error(`${w(C)} must be within [${D}, ${j}] inclusive, but was: ${N}`)}}function h(C,N,L){const D=L!==void 0&&L.minValue!==void 0?L.minValue:-1/0,j=L!==void 0&&L.maxValue!==void 0?L.maxValue:1/0;if(!y(N,L)){if(typeof N!="number"||isNaN(N)||N%1!==0)throw new Error(b(C,"integer"));if(N<D||N>j)throw new Error(`${w(C)} must be within [${D}, ${j}] inclusive, but was: ${N}`)}}function v(C,N,L){if(!y(N,L)&&!(N instanceof a.Timestamp))throw new Error(b(C,"Timestamp"))}function b(C,N){return`${w(C)} is not a valid ${N}.`}function y(C,N){return C===void 0&&N!==void 0&&N.optional===!0}function O(C,N){return`${C} ${N}`+(C===1?"":"s")}function w(C){return typeof C=="string"?`Value for argument "${C}"`:`Element at index ${C}`}function I(C,N,L){if(N.length<L)throw new Error(`Function "${C}()" requires at least ${O(L,"argument")}.`)}function _(C,N,L){if(N.length>L)throw new Error(`Function "${C}()" accepts at most ${O(L,"argument")}.`)}function T(C,N,L,D){if(!y(N,D)){const j=[];for(const k of L){if(k===N)return;j.push(k)}throw new Error(`${w(C)} is invalid. Acceptable values are: ${j.join(", ")}`)}}return validate$1}var hasRequiredLogger;function requireLogger(){if(hasRequiredLogger)return logger;hasRequiredLogger=1;Object.defineProperty(logger,"__esModule",{value:!0}),logger.logger=g,logger.setLogFunction=m,logger.setLibVersion=c;const e=require$$1$3,t=requireValidate();let a;let p=null;function g(l,o,s,...h){if(o=o||"#####",p){const v=e.format(s,...h),b=new Date().toISOString();p(`Firestore (${a}) ${b} ${o} [${l}]: `+v)}}function m(l){l!==null&&(0,t.validateFunction)("logger",l),p=l}function c(l){a=l}return logger}var hasRequiredBackoff;function requireBackoff(){return hasRequiredBackoff||(hasRequiredBackoff=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ExponentialBackoff=e.delayExecution=e.MAX_RETRY_ATTEMPTS=e.DEFAULT_BACKOFF_FACTOR=e.DEFAULT_BACKOFF_MAX_DELAY_MS=e.DEFAULT_BACKOFF_INITIAL_DELAY_MS=void 0,e.setTimeoutHandler=p;const t=requireLogger();e.DEFAULT_BACKOFF_INITIAL_DELAY_MS=1e3;e.DEFAULT_BACKOFF_MAX_DELAY_MS=6e4;e.DEFAULT_BACKOFF_FACTOR=1.5;const a=1;e.MAX_RETRY_ATTEMPTS=10;e.delayExecution=setTimeout;function p(m){e.delayExecution=(c,l)=>(m(c,l),{hasRef:()=>{throw new Error("For tests only. Not Implemented")},ref:()=>{throw new Error("For tests only. Not Implemented")},refresh:()=>{throw new Error("For tests only. Not Implemented")},unref:()=>{throw new Error("For tests only. Not Implemented")},[Symbol.toPrimitive]:()=>{throw new Error("For tests only. Not Implemented")}})}class g{constructor(c={}){this._retryCount=0,this.currentBaseMs=0,this.awaitingBackoffCompletion=!1,this.initialDelayMs=c.initialDelayMs!==void 0?c.initialDelayMs:e.DEFAULT_BACKOFF_INITIAL_DELAY_MS,this.backoffFactor=c.backoffFactor!==void 0?c.backoffFactor:e.DEFAULT_BACKOFF_FACTOR,this.maxDelayMs=c.maxDelayMs!==void 0?c.maxDelayMs:e.DEFAULT_BACKOFF_MAX_DELAY_MS,this.jitterFactor=c.jitterFactor!==void 0?c.jitterFactor:a}reset(){this._retryCount=0,this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndWait(){if(this.awaitingBackoffCompletion)return Promise.reject(new Error("A backoff operation is already in progress."));if(this.retryCount>e.MAX_RETRY_ATTEMPTS)return Promise.reject(new Error("Exceeded maximum number of retries allowed."));const c=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&(0,t.logger)("ExponentialBackoff.backoffAndWait",null,`Backing off for ${c} ms (base delay: ${this.currentBaseMs} ms)`),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs=Math.max(this.currentBaseMs,this.initialDelayMs),this.currentBaseMs=Math.min(this.currentBaseMs,this.maxDelayMs),this._retryCount+=1,new Promise(l=>{this.awaitingBackoffCompletion=!0,(0,e.delayExecution)(()=>{this.awaitingBackoffCompletion=!1,l()},c)})}get retryCount(){return this._retryCount}jitterDelayMs(){return(Math.random()-.5)*this.jitterFactor*this.currentBaseMs}}e.ExponentialBackoff=g})(backoff)),backoff}var bulkWriter={},rateLimiter={},hasRequiredRateLimiter;function requireRateLimiter(){if(hasRequiredRateLimiter)return rateLimiter;hasRequiredRateLimiter=1,Object.defineProperty(rateLimiter,"__esModule",{value:!0}),rateLimiter.RateLimiter=void 0;const e=require$$1$3,t=requireLogger();class a{constructor(g,m,c,l,o=Date.now()){this.initialCapacity=g,this.multiplier=m,this.multiplierMillis=c,this.maximumCapacity=l,this.startTimeMillis=o,this.availableTokens=g,this.lastRefillTimeMillis=o,this.previousCapacity=g}tryMakeRequest(g,m=Date.now()){return this.refillTokens(m),g<=this.availableTokens?(this.availableTokens-=g,!0):!1}getNextRequestDelayMs(g,m=Date.now()){if(this.refillTokens(m),g<this.availableTokens)return 0;const c=this.calculateCapacity(m);if(c<g)return-1;const l=g-this.availableTokens;return Math.ceil(l*1e3/c)}refillTokens(g){if(g>=this.lastRefillTimeMillis){const m=g-this.lastRefillTimeMillis,c=this.calculateCapacity(g),l=Math.floor(m*c/1e3);l>0&&(this.availableTokens=Math.min(c,this.availableTokens+l),this.lastRefillTimeMillis=g)}else throw new Error("Request time should not be before the last token refill time.")}calculateCapacity(g){e(g>=this.startTimeMillis,"startTime cannot be after currentTime");const m=g-this.startTimeMillis,c=Math.min(Math.floor(Math.pow(this.multiplier,Math.floor(m/this.multiplierMillis))*this.initialCapacity),this.maximumCapacity);return c!==this.previousCapacity&&(0,t.logger)("RateLimiter.calculateCapacity",null,`New request capacity: ${c} operations per second.`),this.previousCapacity=c,c}}return rateLimiter.RateLimiter=a,rateLimiter}var writeBatch={},document$1={},fastDeepEqual,hasRequiredFastDeepEqual;function requireFastDeepEqual(){return hasRequiredFastDeepEqual||(hasRequiredFastDeepEqual=1,fastDeepEqual=function e(t,a){if(t===a)return!0;if(t&&a&&typeof t=="object"&&typeof a=="object"){if(t.constructor!==a.constructor)return!1;var p,g,m;if(Array.isArray(t)){if(p=t.length,p!=a.length)return!1;for(g=p;g--!==0;)if(!e(t[g],a[g]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if(m=Object.keys(t),p=m.length,p!==Object.keys(a).length)return!1;for(g=p;g--!==0;)if(!Object.prototype.hasOwnProperty.call(a,m[g]))return!1;for(g=p;g--!==0;){var c=m[g];if(!e(t[c],a[c]))return!1}return!0}return t!==t&&a!==a}),fastDeepEqual}var fieldValue={},serializer={},convert={},mapType={},hasRequiredMapType;function requireMapType(){if(hasRequiredMapType)return mapType;hasRequiredMapType=1;return Object.defineProperty(mapType,"__esModule",{value:!0}),mapType.VECTOR_MAP_VECTORS_KEY=mapType.RESERVED_MAP_KEY_VECTOR_VALUE=mapType.RESERVED_MAP_KEY=void 0,mapType.RESERVED_MAP_KEY="__type__",mapType.RESERVED_MAP_KEY_VECTOR_VALUE="__vector__",mapType.VECTOR_MAP_VECTORS_KEY="value",mapType}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1;Object.defineProperty(convert,"__esModule",{value:!0}),convert.timestampFromJson=a,convert.detectValueType=g,convert.detectGoogleProtobufValueType=m,convert.valueFromJson=c,convert.fieldsFromJson=l;const e=requireValidate(),t=requireMapType();function a(o,s){let h={};if(typeof o=="string"){const v=new Date(o),b=Math.floor(v.getTime()/1e3);let y=0;if(o.length>20){const O=o.substring(20,o.length-1),w=9-O.length;y=Number(O)*Math.pow(10,w)}if(isNaN(b)||isNaN(y))throw s=s||"timestampValue",new Error(`Specify a valid ISO 8601 timestamp for "${s}".`);h={seconds:b||void 0,nanos:y||void 0}}else o!==void 0&&((0,e.validateObject)("timestampValue",o),h={seconds:o.seconds||void 0,nanos:o.nanos||void 0});return h}function p(o){return typeof o=="string"?Buffer.from(o,"base64"):o}function g(o){var s;let h;if(o.valueType)h=o.valueType;else{const v=[];if(o.stringValue!==void 0&&v.push("stringValue"),o.booleanValue!==void 0&&v.push("booleanValue"),o.integerValue!==void 0&&v.push("integerValue"),o.doubleValue!==void 0&&v.push("doubleValue"),o.timestampValue!==void 0&&v.push("timestampValue"),o.referenceValue!==void 0&&v.push("referenceValue"),o.arrayValue!==void 0&&v.push("arrayValue"),o.nullValue!==void 0&&v.push("nullValue"),o.mapValue!==void 0&&v.push("mapValue"),o.geoPointValue!==void 0&&v.push("geoPointValue"),o.bytesValue!==void 0&&v.push("bytesValue"),v.length!==1)throw new Error(`Unable to infer type value from '${JSON.stringify(o)}'.`);h=v[0]}if(h==="mapValue"){const v=(s=o.mapValue)===null||s===void 0?void 0:s.fields;v&&Object.keys(v).indexOf(t.RESERVED_MAP_KEY)!==-1&&g(v[t.RESERVED_MAP_KEY])==="stringValue"&&v[t.RESERVED_MAP_KEY].stringValue===t.RESERVED_MAP_KEY_VECTOR_VALUE&&(h="vectorValue")}return h}function m(o){const s=[];if(o.nullValue!==void 0&&s.push("nullValue"),o.numberValue!==void 0&&s.push("numberValue"),o.stringValue!==void 0&&s.push("stringValue"),o.boolValue!==void 0&&s.push("boolValue"),o.structValue!==void 0&&s.push("structValue"),o.listValue!==void 0&&s.push("listValue"),s.length!==1)throw new Error(`Unable to infer type value from '${JSON.stringify(o)}'.`);return s[0]}function c(o){switch(g(o)){case"timestampValue":return{timestampValue:a(o.timestampValue)};case"bytesValue":return{bytesValue:p(o.bytesValue)};case"doubleValue":return{doubleValue:Number(o.doubleValue)};case"arrayValue":{const h=[];if(Array.isArray(o.arrayValue.values))for(const v of o.arrayValue.values)h.push(c(v));return{arrayValue:{values:h}}}case"mapValue":case"vectorValue":{const h={},v=o.mapValue.fields;if(v)for(const b of Object.keys(v))h[b]=c(o.mapValue.fields[b]);return{mapValue:{fields:h}}}default:return o}}function l(o){const s={};for(const h of Object.keys(o))s[h]=c(o[h]);return s}return convert}var geoPoint={},hasRequiredGeoPoint;function requireGeoPoint(){if(hasRequiredGeoPoint)return geoPoint;hasRequiredGeoPoint=1;Object.defineProperty(geoPoint,"__esModule",{value:!0}),geoPoint.GeoPoint=void 0;const e=requireValidate();class t{constructor(p,g){(0,e.validateNumber)("latitude",p,{minValue:-90,maxValue:90}),(0,e.validateNumber)("longitude",g,{minValue:-180,maxValue:180}),this._latitude=p,this._longitude=g}get latitude(){return this._latitude}get longitude(){return this._longitude}isEqual(p){return this===p||p instanceof t&&this.latitude===p.latitude&&this.longitude===p.longitude}toProto(){return{geoPointValue:{latitude:this.latitude,longitude:this.longitude}}}static fromProto(p){return new t(p.latitude||0,p.longitude||0)}}return geoPoint.GeoPoint=t,geoPoint}var path={},order={},hasRequiredOrder;function requireOrder(){if(hasRequiredOrder)return order;hasRequiredOrder=1;Object.defineProperty(order,"__esModule",{value:!0}),order.primitiveComparator=g,order.compareArrays=v,order.compareUtf8Strings=O,order.compare=T;const e=requireConvert(),t=requirePath();var a;(function(C){C[C.NULL=0]="NULL",C[C.BOOLEAN=1]="BOOLEAN",C[C.NUMBER=2]="NUMBER",C[C.TIMESTAMP=3]="TIMESTAMP",C[C.STRING=4]="STRING",C[C.BLOB=5]="BLOB",C[C.REF=6]="REF",C[C.GEO_POINT=7]="GEO_POINT",C[C.ARRAY=8]="ARRAY",C[C.VECTOR=9]="VECTOR",C[C.OBJECT=10]="OBJECT"})(a||(a={}));function p(C){const N=(0,e.detectValueType)(C);switch(N){case"nullValue":return a.NULL;case"integerValue":return a.NUMBER;case"doubleValue":return a.NUMBER;case"stringValue":return a.STRING;case"booleanValue":return a.BOOLEAN;case"arrayValue":return a.ARRAY;case"timestampValue":return a.TIMESTAMP;case"geoPointValue":return a.GEO_POINT;case"bytesValue":return a.BLOB;case"referenceValue":return a.REF;case"mapValue":return a.OBJECT;case"vectorValue":return a.VECTOR;default:throw new Error("Unexpected value type: "+N)}}function g(C,N){return C<N?-1:C>N?1:0}function m(C,N){return C<N?-1:C>N?1:C===N?0:isNaN(C)?isNaN(N)?0:-1:1}function c(C,N){let L,D;return C.integerValue!==void 0?L=Number(C.integerValue):L=Number(C.doubleValue),N.integerValue!==void 0?D=Number(N.integerValue):D=Number(N.doubleValue),m(L,D)}function l(C,N){const L=g(C.seconds||0,N.seconds||0);return L!==0?L:g(C.nanos||0,N.nanos||0)}function o(C,N){if(!(C instanceof Buffer)||!(N instanceof Buffer))throw new Error("Blobs can only be compared if they are Buffers.");return Buffer.compare(C,N)}function s(C,N){const L=t.QualifiedResourcePath.fromSlashSeparatedString(C.referenceValue),D=t.QualifiedResourcePath.fromSlashSeparatedString(N.referenceValue);return L.compareTo(D)}function h(C,N){return g(C.latitude||0,N.latitude||0)||g(C.longitude||0,N.longitude||0)}function v(C,N){for(let L=0;L<C.length&&L<N.length;L++){const D=T(C[L],N[L]);if(D!==0)return D}return g(C.length,N.length)}function b(C,N){const L=Object.keys(C),D=Object.keys(N);L.sort(),D.sort();for(let j=0;j<L.length&&j<D.length;j++){const k=O(L[j],D[j]);if(k!==0)return k;const V=L[j],G=T(C[V],N[V]);if(G!==0)return G}return g(L.length,D.length)}function y(C,N){var L,D,j,k,V,G;const J=(j=(D=(L=C?.value)===null||L===void 0?void 0:L.arrayValue)===null||D===void 0?void 0:D.values)!==null&&j!==void 0?j:[],W=(G=(V=(k=N?.value)===null||k===void 0?void 0:k.arrayValue)===null||V===void 0?void 0:V.values)!==null&&G!==void 0?G:[],K=g(J.length,W.length);return K!==0?K:v(J,W)}function O(C,N){const L=Math.min(C.length,N.length);for(let D=0;D<L;D++){const j=C.charAt(D),k=N.charAt(D);if(j!==k)return _(j)===_(k)?g(j,k):_(j)?1:-1}return g(C.length,N.length)}const w=55296,I=57343;function _(C){const N=C.charCodeAt(0);return N>=w&&N<=I}function T(C,N){const L=p(C),D=p(N),j=g(L,D);if(j!==0)return j;switch(L){case a.NULL:return 0;case a.BOOLEAN:return g(C.booleanValue,N.booleanValue);case a.STRING:return O(C.stringValue,N.stringValue);case a.NUMBER:return c(C,N);case a.TIMESTAMP:return l(C.timestampValue,N.timestampValue);case a.BLOB:return o(C.bytesValue,N.bytesValue);case a.REF:return s(C,N);case a.GEO_POINT:return h(C.geoPointValue,N.geoPointValue);case a.ARRAY:return v(C.arrayValue.values||[],N.arrayValue.values||[]);case a.OBJECT:return b(C.mapValue.fields||{},N.mapValue.fields||{});case a.VECTOR:return y(C.mapValue.fields||{},N.mapValue.fields||{});default:throw new Error(`Encountered unknown type order: ${L}`)}}return order}var hasRequiredPath;function requirePath(){if(hasRequiredPath)return path;hasRequiredPath=1;Object.defineProperty(path,"__esModule",{value:!0}),path.FieldPath=path.QualifiedResourcePath=path.ResourcePath=path.DEFAULT_DATABASE_ID=void 0,path.validateResourcePath=s,path.validateFieldPath=v;const e=requireOrder(),t=requireUtil(),a=requireValidate();path.DEFAULT_DATABASE_ID="(default)";const p=/^projects\/([^/]*)\/databases\/([^/]*)(?:\/documents\/)?([\s\S]*)$/;const g=/^[_a-zA-Z][_a-zA-Z0-9]*$/;const m=/^[^*~/[\]]+$/;class c{constructor(y){this.segments=y}get size(){return this.segments.length}append(y){return y instanceof c?this.construct(this.segments.concat(y.segments)):this.construct(this.segments.concat(this.split(y)))}parent(){return this.segments.length===0?null:this.construct(this.segments.slice(0,this.segments.length-1))}isPrefixOf(y){if(y.segments.length<this.segments.length)return!1;for(let O=0;O<this.segments.length;O++)if(this.segments[O]!==y.segments[O])return!1;return!0}compareTo(y){const O=Math.min(this.segments.length,y.segments.length);for(let w=0;w<O;w++){const I=this.compareSegments(this.segments[w],y.segments[w]);if(I!==0)return I}return(0,e.primitiveComparator)(this.segments.length,y.segments.length)}compareSegments(y,O){const w=this.isNumericId(y),I=this.isNumericId(O);return w&&!I?-1:!w&&I?1:w&&I?this.compareNumbers(this.extractNumericId(y),this.extractNumericId(O)):(0,e.compareUtf8Strings)(y,O)}isNumericId(y){return y.startsWith("__id")&&y.endsWith("__")}extractNumericId(y){return BigInt(y.substring(4,y.length-2))}compareNumbers(y,O){return y<O?-1:y>O?1:0}toArray(){return this.segments.slice()}popLast(){return this.segments.pop(),this.construct(this.segments)}isEqual(y){return this===y||this.compareTo(y)===0}}class l extends c{constructor(...y){super(y)}get isDocument(){return this.segments.length>0&&this.segments.length%2===0}get isCollection(){return this.segments.length%2===1}get id(){return this.segments.length>0?this.segments[this.segments.length-1]:null}get relativeName(){return this.segments.join("/")}construct(y){return new l(...y)}split(y){return y.split("/").filter(O=>O.length>0)}toQualifiedResourcePath(y,O){return new o(y,O,...this.segments)}}path.ResourcePath=l,l.EMPTY=new l;class o extends l{constructor(y,O,...w){super(...w),this.projectId=y,this.databaseId=O}get relativeName(){return this.segments.join("/")}static fromSlashSeparatedString(y){const O=p.exec(y);if(O){const w=O[1],I=O[2],_=O[3];return new o(w,I).append(_)}throw new Error(`Resource name '${y}' is not valid.`)}append(y){return super.append(y)}parent(){return super.parent()}get formattedName(){return["projects",this.projectId,"databases",this.databaseId,"documents",...this.segments].join("/")}construct(y){return new o(this.projectId,this.databaseId,...y)}toQualifiedResourcePath(){return this}compareTo(y){if(y instanceof o){if(this.projectId<y.projectId)return-1;if(this.projectId>y.projectId)return 1;if(this.databaseId<y.databaseId)return-1;if(this.databaseId>y.databaseId)return 1}return super.compareTo(y)}toProto(){return{referenceValue:this.formattedName}}}path.QualifiedResourcePath=o;function s(b,y){if(typeof y!="string"||y==="")throw new Error(`${(0,a.invalidArgumentMessage)(b,"resource path")} Path must be a non-empty string.`);if(y.indexOf("//")>=0)throw new Error(`${(0,a.invalidArgumentMessage)(b,"resource path")} Paths must not contain //.`)}class h extends c{constructor(...y){if(Array.isArray(y[0]))throw new Error("The FieldPath constructor no longer supports an array as its first argument. Please unpack your array and call FieldPath() with individual arguments.");(0,a.validateMinNumberOfArguments)("FieldPath",y,1);for(let O=0;O<y.length;++O)if((0,a.validateString)(O,y[O]),y[O].length===0)throw new Error(`Element at index ${O} should not be an empty string.`);super(y)}static documentId(){return h._DOCUMENT_ID}static fromArgument(y){return y instanceof h?y:new h(...y.split("."))}get formattedName(){return this.segments.map(y=>g.test(y)?y:"`"+y.replace(/\\/g,"\\\\").replace(/`/g,"\\`")+"`").join(".")}toString(){return this.formattedName}split(y){return y.split(".")}construct(y){return new h(...y)}isEqual(y){return super.isEqual(y)}}path.FieldPath=h,h._DOCUMENT_ID=new h("__name__");function v(b,y){if(!(y instanceof h)){if(y===void 0)throw new Error((0,a.invalidArgumentMessage)(b,"field path")+" The path cannot be omitted.");if((0,t.isObject)(y)&&y.constructor.name==="FieldPath")throw new Error((0,a.customObjectMessage)(b,y));if(typeof y!="string")throw new Error(`${(0,a.invalidArgumentMessage)(b,"field path")} Paths can only be specified as strings or via a FieldPath object.`);if(y.indexOf("..")>=0)throw new Error(`${(0,a.invalidArgumentMessage)(b,"field path")} Paths must not contain ".." in them.`);if(y.startsWith(".")||y.endsWith("."))throw new Error(`${(0,a.invalidArgumentMessage)(b,"field path")} Paths must not start or end with ".".`);if(!m.test(y))throw new Error(`${(0,a.invalidArgumentMessage)(b,"field path")} Paths can't be empty and must not contain
    "*~/[]".`)}}return path}var hasRequiredSerializer;function requireSerializer(){if(hasRequiredSerializer)return serializer;hasRequiredSerializer=1;Object.defineProperty(serializer,"__esModule",{value:!0}),serializer.Serializer=void 0,serializer.validateUserInput=v;const e=requireFieldValue(),t=requireConvert(),a=requireGeoPoint(),p=requireSrc(),g=requirePath(),m=requireTimestamp(),c=requireUtil(),l=requireValidate(),o=requireMapType(),s=20;class h{constructor(O){this.createReference=w=>O.doc(w),this.createInteger=w=>O._settings.useBigInt?BigInt(w):Number(w),this.allowUndefined=!!O._settings.ignoreUndefinedProperties}encodeFields(O){const w={};for(const I of Object.keys(O)){const _=this.encodeValue(O[I]);_&&(w[I]=_)}return w}encodeValue(O){if(O instanceof e.FieldTransform)return null;if(typeof O=="string")return{stringValue:O};if(typeof O=="boolean")return{booleanValue:O};if(typeof O=="number"){const w=O===0&&1/O===-1/0;return Number.isSafeInteger(O)&&!w?{integerValue:O}:{doubleValue:O}}if(typeof O=="bigint")return{integerValue:O.toString()};if(O instanceof Date){const w=m.Timestamp.fromDate(O);return{timestampValue:{seconds:w.seconds,nanos:w.nanoseconds}}}if(b(O)){const w=m.Timestamp.fromDate(O.toDate());return{timestampValue:{seconds:w.seconds,nanos:w.nanoseconds}}}if(O===null)return{nullValue:"NULL_VALUE"};if(O instanceof Buffer||O instanceof Uint8Array)return{bytesValue:O};if(O instanceof e.VectorValue)return O._toProto(this);if((0,c.isObject)(O)){const w=O.toProto;if(typeof w=="function")return w.bind(O)()}if(Array.isArray(O)){const w={arrayValue:{}};if(O.length>0){w.arrayValue.values=[];for(let I=0;I<O.length;++I){const _=this.encodeValue(O[I]);_&&w.arrayValue.values.push(_)}}return w}if(typeof O=="object"&&(0,c.isPlainObject)(O)){const w={mapValue:{}};return!(0,c.isEmpty)(O)&&(w.mapValue.fields=this.encodeFields(O),(0,c.isEmpty)(w.mapValue.fields))?null:w}if(O===void 0&&this.allowUndefined)return null;throw new Error(`Cannot encode value: ${O}`)}encodeVector(O){return{mapValue:{fields:{[o.RESERVED_MAP_KEY]:{stringValue:o.RESERVED_MAP_KEY_VECTOR_VALUE},[o.VECTOR_MAP_VECTORS_KEY]:{arrayValue:{values:O.map(w=>({doubleValue:w}))}}}}}}decodeValue(O){switch((0,t.detectValueType)(O)){case"stringValue":return O.stringValue;case"booleanValue":return O.booleanValue;case"integerValue":return this.createInteger(O.integerValue);case"doubleValue":return O.doubleValue;case"timestampValue":return m.Timestamp.fromProto(O.timestampValue);case"referenceValue":{const I=g.QualifiedResourcePath.fromSlashSeparatedString(O.referenceValue);return this.createReference(I.relativeName)}case"arrayValue":{const I=[];if(Array.isArray(O.arrayValue.values))for(const _ of O.arrayValue.values)I.push(this.decodeValue(_));return I}case"nullValue":return null;case"mapValue":{const I=O.mapValue.fields;if(I){const _={};for(const T of Object.keys(I))_[T]=this.decodeValue(I[T]);return _}else return{}}case"vectorValue":{const I=O.mapValue.fields;return e.VectorValue._fromProto(I[o.VECTOR_MAP_VECTORS_KEY])}case"geoPointValue":return a.GeoPoint.fromProto(O.geoPointValue);case"bytesValue":return O.bytesValue;default:throw new Error("Cannot decode type from Firestore Value: "+JSON.stringify(O))}}decodeGoogleProtobufValue(O){switch((0,t.detectGoogleProtobufValueType)(O)){case"nullValue":return null;case"numberValue":return O.numberValue;case"stringValue":return O.stringValue;case"boolValue":return O.boolValue;case"listValue":return this.decodeGoogleProtobufList(O.listValue);case"structValue":return this.decodeGoogleProtobufStruct(O.structValue);default:throw new Error("Cannot decode type from google.protobuf.Value: "+JSON.stringify(O))}}decodeGoogleProtobufList(O){const w=[];if(O&&O.values&&Array.isArray(O.values))for(const I of O.values)w.push(this.decodeGoogleProtobufValue(I));return w}decodeGoogleProtobufStruct(O){const w={};if(O&&O.fields)for(const I of Object.keys(O.fields))w[I]=this.decodeGoogleProtobufValue(O.fields[I]);return w}}serializer.Serializer=h;function v(y,O,w,I,_,T,C){if(_&&_.size-1>s)throw new Error(`${(0,l.invalidArgumentMessage)(y,w)} Input object is deeper than ${s} levels or contains a cycle.`);T=T||0,C=C||!1;const N=_?` (found in field "${_}")`:"";if(Array.isArray(O))for(let L=0;L<O.length;++L)v(y,O[L],w,I,_?_.append(String(L)):new g.FieldPath(String(L)),T+1,!0);else if((0,c.isPlainObject)(O))for(const L of Object.keys(O))v(y,O[L],w,I,_?_.append(new g.FieldPath(L)):new g.FieldPath(L),T+1,C);else if(O===void 0){if(I.allowUndefined&&T===0)throw new Error(`${(0,l.invalidArgumentMessage)(y,w)} "undefined" values are only ignored inside of objects.`);if(!I.allowUndefined)throw new Error(`${(0,l.invalidArgumentMessage)(y,w)} Cannot use "undefined" as a Firestore value${N}. If you want to ignore undefined values, enable \`ignoreUndefinedProperties\`.`)}else if(!(O instanceof e.VectorValue))if(O instanceof e.DeleteTransform){if(C)throw new Error(`${(0,l.invalidArgumentMessage)(y,w)} ${O.methodName}() cannot be used inside of an array${N}.`);if(I.allowDeletes==="none")throw new Error(`${(0,l.invalidArgumentMessage)(y,w)} ${O.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${N}.`);if(I.allowDeletes==="root"&&T!==0){if(!(T===1&&_?.size===1))throw new Error(`${(0,l.invalidArgumentMessage)(y,w)} ${O.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${N}.`)}}else if(O instanceof e.FieldTransform){if(C)throw new Error(`${(0,l.invalidArgumentMessage)(y,w)} ${O.methodName}() cannot be used inside of an array${N}.`);if(!I.allowTransforms)throw new Error(`${(0,l.invalidArgumentMessage)(y,w)} ${O.methodName}() can only be used in set(), create() or update()${N}.`)}else{if(O instanceof g.FieldPath)throw new Error(`${(0,l.invalidArgumentMessage)(y,w)} Cannot use object of type "FieldPath" as a Firestore value${N}.`);if(!(O instanceof p.DocumentReference)){if(!(O instanceof a.GeoPoint)){if(!(O instanceof m.Timestamp||O instanceof Date)){if(!b(O)){if(!(O instanceof Buffer||O instanceof Uint8Array)){if(O!==null){if(typeof O=="object")throw new Error((0,l.customObjectMessage)(y,O,_))}}}}}}}}function b(y){return typeof y=="object"&&y!==null&&y.constructor&&y.constructor.name==="Moment"&&typeof y.toDate=="function"}return serializer}var hasRequiredFieldValue;function requireFieldValue(){if(hasRequiredFieldValue)return fieldValue;hasRequiredFieldValue=1;Object.defineProperty(fieldValue,"__esModule",{value:!0}),fieldValue.DeleteTransform=fieldValue.FieldTransform=fieldValue.FieldValue=fieldValue.VectorValue=void 0;const e=requireFastDeepEqual(),t=requireSerializer(),a=requireUtil(),p=requireValidate();class g{constructor(O){this._values=(O||[]).map(w=>w)}toArray(){return this._values.map(O=>O)}_toProto(O){return O.encodeVector(this._values)}static _fromProto(O){var w,I;const _=(I=(w=O.arrayValue)===null||w===void 0?void 0:w.values)===null||I===void 0?void 0:I.map(T=>T.doubleValue);return new g(_)}isEqual(O){return(0,a.isPrimitiveArrayEqual)(this._values,O._values)}}fieldValue.VectorValue=g;class m{constructor(){}static vector(O){return new g(O)}static delete(){return l.DELETE_SENTINEL}static serverTimestamp(){return o.SERVER_TIMESTAMP_SENTINEL}static increment(O){return(0,p.validateMinNumberOfArguments)("FieldValue.increment",arguments,1),new s(O)}static arrayUnion(...O){return(0,p.validateMinNumberOfArguments)("FieldValue.arrayUnion",O,1),new h(O)}static arrayRemove(...O){return(0,p.validateMinNumberOfArguments)("FieldValue.arrayRemove",O,1),new v(O)}isEqual(O){return this===O}}fieldValue.FieldValue=m;class c extends m{}fieldValue.FieldTransform=c;class l extends c{constructor(){super()}get includeInDocumentMask(){return!0}get includeInDocumentTransform(){return!1}get methodName(){return"FieldValue.delete"}validate(){}toProto(){throw new Error("FieldValue.delete() should not be included in a FieldTransform")}}fieldValue.DeleteTransform=l,l.DELETE_SENTINEL=new l;class o extends c{constructor(){super()}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.serverTimestamp"}validate(){}toProto(O,w){return{fieldPath:w.formattedName,setToServerValue:"REQUEST_TIME"}}}o.SERVER_TIMESTAMP_SENTINEL=new o;class s extends c{constructor(O){super(),this.operand=O}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.increment"}validate(){(0,p.validateNumber)("FieldValue.increment()",this.operand)}toProto(O,w){const I=O.encodeValue(this.operand);return{fieldPath:w.formattedName,increment:I}}isEqual(O){return this===O||O instanceof s&&this.operand===O.operand}}class h extends c{constructor(O){super(),this.elements=O}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayUnion"}validate(O){for(let w=0;w<this.elements.length;++w)b(w,this.elements[w],O)}toProto(O,w){const I=O.encodeValue(this.elements).arrayValue;return{fieldPath:w.formattedName,appendMissingElements:I}}isEqual(O){return this===O||O instanceof h&&e(this.elements,O.elements)}}class v extends c{constructor(O){super(),this.elements=O}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayRemove"}validate(O){for(let w=0;w<this.elements.length;++w)b(w,this.elements[w],O)}toProto(O,w){const I=O.encodeValue(this.elements).arrayValue;return{fieldPath:w.formattedName,removeAllFromArray:I}}isEqual(O){return this===O||O instanceof v&&e(this.elements,O.elements)}}function b(y,O,w){if(Array.isArray(O))throw new Error(`${(0,p.invalidArgumentMessage)(y,"array element")} Nested arrays are not supported.`);(0,t.validateUserInput)(y,O,"array element",{allowDeletes:"none",allowTransforms:!1,allowUndefined:w},void 0,0,!0)}return fieldValue}var documentReference={},types$1={},hasRequiredTypes$1;function requireTypes$1(){if(hasRequiredTypes$1)return types$1;hasRequiredTypes$1=1;Object.defineProperty(types$1,"__esModule",{value:!0}),types$1.defaultConverter=t;const e={toFirestore(a){return a},fromFirestore(a){return a.data()}};function t(){return e}return types$1}var collectionReference={},query={},queryUtil={},documentChange={},hasRequiredDocumentChange;function requireDocumentChange(){if(hasRequiredDocumentChange)return documentChange;hasRequiredDocumentChange=1;Object.defineProperty(documentChange,"__esModule",{value:!0}),documentChange.DocumentChange=void 0;class e{constructor(a,p,g,m){this._type=a,this._document=p,this._oldIndex=g,this._newIndex=m}get type(){return this._type}get doc(){return this._document}get oldIndex(){return this._oldIndex}get newIndex(){return this._newIndex}isEqual(a){return this===a?!0:a instanceof e&&this._type===a._type&&this._oldIndex===a._oldIndex&&this._newIndex===a._newIndex&&this._document.isEqual(a._document)}}return documentChange.DocumentChange=e,documentChange}var queryProfile={},hasRequiredQueryProfile;function requireQueryProfile(){if(hasRequiredQueryProfile)return queryProfile;hasRequiredQueryProfile=1;Object.defineProperty(queryProfile,"__esModule",{value:!0}),queryProfile.ExplainResults=queryProfile.ExplainMetrics=queryProfile.ExecutionStats=queryProfile.PlanSummary=void 0;class e{constructor(m){this.indexesUsed=m}static _fromProto(m,c){const l=[];if(m&&m.indexesUsed)for(const o of m.indexesUsed)l.push(c.decodeGoogleProtobufStruct(o));return new e(l)}}queryProfile.PlanSummary=e;class t{constructor(m,c,l,o){this.resultsReturned=m,this.executionDuration=c,this.readOperations=l,this.debugStats=o}static _fromProto(m,c){var l,o;return m?new t(Number(m.resultsReturned),{seconds:Number((l=m.executionDuration)===null||l===void 0?void 0:l.seconds),nanoseconds:Number((o=m.executionDuration)===null||o===void 0?void 0:o.nanos)},Number(m.readOperations),c.decodeGoogleProtobufStruct(m.debugStats)):null}}queryProfile.ExecutionStats=t;class a{constructor(m,c){this.planSummary=m,this.executionStats=c}static _fromProto(m,c){return new a(e._fromProto(m.planSummary,c),t._fromProto(m.executionStats,c))}}queryProfile.ExplainMetrics=a;class p{constructor(m,c){this.metrics=m,this.snapshot=c}}return queryProfile.ExplainResults=p,queryProfile}var vectorQuery={},vectorQuerySnapshot={},hasRequiredVectorQuerySnapshot;function requireVectorQuerySnapshot(){if(hasRequiredVectorQuerySnapshot)return vectorQuerySnapshot;hasRequiredVectorQuerySnapshot=1,Object.defineProperty(vectorQuerySnapshot,"__esModule",{value:!0}),vectorQuerySnapshot.VectorQuerySnapshot=void 0;const e=requireValidate(),t=requireUtil();class a{constructor(g,m,c,l,o){this._query=g,this._readTime=m,this._size=c,this._materializedDocs=null,this._materializedChanges=null,this._docs=null,this._changes=null,this._docs=l,this._changes=o}get query(){return this._query}get docs(){return this._materializedDocs?this._materializedDocs:(this._materializedDocs=this._docs(),this._docs=null,this._materializedDocs)}get empty(){return this._size===0}get size(){return this._size}get readTime(){return this._readTime}docChanges(){return this._materializedChanges?this._materializedChanges:(this._materializedChanges=this._changes(),this._changes=null,this._materializedChanges)}forEach(g,m){(0,e.validateFunction)("callback",g);for(const c of this.docs)g.call(m,c)}isEqual(g){return this===g?!0:!(g instanceof a)||this._size!==g._size||!this._query.isEqual(g._query)?!1:this._materializedDocs&&!this._materializedChanges?(0,t.isArrayEqual)(this.docs,g.docs)&&(0,t.isArrayEqual)(this.docChanges(),g.docChanges()):(0,t.isArrayEqual)(this.docChanges(),g.docChanges())&&(0,t.isArrayEqual)(this.docs,g.docs)}}return vectorQuerySnapshot.VectorQuerySnapshot=a,vectorQuerySnapshot}var hasRequiredVectorQuery;function requireVectorQuery(){if(hasRequiredVectorQuery)return vectorQuery;hasRequiredVectorQuery=1,Object.defineProperty(vectorQuery,"__esModule",{value:!0}),vectorQuery.VectorQuery=void 0;const e=requireFieldValue(),t=requirePath(),a=requireUtil(),p=requireQueryUtil(),g=requireVectorQuerySnapshot(),m=requireQueryProfile();class c{constructor(o,s){this._query=o,this._options=s,this._queryUtil=new p.QueryUtil(o._firestore,o._queryOptions,o._serializer)}get query(){return this._query}get _rawVectorField(){return typeof this._options.vectorField=="string"?this._options.vectorField:this._options.vectorField.toString()}get _rawDistanceResultField(){if(!(typeof this._options.distanceResultField>"u"))return typeof this._options.distanceResultField=="string"?this._options.distanceResultField:this._options.distanceResultField.toString()}get _rawQueryVector(){return Array.isArray(this._options.queryVector)?this._options.queryVector:this._options.queryVector.toArray()}async explain(o){o===void 0&&(o={});const{result:s,explainMetrics:h}=await this._getResponse(o);if(!h)throw new Error("No explain results");return new m.ExplainResults(h,s||null)}async get(){const{result:o}=await this._getResponse();if(!o)throw new Error("No VectorQuerySnapshot result");return o}_getResponse(o){return this._queryUtil._getResponse(this,void 0,!1,o)}_stream(o){return this._queryUtil._stream(this,o,!1)}toProto(o,s){var h,v,b;const y=this._query.toProto(o),O=Array.isArray(this._options.queryVector)?new e.VectorValue(this._options.queryVector):this._options.queryVector;return y.structuredQuery.findNearest={limit:{value:this._options.limit},distanceMeasure:this._options.distanceMeasure,vectorField:{fieldPath:t.FieldPath.fromArgument(this._options.vectorField).formattedName},queryVector:O._toProto(this._query._serializer),distanceResultField:!((h=this._options)===null||h===void 0)&&h.distanceResultField?t.FieldPath.fromArgument(this._options.distanceResultField).formattedName:void 0,distanceThreshold:!((v=this._options)===null||v===void 0)&&v.distanceThreshold?{value:(b=this._options)===null||b===void 0?void 0:b.distanceThreshold}:void 0},s&&(y.explainOptions=s),y}_createSnapshot(o,s,h,v){return new g.VectorQuerySnapshot(this,o,s,h,v)}startAfter(...o){throw new Error("Unimplemented: Vector query does not support cursors yet.")}isEqual(o){return this===o?!0:!(o instanceof c)||!this.query.isEqual(o.query)?!1:this._rawVectorField===o._rawVectorField&&(0,a.isPrimitiveArrayEqual)(this._rawQueryVector,o._rawQueryVector)&&this._options.limit===o._options.limit&&this._options.distanceMeasure===o._options.distanceMeasure&&this._options.distanceThreshold===o._options.distanceThreshold&&this._rawDistanceResultField===o._rawDistanceResultField}}return vectorQuery.VectorQuery=c,vectorQuery}var types={},hasRequiredTypes;function requireTypes(){if(hasRequiredTypes)return types;hasRequiredTypes=1,Object.defineProperty(types,"__esModule",{value:!0}),types.LimitType=void 0;var e;return(function(t){t[t.First=0]="First",t[t.Last=1]="Last"})(e||(types.LimitType=e={})),types}var constants={},hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.NOOP_MESSAGE=constants.comparisonOperators=constants.directionOperators=void 0,constants.directionOperators={asc:"ASCENDING",desc:"DESCENDING"},constants.comparisonOperators={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},constants.NOOP_MESSAGE=Symbol("a noop message")),constants}var traceUtil={},hasRequiredTraceUtil;function requireTraceUtil(){return hasRequiredTraceUtil||(hasRequiredTraceUtil=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ATTRIBUTE_KEY_ATTEMPTS_REMAINING=e.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED=e.ATTRIBUTE_KEY_TRANSACTION_TYPE=e.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR=e.ATTRIBUTE_KEY_NUM_RESPONSES=e.ATTRIBUTE_KEY_IS_TRANSACTIONAL=e.ATTRIBUTE_KEY_DOC_COUNT=e.ATTRIBUTE_SETTINGS_PREFIX=e.ATTRIBUTE_SERVICE_PREFIX=e.SPAN_NAME_BULK_WRITER_COMMIT=e.SPAN_NAME_PARTITION_QUERY=e.SPAN_NAME_BATCH_COMMIT=e.SPAN_NAME_TRANSACTION_COMMIT=e.SPAN_NAME_TRANSACTION_ROLLBACK=e.SPAN_NAME_TRANSACTION_GET_DOCUMENTS=e.SPAN_NAME_TRANSACTION_GET_DOCUMENT=e.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY=e.SPAN_NAME_TRANSACTION_GET_QUERY=e.SPAN_NAME_TRANSACTION_RUN=e.SPAN_NAME_AGGREGATION_QUERY_GET=e.SPAN_NAME_QUERY_GET=e.SPAN_NAME_COL_REF_LIST_DOCUMENTS=e.SPAN_NAME_COL_REF_ADD=e.SPAN_NAME_DOC_REF_LIST_COLLECTIONS=e.SPAN_NAME_DOC_REF_GET=e.SPAN_NAME_DOC_REF_DELETE=e.SPAN_NAME_DOC_REF_UPDATE=e.SPAN_NAME_DOC_REF_SET=e.SPAN_NAME_DOC_REF_CREATE=e.SPAN_NAME_RUN_AGGREGATION_QUERY=e.SPAN_NAME_RUN_QUERY=e.SPAN_NAME_BATCH_GET_DOCUMENTS=e.SERVICE=void 0,e.SERVICE="google.firestore.v1.Firestore/",e.SPAN_NAME_BATCH_GET_DOCUMENTS="BatchGetDocuments",e.SPAN_NAME_RUN_QUERY="RunQuery",e.SPAN_NAME_RUN_AGGREGATION_QUERY="RunAggregationQuery",e.SPAN_NAME_DOC_REF_CREATE="DocumentReference.Create",e.SPAN_NAME_DOC_REF_SET="DocumentReference.Set",e.SPAN_NAME_DOC_REF_UPDATE="DocumentReference.Update",e.SPAN_NAME_DOC_REF_DELETE="DocumentReference.Delete",e.SPAN_NAME_DOC_REF_GET="DocumentReference.Get",e.SPAN_NAME_DOC_REF_LIST_COLLECTIONS="DocumentReference.ListCollections",e.SPAN_NAME_COL_REF_ADD="CollectionReference.Add",e.SPAN_NAME_COL_REF_LIST_DOCUMENTS="CollectionReference.ListDocuments",e.SPAN_NAME_QUERY_GET="Query.Get",e.SPAN_NAME_AGGREGATION_QUERY_GET="AggregationQuery.Get",e.SPAN_NAME_TRANSACTION_RUN="Transaction.Run",e.SPAN_NAME_TRANSACTION_GET_QUERY="Transaction.Get.Query",e.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY="Transaction.Get.AggregationQuery",e.SPAN_NAME_TRANSACTION_GET_DOCUMENT="Transaction.Get.Document",e.SPAN_NAME_TRANSACTION_GET_DOCUMENTS="Transaction.Get.Documents",e.SPAN_NAME_TRANSACTION_ROLLBACK="Transaction.Rollback",e.SPAN_NAME_TRANSACTION_COMMIT="Transaction.Commit",e.SPAN_NAME_BATCH_COMMIT="Batch.Commit",e.SPAN_NAME_PARTITION_QUERY="PartitionQuery",e.SPAN_NAME_BULK_WRITER_COMMIT="BulkWriter.Commit",e.ATTRIBUTE_SERVICE_PREFIX="gcp.firestore",e.ATTRIBUTE_SETTINGS_PREFIX=`${e.ATTRIBUTE_SERVICE_PREFIX}.settings`,e.ATTRIBUTE_KEY_DOC_COUNT="doc_count",e.ATTRIBUTE_KEY_IS_TRANSACTIONAL="transactional",e.ATTRIBUTE_KEY_NUM_RESPONSES="response_count",e.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR="retry_query_with_cursor",e.ATTRIBUTE_KEY_TRANSACTION_TYPE="transaction_type",e.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED="attempts_allowed",e.ATTRIBUTE_KEY_ATTEMPTS_REMAINING="attempts_remaining"})(traceUtil)),traceUtil}var hasRequiredQueryUtil;function requireQueryUtil(){if(hasRequiredQueryUtil)return queryUtil;hasRequiredQueryUtil=1,Object.defineProperty(queryUtil,"__esModule",{value:!0}),queryUtil.QueryUtil=void 0;const e=require$$1$3,t=requireTimestamp(),a=requireDocument(),p=requireUtil(),g=requireDocumentChange(),m=requireQueryProfile(),c=requireLogger(),l=requireVectorQuery(),o=requireTypes(),s=requireConstants(),h=requireTraceUtil();class v{constructor(y,O,w){this._firestore=y,this._queryOptions=O,this._serializer=w}_getResponse(y,O,w=!0,I){const _=Error().stack;return new Promise((T,C)=>{const N=[],L={};this._stream(y,O,w,I).on("error",D=>{C((0,p.wrapError)(D,_))}).on("data",D=>{D.transaction&&(L.transaction=D.transaction),D.readTime&&(L.readTime=D.readTime),D.explainMetrics&&(L.explainMetrics=D.explainMetrics),D.document&&N.push(D.document)}).on("end",()=>{this._queryOptions.limitType===o.LimitType.Last&&N.reverse();const D=L.readTime?y._createSnapshot(L.readTime,N.length,()=>N,()=>{const j=[];for(let k=0;k<N.length;++k)j.push(new g.DocumentChange("added",N[k],-1,k));return j}):void 0;T({transaction:L.transaction,explainMetrics:L.explainMetrics,result:D})})})}_isPermanentRpcError(y,O){return(0,p.isPermanentRpcError)(y,O)}_hasRetryTimedOut(y,O){const w=(0,p.getTotalTimeout)(y);return w===0?!1:Date.now()-O>=w}stream(y){if(this._queryOptions.limitType===o.LimitType.Last)throw new Error("Query results for queries that include limitToLast() constraints cannot be streamed. Use Query.get() instead.");const O=this._stream(y),w=new e.Transform({objectMode:!0,transform(I,_,T){T(void 0,I.document)}});return O.pipe(w),O.on("error",I=>w.destroy(I)),w}_stream(y,O,w=!0,I){const _=(0,p.requestTag)(),T=Date.now(),C=I!==void 0,N="runQuery";let L=0,D=null,j;const k=new e.Transform({objectMode:!0,transform:(V,G,J)=>{var W;if(V===s.NOOP_MESSAGE){J(void 0);return}const K={};if(!((W=V.transaction)===null||W===void 0)&&W.length&&(K.transaction=V.transaction),V.readTime&&(K.readTime=t.Timestamp.fromProto(V.readTime)),V.document){const X=this._firestore.snapshot_(V.document,V.readTime),Y=new a.DocumentSnapshotBuilder(X.ref.withConverter(this._queryOptions.converter));Y.fieldsProto=X._fieldsProto,Y.readTime=X.readTime,Y.createTime=X.createTime,Y.updateTime=X.updateTime,D=Y.build(),K.document=D}V.explainMetrics&&(K.explainMetrics=m.ExplainMetrics._fromProto(V.explainMetrics,this._serializer)),++L,J(void 0,K),V.done&&((0,c.logger)("QueryUtil._stream",_,"Trigger Logical Termination."),this._firestore._traceUtil.currentSpan().addEvent(`Firestore.${N}: Received RunQueryResponse.Done.`),j.unpipe(k),j.resume(),j.end(),k.end())}});return this._firestore.initializeIfNeeded(_).then(async()=>{let V=y.toProto(O,I),G=!1,J;do J=new p.Deferred,this._firestore._traceUtil.currentSpan().addEvent(h.SPAN_NAME_RUN_QUERY,{[h.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!!V.transaction,[h.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR]:G}),j=await this._firestore.requestStream(N,!1,V,_),j.on("error",W=>{j.unpipe(k),!C&&!O&&!this._isPermanentRpcError(W,N)?((0,c.logger)("QueryUtil._stream",_,"Query failed with retryable stream error:",W),this._firestore._traceUtil.currentSpan().addEvent(`${h.SPAN_NAME_RUN_QUERY}: Retryable Error.`,{"error.message":W.message}),k.write(s.NOOP_MESSAGE,()=>{if(this._hasRetryTimedOut(N,T))(0,c.logger)("QueryUtil._stream",_,"Query failed with retryable stream error but the total retry timeout has exceeded."),k.destroy(W),J.resolve(!1);else if(D&&w){if(y instanceof l.VectorQuery)throw new Error("Unimplemented: Vector query does not support cursors yet.");(0,c.logger)("Query._stream",_,"Query failed with retryable stream error and progress was made receiving documents, so the stream is being retried."),G=!0;let K;if(!this._queryOptions.limit)K=y;else{const X=this._queryOptions.limit-L;this._queryOptions.limitType===void 0||this._queryOptions.limitType===o.LimitType.First?K=y.limit(X):K=y.limitToLast(X)}this._queryOptions.requireConsistency?V=K.startAfter(D).toProto(D.readTime):V=K.startAfter(D).toProto(),D=null,J.resolve(!0)}else(0,c.logger)("QueryUtil._stream",_,`Query failed with retryable stream error however either retryWithCursor="${w}", or no progress was made receiving documents, so the stream is being closed.`),k.destroy(W),J.resolve(!1)})):((0,c.logger)("QueryUtil._stream",_,"Query failed with stream error:",W),this._firestore._traceUtil.currentSpan().addEvent(`${h.SPAN_NAME_RUN_QUERY}: Error.`,{"error.message":W.message}),k.destroy(W),J.resolve(!1))}),j.on("end",()=>{J.resolve(!1)}),j.resume(),j.pipe(k);while(await J.promise)}).catch(V=>k.destroy(V)),k}}return queryUtil.QueryUtil=v,queryUtil}var fieldOrder={},hasRequiredFieldOrder;function requireFieldOrder(){if(hasRequiredFieldOrder)return fieldOrder;hasRequiredFieldOrder=1,Object.defineProperty(fieldOrder,"__esModule",{value:!0}),fieldOrder.FieldOrder=void 0;class e{constructor(a,p="ASCENDING"){this.field=a,this.direction=p}toProto(){return{field:{fieldPath:this.field.formattedName},direction:this.direction}}}return fieldOrder.FieldOrder=e,fieldOrder}var fieldFilterInternal={},filterInternal={},hasRequiredFilterInternal;function requireFilterInternal(){if(hasRequiredFilterInternal)return filterInternal;hasRequiredFilterInternal=1,Object.defineProperty(filterInternal,"__esModule",{value:!0}),filterInternal.FilterInternal=void 0;class e{}return filterInternal.FilterInternal=e,filterInternal}var hasRequiredFieldFilterInternal;function requireFieldFilterInternal(){if(hasRequiredFieldFilterInternal)return fieldFilterInternal;hasRequiredFieldFilterInternal=1,Object.defineProperty(fieldFilterInternal,"__esModule",{value:!0}),fieldFilterInternal.FieldFilterInternal=void 0;const e=requireFastDeepEqual(),t=requireFilterInternal();class a extends t.FilterInternal{getFlattenedFilters(){return[this]}getFilters(){return[this]}constructor(g,m,c,l){super(),this.serializer=g,this.field=m,this.op=c,this.value=l}isInequalityFilter(){switch(this.op){case"GREATER_THAN":case"GREATER_THAN_OR_EQUAL":case"LESS_THAN":case"LESS_THAN_OR_EQUAL":case"NOT_EQUAL":case"NOT_IN":return!0;default:return!1}}toProto(){return typeof this.value=="number"&&isNaN(this.value)?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:this.op==="EQUAL"?"IS_NAN":"IS_NOT_NAN"}}:this.value===null?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:this.op==="EQUAL"?"IS_NULL":"IS_NOT_NULL"}}:{fieldFilter:{field:{fieldPath:this.field.formattedName},op:this.op,value:this.serializer.encodeValue(this.value)}}}isEqual(g){return g instanceof a&&this.field.isEqual(g.field)&&this.op===g.op&&e(this.value,g.value)}}return fieldFilterInternal.FieldFilterInternal=a,fieldFilterInternal}var compositeFilterInternal={},hasRequiredCompositeFilterInternal;function requireCompositeFilterInternal(){if(hasRequiredCompositeFilterInternal)return compositeFilterInternal;hasRequiredCompositeFilterInternal=1,Object.defineProperty(compositeFilterInternal,"__esModule",{value:!0}),compositeFilterInternal.CompositeFilterInternal=void 0;const e=requireFilterInternal();class t extends e.FilterInternal{constructor(p,g){super(),this.filters=p,this.operator=g,this.memoizedFlattenedFilters=null}getFilters(){return this.filters}isConjunction(){return this.operator==="AND"}getFlattenedFilters(){return this.memoizedFlattenedFilters!==null?this.memoizedFlattenedFilters:(this.memoizedFlattenedFilters=this.filters.reduce((p,g)=>p.concat(g.getFlattenedFilters()),[]),this.memoizedFlattenedFilters)}toProto(){return this.filters.length===1?this.filters[0].toProto():{compositeFilter:{op:this.operator,filters:this.filters.map(g=>g.toProto())}}}isEqual(p){if(p instanceof t){const g=p.getFilters();return this.operator===p.operator&&this.getFilters().length===p.getFilters().length&&this.getFilters().every((m,c)=>m.isEqual(g[c]))}else return!1}}return compositeFilterInternal.CompositeFilterInternal=t,compositeFilterInternal}var querySnapshot={},hasRequiredQuerySnapshot;function requireQuerySnapshot(){if(hasRequiredQuerySnapshot)return querySnapshot;hasRequiredQuerySnapshot=1,Object.defineProperty(querySnapshot,"__esModule",{value:!0}),querySnapshot.QuerySnapshot=void 0;const e=requireValidate(),t=requireUtil();class a{constructor(g,m,c,l,o){this._query=g,this._readTime=m,this._size=c,this._materializedDocs=null,this._materializedChanges=null,this._docs=null,this._changes=null,this._docs=l,this._changes=o}get query(){return this._query}get docs(){return this._materializedDocs?this._materializedDocs:(this._materializedDocs=this._docs(),this._docs=null,this._materializedDocs)}get empty(){return this._size===0}get size(){return this._size}get readTime(){return this._readTime}docChanges(){return this._materializedChanges?this._materializedChanges:(this._materializedChanges=this._changes(),this._changes=null,this._materializedChanges)}forEach(g,m){(0,e.validateFunction)("callback",g);for(const c of this.docs)g.call(m,c)}isEqual(g){return this===g?!0:!(g instanceof a)||this._size!==g._size||!this._query.isEqual(g._query)?!1:this._materializedDocs&&!this._materializedChanges?(0,t.isArrayEqual)(this.docs,g.docs)&&(0,t.isArrayEqual)(this.docChanges(),g.docChanges()):(0,t.isArrayEqual)(this.docChanges(),g.docChanges())&&(0,t.isArrayEqual)(this.docs,g.docs)}}return querySnapshot.QuerySnapshot=a,querySnapshot}var filter={},hasRequiredFilter;function requireFilter(){if(hasRequiredFilter)return filter;hasRequiredFilter=1;Object.defineProperty(filter,"__esModule",{value:!0}),filter.CompositeFilter=filter.UnaryFilter=filter.Filter=void 0;class e{static where(g,m,c){return new t(g,m,c)}static or(...g){return new a(g,"OR")}static and(...g){return new a(g,"AND")}}filter.Filter=e;class t extends e{constructor(g,m,c){super(),this.field=g,this.operator=m,this.value=c}_getField(){return this.field}_getOperator(){return this.operator}_getValue(){return this.value}}filter.UnaryFilter=t;class a extends e{constructor(g,m){super(),this.filters=g,this.operator=m}_getFilters(){return this.filters}_getOperator(){return this.operator}}return filter.CompositeFilter=a,filter}var helpers={},hasRequiredHelpers;function requireHelpers(){if(hasRequiredHelpers)return helpers;hasRequiredHelpers=1,Object.defineProperty(helpers,"__esModule",{value:!0}),helpers.validateQueryOrder=g,helpers.validateQueryOperator=m,helpers.validateDocumentReference=c,helpers.validateQueryValue=l,helpers.coalesce=o;const e=requireValidate(),t=requireSerializer(),a=requireDocumentReference(),p=requireConstants();function g(s,h){return h=typeof h=="string"?h.toLowerCase():h,(0,e.validateEnumValue)(s,h,Object.keys(p.directionOperators),{optional:!0}),h}function m(s,h,v){if(h==="="&&(h="=="),(0,e.validateEnumValue)(s,h,Object.keys(p.comparisonOperators)),typeof v=="number"&&isNaN(v)&&h!=="=="&&h!=="!=")throw new Error("Invalid query. You can only perform '==' and '!=' comparisons on NaN.");if(v===null&&h!=="=="&&h!=="!=")throw new Error("Invalid query. You can only perform '==' and '!=' comparisons on Null.");return h}function c(s,h){if(!(h instanceof a.DocumentReference))throw new Error((0,e.invalidArgumentMessage)(s,"DocumentReference"));return h}function l(s,h,v){(0,t.validateUserInput)(s,h,"query constraint",{allowDeletes:"none",allowTransforms:!1,allowUndefined:v})}function o(...s){return s.find(h=>h!==void 0)}return helpers}var aggregateQuery={},aggregate={},hasRequiredAggregate;function requireAggregate(){if(hasRequiredAggregate)return aggregate;hasRequiredAggregate=1,Object.defineProperty(aggregate,"__esModule",{value:!0}),aggregate.AggregateField=aggregate.Aggregate=void 0;const e=requirePath(),t=require$$1$3;class a{constructor(m,c,l){this.alias=m,this.aggregateType=c,this.fieldPath=l}toProto(){const m={};if(this.aggregateType==="count")m.count={};else if(this.aggregateType==="sum")t(this.fieldPath!==void 0,"Missing field path for sum aggregation."),m.sum={field:{fieldPath:e.FieldPath.fromArgument(this.fieldPath).formattedName}};else if(this.aggregateType==="avg")t(this.fieldPath!==void 0,"Missing field path for average aggregation."),m.avg={field:{fieldPath:e.FieldPath.fromArgument(this.fieldPath).formattedName}};else throw new Error(`Aggregate type ${this.aggregateType} unimplemented.`);return m.alias=this.alias,m}}aggregate.Aggregate=a;class p{constructor(m,c){this.aggregateType=m,this.type="AggregateField",this._field=c}isEqual(m){return m instanceof p&&this.aggregateType===m.aggregateType&&(this._field===void 0&&m._field===void 0||this._field!==void 0&&m._field!==void 0&&e.FieldPath.fromArgument(this._field).isEqual(e.FieldPath.fromArgument(m._field)))}static count(){return new p("count")}static average(m){return new p("avg",m)}static sum(m){return new p("sum",m)}}return aggregate.AggregateField=p,aggregate}var aggregateQuerySnapshot={},hasRequiredAggregateQuerySnapshot;function requireAggregateQuerySnapshot(){if(hasRequiredAggregateQuerySnapshot)return aggregateQuerySnapshot;hasRequiredAggregateQuerySnapshot=1,Object.defineProperty(aggregateQuerySnapshot,"__esModule",{value:!0}),aggregateQuerySnapshot.AggregateQuerySnapshot=void 0;const e=requireFastDeepEqual();class t{constructor(p,g,m){this._query=p,this._readTime=g,this._data=m}get query(){return this._query}get readTime(){return this._readTime}data(){return this._data}isEqual(p){return this===p?!0:!(p instanceof t)||!this.query.isEqual(p.query)?!1:e(this._data,p._data)}}return aggregateQuerySnapshot.AggregateQuerySnapshot=t,aggregateQuerySnapshot}var hasRequiredAggregateQuery;function requireAggregateQuery(){if(hasRequiredAggregateQuery)return aggregateQuery;hasRequiredAggregateQuery=1,Object.defineProperty(aggregateQuery,"__esModule",{value:!0}),aggregateQuery.AggregateQuery=void 0;const e=require$$1$3,t=requireFastDeepEqual(),a=requireAggregate(),p=requireTimestamp(),g=requireUtil(),m=requireQueryProfile(),c=requireLogger(),l=requireAggregateQuerySnapshot(),o=require$$1$3,s=requireTraceUtil();class h{constructor(b,y){this._query=b,this._aggregates=y,this.clientAliasToServerAliasMap={},this.serverAliasToClientAliasMap={};let O=0;for(const w in this._aggregates)if(Object.prototype.hasOwnProperty.call(this._aggregates,w)){const I=`aggregate_${O++}`;this.clientAliasToServerAliasMap[w]=I,this.serverAliasToClientAliasMap[I]=w}}get query(){return this._query}async get(){return this._query._firestore._traceUtil.startActiveSpan(s.SPAN_NAME_AGGREGATION_QUERY_GET,async()=>{const{result:b}=await this._get();return b})}async _get(b){const y=await this._getResponse(b);if(!y.result)throw new Error("No AggregateQuery results");return y}_getResponse(b,y){const O=Error().stack;return new Promise((w,I)=>{const _={},T=this._stream(b,y);T.on("error",C=>{I((0,g.wrapError)(C,O))}),T.on("data",C=>{C.transaction&&(_.transaction=C.transaction),C.explainMetrics&&(_.explainMetrics=C.explainMetrics),C.result&&(_.result=C.result)}),T.on("end",()=>{T.destroy(),w(_)})})}_stream(b,y){const O=(0,g.requestTag)(),w=this._query.firestore,I=new o.Transform({objectMode:!0,transform:(_,T,C)=>{var N;const L={};if(!((N=_.transaction)===null||N===void 0)&&N.length&&(L.transaction=_.transaction),_.explainMetrics&&(L.explainMetrics=m.ExplainMetrics._fromProto(_.explainMetrics,w._serializer)),_.result){const D=p.Timestamp.fromProto(_.readTime),j=this.decodeResult(_.result);L.result=new l.AggregateQuerySnapshot(this,D,j)}C(void 0,L)}});return w.initializeIfNeeded(O).then(async()=>{const _=this.toProto(b,y),T=await w.requestStream("runAggregationQuery",!1,_,O);I.on("close",()=>{T.resume(),T.end()}),T.on("error",C=>{T.unpipe(I),(0,c.logger)("AggregateQuery._stream",O,"AggregateQuery failed with stream error:",C),this._query._firestore._traceUtil.currentSpan().addEvent(`${s.SPAN_NAME_RUN_AGGREGATION_QUERY}: Error.`,{"error.message":C.message}),I.destroy(C)}),T.resume(),T.pipe(I)}).catch(_=>I.destroy(_)),I}decodeResult(b){const y={},O=b.aggregateFields;if(O){const w=this._query.firestore._serializer;for(const I of Object.keys(O)){const _=this.serverAliasToClientAliasMap[I];if(e(_!=null,`'${I}' not present in server-client alias mapping.`),this._aggregates[_]===void 0)throw new Error(`Unexpected alias [${I}] in result aggregate result`);y[_]=w.decodeValue(O[I])}}return y}toProto(b,y){const O=this._query.toProto(),w={parent:O.parent,structuredAggregationQuery:{structuredQuery:O.structuredQuery,aggregations:(0,g.mapToArray)(this._aggregates,(I,_)=>{const T=this.clientAliasToServerAliasMap[_];return e(T!=null,`'${_}' not present in client-server alias mapping.`),new a.Aggregate(T,I.aggregateType,I._field).toProto()})}};return b instanceof Uint8Array?w.transaction=b:b instanceof p.Timestamp?w.readTime=b.toProto().timestampValue:b&&(w.newTransaction=b),y&&(w.explainOptions=y),w}isEqual(b){return this===b?!0:!(b instanceof h)||!this.query.isEqual(b.query)?!1:t(this._aggregates,b._aggregates)}async explain(b){const{result:y,explainMetrics:O}=await this._getResponse(void 0,b||{});if(!O)throw new Error("No explain results");return new m.ExplainResults(O,y||null)}}return aggregateQuery.AggregateQuery=h,aggregateQuery}var watch={},rbtree,hasRequiredRbtree;function requireRbtree(){if(hasRequiredRbtree)return rbtree;hasRequiredRbtree=1,rbtree=I;var e=0,t=1;function a(_,T,C,N,L,D){this._color=_,this.key=T,this.value=C,this.left=N,this.right=L,this._count=D}function p(_){return new a(_._color,_.key,_.value,_.left,_.right,_._count)}function g(_,T){return new a(_,T.key,T.value,T.left,T.right,T._count)}function m(_){_._count=1+(_.left?_.left._count:0)+(_.right?_.right._count:0)}function c(_,T){this._compare=_,this.root=T}var l=c.prototype;Object.defineProperty(l,"keys",{get:function(){var _=[];return this.forEach(function(T,C){_.push(T)}),_}}),Object.defineProperty(l,"values",{get:function(){var _=[];return this.forEach(function(T,C){_.push(C)}),_}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(_,T){for(var C=this._compare,N=this.root,L=[],D=[];N;){var j=C(_,N.key);L.push(N),D.push(j),j<=0?N=N.left:N=N.right}L.push(new a(e,_,T,null,null,1));for(var k=L.length-2;k>=0;--k){var N=L[k];D[k]<=0?L[k]=new a(N._color,N.key,N.value,L[k+1],N.right,N._count+1):L[k]=new a(N._color,N.key,N.value,N.left,L[k+1],N._count+1)}for(var k=L.length-1;k>1;--k){var V=L[k-1],N=L[k];if(V._color===t||N._color===t)break;var G=L[k-2];if(G.left===V)if(V.left===N){var J=G.right;if(J&&J._color===e)V._color=t,G.right=g(t,J),G._color=e,k-=1;else{if(G._color=e,G.left=V.right,V._color=t,V.right=G,L[k-2]=V,L[k-1]=N,m(G),m(V),k>=3){var W=L[k-3];W.left===G?W.left=V:W.right=V}break}}else{var J=G.right;if(J&&J._color===e)V._color=t,G.right=g(t,J),G._color=e,k-=1;else{if(V.right=N.left,G._color=e,G.left=N.right,N._color=t,N.left=V,N.right=G,L[k-2]=N,L[k-1]=V,m(G),m(V),m(N),k>=3){var W=L[k-3];W.left===G?W.left=N:W.right=N}break}}else if(V.right===N){var J=G.left;if(J&&J._color===e)V._color=t,G.left=g(t,J),G._color=e,k-=1;else{if(G._color=e,G.right=V.left,V._color=t,V.left=G,L[k-2]=V,L[k-1]=N,m(G),m(V),k>=3){var W=L[k-3];W.right===G?W.right=V:W.left=V}break}}else{var J=G.left;if(J&&J._color===e)V._color=t,G.left=g(t,J),G._color=e,k-=1;else{if(V.left=N.right,G._color=e,G.right=N.left,N._color=t,N.right=V,N.left=G,L[k-2]=N,L[k-1]=V,m(G),m(V),m(N),k>=3){var W=L[k-3];W.right===G?W.right=N:W.left=N}break}}}return L[0]._color=t,new c(C,L[0])};function o(_,T){if(T.left){var C=o(_,T.left);if(C)return C}var C=_(T.key,T.value);if(C)return C;if(T.right)return o(_,T.right)}function s(_,T,C,N){var L=T(_,N.key);if(L<=0){if(N.left){var D=s(_,T,C,N.left);if(D)return D}var D=C(N.key,N.value);if(D)return D}if(N.right)return s(_,T,C,N.right)}function h(_,T,C,N,L){var D=C(_,L.key),j=C(T,L.key),k;if(D<=0&&(L.left&&(k=h(_,T,C,N,L.left),k)||j>0&&(k=N(L.key,L.value),k)))return k;if(j>0&&L.right)return h(_,T,C,N,L.right)}l.forEach=function(T,C,N){if(this.root)switch(arguments.length){case 1:return o(T,this.root);case 2:return s(C,this._compare,T,this.root);case 3:return this._compare(C,N)>=0?void 0:h(C,N,this._compare,T,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var _=[],T=this.root;T;)_.push(T),T=T.left;return new v(this,_)}}),Object.defineProperty(l,"end",{get:function(){for(var _=[],T=this.root;T;)_.push(T),T=T.right;return new v(this,_)}}),l.at=function(_){if(_<0)return new v(this,[]);for(var T=this.root,C=[];;){if(C.push(T),T.left){if(_<T.left._count){T=T.left;continue}_-=T.left._count}if(!_)return new v(this,C);if(_-=1,T.right){if(_>=T.right._count)break;T=T.right}else break}return new v(this,[])},l.ge=function(_){for(var T=this._compare,C=this.root,N=[],L=0;C;){var D=T(_,C.key);N.push(C),D<=0&&(L=N.length),D<=0?C=C.left:C=C.right}return N.length=L,new v(this,N)},l.gt=function(_){for(var T=this._compare,C=this.root,N=[],L=0;C;){var D=T(_,C.key);N.push(C),D<0&&(L=N.length),D<0?C=C.left:C=C.right}return N.length=L,new v(this,N)},l.lt=function(_){for(var T=this._compare,C=this.root,N=[],L=0;C;){var D=T(_,C.key);N.push(C),D>0&&(L=N.length),D<=0?C=C.left:C=C.right}return N.length=L,new v(this,N)},l.le=function(_){for(var T=this._compare,C=this.root,N=[],L=0;C;){var D=T(_,C.key);N.push(C),D>=0&&(L=N.length),D<0?C=C.left:C=C.right}return N.length=L,new v(this,N)},l.find=function(_){for(var T=this._compare,C=this.root,N=[];C;){var L=T(_,C.key);if(N.push(C),L===0)return new v(this,N);L<=0?C=C.left:C=C.right}return new v(this,[])},l.remove=function(_){var T=this.find(_);return T?T.remove():this},l.get=function(_){for(var T=this._compare,C=this.root;C;){var N=T(_,C.key);if(N===0)return C.value;N<=0?C=C.left:C=C.right}};function v(_,T){this.tree=_,this._stack=T}var b=v.prototype;Object.defineProperty(b,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(b,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),b.clone=function(){return new v(this.tree,this._stack.slice())};function y(_,T){_.key=T.key,_.value=T.value,_.left=T.left,_.right=T.right,_._color=T._color,_._count=T._count}function O(_){for(var T,C,N,L,D=_.length-1;D>=0;--D){if(T=_[D],D===0){T._color=t;return}if(C=_[D-1],C.left===T){if(N=C.right,N.right&&N.right._color===e){if(N=C.right=p(N),L=N.right=p(N.right),C.right=N.left,N.left=C,N.right=L,N._color=C._color,T._color=t,C._color=t,L._color=t,m(C),m(N),D>1){var j=_[D-2];j.left===C?j.left=N:j.right=N}_[D-1]=N;return}else if(N.left&&N.left._color===e){if(N=C.right=p(N),L=N.left=p(N.left),C.right=L.left,N.left=L.right,L.left=C,L.right=N,L._color=C._color,C._color=t,N._color=t,T._color=t,m(C),m(N),m(L),D>1){var j=_[D-2];j.left===C?j.left=L:j.right=L}_[D-1]=L;return}if(N._color===t)if(C._color===e){C._color=t,C.right=g(e,N);return}else{C.right=g(e,N);continue}else{if(N=p(N),C.right=N.left,N.left=C,N._color=C._color,C._color=e,m(C),m(N),D>1){var j=_[D-2];j.left===C?j.left=N:j.right=N}_[D-1]=N,_[D]=C,D+1<_.length?_[D+1]=T:_.push(T),D=D+2}}else{if(N=C.left,N.left&&N.left._color===e){if(N=C.left=p(N),L=N.left=p(N.left),C.left=N.right,N.right=C,N.left=L,N._color=C._color,T._color=t,C._color=t,L._color=t,m(C),m(N),D>1){var j=_[D-2];j.right===C?j.right=N:j.left=N}_[D-1]=N;return}else if(N.right&&N.right._color===e){if(N=C.left=p(N),L=N.right=p(N.right),C.left=L.right,N.right=L.left,L.right=C,L.left=N,L._color=C._color,C._color=t,N._color=t,T._color=t,m(C),m(N),m(L),D>1){var j=_[D-2];j.right===C?j.right=L:j.left=L}_[D-1]=L;return}if(N._color===t)if(C._color===e){C._color=t,C.left=g(e,N);return}else{C.left=g(e,N);continue}else{if(N=p(N),C.left=N.right,N.right=C,N._color=C._color,C._color=e,m(C),m(N),D>1){var j=_[D-2];j.right===C?j.right=N:j.left=N}_[D-1]=N,_[D]=C,D+1<_.length?_[D+1]=T:_.push(T),D=D+2}}}}b.remove=function(){var _=this._stack;if(_.length===0)return this.tree;var T=new Array(_.length),C=_[_.length-1];T[T.length-1]=new a(C._color,C.key,C.value,C.left,C.right,C._count);for(var N=_.length-2;N>=0;--N){var C=_[N];C.left===_[N+1]?T[N]=new a(C._color,C.key,C.value,T[N+1],C.right,C._count):T[N]=new a(C._color,C.key,C.value,C.left,T[N+1],C._count)}if(C=T[T.length-1],C.left&&C.right){var L=T.length;for(C=C.left;C.right;)T.push(C),C=C.right;var D=T[L-1];T.push(new a(C._color,D.key,D.value,C.left,C.right,C._count)),T[L-1].key=C.key,T[L-1].value=C.value;for(var N=T.length-2;N>=L;--N)C=T[N],T[N]=new a(C._color,C.key,C.value,C.left,T[N+1],C._count);T[L-1].left=T[L]}if(C=T[T.length-1],C._color===e){var j=T[T.length-2];j.left===C?j.left=null:j.right===C&&(j.right=null),T.pop();for(var N=0;N<T.length;++N)T[N]._count--;return new c(this.tree._compare,T[0])}else if(C.left||C.right){C.left?y(C,C.left):C.right&&y(C,C.right),C._color=t;for(var N=0;N<T.length-1;++N)T[N]._count--;return new c(this.tree._compare,T[0])}else{if(T.length===1)return new c(this.tree._compare,null);for(var N=0;N<T.length;++N)T[N]._count--;var k=T[T.length-2];O(T),k.left===C?k.left=null:k.right=null}return new c(this.tree._compare,T[0])},Object.defineProperty(b,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(b,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(b,"index",{get:function(){var _=0,T=this._stack;if(T.length===0){var C=this.tree.root;return C?C._count:0}else T[T.length-1].left&&(_=T[T.length-1].left._count);for(var N=T.length-2;N>=0;--N)T[N+1]===T[N].right&&(++_,T[N].left&&(_+=T[N].left._count));return _},enumerable:!0}),b.next=function(){var _=this._stack;if(_.length!==0){var T=_[_.length-1];if(T.right)for(T=T.right;T;)_.push(T),T=T.left;else for(_.pop();_.length>0&&_[_.length-1].right===T;)T=_[_.length-1],_.pop()}},Object.defineProperty(b,"hasNext",{get:function(){var _=this._stack;if(_.length===0)return!1;if(_[_.length-1].right)return!0;for(var T=_.length-1;T>0;--T)if(_[T-1].left===_[T])return!0;return!1}}),b.update=function(_){var T=this._stack;if(T.length===0)throw new Error("Can't update empty node!");var C=new Array(T.length),N=T[T.length-1];C[C.length-1]=new a(N._color,N.key,_,N.left,N.right,N._count);for(var L=T.length-2;L>=0;--L)N=T[L],N.left===T[L+1]?C[L]=new a(N._color,N.key,N.value,C[L+1],N.right,N._count):C[L]=new a(N._color,N.key,N.value,N.left,C[L+1],N._count);return new c(this.tree._compare,C[0])},b.prev=function(){var _=this._stack;if(_.length!==0){var T=_[_.length-1];if(T.left)for(T=T.left;T;)_.push(T),T=T.right;else for(_.pop();_.length>0&&_[_.length-1].left===T;)T=_[_.length-1],_.pop()}},Object.defineProperty(b,"hasPrev",{get:function(){var _=this._stack;if(_.length===0)return!1;if(_[_.length-1].left)return!0;for(var T=_.length-1;T>0;--T)if(_[T-1].right===_[T])return!0;return!1}});function w(_,T){return _<T?-1:_>T?1:0}function I(_){return new c(_||w,null)}return rbtree}var hasRequiredWatch;function requireWatch(){return hasRequiredWatch||(hasRequiredWatch=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QueryWatch=e.DocumentWatch=e.WATCH_IDLE_TIMEOUT_MS=void 0;const t=require$$1$3,a=requireRbtree(),p=requireFallback(),g=requireBackoff(),m=requireDocument(),c=requireDocumentChange(),l=requireLogger(),o=requirePath(),s=requireTimestamp(),h=requireTypes$1(),v=requireUtil();const b=1;e.WATCH_IDLE_TIMEOUT_MS=12e4;const y={};const O={added:"added",modified:"modified",removed:"removed"};const w=(N,L)=>(t(N===L,"Document watches only support one document."),0),I=()=>{};class _{constructor(L,D=(0,h.defaultConverter)()){this._converter=D,this.isActive=!0,this.currentStream=null,this.resumeToken=void 0,this.docMap=new Map,this.changeMap=new Map,this.current=!1,this.hasPushed=!1,this.firestore=L,this.backoff=new g.ExponentialBackoff,this.requestTag=(0,v.requestTag)(),this.onNext=I,this.onError=I}onSnapshot(L,D){t(this.onNext===I,"onNext should not already be defined."),t(this.onError===I,"onError should not already be defined."),t(this.docTree===void 0,"docTree should not already be defined."),this.onNext=L,this.onError=D,this.docTree=a(this.getComparator()),this.initStream();const j=()=>{(0,l.logger)("Watch.onSnapshot",this.requestTag,"Unsubscribe called"),this.onNext=()=>{},this.onError=()=>{},this.shutdown()};return this.firestore.registerListener(),j}currentSize(){const L=this.extractCurrentChanges(s.Timestamp.now());return this.docMap.size+L.adds.length-L.deletes.length}extractCurrentChanges(L){const D=[],j=[],k=[];return this.changeMap.forEach((V,G)=>{V===y?this.docMap.has(G)&&D.push(G):this.docMap.has(G)?(V.readTime=L,k.push(V.build())):(V.readTime=L,j.push(V.build()))}),{deletes:D,adds:j,updates:k}}resetDocs(){(0,l.logger)("Watch.resetDocs",this.requestTag,"Resetting documents"),this.changeMap.clear(),this.resumeToken=void 0,this.docTree.forEach(L=>{this.changeMap.set(L.ref.path,y)}),this.current=!1}closeStream(L){this.isActive&&((0,l.logger)("Watch.closeStream",this.requestTag,"Invoking onError: ",L),this.onError(L)),this.shutdown()}maybeReopenStream(L){this.isActive&&!this.isPermanentWatchError(L)?((0,l.logger)("Watch.maybeReopenStream",this.requestTag,"Stream ended, re-opening after retryable error:",L),this.changeMap.clear(),this.isResourceExhaustedError(L)&&this.backoff.resetToMax(),this.initStream()):this.closeStream(L)}resetIdleTimeout(){this.idleTimeoutHandle&&clearTimeout(this.idleTimeoutHandle),this.idleTimeoutHandle=(0,g.delayExecution)(()=>{var L;(0,l.logger)("Watch.resetIdleTimeout",this.requestTag,"Resetting stream after idle timeout"),(L=this.currentStream)===null||L===void 0||L.end(),this.currentStream=null;const D=new p.GoogleError("Watch stream idle timeout");D.code=p.Status.UNKNOWN,this.maybeReopenStream(D)},e.WATCH_IDLE_TIMEOUT_MS)}resetStream(){(0,l.logger)("Watch.resetStream",this.requestTag,"Restarting stream"),this.currentStream&&(this.currentStream.end(),this.currentStream=null),this.initStream()}initStream(){this.backoff.backoffAndWait().then(async()=>{if(!this.isActive){(0,l.logger)("Watch.initStream",this.requestTag,"Not initializing inactive stream");return}await this.firestore.initializeIfNeeded(this.requestTag);const L={};return L.database=this.firestore.formattedName,L.addTarget=this.getTarget(this.resumeToken),this.firestore.requestStream("listen",!0,L,this.requestTag).then(D=>{if(!this.isActive){(0,l.logger)("Watch.initStream",this.requestTag,"Closing inactive stream"),D.emit("end"),D.on("error",()=>{});return}(0,l.logger)("Watch.initStream",this.requestTag,"Opened new stream"),this.currentStream=D,this.resetIdleTimeout(),this.currentStream.on("data",j=>{this.resetIdleTimeout(),this.onData(j)}).on("error",j=>{this.currentStream===D&&(this.currentStream=null,this.maybeReopenStream(j))}).on("end",()=>{if(this.currentStream===D){this.currentStream=null;const j=new p.GoogleError("Stream ended unexpectedly");j.code=p.Status.UNKNOWN,this.maybeReopenStream(j)}}),this.currentStream.resume()})}).catch(L=>{this.closeStream(L)})}onData(L){if(L.targetChange){(0,l.logger)("Watch.onData",this.requestTag,"Processing target change");const D=L.targetChange,j=!D.targetIds||D.targetIds.length===0;if(D.targetChangeType==="NO_CHANGE")j&&D.readTime&&this.current&&this.pushSnapshot(s.Timestamp.fromProto(D.readTime),D.resumeToken);else if(D.targetChangeType==="ADD")b!==D.targetIds[0]&&this.closeStream(Error("Unexpected target ID sent by server"));else if(D.targetChangeType==="REMOVE"){let k=p.Status.INTERNAL,V="internal error";D.cause&&(k=D.cause.code,V=D.cause.message),this.closeStream(new Error("Error "+k+": "+V))}else D.targetChangeType==="RESET"?this.resetDocs():D.targetChangeType==="CURRENT"?this.current=!0:this.closeStream(new Error("Unknown target change type: "+JSON.stringify(D)));D.resumeToken&&this.affectsTarget(D.targetIds,b)&&this.backoff.reset()}else if(L.documentChange){(0,l.logger)("Watch.onData",this.requestTag,"Processing change event");const D=L.documentChange.targetIds||[],j=L.documentChange.removedTargetIds||[];let k=!1,V=!1;for(let K=0;K<D.length;K++)D[K]===b&&(k=!0);for(let K=0;K<j.length;K++)j[K]===b&&(V=!0);const G=L.documentChange.document,J=G.name,W=o.QualifiedResourcePath.fromSlashSeparatedString(J).relativeName;if(k){(0,l.logger)("Watch.onData",this.requestTag,"Received document change");const K=this.firestore.doc(W),X=new m.DocumentSnapshotBuilder(K.withConverter(this._converter));X.fieldsProto=G.fields||{},X.createTime=s.Timestamp.fromProto(G.createTime),X.updateTime=s.Timestamp.fromProto(G.updateTime),this.changeMap.set(W,X)}else V&&((0,l.logger)("Watch.onData",this.requestTag,"Received document remove"),this.changeMap.set(W,y))}else if(L.documentDelete||L.documentRemove){(0,l.logger)("Watch.onData",this.requestTag,"Processing remove event");const D=(L.documentDelete||L.documentRemove).document,j=o.QualifiedResourcePath.fromSlashSeparatedString(D).relativeName;this.changeMap.set(j,y)}else L.filter?((0,l.logger)("Watch.onData",this.requestTag,"Processing filter update"),L.filter.count!==this.currentSize()&&(this.resetDocs(),this.resetStream())):this.closeStream(new Error("Unknown listen response type: "+JSON.stringify(L)))}affectsTarget(L,D){if(L===void 0||L.length===0)return!0;for(const j of L)if(j===D)return!0;return!1}pushSnapshot(L,D){const j=this.computeSnapshot(L);if(!this.hasPushed||j.length>0){(0,l.logger)("Watch.pushSnapshot",this.requestTag,"Sending snapshot with %d changes and %d documents",String(j.length),this.docTree.length);const k=this.docTree;this.onNext(L,k.length,()=>k.keys,()=>j),this.hasPushed=!0}this.changeMap.clear(),this.resumeToken=D}deleteDoc(L){t(this.docMap.has(L),"Document to delete does not exist");const D=this.docMap.get(L),j=this.docTree.find(D),k=j.index;return this.docTree=j.remove(),this.docMap.delete(L),new c.DocumentChange(O.removed,D,k,-1)}addDoc(L){const D=L.ref.path;t(!this.docMap.has(D),"Document to add already exists"),this.docTree=this.docTree.insert(L,null);const j=this.docTree.find(L).index;return this.docMap.set(D,L),new c.DocumentChange(O.added,L,-1,j)}modifyDoc(L){const D=L.ref.path;if(t(this.docMap.has(D),"Document to modify does not exist"),!this.docMap.get(D).updateTime.isEqual(L.updateTime)){const k=this.deleteDoc(D),V=this.addDoc(L);return new c.DocumentChange(O.modified,L,k.oldIndex,V.newIndex)}return null}computeSnapshot(L){const D=this.extractCurrentChanges(L),j=[];return D.deletes.sort((k,V)=>this.getComparator()(this.docMap.get(k),this.docMap.get(V))),D.deletes.forEach(k=>{const V=this.deleteDoc(k);j.push(V)}),D.adds.sort(this.getComparator()),D.adds.forEach(k=>{const V=this.addDoc(k);j.push(V)}),D.updates.sort(this.getComparator()),D.updates.forEach(k=>{const V=this.modifyDoc(k);V&&j.push(V)}),t(this.docTree.length===this.docMap.size,"The update document tree and document map should have the same number of entries."),j}isPermanentWatchError(L){if(L.code===void 0)return(0,l.logger)("Watch.isPermanentError",this.requestTag,"Unable to determine error code: ",L),!1;switch(L.code){case p.Status.ABORTED:case p.Status.CANCELLED:case p.Status.UNKNOWN:case p.Status.DEADLINE_EXCEEDED:case p.Status.RESOURCE_EXHAUSTED:case p.Status.INTERNAL:case p.Status.UNAVAILABLE:case p.Status.UNAUTHENTICATED:return!1;default:return!0}}isResourceExhaustedError(L){return L.code===p.Status.RESOURCE_EXHAUSTED}shutdown(){var L;this.isActive&&(this.isActive=!1,this.idleTimeoutHandle&&(clearTimeout(this.idleTimeoutHandle),this.idleTimeoutHandle=void 0),this.firestore.unregisterListener()),(L=this.currentStream)===null||L===void 0||L.end(),this.currentStream=null}}class T extends _{constructor(L,D){super(L,D._converter),this.ref=D}getComparator(){return w}getTarget(L){return{documents:{documents:[this.ref.formattedName]},targetId:b,resumeToken:L}}}e.DocumentWatch=T;class C extends _{constructor(L,D,j){super(L,j),this.query=D,this.comparator=D.comparator()}getComparator(){return this.query.comparator()}getTarget(L){return{query:this.query.toProto(),targetId:b,resumeToken:L}}}e.QueryWatch=C})(watch)),watch}var hasRequiredQuery;function requireQuery(){if(hasRequiredQuery)return query;hasRequiredQuery=1,Object.defineProperty(query,"__esModule",{value:!0}),query.Query=void 0;const e=require$$1$3,t=requireQueryUtil(),a=requireSrc(),p=requireFieldOrder(),g=requireFieldFilterInternal(),m=requireCompositeFilterInternal(),c=requireConstants(),l=requireDocumentReference(),o=requireQuerySnapshot(),s=requireSerializer(),h=requireQueryProfile(),v=requireFilter(),b=requirePath(),y=requireHelpers(),O=requireValidate(),w=requireTypes(),I=requireAggregateQuery(),_=requireVectorQuery(),T=requireOrder(),C=requireTypes$1(),N=requireTraceUtil();class L{constructor(j,k){this._firestore=j,this._queryOptions=k,this._serializer=new s.Serializer(j),this._allowUndefined=!!this._firestore._settings.ignoreUndefinedProperties,this._queryUtil=new t.QueryUtil(j,k,this._serializer)}static _extractFieldValues(j,k){const V=[];for(const G of k)if(a.FieldPath.documentId().isEqual(G.field))V.push(j.ref);else{const J=j.get(G.field);if(J===void 0)throw new Error(`Field "${G.field}" is missing in the provided DocumentSnapshot. Please provide a document that contains values for all specified orderBy() and where() constraints.`);V.push(J)}return V}get firestore(){return this._firestore}where(j,k,V){let G;if(j instanceof a.Filter?G=j:G=a.Filter.where(j,k,V),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify a where() filter after calling startAt(), startAfter(), endBefore() or endAt().");const J=this._parseFilter(G);if(J.getFilters().length===0)return this;const W=this._queryOptions.with({filters:this._queryOptions.filters.concat(J)});return new L(this._firestore,W)}_parseFilter(j){return j instanceof v.UnaryFilter?this._parseFieldFilter(j):this._parseCompositeFilter(j)}_parseFieldFilter(j){let k=j._getValue(),V=j._getOperator();const G=j._getField();(0,b.validateFieldPath)("fieldPath",G),V=(0,y.validateQueryOperator)("opStr",V,k),(0,y.validateQueryValue)("value",k,this._allowUndefined);const J=a.FieldPath.fromArgument(G);if(a.FieldPath.documentId().isEqual(J)){if(V==="array-contains"||V==="array-contains-any")throw new Error(`Invalid Query. You can't perform '${V}' queries on FieldPath.documentId().`);if(V==="in"||V==="not-in"){if(!Array.isArray(k)||k.length===0)throw new Error(`Invalid Query. A non-empty array is required for '${V}' filters.`);k=k.map(W=>this.validateReference(W))}else k=this.validateReference(k)}return new g.FieldFilterInternal(this._serializer,J,c.comparisonOperators[V],k)}_parseCompositeFilter(j){const k=j._getFilters().map(V=>this._parseFilter(V)).filter(V=>V.getFilters().length>0);return k.length===1?k[0]:new m.CompositeFilterInternal(k,j._getOperator()==="AND"?"AND":"OR")}select(...j){const k=[];if(j.length===0)k.push({fieldPath:a.FieldPath.documentId().formattedName});else for(let G=0;G<j.length;++G)(0,b.validateFieldPath)(G,j[G]),k.push({fieldPath:a.FieldPath.fromArgument(j[G]).formattedName});const V=this._queryOptions.with({projection:{fields:k}});return new L(this._firestore,V)}orderBy(j,k){if((0,b.validateFieldPath)("fieldPath",j),k=(0,y.validateQueryOrder)("directionStr",k),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify an orderBy() constraint after calling startAt(), startAfter(), endBefore() or endAt().");const V=new p.FieldOrder(a.FieldPath.fromArgument(j),c.directionOperators[k||"asc"]),G=this._queryOptions.with({fieldOrders:this._queryOptions.fieldOrders.concat(V)});return new L(this._firestore,G)}limit(j){(0,O.validateInteger)("limit",j);const k=this._queryOptions.with({limit:j,limitType:w.LimitType.First});return new L(this._firestore,k)}limitToLast(j){(0,O.validateInteger)("limitToLast",j);const k=this._queryOptions.with({limit:j,limitType:w.LimitType.Last});return new L(this._firestore,k)}offset(j){(0,O.validateInteger)("offset",j);const k=this._queryOptions.with({offset:j});return new L(this._firestore,k)}count(){return this.aggregate({count:a.AggregateField.count()})}aggregate(j){return new I.AggregateQuery(this,j)}findNearest(j,k,V){if(typeof j=="string"||j instanceof a.FieldPath){const G={distanceMeasure:V.distanceMeasure,limit:V.limit,queryVector:k,vectorField:j};return this._findNearest(G)}else return this._findNearest(j)}_findNearest(j){if((0,b.validateFieldPath)("vectorField",j.vectorField),j.limit<=0)throw(0,O.invalidArgumentMessage)("limit","positive limit number");if((Array.isArray(j.queryVector)?j.queryVector.length:j.queryVector.toArray().length)===0)throw(0,O.invalidArgumentMessage)("queryVector","vector size must be larger than 0");return new _.VectorQuery(this,j)}isEqual(j){return this===j?!0:j instanceof L&&this._queryOptions.isEqual(j._queryOptions)}getInequalityFilterFields(){const j=[];for(const k of this._queryOptions.filters)for(const V of k.getFlattenedFilters())V.isInequalityFilter()&&j.push(V.field);return j.sort((k,V)=>k.compareTo(V))}createImplicitOrderBy(j){if(j.length!==1||!(j[0]instanceof a.DocumentSnapshot))return this._queryOptions.fieldOrders;const k=this._queryOptions.fieldOrders.slice(),V=new Set([...k.map(W=>W.field.toString())]),G=k.length===0?c.directionOperators.ASC:k[k.length-1].direction,J=this.getInequalityFilterFields();for(const W of J)!V.has(W.toString())&&!W.isEqual(a.FieldPath.documentId())&&(k.push(new p.FieldOrder(W,G)),V.add(W.toString()));return V.has(a.FieldPath.documentId().toString())||k.push(new p.FieldOrder(a.FieldPath.documentId(),G)),k}createCursor(j,k,V){let G;if(k.length===1&&k[0]instanceof a.DocumentSnapshot?G=L._extractFieldValues(k[0],j):G=k,G.length>j.length)throw new Error("Too many cursor values specified. The specified values must match the orderBy() constraints of the query.");const J={values:[],before:V};for(let W=0;W<G.length;++W){let K=G[W];a.FieldPath.documentId().isEqual(j[W].field)&&(K=this.validateReference(K)),(0,y.validateQueryValue)(W,K,this._allowUndefined),J.values.push(this._serializer.encodeValue(K))}return J}validateReference(j){const k=this._queryOptions.allDescendants?this._queryOptions.parentPath:this._queryOptions.parentPath.append(this._queryOptions.collectionId);let V;if(typeof j=="string"){const G=k.append(j);if(this._queryOptions.allDescendants){if(!G.isDocument)throw new Error(`When querying a collection group and ordering by FieldPath.documentId(), the corresponding value must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`)}else if(j.indexOf("/")!==-1)throw new Error(`When querying a collection and ordering by FieldPath.documentId(), the corresponding value must be a plain document ID, but '${j}' contains a slash.`);V=new l.DocumentReference(this._firestore,k.append(j),this._queryOptions.converter)}else if(j instanceof l.DocumentReference){if(V=j,!k.isPrefixOf(V._path))throw new Error(`"${V.path}" is not part of the query result set and cannot be used as a query boundary.`)}else throw new Error(`The corresponding value for FieldPath.documentId() must be a string or a DocumentReference, but was "${j}".`);if(!this._queryOptions.allDescendants&&V._path.parent().compareTo(k)!==0)throw new Error(`Only a direct child can be used as a query boundary. Found: "${V.path}".`);return V}startAt(...j){(0,O.validateMinNumberOfArguments)("Query.startAt",j,1);const k=this.createImplicitOrderBy(j),V=this.createCursor(k,j,!0),G=this._queryOptions.with({fieldOrders:k,startAt:V});return new L(this._firestore,G)}startAfter(...j){(0,O.validateMinNumberOfArguments)("Query.startAfter",j,1);const k=this.createImplicitOrderBy(j),V=this.createCursor(k,j,!1),G=this._queryOptions.with({fieldOrders:k,startAt:V});return new L(this._firestore,G)}endBefore(...j){(0,O.validateMinNumberOfArguments)("Query.endBefore",j,1);const k=this.createImplicitOrderBy(j),V=this.createCursor(k,j,!0),G=this._queryOptions.with({fieldOrders:k,endAt:V});return new L(this._firestore,G)}endAt(...j){(0,O.validateMinNumberOfArguments)("Query.endAt",j,1);const k=this.createImplicitOrderBy(j),V=this.createCursor(k,j,!1),G=this._queryOptions.with({fieldOrders:k,endAt:V});return new L(this._firestore,G)}async get(){return this._firestore._traceUtil.startActiveSpan(N.SPAN_NAME_QUERY_GET,async()=>{const{result:j}=await this._get();return j})}async explain(j){j===void 0&&(j={});const{result:k,explainMetrics:V}=await this._getResponse(void 0,j);if(!V)throw new Error("No explain results");return new h.ExplainResults(V,k||null)}async _get(j){const k=await this._getResponse(j);if(!k.result)throw new Error("No QuerySnapshot result");return k}_getResponse(j,k){return this._queryUtil._getResponse(this,j,!0,k)}stream(){return this._queryUtil.stream(this)}explainStream(j){if(j===void 0&&(j={}),this._queryOptions.limitType===w.LimitType.Last)throw new Error("Query results for queries that include limitToLast() constraints cannot be streamed. Use Query.explain() instead.");const k=this._stream(void 0,j),V=new e.Transform({objectMode:!0,transform(G,J,W){(G.document||G.explainMetrics)&&W(void 0,{document:G.document,metrics:G.explainMetrics})}});return k.pipe(V),k.on("error",G=>V.destroy(G)),V}toCursor(j){if(j)return j.before?{before:!0,values:j.values}:{values:j.values}}toProto(j,k){const V=this.firestore.projectId,G=this.firestore.databaseId,J=this._queryOptions.parentPath.toQualifiedResourcePath(V,G),W=this.toStructuredQuery();if(this._queryOptions.limitType===w.LimitType.Last){if(!this._queryOptions.hasFieldOrders())throw new Error("limitToLast() queries require specifying at least one orderBy() clause.");W.orderBy=this._queryOptions.fieldOrders.map(X=>{const Y=X.direction==="DESCENDING"?"ASCENDING":"DESCENDING";return new p.FieldOrder(X.field,Y).toProto()}),W.startAt=this._queryOptions.endAt?this.toCursor({values:this._queryOptions.endAt.values,before:!this._queryOptions.endAt.before}):void 0,W.endAt=this._queryOptions.startAt?this.toCursor({values:this._queryOptions.startAt.values,before:!this._queryOptions.startAt.before}):void 0}const K={parent:J.formattedName,structuredQuery:W};return j instanceof Uint8Array?K.transaction=j:j instanceof a.Timestamp?K.readTime=j.toProto().timestampValue:j&&(K.newTransaction=j),k&&(K.explainOptions=k),K}_toBundledQuery(){const j=this.firestore.projectId,k=this.firestore.databaseId,V=this._queryOptions.parentPath.toQualifiedResourcePath(j,k),G=this.toStructuredQuery(),J={parent:V.formattedName,structuredQuery:G};return this._queryOptions.limitType===w.LimitType.First?J.limitType="FIRST":this._queryOptions.limitType===w.LimitType.Last&&(J.limitType="LAST"),J}toStructuredQuery(){const j={from:[{}]};return this._queryOptions.allDescendants&&(j.from[0].allDescendants=!0),this._queryOptions.kindless||(j.from[0].collectionId=this._queryOptions.collectionId),this._queryOptions.filters.length>=1&&(j.where=new m.CompositeFilterInternal(this._queryOptions.filters,"AND").toProto()),this._queryOptions.hasFieldOrders()&&(j.orderBy=this._queryOptions.fieldOrders.map(k=>k.toProto())),j.startAt=this.toCursor(this._queryOptions.startAt),j.endAt=this.toCursor(this._queryOptions.endAt),this._queryOptions.limit&&(j.limit={value:this._queryOptions.limit}),j.offset=this._queryOptions.offset,j.select=this._queryOptions.projection,j}_isPermanentRpcError(j,k){return this._queryUtil._isPermanentRpcError(j,k)}_hasRetryTimedOut(j,k){return this._queryUtil._hasRetryTimedOut(j,k)}_stream(j,k){return this._queryUtil._stream(this,j,!0,k)}onSnapshot(j,k){return(0,O.validateFunction)("onNext",j),(0,O.validateFunction)("onError",k,{optional:!0}),new(requireWatch()).QueryWatch(this.firestore,this,this._queryOptions.converter).onSnapshot((G,J,W,K)=>{j(new o.QuerySnapshot(this,G,J,W,K))},k||console.error)}comparator(){return(j,k)=>{const V=this._queryOptions.hasFieldOrders()?this._queryOptions.fieldOrders[this._queryOptions.fieldOrders.length-1].direction:"ASCENDING",G=this._queryOptions.fieldOrders.concat(new p.FieldOrder(a.FieldPath.documentId(),V));for(const J of G){let W;if(a.FieldPath.documentId().isEqual(J.field))W=j.ref._path.compareTo(k.ref._path);else{const K=j.protoField(J.field),X=k.protoField(J.field);if(K===void 0||X===void 0)throw new Error("Trying to compare documents on fields that don't exist. Please include the fields you are ordering on in your select() call.");W=(0,T.compare)(K,X)}if(W!==0)return(J.direction==="ASCENDING"?1:-1)*W}return 0}}withConverter(j){return new L(this.firestore,this._queryOptions.withConverter(j??(0,C.defaultConverter)()))}_createSnapshot(j,k,V,G){return new o.QuerySnapshot(this,j,k,V,G)}}return query.Query=L,query}var queryOptions={},hasRequiredQueryOptions;function requireQueryOptions(){if(hasRequiredQueryOptions)return queryOptions;hasRequiredQueryOptions=1,Object.defineProperty(queryOptions,"__esModule",{value:!0}),queryOptions.QueryOptions=void 0;const e=requireFastDeepEqual(),t=requirePath(),a=requireTypes$1(),p=requireHelpers();class g{constructor(c,l,o,s,h,v,b,y,O,w,I,_,T=!1,C=!0){this.parentPath=c,this.collectionId=l,this.converter=o,this.allDescendants=s,this.filters=h,this.fieldOrders=v,this.startAt=b,this.endAt=y,this.limit=O,this.limitType=w,this.offset=I,this.projection=_,this.kindless=T,this.requireConsistency=C}static forCollectionGroupQuery(c,l=(0,a.defaultConverter)()){return new g(t.ResourcePath.EMPTY,c,l,!0,[],[])}static forCollectionQuery(c,l=(0,a.defaultConverter)()){return new g(c.parent(),c.id,l,!1,[],[])}static forKindlessAllDescendants(c,l,o=!0){let s=new g(c,l,(0,a.defaultConverter)(),!0,[],[]);return s=s.with({kindless:!0,requireConsistency:o}),s}with(c){return new g((0,p.coalesce)(c.parentPath,this.parentPath),(0,p.coalesce)(c.collectionId,this.collectionId),this.converter,(0,p.coalesce)(c.allDescendants,this.allDescendants),(0,p.coalesce)(c.filters,this.filters),(0,p.coalesce)(c.fieldOrders,this.fieldOrders),(0,p.coalesce)(c.startAt,this.startAt),(0,p.coalesce)(c.endAt,this.endAt),(0,p.coalesce)(c.limit,this.limit),(0,p.coalesce)(c.limitType,this.limitType),(0,p.coalesce)(c.offset,this.offset),(0,p.coalesce)(c.projection,this.projection),(0,p.coalesce)(c.kindless,this.kindless),(0,p.coalesce)(c.requireConsistency,this.requireConsistency))}withConverter(c){return new g(this.parentPath,this.collectionId,c,this.allDescendants,this.filters,this.fieldOrders,this.startAt,this.endAt,this.limit,this.limitType,this.offset,this.projection)}hasFieldOrders(){return this.fieldOrders.length>0}isEqual(c){return this===c?!0:c instanceof g&&this.parentPath.isEqual(c.parentPath)&&this.filtersEqual(c.filters)&&this.collectionId===c.collectionId&&this.converter===c.converter&&this.allDescendants===c.allDescendants&&this.limit===c.limit&&this.offset===c.offset&&e(this.fieldOrders,c.fieldOrders)&&e(this.startAt,c.startAt)&&e(this.endAt,c.endAt)&&e(this.projection,c.projection)&&this.kindless===c.kindless&&this.requireConsistency===c.requireConsistency}filtersEqual(c){if(this.filters.length!==c.length)return!1;for(let l=0;l<c.length;l++)if(!this.filters[l].isEqual(c[l]))return!1;return!0}}return queryOptions.QueryOptions=g,queryOptions}var hasRequiredCollectionReference;function requireCollectionReference(){if(hasRequiredCollectionReference)return collectionReference;hasRequiredCollectionReference=1,Object.defineProperty(collectionReference,"__esModule",{value:!0}),collectionReference.CollectionReference=void 0;const e=requirePath(),t=requireUtil(),a=requireWriteBatch(),p=requireTypes$1(),g=requireQuery(),m=requireDocumentReference(),c=requireQueryOptions(),l=requireTraceUtil();class o extends g.Query{constructor(h,v,b){super(h,c.QueryOptions.forCollectionQuery(v,b))}get _resourcePath(){return this._queryOptions.parentPath.append(this._queryOptions.collectionId)}get id(){return this._queryOptions.collectionId}get parent(){return this._queryOptions.parentPath.isDocument?new m.DocumentReference(this.firestore,this._queryOptions.parentPath):null}get path(){return this._resourcePath.relativeName}listDocuments(){return this._firestore._traceUtil.startActiveSpan(l.SPAN_NAME_COL_REF_LIST_DOCUMENTS,()=>{const h=(0,t.requestTag)();return this.firestore.initializeIfNeeded(h).then(()=>{const b={parent:this._queryOptions.parentPath.toQualifiedResourcePath(this.firestore.projectId,this.firestore.databaseId).formattedName,collectionId:this.id,showMissing:!0,mask:{fieldPaths:[]}};return this.firestore.request("listDocuments",b,h).then(y=>y.map(O=>{const w=e.QualifiedResourcePath.fromSlashSeparatedString(O.name);return this.doc(w.id)}))})})}doc(h){arguments.length===0?h=(0,t.autoId)():(0,e.validateResourcePath)("documentPath",h);const v=this._resourcePath.append(h);if(!v.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${h}". Your path does not contain an even number of components.`);return new m.DocumentReference(this.firestore,v,this._queryOptions.converter)}add(h){return this._firestore._traceUtil.startActiveSpan(l.SPAN_NAME_COL_REF_ADD,()=>{const v=this._queryOptions.converter.toFirestore(h);(0,a.validateDocumentData)("data",v,!1,this._allowUndefined);const b=this.doc();return b.create(h).then(()=>b)})}isEqual(h){return this===h||h instanceof o&&super.isEqual(h)}withConverter(h){return new o(this.firestore,this._resourcePath,h??(0,p.defaultConverter)())}}return collectionReference.CollectionReference=o,collectionReference}var hasRequiredDocumentReference;function requireDocumentReference(){if(hasRequiredDocumentReference)return documentReference;hasRequiredDocumentReference=1,Object.defineProperty(documentReference,"__esModule",{value:!0}),documentReference.DocumentReference=void 0;const e=requireSrc(),t=requirePath(),a=requireTypes$1(),p=requireCollectionReference(),g=requireUtil(),m=requireValidate(),c=requireDocument(),l=requireTraceUtil();class o{constructor(h,v,b=(0,a.defaultConverter)()){this._firestore=h,this._path=v,this._converter=b}get formattedName(){const h=this.firestore.projectId,v=this.firestore.databaseId;return this._path.toQualifiedResourcePath(h,v).formattedName}get firestore(){return this._firestore}get path(){return this._path.relativeName}get id(){return this._path.id}get _resourcePath(){return this._path}get parent(){return new p.CollectionReference(this._firestore,this._path.parent(),this._converter)}get(){return this._firestore._traceUtil.startActiveSpan(l.SPAN_NAME_DOC_REF_GET,()=>this._firestore.getAll(this).then(([h])=>h))}collection(h){(0,t.validateResourcePath)("collectionPath",h);const v=this._path.append(h);if(!v.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${h}". Your path does not contain an odd number of components.`);return new p.CollectionReference(this._firestore,v)}listCollections(){return this._firestore._traceUtil.startActiveSpan(l.SPAN_NAME_DOC_REF_LIST_COLLECTIONS,()=>{const h=(0,g.requestTag)();return this.firestore.initializeIfNeeded(h).then(()=>{const v={parent:this.formattedName};return this._firestore.request("listCollectionIds",v,h).then(b=>{const y=[];b.sort();for(const O of b)y.push(this.collection(O));return y})})})}create(h){return this._firestore._traceUtil.startActiveSpan(l.SPAN_NAME_DOC_REF_CREATE,()=>new e.WriteBatch(this._firestore).create(this,h).commit().then(([b])=>b))}delete(h){return this._firestore._traceUtil.startActiveSpan(l.SPAN_NAME_DOC_REF_DELETE,()=>new e.WriteBatch(this._firestore).delete(this,h).commit().then(([b])=>b))}set(h,v){return this._firestore._traceUtil.startActiveSpan(l.SPAN_NAME_DOC_REF_SET,()=>{let b=new e.WriteBatch(this._firestore);return v?b=b.set(this,h,v):b=b.set(this,h),b.commit().then(([y])=>y)})}update(h,...v){return this._firestore._traceUtil.startActiveSpan(l.SPAN_NAME_DOC_REF_UPDATE,()=>((0,m.validateMinNumberOfArguments)("DocumentReference.update",arguments,1),new e.WriteBatch(this._firestore).update(this,h,...v).commit().then(([y])=>y)))}onSnapshot(h,v){return(0,m.validateFunction)("onNext",h),(0,m.validateFunction)("onError",v,{optional:!0}),new(requireWatch()).DocumentWatch(this.firestore,this).onSnapshot((y,O,w)=>{for(const T of w())if(T.ref.path===this.path){h(T);return}const I=new o(this._firestore,this._path,this._converter),_=new c.DocumentSnapshotBuilder(I);_.readTime=y,h(_.build())},v||console.error)}isEqual(h){return this===h||h instanceof o&&this._firestore===h._firestore&&this._path.isEqual(h._path)&&this._converter===h._converter}toProto(){return{referenceValue:this.formattedName}}withConverter(h){return new o(this.firestore,this._path,h??(0,a.defaultConverter)())}}return documentReference.DocumentReference=o,documentReference}var hasRequiredDocument;function requireDocument(){if(hasRequiredDocument)return document$1;hasRequiredDocument=1;Object.defineProperty(document$1,"__esModule",{value:!0}),document$1.Precondition=document$1.DocumentTransform=document$1.DocumentMask=document$1.QueryDocumentSnapshot=document$1.DocumentSnapshot=document$1.DocumentSnapshotBuilder=void 0;const e=requireFastDeepEqual(),t=require$$1$3,a=requireFieldValue(),p=requirePath(),g=requireDocumentReference(),m=requireTypes$1(),c=requireUtil();class l{constructor(O){this.ref=O}build(){return t(this.fieldsProto!==void 0==(this.createTime!==void 0),"Create time should be set iff document exists."),t(this.fieldsProto!==void 0==(this.updateTime!==void 0),"Update time should be set iff document exists."),this.fieldsProto?new s(this.ref,this.fieldsProto,this.readTime,this.createTime,this.updateTime):new o(this.ref,void 0,this.readTime)}}document$1.DocumentSnapshotBuilder=l;class o{constructor(O,w,I,_,T){this._fieldsProto=w,this._ref=O,this._serializer=O.firestore._serializer,this._readTime=I,this._createTime=_,this._updateTime=T}static fromObject(O,w){const I=O.firestore._serializer;return new o(O,I.encodeFields(w))}static fromUpdateMap(O,w){const I=O.firestore._serializer;function _(C,N,L,D){const j=L[D],k=D===L.length-1;if(C[j]===void 0)if(k){if(N instanceof a.FieldTransform)return(0,c.isEmpty)(C)?null:C;const V=I.encodeValue(N);return V&&(C[j]=V),C}else{const V={mapValue:{fields:{}}},G=_(V.mapValue.fields,N,L,D+1);return G?(V.mapValue.fields=G,C[j]=V,C):(0,c.isEmpty)(C)?null:C}else return t(!k,"Can't merge current value into a nested object"),C[j].mapValue.fields=_(C[j].mapValue.fields,N,L,D+1),C}const T={};for(const[C,N]of w){const L=C.toArray();_(T,N,L,0)}return new o(O,T)}get exists(){return this._fieldsProto!==void 0}get ref(){return this._ref}get id(){return this._ref.id}get createTime(){return this._createTime}get updateTime(){return this._updateTime}get readTime(){if(this._readTime===void 0)throw new Error("Called 'readTime' on a local document");return this._readTime}data(){const O=this._fieldsProto;if(O!==void 0)if(this.ref._converter!==(0,m.defaultConverter)()){const w=new g.DocumentReference(this.ref.firestore,this.ref._path);return this.ref._converter.fromFirestore(new s(w,this._fieldsProto,this.readTime,this.createTime,this.updateTime))}else{const w={};for(const I of Object.keys(O))w[I]=this._serializer.decodeValue(O[I]);return w}}get(O){(0,p.validateFieldPath)("field",O);const w=this.protoField(O);if(w!==void 0)return this._serializer.decodeValue(w)}protoField(O){let w=this._fieldsProto;if(w===void 0)return;const I=p.FieldPath.fromArgument(O).toArray();for(;I.length>1;){if(w=w[I.shift()],!w||!w.mapValue)return;w=w.mapValue.fields}return w[I[0]]}toWriteProto(){return{update:{name:this._ref.formattedName,fields:this._fieldsProto}}}toDocumentProto(){var O,w;return{name:this._ref.formattedName,createTime:(O=this.createTime)===null||O===void 0?void 0:O.toProto().timestampValue,updateTime:(w=this.updateTime)===null||w===void 0?void 0:w.toProto().timestampValue,fields:this._fieldsProto}}isEqual(O){return this===O||O instanceof o&&this._ref.isEqual(O._ref)&&e(this._fieldsProto,O._fieldsProto)}}document$1.DocumentSnapshot=o;class s extends o{get createTime(){return super.createTime}get updateTime(){return super.updateTime}data(){const O=super.data();if(!O)throw new Error("The data in a QueryDocumentSnapshot should always exist.");return O}}document$1.QueryDocumentSnapshot=s;class h{constructor(O){this._sortedPaths=O,this._sortedPaths.sort((w,I)=>w.compareTo(I))}static fromUpdateMap(O){const w=[];return O.forEach((I,_)=>{(!(I instanceof a.FieldTransform)||I.includeInDocumentMask)&&w.push(p.FieldPath.fromArgument(_))}),new h(w)}static fromFieldMask(O){const w=[];for(const I of O)w.push(p.FieldPath.fromArgument(I));return new h(w)}static fromObject(O){const w=[];function I(_,T){let C=!0;for(const N of Object.keys(_)){C=!1;const L=new p.FieldPath(N),D=T?T.append(L):L,j=_[N];j instanceof a.FieldTransform?j.includeInDocumentMask&&w.push(D):(0,c.isPlainObject)(j)?I(j,D):j!==void 0&&w.push(D)}T&&C&&w.push(T)}return I(O),new h(w)}get isEmpty(){return this._sortedPaths.length===0}static removeFromSortedArray(O,w){for(let I=0;I<O.length;){let _=!1;for(const T of w)if(O[I].isEqual(T)){O.splice(I,1),_=!0;break}_||++I}}removeFields(O){h.removeFromSortedArray(this._sortedPaths,O)}contains(O){for(const w of this._sortedPaths){const I=w.compareTo(O);if(I===0)return!0;if(I>0)return!1}return!1}applyTo(O){const I=(_=>{const T=this._sortedPaths.slice(0),C=(L,D)=>{let j=null;return Object.keys(L).forEach(k=>{const V=D?D.append(k):new p.FieldPath(k);if(this.contains(V))h.removeFromSortedArray(T,[V]),j=j||{},j[k]=L[k];else if((0,c.isObject)(L[k])){const G=C(L[k],V);G&&(j=j||{},j[k]=G)}}),j};return{filteredData:C(_)||{},remainingPaths:T}})(O);if(I.remainingPaths.length!==0)throw new Error(`Input data is missing for field "${I.remainingPaths[0]}".`);return I.filteredData}toProto(){if(this.isEmpty)return{};const O=[];for(const w of this._sortedPaths)O.push(w.formattedName);return{fieldPaths:O}}}document$1.DocumentMask=h;class v{constructor(O,w){this.ref=O,this.transforms=w}static fromObject(O,w){const I=new Map;for(const _ of Object.keys(w))I.set(new p.FieldPath(_),w[_]);return v.fromUpdateMap(O,I)}static fromUpdateMap(O,w){const I=new Map;function _(T,C,N){if(T instanceof a.FieldTransform&&T.includeInDocumentTransform)if(N)I.set(C,T);else throw new Error(`${T.methodName}() is not supported inside of array values.`);else if(Array.isArray(T))for(let L=0;L<T.length;++L)_(T[L],C.append(String(L)),!1);else if((0,c.isPlainObject)(T))for(const L of Object.keys(T))_(T[L],C.append(new p.FieldPath(L)),N)}return w.forEach((T,C)=>{_(T,p.FieldPath.fromArgument(C),!0)}),new v(O,I)}get isEmpty(){return this.transforms.size===0}get fields(){return Array.from(this.transforms.keys())}validate(){const O=!!this.ref.firestore._settings.ignoreUndefinedProperties;this.transforms.forEach(w=>w.validate(O))}toProto(O){return Array.from(this.transforms,([w,I])=>I.toProto(O,w))}}document$1.DocumentTransform=v;class b{constructor(O){O!==void 0&&(this._exists=O.exists,this._lastUpdateTime=O.lastUpdateTime)}toProto(){if(this.isEmpty)return null;const O={};return this._lastUpdateTime!==void 0?O.updateTime=this._lastUpdateTime.toProto().timestampValue:O.exists=this._exists,O}get isEmpty(){return this._exists===void 0&&!this._lastUpdateTime}}return document$1.Precondition=b,document$1}var hasRequiredWriteBatch;function requireWriteBatch(){if(hasRequiredWriteBatch)return writeBatch;hasRequiredWriteBatch=1;Object.defineProperty(writeBatch,"__esModule",{value:!0}),writeBatch.WriteBatch=writeBatch.WriteResult=void 0,writeBatch.validateSetOptions=O,writeBatch.validateDocumentData=w,writeBatch.validateFieldValue=I;const e=requireDocument(),t=requireLogger(),a=requirePath(),p=requireHelpers(),g=requireSerializer(),m=requireTimestamp(),c=requireUtil(),l=requireValidate(),o=requireTraceUtil();class s{constructor(N){this._writeTime=N}get writeTime(){return this._writeTime}isEqual(N){return this===N||N instanceof s&&this._writeTime.isEqual(N._writeTime)}}writeBatch.WriteResult=s;class h{get _opCount(){return this._ops.length}constructor(N){this._ops=[],this._committed=!1,this._firestore=N,this._serializer=new g.Serializer(N),this._allowUndefined=!!N._settings.ignoreUndefinedProperties}get isEmpty(){return this._ops.length===0}verifyNotCommitted(){if(this._committed)throw new Error("Cannot modify a WriteBatch that has been committed.")}create(N,L){const D=(0,p.validateDocumentReference)("documentRef",N),j=D._converter.toFirestore(L);w("data",j,!1,this._allowUndefined),this.verifyNotCommitted();const k=e.DocumentTransform.fromObject(D,j);k.validate();const V=new e.Precondition({exists:!1}),G=()=>{const W=e.DocumentSnapshot.fromObject(D,j).toWriteProto();return k.isEmpty||(W.updateTransforms=k.toProto(this._serializer)),W.currentDocument=V.toProto(),W};return this._ops.push({docPath:N.path,op:G}),this}delete(N,L){const D=(0,p.validateDocumentReference)("documentRef",N);y("precondition",L,{optional:!0}),this.verifyNotCommitted();const j=new e.Precondition(L),k=()=>{const V={delete:D.formattedName};return j.isEmpty||(V.currentDocument=j.toProto()),V};return this._ops.push({docPath:N.path,op:k}),this}set(N,L,D){O("options",D,{optional:!0});const j=D&&"merge"in D&&D.merge,k=D&&"mergeFields"in D,V=(0,p.validateDocumentReference)("documentRef",N);let G;j||k?G=V._converter.toFirestore(L,D):G=V._converter.toFirestore(L),w("data",G,!!(k||j),this._allowUndefined),this.verifyNotCommitted();let J;k&&(J=e.DocumentMask.fromFieldMask(D.mergeFields),G=J.applyTo(G));const W=e.DocumentTransform.fromObject(V,G);W.validate();const K=()=>{const X=e.DocumentSnapshot.fromObject(V,G);k?J.removeFields(W.fields):j&&(J=e.DocumentMask.fromObject(G));const Y=X.toWriteProto();return W.isEmpty||(Y.updateTransforms=W.toProto(this._serializer)),(k||j)&&(Y.updateMask=J.toProto()),Y};return this._ops.push({docPath:N.path,op:K}),this}update(N,L,...D){(0,l.validateMinNumberOfArguments)("WriteBatch.update",arguments,2),(0,p.validateDocumentReference)("documentRef",N),this.verifyNotCommitted();const j=new Map;let k=new e.Precondition({exists:!0});const V="Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition.";if(typeof L=="string"||L instanceof a.FieldPath){const Y=[L,...D];try{for(let te=0;te<Y.length;te+=2)if(te===Y.length-1){const oe=Y[te];b(te+1,oe),k=new e.Precondition(oe)}else{const oe=Y[te];(0,a.validateFieldPath)(te+1,oe),(0,l.validateMinNumberOfArguments)("update",Y,te+1);const le=a.FieldPath.fromArgument(oe);I(te+1,Y[te+1],this._allowUndefined,le),j.set(le,Y[te+1])}}catch(te){throw(0,t.logger)("WriteBatch.update",null,"Varargs validation failed:",te),new Error(`${V} ${te.message}`)}}else try{T("dataOrField",L,this._allowUndefined),(0,l.validateMaxNumberOfArguments)("update",arguments,3),Object.entries(L).forEach(([X,Y])=>{Y!==void 0&&((0,a.validateFieldPath)(X,X),j.set(a.FieldPath.fromArgument(X),Y))}),D.length>0&&(b("preconditionOrValues",D[0]),k=new e.Precondition(D[0]))}catch(X){throw(0,t.logger)("WriteBatch.update",null,"Non-varargs validation failed:",X),new Error(`${V} ${X.message}`)}_("dataOrField",j);const J=e.DocumentTransform.fromUpdateMap(N,j);J.validate();const W=e.DocumentMask.fromUpdateMap(j),K=()=>{const Y=e.DocumentSnapshot.fromUpdateMap(N,j).toWriteProto();return Y.updateMask=W.toProto(),J.isEmpty||(Y.updateTransforms=J.toProto(this._serializer)),Y.currentDocument=k.toProto(),Y};return this._ops.push({docPath:N.path,op:K}),this}commit(){return this._firestore._traceUtil.startActiveSpan(o.SPAN_NAME_BATCH_COMMIT,async()=>{const N=Error().stack,L=[10,...(0,c.getRetryCodes)("commit")];return this._commit({retryCodes:L}).then(D=>(D.writeResults||[]).map(j=>new s(m.Timestamp.fromProto(j.updateTime||D.commitTime)))).catch(D=>{throw(0,c.wrapError)(D,N)})},{[o.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!1,[o.ATTRIBUTE_KEY_DOC_COUNT]:this._opCount})}async _commit(N){var L;this._committed=!0;const D=(L=N?.requestTag)!==null&&L!==void 0?L:(0,c.requestTag)();await this._firestore.initializeIfNeeded(D);const j={database:this._firestore.formattedName,writes:this._ops.map(k=>k.op())};return N?.transactionId&&(j.transaction=N.transactionId),(0,t.logger)("WriteBatch.commit",D,"Sending %d writes",j.writes.length),this._firestore.request(N?.methodName||"commit",j,D,N?.retryCodes)}_reset(){this._ops.splice(0),this._committed=!1}}writeBatch.WriteBatch=h;function v(C,N,L){if(typeof N!="object"||N===null)throw new Error("Input is not an object.");const D=N;let j=0;if(D.exists!==void 0){if(++j,typeof D.exists!="boolean")throw new Error(`${(0,l.invalidArgumentMessage)(C,"precondition")} "exists" is not a boolean.'`);if(L?.allowedExistsValues&&L.allowedExistsValues.indexOf(D.exists)<0)throw new Error(`${(0,l.invalidArgumentMessage)(C,"precondition")} "exists" is not allowed to have the value ${D.exists} (allowed values: ${L.allowedExistsValues.join(", ")})`)}if(D.lastUpdateTime!==void 0&&(++j,!(D.lastUpdateTime instanceof m.Timestamp)))throw new Error(`${(0,l.invalidArgumentMessage)(C,"precondition")} "lastUpdateTime" is not a Firestore Timestamp.`);if(j>1)throw new Error(`${(0,l.invalidArgumentMessage)(C,"precondition")} Input specifies more than one precondition.`)}function b(C,N,L){(0,l.validateOptional)(N,L)||v(C,N,{allowedExistsValues:[!0]})}function y(C,N,L){(0,l.validateOptional)(N,L)||v(C,N)}function O(C,N,L){if(!(0,l.validateOptional)(N,L)){if(!(0,c.isObject)(N))throw new Error(`${(0,l.invalidArgumentMessage)(C,"set() options argument")} Input is not an object.`);const D=N;if("mergeFields"in D)for(let j=0;j<D.mergeFields.length;++j)try{(0,a.validateFieldPath)(j,D.mergeFields[j])}catch(k){throw new Error(`${(0,l.invalidArgumentMessage)(C,"set() options argument")} "mergeFields" is not valid: ${k.message}`)}if("merge"in D&&"mergeFields"in D)throw new Error(`${(0,l.invalidArgumentMessage)(C,"set() options argument")} You cannot specify both "merge" and "mergeFields".`)}}function w(C,N,L,D){if(!(0,c.isPlainObject)(N))throw new Error((0,l.customObjectMessage)(C,N));(0,g.validateUserInput)(C,N,"Firestore document",{allowDeletes:L?"all":"none",allowTransforms:!0,allowUndefined:D})}function I(C,N,L,D){(0,g.validateUserInput)(C,N,"Firestore value",{allowDeletes:"root",allowTransforms:!0,allowUndefined:L},D)}function _(C,N){const L=[];N.forEach((D,j)=>{L.push(j)}),L.sort((D,j)=>D.compareTo(j));for(let D=1;D<L.length;++D)if(L[D-1].isPrefixOf(L[D]))throw new Error(`${(0,l.invalidArgumentMessage)(C,"update map")} Field "${L[D-1]}" was specified multiple times.`)}function T(C,N,L){if(!(0,c.isPlainObject)(N))throw new Error((0,l.customObjectMessage)(C,N));if(Object.keys(N).length===0)throw new Error("At least one field must be updated.");I(C,N,L)}return writeBatch}var hasRequiredBulkWriter;function requireBulkWriter(){return hasRequiredBulkWriter||(hasRequiredBulkWriter=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BulkWriter=e.BulkWriterError=e.DEFAULT_JITTER_FACTOR=e.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT=e.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT=e.RETRY_MAX_BATCH_SIZE=void 0;const t=require$$1$3,a=requireBackoff(),p=requireRateLimiter(),g=requireTimestamp(),m=requireUtil(),c=requireWriteBatch(),l=requireValidate(),o=requireLogger(),s=requireTraceUtil();const h=20;e.RETRY_MAX_BATCH_SIZE=10;e.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT=500;e.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT=1e4;e.DEFAULT_JITTER_FACTOR=.3;const v=1.5;const b=300*1e3;const y=500;class O{constructor(L,D,j,k,V){this.ref=L,this.type=D,this.sendFn=j,this.errorFn=k,this.successFn=V,this.deferred=new m.Deferred,this.failedAttempts=0,this._backoffDuration=0,this._flushed=!1}get promise(){return this.deferred.promise}get backoffDuration(){return this._backoffDuration}markFlushed(){this._flushed=!0}get flushed(){return this._flushed}onError(L){++this.failedAttempts;try{const D=new _(L.code,L.message,this.ref,this.type,this.failedAttempts),j=this.errorFn(D);(0,o.logger)("BulkWriter.errorFn",null,"Ran error callback on error code:",L.code,", shouldRetry:",j," for document:",this.ref.path),j?(this.lastStatus=L.code,this.updateBackoffDuration(),this.sendFn(this)):this.deferred.reject(D)}catch(D){this.deferred.reject(D)}}updateBackoffDuration(){this.lastStatus===8?this._backoffDuration=a.DEFAULT_BACKOFF_MAX_DELAY_MS:this._backoffDuration===0?this._backoffDuration=a.DEFAULT_BACKOFF_INITIAL_DELAY_MS:this._backoffDuration*=a.DEFAULT_BACKOFF_FACTOR}onSuccess(L){try{this.successFn(this.ref,L),this.deferred.resolve(L)}catch(D){this.deferred.reject(D)}}}class w extends c.WriteBatch{constructor(L,D){super(L),this.docPaths=new Set,this.pendingOps=[],this._maxBatchSize=D}get maxBatchSize(){return this._maxBatchSize}setMaxBatchSize(L){t(this.pendingOps.length<=L,"New batch size cannot be less than the number of enqueued writes"),this._maxBatchSize=L}has(L){return this.docPaths.has(L.path)}async bulkCommit(L={}){return this._firestore._traceUtil.startActiveSpan(s.SPAN_NAME_BULK_WRITER_COMMIT,async()=>{var D;const j=(D=L?.requestTag)!==null&&D!==void 0?D:(0,m.requestTag)(),k=Error().stack;let V;try{(0,o.logger)("BulkCommitBatch.bulkCommit",j,`Sending next batch with ${this._opCount} writes`);const G=(0,m.getRetryCodes)("batchWrite");V=await this._commit({retryCodes:G,methodName:"batchWrite",requestTag:j})}catch(G){const J=Array.from({length:this.pendingOps.length});V={writeResults:J.map(()=>({})),status:J.map(()=>G)}}for(let G=0;G<(V.writeResults||[]).length;++G){const J=g.Timestamp.fromMillis(0),W=(V.status||[])[G];if(W.code===0){const K=g.Timestamp.fromProto(V.writeResults[G].updateTime||J);this.pendingOps[G].onSuccess(new c.WriteResult(K))}else{const K=new(requireFallback()).GoogleError(W.message||void 0);K.code=W.code,this.pendingOps[G].onError((0,m.wrapError)(K,k))}}},{[s.ATTRIBUTE_KEY_DOC_COUNT]:this._opCount})}processLastOperation(L){t(!this.docPaths.has(L.ref.path),"Batch should not contain writes to the same document"),this.docPaths.add(L.ref.path),this.pendingOps.push(L)}}class I{constructor(L,D){this.operation=L,this.sendFn=D}}class _ extends Error{constructor(L,D,j,k,V){super(D),this.code=L,this.message=D,this.documentRef=j,this.operationType=k,this.failedAttempts=V}}e.BulkWriterError=_;class T{_getBufferedOperationsCount(){return this._bufferedOperations.length}_setMaxBatchSize(L){t(this._bulkCommitBatch.pendingOps.length===0,"BulkCommitBatch should be empty"),this._maxBatchSize=L,this._bulkCommitBatch=new w(this.firestore,L)}_setMaxPendingOpCount(L){this._maxPendingOpCount=L}constructor(L,D){var j,k;if(this.firestore=L,this._maxBatchSize=h,this._bulkCommitBatch=new w(this.firestore,this._maxBatchSize),this._lastOp=Promise.resolve(),this._pendingOpsCount=0,this._bufferedOperations=[],this._errorHandlerSet=!1,this._maxPendingOpCount=y,this._successFn=()=>{},this._errorFn=V=>{const G=V.operationType==="delete"&&V.code===13;return((0,m.getRetryCodes)("batchWrite").includes(V.code)||G)&&V.failedAttempts<a.MAX_RETRY_ATTEMPTS},this.firestore._incrementBulkWritersCount(),C(D),D?.throttling===!1)this._rateLimiter=new p.RateLimiter(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);else{let V=e.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT,G=e.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT;typeof D?.throttling!="boolean"&&(((j=D?.throttling)===null||j===void 0?void 0:j.maxOpsPerSecond)!==void 0&&(G=D.throttling.maxOpsPerSecond),((k=D?.throttling)===null||k===void 0?void 0:k.initialOpsPerSecond)!==void 0&&(V=D.throttling.initialOpsPerSecond),G<V&&(V=G),V<this._maxBatchSize&&(this._maxBatchSize=V)),this._rateLimiter=new p.RateLimiter(V,v,b,G)}}create(L,D){return this._verifyNotClosed(),this._enqueue(L,"create",j=>j.create(L,D))}delete(L,D){return this._verifyNotClosed(),this._enqueue(L,"delete",j=>j.delete(L,D))}set(L,D,j){return this._verifyNotClosed(),this._enqueue(L,"set",k=>j?k.set(L,D,j):k.set(L,D))}update(L,D,...j){return this._verifyNotClosed(),this._enqueue(L,"update",k=>k.update(L,D,...j))}onWriteResult(L){this._successFn=L}onWriteError(L){this._errorHandlerSet=!0,this._errorFn=L}flush(){return this._verifyNotClosed(),this._scheduleCurrentBatch(!0),this._bufferedOperations.length>0&&this._bufferedOperations[this._bufferedOperations.length-1].operation.markFlushed(),this._lastOp}close(){return this._closePromise||(this._closePromise=this.flush(),this.firestore._decrementBulkWritersCount()),this._closePromise}_verifyNotClosed(){if(this._closePromise)throw new Error("BulkWriter has already been closed.")}_scheduleCurrentBatch(L=!1){if(this._bulkCommitBatch._opCount===0)return;const D=this._bulkCommitBatch;this._bulkCommitBatch=new w(this.firestore,this._maxBatchSize);const j=D.pendingOps.reduce((G,J)=>G.backoffDuration>J.backoffDuration?G:J).backoffDuration,k=T._applyJitter(j),V=new m.Deferred;k>0?(0,a.delayExecution)(()=>V.resolve(),k):V.resolve(),V.promise.then(()=>this._sendBatch(D,L))}async _sendBatch(L,D=!1){const j=(0,m.requestTag)();if(this._rateLimiter.tryMakeRequest(L._opCount))await L.bulkCommit({requestTag:j}),D&&this._scheduleCurrentBatch(D);else{const V=this._rateLimiter.getNextRequestDelayMs(L._opCount);(0,o.logger)("BulkWriter._sendBatch",j,`Backing off for ${V} seconds`),(0,a.delayExecution)(()=>this._sendBatch(L,D),V)}}static _applyJitter(L){if(L===0)return 0;const D=e.DEFAULT_JITTER_FACTOR*(Math.random()*2-1);return Math.min(a.DEFAULT_BACKOFF_MAX_DELAY_MS,L+D*L)}_enqueue(L,D,j){const k=new O(L,D,this._sendFn.bind(this,j),this._errorFn.bind(this),this._successFn.bind(this)),V=k.promise.catch(G=>{if(this._errorHandlerSet)return k.promise;throw G});return this._lastOp=this._lastOp.then(()=>(0,m.silencePromise)(V)),this._pendingOpsCount<this._maxPendingOpCount?(this._pendingOpsCount++,this._sendFn(j,k)):this._bufferedOperations.push(new I(k,()=>{this._pendingOpsCount++,this._sendFn(j,k)})),V.then(G=>(this._pendingOpsCount--,this._processBufferedOps(),G)).catch(G=>{throw this._pendingOpsCount--,this._processBufferedOps(),G})}_processBufferedOps(){this._pendingOpsCount<this._maxPendingOpCount&&this._bufferedOperations.length>0&&this._bufferedOperations.shift().sendFn()}_sendFn(L,D){D.backoffDuration>0&&(this._bulkCommitBatch.pendingOps.length>=e.RETRY_MAX_BATCH_SIZE&&this._scheduleCurrentBatch(!1),this._bulkCommitBatch.setMaxBatchSize(e.RETRY_MAX_BATCH_SIZE)),this._bulkCommitBatch.has(D.ref)&&this._scheduleCurrentBatch(),L(this._bulkCommitBatch),this._bulkCommitBatch.processLastOperation(D),this._bulkCommitBatch._opCount===this._bulkCommitBatch.maxBatchSize?this._scheduleCurrentBatch():D.flushed&&this._scheduleCurrentBatch(!0)}}e.BulkWriter=T;function C(N){if((0,l.validateOptional)(N,{optional:!0}))return;const L="options";if(!(0,m.isObject)(N))throw new Error(`${(0,l.invalidArgumentMessage)(L,"bulkWriter() options argument")} Input is not an object.`);const D=N;if(!(D.throttling===void 0||typeof D.throttling=="boolean")&&(D.throttling.initialOpsPerSecond!==void 0&&(0,l.validateInteger)("initialOpsPerSecond",D.throttling.initialOpsPerSecond,{minValue:1}),D.throttling.maxOpsPerSecond!==void 0&&((0,l.validateInteger)("maxOpsPerSecond",D.throttling.maxOpsPerSecond,{minValue:1}),D.throttling.initialOpsPerSecond!==void 0&&D.throttling.initialOpsPerSecond>D.throttling.maxOpsPerSecond)))throw new Error(`${(0,l.invalidArgumentMessage)(L,"bulkWriter() options argument")} "maxOpsPerSecond" cannot be less than "initialOpsPerSecond".`)}})(bulkWriter)),bulkWriter}var bundle={},firestore_v1_proto_api={exports:{}},hasRequiredFirestore_v1_proto_api;function requireFirestore_v1_proto_api(){return hasRequiredFirestore_v1_proto_api||(hasRequiredFirestore_v1_proto_api=1,(function(e){(t=>{typeof commonjsRequire=="function"&&e&&e.exports&&(e.exports=t(requireMinimal()))})(function(t){var a,p,g,m,c,l=t.util,o=t.roots.firestore_v1||(t.roots.firestore_v1={});function s(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function h(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function v(r){if(this.queries=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function b(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function y(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function O(r){if(this.aggregateFields={},r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function w(r){if(this.fields={},r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function I(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function _(r){if(this.values=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function T(r){if(this.fields={},r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function C(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function N(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function L(r){if(this.fieldPaths=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function D(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function j(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function k(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function V(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function G(r,E,S){t.rpc.Service.call(this,r,E,S)}function J(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function W(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function K(r){if(this.documents=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function X(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Y(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function te(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function oe(r){if(this.documents=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function le(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ee(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function se(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function de(r){if(this.writes=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function he(r){if(this.writeResults=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ge(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function me(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Oe(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function fe(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function _e(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ee(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function z(r){if(this.partitions=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function d(r){if(this.writes=[],this.labels={},r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function P(r){if(this.writeResults=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function A(r){if(this.labels={},r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function $(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ie(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function pe(r){if(this.documents=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ne(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function u(r){if(this.targetIds=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function x(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function M(r){if(this.collectionIds=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function n(r){if(this.writes=[],this.labels={},r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function q(r){if(this.writeResults=[],this.status=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function U(r){if(this.from=[],this.orderBy=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Q(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ye(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ie(r){if(this.filters=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function je(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ke(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ze(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function it(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function dt(r){if(this.fields=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function _t(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function St(r){if(this.aggregations=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function lt(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ve(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Me(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function $e(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Je(r){if(this.values=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ze(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function st(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function mt(r){if(this.indexesUsed=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function bt(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function yt(r){if(this.updateTransforms=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Jt(r){if(this.fieldTransforms=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Gt(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Nt(r){if(this.transformResults=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Lt(r){if(this.targetIds=[],this.removedTargetIds=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Pt(r){if(this.removedTargetIds=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Dt(r){if(this.removedTargetIds=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function kt(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Et(r){if(this.rules=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ot(r){if(this.additionalBindings=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function jt(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function qt(r){if(this.destinations=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function vt(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Tt(r){if(this.methodSettings=[],this.codeownerGithubTeams=[],this.librarySettings=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function At(r){if(this.serviceClassNames={},r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Pe(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ce(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function xe(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ue(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Le(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function nt(r){if(this.renamedServices={},this.renamedResources={},this.ignoredResources=[],this.forcedNamespaceAliases=[],this.handwrittenSignatures=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ht(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function wt(r){if(this.renamedServices={},r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Wt(r){if(this.autoPopulatedFields=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Mt(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function sr(r){if(this.methods=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function pt(r){if(this.pattern=[],this.style=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ut(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function cr(r){if(this.file=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ut(r){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function zt(r){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Or(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function rr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Yt(r){if(this.uninterpretedOption=[],this.declaration=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function dr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function nr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Lr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ve(r){if(this.value=[],this.reservedRange=[],this.reservedName=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Se(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Te(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ne(r){if(this.method=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ke(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ge(r){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function et(r){if(this.uninterpretedOption=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ye(r){if(this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Rt(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function $t(r){if(this.uninterpretedOption=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Qt(r){if(this.uninterpretedOption=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Xt(r){if(this.uninterpretedOption=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function lr(r){if(this.uninterpretedOption=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function yr(r){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Ht(r){if(this.name=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ur(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Zt(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ir(r){if(this.defaults=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function vr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Gr(r){if(this.location=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function _r(r){if(this.path=[],this.span=[],this.leadingDetachedComments=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function nn(r){if(this.annotation=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function qr(r){if(this.path=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function hn(r){if(this.fields={},r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Nr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Fr(r){if(this.values=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function on(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Dr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function xr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function an(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function sn(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Hr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Mr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function ln(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Jr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function un(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function zr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function gn(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function wr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function mn(r){if(this.paths=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function kr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Yr(r){if(this.details=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Qr(r,E,S){t.rpc.Service.call(this,r,E,S)}function Ae(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function Fe(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function We(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function at(r){if(this.operations=[],r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function er(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function gr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function br(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}function pr(r){if(r)for(var E=Object.keys(r),S=0;S<E.length;++S)r[E[S]]!=null&&(this[E[S]]=r[E[S]])}return o.firestore=((g={}).BundledQuery=(s.prototype.parent="",s.prototype.structuredQuery=null,s.prototype.limitType=0,Object.defineProperty(s.prototype,"queryType",{get:l.oneOfGetter(p=["structuredQuery"]),set:l.oneOfSetter(p)}),s.fromObject=function(r){if(r instanceof o.firestore.BundledQuery)return r;var E=new o.firestore.BundledQuery;if(r.parent!=null&&(E.parent=String(r.parent)),r.structuredQuery!=null){if(typeof r.structuredQuery!="object")throw TypeError(".firestore.BundledQuery.structuredQuery: object expected");E.structuredQuery=o.google.firestore.v1.StructuredQuery.fromObject(r.structuredQuery)}switch(r.limitType){default:typeof r.limitType=="number"&&(E.limitType=r.limitType);break;case"FIRST":case 0:E.limitType=0;break;case"LAST":case 1:E.limitType=1}return E},s.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.parent="",S.limitType=E.enums===String?"FIRST":0),r.parent!=null&&r.hasOwnProperty("parent")&&(S.parent=r.parent),r.structuredQuery!=null&&r.hasOwnProperty("structuredQuery")&&(S.structuredQuery=o.google.firestore.v1.StructuredQuery.toObject(r.structuredQuery,E),E.oneofs)&&(S.queryType="structuredQuery"),r.limitType!=null&&r.hasOwnProperty("limitType")&&(S.limitType=E.enums!==String||o.firestore.BundledQuery.LimitType[r.limitType]===void 0?r.limitType:o.firestore.BundledQuery.LimitType[r.limitType]),S},s.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},s.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/firestore.BundledQuery"},s.LimitType=(p={},(c=Object.create(p))[p[0]="FIRST"]="FIRST",c[p[1]="LAST"]="LAST",c),s),g.NamedQuery=(h.prototype.name="",h.prototype.bundledQuery=null,h.prototype.readTime=null,h.fromObject=function(r){if(r instanceof o.firestore.NamedQuery)return r;var E=new o.firestore.NamedQuery;if(r.name!=null&&(E.name=String(r.name)),r.bundledQuery!=null){if(typeof r.bundledQuery!="object")throw TypeError(".firestore.NamedQuery.bundledQuery: object expected");E.bundledQuery=o.firestore.BundledQuery.fromObject(r.bundledQuery)}if(r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".firestore.NamedQuery.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return E},h.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name="",S.bundledQuery=null,S.readTime=null),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.bundledQuery!=null&&r.hasOwnProperty("bundledQuery")&&(S.bundledQuery=o.firestore.BundledQuery.toObject(r.bundledQuery,E)),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E)),S},h.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},h.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/firestore.NamedQuery"},h),g.BundledDocumentMetadata=(v.prototype.name="",v.prototype.readTime=null,v.prototype.exists=!1,v.prototype.queries=l.emptyArray,v.fromObject=function(r){if(r instanceof o.firestore.BundledDocumentMetadata)return r;var E=new o.firestore.BundledDocumentMetadata;if(r.name!=null&&(E.name=String(r.name)),r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".firestore.BundledDocumentMetadata.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}if(r.exists!=null&&(E.exists=!!r.exists),r.queries){if(!Array.isArray(r.queries))throw TypeError(".firestore.BundledDocumentMetadata.queries: array expected");E.queries=[];for(var S=0;S<r.queries.length;++S)E.queries[S]=String(r.queries[S])}return E},v.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.queries=[]),E.defaults&&(S.name="",S.readTime=null,S.exists=!1),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E)),r.exists!=null&&r.hasOwnProperty("exists")&&(S.exists=r.exists),r.queries&&r.queries.length){S.queries=[];for(var ue=0;ue<r.queries.length;++ue)S.queries[ue]=r.queries[ue]}return S},v.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},v.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/firestore.BundledDocumentMetadata"},v),g.BundleMetadata=(b.prototype.id="",b.prototype.createTime=null,b.prototype.version=0,b.prototype.totalDocuments=0,b.prototype.totalBytes=l.Long?l.Long.fromBits(0,0,!0):0,b.fromObject=function(r){if(r instanceof o.firestore.BundleMetadata)return r;var E=new o.firestore.BundleMetadata;if(r.id!=null&&(E.id=String(r.id)),r.createTime!=null){if(typeof r.createTime!="object")throw TypeError(".firestore.BundleMetadata.createTime: object expected");E.createTime=o.google.protobuf.Timestamp.fromObject(r.createTime)}return r.version!=null&&(E.version=r.version>>>0),r.totalDocuments!=null&&(E.totalDocuments=r.totalDocuments>>>0),r.totalBytes!=null&&(l.Long?(E.totalBytes=l.Long.fromValue(r.totalBytes)).unsigned=!0:typeof r.totalBytes=="string"?E.totalBytes=parseInt(r.totalBytes,10):typeof r.totalBytes=="number"?E.totalBytes=r.totalBytes:typeof r.totalBytes=="object"&&(E.totalBytes=new l.LongBits(r.totalBytes.low>>>0,r.totalBytes.high>>>0).toNumber(!0))),E},b.toObject=function(r,E){var S,ue={};return(E=E||{}).defaults&&(ue.id="",ue.createTime=null,ue.version=0,ue.totalDocuments=0,l.Long?(S=new l.Long(0,0,!0),ue.totalBytes=E.longs===String?S.toString():E.longs===Number?S.toNumber():S):ue.totalBytes=E.longs===String?"0":0),r.id!=null&&r.hasOwnProperty("id")&&(ue.id=r.id),r.createTime!=null&&r.hasOwnProperty("createTime")&&(ue.createTime=o.google.protobuf.Timestamp.toObject(r.createTime,E)),r.version!=null&&r.hasOwnProperty("version")&&(ue.version=r.version),r.totalDocuments!=null&&r.hasOwnProperty("totalDocuments")&&(ue.totalDocuments=r.totalDocuments),r.totalBytes!=null&&r.hasOwnProperty("totalBytes")&&(typeof r.totalBytes=="number"?ue.totalBytes=E.longs===String?String(r.totalBytes):r.totalBytes:ue.totalBytes=E.longs===String?l.Long.prototype.toString.call(r.totalBytes):E.longs===Number?new l.LongBits(r.totalBytes.low>>>0,r.totalBytes.high>>>0).toNumber(!0):r.totalBytes),ue},b.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},b.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/firestore.BundleMetadata"},b),g.BundleElement=(y.prototype.metadata=null,y.prototype.namedQuery=null,y.prototype.documentMetadata=null,y.prototype.document=null,Object.defineProperty(y.prototype,"elementType",{get:l.oneOfGetter(p=["metadata","namedQuery","documentMetadata","document"]),set:l.oneOfSetter(p)}),y.fromObject=function(r){if(r instanceof o.firestore.BundleElement)return r;var E=new o.firestore.BundleElement;if(r.metadata!=null){if(typeof r.metadata!="object")throw TypeError(".firestore.BundleElement.metadata: object expected");E.metadata=o.firestore.BundleMetadata.fromObject(r.metadata)}if(r.namedQuery!=null){if(typeof r.namedQuery!="object")throw TypeError(".firestore.BundleElement.namedQuery: object expected");E.namedQuery=o.firestore.NamedQuery.fromObject(r.namedQuery)}if(r.documentMetadata!=null){if(typeof r.documentMetadata!="object")throw TypeError(".firestore.BundleElement.documentMetadata: object expected");E.documentMetadata=o.firestore.BundledDocumentMetadata.fromObject(r.documentMetadata)}if(r.document!=null){if(typeof r.document!="object")throw TypeError(".firestore.BundleElement.document: object expected");E.document=o.google.firestore.v1.Document.fromObject(r.document)}return E},y.toObject=function(r,E){E=E||{};var S={};return r.metadata!=null&&r.hasOwnProperty("metadata")&&(S.metadata=o.firestore.BundleMetadata.toObject(r.metadata,E),E.oneofs)&&(S.elementType="metadata"),r.namedQuery!=null&&r.hasOwnProperty("namedQuery")&&(S.namedQuery=o.firestore.NamedQuery.toObject(r.namedQuery,E),E.oneofs)&&(S.elementType="namedQuery"),r.documentMetadata!=null&&r.hasOwnProperty("documentMetadata")&&(S.documentMetadata=o.firestore.BundledDocumentMetadata.toObject(r.documentMetadata,E),E.oneofs)&&(S.elementType="documentMetadata"),r.document!=null&&r.hasOwnProperty("document")&&(S.document=o.google.firestore.v1.Document.toObject(r.document,E),E.oneofs)&&(S.elementType="document"),S},y.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},y.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/firestore.BundleElement"},y),g),o.google=((c={}).firestore=((p={}).v1=((g={}).AggregationResult=(O.prototype.aggregateFields=l.emptyObject,O.fromObject=function(r){if(r instanceof o.google.firestore.v1.AggregationResult)return r;var E=new o.google.firestore.v1.AggregationResult;if(r.aggregateFields){if(typeof r.aggregateFields!="object")throw TypeError(".google.firestore.v1.AggregationResult.aggregateFields: object expected");E.aggregateFields={};for(var S=Object.keys(r.aggregateFields),ue=0;ue<S.length;++ue){if(typeof r.aggregateFields[S[ue]]!="object")throw TypeError(".google.firestore.v1.AggregationResult.aggregateFields: object expected");E.aggregateFields[S[ue]]=o.google.firestore.v1.Value.fromObject(r.aggregateFields[S[ue]])}}return E},O.toObject=function(r,E){var S,ue={};if(((E=E||{}).objects||E.defaults)&&(ue.aggregateFields={}),r.aggregateFields&&(S=Object.keys(r.aggregateFields)).length){ue.aggregateFields={};for(var Qe=0;Qe<S.length;++Qe)ue.aggregateFields[S[Qe]]=o.google.firestore.v1.Value.toObject(r.aggregateFields[S[Qe]],E)}return ue},O.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},O.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.AggregationResult"},O),g.Document=(w.prototype.name="",w.prototype.fields=l.emptyObject,w.prototype.createTime=null,w.prototype.updateTime=null,w.fromObject=function(r){if(r instanceof o.google.firestore.v1.Document)return r;var E=new o.google.firestore.v1.Document;if(r.name!=null&&(E.name=String(r.name)),r.fields){if(typeof r.fields!="object")throw TypeError(".google.firestore.v1.Document.fields: object expected");E.fields={};for(var S=Object.keys(r.fields),ue=0;ue<S.length;++ue){if(typeof r.fields[S[ue]]!="object")throw TypeError(".google.firestore.v1.Document.fields: object expected");E.fields[S[ue]]=o.google.firestore.v1.Value.fromObject(r.fields[S[ue]])}}if(r.createTime!=null){if(typeof r.createTime!="object")throw TypeError(".google.firestore.v1.Document.createTime: object expected");E.createTime=o.google.protobuf.Timestamp.fromObject(r.createTime)}if(r.updateTime!=null){if(typeof r.updateTime!="object")throw TypeError(".google.firestore.v1.Document.updateTime: object expected");E.updateTime=o.google.protobuf.Timestamp.fromObject(r.updateTime)}return E},w.toObject=function(r,E){var S,ue={};if(((E=E||{}).objects||E.defaults)&&(ue.fields={}),E.defaults&&(ue.name="",ue.createTime=null,ue.updateTime=null),r.name!=null&&r.hasOwnProperty("name")&&(ue.name=r.name),r.fields&&(S=Object.keys(r.fields)).length){ue.fields={};for(var Qe=0;Qe<S.length;++Qe)ue.fields[S[Qe]]=o.google.firestore.v1.Value.toObject(r.fields[S[Qe]],E)}return r.createTime!=null&&r.hasOwnProperty("createTime")&&(ue.createTime=o.google.protobuf.Timestamp.toObject(r.createTime,E)),r.updateTime!=null&&r.hasOwnProperty("updateTime")&&(ue.updateTime=o.google.protobuf.Timestamp.toObject(r.updateTime,E)),ue},w.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},w.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.Document"},w),g.Value=(I.prototype.nullValue=null,I.prototype.booleanValue=null,I.prototype.integerValue=null,I.prototype.doubleValue=null,I.prototype.timestampValue=null,I.prototype.stringValue=null,I.prototype.bytesValue=null,I.prototype.referenceValue=null,I.prototype.geoPointValue=null,I.prototype.arrayValue=null,I.prototype.mapValue=null,Object.defineProperty(I.prototype,"valueType",{get:l.oneOfGetter(m=["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]),set:l.oneOfSetter(m)}),I.fromObject=function(r){if(r instanceof o.google.firestore.v1.Value)return r;var E=new o.google.firestore.v1.Value;switch(r.nullValue){default:typeof r.nullValue=="number"&&(E.nullValue=r.nullValue);break;case"NULL_VALUE":case 0:E.nullValue=0}if(r.booleanValue!=null&&(E.booleanValue=!!r.booleanValue),r.integerValue!=null&&(l.Long?(E.integerValue=l.Long.fromValue(r.integerValue)).unsigned=!1:typeof r.integerValue=="string"?E.integerValue=parseInt(r.integerValue,10):typeof r.integerValue=="number"?E.integerValue=r.integerValue:typeof r.integerValue=="object"&&(E.integerValue=new l.LongBits(r.integerValue.low>>>0,r.integerValue.high>>>0).toNumber())),r.doubleValue!=null&&(E.doubleValue=Number(r.doubleValue)),r.timestampValue!=null){if(typeof r.timestampValue!="object")throw TypeError(".google.firestore.v1.Value.timestampValue: object expected");E.timestampValue=o.google.protobuf.Timestamp.fromObject(r.timestampValue)}if(r.stringValue!=null&&(E.stringValue=String(r.stringValue)),r.bytesValue!=null&&(typeof r.bytesValue=="string"?l.base64.decode(r.bytesValue,E.bytesValue=l.newBuffer(l.base64.length(r.bytesValue)),0):0<=r.bytesValue.length&&(E.bytesValue=r.bytesValue)),r.referenceValue!=null&&(E.referenceValue=String(r.referenceValue)),r.geoPointValue!=null){if(typeof r.geoPointValue!="object")throw TypeError(".google.firestore.v1.Value.geoPointValue: object expected");E.geoPointValue=o.google.type.LatLng.fromObject(r.geoPointValue)}if(r.arrayValue!=null){if(typeof r.arrayValue!="object")throw TypeError(".google.firestore.v1.Value.arrayValue: object expected");E.arrayValue=o.google.firestore.v1.ArrayValue.fromObject(r.arrayValue)}if(r.mapValue!=null){if(typeof r.mapValue!="object")throw TypeError(".google.firestore.v1.Value.mapValue: object expected");E.mapValue=o.google.firestore.v1.MapValue.fromObject(r.mapValue)}return E},I.toObject=function(r,E){E=E||{};var S={};return r.booleanValue!=null&&r.hasOwnProperty("booleanValue")&&(S.booleanValue=r.booleanValue,E.oneofs)&&(S.valueType="booleanValue"),r.integerValue!=null&&r.hasOwnProperty("integerValue")&&(typeof r.integerValue=="number"?S.integerValue=E.longs===String?String(r.integerValue):r.integerValue:S.integerValue=E.longs===String?l.Long.prototype.toString.call(r.integerValue):E.longs===Number?new l.LongBits(r.integerValue.low>>>0,r.integerValue.high>>>0).toNumber():r.integerValue,E.oneofs)&&(S.valueType="integerValue"),r.doubleValue!=null&&r.hasOwnProperty("doubleValue")&&(S.doubleValue=E.json&&!isFinite(r.doubleValue)?String(r.doubleValue):r.doubleValue,E.oneofs)&&(S.valueType="doubleValue"),r.referenceValue!=null&&r.hasOwnProperty("referenceValue")&&(S.referenceValue=r.referenceValue,E.oneofs)&&(S.valueType="referenceValue"),r.mapValue!=null&&r.hasOwnProperty("mapValue")&&(S.mapValue=o.google.firestore.v1.MapValue.toObject(r.mapValue,E),E.oneofs)&&(S.valueType="mapValue"),r.geoPointValue!=null&&r.hasOwnProperty("geoPointValue")&&(S.geoPointValue=o.google.type.LatLng.toObject(r.geoPointValue,E),E.oneofs)&&(S.valueType="geoPointValue"),r.arrayValue!=null&&r.hasOwnProperty("arrayValue")&&(S.arrayValue=o.google.firestore.v1.ArrayValue.toObject(r.arrayValue,E),E.oneofs)&&(S.valueType="arrayValue"),r.timestampValue!=null&&r.hasOwnProperty("timestampValue")&&(S.timestampValue=o.google.protobuf.Timestamp.toObject(r.timestampValue,E),E.oneofs)&&(S.valueType="timestampValue"),r.nullValue!=null&&r.hasOwnProperty("nullValue")&&(S.nullValue=E.enums!==String||o.google.protobuf.NullValue[r.nullValue]===void 0?r.nullValue:o.google.protobuf.NullValue[r.nullValue],E.oneofs)&&(S.valueType="nullValue"),r.stringValue!=null&&r.hasOwnProperty("stringValue")&&(S.stringValue=r.stringValue,E.oneofs)&&(S.valueType="stringValue"),r.bytesValue!=null&&r.hasOwnProperty("bytesValue")&&(S.bytesValue=E.bytes===String?l.base64.encode(r.bytesValue,0,r.bytesValue.length):E.bytes===Array?Array.prototype.slice.call(r.bytesValue):r.bytesValue,E.oneofs)&&(S.valueType="bytesValue"),S},I.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},I.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.Value"},I),g.ArrayValue=(_.prototype.values=l.emptyArray,_.fromObject=function(r){if(r instanceof o.google.firestore.v1.ArrayValue)return r;var E=new o.google.firestore.v1.ArrayValue;if(r.values){if(!Array.isArray(r.values))throw TypeError(".google.firestore.v1.ArrayValue.values: array expected");E.values=[];for(var S=0;S<r.values.length;++S){if(typeof r.values[S]!="object")throw TypeError(".google.firestore.v1.ArrayValue.values: object expected");E.values[S]=o.google.firestore.v1.Value.fromObject(r.values[S])}}return E},_.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.values=[]),r.values&&r.values.length){S.values=[];for(var ue=0;ue<r.values.length;++ue)S.values[ue]=o.google.firestore.v1.Value.toObject(r.values[ue],E)}return S},_.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},_.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ArrayValue"},_),g.MapValue=(T.prototype.fields=l.emptyObject,T.fromObject=function(r){if(r instanceof o.google.firestore.v1.MapValue)return r;var E=new o.google.firestore.v1.MapValue;if(r.fields){if(typeof r.fields!="object")throw TypeError(".google.firestore.v1.MapValue.fields: object expected");E.fields={};for(var S=Object.keys(r.fields),ue=0;ue<S.length;++ue){if(typeof r.fields[S[ue]]!="object")throw TypeError(".google.firestore.v1.MapValue.fields: object expected");E.fields[S[ue]]=o.google.firestore.v1.Value.fromObject(r.fields[S[ue]])}}return E},T.toObject=function(r,E){var S,ue={};if(((E=E||{}).objects||E.defaults)&&(ue.fields={}),r.fields&&(S=Object.keys(r.fields)).length){ue.fields={};for(var Qe=0;Qe<S.length;++Qe)ue.fields[S[Qe]]=o.google.firestore.v1.Value.toObject(r.fields[S[Qe]],E)}return ue},T.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},T.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.MapValue"},T),g.BitSequence=(C.prototype.bitmap=l.newBuffer([]),C.prototype.padding=0,C.fromObject=function(r){var E;return r instanceof o.google.firestore.v1.BitSequence?r:(E=new o.google.firestore.v1.BitSequence,r.bitmap!=null&&(typeof r.bitmap=="string"?l.base64.decode(r.bitmap,E.bitmap=l.newBuffer(l.base64.length(r.bitmap)),0):0<=r.bitmap.length&&(E.bitmap=r.bitmap)),r.padding!=null&&(E.padding=0|r.padding),E)},C.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(E.bytes===String?S.bitmap="":(S.bitmap=[],E.bytes!==Array&&(S.bitmap=l.newBuffer(S.bitmap))),S.padding=0),r.bitmap!=null&&r.hasOwnProperty("bitmap")&&(S.bitmap=E.bytes===String?l.base64.encode(r.bitmap,0,r.bitmap.length):E.bytes===Array?Array.prototype.slice.call(r.bitmap):r.bitmap),r.padding!=null&&r.hasOwnProperty("padding")&&(S.padding=r.padding),S},C.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},C.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.BitSequence"},C),g.BloomFilter=(N.prototype.bits=null,N.prototype.hashCount=0,N.fromObject=function(r){if(r instanceof o.google.firestore.v1.BloomFilter)return r;var E=new o.google.firestore.v1.BloomFilter;if(r.bits!=null){if(typeof r.bits!="object")throw TypeError(".google.firestore.v1.BloomFilter.bits: object expected");E.bits=o.google.firestore.v1.BitSequence.fromObject(r.bits)}return r.hashCount!=null&&(E.hashCount=0|r.hashCount),E},N.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.bits=null,S.hashCount=0),r.bits!=null&&r.hasOwnProperty("bits")&&(S.bits=o.google.firestore.v1.BitSequence.toObject(r.bits,E)),r.hashCount!=null&&r.hasOwnProperty("hashCount")&&(S.hashCount=r.hashCount),S},N.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},N.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.BloomFilter"},N),g.DocumentMask=(L.prototype.fieldPaths=l.emptyArray,L.fromObject=function(r){if(r instanceof o.google.firestore.v1.DocumentMask)return r;var E=new o.google.firestore.v1.DocumentMask;if(r.fieldPaths){if(!Array.isArray(r.fieldPaths))throw TypeError(".google.firestore.v1.DocumentMask.fieldPaths: array expected");E.fieldPaths=[];for(var S=0;S<r.fieldPaths.length;++S)E.fieldPaths[S]=String(r.fieldPaths[S])}return E},L.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.fieldPaths=[]),r.fieldPaths&&r.fieldPaths.length){S.fieldPaths=[];for(var ue=0;ue<r.fieldPaths.length;++ue)S.fieldPaths[ue]=r.fieldPaths[ue]}return S},L.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},L.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.DocumentMask"},L),g.Precondition=(D.prototype.exists=null,D.prototype.updateTime=null,Object.defineProperty(D.prototype,"conditionType",{get:l.oneOfGetter(m=["exists","updateTime"]),set:l.oneOfSetter(m)}),D.fromObject=function(r){if(r instanceof o.google.firestore.v1.Precondition)return r;var E=new o.google.firestore.v1.Precondition;if(r.exists!=null&&(E.exists=!!r.exists),r.updateTime!=null){if(typeof r.updateTime!="object")throw TypeError(".google.firestore.v1.Precondition.updateTime: object expected");E.updateTime=o.google.protobuf.Timestamp.fromObject(r.updateTime)}return E},D.toObject=function(r,E){E=E||{};var S={};return r.exists!=null&&r.hasOwnProperty("exists")&&(S.exists=r.exists,E.oneofs)&&(S.conditionType="exists"),r.updateTime!=null&&r.hasOwnProperty("updateTime")&&(S.updateTime=o.google.protobuf.Timestamp.toObject(r.updateTime,E),E.oneofs)&&(S.conditionType="updateTime"),S},D.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},D.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.Precondition"},D),g.TransactionOptions=(j.prototype.readOnly=null,j.prototype.readWrite=null,Object.defineProperty(j.prototype,"mode",{get:l.oneOfGetter(m=["readOnly","readWrite"]),set:l.oneOfSetter(m)}),j.fromObject=function(r){if(r instanceof o.google.firestore.v1.TransactionOptions)return r;var E=new o.google.firestore.v1.TransactionOptions;if(r.readOnly!=null){if(typeof r.readOnly!="object")throw TypeError(".google.firestore.v1.TransactionOptions.readOnly: object expected");E.readOnly=o.google.firestore.v1.TransactionOptions.ReadOnly.fromObject(r.readOnly)}if(r.readWrite!=null){if(typeof r.readWrite!="object")throw TypeError(".google.firestore.v1.TransactionOptions.readWrite: object expected");E.readWrite=o.google.firestore.v1.TransactionOptions.ReadWrite.fromObject(r.readWrite)}return E},j.toObject=function(r,E){E=E||{};var S={};return r.readOnly!=null&&r.hasOwnProperty("readOnly")&&(S.readOnly=o.google.firestore.v1.TransactionOptions.ReadOnly.toObject(r.readOnly,E),E.oneofs)&&(S.mode="readOnly"),r.readWrite!=null&&r.hasOwnProperty("readWrite")&&(S.readWrite=o.google.firestore.v1.TransactionOptions.ReadWrite.toObject(r.readWrite,E),E.oneofs)&&(S.mode="readWrite"),S},j.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},j.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.TransactionOptions"},j.ReadWrite=(k.prototype.retryTransaction=l.newBuffer([]),k.fromObject=function(r){var E;return r instanceof o.google.firestore.v1.TransactionOptions.ReadWrite?r:(E=new o.google.firestore.v1.TransactionOptions.ReadWrite,r.retryTransaction!=null&&(typeof r.retryTransaction=="string"?l.base64.decode(r.retryTransaction,E.retryTransaction=l.newBuffer(l.base64.length(r.retryTransaction)),0):0<=r.retryTransaction.length&&(E.retryTransaction=r.retryTransaction)),E)},k.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(E.bytes===String?S.retryTransaction="":(S.retryTransaction=[],E.bytes!==Array&&(S.retryTransaction=l.newBuffer(S.retryTransaction)))),r.retryTransaction!=null&&r.hasOwnProperty("retryTransaction")&&(S.retryTransaction=E.bytes===String?l.base64.encode(r.retryTransaction,0,r.retryTransaction.length):E.bytes===Array?Array.prototype.slice.call(r.retryTransaction):r.retryTransaction),S},k.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},k.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.TransactionOptions.ReadWrite"},k),j.ReadOnly=(V.prototype.readTime=null,Object.defineProperty(V.prototype,"consistencySelector",{get:l.oneOfGetter(m=["readTime"]),set:l.oneOfSetter(m)}),V.fromObject=function(r){if(r instanceof o.google.firestore.v1.TransactionOptions.ReadOnly)return r;var E=new o.google.firestore.v1.TransactionOptions.ReadOnly;if(r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.TransactionOptions.ReadOnly.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return E},V.toObject=function(r,E){E=E||{};var S={};return r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E),E.oneofs)&&(S.consistencySelector="readTime"),S},V.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},V.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.TransactionOptions.ReadOnly"},V),j),g.Firestore=((G.prototype=Object.create(t.rpc.Service.prototype)).constructor=G,Object.defineProperty(G.prototype.getDocument=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.GetDocumentRequest,o.google.firestore.v1.Document,E,S)},"name",{value:"GetDocument"}),Object.defineProperty(G.prototype.listDocuments=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.ListDocumentsRequest,o.google.firestore.v1.ListDocumentsResponse,E,S)},"name",{value:"ListDocuments"}),Object.defineProperty(G.prototype.updateDocument=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.UpdateDocumentRequest,o.google.firestore.v1.Document,E,S)},"name",{value:"UpdateDocument"}),Object.defineProperty(G.prototype.deleteDocument=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.DeleteDocumentRequest,o.google.protobuf.Empty,E,S)},"name",{value:"DeleteDocument"}),Object.defineProperty(G.prototype.batchGetDocuments=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.BatchGetDocumentsRequest,o.google.firestore.v1.BatchGetDocumentsResponse,E,S)},"name",{value:"BatchGetDocuments"}),Object.defineProperty(G.prototype.beginTransaction=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.BeginTransactionRequest,o.google.firestore.v1.BeginTransactionResponse,E,S)},"name",{value:"BeginTransaction"}),Object.defineProperty(G.prototype.commit=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.CommitRequest,o.google.firestore.v1.CommitResponse,E,S)},"name",{value:"Commit"}),Object.defineProperty(G.prototype.rollback=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.RollbackRequest,o.google.protobuf.Empty,E,S)},"name",{value:"Rollback"}),Object.defineProperty(G.prototype.runQuery=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.RunQueryRequest,o.google.firestore.v1.RunQueryResponse,E,S)},"name",{value:"RunQuery"}),Object.defineProperty(G.prototype.runAggregationQuery=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.RunAggregationQueryRequest,o.google.firestore.v1.RunAggregationQueryResponse,E,S)},"name",{value:"RunAggregationQuery"}),Object.defineProperty(G.prototype.partitionQuery=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.PartitionQueryRequest,o.google.firestore.v1.PartitionQueryResponse,E,S)},"name",{value:"PartitionQuery"}),Object.defineProperty(G.prototype.write=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.WriteRequest,o.google.firestore.v1.WriteResponse,E,S)},"name",{value:"Write"}),Object.defineProperty(G.prototype.listen=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.ListenRequest,o.google.firestore.v1.ListenResponse,E,S)},"name",{value:"Listen"}),Object.defineProperty(G.prototype.listCollectionIds=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.ListCollectionIdsRequest,o.google.firestore.v1.ListCollectionIdsResponse,E,S)},"name",{value:"ListCollectionIds"}),Object.defineProperty(G.prototype.batchWrite=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.BatchWriteRequest,o.google.firestore.v1.BatchWriteResponse,E,S)},"name",{value:"BatchWrite"}),Object.defineProperty(G.prototype.createDocument=function r(E,S){return this.rpcCall(r,o.google.firestore.v1.CreateDocumentRequest,o.google.firestore.v1.Document,E,S)},"name",{value:"CreateDocument"}),G),g.GetDocumentRequest=(J.prototype.name="",J.prototype.mask=null,J.prototype.transaction=null,J.prototype.readTime=null,Object.defineProperty(J.prototype,"consistencySelector",{get:l.oneOfGetter(m=["transaction","readTime"]),set:l.oneOfSetter(m)}),J.fromObject=function(r){if(r instanceof o.google.firestore.v1.GetDocumentRequest)return r;var E=new o.google.firestore.v1.GetDocumentRequest;if(r.name!=null&&(E.name=String(r.name)),r.mask!=null){if(typeof r.mask!="object")throw TypeError(".google.firestore.v1.GetDocumentRequest.mask: object expected");E.mask=o.google.firestore.v1.DocumentMask.fromObject(r.mask)}if(r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.GetDocumentRequest.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return E},J.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name="",S.mask=null),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.mask!=null&&r.hasOwnProperty("mask")&&(S.mask=o.google.firestore.v1.DocumentMask.toObject(r.mask,E)),r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction,E.oneofs)&&(S.consistencySelector="transaction"),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E),E.oneofs)&&(S.consistencySelector="readTime"),S},J.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},J.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.GetDocumentRequest"},J),g.ListDocumentsRequest=(W.prototype.parent="",W.prototype.collectionId="",W.prototype.pageSize=0,W.prototype.pageToken="",W.prototype.orderBy="",W.prototype.mask=null,W.prototype.transaction=null,W.prototype.readTime=null,W.prototype.showMissing=!1,Object.defineProperty(W.prototype,"consistencySelector",{get:l.oneOfGetter(m=["transaction","readTime"]),set:l.oneOfSetter(m)}),W.fromObject=function(r){if(r instanceof o.google.firestore.v1.ListDocumentsRequest)return r;var E=new o.google.firestore.v1.ListDocumentsRequest;if(r.parent!=null&&(E.parent=String(r.parent)),r.collectionId!=null&&(E.collectionId=String(r.collectionId)),r.pageSize!=null&&(E.pageSize=0|r.pageSize),r.pageToken!=null&&(E.pageToken=String(r.pageToken)),r.orderBy!=null&&(E.orderBy=String(r.orderBy)),r.mask!=null){if(typeof r.mask!="object")throw TypeError(".google.firestore.v1.ListDocumentsRequest.mask: object expected");E.mask=o.google.firestore.v1.DocumentMask.fromObject(r.mask)}if(r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.ListDocumentsRequest.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return r.showMissing!=null&&(E.showMissing=!!r.showMissing),E},W.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.parent="",S.collectionId="",S.pageSize=0,S.pageToken="",S.orderBy="",S.mask=null,S.showMissing=!1),r.parent!=null&&r.hasOwnProperty("parent")&&(S.parent=r.parent),r.collectionId!=null&&r.hasOwnProperty("collectionId")&&(S.collectionId=r.collectionId),r.pageSize!=null&&r.hasOwnProperty("pageSize")&&(S.pageSize=r.pageSize),r.pageToken!=null&&r.hasOwnProperty("pageToken")&&(S.pageToken=r.pageToken),r.orderBy!=null&&r.hasOwnProperty("orderBy")&&(S.orderBy=r.orderBy),r.mask!=null&&r.hasOwnProperty("mask")&&(S.mask=o.google.firestore.v1.DocumentMask.toObject(r.mask,E)),r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction,E.oneofs)&&(S.consistencySelector="transaction"),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E),E.oneofs)&&(S.consistencySelector="readTime"),r.showMissing!=null&&r.hasOwnProperty("showMissing")&&(S.showMissing=r.showMissing),S},W.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},W.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ListDocumentsRequest"},W),g.ListDocumentsResponse=(K.prototype.documents=l.emptyArray,K.prototype.nextPageToken="",K.fromObject=function(r){if(r instanceof o.google.firestore.v1.ListDocumentsResponse)return r;var E=new o.google.firestore.v1.ListDocumentsResponse;if(r.documents){if(!Array.isArray(r.documents))throw TypeError(".google.firestore.v1.ListDocumentsResponse.documents: array expected");E.documents=[];for(var S=0;S<r.documents.length;++S){if(typeof r.documents[S]!="object")throw TypeError(".google.firestore.v1.ListDocumentsResponse.documents: object expected");E.documents[S]=o.google.firestore.v1.Document.fromObject(r.documents[S])}}return r.nextPageToken!=null&&(E.nextPageToken=String(r.nextPageToken)),E},K.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.documents=[]),E.defaults&&(S.nextPageToken=""),r.documents&&r.documents.length){S.documents=[];for(var ue=0;ue<r.documents.length;++ue)S.documents[ue]=o.google.firestore.v1.Document.toObject(r.documents[ue],E)}return r.nextPageToken!=null&&r.hasOwnProperty("nextPageToken")&&(S.nextPageToken=r.nextPageToken),S},K.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},K.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ListDocumentsResponse"},K),g.CreateDocumentRequest=(X.prototype.parent="",X.prototype.collectionId="",X.prototype.documentId="",X.prototype.document=null,X.prototype.mask=null,X.fromObject=function(r){if(r instanceof o.google.firestore.v1.CreateDocumentRequest)return r;var E=new o.google.firestore.v1.CreateDocumentRequest;if(r.parent!=null&&(E.parent=String(r.parent)),r.collectionId!=null&&(E.collectionId=String(r.collectionId)),r.documentId!=null&&(E.documentId=String(r.documentId)),r.document!=null){if(typeof r.document!="object")throw TypeError(".google.firestore.v1.CreateDocumentRequest.document: object expected");E.document=o.google.firestore.v1.Document.fromObject(r.document)}if(r.mask!=null){if(typeof r.mask!="object")throw TypeError(".google.firestore.v1.CreateDocumentRequest.mask: object expected");E.mask=o.google.firestore.v1.DocumentMask.fromObject(r.mask)}return E},X.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.parent="",S.collectionId="",S.documentId="",S.document=null,S.mask=null),r.parent!=null&&r.hasOwnProperty("parent")&&(S.parent=r.parent),r.collectionId!=null&&r.hasOwnProperty("collectionId")&&(S.collectionId=r.collectionId),r.documentId!=null&&r.hasOwnProperty("documentId")&&(S.documentId=r.documentId),r.document!=null&&r.hasOwnProperty("document")&&(S.document=o.google.firestore.v1.Document.toObject(r.document,E)),r.mask!=null&&r.hasOwnProperty("mask")&&(S.mask=o.google.firestore.v1.DocumentMask.toObject(r.mask,E)),S},X.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},X.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.CreateDocumentRequest"},X),g.UpdateDocumentRequest=(Y.prototype.document=null,Y.prototype.updateMask=null,Y.prototype.mask=null,Y.prototype.currentDocument=null,Y.fromObject=function(r){if(r instanceof o.google.firestore.v1.UpdateDocumentRequest)return r;var E=new o.google.firestore.v1.UpdateDocumentRequest;if(r.document!=null){if(typeof r.document!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.document: object expected");E.document=o.google.firestore.v1.Document.fromObject(r.document)}if(r.updateMask!=null){if(typeof r.updateMask!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.updateMask: object expected");E.updateMask=o.google.firestore.v1.DocumentMask.fromObject(r.updateMask)}if(r.mask!=null){if(typeof r.mask!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.mask: object expected");E.mask=o.google.firestore.v1.DocumentMask.fromObject(r.mask)}if(r.currentDocument!=null){if(typeof r.currentDocument!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.currentDocument: object expected");E.currentDocument=o.google.firestore.v1.Precondition.fromObject(r.currentDocument)}return E},Y.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.document=null,S.updateMask=null,S.mask=null,S.currentDocument=null),r.document!=null&&r.hasOwnProperty("document")&&(S.document=o.google.firestore.v1.Document.toObject(r.document,E)),r.updateMask!=null&&r.hasOwnProperty("updateMask")&&(S.updateMask=o.google.firestore.v1.DocumentMask.toObject(r.updateMask,E)),r.mask!=null&&r.hasOwnProperty("mask")&&(S.mask=o.google.firestore.v1.DocumentMask.toObject(r.mask,E)),r.currentDocument!=null&&r.hasOwnProperty("currentDocument")&&(S.currentDocument=o.google.firestore.v1.Precondition.toObject(r.currentDocument,E)),S},Y.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Y.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.UpdateDocumentRequest"},Y),g.DeleteDocumentRequest=(te.prototype.name="",te.prototype.currentDocument=null,te.fromObject=function(r){if(r instanceof o.google.firestore.v1.DeleteDocumentRequest)return r;var E=new o.google.firestore.v1.DeleteDocumentRequest;if(r.name!=null&&(E.name=String(r.name)),r.currentDocument!=null){if(typeof r.currentDocument!="object")throw TypeError(".google.firestore.v1.DeleteDocumentRequest.currentDocument: object expected");E.currentDocument=o.google.firestore.v1.Precondition.fromObject(r.currentDocument)}return E},te.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name="",S.currentDocument=null),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.currentDocument!=null&&r.hasOwnProperty("currentDocument")&&(S.currentDocument=o.google.firestore.v1.Precondition.toObject(r.currentDocument,E)),S},te.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},te.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.DeleteDocumentRequest"},te),g.BatchGetDocumentsRequest=(oe.prototype.database="",oe.prototype.documents=l.emptyArray,oe.prototype.mask=null,oe.prototype.transaction=null,oe.prototype.newTransaction=null,oe.prototype.readTime=null,Object.defineProperty(oe.prototype,"consistencySelector",{get:l.oneOfGetter(m=["transaction","newTransaction","readTime"]),set:l.oneOfSetter(m)}),oe.fromObject=function(r){if(r instanceof o.google.firestore.v1.BatchGetDocumentsRequest)return r;var E=new o.google.firestore.v1.BatchGetDocumentsRequest;if(r.database!=null&&(E.database=String(r.database)),r.documents){if(!Array.isArray(r.documents))throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.documents: array expected");E.documents=[];for(var S=0;S<r.documents.length;++S)E.documents[S]=String(r.documents[S])}if(r.mask!=null){if(typeof r.mask!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.mask: object expected");E.mask=o.google.firestore.v1.DocumentMask.fromObject(r.mask)}if(r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),r.newTransaction!=null){if(typeof r.newTransaction!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.newTransaction: object expected");E.newTransaction=o.google.firestore.v1.TransactionOptions.fromObject(r.newTransaction)}if(r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return E},oe.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.documents=[]),E.defaults&&(S.database="",S.mask=null),r.database!=null&&r.hasOwnProperty("database")&&(S.database=r.database),r.documents&&r.documents.length){S.documents=[];for(var ue=0;ue<r.documents.length;++ue)S.documents[ue]=r.documents[ue]}return r.mask!=null&&r.hasOwnProperty("mask")&&(S.mask=o.google.firestore.v1.DocumentMask.toObject(r.mask,E)),r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction,E.oneofs)&&(S.consistencySelector="transaction"),r.newTransaction!=null&&r.hasOwnProperty("newTransaction")&&(S.newTransaction=o.google.firestore.v1.TransactionOptions.toObject(r.newTransaction,E),E.oneofs)&&(S.consistencySelector="newTransaction"),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E),E.oneofs)&&(S.consistencySelector="readTime"),S},oe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},oe.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.BatchGetDocumentsRequest"},oe),g.BatchGetDocumentsResponse=(le.prototype.found=null,le.prototype.missing=null,le.prototype.transaction=l.newBuffer([]),le.prototype.readTime=null,Object.defineProperty(le.prototype,"result",{get:l.oneOfGetter(m=["found","missing"]),set:l.oneOfSetter(m)}),le.fromObject=function(r){if(r instanceof o.google.firestore.v1.BatchGetDocumentsResponse)return r;var E=new o.google.firestore.v1.BatchGetDocumentsResponse;if(r.found!=null){if(typeof r.found!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsResponse.found: object expected");E.found=o.google.firestore.v1.Document.fromObject(r.found)}if(r.missing!=null&&(E.missing=String(r.missing)),r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsResponse.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return E},le.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(E.bytes===String?S.transaction="":(S.transaction=[],E.bytes!==Array&&(S.transaction=l.newBuffer(S.transaction))),S.readTime=null),r.found!=null&&r.hasOwnProperty("found")&&(S.found=o.google.firestore.v1.Document.toObject(r.found,E),E.oneofs)&&(S.result="found"),r.missing!=null&&r.hasOwnProperty("missing")&&(S.missing=r.missing,E.oneofs)&&(S.result="missing"),r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E)),S},le.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},le.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.BatchGetDocumentsResponse"},le),g.BeginTransactionRequest=(ee.prototype.database="",ee.prototype.options=null,ee.fromObject=function(r){if(r instanceof o.google.firestore.v1.BeginTransactionRequest)return r;var E=new o.google.firestore.v1.BeginTransactionRequest;if(r.database!=null&&(E.database=String(r.database)),r.options!=null){if(typeof r.options!="object")throw TypeError(".google.firestore.v1.BeginTransactionRequest.options: object expected");E.options=o.google.firestore.v1.TransactionOptions.fromObject(r.options)}return E},ee.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.database="",S.options=null),r.database!=null&&r.hasOwnProperty("database")&&(S.database=r.database),r.options!=null&&r.hasOwnProperty("options")&&(S.options=o.google.firestore.v1.TransactionOptions.toObject(r.options,E)),S},ee.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ee.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.BeginTransactionRequest"},ee),g.BeginTransactionResponse=(se.prototype.transaction=l.newBuffer([]),se.fromObject=function(r){var E;return r instanceof o.google.firestore.v1.BeginTransactionResponse?r:(E=new o.google.firestore.v1.BeginTransactionResponse,r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),E)},se.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(E.bytes===String?S.transaction="":(S.transaction=[],E.bytes!==Array&&(S.transaction=l.newBuffer(S.transaction)))),r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction),S},se.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},se.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.BeginTransactionResponse"},se),g.CommitRequest=(de.prototype.database="",de.prototype.writes=l.emptyArray,de.prototype.transaction=l.newBuffer([]),de.fromObject=function(r){if(r instanceof o.google.firestore.v1.CommitRequest)return r;var E=new o.google.firestore.v1.CommitRequest;if(r.database!=null&&(E.database=String(r.database)),r.writes){if(!Array.isArray(r.writes))throw TypeError(".google.firestore.v1.CommitRequest.writes: array expected");E.writes=[];for(var S=0;S<r.writes.length;++S){if(typeof r.writes[S]!="object")throw TypeError(".google.firestore.v1.CommitRequest.writes: object expected");E.writes[S]=o.google.firestore.v1.Write.fromObject(r.writes[S])}}return r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),E},de.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.writes=[]),E.defaults&&(S.database="",E.bytes===String?S.transaction="":(S.transaction=[],E.bytes!==Array&&(S.transaction=l.newBuffer(S.transaction)))),r.database!=null&&r.hasOwnProperty("database")&&(S.database=r.database),r.writes&&r.writes.length){S.writes=[];for(var ue=0;ue<r.writes.length;++ue)S.writes[ue]=o.google.firestore.v1.Write.toObject(r.writes[ue],E)}return r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction),S},de.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},de.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.CommitRequest"},de),g.CommitResponse=(he.prototype.writeResults=l.emptyArray,he.prototype.commitTime=null,he.fromObject=function(r){if(r instanceof o.google.firestore.v1.CommitResponse)return r;var E=new o.google.firestore.v1.CommitResponse;if(r.writeResults){if(!Array.isArray(r.writeResults))throw TypeError(".google.firestore.v1.CommitResponse.writeResults: array expected");E.writeResults=[];for(var S=0;S<r.writeResults.length;++S){if(typeof r.writeResults[S]!="object")throw TypeError(".google.firestore.v1.CommitResponse.writeResults: object expected");E.writeResults[S]=o.google.firestore.v1.WriteResult.fromObject(r.writeResults[S])}}if(r.commitTime!=null){if(typeof r.commitTime!="object")throw TypeError(".google.firestore.v1.CommitResponse.commitTime: object expected");E.commitTime=o.google.protobuf.Timestamp.fromObject(r.commitTime)}return E},he.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.writeResults=[]),E.defaults&&(S.commitTime=null),r.writeResults&&r.writeResults.length){S.writeResults=[];for(var ue=0;ue<r.writeResults.length;++ue)S.writeResults[ue]=o.google.firestore.v1.WriteResult.toObject(r.writeResults[ue],E)}return r.commitTime!=null&&r.hasOwnProperty("commitTime")&&(S.commitTime=o.google.protobuf.Timestamp.toObject(r.commitTime,E)),S},he.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},he.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.CommitResponse"},he),g.RollbackRequest=(ge.prototype.database="",ge.prototype.transaction=l.newBuffer([]),ge.fromObject=function(r){var E;return r instanceof o.google.firestore.v1.RollbackRequest?r:(E=new o.google.firestore.v1.RollbackRequest,r.database!=null&&(E.database=String(r.database)),r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),E)},ge.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.database="",E.bytes===String?S.transaction="":(S.transaction=[],E.bytes!==Array&&(S.transaction=l.newBuffer(S.transaction)))),r.database!=null&&r.hasOwnProperty("database")&&(S.database=r.database),r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction),S},ge.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ge.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.RollbackRequest"},ge),g.RunQueryRequest=(me.prototype.parent="",me.prototype.structuredQuery=null,me.prototype.transaction=null,me.prototype.newTransaction=null,me.prototype.readTime=null,me.prototype.explainOptions=null,Object.defineProperty(me.prototype,"queryType",{get:l.oneOfGetter(m=["structuredQuery"]),set:l.oneOfSetter(m)}),Object.defineProperty(me.prototype,"consistencySelector",{get:l.oneOfGetter(m=["transaction","newTransaction","readTime"]),set:l.oneOfSetter(m)}),me.fromObject=function(r){if(r instanceof o.google.firestore.v1.RunQueryRequest)return r;var E=new o.google.firestore.v1.RunQueryRequest;if(r.parent!=null&&(E.parent=String(r.parent)),r.structuredQuery!=null){if(typeof r.structuredQuery!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.structuredQuery: object expected");E.structuredQuery=o.google.firestore.v1.StructuredQuery.fromObject(r.structuredQuery)}if(r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),r.newTransaction!=null){if(typeof r.newTransaction!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.newTransaction: object expected");E.newTransaction=o.google.firestore.v1.TransactionOptions.fromObject(r.newTransaction)}if(r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}if(r.explainOptions!=null){if(typeof r.explainOptions!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.explainOptions: object expected");E.explainOptions=o.google.firestore.v1.ExplainOptions.fromObject(r.explainOptions)}return E},me.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.parent="",S.explainOptions=null),r.parent!=null&&r.hasOwnProperty("parent")&&(S.parent=r.parent),r.structuredQuery!=null&&r.hasOwnProperty("structuredQuery")&&(S.structuredQuery=o.google.firestore.v1.StructuredQuery.toObject(r.structuredQuery,E),E.oneofs)&&(S.queryType="structuredQuery"),r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction,E.oneofs)&&(S.consistencySelector="transaction"),r.newTransaction!=null&&r.hasOwnProperty("newTransaction")&&(S.newTransaction=o.google.firestore.v1.TransactionOptions.toObject(r.newTransaction,E),E.oneofs)&&(S.consistencySelector="newTransaction"),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E),E.oneofs)&&(S.consistencySelector="readTime"),r.explainOptions!=null&&r.hasOwnProperty("explainOptions")&&(S.explainOptions=o.google.firestore.v1.ExplainOptions.toObject(r.explainOptions,E)),S},me.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},me.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.RunQueryRequest"},me),g.RunQueryResponse=(Oe.prototype.transaction=l.newBuffer([]),Oe.prototype.document=null,Oe.prototype.readTime=null,Oe.prototype.skippedResults=0,Oe.prototype.done=null,Oe.prototype.explainMetrics=null,Object.defineProperty(Oe.prototype,"continuationSelector",{get:l.oneOfGetter(m=["done"]),set:l.oneOfSetter(m)}),Oe.fromObject=function(r){if(r instanceof o.google.firestore.v1.RunQueryResponse)return r;var E=new o.google.firestore.v1.RunQueryResponse;if(r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),r.document!=null){if(typeof r.document!="object")throw TypeError(".google.firestore.v1.RunQueryResponse.document: object expected");E.document=o.google.firestore.v1.Document.fromObject(r.document)}if(r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.RunQueryResponse.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}if(r.skippedResults!=null&&(E.skippedResults=0|r.skippedResults),r.done!=null&&(E.done=!!r.done),r.explainMetrics!=null){if(typeof r.explainMetrics!="object")throw TypeError(".google.firestore.v1.RunQueryResponse.explainMetrics: object expected");E.explainMetrics=o.google.firestore.v1.ExplainMetrics.fromObject(r.explainMetrics)}return E},Oe.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.document=null,E.bytes===String?S.transaction="":(S.transaction=[],E.bytes!==Array&&(S.transaction=l.newBuffer(S.transaction))),S.readTime=null,S.skippedResults=0,S.explainMetrics=null),r.document!=null&&r.hasOwnProperty("document")&&(S.document=o.google.firestore.v1.Document.toObject(r.document,E)),r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E)),r.skippedResults!=null&&r.hasOwnProperty("skippedResults")&&(S.skippedResults=r.skippedResults),r.done!=null&&r.hasOwnProperty("done")&&(S.done=r.done,E.oneofs)&&(S.continuationSelector="done"),r.explainMetrics!=null&&r.hasOwnProperty("explainMetrics")&&(S.explainMetrics=o.google.firestore.v1.ExplainMetrics.toObject(r.explainMetrics,E)),S},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Oe.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.RunQueryResponse"},Oe),g.RunAggregationQueryRequest=(fe.prototype.parent="",fe.prototype.structuredAggregationQuery=null,fe.prototype.transaction=null,fe.prototype.newTransaction=null,fe.prototype.readTime=null,fe.prototype.explainOptions=null,Object.defineProperty(fe.prototype,"queryType",{get:l.oneOfGetter(m=["structuredAggregationQuery"]),set:l.oneOfSetter(m)}),Object.defineProperty(fe.prototype,"consistencySelector",{get:l.oneOfGetter(m=["transaction","newTransaction","readTime"]),set:l.oneOfSetter(m)}),fe.fromObject=function(r){if(r instanceof o.google.firestore.v1.RunAggregationQueryRequest)return r;var E=new o.google.firestore.v1.RunAggregationQueryRequest;if(r.parent!=null&&(E.parent=String(r.parent)),r.structuredAggregationQuery!=null){if(typeof r.structuredAggregationQuery!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.structuredAggregationQuery: object expected");E.structuredAggregationQuery=o.google.firestore.v1.StructuredAggregationQuery.fromObject(r.structuredAggregationQuery)}if(r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),r.newTransaction!=null){if(typeof r.newTransaction!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.newTransaction: object expected");E.newTransaction=o.google.firestore.v1.TransactionOptions.fromObject(r.newTransaction)}if(r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}if(r.explainOptions!=null){if(typeof r.explainOptions!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.explainOptions: object expected");E.explainOptions=o.google.firestore.v1.ExplainOptions.fromObject(r.explainOptions)}return E},fe.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.parent="",S.explainOptions=null),r.parent!=null&&r.hasOwnProperty("parent")&&(S.parent=r.parent),r.structuredAggregationQuery!=null&&r.hasOwnProperty("structuredAggregationQuery")&&(S.structuredAggregationQuery=o.google.firestore.v1.StructuredAggregationQuery.toObject(r.structuredAggregationQuery,E),E.oneofs)&&(S.queryType="structuredAggregationQuery"),r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction,E.oneofs)&&(S.consistencySelector="transaction"),r.newTransaction!=null&&r.hasOwnProperty("newTransaction")&&(S.newTransaction=o.google.firestore.v1.TransactionOptions.toObject(r.newTransaction,E),E.oneofs)&&(S.consistencySelector="newTransaction"),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E),E.oneofs)&&(S.consistencySelector="readTime"),r.explainOptions!=null&&r.hasOwnProperty("explainOptions")&&(S.explainOptions=o.google.firestore.v1.ExplainOptions.toObject(r.explainOptions,E)),S},fe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},fe.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.RunAggregationQueryRequest"},fe),g.RunAggregationQueryResponse=(_e.prototype.result=null,_e.prototype.transaction=l.newBuffer([]),_e.prototype.readTime=null,_e.prototype.explainMetrics=null,_e.fromObject=function(r){if(r instanceof o.google.firestore.v1.RunAggregationQueryResponse)return r;var E=new o.google.firestore.v1.RunAggregationQueryResponse;if(r.result!=null){if(typeof r.result!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.result: object expected");E.result=o.google.firestore.v1.AggregationResult.fromObject(r.result)}if(r.transaction!=null&&(typeof r.transaction=="string"?l.base64.decode(r.transaction,E.transaction=l.newBuffer(l.base64.length(r.transaction)),0):0<=r.transaction.length&&(E.transaction=r.transaction)),r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}if(r.explainMetrics!=null){if(typeof r.explainMetrics!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.explainMetrics: object expected");E.explainMetrics=o.google.firestore.v1.ExplainMetrics.fromObject(r.explainMetrics)}return E},_e.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.result=null,E.bytes===String?S.transaction="":(S.transaction=[],E.bytes!==Array&&(S.transaction=l.newBuffer(S.transaction))),S.readTime=null,S.explainMetrics=null),r.result!=null&&r.hasOwnProperty("result")&&(S.result=o.google.firestore.v1.AggregationResult.toObject(r.result,E)),r.transaction!=null&&r.hasOwnProperty("transaction")&&(S.transaction=E.bytes===String?l.base64.encode(r.transaction,0,r.transaction.length):E.bytes===Array?Array.prototype.slice.call(r.transaction):r.transaction),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E)),r.explainMetrics!=null&&r.hasOwnProperty("explainMetrics")&&(S.explainMetrics=o.google.firestore.v1.ExplainMetrics.toObject(r.explainMetrics,E)),S},_e.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},_e.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.RunAggregationQueryResponse"},_e),g.PartitionQueryRequest=(Ee.prototype.parent="",Ee.prototype.structuredQuery=null,Ee.prototype.partitionCount=l.Long?l.Long.fromBits(0,0,!1):0,Ee.prototype.pageToken="",Ee.prototype.pageSize=0,Ee.prototype.readTime=null,Object.defineProperty(Ee.prototype,"queryType",{get:l.oneOfGetter(m=["structuredQuery"]),set:l.oneOfSetter(m)}),Object.defineProperty(Ee.prototype,"consistencySelector",{get:l.oneOfGetter(m=["readTime"]),set:l.oneOfSetter(m)}),Ee.fromObject=function(r){if(r instanceof o.google.firestore.v1.PartitionQueryRequest)return r;var E=new o.google.firestore.v1.PartitionQueryRequest;if(r.parent!=null&&(E.parent=String(r.parent)),r.structuredQuery!=null){if(typeof r.structuredQuery!="object")throw TypeError(".google.firestore.v1.PartitionQueryRequest.structuredQuery: object expected");E.structuredQuery=o.google.firestore.v1.StructuredQuery.fromObject(r.structuredQuery)}if(r.partitionCount!=null&&(l.Long?(E.partitionCount=l.Long.fromValue(r.partitionCount)).unsigned=!1:typeof r.partitionCount=="string"?E.partitionCount=parseInt(r.partitionCount,10):typeof r.partitionCount=="number"?E.partitionCount=r.partitionCount:typeof r.partitionCount=="object"&&(E.partitionCount=new l.LongBits(r.partitionCount.low>>>0,r.partitionCount.high>>>0).toNumber())),r.pageToken!=null&&(E.pageToken=String(r.pageToken)),r.pageSize!=null&&(E.pageSize=0|r.pageSize),r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.PartitionQueryRequest.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return E},Ee.toObject=function(r,E){var S,ue={};return(E=E||{}).defaults&&(ue.parent="",l.Long?(S=new l.Long(0,0,!1),ue.partitionCount=E.longs===String?S.toString():E.longs===Number?S.toNumber():S):ue.partitionCount=E.longs===String?"0":0,ue.pageToken="",ue.pageSize=0),r.parent!=null&&r.hasOwnProperty("parent")&&(ue.parent=r.parent),r.structuredQuery!=null&&r.hasOwnProperty("structuredQuery")&&(ue.structuredQuery=o.google.firestore.v1.StructuredQuery.toObject(r.structuredQuery,E),E.oneofs)&&(ue.queryType="structuredQuery"),r.partitionCount!=null&&r.hasOwnProperty("partitionCount")&&(typeof r.partitionCount=="number"?ue.partitionCount=E.longs===String?String(r.partitionCount):r.partitionCount:ue.partitionCount=E.longs===String?l.Long.prototype.toString.call(r.partitionCount):E.longs===Number?new l.LongBits(r.partitionCount.low>>>0,r.partitionCount.high>>>0).toNumber():r.partitionCount),r.pageToken!=null&&r.hasOwnProperty("pageToken")&&(ue.pageToken=r.pageToken),r.pageSize!=null&&r.hasOwnProperty("pageSize")&&(ue.pageSize=r.pageSize),r.readTime!=null&&r.hasOwnProperty("readTime")&&(ue.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E),E.oneofs)&&(ue.consistencySelector="readTime"),ue},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ee.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.PartitionQueryRequest"},Ee),g.PartitionQueryResponse=(z.prototype.partitions=l.emptyArray,z.prototype.nextPageToken="",z.fromObject=function(r){if(r instanceof o.google.firestore.v1.PartitionQueryResponse)return r;var E=new o.google.firestore.v1.PartitionQueryResponse;if(r.partitions){if(!Array.isArray(r.partitions))throw TypeError(".google.firestore.v1.PartitionQueryResponse.partitions: array expected");E.partitions=[];for(var S=0;S<r.partitions.length;++S){if(typeof r.partitions[S]!="object")throw TypeError(".google.firestore.v1.PartitionQueryResponse.partitions: object expected");E.partitions[S]=o.google.firestore.v1.Cursor.fromObject(r.partitions[S])}}return r.nextPageToken!=null&&(E.nextPageToken=String(r.nextPageToken)),E},z.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.partitions=[]),E.defaults&&(S.nextPageToken=""),r.partitions&&r.partitions.length){S.partitions=[];for(var ue=0;ue<r.partitions.length;++ue)S.partitions[ue]=o.google.firestore.v1.Cursor.toObject(r.partitions[ue],E)}return r.nextPageToken!=null&&r.hasOwnProperty("nextPageToken")&&(S.nextPageToken=r.nextPageToken),S},z.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},z.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.PartitionQueryResponse"},z),g.WriteRequest=(d.prototype.database="",d.prototype.streamId="",d.prototype.writes=l.emptyArray,d.prototype.streamToken=l.newBuffer([]),d.prototype.labels=l.emptyObject,d.fromObject=function(r){if(r instanceof o.google.firestore.v1.WriteRequest)return r;var E=new o.google.firestore.v1.WriteRequest;if(r.database!=null&&(E.database=String(r.database)),r.streamId!=null&&(E.streamId=String(r.streamId)),r.writes){if(!Array.isArray(r.writes))throw TypeError(".google.firestore.v1.WriteRequest.writes: array expected");E.writes=[];for(var S=0;S<r.writes.length;++S){if(typeof r.writes[S]!="object")throw TypeError(".google.firestore.v1.WriteRequest.writes: object expected");E.writes[S]=o.google.firestore.v1.Write.fromObject(r.writes[S])}}if(r.streamToken!=null&&(typeof r.streamToken=="string"?l.base64.decode(r.streamToken,E.streamToken=l.newBuffer(l.base64.length(r.streamToken)),0):0<=r.streamToken.length&&(E.streamToken=r.streamToken)),r.labels){if(typeof r.labels!="object")throw TypeError(".google.firestore.v1.WriteRequest.labels: object expected");E.labels={};for(var ue=Object.keys(r.labels),S=0;S<ue.length;++S)E.labels[ue[S]]=String(r.labels[ue[S]])}return E},d.toObject=function(r,E){var S,ue={};if(((E=E||{}).arrays||E.defaults)&&(ue.writes=[]),(E.objects||E.defaults)&&(ue.labels={}),E.defaults&&(ue.database="",ue.streamId="",E.bytes===String?ue.streamToken="":(ue.streamToken=[],E.bytes!==Array&&(ue.streamToken=l.newBuffer(ue.streamToken)))),r.database!=null&&r.hasOwnProperty("database")&&(ue.database=r.database),r.streamId!=null&&r.hasOwnProperty("streamId")&&(ue.streamId=r.streamId),r.writes&&r.writes.length){ue.writes=[];for(var Qe=0;Qe<r.writes.length;++Qe)ue.writes[Qe]=o.google.firestore.v1.Write.toObject(r.writes[Qe],E)}if(r.streamToken!=null&&r.hasOwnProperty("streamToken")&&(ue.streamToken=E.bytes===String?l.base64.encode(r.streamToken,0,r.streamToken.length):E.bytes===Array?Array.prototype.slice.call(r.streamToken):r.streamToken),r.labels&&(S=Object.keys(r.labels)).length)for(ue.labels={},Qe=0;Qe<S.length;++Qe)ue.labels[S[Qe]]=r.labels[S[Qe]];return ue},d.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},d.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.WriteRequest"},d),g.WriteResponse=(P.prototype.streamId="",P.prototype.streamToken=l.newBuffer([]),P.prototype.writeResults=l.emptyArray,P.prototype.commitTime=null,P.fromObject=function(r){if(r instanceof o.google.firestore.v1.WriteResponse)return r;var E=new o.google.firestore.v1.WriteResponse;if(r.streamId!=null&&(E.streamId=String(r.streamId)),r.streamToken!=null&&(typeof r.streamToken=="string"?l.base64.decode(r.streamToken,E.streamToken=l.newBuffer(l.base64.length(r.streamToken)),0):0<=r.streamToken.length&&(E.streamToken=r.streamToken)),r.writeResults){if(!Array.isArray(r.writeResults))throw TypeError(".google.firestore.v1.WriteResponse.writeResults: array expected");E.writeResults=[];for(var S=0;S<r.writeResults.length;++S){if(typeof r.writeResults[S]!="object")throw TypeError(".google.firestore.v1.WriteResponse.writeResults: object expected");E.writeResults[S]=o.google.firestore.v1.WriteResult.fromObject(r.writeResults[S])}}if(r.commitTime!=null){if(typeof r.commitTime!="object")throw TypeError(".google.firestore.v1.WriteResponse.commitTime: object expected");E.commitTime=o.google.protobuf.Timestamp.fromObject(r.commitTime)}return E},P.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.writeResults=[]),E.defaults&&(S.streamId="",E.bytes===String?S.streamToken="":(S.streamToken=[],E.bytes!==Array&&(S.streamToken=l.newBuffer(S.streamToken))),S.commitTime=null),r.streamId!=null&&r.hasOwnProperty("streamId")&&(S.streamId=r.streamId),r.streamToken!=null&&r.hasOwnProperty("streamToken")&&(S.streamToken=E.bytes===String?l.base64.encode(r.streamToken,0,r.streamToken.length):E.bytes===Array?Array.prototype.slice.call(r.streamToken):r.streamToken),r.writeResults&&r.writeResults.length){S.writeResults=[];for(var ue=0;ue<r.writeResults.length;++ue)S.writeResults[ue]=o.google.firestore.v1.WriteResult.toObject(r.writeResults[ue],E)}return r.commitTime!=null&&r.hasOwnProperty("commitTime")&&(S.commitTime=o.google.protobuf.Timestamp.toObject(r.commitTime,E)),S},P.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},P.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.WriteResponse"},P),g.ListenRequest=(A.prototype.database="",A.prototype.addTarget=null,A.prototype.removeTarget=null,A.prototype.labels=l.emptyObject,Object.defineProperty(A.prototype,"targetChange",{get:l.oneOfGetter(m=["addTarget","removeTarget"]),set:l.oneOfSetter(m)}),A.fromObject=function(r){if(r instanceof o.google.firestore.v1.ListenRequest)return r;var E=new o.google.firestore.v1.ListenRequest;if(r.database!=null&&(E.database=String(r.database)),r.addTarget!=null){if(typeof r.addTarget!="object")throw TypeError(".google.firestore.v1.ListenRequest.addTarget: object expected");E.addTarget=o.google.firestore.v1.Target.fromObject(r.addTarget)}if(r.removeTarget!=null&&(E.removeTarget=0|r.removeTarget),r.labels){if(typeof r.labels!="object")throw TypeError(".google.firestore.v1.ListenRequest.labels: object expected");E.labels={};for(var S=Object.keys(r.labels),ue=0;ue<S.length;++ue)E.labels[S[ue]]=String(r.labels[S[ue]])}return E},A.toObject=function(r,E){var S,ue={};if(((E=E||{}).objects||E.defaults)&&(ue.labels={}),E.defaults&&(ue.database=""),r.database!=null&&r.hasOwnProperty("database")&&(ue.database=r.database),r.addTarget!=null&&r.hasOwnProperty("addTarget")&&(ue.addTarget=o.google.firestore.v1.Target.toObject(r.addTarget,E),E.oneofs)&&(ue.targetChange="addTarget"),r.removeTarget!=null&&r.hasOwnProperty("removeTarget")&&(ue.removeTarget=r.removeTarget,E.oneofs)&&(ue.targetChange="removeTarget"),r.labels&&(S=Object.keys(r.labels)).length){ue.labels={};for(var Qe=0;Qe<S.length;++Qe)ue.labels[S[Qe]]=r.labels[S[Qe]]}return ue},A.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},A.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ListenRequest"},A),g.ListenResponse=($.prototype.targetChange=null,$.prototype.documentChange=null,$.prototype.documentDelete=null,$.prototype.documentRemove=null,$.prototype.filter=null,Object.defineProperty($.prototype,"responseType",{get:l.oneOfGetter(m=["targetChange","documentChange","documentDelete","documentRemove","filter"]),set:l.oneOfSetter(m)}),$.fromObject=function(r){if(r instanceof o.google.firestore.v1.ListenResponse)return r;var E=new o.google.firestore.v1.ListenResponse;if(r.targetChange!=null){if(typeof r.targetChange!="object")throw TypeError(".google.firestore.v1.ListenResponse.targetChange: object expected");E.targetChange=o.google.firestore.v1.TargetChange.fromObject(r.targetChange)}if(r.documentChange!=null){if(typeof r.documentChange!="object")throw TypeError(".google.firestore.v1.ListenResponse.documentChange: object expected");E.documentChange=o.google.firestore.v1.DocumentChange.fromObject(r.documentChange)}if(r.documentDelete!=null){if(typeof r.documentDelete!="object")throw TypeError(".google.firestore.v1.ListenResponse.documentDelete: object expected");E.documentDelete=o.google.firestore.v1.DocumentDelete.fromObject(r.documentDelete)}if(r.documentRemove!=null){if(typeof r.documentRemove!="object")throw TypeError(".google.firestore.v1.ListenResponse.documentRemove: object expected");E.documentRemove=o.google.firestore.v1.DocumentRemove.fromObject(r.documentRemove)}if(r.filter!=null){if(typeof r.filter!="object")throw TypeError(".google.firestore.v1.ListenResponse.filter: object expected");E.filter=o.google.firestore.v1.ExistenceFilter.fromObject(r.filter)}return E},$.toObject=function(r,E){E=E||{};var S={};return r.targetChange!=null&&r.hasOwnProperty("targetChange")&&(S.targetChange=o.google.firestore.v1.TargetChange.toObject(r.targetChange,E),E.oneofs)&&(S.responseType="targetChange"),r.documentChange!=null&&r.hasOwnProperty("documentChange")&&(S.documentChange=o.google.firestore.v1.DocumentChange.toObject(r.documentChange,E),E.oneofs)&&(S.responseType="documentChange"),r.documentDelete!=null&&r.hasOwnProperty("documentDelete")&&(S.documentDelete=o.google.firestore.v1.DocumentDelete.toObject(r.documentDelete,E),E.oneofs)&&(S.responseType="documentDelete"),r.filter!=null&&r.hasOwnProperty("filter")&&(S.filter=o.google.firestore.v1.ExistenceFilter.toObject(r.filter,E),E.oneofs)&&(S.responseType="filter"),r.documentRemove!=null&&r.hasOwnProperty("documentRemove")&&(S.documentRemove=o.google.firestore.v1.DocumentRemove.toObject(r.documentRemove,E),E.oneofs)&&(S.responseType="documentRemove"),S},$.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},$.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ListenResponse"},$),g.Target=(ie.prototype.query=null,ie.prototype.documents=null,ie.prototype.resumeToken=null,ie.prototype.readTime=null,ie.prototype.targetId=0,ie.prototype.once=!1,ie.prototype.expectedCount=null,Object.defineProperty(ie.prototype,"targetType",{get:l.oneOfGetter(m=["query","documents"]),set:l.oneOfSetter(m)}),Object.defineProperty(ie.prototype,"resumeType",{get:l.oneOfGetter(m=["resumeToken","readTime"]),set:l.oneOfSetter(m)}),ie.fromObject=function(r){if(r instanceof o.google.firestore.v1.Target)return r;var E=new o.google.firestore.v1.Target;if(r.query!=null){if(typeof r.query!="object")throw TypeError(".google.firestore.v1.Target.query: object expected");E.query=o.google.firestore.v1.Target.QueryTarget.fromObject(r.query)}if(r.documents!=null){if(typeof r.documents!="object")throw TypeError(".google.firestore.v1.Target.documents: object expected");E.documents=o.google.firestore.v1.Target.DocumentsTarget.fromObject(r.documents)}if(r.resumeToken!=null&&(typeof r.resumeToken=="string"?l.base64.decode(r.resumeToken,E.resumeToken=l.newBuffer(l.base64.length(r.resumeToken)),0):0<=r.resumeToken.length&&(E.resumeToken=r.resumeToken)),r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.Target.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}if(r.targetId!=null&&(E.targetId=0|r.targetId),r.once!=null&&(E.once=!!r.once),r.expectedCount!=null){if(typeof r.expectedCount!="object")throw TypeError(".google.firestore.v1.Target.expectedCount: object expected");E.expectedCount=o.google.protobuf.Int32Value.fromObject(r.expectedCount)}return E},ie.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.targetId=0,S.once=!1,S.expectedCount=null),r.query!=null&&r.hasOwnProperty("query")&&(S.query=o.google.firestore.v1.Target.QueryTarget.toObject(r.query,E),E.oneofs)&&(S.targetType="query"),r.documents!=null&&r.hasOwnProperty("documents")&&(S.documents=o.google.firestore.v1.Target.DocumentsTarget.toObject(r.documents,E),E.oneofs)&&(S.targetType="documents"),r.resumeToken!=null&&r.hasOwnProperty("resumeToken")&&(S.resumeToken=E.bytes===String?l.base64.encode(r.resumeToken,0,r.resumeToken.length):E.bytes===Array?Array.prototype.slice.call(r.resumeToken):r.resumeToken,E.oneofs)&&(S.resumeType="resumeToken"),r.targetId!=null&&r.hasOwnProperty("targetId")&&(S.targetId=r.targetId),r.once!=null&&r.hasOwnProperty("once")&&(S.once=r.once),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E),E.oneofs)&&(S.resumeType="readTime"),r.expectedCount!=null&&r.hasOwnProperty("expectedCount")&&(S.expectedCount=o.google.protobuf.Int32Value.toObject(r.expectedCount,E)),S},ie.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ie.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.Target"},ie.DocumentsTarget=(pe.prototype.documents=l.emptyArray,pe.fromObject=function(r){if(r instanceof o.google.firestore.v1.Target.DocumentsTarget)return r;var E=new o.google.firestore.v1.Target.DocumentsTarget;if(r.documents){if(!Array.isArray(r.documents))throw TypeError(".google.firestore.v1.Target.DocumentsTarget.documents: array expected");E.documents=[];for(var S=0;S<r.documents.length;++S)E.documents[S]=String(r.documents[S])}return E},pe.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.documents=[]),r.documents&&r.documents.length){S.documents=[];for(var ue=0;ue<r.documents.length;++ue)S.documents[ue]=r.documents[ue]}return S},pe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},pe.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.Target.DocumentsTarget"},pe),ie.QueryTarget=(ne.prototype.parent="",ne.prototype.structuredQuery=null,Object.defineProperty(ne.prototype,"queryType",{get:l.oneOfGetter(m=["structuredQuery"]),set:l.oneOfSetter(m)}),ne.fromObject=function(r){if(r instanceof o.google.firestore.v1.Target.QueryTarget)return r;var E=new o.google.firestore.v1.Target.QueryTarget;if(r.parent!=null&&(E.parent=String(r.parent)),r.structuredQuery!=null){if(typeof r.structuredQuery!="object")throw TypeError(".google.firestore.v1.Target.QueryTarget.structuredQuery: object expected");E.structuredQuery=o.google.firestore.v1.StructuredQuery.fromObject(r.structuredQuery)}return E},ne.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.parent=""),r.parent!=null&&r.hasOwnProperty("parent")&&(S.parent=r.parent),r.structuredQuery!=null&&r.hasOwnProperty("structuredQuery")&&(S.structuredQuery=o.google.firestore.v1.StructuredQuery.toObject(r.structuredQuery,E),E.oneofs)&&(S.queryType="structuredQuery"),S},ne.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ne.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.Target.QueryTarget"},ne),ie),g.TargetChange=(u.prototype.targetChangeType=0,u.prototype.targetIds=l.emptyArray,u.prototype.cause=null,u.prototype.resumeToken=l.newBuffer([]),u.prototype.readTime=null,u.fromObject=function(r){if(r instanceof o.google.firestore.v1.TargetChange)return r;var E=new o.google.firestore.v1.TargetChange;switch(r.targetChangeType){default:typeof r.targetChangeType=="number"&&(E.targetChangeType=r.targetChangeType);break;case"NO_CHANGE":case 0:E.targetChangeType=0;break;case"ADD":case 1:E.targetChangeType=1;break;case"REMOVE":case 2:E.targetChangeType=2;break;case"CURRENT":case 3:E.targetChangeType=3;break;case"RESET":case 4:E.targetChangeType=4}if(r.targetIds){if(!Array.isArray(r.targetIds))throw TypeError(".google.firestore.v1.TargetChange.targetIds: array expected");E.targetIds=[];for(var S=0;S<r.targetIds.length;++S)E.targetIds[S]=0|r.targetIds[S]}if(r.cause!=null){if(typeof r.cause!="object")throw TypeError(".google.firestore.v1.TargetChange.cause: object expected");E.cause=o.google.rpc.Status.fromObject(r.cause)}if(r.resumeToken!=null&&(typeof r.resumeToken=="string"?l.base64.decode(r.resumeToken,E.resumeToken=l.newBuffer(l.base64.length(r.resumeToken)),0):0<=r.resumeToken.length&&(E.resumeToken=r.resumeToken)),r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.TargetChange.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return E},u.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.targetIds=[]),E.defaults&&(S.targetChangeType=E.enums===String?"NO_CHANGE":0,S.cause=null,E.bytes===String?S.resumeToken="":(S.resumeToken=[],E.bytes!==Array&&(S.resumeToken=l.newBuffer(S.resumeToken))),S.readTime=null),r.targetChangeType!=null&&r.hasOwnProperty("targetChangeType")&&(S.targetChangeType=E.enums!==String||o.google.firestore.v1.TargetChange.TargetChangeType[r.targetChangeType]===void 0?r.targetChangeType:o.google.firestore.v1.TargetChange.TargetChangeType[r.targetChangeType]),r.targetIds&&r.targetIds.length){S.targetIds=[];for(var ue=0;ue<r.targetIds.length;++ue)S.targetIds[ue]=r.targetIds[ue]}return r.cause!=null&&r.hasOwnProperty("cause")&&(S.cause=o.google.rpc.Status.toObject(r.cause,E)),r.resumeToken!=null&&r.hasOwnProperty("resumeToken")&&(S.resumeToken=E.bytes===String?l.base64.encode(r.resumeToken,0,r.resumeToken.length):E.bytes===Array?Array.prototype.slice.call(r.resumeToken):r.resumeToken),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E)),S},u.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},u.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.TargetChange"},u.TargetChangeType=(m={},(a=Object.create(m))[m[0]="NO_CHANGE"]="NO_CHANGE",a[m[1]="ADD"]="ADD",a[m[2]="REMOVE"]="REMOVE",a[m[3]="CURRENT"]="CURRENT",a[m[4]="RESET"]="RESET",a),u),g.ListCollectionIdsRequest=(x.prototype.parent="",x.prototype.pageSize=0,x.prototype.pageToken="",x.prototype.readTime=null,Object.defineProperty(x.prototype,"consistencySelector",{get:l.oneOfGetter(m=["readTime"]),set:l.oneOfSetter(m)}),x.fromObject=function(r){if(r instanceof o.google.firestore.v1.ListCollectionIdsRequest)return r;var E=new o.google.firestore.v1.ListCollectionIdsRequest;if(r.parent!=null&&(E.parent=String(r.parent)),r.pageSize!=null&&(E.pageSize=0|r.pageSize),r.pageToken!=null&&(E.pageToken=String(r.pageToken)),r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.ListCollectionIdsRequest.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return E},x.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.parent="",S.pageSize=0,S.pageToken=""),r.parent!=null&&r.hasOwnProperty("parent")&&(S.parent=r.parent),r.pageSize!=null&&r.hasOwnProperty("pageSize")&&(S.pageSize=r.pageSize),r.pageToken!=null&&r.hasOwnProperty("pageToken")&&(S.pageToken=r.pageToken),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E),E.oneofs)&&(S.consistencySelector="readTime"),S},x.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},x.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ListCollectionIdsRequest"},x),g.ListCollectionIdsResponse=(M.prototype.collectionIds=l.emptyArray,M.prototype.nextPageToken="",M.fromObject=function(r){if(r instanceof o.google.firestore.v1.ListCollectionIdsResponse)return r;var E=new o.google.firestore.v1.ListCollectionIdsResponse;if(r.collectionIds){if(!Array.isArray(r.collectionIds))throw TypeError(".google.firestore.v1.ListCollectionIdsResponse.collectionIds: array expected");E.collectionIds=[];for(var S=0;S<r.collectionIds.length;++S)E.collectionIds[S]=String(r.collectionIds[S])}return r.nextPageToken!=null&&(E.nextPageToken=String(r.nextPageToken)),E},M.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.collectionIds=[]),E.defaults&&(S.nextPageToken=""),r.collectionIds&&r.collectionIds.length){S.collectionIds=[];for(var ue=0;ue<r.collectionIds.length;++ue)S.collectionIds[ue]=r.collectionIds[ue]}return r.nextPageToken!=null&&r.hasOwnProperty("nextPageToken")&&(S.nextPageToken=r.nextPageToken),S},M.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},M.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ListCollectionIdsResponse"},M),g.BatchWriteRequest=(n.prototype.database="",n.prototype.writes=l.emptyArray,n.prototype.labels=l.emptyObject,n.fromObject=function(r){if(r instanceof o.google.firestore.v1.BatchWriteRequest)return r;var E=new o.google.firestore.v1.BatchWriteRequest;if(r.database!=null&&(E.database=String(r.database)),r.writes){if(!Array.isArray(r.writes))throw TypeError(".google.firestore.v1.BatchWriteRequest.writes: array expected");E.writes=[];for(var S=0;S<r.writes.length;++S){if(typeof r.writes[S]!="object")throw TypeError(".google.firestore.v1.BatchWriteRequest.writes: object expected");E.writes[S]=o.google.firestore.v1.Write.fromObject(r.writes[S])}}if(r.labels){if(typeof r.labels!="object")throw TypeError(".google.firestore.v1.BatchWriteRequest.labels: object expected");E.labels={};for(var ue=Object.keys(r.labels),S=0;S<ue.length;++S)E.labels[ue[S]]=String(r.labels[ue[S]])}return E},n.toObject=function(r,E){var S,ue={};if(((E=E||{}).arrays||E.defaults)&&(ue.writes=[]),(E.objects||E.defaults)&&(ue.labels={}),E.defaults&&(ue.database=""),r.database!=null&&r.hasOwnProperty("database")&&(ue.database=r.database),r.writes&&r.writes.length){ue.writes=[];for(var Qe=0;Qe<r.writes.length;++Qe)ue.writes[Qe]=o.google.firestore.v1.Write.toObject(r.writes[Qe],E)}if(r.labels&&(S=Object.keys(r.labels)).length)for(ue.labels={},Qe=0;Qe<S.length;++Qe)ue.labels[S[Qe]]=r.labels[S[Qe]];return ue},n.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},n.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.BatchWriteRequest"},n),g.BatchWriteResponse=(q.prototype.writeResults=l.emptyArray,q.prototype.status=l.emptyArray,q.fromObject=function(r){if(r instanceof o.google.firestore.v1.BatchWriteResponse)return r;var E=new o.google.firestore.v1.BatchWriteResponse;if(r.writeResults){if(!Array.isArray(r.writeResults))throw TypeError(".google.firestore.v1.BatchWriteResponse.writeResults: array expected");E.writeResults=[];for(var S=0;S<r.writeResults.length;++S){if(typeof r.writeResults[S]!="object")throw TypeError(".google.firestore.v1.BatchWriteResponse.writeResults: object expected");E.writeResults[S]=o.google.firestore.v1.WriteResult.fromObject(r.writeResults[S])}}if(r.status){if(!Array.isArray(r.status))throw TypeError(".google.firestore.v1.BatchWriteResponse.status: array expected");for(E.status=[],S=0;S<r.status.length;++S){if(typeof r.status[S]!="object")throw TypeError(".google.firestore.v1.BatchWriteResponse.status: object expected");E.status[S]=o.google.rpc.Status.fromObject(r.status[S])}}return E},q.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.writeResults=[],S.status=[]),r.writeResults&&r.writeResults.length){S.writeResults=[];for(var ue=0;ue<r.writeResults.length;++ue)S.writeResults[ue]=o.google.firestore.v1.WriteResult.toObject(r.writeResults[ue],E)}if(r.status&&r.status.length)for(S.status=[],ue=0;ue<r.status.length;++ue)S.status[ue]=o.google.rpc.Status.toObject(r.status[ue],E);return S},q.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},q.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.BatchWriteResponse"},q),g.StructuredQuery=(U.prototype.select=null,U.prototype.from=l.emptyArray,U.prototype.where=null,U.prototype.orderBy=l.emptyArray,U.prototype.startAt=null,U.prototype.endAt=null,U.prototype.offset=0,U.prototype.limit=null,U.prototype.findNearest=null,U.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredQuery)return r;var E=new o.google.firestore.v1.StructuredQuery;if(r.select!=null){if(typeof r.select!="object")throw TypeError(".google.firestore.v1.StructuredQuery.select: object expected");E.select=o.google.firestore.v1.StructuredQuery.Projection.fromObject(r.select)}if(r.from){if(!Array.isArray(r.from))throw TypeError(".google.firestore.v1.StructuredQuery.from: array expected");E.from=[];for(var S=0;S<r.from.length;++S){if(typeof r.from[S]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.from: object expected");E.from[S]=o.google.firestore.v1.StructuredQuery.CollectionSelector.fromObject(r.from[S])}}if(r.where!=null){if(typeof r.where!="object")throw TypeError(".google.firestore.v1.StructuredQuery.where: object expected");E.where=o.google.firestore.v1.StructuredQuery.Filter.fromObject(r.where)}if(r.orderBy){if(!Array.isArray(r.orderBy))throw TypeError(".google.firestore.v1.StructuredQuery.orderBy: array expected");for(E.orderBy=[],S=0;S<r.orderBy.length;++S){if(typeof r.orderBy[S]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.orderBy: object expected");E.orderBy[S]=o.google.firestore.v1.StructuredQuery.Order.fromObject(r.orderBy[S])}}if(r.startAt!=null){if(typeof r.startAt!="object")throw TypeError(".google.firestore.v1.StructuredQuery.startAt: object expected");E.startAt=o.google.firestore.v1.Cursor.fromObject(r.startAt)}if(r.endAt!=null){if(typeof r.endAt!="object")throw TypeError(".google.firestore.v1.StructuredQuery.endAt: object expected");E.endAt=o.google.firestore.v1.Cursor.fromObject(r.endAt)}if(r.offset!=null&&(E.offset=0|r.offset),r.limit!=null){if(typeof r.limit!="object")throw TypeError(".google.firestore.v1.StructuredQuery.limit: object expected");E.limit=o.google.protobuf.Int32Value.fromObject(r.limit)}if(r.findNearest!=null){if(typeof r.findNearest!="object")throw TypeError(".google.firestore.v1.StructuredQuery.findNearest: object expected");E.findNearest=o.google.firestore.v1.StructuredQuery.FindNearest.fromObject(r.findNearest)}return E},U.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.from=[],S.orderBy=[]),E.defaults&&(S.select=null,S.where=null,S.limit=null,S.offset=0,S.startAt=null,S.endAt=null,S.findNearest=null),r.select!=null&&r.hasOwnProperty("select")&&(S.select=o.google.firestore.v1.StructuredQuery.Projection.toObject(r.select,E)),r.from&&r.from.length){S.from=[];for(var ue=0;ue<r.from.length;++ue)S.from[ue]=o.google.firestore.v1.StructuredQuery.CollectionSelector.toObject(r.from[ue],E)}if(r.where!=null&&r.hasOwnProperty("where")&&(S.where=o.google.firestore.v1.StructuredQuery.Filter.toObject(r.where,E)),r.orderBy&&r.orderBy.length)for(S.orderBy=[],ue=0;ue<r.orderBy.length;++ue)S.orderBy[ue]=o.google.firestore.v1.StructuredQuery.Order.toObject(r.orderBy[ue],E);return r.limit!=null&&r.hasOwnProperty("limit")&&(S.limit=o.google.protobuf.Int32Value.toObject(r.limit,E)),r.offset!=null&&r.hasOwnProperty("offset")&&(S.offset=r.offset),r.startAt!=null&&r.hasOwnProperty("startAt")&&(S.startAt=o.google.firestore.v1.Cursor.toObject(r.startAt,E)),r.endAt!=null&&r.hasOwnProperty("endAt")&&(S.endAt=o.google.firestore.v1.Cursor.toObject(r.endAt,E)),r.findNearest!=null&&r.hasOwnProperty("findNearest")&&(S.findNearest=o.google.firestore.v1.StructuredQuery.FindNearest.toObject(r.findNearest,E)),S},U.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},U.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredQuery"},U.CollectionSelector=(Q.prototype.collectionId="",Q.prototype.allDescendants=!1,Q.fromObject=function(r){var E;return r instanceof o.google.firestore.v1.StructuredQuery.CollectionSelector?r:(E=new o.google.firestore.v1.StructuredQuery.CollectionSelector,r.collectionId!=null&&(E.collectionId=String(r.collectionId)),r.allDescendants!=null&&(E.allDescendants=!!r.allDescendants),E)},Q.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.collectionId="",S.allDescendants=!1),r.collectionId!=null&&r.hasOwnProperty("collectionId")&&(S.collectionId=r.collectionId),r.allDescendants!=null&&r.hasOwnProperty("allDescendants")&&(S.allDescendants=r.allDescendants),S},Q.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Q.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredQuery.CollectionSelector"},Q),U.Filter=(ye.prototype.compositeFilter=null,ye.prototype.fieldFilter=null,ye.prototype.unaryFilter=null,Object.defineProperty(ye.prototype,"filterType",{get:l.oneOfGetter(a=["compositeFilter","fieldFilter","unaryFilter"]),set:l.oneOfSetter(a)}),ye.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredQuery.Filter)return r;var E=new o.google.firestore.v1.StructuredQuery.Filter;if(r.compositeFilter!=null){if(typeof r.compositeFilter!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Filter.compositeFilter: object expected");E.compositeFilter=o.google.firestore.v1.StructuredQuery.CompositeFilter.fromObject(r.compositeFilter)}if(r.fieldFilter!=null){if(typeof r.fieldFilter!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Filter.fieldFilter: object expected");E.fieldFilter=o.google.firestore.v1.StructuredQuery.FieldFilter.fromObject(r.fieldFilter)}if(r.unaryFilter!=null){if(typeof r.unaryFilter!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Filter.unaryFilter: object expected");E.unaryFilter=o.google.firestore.v1.StructuredQuery.UnaryFilter.fromObject(r.unaryFilter)}return E},ye.toObject=function(r,E){E=E||{};var S={};return r.compositeFilter!=null&&r.hasOwnProperty("compositeFilter")&&(S.compositeFilter=o.google.firestore.v1.StructuredQuery.CompositeFilter.toObject(r.compositeFilter,E),E.oneofs)&&(S.filterType="compositeFilter"),r.fieldFilter!=null&&r.hasOwnProperty("fieldFilter")&&(S.fieldFilter=o.google.firestore.v1.StructuredQuery.FieldFilter.toObject(r.fieldFilter,E),E.oneofs)&&(S.filterType="fieldFilter"),r.unaryFilter!=null&&r.hasOwnProperty("unaryFilter")&&(S.unaryFilter=o.google.firestore.v1.StructuredQuery.UnaryFilter.toObject(r.unaryFilter,E),E.oneofs)&&(S.filterType="unaryFilter"),S},ye.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ye.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredQuery.Filter"},ye),U.CompositeFilter=(Ie.prototype.op=0,Ie.prototype.filters=l.emptyArray,Ie.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredQuery.CompositeFilter)return r;var E=new o.google.firestore.v1.StructuredQuery.CompositeFilter;switch(r.op){default:typeof r.op=="number"&&(E.op=r.op);break;case"OPERATOR_UNSPECIFIED":case 0:E.op=0;break;case"AND":case 1:E.op=1;break;case"OR":case 2:E.op=2}if(r.filters){if(!Array.isArray(r.filters))throw TypeError(".google.firestore.v1.StructuredQuery.CompositeFilter.filters: array expected");E.filters=[];for(var S=0;S<r.filters.length;++S){if(typeof r.filters[S]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.CompositeFilter.filters: object expected");E.filters[S]=o.google.firestore.v1.StructuredQuery.Filter.fromObject(r.filters[S])}}return E},Ie.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.filters=[]),E.defaults&&(S.op=E.enums===String?"OPERATOR_UNSPECIFIED":0),r.op!=null&&r.hasOwnProperty("op")&&(S.op=E.enums!==String||o.google.firestore.v1.StructuredQuery.CompositeFilter.Operator[r.op]===void 0?r.op:o.google.firestore.v1.StructuredQuery.CompositeFilter.Operator[r.op]),r.filters&&r.filters.length){S.filters=[];for(var ue=0;ue<r.filters.length;++ue)S.filters[ue]=o.google.firestore.v1.StructuredQuery.Filter.toObject(r.filters[ue],E)}return S},Ie.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ie.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredQuery.CompositeFilter"},Ie.Operator=(a={},(m=Object.create(a))[a[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",m[a[1]="AND"]="AND",m[a[2]="OR"]="OR",m),Ie),U.FieldFilter=(je.prototype.field=null,je.prototype.op=0,je.prototype.value=null,je.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredQuery.FieldFilter)return r;var E=new o.google.firestore.v1.StructuredQuery.FieldFilter;if(r.field!=null){if(typeof r.field!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FieldFilter.field: object expected");E.field=o.google.firestore.v1.StructuredQuery.FieldReference.fromObject(r.field)}switch(r.op){default:typeof r.op=="number"&&(E.op=r.op);break;case"OPERATOR_UNSPECIFIED":case 0:E.op=0;break;case"LESS_THAN":case 1:E.op=1;break;case"LESS_THAN_OR_EQUAL":case 2:E.op=2;break;case"GREATER_THAN":case 3:E.op=3;break;case"GREATER_THAN_OR_EQUAL":case 4:E.op=4;break;case"EQUAL":case 5:E.op=5;break;case"NOT_EQUAL":case 6:E.op=6;break;case"ARRAY_CONTAINS":case 7:E.op=7;break;case"IN":case 8:E.op=8;break;case"ARRAY_CONTAINS_ANY":case 9:E.op=9;break;case"NOT_IN":case 10:E.op=10}if(r.value!=null){if(typeof r.value!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FieldFilter.value: object expected");E.value=o.google.firestore.v1.Value.fromObject(r.value)}return E},je.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.field=null,S.op=E.enums===String?"OPERATOR_UNSPECIFIED":0,S.value=null),r.field!=null&&r.hasOwnProperty("field")&&(S.field=o.google.firestore.v1.StructuredQuery.FieldReference.toObject(r.field,E)),r.op!=null&&r.hasOwnProperty("op")&&(S.op=E.enums!==String||o.google.firestore.v1.StructuredQuery.FieldFilter.Operator[r.op]===void 0?r.op:o.google.firestore.v1.StructuredQuery.FieldFilter.Operator[r.op]),r.value!=null&&r.hasOwnProperty("value")&&(S.value=o.google.firestore.v1.Value.toObject(r.value,E)),S},je.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},je.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredQuery.FieldFilter"},je.Operator=(a={},(m=Object.create(a))[a[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",m[a[1]="LESS_THAN"]="LESS_THAN",m[a[2]="LESS_THAN_OR_EQUAL"]="LESS_THAN_OR_EQUAL",m[a[3]="GREATER_THAN"]="GREATER_THAN",m[a[4]="GREATER_THAN_OR_EQUAL"]="GREATER_THAN_OR_EQUAL",m[a[5]="EQUAL"]="EQUAL",m[a[6]="NOT_EQUAL"]="NOT_EQUAL",m[a[7]="ARRAY_CONTAINS"]="ARRAY_CONTAINS",m[a[8]="IN"]="IN",m[a[9]="ARRAY_CONTAINS_ANY"]="ARRAY_CONTAINS_ANY",m[a[10]="NOT_IN"]="NOT_IN",m),je),U.UnaryFilter=(ke.prototype.op=0,ke.prototype.field=null,Object.defineProperty(ke.prototype,"operandType",{get:l.oneOfGetter(a=["field"]),set:l.oneOfSetter(a)}),ke.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredQuery.UnaryFilter)return r;var E=new o.google.firestore.v1.StructuredQuery.UnaryFilter;switch(r.op){default:typeof r.op=="number"&&(E.op=r.op);break;case"OPERATOR_UNSPECIFIED":case 0:E.op=0;break;case"IS_NAN":case 2:E.op=2;break;case"IS_NULL":case 3:E.op=3;break;case"IS_NOT_NAN":case 4:E.op=4;break;case"IS_NOT_NULL":case 5:E.op=5}if(r.field!=null){if(typeof r.field!="object")throw TypeError(".google.firestore.v1.StructuredQuery.UnaryFilter.field: object expected");E.field=o.google.firestore.v1.StructuredQuery.FieldReference.fromObject(r.field)}return E},ke.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.op=E.enums===String?"OPERATOR_UNSPECIFIED":0),r.op!=null&&r.hasOwnProperty("op")&&(S.op=E.enums!==String||o.google.firestore.v1.StructuredQuery.UnaryFilter.Operator[r.op]===void 0?r.op:o.google.firestore.v1.StructuredQuery.UnaryFilter.Operator[r.op]),r.field!=null&&r.hasOwnProperty("field")&&(S.field=o.google.firestore.v1.StructuredQuery.FieldReference.toObject(r.field,E),E.oneofs)&&(S.operandType="field"),S},ke.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ke.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredQuery.UnaryFilter"},ke.Operator=(a={},(m=Object.create(a))[a[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",m[a[2]="IS_NAN"]="IS_NAN",m[a[3]="IS_NULL"]="IS_NULL",m[a[4]="IS_NOT_NAN"]="IS_NOT_NAN",m[a[5]="IS_NOT_NULL"]="IS_NOT_NULL",m),ke),U.Order=(ze.prototype.field=null,ze.prototype.direction=0,ze.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredQuery.Order)return r;var E=new o.google.firestore.v1.StructuredQuery.Order;if(r.field!=null){if(typeof r.field!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Order.field: object expected");E.field=o.google.firestore.v1.StructuredQuery.FieldReference.fromObject(r.field)}switch(r.direction){default:typeof r.direction=="number"&&(E.direction=r.direction);break;case"DIRECTION_UNSPECIFIED":case 0:E.direction=0;break;case"ASCENDING":case 1:E.direction=1;break;case"DESCENDING":case 2:E.direction=2}return E},ze.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.field=null,S.direction=E.enums===String?"DIRECTION_UNSPECIFIED":0),r.field!=null&&r.hasOwnProperty("field")&&(S.field=o.google.firestore.v1.StructuredQuery.FieldReference.toObject(r.field,E)),r.direction!=null&&r.hasOwnProperty("direction")&&(S.direction=E.enums!==String||o.google.firestore.v1.StructuredQuery.Direction[r.direction]===void 0?r.direction:o.google.firestore.v1.StructuredQuery.Direction[r.direction]),S},ze.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ze.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredQuery.Order"},ze),U.Direction=(a={},(m=Object.create(a))[a[0]="DIRECTION_UNSPECIFIED"]="DIRECTION_UNSPECIFIED",m[a[1]="ASCENDING"]="ASCENDING",m[a[2]="DESCENDING"]="DESCENDING",m),U.FieldReference=(it.prototype.fieldPath="",it.fromObject=function(r){var E;return r instanceof o.google.firestore.v1.StructuredQuery.FieldReference?r:(E=new o.google.firestore.v1.StructuredQuery.FieldReference,r.fieldPath!=null&&(E.fieldPath=String(r.fieldPath)),E)},it.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.fieldPath=""),r.fieldPath!=null&&r.hasOwnProperty("fieldPath")&&(S.fieldPath=r.fieldPath),S},it.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},it.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredQuery.FieldReference"},it),U.Projection=(dt.prototype.fields=l.emptyArray,dt.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredQuery.Projection)return r;var E=new o.google.firestore.v1.StructuredQuery.Projection;if(r.fields){if(!Array.isArray(r.fields))throw TypeError(".google.firestore.v1.StructuredQuery.Projection.fields: array expected");E.fields=[];for(var S=0;S<r.fields.length;++S){if(typeof r.fields[S]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Projection.fields: object expected");E.fields[S]=o.google.firestore.v1.StructuredQuery.FieldReference.fromObject(r.fields[S])}}return E},dt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.fields=[]),r.fields&&r.fields.length){S.fields=[];for(var ue=0;ue<r.fields.length;++ue)S.fields[ue]=o.google.firestore.v1.StructuredQuery.FieldReference.toObject(r.fields[ue],E)}return S},dt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},dt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredQuery.Projection"},dt),U.FindNearest=(_t.prototype.vectorField=null,_t.prototype.queryVector=null,_t.prototype.distanceMeasure=0,_t.prototype.limit=null,_t.prototype.distanceResultField="",_t.prototype.distanceThreshold=null,_t.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredQuery.FindNearest)return r;var E=new o.google.firestore.v1.StructuredQuery.FindNearest;if(r.vectorField!=null){if(typeof r.vectorField!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.vectorField: object expected");E.vectorField=o.google.firestore.v1.StructuredQuery.FieldReference.fromObject(r.vectorField)}if(r.queryVector!=null){if(typeof r.queryVector!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.queryVector: object expected");E.queryVector=o.google.firestore.v1.Value.fromObject(r.queryVector)}switch(r.distanceMeasure){default:typeof r.distanceMeasure=="number"&&(E.distanceMeasure=r.distanceMeasure);break;case"DISTANCE_MEASURE_UNSPECIFIED":case 0:E.distanceMeasure=0;break;case"EUCLIDEAN":case 1:E.distanceMeasure=1;break;case"COSINE":case 2:E.distanceMeasure=2;break;case"DOT_PRODUCT":case 3:E.distanceMeasure=3}if(r.limit!=null){if(typeof r.limit!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.limit: object expected");E.limit=o.google.protobuf.Int32Value.fromObject(r.limit)}if(r.distanceResultField!=null&&(E.distanceResultField=String(r.distanceResultField)),r.distanceThreshold!=null){if(typeof r.distanceThreshold!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.distanceThreshold: object expected");E.distanceThreshold=o.google.protobuf.DoubleValue.fromObject(r.distanceThreshold)}return E},_t.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.vectorField=null,S.queryVector=null,S.distanceMeasure=E.enums===String?"DISTANCE_MEASURE_UNSPECIFIED":0,S.limit=null,S.distanceResultField="",S.distanceThreshold=null),r.vectorField!=null&&r.hasOwnProperty("vectorField")&&(S.vectorField=o.google.firestore.v1.StructuredQuery.FieldReference.toObject(r.vectorField,E)),r.queryVector!=null&&r.hasOwnProperty("queryVector")&&(S.queryVector=o.google.firestore.v1.Value.toObject(r.queryVector,E)),r.distanceMeasure!=null&&r.hasOwnProperty("distanceMeasure")&&(S.distanceMeasure=E.enums!==String||o.google.firestore.v1.StructuredQuery.FindNearest.DistanceMeasure[r.distanceMeasure]===void 0?r.distanceMeasure:o.google.firestore.v1.StructuredQuery.FindNearest.DistanceMeasure[r.distanceMeasure]),r.limit!=null&&r.hasOwnProperty("limit")&&(S.limit=o.google.protobuf.Int32Value.toObject(r.limit,E)),r.distanceResultField!=null&&r.hasOwnProperty("distanceResultField")&&(S.distanceResultField=r.distanceResultField),r.distanceThreshold!=null&&r.hasOwnProperty("distanceThreshold")&&(S.distanceThreshold=o.google.protobuf.DoubleValue.toObject(r.distanceThreshold,E)),S},_t.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},_t.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredQuery.FindNearest"},_t.DistanceMeasure=(a={},(m=Object.create(a))[a[0]="DISTANCE_MEASURE_UNSPECIFIED"]="DISTANCE_MEASURE_UNSPECIFIED",m[a[1]="EUCLIDEAN"]="EUCLIDEAN",m[a[2]="COSINE"]="COSINE",m[a[3]="DOT_PRODUCT"]="DOT_PRODUCT",m),_t),U),g.StructuredAggregationQuery=(St.prototype.structuredQuery=null,St.prototype.aggregations=l.emptyArray,Object.defineProperty(St.prototype,"queryType",{get:l.oneOfGetter(a=["structuredQuery"]),set:l.oneOfSetter(a)}),St.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredAggregationQuery)return r;var E=new o.google.firestore.v1.StructuredAggregationQuery;if(r.structuredQuery!=null){if(typeof r.structuredQuery!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.structuredQuery: object expected");E.structuredQuery=o.google.firestore.v1.StructuredQuery.fromObject(r.structuredQuery)}if(r.aggregations){if(!Array.isArray(r.aggregations))throw TypeError(".google.firestore.v1.StructuredAggregationQuery.aggregations: array expected");E.aggregations=[];for(var S=0;S<r.aggregations.length;++S){if(typeof r.aggregations[S]!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.aggregations: object expected");E.aggregations[S]=o.google.firestore.v1.StructuredAggregationQuery.Aggregation.fromObject(r.aggregations[S])}}return E},St.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.aggregations=[]),r.structuredQuery!=null&&r.hasOwnProperty("structuredQuery")&&(S.structuredQuery=o.google.firestore.v1.StructuredQuery.toObject(r.structuredQuery,E),E.oneofs)&&(S.queryType="structuredQuery"),r.aggregations&&r.aggregations.length){S.aggregations=[];for(var ue=0;ue<r.aggregations.length;++ue)S.aggregations[ue]=o.google.firestore.v1.StructuredAggregationQuery.Aggregation.toObject(r.aggregations[ue],E)}return S},St.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},St.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredAggregationQuery"},St.Aggregation=(lt.prototype.count=null,lt.prototype.sum=null,lt.prototype.avg=null,lt.prototype.alias="",Object.defineProperty(lt.prototype,"operator",{get:l.oneOfGetter(a=["count","sum","avg"]),set:l.oneOfSetter(a)}),lt.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredAggregationQuery.Aggregation)return r;var E=new o.google.firestore.v1.StructuredAggregationQuery.Aggregation;if(r.count!=null){if(typeof r.count!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.count: object expected");E.count=o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.fromObject(r.count)}if(r.sum!=null){if(typeof r.sum!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.sum: object expected");E.sum=o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.fromObject(r.sum)}if(r.avg!=null){if(typeof r.avg!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.avg: object expected");E.avg=o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.fromObject(r.avg)}return r.alias!=null&&(E.alias=String(r.alias)),E},lt.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.alias=""),r.count!=null&&r.hasOwnProperty("count")&&(S.count=o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.toObject(r.count,E),E.oneofs)&&(S.operator="count"),r.sum!=null&&r.hasOwnProperty("sum")&&(S.sum=o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.toObject(r.sum,E),E.oneofs)&&(S.operator="sum"),r.avg!=null&&r.hasOwnProperty("avg")&&(S.avg=o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.toObject(r.avg,E),E.oneofs)&&(S.operator="avg"),r.alias!=null&&r.hasOwnProperty("alias")&&(S.alias=r.alias),S},lt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},lt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation"},lt.Count=(Ve.prototype.upTo=null,Ve.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count)return r;var E=new o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count;if(r.upTo!=null){if(typeof r.upTo!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.upTo: object expected");E.upTo=o.google.protobuf.Int64Value.fromObject(r.upTo)}return E},Ve.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.upTo=null),r.upTo!=null&&r.hasOwnProperty("upTo")&&(S.upTo=o.google.protobuf.Int64Value.toObject(r.upTo,E)),S},Ve.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ve.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Count"},Ve),lt.Sum=(Me.prototype.field=null,Me.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum)return r;var E=new o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum;if(r.field!=null){if(typeof r.field!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.field: object expected");E.field=o.google.firestore.v1.StructuredQuery.FieldReference.fromObject(r.field)}return E},Me.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.field=null),r.field!=null&&r.hasOwnProperty("field")&&(S.field=o.google.firestore.v1.StructuredQuery.FieldReference.toObject(r.field,E)),S},Me.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Me.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum"},Me),lt.Avg=($e.prototype.field=null,$e.fromObject=function(r){if(r instanceof o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg)return r;var E=new o.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg;if(r.field!=null){if(typeof r.field!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.field: object expected");E.field=o.google.firestore.v1.StructuredQuery.FieldReference.fromObject(r.field)}return E},$e.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.field=null),r.field!=null&&r.hasOwnProperty("field")&&(S.field=o.google.firestore.v1.StructuredQuery.FieldReference.toObject(r.field,E)),S},$e.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},$e.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg"},$e),lt),St),g.Cursor=(Je.prototype.values=l.emptyArray,Je.prototype.before=!1,Je.fromObject=function(r){if(r instanceof o.google.firestore.v1.Cursor)return r;var E=new o.google.firestore.v1.Cursor;if(r.values){if(!Array.isArray(r.values))throw TypeError(".google.firestore.v1.Cursor.values: array expected");E.values=[];for(var S=0;S<r.values.length;++S){if(typeof r.values[S]!="object")throw TypeError(".google.firestore.v1.Cursor.values: object expected");E.values[S]=o.google.firestore.v1.Value.fromObject(r.values[S])}}return r.before!=null&&(E.before=!!r.before),E},Je.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.values=[]),E.defaults&&(S.before=!1),r.values&&r.values.length){S.values=[];for(var ue=0;ue<r.values.length;++ue)S.values[ue]=o.google.firestore.v1.Value.toObject(r.values[ue],E)}return r.before!=null&&r.hasOwnProperty("before")&&(S.before=r.before),S},Je.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Je.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.Cursor"},Je),g.ExplainOptions=(Ze.prototype.analyze=!1,Ze.fromObject=function(r){var E;return r instanceof o.google.firestore.v1.ExplainOptions?r:(E=new o.google.firestore.v1.ExplainOptions,r.analyze!=null&&(E.analyze=!!r.analyze),E)},Ze.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.analyze=!1),r.analyze!=null&&r.hasOwnProperty("analyze")&&(S.analyze=r.analyze),S},Ze.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ze.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ExplainOptions"},Ze),g.ExplainMetrics=(st.prototype.planSummary=null,st.prototype.executionStats=null,st.fromObject=function(r){if(r instanceof o.google.firestore.v1.ExplainMetrics)return r;var E=new o.google.firestore.v1.ExplainMetrics;if(r.planSummary!=null){if(typeof r.planSummary!="object")throw TypeError(".google.firestore.v1.ExplainMetrics.planSummary: object expected");E.planSummary=o.google.firestore.v1.PlanSummary.fromObject(r.planSummary)}if(r.executionStats!=null){if(typeof r.executionStats!="object")throw TypeError(".google.firestore.v1.ExplainMetrics.executionStats: object expected");E.executionStats=o.google.firestore.v1.ExecutionStats.fromObject(r.executionStats)}return E},st.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.planSummary=null,S.executionStats=null),r.planSummary!=null&&r.hasOwnProperty("planSummary")&&(S.planSummary=o.google.firestore.v1.PlanSummary.toObject(r.planSummary,E)),r.executionStats!=null&&r.hasOwnProperty("executionStats")&&(S.executionStats=o.google.firestore.v1.ExecutionStats.toObject(r.executionStats,E)),S},st.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},st.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ExplainMetrics"},st),g.PlanSummary=(mt.prototype.indexesUsed=l.emptyArray,mt.fromObject=function(r){if(r instanceof o.google.firestore.v1.PlanSummary)return r;var E=new o.google.firestore.v1.PlanSummary;if(r.indexesUsed){if(!Array.isArray(r.indexesUsed))throw TypeError(".google.firestore.v1.PlanSummary.indexesUsed: array expected");E.indexesUsed=[];for(var S=0;S<r.indexesUsed.length;++S){if(typeof r.indexesUsed[S]!="object")throw TypeError(".google.firestore.v1.PlanSummary.indexesUsed: object expected");E.indexesUsed[S]=o.google.protobuf.Struct.fromObject(r.indexesUsed[S])}}return E},mt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.indexesUsed=[]),r.indexesUsed&&r.indexesUsed.length){S.indexesUsed=[];for(var ue=0;ue<r.indexesUsed.length;++ue)S.indexesUsed[ue]=o.google.protobuf.Struct.toObject(r.indexesUsed[ue],E)}return S},mt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},mt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.PlanSummary"},mt),g.ExecutionStats=(bt.prototype.resultsReturned=l.Long?l.Long.fromBits(0,0,!1):0,bt.prototype.executionDuration=null,bt.prototype.readOperations=l.Long?l.Long.fromBits(0,0,!1):0,bt.prototype.debugStats=null,bt.fromObject=function(r){if(r instanceof o.google.firestore.v1.ExecutionStats)return r;var E=new o.google.firestore.v1.ExecutionStats;if(r.resultsReturned!=null&&(l.Long?(E.resultsReturned=l.Long.fromValue(r.resultsReturned)).unsigned=!1:typeof r.resultsReturned=="string"?E.resultsReturned=parseInt(r.resultsReturned,10):typeof r.resultsReturned=="number"?E.resultsReturned=r.resultsReturned:typeof r.resultsReturned=="object"&&(E.resultsReturned=new l.LongBits(r.resultsReturned.low>>>0,r.resultsReturned.high>>>0).toNumber())),r.executionDuration!=null){if(typeof r.executionDuration!="object")throw TypeError(".google.firestore.v1.ExecutionStats.executionDuration: object expected");E.executionDuration=o.google.protobuf.Duration.fromObject(r.executionDuration)}if(r.readOperations!=null&&(l.Long?(E.readOperations=l.Long.fromValue(r.readOperations)).unsigned=!1:typeof r.readOperations=="string"?E.readOperations=parseInt(r.readOperations,10):typeof r.readOperations=="number"?E.readOperations=r.readOperations:typeof r.readOperations=="object"&&(E.readOperations=new l.LongBits(r.readOperations.low>>>0,r.readOperations.high>>>0).toNumber())),r.debugStats!=null){if(typeof r.debugStats!="object")throw TypeError(".google.firestore.v1.ExecutionStats.debugStats: object expected");E.debugStats=o.google.protobuf.Struct.fromObject(r.debugStats)}return E},bt.toObject=function(r,E){var S,ue={};return(E=E||{}).defaults&&(l.Long?(S=new l.Long(0,0,!1),ue.resultsReturned=E.longs===String?S.toString():E.longs===Number?S.toNumber():S):ue.resultsReturned=E.longs===String?"0":0,ue.executionDuration=null,l.Long?(S=new l.Long(0,0,!1),ue.readOperations=E.longs===String?S.toString():E.longs===Number?S.toNumber():S):ue.readOperations=E.longs===String?"0":0,ue.debugStats=null),r.resultsReturned!=null&&r.hasOwnProperty("resultsReturned")&&(typeof r.resultsReturned=="number"?ue.resultsReturned=E.longs===String?String(r.resultsReturned):r.resultsReturned:ue.resultsReturned=E.longs===String?l.Long.prototype.toString.call(r.resultsReturned):E.longs===Number?new l.LongBits(r.resultsReturned.low>>>0,r.resultsReturned.high>>>0).toNumber():r.resultsReturned),r.executionDuration!=null&&r.hasOwnProperty("executionDuration")&&(ue.executionDuration=o.google.protobuf.Duration.toObject(r.executionDuration,E)),r.readOperations!=null&&r.hasOwnProperty("readOperations")&&(typeof r.readOperations=="number"?ue.readOperations=E.longs===String?String(r.readOperations):r.readOperations:ue.readOperations=E.longs===String?l.Long.prototype.toString.call(r.readOperations):E.longs===Number?new l.LongBits(r.readOperations.low>>>0,r.readOperations.high>>>0).toNumber():r.readOperations),r.debugStats!=null&&r.hasOwnProperty("debugStats")&&(ue.debugStats=o.google.protobuf.Struct.toObject(r.debugStats,E)),ue},bt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},bt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ExecutionStats"},bt),g.Write=(yt.prototype.update=null,yt.prototype.delete=null,yt.prototype.transform=null,yt.prototype.updateMask=null,yt.prototype.updateTransforms=l.emptyArray,yt.prototype.currentDocument=null,Object.defineProperty(yt.prototype,"operation",{get:l.oneOfGetter(m=["update","delete","transform"]),set:l.oneOfSetter(m)}),yt.fromObject=function(r){if(r instanceof o.google.firestore.v1.Write)return r;var E=new o.google.firestore.v1.Write;if(r.update!=null){if(typeof r.update!="object")throw TypeError(".google.firestore.v1.Write.update: object expected");E.update=o.google.firestore.v1.Document.fromObject(r.update)}if(r.delete!=null&&(E.delete=String(r.delete)),r.transform!=null){if(typeof r.transform!="object")throw TypeError(".google.firestore.v1.Write.transform: object expected");E.transform=o.google.firestore.v1.DocumentTransform.fromObject(r.transform)}if(r.updateMask!=null){if(typeof r.updateMask!="object")throw TypeError(".google.firestore.v1.Write.updateMask: object expected");E.updateMask=o.google.firestore.v1.DocumentMask.fromObject(r.updateMask)}if(r.updateTransforms){if(!Array.isArray(r.updateTransforms))throw TypeError(".google.firestore.v1.Write.updateTransforms: array expected");E.updateTransforms=[];for(var S=0;S<r.updateTransforms.length;++S){if(typeof r.updateTransforms[S]!="object")throw TypeError(".google.firestore.v1.Write.updateTransforms: object expected");E.updateTransforms[S]=o.google.firestore.v1.DocumentTransform.FieldTransform.fromObject(r.updateTransforms[S])}}if(r.currentDocument!=null){if(typeof r.currentDocument!="object")throw TypeError(".google.firestore.v1.Write.currentDocument: object expected");E.currentDocument=o.google.firestore.v1.Precondition.fromObject(r.currentDocument)}return E},yt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.updateTransforms=[]),E.defaults&&(S.updateMask=null,S.currentDocument=null),r.update!=null&&r.hasOwnProperty("update")&&(S.update=o.google.firestore.v1.Document.toObject(r.update,E),E.oneofs)&&(S.operation="update"),r.delete!=null&&r.hasOwnProperty("delete")&&(S.delete=r.delete,E.oneofs)&&(S.operation="delete"),r.updateMask!=null&&r.hasOwnProperty("updateMask")&&(S.updateMask=o.google.firestore.v1.DocumentMask.toObject(r.updateMask,E)),r.currentDocument!=null&&r.hasOwnProperty("currentDocument")&&(S.currentDocument=o.google.firestore.v1.Precondition.toObject(r.currentDocument,E)),r.transform!=null&&r.hasOwnProperty("transform")&&(S.transform=o.google.firestore.v1.DocumentTransform.toObject(r.transform,E),E.oneofs)&&(S.operation="transform"),r.updateTransforms&&r.updateTransforms.length){S.updateTransforms=[];for(var ue=0;ue<r.updateTransforms.length;++ue)S.updateTransforms[ue]=o.google.firestore.v1.DocumentTransform.FieldTransform.toObject(r.updateTransforms[ue],E)}return S},yt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},yt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.Write"},yt),g.DocumentTransform=(Jt.prototype.document="",Jt.prototype.fieldTransforms=l.emptyArray,Jt.fromObject=function(r){if(r instanceof o.google.firestore.v1.DocumentTransform)return r;var E=new o.google.firestore.v1.DocumentTransform;if(r.document!=null&&(E.document=String(r.document)),r.fieldTransforms){if(!Array.isArray(r.fieldTransforms))throw TypeError(".google.firestore.v1.DocumentTransform.fieldTransforms: array expected");E.fieldTransforms=[];for(var S=0;S<r.fieldTransforms.length;++S){if(typeof r.fieldTransforms[S]!="object")throw TypeError(".google.firestore.v1.DocumentTransform.fieldTransforms: object expected");E.fieldTransforms[S]=o.google.firestore.v1.DocumentTransform.FieldTransform.fromObject(r.fieldTransforms[S])}}return E},Jt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.fieldTransforms=[]),E.defaults&&(S.document=""),r.document!=null&&r.hasOwnProperty("document")&&(S.document=r.document),r.fieldTransforms&&r.fieldTransforms.length){S.fieldTransforms=[];for(var ue=0;ue<r.fieldTransforms.length;++ue)S.fieldTransforms[ue]=o.google.firestore.v1.DocumentTransform.FieldTransform.toObject(r.fieldTransforms[ue],E)}return S},Jt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Jt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.DocumentTransform"},Jt.FieldTransform=(Gt.prototype.fieldPath="",Gt.prototype.setToServerValue=null,Gt.prototype.increment=null,Gt.prototype.maximum=null,Gt.prototype.minimum=null,Gt.prototype.appendMissingElements=null,Gt.prototype.removeAllFromArray=null,Object.defineProperty(Gt.prototype,"transformType",{get:l.oneOfGetter(a=["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]),set:l.oneOfSetter(a)}),Gt.fromObject=function(r){if(r instanceof o.google.firestore.v1.DocumentTransform.FieldTransform)return r;var E=new o.google.firestore.v1.DocumentTransform.FieldTransform;switch(r.fieldPath!=null&&(E.fieldPath=String(r.fieldPath)),r.setToServerValue){default:typeof r.setToServerValue=="number"&&(E.setToServerValue=r.setToServerValue);break;case"SERVER_VALUE_UNSPECIFIED":case 0:E.setToServerValue=0;break;case"REQUEST_TIME":case 1:E.setToServerValue=1}if(r.increment!=null){if(typeof r.increment!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.increment: object expected");E.increment=o.google.firestore.v1.Value.fromObject(r.increment)}if(r.maximum!=null){if(typeof r.maximum!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.maximum: object expected");E.maximum=o.google.firestore.v1.Value.fromObject(r.maximum)}if(r.minimum!=null){if(typeof r.minimum!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.minimum: object expected");E.minimum=o.google.firestore.v1.Value.fromObject(r.minimum)}if(r.appendMissingElements!=null){if(typeof r.appendMissingElements!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.appendMissingElements: object expected");E.appendMissingElements=o.google.firestore.v1.ArrayValue.fromObject(r.appendMissingElements)}if(r.removeAllFromArray!=null){if(typeof r.removeAllFromArray!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.removeAllFromArray: object expected");E.removeAllFromArray=o.google.firestore.v1.ArrayValue.fromObject(r.removeAllFromArray)}return E},Gt.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.fieldPath=""),r.fieldPath!=null&&r.hasOwnProperty("fieldPath")&&(S.fieldPath=r.fieldPath),r.setToServerValue!=null&&r.hasOwnProperty("setToServerValue")&&(S.setToServerValue=E.enums!==String||o.google.firestore.v1.DocumentTransform.FieldTransform.ServerValue[r.setToServerValue]===void 0?r.setToServerValue:o.google.firestore.v1.DocumentTransform.FieldTransform.ServerValue[r.setToServerValue],E.oneofs)&&(S.transformType="setToServerValue"),r.increment!=null&&r.hasOwnProperty("increment")&&(S.increment=o.google.firestore.v1.Value.toObject(r.increment,E),E.oneofs)&&(S.transformType="increment"),r.maximum!=null&&r.hasOwnProperty("maximum")&&(S.maximum=o.google.firestore.v1.Value.toObject(r.maximum,E),E.oneofs)&&(S.transformType="maximum"),r.minimum!=null&&r.hasOwnProperty("minimum")&&(S.minimum=o.google.firestore.v1.Value.toObject(r.minimum,E),E.oneofs)&&(S.transformType="minimum"),r.appendMissingElements!=null&&r.hasOwnProperty("appendMissingElements")&&(S.appendMissingElements=o.google.firestore.v1.ArrayValue.toObject(r.appendMissingElements,E),E.oneofs)&&(S.transformType="appendMissingElements"),r.removeAllFromArray!=null&&r.hasOwnProperty("removeAllFromArray")&&(S.removeAllFromArray=o.google.firestore.v1.ArrayValue.toObject(r.removeAllFromArray,E),E.oneofs)&&(S.transformType="removeAllFromArray"),S},Gt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Gt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.DocumentTransform.FieldTransform"},Gt.ServerValue=(a={},(m=Object.create(a))[a[0]="SERVER_VALUE_UNSPECIFIED"]="SERVER_VALUE_UNSPECIFIED",m[a[1]="REQUEST_TIME"]="REQUEST_TIME",m),Gt),Jt),g.WriteResult=(Nt.prototype.updateTime=null,Nt.prototype.transformResults=l.emptyArray,Nt.fromObject=function(r){if(r instanceof o.google.firestore.v1.WriteResult)return r;var E=new o.google.firestore.v1.WriteResult;if(r.updateTime!=null){if(typeof r.updateTime!="object")throw TypeError(".google.firestore.v1.WriteResult.updateTime: object expected");E.updateTime=o.google.protobuf.Timestamp.fromObject(r.updateTime)}if(r.transformResults){if(!Array.isArray(r.transformResults))throw TypeError(".google.firestore.v1.WriteResult.transformResults: array expected");E.transformResults=[];for(var S=0;S<r.transformResults.length;++S){if(typeof r.transformResults[S]!="object")throw TypeError(".google.firestore.v1.WriteResult.transformResults: object expected");E.transformResults[S]=o.google.firestore.v1.Value.fromObject(r.transformResults[S])}}return E},Nt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.transformResults=[]),E.defaults&&(S.updateTime=null),r.updateTime!=null&&r.hasOwnProperty("updateTime")&&(S.updateTime=o.google.protobuf.Timestamp.toObject(r.updateTime,E)),r.transformResults&&r.transformResults.length){S.transformResults=[];for(var ue=0;ue<r.transformResults.length;++ue)S.transformResults[ue]=o.google.firestore.v1.Value.toObject(r.transformResults[ue],E)}return S},Nt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Nt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.WriteResult"},Nt),g.DocumentChange=(Lt.prototype.document=null,Lt.prototype.targetIds=l.emptyArray,Lt.prototype.removedTargetIds=l.emptyArray,Lt.fromObject=function(r){if(r instanceof o.google.firestore.v1.DocumentChange)return r;var E=new o.google.firestore.v1.DocumentChange;if(r.document!=null){if(typeof r.document!="object")throw TypeError(".google.firestore.v1.DocumentChange.document: object expected");E.document=o.google.firestore.v1.Document.fromObject(r.document)}if(r.targetIds){if(!Array.isArray(r.targetIds))throw TypeError(".google.firestore.v1.DocumentChange.targetIds: array expected");E.targetIds=[];for(var S=0;S<r.targetIds.length;++S)E.targetIds[S]=0|r.targetIds[S]}if(r.removedTargetIds){if(!Array.isArray(r.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentChange.removedTargetIds: array expected");for(E.removedTargetIds=[],S=0;S<r.removedTargetIds.length;++S)E.removedTargetIds[S]=0|r.removedTargetIds[S]}return E},Lt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.targetIds=[],S.removedTargetIds=[]),E.defaults&&(S.document=null),r.document!=null&&r.hasOwnProperty("document")&&(S.document=o.google.firestore.v1.Document.toObject(r.document,E)),r.targetIds&&r.targetIds.length){S.targetIds=[];for(var ue=0;ue<r.targetIds.length;++ue)S.targetIds[ue]=r.targetIds[ue]}if(r.removedTargetIds&&r.removedTargetIds.length)for(S.removedTargetIds=[],ue=0;ue<r.removedTargetIds.length;++ue)S.removedTargetIds[ue]=r.removedTargetIds[ue];return S},Lt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Lt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.DocumentChange"},Lt),g.DocumentDelete=(Pt.prototype.document="",Pt.prototype.removedTargetIds=l.emptyArray,Pt.prototype.readTime=null,Pt.fromObject=function(r){if(r instanceof o.google.firestore.v1.DocumentDelete)return r;var E=new o.google.firestore.v1.DocumentDelete;if(r.document!=null&&(E.document=String(r.document)),r.removedTargetIds){if(!Array.isArray(r.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentDelete.removedTargetIds: array expected");E.removedTargetIds=[];for(var S=0;S<r.removedTargetIds.length;++S)E.removedTargetIds[S]=0|r.removedTargetIds[S]}if(r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.DocumentDelete.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return E},Pt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.removedTargetIds=[]),E.defaults&&(S.document="",S.readTime=null),r.document!=null&&r.hasOwnProperty("document")&&(S.document=r.document),r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E)),r.removedTargetIds&&r.removedTargetIds.length){S.removedTargetIds=[];for(var ue=0;ue<r.removedTargetIds.length;++ue)S.removedTargetIds[ue]=r.removedTargetIds[ue]}return S},Pt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Pt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.DocumentDelete"},Pt),g.DocumentRemove=(Dt.prototype.document="",Dt.prototype.removedTargetIds=l.emptyArray,Dt.prototype.readTime=null,Dt.fromObject=function(r){if(r instanceof o.google.firestore.v1.DocumentRemove)return r;var E=new o.google.firestore.v1.DocumentRemove;if(r.document!=null&&(E.document=String(r.document)),r.removedTargetIds){if(!Array.isArray(r.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentRemove.removedTargetIds: array expected");E.removedTargetIds=[];for(var S=0;S<r.removedTargetIds.length;++S)E.removedTargetIds[S]=0|r.removedTargetIds[S]}if(r.readTime!=null){if(typeof r.readTime!="object")throw TypeError(".google.firestore.v1.DocumentRemove.readTime: object expected");E.readTime=o.google.protobuf.Timestamp.fromObject(r.readTime)}return E},Dt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.removedTargetIds=[]),E.defaults&&(S.document="",S.readTime=null),r.document!=null&&r.hasOwnProperty("document")&&(S.document=r.document),r.removedTargetIds&&r.removedTargetIds.length){S.removedTargetIds=[];for(var ue=0;ue<r.removedTargetIds.length;++ue)S.removedTargetIds[ue]=r.removedTargetIds[ue]}return r.readTime!=null&&r.hasOwnProperty("readTime")&&(S.readTime=o.google.protobuf.Timestamp.toObject(r.readTime,E)),S},Dt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Dt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.DocumentRemove"},Dt),g.ExistenceFilter=(kt.prototype.targetId=0,kt.prototype.count=0,kt.prototype.unchangedNames=null,kt.fromObject=function(r){if(r instanceof o.google.firestore.v1.ExistenceFilter)return r;var E=new o.google.firestore.v1.ExistenceFilter;if(r.targetId!=null&&(E.targetId=0|r.targetId),r.count!=null&&(E.count=0|r.count),r.unchangedNames!=null){if(typeof r.unchangedNames!="object")throw TypeError(".google.firestore.v1.ExistenceFilter.unchangedNames: object expected");E.unchangedNames=o.google.firestore.v1.BloomFilter.fromObject(r.unchangedNames)}return E},kt.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.targetId=0,S.count=0,S.unchangedNames=null),r.targetId!=null&&r.hasOwnProperty("targetId")&&(S.targetId=r.targetId),r.count!=null&&r.hasOwnProperty("count")&&(S.count=r.count),r.unchangedNames!=null&&r.hasOwnProperty("unchangedNames")&&(S.unchangedNames=o.google.firestore.v1.BloomFilter.toObject(r.unchangedNames,E)),S},kt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},kt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.firestore.v1.ExistenceFilter"},kt),g),p),c.api=((a={}).FieldBehavior=(m={},(g=Object.create(m))[m[0]="FIELD_BEHAVIOR_UNSPECIFIED"]="FIELD_BEHAVIOR_UNSPECIFIED",g[m[1]="OPTIONAL"]="OPTIONAL",g[m[2]="REQUIRED"]="REQUIRED",g[m[3]="OUTPUT_ONLY"]="OUTPUT_ONLY",g[m[4]="INPUT_ONLY"]="INPUT_ONLY",g[m[5]="IMMUTABLE"]="IMMUTABLE",g[m[6]="UNORDERED_LIST"]="UNORDERED_LIST",g[m[7]="NON_EMPTY_DEFAULT"]="NON_EMPTY_DEFAULT",g[m[8]="IDENTIFIER"]="IDENTIFIER",g),a.Http=(Et.prototype.rules=l.emptyArray,Et.prototype.fullyDecodeReservedExpansion=!1,Et.fromObject=function(r){if(r instanceof o.google.api.Http)return r;var E=new o.google.api.Http;if(r.rules){if(!Array.isArray(r.rules))throw TypeError(".google.api.Http.rules: array expected");E.rules=[];for(var S=0;S<r.rules.length;++S){if(typeof r.rules[S]!="object")throw TypeError(".google.api.Http.rules: object expected");E.rules[S]=o.google.api.HttpRule.fromObject(r.rules[S])}}return r.fullyDecodeReservedExpansion!=null&&(E.fullyDecodeReservedExpansion=!!r.fullyDecodeReservedExpansion),E},Et.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.rules=[]),E.defaults&&(S.fullyDecodeReservedExpansion=!1),r.rules&&r.rules.length){S.rules=[];for(var ue=0;ue<r.rules.length;++ue)S.rules[ue]=o.google.api.HttpRule.toObject(r.rules[ue],E)}return r.fullyDecodeReservedExpansion!=null&&r.hasOwnProperty("fullyDecodeReservedExpansion")&&(S.fullyDecodeReservedExpansion=r.fullyDecodeReservedExpansion),S},Et.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Et.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.Http"},Et),a.HttpRule=(Ot.prototype.selector="",Ot.prototype.get=null,Ot.prototype.put=null,Ot.prototype.post=null,Ot.prototype.delete=null,Ot.prototype.patch=null,Ot.prototype.custom=null,Ot.prototype.body="",Ot.prototype.responseBody="",Ot.prototype.additionalBindings=l.emptyArray,Object.defineProperty(Ot.prototype,"pattern",{get:l.oneOfGetter(m=["get","put","post","delete","patch","custom"]),set:l.oneOfSetter(m)}),Ot.fromObject=function(r){if(r instanceof o.google.api.HttpRule)return r;var E=new o.google.api.HttpRule;if(r.selector!=null&&(E.selector=String(r.selector)),r.get!=null&&(E.get=String(r.get)),r.put!=null&&(E.put=String(r.put)),r.post!=null&&(E.post=String(r.post)),r.delete!=null&&(E.delete=String(r.delete)),r.patch!=null&&(E.patch=String(r.patch)),r.custom!=null){if(typeof r.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");E.custom=o.google.api.CustomHttpPattern.fromObject(r.custom)}if(r.body!=null&&(E.body=String(r.body)),r.responseBody!=null&&(E.responseBody=String(r.responseBody)),r.additionalBindings){if(!Array.isArray(r.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");E.additionalBindings=[];for(var S=0;S<r.additionalBindings.length;++S){if(typeof r.additionalBindings[S]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");E.additionalBindings[S]=o.google.api.HttpRule.fromObject(r.additionalBindings[S])}}return E},Ot.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.additionalBindings=[]),E.defaults&&(S.selector="",S.body="",S.responseBody=""),r.selector!=null&&r.hasOwnProperty("selector")&&(S.selector=r.selector),r.get!=null&&r.hasOwnProperty("get")&&(S.get=r.get,E.oneofs)&&(S.pattern="get"),r.put!=null&&r.hasOwnProperty("put")&&(S.put=r.put,E.oneofs)&&(S.pattern="put"),r.post!=null&&r.hasOwnProperty("post")&&(S.post=r.post,E.oneofs)&&(S.pattern="post"),r.delete!=null&&r.hasOwnProperty("delete")&&(S.delete=r.delete,E.oneofs)&&(S.pattern="delete"),r.patch!=null&&r.hasOwnProperty("patch")&&(S.patch=r.patch,E.oneofs)&&(S.pattern="patch"),r.body!=null&&r.hasOwnProperty("body")&&(S.body=r.body),r.custom!=null&&r.hasOwnProperty("custom")&&(S.custom=o.google.api.CustomHttpPattern.toObject(r.custom,E),E.oneofs)&&(S.pattern="custom"),r.additionalBindings&&r.additionalBindings.length){S.additionalBindings=[];for(var ue=0;ue<r.additionalBindings.length;++ue)S.additionalBindings[ue]=o.google.api.HttpRule.toObject(r.additionalBindings[ue],E)}return r.responseBody!=null&&r.hasOwnProperty("responseBody")&&(S.responseBody=r.responseBody),S},Ot.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ot.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.HttpRule"},Ot),a.CustomHttpPattern=(jt.prototype.kind="",jt.prototype.path="",jt.fromObject=function(r){var E;return r instanceof o.google.api.CustomHttpPattern?r:(E=new o.google.api.CustomHttpPattern,r.kind!=null&&(E.kind=String(r.kind)),r.path!=null&&(E.path=String(r.path)),E)},jt.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.kind="",S.path=""),r.kind!=null&&r.hasOwnProperty("kind")&&(S.kind=r.kind),r.path!=null&&r.hasOwnProperty("path")&&(S.path=r.path),S},jt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},jt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.CustomHttpPattern"},jt),a.CommonLanguageSettings=(qt.prototype.referenceDocsUri="",qt.prototype.destinations=l.emptyArray,qt.prototype.selectiveGapicGeneration=null,qt.fromObject=function(r){if(r instanceof o.google.api.CommonLanguageSettings)return r;var E=new o.google.api.CommonLanguageSettings;if(r.referenceDocsUri!=null&&(E.referenceDocsUri=String(r.referenceDocsUri)),r.destinations){if(!Array.isArray(r.destinations))throw TypeError(".google.api.CommonLanguageSettings.destinations: array expected");E.destinations=[];for(var S=0;S<r.destinations.length;++S)switch(r.destinations[S]){default:if(typeof r.destinations[S]=="number"){E.destinations[S]=r.destinations[S];break}case"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":case 0:E.destinations[S]=0;break;case"GITHUB":case 10:E.destinations[S]=10;break;case"PACKAGE_MANAGER":case 20:E.destinations[S]=20}}if(r.selectiveGapicGeneration!=null){if(typeof r.selectiveGapicGeneration!="object")throw TypeError(".google.api.CommonLanguageSettings.selectiveGapicGeneration: object expected");E.selectiveGapicGeneration=o.google.api.SelectiveGapicGeneration.fromObject(r.selectiveGapicGeneration)}return E},qt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.destinations=[]),E.defaults&&(S.referenceDocsUri="",S.selectiveGapicGeneration=null),r.referenceDocsUri!=null&&r.hasOwnProperty("referenceDocsUri")&&(S.referenceDocsUri=r.referenceDocsUri),r.destinations&&r.destinations.length){S.destinations=[];for(var ue=0;ue<r.destinations.length;++ue)S.destinations[ue]=E.enums!==String||o.google.api.ClientLibraryDestination[r.destinations[ue]]===void 0?r.destinations[ue]:o.google.api.ClientLibraryDestination[r.destinations[ue]]}return r.selectiveGapicGeneration!=null&&r.hasOwnProperty("selectiveGapicGeneration")&&(S.selectiveGapicGeneration=o.google.api.SelectiveGapicGeneration.toObject(r.selectiveGapicGeneration,E)),S},qt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},qt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.CommonLanguageSettings"},qt),a.ClientLibrarySettings=(vt.prototype.version="",vt.prototype.launchStage=0,vt.prototype.restNumericEnums=!1,vt.prototype.javaSettings=null,vt.prototype.cppSettings=null,vt.prototype.phpSettings=null,vt.prototype.pythonSettings=null,vt.prototype.nodeSettings=null,vt.prototype.dotnetSettings=null,vt.prototype.rubySettings=null,vt.prototype.goSettings=null,vt.fromObject=function(r){if(r instanceof o.google.api.ClientLibrarySettings)return r;var E=new o.google.api.ClientLibrarySettings;switch(r.version!=null&&(E.version=String(r.version)),r.launchStage){default:typeof r.launchStage=="number"&&(E.launchStage=r.launchStage);break;case"LAUNCH_STAGE_UNSPECIFIED":case 0:E.launchStage=0;break;case"UNIMPLEMENTED":case 6:E.launchStage=6;break;case"PRELAUNCH":case 7:E.launchStage=7;break;case"EARLY_ACCESS":case 1:E.launchStage=1;break;case"ALPHA":case 2:E.launchStage=2;break;case"BETA":case 3:E.launchStage=3;break;case"GA":case 4:E.launchStage=4;break;case"DEPRECATED":case 5:E.launchStage=5}if(r.restNumericEnums!=null&&(E.restNumericEnums=!!r.restNumericEnums),r.javaSettings!=null){if(typeof r.javaSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.javaSettings: object expected");E.javaSettings=o.google.api.JavaSettings.fromObject(r.javaSettings)}if(r.cppSettings!=null){if(typeof r.cppSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.cppSettings: object expected");E.cppSettings=o.google.api.CppSettings.fromObject(r.cppSettings)}if(r.phpSettings!=null){if(typeof r.phpSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.phpSettings: object expected");E.phpSettings=o.google.api.PhpSettings.fromObject(r.phpSettings)}if(r.pythonSettings!=null){if(typeof r.pythonSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.pythonSettings: object expected");E.pythonSettings=o.google.api.PythonSettings.fromObject(r.pythonSettings)}if(r.nodeSettings!=null){if(typeof r.nodeSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.nodeSettings: object expected");E.nodeSettings=o.google.api.NodeSettings.fromObject(r.nodeSettings)}if(r.dotnetSettings!=null){if(typeof r.dotnetSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.dotnetSettings: object expected");E.dotnetSettings=o.google.api.DotnetSettings.fromObject(r.dotnetSettings)}if(r.rubySettings!=null){if(typeof r.rubySettings!="object")throw TypeError(".google.api.ClientLibrarySettings.rubySettings: object expected");E.rubySettings=o.google.api.RubySettings.fromObject(r.rubySettings)}if(r.goSettings!=null){if(typeof r.goSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.goSettings: object expected");E.goSettings=o.google.api.GoSettings.fromObject(r.goSettings)}return E},vt.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.version="",S.launchStage=E.enums===String?"LAUNCH_STAGE_UNSPECIFIED":0,S.restNumericEnums=!1,S.javaSettings=null,S.cppSettings=null,S.phpSettings=null,S.pythonSettings=null,S.nodeSettings=null,S.dotnetSettings=null,S.rubySettings=null,S.goSettings=null),r.version!=null&&r.hasOwnProperty("version")&&(S.version=r.version),r.launchStage!=null&&r.hasOwnProperty("launchStage")&&(S.launchStage=E.enums!==String||o.google.api.LaunchStage[r.launchStage]===void 0?r.launchStage:o.google.api.LaunchStage[r.launchStage]),r.restNumericEnums!=null&&r.hasOwnProperty("restNumericEnums")&&(S.restNumericEnums=r.restNumericEnums),r.javaSettings!=null&&r.hasOwnProperty("javaSettings")&&(S.javaSettings=o.google.api.JavaSettings.toObject(r.javaSettings,E)),r.cppSettings!=null&&r.hasOwnProperty("cppSettings")&&(S.cppSettings=o.google.api.CppSettings.toObject(r.cppSettings,E)),r.phpSettings!=null&&r.hasOwnProperty("phpSettings")&&(S.phpSettings=o.google.api.PhpSettings.toObject(r.phpSettings,E)),r.pythonSettings!=null&&r.hasOwnProperty("pythonSettings")&&(S.pythonSettings=o.google.api.PythonSettings.toObject(r.pythonSettings,E)),r.nodeSettings!=null&&r.hasOwnProperty("nodeSettings")&&(S.nodeSettings=o.google.api.NodeSettings.toObject(r.nodeSettings,E)),r.dotnetSettings!=null&&r.hasOwnProperty("dotnetSettings")&&(S.dotnetSettings=o.google.api.DotnetSettings.toObject(r.dotnetSettings,E)),r.rubySettings!=null&&r.hasOwnProperty("rubySettings")&&(S.rubySettings=o.google.api.RubySettings.toObject(r.rubySettings,E)),r.goSettings!=null&&r.hasOwnProperty("goSettings")&&(S.goSettings=o.google.api.GoSettings.toObject(r.goSettings,E)),S},vt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},vt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.ClientLibrarySettings"},vt),a.Publishing=(Tt.prototype.methodSettings=l.emptyArray,Tt.prototype.newIssueUri="",Tt.prototype.documentationUri="",Tt.prototype.apiShortName="",Tt.prototype.githubLabel="",Tt.prototype.codeownerGithubTeams=l.emptyArray,Tt.prototype.docTagPrefix="",Tt.prototype.organization=0,Tt.prototype.librarySettings=l.emptyArray,Tt.prototype.protoReferenceDocumentationUri="",Tt.prototype.restReferenceDocumentationUri="",Tt.fromObject=function(r){if(r instanceof o.google.api.Publishing)return r;var E=new o.google.api.Publishing;if(r.methodSettings){if(!Array.isArray(r.methodSettings))throw TypeError(".google.api.Publishing.methodSettings: array expected");E.methodSettings=[];for(var S=0;S<r.methodSettings.length;++S){if(typeof r.methodSettings[S]!="object")throw TypeError(".google.api.Publishing.methodSettings: object expected");E.methodSettings[S]=o.google.api.MethodSettings.fromObject(r.methodSettings[S])}}if(r.newIssueUri!=null&&(E.newIssueUri=String(r.newIssueUri)),r.documentationUri!=null&&(E.documentationUri=String(r.documentationUri)),r.apiShortName!=null&&(E.apiShortName=String(r.apiShortName)),r.githubLabel!=null&&(E.githubLabel=String(r.githubLabel)),r.codeownerGithubTeams){if(!Array.isArray(r.codeownerGithubTeams))throw TypeError(".google.api.Publishing.codeownerGithubTeams: array expected");for(E.codeownerGithubTeams=[],S=0;S<r.codeownerGithubTeams.length;++S)E.codeownerGithubTeams[S]=String(r.codeownerGithubTeams[S])}switch(r.docTagPrefix!=null&&(E.docTagPrefix=String(r.docTagPrefix)),r.organization){default:typeof r.organization=="number"&&(E.organization=r.organization);break;case"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":case 0:E.organization=0;break;case"CLOUD":case 1:E.organization=1;break;case"ADS":case 2:E.organization=2;break;case"PHOTOS":case 3:E.organization=3;break;case"STREET_VIEW":case 4:E.organization=4;break;case"SHOPPING":case 5:E.organization=5;break;case"GEO":case 6:E.organization=6;break;case"GENERATIVE_AI":case 7:E.organization=7}if(r.librarySettings){if(!Array.isArray(r.librarySettings))throw TypeError(".google.api.Publishing.librarySettings: array expected");for(E.librarySettings=[],S=0;S<r.librarySettings.length;++S){if(typeof r.librarySettings[S]!="object")throw TypeError(".google.api.Publishing.librarySettings: object expected");E.librarySettings[S]=o.google.api.ClientLibrarySettings.fromObject(r.librarySettings[S])}}return r.protoReferenceDocumentationUri!=null&&(E.protoReferenceDocumentationUri=String(r.protoReferenceDocumentationUri)),r.restReferenceDocumentationUri!=null&&(E.restReferenceDocumentationUri=String(r.restReferenceDocumentationUri)),E},Tt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.methodSettings=[],S.codeownerGithubTeams=[],S.librarySettings=[]),E.defaults&&(S.newIssueUri="",S.documentationUri="",S.apiShortName="",S.githubLabel="",S.docTagPrefix="",S.organization=E.enums===String?"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,S.protoReferenceDocumentationUri="",S.restReferenceDocumentationUri=""),r.methodSettings&&r.methodSettings.length){S.methodSettings=[];for(var ue=0;ue<r.methodSettings.length;++ue)S.methodSettings[ue]=o.google.api.MethodSettings.toObject(r.methodSettings[ue],E)}if(r.newIssueUri!=null&&r.hasOwnProperty("newIssueUri")&&(S.newIssueUri=r.newIssueUri),r.documentationUri!=null&&r.hasOwnProperty("documentationUri")&&(S.documentationUri=r.documentationUri),r.apiShortName!=null&&r.hasOwnProperty("apiShortName")&&(S.apiShortName=r.apiShortName),r.githubLabel!=null&&r.hasOwnProperty("githubLabel")&&(S.githubLabel=r.githubLabel),r.codeownerGithubTeams&&r.codeownerGithubTeams.length)for(S.codeownerGithubTeams=[],ue=0;ue<r.codeownerGithubTeams.length;++ue)S.codeownerGithubTeams[ue]=r.codeownerGithubTeams[ue];if(r.docTagPrefix!=null&&r.hasOwnProperty("docTagPrefix")&&(S.docTagPrefix=r.docTagPrefix),r.organization!=null&&r.hasOwnProperty("organization")&&(S.organization=E.enums!==String||o.google.api.ClientLibraryOrganization[r.organization]===void 0?r.organization:o.google.api.ClientLibraryOrganization[r.organization]),r.librarySettings&&r.librarySettings.length)for(S.librarySettings=[],ue=0;ue<r.librarySettings.length;++ue)S.librarySettings[ue]=o.google.api.ClientLibrarySettings.toObject(r.librarySettings[ue],E);return r.protoReferenceDocumentationUri!=null&&r.hasOwnProperty("protoReferenceDocumentationUri")&&(S.protoReferenceDocumentationUri=r.protoReferenceDocumentationUri),r.restReferenceDocumentationUri!=null&&r.hasOwnProperty("restReferenceDocumentationUri")&&(S.restReferenceDocumentationUri=r.restReferenceDocumentationUri),S},Tt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Tt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.Publishing"},Tt),a.JavaSettings=(At.prototype.libraryPackage="",At.prototype.serviceClassNames=l.emptyObject,At.prototype.common=null,At.fromObject=function(r){if(r instanceof o.google.api.JavaSettings)return r;var E=new o.google.api.JavaSettings;if(r.libraryPackage!=null&&(E.libraryPackage=String(r.libraryPackage)),r.serviceClassNames){if(typeof r.serviceClassNames!="object")throw TypeError(".google.api.JavaSettings.serviceClassNames: object expected");E.serviceClassNames={};for(var S=Object.keys(r.serviceClassNames),ue=0;ue<S.length;++ue)E.serviceClassNames[S[ue]]=String(r.serviceClassNames[S[ue]])}if(r.common!=null){if(typeof r.common!="object")throw TypeError(".google.api.JavaSettings.common: object expected");E.common=o.google.api.CommonLanguageSettings.fromObject(r.common)}return E},At.toObject=function(r,E){var S,ue={};if(((E=E||{}).objects||E.defaults)&&(ue.serviceClassNames={}),E.defaults&&(ue.libraryPackage="",ue.common=null),r.libraryPackage!=null&&r.hasOwnProperty("libraryPackage")&&(ue.libraryPackage=r.libraryPackage),r.serviceClassNames&&(S=Object.keys(r.serviceClassNames)).length){ue.serviceClassNames={};for(var Qe=0;Qe<S.length;++Qe)ue.serviceClassNames[S[Qe]]=r.serviceClassNames[S[Qe]]}return r.common!=null&&r.hasOwnProperty("common")&&(ue.common=o.google.api.CommonLanguageSettings.toObject(r.common,E)),ue},At.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},At.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.JavaSettings"},At),a.CppSettings=(Pe.prototype.common=null,Pe.fromObject=function(r){if(r instanceof o.google.api.CppSettings)return r;var E=new o.google.api.CppSettings;if(r.common!=null){if(typeof r.common!="object")throw TypeError(".google.api.CppSettings.common: object expected");E.common=o.google.api.CommonLanguageSettings.fromObject(r.common)}return E},Pe.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.common=null),r.common!=null&&r.hasOwnProperty("common")&&(S.common=o.google.api.CommonLanguageSettings.toObject(r.common,E)),S},Pe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Pe.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.CppSettings"},Pe),a.PhpSettings=(Ce.prototype.common=null,Ce.fromObject=function(r){if(r instanceof o.google.api.PhpSettings)return r;var E=new o.google.api.PhpSettings;if(r.common!=null){if(typeof r.common!="object")throw TypeError(".google.api.PhpSettings.common: object expected");E.common=o.google.api.CommonLanguageSettings.fromObject(r.common)}return E},Ce.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.common=null),r.common!=null&&r.hasOwnProperty("common")&&(S.common=o.google.api.CommonLanguageSettings.toObject(r.common,E)),S},Ce.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ce.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.PhpSettings"},Ce),a.PythonSettings=(xe.prototype.common=null,xe.prototype.experimentalFeatures=null,xe.fromObject=function(r){if(r instanceof o.google.api.PythonSettings)return r;var E=new o.google.api.PythonSettings;if(r.common!=null){if(typeof r.common!="object")throw TypeError(".google.api.PythonSettings.common: object expected");E.common=o.google.api.CommonLanguageSettings.fromObject(r.common)}if(r.experimentalFeatures!=null){if(typeof r.experimentalFeatures!="object")throw TypeError(".google.api.PythonSettings.experimentalFeatures: object expected");E.experimentalFeatures=o.google.api.PythonSettings.ExperimentalFeatures.fromObject(r.experimentalFeatures)}return E},xe.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.common=null,S.experimentalFeatures=null),r.common!=null&&r.hasOwnProperty("common")&&(S.common=o.google.api.CommonLanguageSettings.toObject(r.common,E)),r.experimentalFeatures!=null&&r.hasOwnProperty("experimentalFeatures")&&(S.experimentalFeatures=o.google.api.PythonSettings.ExperimentalFeatures.toObject(r.experimentalFeatures,E)),S},xe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},xe.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.PythonSettings"},xe.ExperimentalFeatures=(Ue.prototype.restAsyncIoEnabled=!1,Ue.prototype.protobufPythonicTypesEnabled=!1,Ue.fromObject=function(r){var E;return r instanceof o.google.api.PythonSettings.ExperimentalFeatures?r:(E=new o.google.api.PythonSettings.ExperimentalFeatures,r.restAsyncIoEnabled!=null&&(E.restAsyncIoEnabled=!!r.restAsyncIoEnabled),r.protobufPythonicTypesEnabled!=null&&(E.protobufPythonicTypesEnabled=!!r.protobufPythonicTypesEnabled),E)},Ue.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.restAsyncIoEnabled=!1,S.protobufPythonicTypesEnabled=!1),r.restAsyncIoEnabled!=null&&r.hasOwnProperty("restAsyncIoEnabled")&&(S.restAsyncIoEnabled=r.restAsyncIoEnabled),r.protobufPythonicTypesEnabled!=null&&r.hasOwnProperty("protobufPythonicTypesEnabled")&&(S.protobufPythonicTypesEnabled=r.protobufPythonicTypesEnabled),S},Ue.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ue.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.PythonSettings.ExperimentalFeatures"},Ue),xe),a.NodeSettings=(Le.prototype.common=null,Le.fromObject=function(r){if(r instanceof o.google.api.NodeSettings)return r;var E=new o.google.api.NodeSettings;if(r.common!=null){if(typeof r.common!="object")throw TypeError(".google.api.NodeSettings.common: object expected");E.common=o.google.api.CommonLanguageSettings.fromObject(r.common)}return E},Le.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.common=null),r.common!=null&&r.hasOwnProperty("common")&&(S.common=o.google.api.CommonLanguageSettings.toObject(r.common,E)),S},Le.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Le.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.NodeSettings"},Le),a.DotnetSettings=(nt.prototype.common=null,nt.prototype.renamedServices=l.emptyObject,nt.prototype.renamedResources=l.emptyObject,nt.prototype.ignoredResources=l.emptyArray,nt.prototype.forcedNamespaceAliases=l.emptyArray,nt.prototype.handwrittenSignatures=l.emptyArray,nt.fromObject=function(r){if(r instanceof o.google.api.DotnetSettings)return r;var E=new o.google.api.DotnetSettings;if(r.common!=null){if(typeof r.common!="object")throw TypeError(".google.api.DotnetSettings.common: object expected");E.common=o.google.api.CommonLanguageSettings.fromObject(r.common)}if(r.renamedServices){if(typeof r.renamedServices!="object")throw TypeError(".google.api.DotnetSettings.renamedServices: object expected");E.renamedServices={};for(var S=Object.keys(r.renamedServices),ue=0;ue<S.length;++ue)E.renamedServices[S[ue]]=String(r.renamedServices[S[ue]])}if(r.renamedResources){if(typeof r.renamedResources!="object")throw TypeError(".google.api.DotnetSettings.renamedResources: object expected");for(E.renamedResources={},S=Object.keys(r.renamedResources),ue=0;ue<S.length;++ue)E.renamedResources[S[ue]]=String(r.renamedResources[S[ue]])}if(r.ignoredResources){if(!Array.isArray(r.ignoredResources))throw TypeError(".google.api.DotnetSettings.ignoredResources: array expected");for(E.ignoredResources=[],ue=0;ue<r.ignoredResources.length;++ue)E.ignoredResources[ue]=String(r.ignoredResources[ue])}if(r.forcedNamespaceAliases){if(!Array.isArray(r.forcedNamespaceAliases))throw TypeError(".google.api.DotnetSettings.forcedNamespaceAliases: array expected");for(E.forcedNamespaceAliases=[],ue=0;ue<r.forcedNamespaceAliases.length;++ue)E.forcedNamespaceAliases[ue]=String(r.forcedNamespaceAliases[ue])}if(r.handwrittenSignatures){if(!Array.isArray(r.handwrittenSignatures))throw TypeError(".google.api.DotnetSettings.handwrittenSignatures: array expected");for(E.handwrittenSignatures=[],ue=0;ue<r.handwrittenSignatures.length;++ue)E.handwrittenSignatures[ue]=String(r.handwrittenSignatures[ue])}return E},nt.toObject=function(r,E){var S,ue={};if(((E=E||{}).arrays||E.defaults)&&(ue.ignoredResources=[],ue.forcedNamespaceAliases=[],ue.handwrittenSignatures=[]),(E.objects||E.defaults)&&(ue.renamedServices={},ue.renamedResources={}),E.defaults&&(ue.common=null),r.common!=null&&r.hasOwnProperty("common")&&(ue.common=o.google.api.CommonLanguageSettings.toObject(r.common,E)),r.renamedServices&&(S=Object.keys(r.renamedServices)).length){ue.renamedServices={};for(var Qe=0;Qe<S.length;++Qe)ue.renamedServices[S[Qe]]=r.renamedServices[S[Qe]]}if(r.renamedResources&&(S=Object.keys(r.renamedResources)).length)for(ue.renamedResources={},Qe=0;Qe<S.length;++Qe)ue.renamedResources[S[Qe]]=r.renamedResources[S[Qe]];if(r.ignoredResources&&r.ignoredResources.length)for(ue.ignoredResources=[],Qe=0;Qe<r.ignoredResources.length;++Qe)ue.ignoredResources[Qe]=r.ignoredResources[Qe];if(r.forcedNamespaceAliases&&r.forcedNamespaceAliases.length)for(ue.forcedNamespaceAliases=[],Qe=0;Qe<r.forcedNamespaceAliases.length;++Qe)ue.forcedNamespaceAliases[Qe]=r.forcedNamespaceAliases[Qe];if(r.handwrittenSignatures&&r.handwrittenSignatures.length)for(ue.handwrittenSignatures=[],Qe=0;Qe<r.handwrittenSignatures.length;++Qe)ue.handwrittenSignatures[Qe]=r.handwrittenSignatures[Qe];return ue},nt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},nt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.DotnetSettings"},nt),a.RubySettings=(ht.prototype.common=null,ht.fromObject=function(r){if(r instanceof o.google.api.RubySettings)return r;var E=new o.google.api.RubySettings;if(r.common!=null){if(typeof r.common!="object")throw TypeError(".google.api.RubySettings.common: object expected");E.common=o.google.api.CommonLanguageSettings.fromObject(r.common)}return E},ht.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.common=null),r.common!=null&&r.hasOwnProperty("common")&&(S.common=o.google.api.CommonLanguageSettings.toObject(r.common,E)),S},ht.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ht.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.RubySettings"},ht),a.GoSettings=(wt.prototype.common=null,wt.prototype.renamedServices=l.emptyObject,wt.fromObject=function(r){if(r instanceof o.google.api.GoSettings)return r;var E=new o.google.api.GoSettings;if(r.common!=null){if(typeof r.common!="object")throw TypeError(".google.api.GoSettings.common: object expected");E.common=o.google.api.CommonLanguageSettings.fromObject(r.common)}if(r.renamedServices){if(typeof r.renamedServices!="object")throw TypeError(".google.api.GoSettings.renamedServices: object expected");E.renamedServices={};for(var S=Object.keys(r.renamedServices),ue=0;ue<S.length;++ue)E.renamedServices[S[ue]]=String(r.renamedServices[S[ue]])}return E},wt.toObject=function(r,E){var S,ue={};if(((E=E||{}).objects||E.defaults)&&(ue.renamedServices={}),E.defaults&&(ue.common=null),r.common!=null&&r.hasOwnProperty("common")&&(ue.common=o.google.api.CommonLanguageSettings.toObject(r.common,E)),r.renamedServices&&(S=Object.keys(r.renamedServices)).length){ue.renamedServices={};for(var Qe=0;Qe<S.length;++Qe)ue.renamedServices[S[Qe]]=r.renamedServices[S[Qe]]}return ue},wt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},wt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.GoSettings"},wt),a.MethodSettings=(Wt.prototype.selector="",Wt.prototype.longRunning=null,Wt.prototype.autoPopulatedFields=l.emptyArray,Wt.fromObject=function(r){if(r instanceof o.google.api.MethodSettings)return r;var E=new o.google.api.MethodSettings;if(r.selector!=null&&(E.selector=String(r.selector)),r.longRunning!=null){if(typeof r.longRunning!="object")throw TypeError(".google.api.MethodSettings.longRunning: object expected");E.longRunning=o.google.api.MethodSettings.LongRunning.fromObject(r.longRunning)}if(r.autoPopulatedFields){if(!Array.isArray(r.autoPopulatedFields))throw TypeError(".google.api.MethodSettings.autoPopulatedFields: array expected");E.autoPopulatedFields=[];for(var S=0;S<r.autoPopulatedFields.length;++S)E.autoPopulatedFields[S]=String(r.autoPopulatedFields[S])}return E},Wt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.autoPopulatedFields=[]),E.defaults&&(S.selector="",S.longRunning=null),r.selector!=null&&r.hasOwnProperty("selector")&&(S.selector=r.selector),r.longRunning!=null&&r.hasOwnProperty("longRunning")&&(S.longRunning=o.google.api.MethodSettings.LongRunning.toObject(r.longRunning,E)),r.autoPopulatedFields&&r.autoPopulatedFields.length){S.autoPopulatedFields=[];for(var ue=0;ue<r.autoPopulatedFields.length;++ue)S.autoPopulatedFields[ue]=r.autoPopulatedFields[ue]}return S},Wt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Wt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.MethodSettings"},Wt.LongRunning=(Mt.prototype.initialPollDelay=null,Mt.prototype.pollDelayMultiplier=0,Mt.prototype.maxPollDelay=null,Mt.prototype.totalPollTimeout=null,Mt.fromObject=function(r){if(r instanceof o.google.api.MethodSettings.LongRunning)return r;var E=new o.google.api.MethodSettings.LongRunning;if(r.initialPollDelay!=null){if(typeof r.initialPollDelay!="object")throw TypeError(".google.api.MethodSettings.LongRunning.initialPollDelay: object expected");E.initialPollDelay=o.google.protobuf.Duration.fromObject(r.initialPollDelay)}if(r.pollDelayMultiplier!=null&&(E.pollDelayMultiplier=Number(r.pollDelayMultiplier)),r.maxPollDelay!=null){if(typeof r.maxPollDelay!="object")throw TypeError(".google.api.MethodSettings.LongRunning.maxPollDelay: object expected");E.maxPollDelay=o.google.protobuf.Duration.fromObject(r.maxPollDelay)}if(r.totalPollTimeout!=null){if(typeof r.totalPollTimeout!="object")throw TypeError(".google.api.MethodSettings.LongRunning.totalPollTimeout: object expected");E.totalPollTimeout=o.google.protobuf.Duration.fromObject(r.totalPollTimeout)}return E},Mt.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.initialPollDelay=null,S.pollDelayMultiplier=0,S.maxPollDelay=null,S.totalPollTimeout=null),r.initialPollDelay!=null&&r.hasOwnProperty("initialPollDelay")&&(S.initialPollDelay=o.google.protobuf.Duration.toObject(r.initialPollDelay,E)),r.pollDelayMultiplier!=null&&r.hasOwnProperty("pollDelayMultiplier")&&(S.pollDelayMultiplier=E.json&&!isFinite(r.pollDelayMultiplier)?String(r.pollDelayMultiplier):r.pollDelayMultiplier),r.maxPollDelay!=null&&r.hasOwnProperty("maxPollDelay")&&(S.maxPollDelay=o.google.protobuf.Duration.toObject(r.maxPollDelay,E)),r.totalPollTimeout!=null&&r.hasOwnProperty("totalPollTimeout")&&(S.totalPollTimeout=o.google.protobuf.Duration.toObject(r.totalPollTimeout,E)),S},Mt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Mt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.MethodSettings.LongRunning"},Mt),Wt),a.ClientLibraryOrganization=(g={},(m=Object.create(g))[g[0]="CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED"]="CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED",m[g[1]="CLOUD"]="CLOUD",m[g[2]="ADS"]="ADS",m[g[3]="PHOTOS"]="PHOTOS",m[g[4]="STREET_VIEW"]="STREET_VIEW",m[g[5]="SHOPPING"]="SHOPPING",m[g[6]="GEO"]="GEO",m[g[7]="GENERATIVE_AI"]="GENERATIVE_AI",m),a.ClientLibraryDestination=(g={},(m=Object.create(g))[g[0]="CLIENT_LIBRARY_DESTINATION_UNSPECIFIED"]="CLIENT_LIBRARY_DESTINATION_UNSPECIFIED",m[g[10]="GITHUB"]="GITHUB",m[g[20]="PACKAGE_MANAGER"]="PACKAGE_MANAGER",m),a.SelectiveGapicGeneration=(sr.prototype.methods=l.emptyArray,sr.prototype.generateOmittedAsInternal=!1,sr.fromObject=function(r){if(r instanceof o.google.api.SelectiveGapicGeneration)return r;var E=new o.google.api.SelectiveGapicGeneration;if(r.methods){if(!Array.isArray(r.methods))throw TypeError(".google.api.SelectiveGapicGeneration.methods: array expected");E.methods=[];for(var S=0;S<r.methods.length;++S)E.methods[S]=String(r.methods[S])}return r.generateOmittedAsInternal!=null&&(E.generateOmittedAsInternal=!!r.generateOmittedAsInternal),E},sr.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.methods=[]),E.defaults&&(S.generateOmittedAsInternal=!1),r.methods&&r.methods.length){S.methods=[];for(var ue=0;ue<r.methods.length;++ue)S.methods[ue]=r.methods[ue]}return r.generateOmittedAsInternal!=null&&r.hasOwnProperty("generateOmittedAsInternal")&&(S.generateOmittedAsInternal=r.generateOmittedAsInternal),S},sr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},sr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.SelectiveGapicGeneration"},sr),a.LaunchStage=(g={},(m=Object.create(g))[g[0]="LAUNCH_STAGE_UNSPECIFIED"]="LAUNCH_STAGE_UNSPECIFIED",m[g[6]="UNIMPLEMENTED"]="UNIMPLEMENTED",m[g[7]="PRELAUNCH"]="PRELAUNCH",m[g[1]="EARLY_ACCESS"]="EARLY_ACCESS",m[g[2]="ALPHA"]="ALPHA",m[g[3]="BETA"]="BETA",m[g[4]="GA"]="GA",m[g[5]="DEPRECATED"]="DEPRECATED",m),a.ResourceDescriptor=(pt.prototype.type="",pt.prototype.pattern=l.emptyArray,pt.prototype.nameField="",pt.prototype.history=0,pt.prototype.plural="",pt.prototype.singular="",pt.prototype.style=l.emptyArray,pt.fromObject=function(r){if(r instanceof o.google.api.ResourceDescriptor)return r;var E=new o.google.api.ResourceDescriptor;if(r.type!=null&&(E.type=String(r.type)),r.pattern){if(!Array.isArray(r.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");E.pattern=[];for(var S=0;S<r.pattern.length;++S)E.pattern[S]=String(r.pattern[S])}switch(r.nameField!=null&&(E.nameField=String(r.nameField)),r.history){default:typeof r.history=="number"&&(E.history=r.history);break;case"HISTORY_UNSPECIFIED":case 0:E.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:E.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:E.history=2}if(r.plural!=null&&(E.plural=String(r.plural)),r.singular!=null&&(E.singular=String(r.singular)),r.style){if(!Array.isArray(r.style))throw TypeError(".google.api.ResourceDescriptor.style: array expected");for(E.style=[],S=0;S<r.style.length;++S)switch(r.style[S]){default:if(typeof r.style[S]=="number"){E.style[S]=r.style[S];break}case"STYLE_UNSPECIFIED":case 0:E.style[S]=0;break;case"DECLARATIVE_FRIENDLY":case 1:E.style[S]=1}}return E},pt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.pattern=[],S.style=[]),E.defaults&&(S.type="",S.nameField="",S.history=E.enums===String?"HISTORY_UNSPECIFIED":0,S.plural="",S.singular=""),r.type!=null&&r.hasOwnProperty("type")&&(S.type=r.type),r.pattern&&r.pattern.length){S.pattern=[];for(var ue=0;ue<r.pattern.length;++ue)S.pattern[ue]=r.pattern[ue]}if(r.nameField!=null&&r.hasOwnProperty("nameField")&&(S.nameField=r.nameField),r.history!=null&&r.hasOwnProperty("history")&&(S.history=E.enums!==String||o.google.api.ResourceDescriptor.History[r.history]===void 0?r.history:o.google.api.ResourceDescriptor.History[r.history]),r.plural!=null&&r.hasOwnProperty("plural")&&(S.plural=r.plural),r.singular!=null&&r.hasOwnProperty("singular")&&(S.singular=r.singular),r.style&&r.style.length)for(S.style=[],ue=0;ue<r.style.length;++ue)S.style[ue]=E.enums!==String||o.google.api.ResourceDescriptor.Style[r.style[ue]]===void 0?r.style[ue]:o.google.api.ResourceDescriptor.Style[r.style[ue]];return S},pt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},pt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.ResourceDescriptor"},pt.History=(g={},(m=Object.create(g))[g[0]="HISTORY_UNSPECIFIED"]="HISTORY_UNSPECIFIED",m[g[1]="ORIGINALLY_SINGLE_PATTERN"]="ORIGINALLY_SINGLE_PATTERN",m[g[2]="FUTURE_MULTI_PATTERN"]="FUTURE_MULTI_PATTERN",m),pt.Style=(g={},(m=Object.create(g))[g[0]="STYLE_UNSPECIFIED"]="STYLE_UNSPECIFIED",m[g[1]="DECLARATIVE_FRIENDLY"]="DECLARATIVE_FRIENDLY",m),pt),a.ResourceReference=(ut.prototype.type="",ut.prototype.childType="",ut.fromObject=function(r){var E;return r instanceof o.google.api.ResourceReference?r:(E=new o.google.api.ResourceReference,r.type!=null&&(E.type=String(r.type)),r.childType!=null&&(E.childType=String(r.childType)),E)},ut.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.type="",S.childType=""),r.type!=null&&r.hasOwnProperty("type")&&(S.type=r.type),r.childType!=null&&r.hasOwnProperty("childType")&&(S.childType=r.childType),S},ut.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ut.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.api.ResourceReference"},ut),a),c.protobuf=((p={}).FileDescriptorSet=(cr.prototype.file=l.emptyArray,cr.fromObject=function(r){if(r instanceof o.google.protobuf.FileDescriptorSet)return r;var E=new o.google.protobuf.FileDescriptorSet;if(r.file){if(!Array.isArray(r.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");E.file=[];for(var S=0;S<r.file.length;++S){if(typeof r.file[S]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");E.file[S]=o.google.protobuf.FileDescriptorProto.fromObject(r.file[S])}}return E},cr.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.file=[]),r.file&&r.file.length){S.file=[];for(var ue=0;ue<r.file.length;++ue)S.file[ue]=o.google.protobuf.FileDescriptorProto.toObject(r.file[ue],E)}return S},cr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},cr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FileDescriptorSet"},cr),p.Edition=(g={},(m=Object.create(g))[g[0]="EDITION_UNKNOWN"]="EDITION_UNKNOWN",m[g[998]="EDITION_PROTO2"]="EDITION_PROTO2",m[g[999]="EDITION_PROTO3"]="EDITION_PROTO3",m[g[1e3]="EDITION_2023"]="EDITION_2023",m[g[1001]="EDITION_2024"]="EDITION_2024",m[g[1]="EDITION_1_TEST_ONLY"]="EDITION_1_TEST_ONLY",m[g[2]="EDITION_2_TEST_ONLY"]="EDITION_2_TEST_ONLY",m[g[99997]="EDITION_99997_TEST_ONLY"]="EDITION_99997_TEST_ONLY",m[g[99998]="EDITION_99998_TEST_ONLY"]="EDITION_99998_TEST_ONLY",m[g[99999]="EDITION_99999_TEST_ONLY"]="EDITION_99999_TEST_ONLY",m[g[2147483647]="EDITION_MAX"]="EDITION_MAX",m),p.FileDescriptorProto=(Ut.prototype.name="",Ut.prototype.package="",Ut.prototype.dependency=l.emptyArray,Ut.prototype.publicDependency=l.emptyArray,Ut.prototype.weakDependency=l.emptyArray,Ut.prototype.messageType=l.emptyArray,Ut.prototype.enumType=l.emptyArray,Ut.prototype.service=l.emptyArray,Ut.prototype.extension=l.emptyArray,Ut.prototype.options=null,Ut.prototype.sourceCodeInfo=null,Ut.prototype.syntax="",Ut.prototype.edition=0,Ut.fromObject=function(r){if(r instanceof o.google.protobuf.FileDescriptorProto)return r;var E=new o.google.protobuf.FileDescriptorProto;if(r.name!=null&&(E.name=String(r.name)),r.package!=null&&(E.package=String(r.package)),r.dependency){if(!Array.isArray(r.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");E.dependency=[];for(var S=0;S<r.dependency.length;++S)E.dependency[S]=String(r.dependency[S])}if(r.publicDependency){if(!Array.isArray(r.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(E.publicDependency=[],S=0;S<r.publicDependency.length;++S)E.publicDependency[S]=0|r.publicDependency[S]}if(r.weakDependency){if(!Array.isArray(r.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(E.weakDependency=[],S=0;S<r.weakDependency.length;++S)E.weakDependency[S]=0|r.weakDependency[S]}if(r.messageType){if(!Array.isArray(r.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(E.messageType=[],S=0;S<r.messageType.length;++S){if(typeof r.messageType[S]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");E.messageType[S]=o.google.protobuf.DescriptorProto.fromObject(r.messageType[S])}}if(r.enumType){if(!Array.isArray(r.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(E.enumType=[],S=0;S<r.enumType.length;++S){if(typeof r.enumType[S]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");E.enumType[S]=o.google.protobuf.EnumDescriptorProto.fromObject(r.enumType[S])}}if(r.service){if(!Array.isArray(r.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(E.service=[],S=0;S<r.service.length;++S){if(typeof r.service[S]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");E.service[S]=o.google.protobuf.ServiceDescriptorProto.fromObject(r.service[S])}}if(r.extension){if(!Array.isArray(r.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(E.extension=[],S=0;S<r.extension.length;++S){if(typeof r.extension[S]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");E.extension[S]=o.google.protobuf.FieldDescriptorProto.fromObject(r.extension[S])}}if(r.options!=null){if(typeof r.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");E.options=o.google.protobuf.FileOptions.fromObject(r.options)}if(r.sourceCodeInfo!=null){if(typeof r.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");E.sourceCodeInfo=o.google.protobuf.SourceCodeInfo.fromObject(r.sourceCodeInfo)}switch(r.syntax!=null&&(E.syntax=String(r.syntax)),r.edition){default:typeof r.edition=="number"&&(E.edition=r.edition);break;case"EDITION_UNKNOWN":case 0:E.edition=0;break;case"EDITION_PROTO2":case 998:E.edition=998;break;case"EDITION_PROTO3":case 999:E.edition=999;break;case"EDITION_2023":case 1e3:E.edition=1e3;break;case"EDITION_2024":case 1001:E.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:E.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:E.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:E.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:E.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:E.edition=99999;break;case"EDITION_MAX":case 2147483647:E.edition=2147483647}return E},Ut.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.dependency=[],S.messageType=[],S.enumType=[],S.service=[],S.extension=[],S.publicDependency=[],S.weakDependency=[]),E.defaults&&(S.name="",S.package="",S.options=null,S.sourceCodeInfo=null,S.syntax="",S.edition=E.enums===String?"EDITION_UNKNOWN":0),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.package!=null&&r.hasOwnProperty("package")&&(S.package=r.package),r.dependency&&r.dependency.length){S.dependency=[];for(var ue=0;ue<r.dependency.length;++ue)S.dependency[ue]=r.dependency[ue]}if(r.messageType&&r.messageType.length)for(S.messageType=[],ue=0;ue<r.messageType.length;++ue)S.messageType[ue]=o.google.protobuf.DescriptorProto.toObject(r.messageType[ue],E);if(r.enumType&&r.enumType.length)for(S.enumType=[],ue=0;ue<r.enumType.length;++ue)S.enumType[ue]=o.google.protobuf.EnumDescriptorProto.toObject(r.enumType[ue],E);if(r.service&&r.service.length)for(S.service=[],ue=0;ue<r.service.length;++ue)S.service[ue]=o.google.protobuf.ServiceDescriptorProto.toObject(r.service[ue],E);if(r.extension&&r.extension.length)for(S.extension=[],ue=0;ue<r.extension.length;++ue)S.extension[ue]=o.google.protobuf.FieldDescriptorProto.toObject(r.extension[ue],E);if(r.options!=null&&r.hasOwnProperty("options")&&(S.options=o.google.protobuf.FileOptions.toObject(r.options,E)),r.sourceCodeInfo!=null&&r.hasOwnProperty("sourceCodeInfo")&&(S.sourceCodeInfo=o.google.protobuf.SourceCodeInfo.toObject(r.sourceCodeInfo,E)),r.publicDependency&&r.publicDependency.length)for(S.publicDependency=[],ue=0;ue<r.publicDependency.length;++ue)S.publicDependency[ue]=r.publicDependency[ue];if(r.weakDependency&&r.weakDependency.length)for(S.weakDependency=[],ue=0;ue<r.weakDependency.length;++ue)S.weakDependency[ue]=r.weakDependency[ue];return r.syntax!=null&&r.hasOwnProperty("syntax")&&(S.syntax=r.syntax),r.edition!=null&&r.hasOwnProperty("edition")&&(S.edition=E.enums!==String||o.google.protobuf.Edition[r.edition]===void 0?r.edition:o.google.protobuf.Edition[r.edition]),S},Ut.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ut.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FileDescriptorProto"},Ut),p.DescriptorProto=(zt.prototype.name="",zt.prototype.field=l.emptyArray,zt.prototype.extension=l.emptyArray,zt.prototype.nestedType=l.emptyArray,zt.prototype.enumType=l.emptyArray,zt.prototype.extensionRange=l.emptyArray,zt.prototype.oneofDecl=l.emptyArray,zt.prototype.options=null,zt.prototype.reservedRange=l.emptyArray,zt.prototype.reservedName=l.emptyArray,zt.fromObject=function(r){if(r instanceof o.google.protobuf.DescriptorProto)return r;var E=new o.google.protobuf.DescriptorProto;if(r.name!=null&&(E.name=String(r.name)),r.field){if(!Array.isArray(r.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");E.field=[];for(var S=0;S<r.field.length;++S){if(typeof r.field[S]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");E.field[S]=o.google.protobuf.FieldDescriptorProto.fromObject(r.field[S])}}if(r.extension){if(!Array.isArray(r.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(E.extension=[],S=0;S<r.extension.length;++S){if(typeof r.extension[S]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");E.extension[S]=o.google.protobuf.FieldDescriptorProto.fromObject(r.extension[S])}}if(r.nestedType){if(!Array.isArray(r.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(E.nestedType=[],S=0;S<r.nestedType.length;++S){if(typeof r.nestedType[S]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");E.nestedType[S]=o.google.protobuf.DescriptorProto.fromObject(r.nestedType[S])}}if(r.enumType){if(!Array.isArray(r.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(E.enumType=[],S=0;S<r.enumType.length;++S){if(typeof r.enumType[S]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");E.enumType[S]=o.google.protobuf.EnumDescriptorProto.fromObject(r.enumType[S])}}if(r.extensionRange){if(!Array.isArray(r.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(E.extensionRange=[],S=0;S<r.extensionRange.length;++S){if(typeof r.extensionRange[S]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");E.extensionRange[S]=o.google.protobuf.DescriptorProto.ExtensionRange.fromObject(r.extensionRange[S])}}if(r.oneofDecl){if(!Array.isArray(r.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(E.oneofDecl=[],S=0;S<r.oneofDecl.length;++S){if(typeof r.oneofDecl[S]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");E.oneofDecl[S]=o.google.protobuf.OneofDescriptorProto.fromObject(r.oneofDecl[S])}}if(r.options!=null){if(typeof r.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");E.options=o.google.protobuf.MessageOptions.fromObject(r.options)}if(r.reservedRange){if(!Array.isArray(r.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(E.reservedRange=[],S=0;S<r.reservedRange.length;++S){if(typeof r.reservedRange[S]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");E.reservedRange[S]=o.google.protobuf.DescriptorProto.ReservedRange.fromObject(r.reservedRange[S])}}if(r.reservedName){if(!Array.isArray(r.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(E.reservedName=[],S=0;S<r.reservedName.length;++S)E.reservedName[S]=String(r.reservedName[S])}return E},zt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.field=[],S.nestedType=[],S.enumType=[],S.extensionRange=[],S.extension=[],S.oneofDecl=[],S.reservedRange=[],S.reservedName=[]),E.defaults&&(S.name="",S.options=null),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.field&&r.field.length){S.field=[];for(var ue=0;ue<r.field.length;++ue)S.field[ue]=o.google.protobuf.FieldDescriptorProto.toObject(r.field[ue],E)}if(r.nestedType&&r.nestedType.length)for(S.nestedType=[],ue=0;ue<r.nestedType.length;++ue)S.nestedType[ue]=o.google.protobuf.DescriptorProto.toObject(r.nestedType[ue],E);if(r.enumType&&r.enumType.length)for(S.enumType=[],ue=0;ue<r.enumType.length;++ue)S.enumType[ue]=o.google.protobuf.EnumDescriptorProto.toObject(r.enumType[ue],E);if(r.extensionRange&&r.extensionRange.length)for(S.extensionRange=[],ue=0;ue<r.extensionRange.length;++ue)S.extensionRange[ue]=o.google.protobuf.DescriptorProto.ExtensionRange.toObject(r.extensionRange[ue],E);if(r.extension&&r.extension.length)for(S.extension=[],ue=0;ue<r.extension.length;++ue)S.extension[ue]=o.google.protobuf.FieldDescriptorProto.toObject(r.extension[ue],E);if(r.options!=null&&r.hasOwnProperty("options")&&(S.options=o.google.protobuf.MessageOptions.toObject(r.options,E)),r.oneofDecl&&r.oneofDecl.length)for(S.oneofDecl=[],ue=0;ue<r.oneofDecl.length;++ue)S.oneofDecl[ue]=o.google.protobuf.OneofDescriptorProto.toObject(r.oneofDecl[ue],E);if(r.reservedRange&&r.reservedRange.length)for(S.reservedRange=[],ue=0;ue<r.reservedRange.length;++ue)S.reservedRange[ue]=o.google.protobuf.DescriptorProto.ReservedRange.toObject(r.reservedRange[ue],E);if(r.reservedName&&r.reservedName.length)for(S.reservedName=[],ue=0;ue<r.reservedName.length;++ue)S.reservedName[ue]=r.reservedName[ue];return S},zt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},zt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.DescriptorProto"},zt.ExtensionRange=(Or.prototype.start=0,Or.prototype.end=0,Or.prototype.options=null,Or.fromObject=function(r){if(r instanceof o.google.protobuf.DescriptorProto.ExtensionRange)return r;var E=new o.google.protobuf.DescriptorProto.ExtensionRange;if(r.start!=null&&(E.start=0|r.start),r.end!=null&&(E.end=0|r.end),r.options!=null){if(typeof r.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");E.options=o.google.protobuf.ExtensionRangeOptions.fromObject(r.options)}return E},Or.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.start=0,S.end=0,S.options=null),r.start!=null&&r.hasOwnProperty("start")&&(S.start=r.start),r.end!=null&&r.hasOwnProperty("end")&&(S.end=r.end),r.options!=null&&r.hasOwnProperty("options")&&(S.options=o.google.protobuf.ExtensionRangeOptions.toObject(r.options,E)),S},Or.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Or.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.DescriptorProto.ExtensionRange"},Or),zt.ReservedRange=(rr.prototype.start=0,rr.prototype.end=0,rr.fromObject=function(r){var E;return r instanceof o.google.protobuf.DescriptorProto.ReservedRange?r:(E=new o.google.protobuf.DescriptorProto.ReservedRange,r.start!=null&&(E.start=0|r.start),r.end!=null&&(E.end=0|r.end),E)},rr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.start=0,S.end=0),r.start!=null&&r.hasOwnProperty("start")&&(S.start=r.start),r.end!=null&&r.hasOwnProperty("end")&&(S.end=r.end),S},rr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},rr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.DescriptorProto.ReservedRange"},rr),zt),p.ExtensionRangeOptions=(Yt.prototype.uninterpretedOption=l.emptyArray,Yt.prototype.declaration=l.emptyArray,Yt.prototype.features=null,Yt.prototype.verification=1,Yt.fromObject=function(r){if(r instanceof o.google.protobuf.ExtensionRangeOptions)return r;var E=new o.google.protobuf.ExtensionRangeOptions;if(r.uninterpretedOption){if(!Array.isArray(r.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");E.uninterpretedOption=[];for(var S=0;S<r.uninterpretedOption.length;++S){if(typeof r.uninterpretedOption[S]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");E.uninterpretedOption[S]=o.google.protobuf.UninterpretedOption.fromObject(r.uninterpretedOption[S])}}if(r.declaration){if(!Array.isArray(r.declaration))throw TypeError(".google.protobuf.ExtensionRangeOptions.declaration: array expected");for(E.declaration=[],S=0;S<r.declaration.length;++S){if(typeof r.declaration[S]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.declaration: object expected");E.declaration[S]=o.google.protobuf.ExtensionRangeOptions.Declaration.fromObject(r.declaration[S])}}if(r.features!=null){if(typeof r.features!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.features: object expected");E.features=o.google.protobuf.FeatureSet.fromObject(r.features)}switch(r.verification){case"DECLARATION":case 0:E.verification=0;break;default:typeof r.verification=="number"&&(E.verification=r.verification);break;case"UNVERIFIED":case 1:E.verification=1}return E},Yt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.declaration=[],S.uninterpretedOption=[]),E.defaults&&(S.verification=E.enums===String?"UNVERIFIED":1,S.features=null),r.declaration&&r.declaration.length){S.declaration=[];for(var ue=0;ue<r.declaration.length;++ue)S.declaration[ue]=o.google.protobuf.ExtensionRangeOptions.Declaration.toObject(r.declaration[ue],E)}if(r.verification!=null&&r.hasOwnProperty("verification")&&(S.verification=E.enums!==String||o.google.protobuf.ExtensionRangeOptions.VerificationState[r.verification]===void 0?r.verification:o.google.protobuf.ExtensionRangeOptions.VerificationState[r.verification]),r.features!=null&&r.hasOwnProperty("features")&&(S.features=o.google.protobuf.FeatureSet.toObject(r.features,E)),r.uninterpretedOption&&r.uninterpretedOption.length)for(S.uninterpretedOption=[],ue=0;ue<r.uninterpretedOption.length;++ue)S.uninterpretedOption[ue]=o.google.protobuf.UninterpretedOption.toObject(r.uninterpretedOption[ue],E);return S},Yt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Yt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.ExtensionRangeOptions"},Yt.Declaration=(dr.prototype.number=0,dr.prototype.fullName="",dr.prototype.type="",dr.prototype.reserved=!1,dr.prototype.repeated=!1,dr.fromObject=function(r){var E;return r instanceof o.google.protobuf.ExtensionRangeOptions.Declaration?r:(E=new o.google.protobuf.ExtensionRangeOptions.Declaration,r.number!=null&&(E.number=0|r.number),r.fullName!=null&&(E.fullName=String(r.fullName)),r.type!=null&&(E.type=String(r.type)),r.reserved!=null&&(E.reserved=!!r.reserved),r.repeated!=null&&(E.repeated=!!r.repeated),E)},dr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.number=0,S.fullName="",S.type="",S.reserved=!1,S.repeated=!1),r.number!=null&&r.hasOwnProperty("number")&&(S.number=r.number),r.fullName!=null&&r.hasOwnProperty("fullName")&&(S.fullName=r.fullName),r.type!=null&&r.hasOwnProperty("type")&&(S.type=r.type),r.reserved!=null&&r.hasOwnProperty("reserved")&&(S.reserved=r.reserved),r.repeated!=null&&r.hasOwnProperty("repeated")&&(S.repeated=r.repeated),S},dr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},dr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.ExtensionRangeOptions.Declaration"},dr),Yt.VerificationState=(g={},(m=Object.create(g))[g[0]="DECLARATION"]="DECLARATION",m[g[1]="UNVERIFIED"]="UNVERIFIED",m),Yt),p.FieldDescriptorProto=(nr.prototype.name="",nr.prototype.number=0,nr.prototype.label=1,nr.prototype.type=1,nr.prototype.typeName="",nr.prototype.extendee="",nr.prototype.defaultValue="",nr.prototype.oneofIndex=0,nr.prototype.jsonName="",nr.prototype.options=null,nr.prototype.proto3Optional=!1,nr.fromObject=function(r){if(r instanceof o.google.protobuf.FieldDescriptorProto)return r;var E=new o.google.protobuf.FieldDescriptorProto;switch(r.name!=null&&(E.name=String(r.name)),r.number!=null&&(E.number=0|r.number),r.label){default:typeof r.label=="number"&&(E.label=r.label);break;case"LABEL_OPTIONAL":case 1:E.label=1;break;case"LABEL_REPEATED":case 3:E.label=3;break;case"LABEL_REQUIRED":case 2:E.label=2}switch(r.type){default:typeof r.type=="number"&&(E.type=r.type);break;case"TYPE_DOUBLE":case 1:E.type=1;break;case"TYPE_FLOAT":case 2:E.type=2;break;case"TYPE_INT64":case 3:E.type=3;break;case"TYPE_UINT64":case 4:E.type=4;break;case"TYPE_INT32":case 5:E.type=5;break;case"TYPE_FIXED64":case 6:E.type=6;break;case"TYPE_FIXED32":case 7:E.type=7;break;case"TYPE_BOOL":case 8:E.type=8;break;case"TYPE_STRING":case 9:E.type=9;break;case"TYPE_GROUP":case 10:E.type=10;break;case"TYPE_MESSAGE":case 11:E.type=11;break;case"TYPE_BYTES":case 12:E.type=12;break;case"TYPE_UINT32":case 13:E.type=13;break;case"TYPE_ENUM":case 14:E.type=14;break;case"TYPE_SFIXED32":case 15:E.type=15;break;case"TYPE_SFIXED64":case 16:E.type=16;break;case"TYPE_SINT32":case 17:E.type=17;break;case"TYPE_SINT64":case 18:E.type=18}if(r.typeName!=null&&(E.typeName=String(r.typeName)),r.extendee!=null&&(E.extendee=String(r.extendee)),r.defaultValue!=null&&(E.defaultValue=String(r.defaultValue)),r.oneofIndex!=null&&(E.oneofIndex=0|r.oneofIndex),r.jsonName!=null&&(E.jsonName=String(r.jsonName)),r.options!=null){if(typeof r.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");E.options=o.google.protobuf.FieldOptions.fromObject(r.options)}return r.proto3Optional!=null&&(E.proto3Optional=!!r.proto3Optional),E},nr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name="",S.extendee="",S.number=0,S.label=E.enums===String?"LABEL_OPTIONAL":1,S.type=E.enums===String?"TYPE_DOUBLE":1,S.typeName="",S.defaultValue="",S.options=null,S.oneofIndex=0,S.jsonName="",S.proto3Optional=!1),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.extendee!=null&&r.hasOwnProperty("extendee")&&(S.extendee=r.extendee),r.number!=null&&r.hasOwnProperty("number")&&(S.number=r.number),r.label!=null&&r.hasOwnProperty("label")&&(S.label=E.enums!==String||o.google.protobuf.FieldDescriptorProto.Label[r.label]===void 0?r.label:o.google.protobuf.FieldDescriptorProto.Label[r.label]),r.type!=null&&r.hasOwnProperty("type")&&(S.type=E.enums!==String||o.google.protobuf.FieldDescriptorProto.Type[r.type]===void 0?r.type:o.google.protobuf.FieldDescriptorProto.Type[r.type]),r.typeName!=null&&r.hasOwnProperty("typeName")&&(S.typeName=r.typeName),r.defaultValue!=null&&r.hasOwnProperty("defaultValue")&&(S.defaultValue=r.defaultValue),r.options!=null&&r.hasOwnProperty("options")&&(S.options=o.google.protobuf.FieldOptions.toObject(r.options,E)),r.oneofIndex!=null&&r.hasOwnProperty("oneofIndex")&&(S.oneofIndex=r.oneofIndex),r.jsonName!=null&&r.hasOwnProperty("jsonName")&&(S.jsonName=r.jsonName),r.proto3Optional!=null&&r.hasOwnProperty("proto3Optional")&&(S.proto3Optional=r.proto3Optional),S},nr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},nr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FieldDescriptorProto"},nr.Type=(g={},(m=Object.create(g))[g[1]="TYPE_DOUBLE"]="TYPE_DOUBLE",m[g[2]="TYPE_FLOAT"]="TYPE_FLOAT",m[g[3]="TYPE_INT64"]="TYPE_INT64",m[g[4]="TYPE_UINT64"]="TYPE_UINT64",m[g[5]="TYPE_INT32"]="TYPE_INT32",m[g[6]="TYPE_FIXED64"]="TYPE_FIXED64",m[g[7]="TYPE_FIXED32"]="TYPE_FIXED32",m[g[8]="TYPE_BOOL"]="TYPE_BOOL",m[g[9]="TYPE_STRING"]="TYPE_STRING",m[g[10]="TYPE_GROUP"]="TYPE_GROUP",m[g[11]="TYPE_MESSAGE"]="TYPE_MESSAGE",m[g[12]="TYPE_BYTES"]="TYPE_BYTES",m[g[13]="TYPE_UINT32"]="TYPE_UINT32",m[g[14]="TYPE_ENUM"]="TYPE_ENUM",m[g[15]="TYPE_SFIXED32"]="TYPE_SFIXED32",m[g[16]="TYPE_SFIXED64"]="TYPE_SFIXED64",m[g[17]="TYPE_SINT32"]="TYPE_SINT32",m[g[18]="TYPE_SINT64"]="TYPE_SINT64",m),nr.Label=(g={},(m=Object.create(g))[g[1]="LABEL_OPTIONAL"]="LABEL_OPTIONAL",m[g[3]="LABEL_REPEATED"]="LABEL_REPEATED",m[g[2]="LABEL_REQUIRED"]="LABEL_REQUIRED",m),nr),p.OneofDescriptorProto=(Lr.prototype.name="",Lr.prototype.options=null,Lr.fromObject=function(r){if(r instanceof o.google.protobuf.OneofDescriptorProto)return r;var E=new o.google.protobuf.OneofDescriptorProto;if(r.name!=null&&(E.name=String(r.name)),r.options!=null){if(typeof r.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");E.options=o.google.protobuf.OneofOptions.fromObject(r.options)}return E},Lr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name="",S.options=null),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.options!=null&&r.hasOwnProperty("options")&&(S.options=o.google.protobuf.OneofOptions.toObject(r.options,E)),S},Lr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Lr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.OneofDescriptorProto"},Lr),p.EnumDescriptorProto=(ve.prototype.name="",ve.prototype.value=l.emptyArray,ve.prototype.options=null,ve.prototype.reservedRange=l.emptyArray,ve.prototype.reservedName=l.emptyArray,ve.fromObject=function(r){if(r instanceof o.google.protobuf.EnumDescriptorProto)return r;var E=new o.google.protobuf.EnumDescriptorProto;if(r.name!=null&&(E.name=String(r.name)),r.value){if(!Array.isArray(r.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");E.value=[];for(var S=0;S<r.value.length;++S){if(typeof r.value[S]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");E.value[S]=o.google.protobuf.EnumValueDescriptorProto.fromObject(r.value[S])}}if(r.options!=null){if(typeof r.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");E.options=o.google.protobuf.EnumOptions.fromObject(r.options)}if(r.reservedRange){if(!Array.isArray(r.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(E.reservedRange=[],S=0;S<r.reservedRange.length;++S){if(typeof r.reservedRange[S]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");E.reservedRange[S]=o.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(r.reservedRange[S])}}if(r.reservedName){if(!Array.isArray(r.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(E.reservedName=[],S=0;S<r.reservedName.length;++S)E.reservedName[S]=String(r.reservedName[S])}return E},ve.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.value=[],S.reservedRange=[],S.reservedName=[]),E.defaults&&(S.name="",S.options=null),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.value&&r.value.length){S.value=[];for(var ue=0;ue<r.value.length;++ue)S.value[ue]=o.google.protobuf.EnumValueDescriptorProto.toObject(r.value[ue],E)}if(r.options!=null&&r.hasOwnProperty("options")&&(S.options=o.google.protobuf.EnumOptions.toObject(r.options,E)),r.reservedRange&&r.reservedRange.length)for(S.reservedRange=[],ue=0;ue<r.reservedRange.length;++ue)S.reservedRange[ue]=o.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(r.reservedRange[ue],E);if(r.reservedName&&r.reservedName.length)for(S.reservedName=[],ue=0;ue<r.reservedName.length;++ue)S.reservedName[ue]=r.reservedName[ue];return S},ve.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ve.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.EnumDescriptorProto"},ve.EnumReservedRange=(Se.prototype.start=0,Se.prototype.end=0,Se.fromObject=function(r){var E;return r instanceof o.google.protobuf.EnumDescriptorProto.EnumReservedRange?r:(E=new o.google.protobuf.EnumDescriptorProto.EnumReservedRange,r.start!=null&&(E.start=0|r.start),r.end!=null&&(E.end=0|r.end),E)},Se.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.start=0,S.end=0),r.start!=null&&r.hasOwnProperty("start")&&(S.start=r.start),r.end!=null&&r.hasOwnProperty("end")&&(S.end=r.end),S},Se.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Se.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.EnumDescriptorProto.EnumReservedRange"},Se),ve),p.EnumValueDescriptorProto=(Te.prototype.name="",Te.prototype.number=0,Te.prototype.options=null,Te.fromObject=function(r){if(r instanceof o.google.protobuf.EnumValueDescriptorProto)return r;var E=new o.google.protobuf.EnumValueDescriptorProto;if(r.name!=null&&(E.name=String(r.name)),r.number!=null&&(E.number=0|r.number),r.options!=null){if(typeof r.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");E.options=o.google.protobuf.EnumValueOptions.fromObject(r.options)}return E},Te.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name="",S.number=0,S.options=null),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.number!=null&&r.hasOwnProperty("number")&&(S.number=r.number),r.options!=null&&r.hasOwnProperty("options")&&(S.options=o.google.protobuf.EnumValueOptions.toObject(r.options,E)),S},Te.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Te.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.EnumValueDescriptorProto"},Te),p.ServiceDescriptorProto=(Ne.prototype.name="",Ne.prototype.method=l.emptyArray,Ne.prototype.options=null,Ne.fromObject=function(r){if(r instanceof o.google.protobuf.ServiceDescriptorProto)return r;var E=new o.google.protobuf.ServiceDescriptorProto;if(r.name!=null&&(E.name=String(r.name)),r.method){if(!Array.isArray(r.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");E.method=[];for(var S=0;S<r.method.length;++S){if(typeof r.method[S]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");E.method[S]=o.google.protobuf.MethodDescriptorProto.fromObject(r.method[S])}}if(r.options!=null){if(typeof r.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");E.options=o.google.protobuf.ServiceOptions.fromObject(r.options)}return E},Ne.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.method=[]),E.defaults&&(S.name="",S.options=null),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.method&&r.method.length){S.method=[];for(var ue=0;ue<r.method.length;++ue)S.method[ue]=o.google.protobuf.MethodDescriptorProto.toObject(r.method[ue],E)}return r.options!=null&&r.hasOwnProperty("options")&&(S.options=o.google.protobuf.ServiceOptions.toObject(r.options,E)),S},Ne.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ne.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.ServiceDescriptorProto"},Ne),p.MethodDescriptorProto=(Ke.prototype.name="",Ke.prototype.inputType="",Ke.prototype.outputType="",Ke.prototype.options=null,Ke.prototype.clientStreaming=!1,Ke.prototype.serverStreaming=!1,Ke.fromObject=function(r){if(r instanceof o.google.protobuf.MethodDescriptorProto)return r;var E=new o.google.protobuf.MethodDescriptorProto;if(r.name!=null&&(E.name=String(r.name)),r.inputType!=null&&(E.inputType=String(r.inputType)),r.outputType!=null&&(E.outputType=String(r.outputType)),r.options!=null){if(typeof r.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");E.options=o.google.protobuf.MethodOptions.fromObject(r.options)}return r.clientStreaming!=null&&(E.clientStreaming=!!r.clientStreaming),r.serverStreaming!=null&&(E.serverStreaming=!!r.serverStreaming),E},Ke.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name="",S.inputType="",S.outputType="",S.options=null,S.clientStreaming=!1,S.serverStreaming=!1),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.inputType!=null&&r.hasOwnProperty("inputType")&&(S.inputType=r.inputType),r.outputType!=null&&r.hasOwnProperty("outputType")&&(S.outputType=r.outputType),r.options!=null&&r.hasOwnProperty("options")&&(S.options=o.google.protobuf.MethodOptions.toObject(r.options,E)),r.clientStreaming!=null&&r.hasOwnProperty("clientStreaming")&&(S.clientStreaming=r.clientStreaming),r.serverStreaming!=null&&r.hasOwnProperty("serverStreaming")&&(S.serverStreaming=r.serverStreaming),S},Ke.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ke.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.MethodDescriptorProto"},Ke),p.FileOptions=(Ge.prototype.javaPackage="",Ge.prototype.javaOuterClassname="",Ge.prototype.javaMultipleFiles=!1,Ge.prototype.javaGenerateEqualsAndHash=!1,Ge.prototype.javaStringCheckUtf8=!1,Ge.prototype.optimizeFor=1,Ge.prototype.goPackage="",Ge.prototype.ccGenericServices=!1,Ge.prototype.javaGenericServices=!1,Ge.prototype.pyGenericServices=!1,Ge.prototype.deprecated=!1,Ge.prototype.ccEnableArenas=!0,Ge.prototype.objcClassPrefix="",Ge.prototype.csharpNamespace="",Ge.prototype.swiftPrefix="",Ge.prototype.phpClassPrefix="",Ge.prototype.phpNamespace="",Ge.prototype.phpMetadataNamespace="",Ge.prototype.rubyPackage="",Ge.prototype.features=null,Ge.prototype.uninterpretedOption=l.emptyArray,Ge.prototype[".google.api.resourceDefinition"]=l.emptyArray,Ge.fromObject=function(r){if(r instanceof o.google.protobuf.FileOptions)return r;var E=new o.google.protobuf.FileOptions;switch(r.javaPackage!=null&&(E.javaPackage=String(r.javaPackage)),r.javaOuterClassname!=null&&(E.javaOuterClassname=String(r.javaOuterClassname)),r.javaMultipleFiles!=null&&(E.javaMultipleFiles=!!r.javaMultipleFiles),r.javaGenerateEqualsAndHash!=null&&(E.javaGenerateEqualsAndHash=!!r.javaGenerateEqualsAndHash),r.javaStringCheckUtf8!=null&&(E.javaStringCheckUtf8=!!r.javaStringCheckUtf8),r.optimizeFor){default:typeof r.optimizeFor=="number"&&(E.optimizeFor=r.optimizeFor);break;case"SPEED":case 1:E.optimizeFor=1;break;case"CODE_SIZE":case 2:E.optimizeFor=2;break;case"LITE_RUNTIME":case 3:E.optimizeFor=3}if(r.goPackage!=null&&(E.goPackage=String(r.goPackage)),r.ccGenericServices!=null&&(E.ccGenericServices=!!r.ccGenericServices),r.javaGenericServices!=null&&(E.javaGenericServices=!!r.javaGenericServices),r.pyGenericServices!=null&&(E.pyGenericServices=!!r.pyGenericServices),r.deprecated!=null&&(E.deprecated=!!r.deprecated),r.ccEnableArenas!=null&&(E.ccEnableArenas=!!r.ccEnableArenas),r.objcClassPrefix!=null&&(E.objcClassPrefix=String(r.objcClassPrefix)),r.csharpNamespace!=null&&(E.csharpNamespace=String(r.csharpNamespace)),r.swiftPrefix!=null&&(E.swiftPrefix=String(r.swiftPrefix)),r.phpClassPrefix!=null&&(E.phpClassPrefix=String(r.phpClassPrefix)),r.phpNamespace!=null&&(E.phpNamespace=String(r.phpNamespace)),r.phpMetadataNamespace!=null&&(E.phpMetadataNamespace=String(r.phpMetadataNamespace)),r.rubyPackage!=null&&(E.rubyPackage=String(r.rubyPackage)),r.features!=null){if(typeof r.features!="object")throw TypeError(".google.protobuf.FileOptions.features: object expected");E.features=o.google.protobuf.FeatureSet.fromObject(r.features)}if(r.uninterpretedOption){if(!Array.isArray(r.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");E.uninterpretedOption=[];for(var S=0;S<r.uninterpretedOption.length;++S){if(typeof r.uninterpretedOption[S]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");E.uninterpretedOption[S]=o.google.protobuf.UninterpretedOption.fromObject(r.uninterpretedOption[S])}}if(r[".google.api.resourceDefinition"]){if(!Array.isArray(r[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(E[".google.api.resourceDefinition"]=[],S=0;S<r[".google.api.resourceDefinition"].length;++S){if(typeof r[".google.api.resourceDefinition"][S]!="object")throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");E[".google.api.resourceDefinition"][S]=o.google.api.ResourceDescriptor.fromObject(r[".google.api.resourceDefinition"][S])}}return E},Ge.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.uninterpretedOption=[],S[".google.api.resourceDefinition"]=[]),E.defaults&&(S.javaPackage="",S.javaOuterClassname="",S.optimizeFor=E.enums===String?"SPEED":1,S.javaMultipleFiles=!1,S.goPackage="",S.ccGenericServices=!1,S.javaGenericServices=!1,S.pyGenericServices=!1,S.javaGenerateEqualsAndHash=!1,S.deprecated=!1,S.javaStringCheckUtf8=!1,S.ccEnableArenas=!0,S.objcClassPrefix="",S.csharpNamespace="",S.swiftPrefix="",S.phpClassPrefix="",S.phpNamespace="",S.phpMetadataNamespace="",S.rubyPackage="",S.features=null),r.javaPackage!=null&&r.hasOwnProperty("javaPackage")&&(S.javaPackage=r.javaPackage),r.javaOuterClassname!=null&&r.hasOwnProperty("javaOuterClassname")&&(S.javaOuterClassname=r.javaOuterClassname),r.optimizeFor!=null&&r.hasOwnProperty("optimizeFor")&&(S.optimizeFor=E.enums!==String||o.google.protobuf.FileOptions.OptimizeMode[r.optimizeFor]===void 0?r.optimizeFor:o.google.protobuf.FileOptions.OptimizeMode[r.optimizeFor]),r.javaMultipleFiles!=null&&r.hasOwnProperty("javaMultipleFiles")&&(S.javaMultipleFiles=r.javaMultipleFiles),r.goPackage!=null&&r.hasOwnProperty("goPackage")&&(S.goPackage=r.goPackage),r.ccGenericServices!=null&&r.hasOwnProperty("ccGenericServices")&&(S.ccGenericServices=r.ccGenericServices),r.javaGenericServices!=null&&r.hasOwnProperty("javaGenericServices")&&(S.javaGenericServices=r.javaGenericServices),r.pyGenericServices!=null&&r.hasOwnProperty("pyGenericServices")&&(S.pyGenericServices=r.pyGenericServices),r.javaGenerateEqualsAndHash!=null&&r.hasOwnProperty("javaGenerateEqualsAndHash")&&(S.javaGenerateEqualsAndHash=r.javaGenerateEqualsAndHash),r.deprecated!=null&&r.hasOwnProperty("deprecated")&&(S.deprecated=r.deprecated),r.javaStringCheckUtf8!=null&&r.hasOwnProperty("javaStringCheckUtf8")&&(S.javaStringCheckUtf8=r.javaStringCheckUtf8),r.ccEnableArenas!=null&&r.hasOwnProperty("ccEnableArenas")&&(S.ccEnableArenas=r.ccEnableArenas),r.objcClassPrefix!=null&&r.hasOwnProperty("objcClassPrefix")&&(S.objcClassPrefix=r.objcClassPrefix),r.csharpNamespace!=null&&r.hasOwnProperty("csharpNamespace")&&(S.csharpNamespace=r.csharpNamespace),r.swiftPrefix!=null&&r.hasOwnProperty("swiftPrefix")&&(S.swiftPrefix=r.swiftPrefix),r.phpClassPrefix!=null&&r.hasOwnProperty("phpClassPrefix")&&(S.phpClassPrefix=r.phpClassPrefix),r.phpNamespace!=null&&r.hasOwnProperty("phpNamespace")&&(S.phpNamespace=r.phpNamespace),r.phpMetadataNamespace!=null&&r.hasOwnProperty("phpMetadataNamespace")&&(S.phpMetadataNamespace=r.phpMetadataNamespace),r.rubyPackage!=null&&r.hasOwnProperty("rubyPackage")&&(S.rubyPackage=r.rubyPackage),r.features!=null&&r.hasOwnProperty("features")&&(S.features=o.google.protobuf.FeatureSet.toObject(r.features,E)),r.uninterpretedOption&&r.uninterpretedOption.length){S.uninterpretedOption=[];for(var ue=0;ue<r.uninterpretedOption.length;++ue)S.uninterpretedOption[ue]=o.google.protobuf.UninterpretedOption.toObject(r.uninterpretedOption[ue],E)}if(r[".google.api.resourceDefinition"]&&r[".google.api.resourceDefinition"].length)for(S[".google.api.resourceDefinition"]=[],ue=0;ue<r[".google.api.resourceDefinition"].length;++ue)S[".google.api.resourceDefinition"][ue]=o.google.api.ResourceDescriptor.toObject(r[".google.api.resourceDefinition"][ue],E);return S},Ge.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ge.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FileOptions"},Ge.OptimizeMode=(g={},(m=Object.create(g))[g[1]="SPEED"]="SPEED",m[g[2]="CODE_SIZE"]="CODE_SIZE",m[g[3]="LITE_RUNTIME"]="LITE_RUNTIME",m),Ge),p.MessageOptions=(et.prototype.messageSetWireFormat=!1,et.prototype.noStandardDescriptorAccessor=!1,et.prototype.deprecated=!1,et.prototype.mapEntry=!1,et.prototype.deprecatedLegacyJsonFieldConflicts=!1,et.prototype.features=null,et.prototype.uninterpretedOption=l.emptyArray,et.prototype[".google.api.resource"]=null,et.fromObject=function(r){if(r instanceof o.google.protobuf.MessageOptions)return r;var E=new o.google.protobuf.MessageOptions;if(r.messageSetWireFormat!=null&&(E.messageSetWireFormat=!!r.messageSetWireFormat),r.noStandardDescriptorAccessor!=null&&(E.noStandardDescriptorAccessor=!!r.noStandardDescriptorAccessor),r.deprecated!=null&&(E.deprecated=!!r.deprecated),r.mapEntry!=null&&(E.mapEntry=!!r.mapEntry),r.deprecatedLegacyJsonFieldConflicts!=null&&(E.deprecatedLegacyJsonFieldConflicts=!!r.deprecatedLegacyJsonFieldConflicts),r.features!=null){if(typeof r.features!="object")throw TypeError(".google.protobuf.MessageOptions.features: object expected");E.features=o.google.protobuf.FeatureSet.fromObject(r.features)}if(r.uninterpretedOption){if(!Array.isArray(r.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");E.uninterpretedOption=[];for(var S=0;S<r.uninterpretedOption.length;++S){if(typeof r.uninterpretedOption[S]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");E.uninterpretedOption[S]=o.google.protobuf.UninterpretedOption.fromObject(r.uninterpretedOption[S])}}if(r[".google.api.resource"]!=null){if(typeof r[".google.api.resource"]!="object")throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");E[".google.api.resource"]=o.google.api.ResourceDescriptor.fromObject(r[".google.api.resource"])}return E},et.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.uninterpretedOption=[]),E.defaults&&(S.messageSetWireFormat=!1,S.noStandardDescriptorAccessor=!1,S.deprecated=!1,S.mapEntry=!1,S.deprecatedLegacyJsonFieldConflicts=!1,S.features=null,S[".google.api.resource"]=null),r.messageSetWireFormat!=null&&r.hasOwnProperty("messageSetWireFormat")&&(S.messageSetWireFormat=r.messageSetWireFormat),r.noStandardDescriptorAccessor!=null&&r.hasOwnProperty("noStandardDescriptorAccessor")&&(S.noStandardDescriptorAccessor=r.noStandardDescriptorAccessor),r.deprecated!=null&&r.hasOwnProperty("deprecated")&&(S.deprecated=r.deprecated),r.mapEntry!=null&&r.hasOwnProperty("mapEntry")&&(S.mapEntry=r.mapEntry),r.deprecatedLegacyJsonFieldConflicts!=null&&r.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&(S.deprecatedLegacyJsonFieldConflicts=r.deprecatedLegacyJsonFieldConflicts),r.features!=null&&r.hasOwnProperty("features")&&(S.features=o.google.protobuf.FeatureSet.toObject(r.features,E)),r.uninterpretedOption&&r.uninterpretedOption.length){S.uninterpretedOption=[];for(var ue=0;ue<r.uninterpretedOption.length;++ue)S.uninterpretedOption[ue]=o.google.protobuf.UninterpretedOption.toObject(r.uninterpretedOption[ue],E)}return r[".google.api.resource"]!=null&&r.hasOwnProperty(".google.api.resource")&&(S[".google.api.resource"]=o.google.api.ResourceDescriptor.toObject(r[".google.api.resource"],E)),S},et.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},et.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.MessageOptions"},et),p.FieldOptions=(Ye.prototype.ctype=0,Ye.prototype.packed=!1,Ye.prototype.jstype=0,Ye.prototype.lazy=!1,Ye.prototype.unverifiedLazy=!1,Ye.prototype.deprecated=!1,Ye.prototype.weak=!1,Ye.prototype.debugRedact=!1,Ye.prototype.retention=0,Ye.prototype.targets=l.emptyArray,Ye.prototype.editionDefaults=l.emptyArray,Ye.prototype.features=null,Ye.prototype.uninterpretedOption=l.emptyArray,Ye.prototype[".google.api.fieldBehavior"]=l.emptyArray,Ye.prototype[".google.api.resourceReference"]=null,Ye.fromObject=function(r){if(r instanceof o.google.protobuf.FieldOptions)return r;var E=new o.google.protobuf.FieldOptions;switch(r.ctype){default:typeof r.ctype=="number"&&(E.ctype=r.ctype);break;case"STRING":case 0:E.ctype=0;break;case"CORD":case 1:E.ctype=1;break;case"STRING_PIECE":case 2:E.ctype=2}switch(r.packed!=null&&(E.packed=!!r.packed),r.jstype){default:typeof r.jstype=="number"&&(E.jstype=r.jstype);break;case"JS_NORMAL":case 0:E.jstype=0;break;case"JS_STRING":case 1:E.jstype=1;break;case"JS_NUMBER":case 2:E.jstype=2}switch(r.lazy!=null&&(E.lazy=!!r.lazy),r.unverifiedLazy!=null&&(E.unverifiedLazy=!!r.unverifiedLazy),r.deprecated!=null&&(E.deprecated=!!r.deprecated),r.weak!=null&&(E.weak=!!r.weak),r.debugRedact!=null&&(E.debugRedact=!!r.debugRedact),r.retention){default:typeof r.retention=="number"&&(E.retention=r.retention);break;case"RETENTION_UNKNOWN":case 0:E.retention=0;break;case"RETENTION_RUNTIME":case 1:E.retention=1;break;case"RETENTION_SOURCE":case 2:E.retention=2}if(r.targets){if(!Array.isArray(r.targets))throw TypeError(".google.protobuf.FieldOptions.targets: array expected");E.targets=[];for(var S=0;S<r.targets.length;++S)switch(r.targets[S]){default:if(typeof r.targets[S]=="number"){E.targets[S]=r.targets[S];break}case"TARGET_TYPE_UNKNOWN":case 0:E.targets[S]=0;break;case"TARGET_TYPE_FILE":case 1:E.targets[S]=1;break;case"TARGET_TYPE_EXTENSION_RANGE":case 2:E.targets[S]=2;break;case"TARGET_TYPE_MESSAGE":case 3:E.targets[S]=3;break;case"TARGET_TYPE_FIELD":case 4:E.targets[S]=4;break;case"TARGET_TYPE_ONEOF":case 5:E.targets[S]=5;break;case"TARGET_TYPE_ENUM":case 6:E.targets[S]=6;break;case"TARGET_TYPE_ENUM_ENTRY":case 7:E.targets[S]=7;break;case"TARGET_TYPE_SERVICE":case 8:E.targets[S]=8;break;case"TARGET_TYPE_METHOD":case 9:E.targets[S]=9}}if(r.editionDefaults){if(!Array.isArray(r.editionDefaults))throw TypeError(".google.protobuf.FieldOptions.editionDefaults: array expected");for(E.editionDefaults=[],S=0;S<r.editionDefaults.length;++S){if(typeof r.editionDefaults[S]!="object")throw TypeError(".google.protobuf.FieldOptions.editionDefaults: object expected");E.editionDefaults[S]=o.google.protobuf.FieldOptions.EditionDefault.fromObject(r.editionDefaults[S])}}if(r.features!=null){if(typeof r.features!="object")throw TypeError(".google.protobuf.FieldOptions.features: object expected");E.features=o.google.protobuf.FeatureSet.fromObject(r.features)}if(r.uninterpretedOption){if(!Array.isArray(r.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");for(E.uninterpretedOption=[],S=0;S<r.uninterpretedOption.length;++S){if(typeof r.uninterpretedOption[S]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");E.uninterpretedOption[S]=o.google.protobuf.UninterpretedOption.fromObject(r.uninterpretedOption[S])}}if(r[".google.api.fieldBehavior"]){if(!Array.isArray(r[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(E[".google.api.fieldBehavior"]=[],S=0;S<r[".google.api.fieldBehavior"].length;++S)switch(r[".google.api.fieldBehavior"][S]){default:if(typeof r[".google.api.fieldBehavior"][S]=="number"){E[".google.api.fieldBehavior"][S]=r[".google.api.fieldBehavior"][S];break}case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:E[".google.api.fieldBehavior"][S]=0;break;case"OPTIONAL":case 1:E[".google.api.fieldBehavior"][S]=1;break;case"REQUIRED":case 2:E[".google.api.fieldBehavior"][S]=2;break;case"OUTPUT_ONLY":case 3:E[".google.api.fieldBehavior"][S]=3;break;case"INPUT_ONLY":case 4:E[".google.api.fieldBehavior"][S]=4;break;case"IMMUTABLE":case 5:E[".google.api.fieldBehavior"][S]=5;break;case"UNORDERED_LIST":case 6:E[".google.api.fieldBehavior"][S]=6;break;case"NON_EMPTY_DEFAULT":case 7:E[".google.api.fieldBehavior"][S]=7;break;case"IDENTIFIER":case 8:E[".google.api.fieldBehavior"][S]=8}}if(r[".google.api.resourceReference"]!=null){if(typeof r[".google.api.resourceReference"]!="object")throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");E[".google.api.resourceReference"]=o.google.api.ResourceReference.fromObject(r[".google.api.resourceReference"])}return E},Ye.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.targets=[],S.editionDefaults=[],S.uninterpretedOption=[],S[".google.api.fieldBehavior"]=[]),E.defaults&&(S.ctype=E.enums===String?"STRING":0,S.packed=!1,S.deprecated=!1,S.lazy=!1,S.jstype=E.enums===String?"JS_NORMAL":0,S.weak=!1,S.unverifiedLazy=!1,S.debugRedact=!1,S.retention=E.enums===String?"RETENTION_UNKNOWN":0,S.features=null,S[".google.api.resourceReference"]=null),r.ctype!=null&&r.hasOwnProperty("ctype")&&(S.ctype=E.enums!==String||o.google.protobuf.FieldOptions.CType[r.ctype]===void 0?r.ctype:o.google.protobuf.FieldOptions.CType[r.ctype]),r.packed!=null&&r.hasOwnProperty("packed")&&(S.packed=r.packed),r.deprecated!=null&&r.hasOwnProperty("deprecated")&&(S.deprecated=r.deprecated),r.lazy!=null&&r.hasOwnProperty("lazy")&&(S.lazy=r.lazy),r.jstype!=null&&r.hasOwnProperty("jstype")&&(S.jstype=E.enums!==String||o.google.protobuf.FieldOptions.JSType[r.jstype]===void 0?r.jstype:o.google.protobuf.FieldOptions.JSType[r.jstype]),r.weak!=null&&r.hasOwnProperty("weak")&&(S.weak=r.weak),r.unverifiedLazy!=null&&r.hasOwnProperty("unverifiedLazy")&&(S.unverifiedLazy=r.unverifiedLazy),r.debugRedact!=null&&r.hasOwnProperty("debugRedact")&&(S.debugRedact=r.debugRedact),r.retention!=null&&r.hasOwnProperty("retention")&&(S.retention=E.enums!==String||o.google.protobuf.FieldOptions.OptionRetention[r.retention]===void 0?r.retention:o.google.protobuf.FieldOptions.OptionRetention[r.retention]),r.targets&&r.targets.length){S.targets=[];for(var ue=0;ue<r.targets.length;++ue)S.targets[ue]=E.enums!==String||o.google.protobuf.FieldOptions.OptionTargetType[r.targets[ue]]===void 0?r.targets[ue]:o.google.protobuf.FieldOptions.OptionTargetType[r.targets[ue]]}if(r.editionDefaults&&r.editionDefaults.length)for(S.editionDefaults=[],ue=0;ue<r.editionDefaults.length;++ue)S.editionDefaults[ue]=o.google.protobuf.FieldOptions.EditionDefault.toObject(r.editionDefaults[ue],E);if(r.features!=null&&r.hasOwnProperty("features")&&(S.features=o.google.protobuf.FeatureSet.toObject(r.features,E)),r.uninterpretedOption&&r.uninterpretedOption.length)for(S.uninterpretedOption=[],ue=0;ue<r.uninterpretedOption.length;++ue)S.uninterpretedOption[ue]=o.google.protobuf.UninterpretedOption.toObject(r.uninterpretedOption[ue],E);if(r[".google.api.fieldBehavior"]&&r[".google.api.fieldBehavior"].length)for(S[".google.api.fieldBehavior"]=[],ue=0;ue<r[".google.api.fieldBehavior"].length;++ue)S[".google.api.fieldBehavior"][ue]=E.enums!==String||o.google.api.FieldBehavior[r[".google.api.fieldBehavior"][ue]]===void 0?r[".google.api.fieldBehavior"][ue]:o.google.api.FieldBehavior[r[".google.api.fieldBehavior"][ue]];return r[".google.api.resourceReference"]!=null&&r.hasOwnProperty(".google.api.resourceReference")&&(S[".google.api.resourceReference"]=o.google.api.ResourceReference.toObject(r[".google.api.resourceReference"],E)),S},Ye.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ye.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FieldOptions"},Ye.CType=(g={},(m=Object.create(g))[g[0]="STRING"]="STRING",m[g[1]="CORD"]="CORD",m[g[2]="STRING_PIECE"]="STRING_PIECE",m),Ye.JSType=(g={},(m=Object.create(g))[g[0]="JS_NORMAL"]="JS_NORMAL",m[g[1]="JS_STRING"]="JS_STRING",m[g[2]="JS_NUMBER"]="JS_NUMBER",m),Ye.OptionRetention=(g={},(m=Object.create(g))[g[0]="RETENTION_UNKNOWN"]="RETENTION_UNKNOWN",m[g[1]="RETENTION_RUNTIME"]="RETENTION_RUNTIME",m[g[2]="RETENTION_SOURCE"]="RETENTION_SOURCE",m),Ye.OptionTargetType=(g={},(m=Object.create(g))[g[0]="TARGET_TYPE_UNKNOWN"]="TARGET_TYPE_UNKNOWN",m[g[1]="TARGET_TYPE_FILE"]="TARGET_TYPE_FILE",m[g[2]="TARGET_TYPE_EXTENSION_RANGE"]="TARGET_TYPE_EXTENSION_RANGE",m[g[3]="TARGET_TYPE_MESSAGE"]="TARGET_TYPE_MESSAGE",m[g[4]="TARGET_TYPE_FIELD"]="TARGET_TYPE_FIELD",m[g[5]="TARGET_TYPE_ONEOF"]="TARGET_TYPE_ONEOF",m[g[6]="TARGET_TYPE_ENUM"]="TARGET_TYPE_ENUM",m[g[7]="TARGET_TYPE_ENUM_ENTRY"]="TARGET_TYPE_ENUM_ENTRY",m[g[8]="TARGET_TYPE_SERVICE"]="TARGET_TYPE_SERVICE",m[g[9]="TARGET_TYPE_METHOD"]="TARGET_TYPE_METHOD",m),Ye.EditionDefault=(Rt.prototype.edition=0,Rt.prototype.value="",Rt.fromObject=function(r){if(r instanceof o.google.protobuf.FieldOptions.EditionDefault)return r;var E=new o.google.protobuf.FieldOptions.EditionDefault;switch(r.edition){default:typeof r.edition=="number"&&(E.edition=r.edition);break;case"EDITION_UNKNOWN":case 0:E.edition=0;break;case"EDITION_PROTO2":case 998:E.edition=998;break;case"EDITION_PROTO3":case 999:E.edition=999;break;case"EDITION_2023":case 1e3:E.edition=1e3;break;case"EDITION_2024":case 1001:E.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:E.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:E.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:E.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:E.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:E.edition=99999;break;case"EDITION_MAX":case 2147483647:E.edition=2147483647}return r.value!=null&&(E.value=String(r.value)),E},Rt.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.value="",S.edition=E.enums===String?"EDITION_UNKNOWN":0),r.value!=null&&r.hasOwnProperty("value")&&(S.value=r.value),r.edition!=null&&r.hasOwnProperty("edition")&&(S.edition=E.enums!==String||o.google.protobuf.Edition[r.edition]===void 0?r.edition:o.google.protobuf.Edition[r.edition]),S},Rt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Rt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FieldOptions.EditionDefault"},Rt),Ye),p.OneofOptions=($t.prototype.features=null,$t.prototype.uninterpretedOption=l.emptyArray,$t.fromObject=function(r){if(r instanceof o.google.protobuf.OneofOptions)return r;var E=new o.google.protobuf.OneofOptions;if(r.features!=null){if(typeof r.features!="object")throw TypeError(".google.protobuf.OneofOptions.features: object expected");E.features=o.google.protobuf.FeatureSet.fromObject(r.features)}if(r.uninterpretedOption){if(!Array.isArray(r.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");E.uninterpretedOption=[];for(var S=0;S<r.uninterpretedOption.length;++S){if(typeof r.uninterpretedOption[S]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");E.uninterpretedOption[S]=o.google.protobuf.UninterpretedOption.fromObject(r.uninterpretedOption[S])}}return E},$t.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.uninterpretedOption=[]),E.defaults&&(S.features=null),r.features!=null&&r.hasOwnProperty("features")&&(S.features=o.google.protobuf.FeatureSet.toObject(r.features,E)),r.uninterpretedOption&&r.uninterpretedOption.length){S.uninterpretedOption=[];for(var ue=0;ue<r.uninterpretedOption.length;++ue)S.uninterpretedOption[ue]=o.google.protobuf.UninterpretedOption.toObject(r.uninterpretedOption[ue],E)}return S},$t.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},$t.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.OneofOptions"},$t),p.EnumOptions=(Qt.prototype.allowAlias=!1,Qt.prototype.deprecated=!1,Qt.prototype.deprecatedLegacyJsonFieldConflicts=!1,Qt.prototype.features=null,Qt.prototype.uninterpretedOption=l.emptyArray,Qt.fromObject=function(r){if(r instanceof o.google.protobuf.EnumOptions)return r;var E=new o.google.protobuf.EnumOptions;if(r.allowAlias!=null&&(E.allowAlias=!!r.allowAlias),r.deprecated!=null&&(E.deprecated=!!r.deprecated),r.deprecatedLegacyJsonFieldConflicts!=null&&(E.deprecatedLegacyJsonFieldConflicts=!!r.deprecatedLegacyJsonFieldConflicts),r.features!=null){if(typeof r.features!="object")throw TypeError(".google.protobuf.EnumOptions.features: object expected");E.features=o.google.protobuf.FeatureSet.fromObject(r.features)}if(r.uninterpretedOption){if(!Array.isArray(r.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");E.uninterpretedOption=[];for(var S=0;S<r.uninterpretedOption.length;++S){if(typeof r.uninterpretedOption[S]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");E.uninterpretedOption[S]=o.google.protobuf.UninterpretedOption.fromObject(r.uninterpretedOption[S])}}return E},Qt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.uninterpretedOption=[]),E.defaults&&(S.allowAlias=!1,S.deprecated=!1,S.deprecatedLegacyJsonFieldConflicts=!1,S.features=null),r.allowAlias!=null&&r.hasOwnProperty("allowAlias")&&(S.allowAlias=r.allowAlias),r.deprecated!=null&&r.hasOwnProperty("deprecated")&&(S.deprecated=r.deprecated),r.deprecatedLegacyJsonFieldConflicts!=null&&r.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&(S.deprecatedLegacyJsonFieldConflicts=r.deprecatedLegacyJsonFieldConflicts),r.features!=null&&r.hasOwnProperty("features")&&(S.features=o.google.protobuf.FeatureSet.toObject(r.features,E)),r.uninterpretedOption&&r.uninterpretedOption.length){S.uninterpretedOption=[];for(var ue=0;ue<r.uninterpretedOption.length;++ue)S.uninterpretedOption[ue]=o.google.protobuf.UninterpretedOption.toObject(r.uninterpretedOption[ue],E)}return S},Qt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Qt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.EnumOptions"},Qt),p.EnumValueOptions=(Xt.prototype.deprecated=!1,Xt.prototype.features=null,Xt.prototype.debugRedact=!1,Xt.prototype.uninterpretedOption=l.emptyArray,Xt.fromObject=function(r){if(r instanceof o.google.protobuf.EnumValueOptions)return r;var E=new o.google.protobuf.EnumValueOptions;if(r.deprecated!=null&&(E.deprecated=!!r.deprecated),r.features!=null){if(typeof r.features!="object")throw TypeError(".google.protobuf.EnumValueOptions.features: object expected");E.features=o.google.protobuf.FeatureSet.fromObject(r.features)}if(r.debugRedact!=null&&(E.debugRedact=!!r.debugRedact),r.uninterpretedOption){if(!Array.isArray(r.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");E.uninterpretedOption=[];for(var S=0;S<r.uninterpretedOption.length;++S){if(typeof r.uninterpretedOption[S]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");E.uninterpretedOption[S]=o.google.protobuf.UninterpretedOption.fromObject(r.uninterpretedOption[S])}}return E},Xt.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.uninterpretedOption=[]),E.defaults&&(S.deprecated=!1,S.features=null,S.debugRedact=!1),r.deprecated!=null&&r.hasOwnProperty("deprecated")&&(S.deprecated=r.deprecated),r.features!=null&&r.hasOwnProperty("features")&&(S.features=o.google.protobuf.FeatureSet.toObject(r.features,E)),r.debugRedact!=null&&r.hasOwnProperty("debugRedact")&&(S.debugRedact=r.debugRedact),r.uninterpretedOption&&r.uninterpretedOption.length){S.uninterpretedOption=[];for(var ue=0;ue<r.uninterpretedOption.length;++ue)S.uninterpretedOption[ue]=o.google.protobuf.UninterpretedOption.toObject(r.uninterpretedOption[ue],E)}return S},Xt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Xt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.EnumValueOptions"},Xt),p.ServiceOptions=(lr.prototype.features=null,lr.prototype.deprecated=!1,lr.prototype.uninterpretedOption=l.emptyArray,lr.prototype[".google.api.defaultHost"]="",lr.prototype[".google.api.oauthScopes"]="",lr.prototype[".google.api.apiVersion"]="",lr.fromObject=function(r){if(r instanceof o.google.protobuf.ServiceOptions)return r;var E=new o.google.protobuf.ServiceOptions;if(r.features!=null){if(typeof r.features!="object")throw TypeError(".google.protobuf.ServiceOptions.features: object expected");E.features=o.google.protobuf.FeatureSet.fromObject(r.features)}if(r.deprecated!=null&&(E.deprecated=!!r.deprecated),r.uninterpretedOption){if(!Array.isArray(r.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");E.uninterpretedOption=[];for(var S=0;S<r.uninterpretedOption.length;++S){if(typeof r.uninterpretedOption[S]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");E.uninterpretedOption[S]=o.google.protobuf.UninterpretedOption.fromObject(r.uninterpretedOption[S])}}return r[".google.api.defaultHost"]!=null&&(E[".google.api.defaultHost"]=String(r[".google.api.defaultHost"])),r[".google.api.oauthScopes"]!=null&&(E[".google.api.oauthScopes"]=String(r[".google.api.oauthScopes"])),r[".google.api.apiVersion"]!=null&&(E[".google.api.apiVersion"]=String(r[".google.api.apiVersion"])),E},lr.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.uninterpretedOption=[]),E.defaults&&(S.deprecated=!1,S.features=null,S[".google.api.defaultHost"]="",S[".google.api.oauthScopes"]="",S[".google.api.apiVersion"]=""),r.deprecated!=null&&r.hasOwnProperty("deprecated")&&(S.deprecated=r.deprecated),r.features!=null&&r.hasOwnProperty("features")&&(S.features=o.google.protobuf.FeatureSet.toObject(r.features,E)),r.uninterpretedOption&&r.uninterpretedOption.length){S.uninterpretedOption=[];for(var ue=0;ue<r.uninterpretedOption.length;++ue)S.uninterpretedOption[ue]=o.google.protobuf.UninterpretedOption.toObject(r.uninterpretedOption[ue],E)}return r[".google.api.defaultHost"]!=null&&r.hasOwnProperty(".google.api.defaultHost")&&(S[".google.api.defaultHost"]=r[".google.api.defaultHost"]),r[".google.api.oauthScopes"]!=null&&r.hasOwnProperty(".google.api.oauthScopes")&&(S[".google.api.oauthScopes"]=r[".google.api.oauthScopes"]),r[".google.api.apiVersion"]!=null&&r.hasOwnProperty(".google.api.apiVersion")&&(S[".google.api.apiVersion"]=r[".google.api.apiVersion"]),S},lr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},lr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.ServiceOptions"},lr),p.MethodOptions=(yr.prototype.deprecated=!1,yr.prototype.idempotencyLevel=0,yr.prototype.features=null,yr.prototype.uninterpretedOption=l.emptyArray,yr.prototype[".google.api.http"]=null,yr.prototype[".google.api.methodSignature"]=l.emptyArray,yr.prototype[".google.longrunning.operationInfo"]=null,yr.fromObject=function(r){if(r instanceof o.google.protobuf.MethodOptions)return r;var E=new o.google.protobuf.MethodOptions;switch(r.deprecated!=null&&(E.deprecated=!!r.deprecated),r.idempotencyLevel){default:typeof r.idempotencyLevel=="number"&&(E.idempotencyLevel=r.idempotencyLevel);break;case"IDEMPOTENCY_UNKNOWN":case 0:E.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:E.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:E.idempotencyLevel=2}if(r.features!=null){if(typeof r.features!="object")throw TypeError(".google.protobuf.MethodOptions.features: object expected");E.features=o.google.protobuf.FeatureSet.fromObject(r.features)}if(r.uninterpretedOption){if(!Array.isArray(r.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");E.uninterpretedOption=[];for(var S=0;S<r.uninterpretedOption.length;++S){if(typeof r.uninterpretedOption[S]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");E.uninterpretedOption[S]=o.google.protobuf.UninterpretedOption.fromObject(r.uninterpretedOption[S])}}if(r[".google.api.http"]!=null){if(typeof r[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");E[".google.api.http"]=o.google.api.HttpRule.fromObject(r[".google.api.http"])}if(r[".google.api.methodSignature"]){if(!Array.isArray(r[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(E[".google.api.methodSignature"]=[],S=0;S<r[".google.api.methodSignature"].length;++S)E[".google.api.methodSignature"][S]=String(r[".google.api.methodSignature"][S])}if(r[".google.longrunning.operationInfo"]!=null){if(typeof r[".google.longrunning.operationInfo"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");E[".google.longrunning.operationInfo"]=o.google.longrunning.OperationInfo.fromObject(r[".google.longrunning.operationInfo"])}return E},yr.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.uninterpretedOption=[],S[".google.api.methodSignature"]=[]),E.defaults&&(S.deprecated=!1,S.idempotencyLevel=E.enums===String?"IDEMPOTENCY_UNKNOWN":0,S.features=null,S[".google.longrunning.operationInfo"]=null,S[".google.api.http"]=null),r.deprecated!=null&&r.hasOwnProperty("deprecated")&&(S.deprecated=r.deprecated),r.idempotencyLevel!=null&&r.hasOwnProperty("idempotencyLevel")&&(S.idempotencyLevel=E.enums!==String||o.google.protobuf.MethodOptions.IdempotencyLevel[r.idempotencyLevel]===void 0?r.idempotencyLevel:o.google.protobuf.MethodOptions.IdempotencyLevel[r.idempotencyLevel]),r.features!=null&&r.hasOwnProperty("features")&&(S.features=o.google.protobuf.FeatureSet.toObject(r.features,E)),r.uninterpretedOption&&r.uninterpretedOption.length){S.uninterpretedOption=[];for(var ue=0;ue<r.uninterpretedOption.length;++ue)S.uninterpretedOption[ue]=o.google.protobuf.UninterpretedOption.toObject(r.uninterpretedOption[ue],E)}if(r[".google.longrunning.operationInfo"]!=null&&r.hasOwnProperty(".google.longrunning.operationInfo")&&(S[".google.longrunning.operationInfo"]=o.google.longrunning.OperationInfo.toObject(r[".google.longrunning.operationInfo"],E)),r[".google.api.methodSignature"]&&r[".google.api.methodSignature"].length)for(S[".google.api.methodSignature"]=[],ue=0;ue<r[".google.api.methodSignature"].length;++ue)S[".google.api.methodSignature"][ue]=r[".google.api.methodSignature"][ue];return r[".google.api.http"]!=null&&r.hasOwnProperty(".google.api.http")&&(S[".google.api.http"]=o.google.api.HttpRule.toObject(r[".google.api.http"],E)),S},yr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},yr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.MethodOptions"},yr.IdempotencyLevel=(g={},(m=Object.create(g))[g[0]="IDEMPOTENCY_UNKNOWN"]="IDEMPOTENCY_UNKNOWN",m[g[1]="NO_SIDE_EFFECTS"]="NO_SIDE_EFFECTS",m[g[2]="IDEMPOTENT"]="IDEMPOTENT",m),yr),p.UninterpretedOption=(Ht.prototype.name=l.emptyArray,Ht.prototype.identifierValue="",Ht.prototype.positiveIntValue=l.Long?l.Long.fromBits(0,0,!0):0,Ht.prototype.negativeIntValue=l.Long?l.Long.fromBits(0,0,!1):0,Ht.prototype.doubleValue=0,Ht.prototype.stringValue=l.newBuffer([]),Ht.prototype.aggregateValue="",Ht.fromObject=function(r){if(r instanceof o.google.protobuf.UninterpretedOption)return r;var E=new o.google.protobuf.UninterpretedOption;if(r.name){if(!Array.isArray(r.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");E.name=[];for(var S=0;S<r.name.length;++S){if(typeof r.name[S]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");E.name[S]=o.google.protobuf.UninterpretedOption.NamePart.fromObject(r.name[S])}}return r.identifierValue!=null&&(E.identifierValue=String(r.identifierValue)),r.positiveIntValue!=null&&(l.Long?(E.positiveIntValue=l.Long.fromValue(r.positiveIntValue)).unsigned=!0:typeof r.positiveIntValue=="string"?E.positiveIntValue=parseInt(r.positiveIntValue,10):typeof r.positiveIntValue=="number"?E.positiveIntValue=r.positiveIntValue:typeof r.positiveIntValue=="object"&&(E.positiveIntValue=new l.LongBits(r.positiveIntValue.low>>>0,r.positiveIntValue.high>>>0).toNumber(!0))),r.negativeIntValue!=null&&(l.Long?(E.negativeIntValue=l.Long.fromValue(r.negativeIntValue)).unsigned=!1:typeof r.negativeIntValue=="string"?E.negativeIntValue=parseInt(r.negativeIntValue,10):typeof r.negativeIntValue=="number"?E.negativeIntValue=r.negativeIntValue:typeof r.negativeIntValue=="object"&&(E.negativeIntValue=new l.LongBits(r.negativeIntValue.low>>>0,r.negativeIntValue.high>>>0).toNumber())),r.doubleValue!=null&&(E.doubleValue=Number(r.doubleValue)),r.stringValue!=null&&(typeof r.stringValue=="string"?l.base64.decode(r.stringValue,E.stringValue=l.newBuffer(l.base64.length(r.stringValue)),0):0<=r.stringValue.length&&(E.stringValue=r.stringValue)),r.aggregateValue!=null&&(E.aggregateValue=String(r.aggregateValue)),E},Ht.toObject=function(r,E){var S,ue={};if(((E=E||{}).arrays||E.defaults)&&(ue.name=[]),E.defaults&&(ue.identifierValue="",l.Long?(S=new l.Long(0,0,!0),ue.positiveIntValue=E.longs===String?S.toString():E.longs===Number?S.toNumber():S):ue.positiveIntValue=E.longs===String?"0":0,l.Long?(S=new l.Long(0,0,!1),ue.negativeIntValue=E.longs===String?S.toString():E.longs===Number?S.toNumber():S):ue.negativeIntValue=E.longs===String?"0":0,ue.doubleValue=0,E.bytes===String?ue.stringValue="":(ue.stringValue=[],E.bytes!==Array&&(ue.stringValue=l.newBuffer(ue.stringValue))),ue.aggregateValue=""),r.name&&r.name.length){ue.name=[];for(var Qe=0;Qe<r.name.length;++Qe)ue.name[Qe]=o.google.protobuf.UninterpretedOption.NamePart.toObject(r.name[Qe],E)}return r.identifierValue!=null&&r.hasOwnProperty("identifierValue")&&(ue.identifierValue=r.identifierValue),r.positiveIntValue!=null&&r.hasOwnProperty("positiveIntValue")&&(typeof r.positiveIntValue=="number"?ue.positiveIntValue=E.longs===String?String(r.positiveIntValue):r.positiveIntValue:ue.positiveIntValue=E.longs===String?l.Long.prototype.toString.call(r.positiveIntValue):E.longs===Number?new l.LongBits(r.positiveIntValue.low>>>0,r.positiveIntValue.high>>>0).toNumber(!0):r.positiveIntValue),r.negativeIntValue!=null&&r.hasOwnProperty("negativeIntValue")&&(typeof r.negativeIntValue=="number"?ue.negativeIntValue=E.longs===String?String(r.negativeIntValue):r.negativeIntValue:ue.negativeIntValue=E.longs===String?l.Long.prototype.toString.call(r.negativeIntValue):E.longs===Number?new l.LongBits(r.negativeIntValue.low>>>0,r.negativeIntValue.high>>>0).toNumber():r.negativeIntValue),r.doubleValue!=null&&r.hasOwnProperty("doubleValue")&&(ue.doubleValue=E.json&&!isFinite(r.doubleValue)?String(r.doubleValue):r.doubleValue),r.stringValue!=null&&r.hasOwnProperty("stringValue")&&(ue.stringValue=E.bytes===String?l.base64.encode(r.stringValue,0,r.stringValue.length):E.bytes===Array?Array.prototype.slice.call(r.stringValue):r.stringValue),r.aggregateValue!=null&&r.hasOwnProperty("aggregateValue")&&(ue.aggregateValue=r.aggregateValue),ue},Ht.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ht.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.UninterpretedOption"},Ht.NamePart=(ur.prototype.namePart="",ur.prototype.isExtension=!1,ur.fromObject=function(r){var E;return r instanceof o.google.protobuf.UninterpretedOption.NamePart?r:(E=new o.google.protobuf.UninterpretedOption.NamePart,r.namePart!=null&&(E.namePart=String(r.namePart)),r.isExtension!=null&&(E.isExtension=!!r.isExtension),E)},ur.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.namePart="",S.isExtension=!1),r.namePart!=null&&r.hasOwnProperty("namePart")&&(S.namePart=r.namePart),r.isExtension!=null&&r.hasOwnProperty("isExtension")&&(S.isExtension=r.isExtension),S},ur.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ur.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.UninterpretedOption.NamePart"},ur),Ht),p.FeatureSet=(Zt.prototype.fieldPresence=0,Zt.prototype.enumType=0,Zt.prototype.repeatedFieldEncoding=0,Zt.prototype.utf8Validation=0,Zt.prototype.messageEncoding=0,Zt.prototype.jsonFormat=0,Zt.fromObject=function(r){if(r instanceof o.google.protobuf.FeatureSet)return r;var E=new o.google.protobuf.FeatureSet;switch(r.fieldPresence){default:typeof r.fieldPresence=="number"&&(E.fieldPresence=r.fieldPresence);break;case"FIELD_PRESENCE_UNKNOWN":case 0:E.fieldPresence=0;break;case"EXPLICIT":case 1:E.fieldPresence=1;break;case"IMPLICIT":case 2:E.fieldPresence=2;break;case"LEGACY_REQUIRED":case 3:E.fieldPresence=3}switch(r.enumType){default:typeof r.enumType=="number"&&(E.enumType=r.enumType);break;case"ENUM_TYPE_UNKNOWN":case 0:E.enumType=0;break;case"OPEN":case 1:E.enumType=1;break;case"CLOSED":case 2:E.enumType=2}switch(r.repeatedFieldEncoding){default:typeof r.repeatedFieldEncoding=="number"&&(E.repeatedFieldEncoding=r.repeatedFieldEncoding);break;case"REPEATED_FIELD_ENCODING_UNKNOWN":case 0:E.repeatedFieldEncoding=0;break;case"PACKED":case 1:E.repeatedFieldEncoding=1;break;case"EXPANDED":case 2:E.repeatedFieldEncoding=2}switch(r.utf8Validation){default:typeof r.utf8Validation=="number"&&(E.utf8Validation=r.utf8Validation);break;case"UTF8_VALIDATION_UNKNOWN":case 0:E.utf8Validation=0;break;case"VERIFY":case 2:E.utf8Validation=2;break;case"NONE":case 3:E.utf8Validation=3}switch(r.messageEncoding){default:typeof r.messageEncoding=="number"&&(E.messageEncoding=r.messageEncoding);break;case"MESSAGE_ENCODING_UNKNOWN":case 0:E.messageEncoding=0;break;case"LENGTH_PREFIXED":case 1:E.messageEncoding=1;break;case"DELIMITED":case 2:E.messageEncoding=2}switch(r.jsonFormat){default:typeof r.jsonFormat=="number"&&(E.jsonFormat=r.jsonFormat);break;case"JSON_FORMAT_UNKNOWN":case 0:E.jsonFormat=0;break;case"ALLOW":case 1:E.jsonFormat=1;break;case"LEGACY_BEST_EFFORT":case 2:E.jsonFormat=2}return E},Zt.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.fieldPresence=E.enums===String?"FIELD_PRESENCE_UNKNOWN":0,S.enumType=E.enums===String?"ENUM_TYPE_UNKNOWN":0,S.repeatedFieldEncoding=E.enums===String?"REPEATED_FIELD_ENCODING_UNKNOWN":0,S.utf8Validation=E.enums===String?"UTF8_VALIDATION_UNKNOWN":0,S.messageEncoding=E.enums===String?"MESSAGE_ENCODING_UNKNOWN":0,S.jsonFormat=E.enums===String?"JSON_FORMAT_UNKNOWN":0),r.fieldPresence!=null&&r.hasOwnProperty("fieldPresence")&&(S.fieldPresence=E.enums!==String||o.google.protobuf.FeatureSet.FieldPresence[r.fieldPresence]===void 0?r.fieldPresence:o.google.protobuf.FeatureSet.FieldPresence[r.fieldPresence]),r.enumType!=null&&r.hasOwnProperty("enumType")&&(S.enumType=E.enums!==String||o.google.protobuf.FeatureSet.EnumType[r.enumType]===void 0?r.enumType:o.google.protobuf.FeatureSet.EnumType[r.enumType]),r.repeatedFieldEncoding!=null&&r.hasOwnProperty("repeatedFieldEncoding")&&(S.repeatedFieldEncoding=E.enums!==String||o.google.protobuf.FeatureSet.RepeatedFieldEncoding[r.repeatedFieldEncoding]===void 0?r.repeatedFieldEncoding:o.google.protobuf.FeatureSet.RepeatedFieldEncoding[r.repeatedFieldEncoding]),r.utf8Validation!=null&&r.hasOwnProperty("utf8Validation")&&(S.utf8Validation=E.enums!==String||o.google.protobuf.FeatureSet.Utf8Validation[r.utf8Validation]===void 0?r.utf8Validation:o.google.protobuf.FeatureSet.Utf8Validation[r.utf8Validation]),r.messageEncoding!=null&&r.hasOwnProperty("messageEncoding")&&(S.messageEncoding=E.enums!==String||o.google.protobuf.FeatureSet.MessageEncoding[r.messageEncoding]===void 0?r.messageEncoding:o.google.protobuf.FeatureSet.MessageEncoding[r.messageEncoding]),r.jsonFormat!=null&&r.hasOwnProperty("jsonFormat")&&(S.jsonFormat=E.enums!==String||o.google.protobuf.FeatureSet.JsonFormat[r.jsonFormat]===void 0?r.jsonFormat:o.google.protobuf.FeatureSet.JsonFormat[r.jsonFormat]),S},Zt.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Zt.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FeatureSet"},Zt.FieldPresence=(g={},(m=Object.create(g))[g[0]="FIELD_PRESENCE_UNKNOWN"]="FIELD_PRESENCE_UNKNOWN",m[g[1]="EXPLICIT"]="EXPLICIT",m[g[2]="IMPLICIT"]="IMPLICIT",m[g[3]="LEGACY_REQUIRED"]="LEGACY_REQUIRED",m),Zt.EnumType=(g={},(m=Object.create(g))[g[0]="ENUM_TYPE_UNKNOWN"]="ENUM_TYPE_UNKNOWN",m[g[1]="OPEN"]="OPEN",m[g[2]="CLOSED"]="CLOSED",m),Zt.RepeatedFieldEncoding=(g={},(m=Object.create(g))[g[0]="REPEATED_FIELD_ENCODING_UNKNOWN"]="REPEATED_FIELD_ENCODING_UNKNOWN",m[g[1]="PACKED"]="PACKED",m[g[2]="EXPANDED"]="EXPANDED",m),Zt.Utf8Validation=(g={},(m=Object.create(g))[g[0]="UTF8_VALIDATION_UNKNOWN"]="UTF8_VALIDATION_UNKNOWN",m[g[2]="VERIFY"]="VERIFY",m[g[3]="NONE"]="NONE",m),Zt.MessageEncoding=(g={},(m=Object.create(g))[g[0]="MESSAGE_ENCODING_UNKNOWN"]="MESSAGE_ENCODING_UNKNOWN",m[g[1]="LENGTH_PREFIXED"]="LENGTH_PREFIXED",m[g[2]="DELIMITED"]="DELIMITED",m),Zt.JsonFormat=(g={},(m=Object.create(g))[g[0]="JSON_FORMAT_UNKNOWN"]="JSON_FORMAT_UNKNOWN",m[g[1]="ALLOW"]="ALLOW",m[g[2]="LEGACY_BEST_EFFORT"]="LEGACY_BEST_EFFORT",m),Zt),p.FeatureSetDefaults=(ir.prototype.defaults=l.emptyArray,ir.prototype.minimumEdition=0,ir.prototype.maximumEdition=0,ir.fromObject=function(r){if(r instanceof o.google.protobuf.FeatureSetDefaults)return r;var E=new o.google.protobuf.FeatureSetDefaults;if(r.defaults){if(!Array.isArray(r.defaults))throw TypeError(".google.protobuf.FeatureSetDefaults.defaults: array expected");E.defaults=[];for(var S=0;S<r.defaults.length;++S){if(typeof r.defaults[S]!="object")throw TypeError(".google.protobuf.FeatureSetDefaults.defaults: object expected");E.defaults[S]=o.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.fromObject(r.defaults[S])}}switch(r.minimumEdition){default:typeof r.minimumEdition=="number"&&(E.minimumEdition=r.minimumEdition);break;case"EDITION_UNKNOWN":case 0:E.minimumEdition=0;break;case"EDITION_PROTO2":case 998:E.minimumEdition=998;break;case"EDITION_PROTO3":case 999:E.minimumEdition=999;break;case"EDITION_2023":case 1e3:E.minimumEdition=1e3;break;case"EDITION_2024":case 1001:E.minimumEdition=1001;break;case"EDITION_1_TEST_ONLY":case 1:E.minimumEdition=1;break;case"EDITION_2_TEST_ONLY":case 2:E.minimumEdition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:E.minimumEdition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:E.minimumEdition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:E.minimumEdition=99999;break;case"EDITION_MAX":case 2147483647:E.minimumEdition=2147483647}switch(r.maximumEdition){default:typeof r.maximumEdition=="number"&&(E.maximumEdition=r.maximumEdition);break;case"EDITION_UNKNOWN":case 0:E.maximumEdition=0;break;case"EDITION_PROTO2":case 998:E.maximumEdition=998;break;case"EDITION_PROTO3":case 999:E.maximumEdition=999;break;case"EDITION_2023":case 1e3:E.maximumEdition=1e3;break;case"EDITION_2024":case 1001:E.maximumEdition=1001;break;case"EDITION_1_TEST_ONLY":case 1:E.maximumEdition=1;break;case"EDITION_2_TEST_ONLY":case 2:E.maximumEdition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:E.maximumEdition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:E.maximumEdition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:E.maximumEdition=99999;break;case"EDITION_MAX":case 2147483647:E.maximumEdition=2147483647}return E},ir.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.defaults=[]),E.defaults&&(S.minimumEdition=E.enums===String?"EDITION_UNKNOWN":0,S.maximumEdition=E.enums===String?"EDITION_UNKNOWN":0),r.defaults&&r.defaults.length){S.defaults=[];for(var ue=0;ue<r.defaults.length;++ue)S.defaults[ue]=o.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.toObject(r.defaults[ue],E)}return r.minimumEdition!=null&&r.hasOwnProperty("minimumEdition")&&(S.minimumEdition=E.enums!==String||o.google.protobuf.Edition[r.minimumEdition]===void 0?r.minimumEdition:o.google.protobuf.Edition[r.minimumEdition]),r.maximumEdition!=null&&r.hasOwnProperty("maximumEdition")&&(S.maximumEdition=E.enums!==String||o.google.protobuf.Edition[r.maximumEdition]===void 0?r.maximumEdition:o.google.protobuf.Edition[r.maximumEdition]),S},ir.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ir.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FeatureSetDefaults"},ir.FeatureSetEditionDefault=(vr.prototype.edition=0,vr.prototype.features=null,vr.fromObject=function(r){if(r instanceof o.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault)return r;var E=new o.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault;switch(r.edition){default:typeof r.edition=="number"&&(E.edition=r.edition);break;case"EDITION_UNKNOWN":case 0:E.edition=0;break;case"EDITION_PROTO2":case 998:E.edition=998;break;case"EDITION_PROTO3":case 999:E.edition=999;break;case"EDITION_2023":case 1e3:E.edition=1e3;break;case"EDITION_2024":case 1001:E.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:E.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:E.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:E.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:E.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:E.edition=99999;break;case"EDITION_MAX":case 2147483647:E.edition=2147483647}if(r.features!=null){if(typeof r.features!="object")throw TypeError(".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.features: object expected");E.features=o.google.protobuf.FeatureSet.fromObject(r.features)}return E},vr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.features=null,S.edition=E.enums===String?"EDITION_UNKNOWN":0),r.features!=null&&r.hasOwnProperty("features")&&(S.features=o.google.protobuf.FeatureSet.toObject(r.features,E)),r.edition!=null&&r.hasOwnProperty("edition")&&(S.edition=E.enums!==String||o.google.protobuf.Edition[r.edition]===void 0?r.edition:o.google.protobuf.Edition[r.edition]),S},vr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},vr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},vr),ir),p.SourceCodeInfo=(Gr.prototype.location=l.emptyArray,Gr.fromObject=function(r){if(r instanceof o.google.protobuf.SourceCodeInfo)return r;var E=new o.google.protobuf.SourceCodeInfo;if(r.location){if(!Array.isArray(r.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");E.location=[];for(var S=0;S<r.location.length;++S){if(typeof r.location[S]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");E.location[S]=o.google.protobuf.SourceCodeInfo.Location.fromObject(r.location[S])}}return E},Gr.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.location=[]),r.location&&r.location.length){S.location=[];for(var ue=0;ue<r.location.length;++ue)S.location[ue]=o.google.protobuf.SourceCodeInfo.Location.toObject(r.location[ue],E)}return S},Gr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Gr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.SourceCodeInfo"},Gr.Location=(_r.prototype.path=l.emptyArray,_r.prototype.span=l.emptyArray,_r.prototype.leadingComments="",_r.prototype.trailingComments="",_r.prototype.leadingDetachedComments=l.emptyArray,_r.fromObject=function(r){if(r instanceof o.google.protobuf.SourceCodeInfo.Location)return r;var E=new o.google.protobuf.SourceCodeInfo.Location;if(r.path){if(!Array.isArray(r.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");E.path=[];for(var S=0;S<r.path.length;++S)E.path[S]=0|r.path[S]}if(r.span){if(!Array.isArray(r.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(E.span=[],S=0;S<r.span.length;++S)E.span[S]=0|r.span[S]}if(r.leadingComments!=null&&(E.leadingComments=String(r.leadingComments)),r.trailingComments!=null&&(E.trailingComments=String(r.trailingComments)),r.leadingDetachedComments){if(!Array.isArray(r.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(E.leadingDetachedComments=[],S=0;S<r.leadingDetachedComments.length;++S)E.leadingDetachedComments[S]=String(r.leadingDetachedComments[S])}return E},_r.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.path=[],S.span=[],S.leadingDetachedComments=[]),E.defaults&&(S.leadingComments="",S.trailingComments=""),r.path&&r.path.length){S.path=[];for(var ue=0;ue<r.path.length;++ue)S.path[ue]=r.path[ue]}if(r.span&&r.span.length)for(S.span=[],ue=0;ue<r.span.length;++ue)S.span[ue]=r.span[ue];if(r.leadingComments!=null&&r.hasOwnProperty("leadingComments")&&(S.leadingComments=r.leadingComments),r.trailingComments!=null&&r.hasOwnProperty("trailingComments")&&(S.trailingComments=r.trailingComments),r.leadingDetachedComments&&r.leadingDetachedComments.length)for(S.leadingDetachedComments=[],ue=0;ue<r.leadingDetachedComments.length;++ue)S.leadingDetachedComments[ue]=r.leadingDetachedComments[ue];return S},_r.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},_r.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.SourceCodeInfo.Location"},_r),Gr),p.GeneratedCodeInfo=(nn.prototype.annotation=l.emptyArray,nn.fromObject=function(r){if(r instanceof o.google.protobuf.GeneratedCodeInfo)return r;var E=new o.google.protobuf.GeneratedCodeInfo;if(r.annotation){if(!Array.isArray(r.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");E.annotation=[];for(var S=0;S<r.annotation.length;++S){if(typeof r.annotation[S]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");E.annotation[S]=o.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(r.annotation[S])}}return E},nn.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.annotation=[]),r.annotation&&r.annotation.length){S.annotation=[];for(var ue=0;ue<r.annotation.length;++ue)S.annotation[ue]=o.google.protobuf.GeneratedCodeInfo.Annotation.toObject(r.annotation[ue],E)}return S},nn.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},nn.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.GeneratedCodeInfo"},nn.Annotation=(qr.prototype.path=l.emptyArray,qr.prototype.sourceFile="",qr.prototype.begin=0,qr.prototype.end=0,qr.prototype.semantic=0,qr.fromObject=function(r){if(r instanceof o.google.protobuf.GeneratedCodeInfo.Annotation)return r;var E=new o.google.protobuf.GeneratedCodeInfo.Annotation;if(r.path){if(!Array.isArray(r.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");E.path=[];for(var S=0;S<r.path.length;++S)E.path[S]=0|r.path[S]}switch(r.sourceFile!=null&&(E.sourceFile=String(r.sourceFile)),r.begin!=null&&(E.begin=0|r.begin),r.end!=null&&(E.end=0|r.end),r.semantic){default:typeof r.semantic=="number"&&(E.semantic=r.semantic);break;case"NONE":case 0:E.semantic=0;break;case"SET":case 1:E.semantic=1;break;case"ALIAS":case 2:E.semantic=2}return E},qr.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.path=[]),E.defaults&&(S.sourceFile="",S.begin=0,S.end=0,S.semantic=E.enums===String?"NONE":0),r.path&&r.path.length){S.path=[];for(var ue=0;ue<r.path.length;++ue)S.path[ue]=r.path[ue]}return r.sourceFile!=null&&r.hasOwnProperty("sourceFile")&&(S.sourceFile=r.sourceFile),r.begin!=null&&r.hasOwnProperty("begin")&&(S.begin=r.begin),r.end!=null&&r.hasOwnProperty("end")&&(S.end=r.end),r.semantic!=null&&r.hasOwnProperty("semantic")&&(S.semantic=E.enums!==String||o.google.protobuf.GeneratedCodeInfo.Annotation.Semantic[r.semantic]===void 0?r.semantic:o.google.protobuf.GeneratedCodeInfo.Annotation.Semantic[r.semantic]),S},qr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},qr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.GeneratedCodeInfo.Annotation"},qr.Semantic=(g={},(m=Object.create(g))[g[0]="NONE"]="NONE",m[g[1]="SET"]="SET",m[g[2]="ALIAS"]="ALIAS",m),qr),nn),p.Struct=(hn.prototype.fields=l.emptyObject,hn.fromObject=function(r){if(r instanceof o.google.protobuf.Struct)return r;var E=new o.google.protobuf.Struct;if(r.fields){if(typeof r.fields!="object")throw TypeError(".google.protobuf.Struct.fields: object expected");E.fields={};for(var S=Object.keys(r.fields),ue=0;ue<S.length;++ue){if(typeof r.fields[S[ue]]!="object")throw TypeError(".google.protobuf.Struct.fields: object expected");E.fields[S[ue]]=o.google.protobuf.Value.fromObject(r.fields[S[ue]])}}return E},hn.toObject=function(r,E){var S,ue={};if(((E=E||{}).objects||E.defaults)&&(ue.fields={}),r.fields&&(S=Object.keys(r.fields)).length){ue.fields={};for(var Qe=0;Qe<S.length;++Qe)ue.fields[S[Qe]]=o.google.protobuf.Value.toObject(r.fields[S[Qe]],E)}return ue},hn.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},hn.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.Struct"},hn),p.Value=(Nr.prototype.nullValue=null,Nr.prototype.numberValue=null,Nr.prototype.stringValue=null,Nr.prototype.boolValue=null,Nr.prototype.structValue=null,Nr.prototype.listValue=null,Object.defineProperty(Nr.prototype,"kind",{get:l.oneOfGetter(g=["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]),set:l.oneOfSetter(g)}),Nr.fromObject=function(r){if(r instanceof o.google.protobuf.Value)return r;var E=new o.google.protobuf.Value;switch(r.nullValue){default:typeof r.nullValue=="number"&&(E.nullValue=r.nullValue);break;case"NULL_VALUE":case 0:E.nullValue=0}if(r.numberValue!=null&&(E.numberValue=Number(r.numberValue)),r.stringValue!=null&&(E.stringValue=String(r.stringValue)),r.boolValue!=null&&(E.boolValue=!!r.boolValue),r.structValue!=null){if(typeof r.structValue!="object")throw TypeError(".google.protobuf.Value.structValue: object expected");E.structValue=o.google.protobuf.Struct.fromObject(r.structValue)}if(r.listValue!=null){if(typeof r.listValue!="object")throw TypeError(".google.protobuf.Value.listValue: object expected");E.listValue=o.google.protobuf.ListValue.fromObject(r.listValue)}return E},Nr.toObject=function(r,E){E=E||{};var S={};return r.nullValue!=null&&r.hasOwnProperty("nullValue")&&(S.nullValue=E.enums!==String||o.google.protobuf.NullValue[r.nullValue]===void 0?r.nullValue:o.google.protobuf.NullValue[r.nullValue],E.oneofs)&&(S.kind="nullValue"),r.numberValue!=null&&r.hasOwnProperty("numberValue")&&(S.numberValue=E.json&&!isFinite(r.numberValue)?String(r.numberValue):r.numberValue,E.oneofs)&&(S.kind="numberValue"),r.stringValue!=null&&r.hasOwnProperty("stringValue")&&(S.stringValue=r.stringValue,E.oneofs)&&(S.kind="stringValue"),r.boolValue!=null&&r.hasOwnProperty("boolValue")&&(S.boolValue=r.boolValue,E.oneofs)&&(S.kind="boolValue"),r.structValue!=null&&r.hasOwnProperty("structValue")&&(S.structValue=o.google.protobuf.Struct.toObject(r.structValue,E),E.oneofs)&&(S.kind="structValue"),r.listValue!=null&&r.hasOwnProperty("listValue")&&(S.listValue=o.google.protobuf.ListValue.toObject(r.listValue,E),E.oneofs)&&(S.kind="listValue"),S},Nr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Nr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.Value"},Nr),p.NullValue=(m={},(g=Object.create(m))[m[0]="NULL_VALUE"]="NULL_VALUE",g),p.ListValue=(Fr.prototype.values=l.emptyArray,Fr.fromObject=function(r){if(r instanceof o.google.protobuf.ListValue)return r;var E=new o.google.protobuf.ListValue;if(r.values){if(!Array.isArray(r.values))throw TypeError(".google.protobuf.ListValue.values: array expected");E.values=[];for(var S=0;S<r.values.length;++S){if(typeof r.values[S]!="object")throw TypeError(".google.protobuf.ListValue.values: object expected");E.values[S]=o.google.protobuf.Value.fromObject(r.values[S])}}return E},Fr.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.values=[]),r.values&&r.values.length){S.values=[];for(var ue=0;ue<r.values.length;++ue)S.values[ue]=o.google.protobuf.Value.toObject(r.values[ue],E)}return S},Fr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Fr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.ListValue"},Fr),p.Timestamp=(on.prototype.seconds=l.Long?l.Long.fromBits(0,0,!1):0,on.prototype.nanos=0,on.fromObject=function(r){var E;return r instanceof o.google.protobuf.Timestamp?r:(E=new o.google.protobuf.Timestamp,r.seconds!=null&&(l.Long?(E.seconds=l.Long.fromValue(r.seconds)).unsigned=!1:typeof r.seconds=="string"?E.seconds=parseInt(r.seconds,10):typeof r.seconds=="number"?E.seconds=r.seconds:typeof r.seconds=="object"&&(E.seconds=new l.LongBits(r.seconds.low>>>0,r.seconds.high>>>0).toNumber())),r.nanos!=null&&(E.nanos=0|r.nanos),E)},on.toObject=function(r,E){var S,ue={};return(E=E||{}).defaults&&(l.Long?(S=new l.Long(0,0,!1),ue.seconds=E.longs===String?S.toString():E.longs===Number?S.toNumber():S):ue.seconds=E.longs===String?"0":0,ue.nanos=0),r.seconds!=null&&r.hasOwnProperty("seconds")&&(typeof r.seconds=="number"?ue.seconds=E.longs===String?String(r.seconds):r.seconds:ue.seconds=E.longs===String?l.Long.prototype.toString.call(r.seconds):E.longs===Number?new l.LongBits(r.seconds.low>>>0,r.seconds.high>>>0).toNumber():r.seconds),r.nanos!=null&&r.hasOwnProperty("nanos")&&(ue.nanos=r.nanos),ue},on.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},on.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.Timestamp"},on),p.Duration=(Dr.prototype.seconds=l.Long?l.Long.fromBits(0,0,!1):0,Dr.prototype.nanos=0,Dr.fromObject=function(r){var E;return r instanceof o.google.protobuf.Duration?r:(E=new o.google.protobuf.Duration,r.seconds!=null&&(l.Long?(E.seconds=l.Long.fromValue(r.seconds)).unsigned=!1:typeof r.seconds=="string"?E.seconds=parseInt(r.seconds,10):typeof r.seconds=="number"?E.seconds=r.seconds:typeof r.seconds=="object"&&(E.seconds=new l.LongBits(r.seconds.low>>>0,r.seconds.high>>>0).toNumber())),r.nanos!=null&&(E.nanos=0|r.nanos),E)},Dr.toObject=function(r,E){var S,ue={};return(E=E||{}).defaults&&(l.Long?(S=new l.Long(0,0,!1),ue.seconds=E.longs===String?S.toString():E.longs===Number?S.toNumber():S):ue.seconds=E.longs===String?"0":0,ue.nanos=0),r.seconds!=null&&r.hasOwnProperty("seconds")&&(typeof r.seconds=="number"?ue.seconds=E.longs===String?String(r.seconds):r.seconds:ue.seconds=E.longs===String?l.Long.prototype.toString.call(r.seconds):E.longs===Number?new l.LongBits(r.seconds.low>>>0,r.seconds.high>>>0).toNumber():r.seconds),r.nanos!=null&&r.hasOwnProperty("nanos")&&(ue.nanos=r.nanos),ue},Dr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Dr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.Duration"},Dr),p.DoubleValue=(xr.prototype.value=0,xr.fromObject=function(r){var E;return r instanceof o.google.protobuf.DoubleValue?r:(E=new o.google.protobuf.DoubleValue,r.value!=null&&(E.value=Number(r.value)),E)},xr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.value=0),r.value!=null&&r.hasOwnProperty("value")&&(S.value=E.json&&!isFinite(r.value)?String(r.value):r.value),S},xr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},xr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.DoubleValue"},xr),p.FloatValue=(an.prototype.value=0,an.fromObject=function(r){var E;return r instanceof o.google.protobuf.FloatValue?r:(E=new o.google.protobuf.FloatValue,r.value!=null&&(E.value=Number(r.value)),E)},an.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.value=0),r.value!=null&&r.hasOwnProperty("value")&&(S.value=E.json&&!isFinite(r.value)?String(r.value):r.value),S},an.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},an.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FloatValue"},an),p.Int64Value=(sn.prototype.value=l.Long?l.Long.fromBits(0,0,!1):0,sn.fromObject=function(r){var E;return r instanceof o.google.protobuf.Int64Value?r:(E=new o.google.protobuf.Int64Value,r.value!=null&&(l.Long?(E.value=l.Long.fromValue(r.value)).unsigned=!1:typeof r.value=="string"?E.value=parseInt(r.value,10):typeof r.value=="number"?E.value=r.value:typeof r.value=="object"&&(E.value=new l.LongBits(r.value.low>>>0,r.value.high>>>0).toNumber())),E)},sn.toObject=function(r,E){var S,ue={};return(E=E||{}).defaults&&(l.Long?(S=new l.Long(0,0,!1),ue.value=E.longs===String?S.toString():E.longs===Number?S.toNumber():S):ue.value=E.longs===String?"0":0),r.value!=null&&r.hasOwnProperty("value")&&(typeof r.value=="number"?ue.value=E.longs===String?String(r.value):r.value:ue.value=E.longs===String?l.Long.prototype.toString.call(r.value):E.longs===Number?new l.LongBits(r.value.low>>>0,r.value.high>>>0).toNumber():r.value),ue},sn.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},sn.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.Int64Value"},sn),p.UInt64Value=(Hr.prototype.value=l.Long?l.Long.fromBits(0,0,!0):0,Hr.fromObject=function(r){var E;return r instanceof o.google.protobuf.UInt64Value?r:(E=new o.google.protobuf.UInt64Value,r.value!=null&&(l.Long?(E.value=l.Long.fromValue(r.value)).unsigned=!0:typeof r.value=="string"?E.value=parseInt(r.value,10):typeof r.value=="number"?E.value=r.value:typeof r.value=="object"&&(E.value=new l.LongBits(r.value.low>>>0,r.value.high>>>0).toNumber(!0))),E)},Hr.toObject=function(r,E){var S,ue={};return(E=E||{}).defaults&&(l.Long?(S=new l.Long(0,0,!0),ue.value=E.longs===String?S.toString():E.longs===Number?S.toNumber():S):ue.value=E.longs===String?"0":0),r.value!=null&&r.hasOwnProperty("value")&&(typeof r.value=="number"?ue.value=E.longs===String?String(r.value):r.value:ue.value=E.longs===String?l.Long.prototype.toString.call(r.value):E.longs===Number?new l.LongBits(r.value.low>>>0,r.value.high>>>0).toNumber(!0):r.value),ue},Hr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Hr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.UInt64Value"},Hr),p.Int32Value=(Mr.prototype.value=0,Mr.fromObject=function(r){var E;return r instanceof o.google.protobuf.Int32Value?r:(E=new o.google.protobuf.Int32Value,r.value!=null&&(E.value=0|r.value),E)},Mr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.value=0),r.value!=null&&r.hasOwnProperty("value")&&(S.value=r.value),S},Mr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Mr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.Int32Value"},Mr),p.UInt32Value=(ln.prototype.value=0,ln.fromObject=function(r){var E;return r instanceof o.google.protobuf.UInt32Value?r:(E=new o.google.protobuf.UInt32Value,r.value!=null&&(E.value=r.value>>>0),E)},ln.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.value=0),r.value!=null&&r.hasOwnProperty("value")&&(S.value=r.value),S},ln.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},ln.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.UInt32Value"},ln),p.BoolValue=(Jr.prototype.value=!1,Jr.fromObject=function(r){var E;return r instanceof o.google.protobuf.BoolValue?r:(E=new o.google.protobuf.BoolValue,r.value!=null&&(E.value=!!r.value),E)},Jr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.value=!1),r.value!=null&&r.hasOwnProperty("value")&&(S.value=r.value),S},Jr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Jr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.BoolValue"},Jr),p.StringValue=(un.prototype.value="",un.fromObject=function(r){var E;return r instanceof o.google.protobuf.StringValue?r:(E=new o.google.protobuf.StringValue,r.value!=null&&(E.value=String(r.value)),E)},un.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.value=""),r.value!=null&&r.hasOwnProperty("value")&&(S.value=r.value),S},un.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},un.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.StringValue"},un),p.BytesValue=(zr.prototype.value=l.newBuffer([]),zr.fromObject=function(r){var E;return r instanceof o.google.protobuf.BytesValue?r:(E=new o.google.protobuf.BytesValue,r.value!=null&&(typeof r.value=="string"?l.base64.decode(r.value,E.value=l.newBuffer(l.base64.length(r.value)),0):0<=r.value.length&&(E.value=r.value)),E)},zr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(E.bytes===String?S.value="":(S.value=[],E.bytes!==Array&&(S.value=l.newBuffer(S.value)))),r.value!=null&&r.hasOwnProperty("value")&&(S.value=E.bytes===String?l.base64.encode(r.value,0,r.value.length):E.bytes===Array?Array.prototype.slice.call(r.value):r.value),S},zr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},zr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.BytesValue"},zr),p.Empty=(gn.fromObject=function(r){return r instanceof o.google.protobuf.Empty?r:new o.google.protobuf.Empty},gn.toObject=function(){return{}},gn.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},gn.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.Empty"},gn),p.Any=(wr.prototype.type_url="",wr.prototype.value=l.newBuffer([]),wr.fromObject=function(r){var E;return r instanceof o.google.protobuf.Any?r:(E=new o.google.protobuf.Any,r.type_url!=null&&(E.type_url=String(r.type_url)),r.value!=null&&(typeof r.value=="string"?l.base64.decode(r.value,E.value=l.newBuffer(l.base64.length(r.value)),0):0<=r.value.length&&(E.value=r.value)),E)},wr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.type_url="",E.bytes===String?S.value="":(S.value=[],E.bytes!==Array&&(S.value=l.newBuffer(S.value)))),r.type_url!=null&&r.hasOwnProperty("type_url")&&(S.type_url=r.type_url),r.value!=null&&r.hasOwnProperty("value")&&(S.value=E.bytes===String?l.base64.encode(r.value,0,r.value.length):E.bytes===Array?Array.prototype.slice.call(r.value):r.value),S},wr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},wr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.Any"},wr),p.FieldMask=(mn.prototype.paths=l.emptyArray,mn.fromObject=function(r){if(r instanceof o.google.protobuf.FieldMask)return r;var E=new o.google.protobuf.FieldMask;if(r.paths){if(!Array.isArray(r.paths))throw TypeError(".google.protobuf.FieldMask.paths: array expected");E.paths=[];for(var S=0;S<r.paths.length;++S)E.paths[S]=String(r.paths[S])}return E},mn.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.paths=[]),r.paths&&r.paths.length){S.paths=[];for(var ue=0;ue<r.paths.length;++ue)S.paths[ue]=r.paths[ue]}return S},mn.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},mn.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.protobuf.FieldMask"},mn),p),c.type=((a={}).LatLng=(kr.prototype.latitude=0,kr.prototype.longitude=0,kr.fromObject=function(r){var E;return r instanceof o.google.type.LatLng?r:(E=new o.google.type.LatLng,r.latitude!=null&&(E.latitude=Number(r.latitude)),r.longitude!=null&&(E.longitude=Number(r.longitude)),E)},kr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.latitude=0,S.longitude=0),r.latitude!=null&&r.hasOwnProperty("latitude")&&(S.latitude=E.json&&!isFinite(r.latitude)?String(r.latitude):r.latitude),r.longitude!=null&&r.hasOwnProperty("longitude")&&(S.longitude=E.json&&!isFinite(r.longitude)?String(r.longitude):r.longitude),S},kr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},kr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.type.LatLng"},kr),a.DayOfWeek=(m={},(g=Object.create(m))[m[0]="DAY_OF_WEEK_UNSPECIFIED"]="DAY_OF_WEEK_UNSPECIFIED",g[m[1]="MONDAY"]="MONDAY",g[m[2]="TUESDAY"]="TUESDAY",g[m[3]="WEDNESDAY"]="WEDNESDAY",g[m[4]="THURSDAY"]="THURSDAY",g[m[5]="FRIDAY"]="FRIDAY",g[m[6]="SATURDAY"]="SATURDAY",g[m[7]="SUNDAY"]="SUNDAY",g),a),c.rpc=((p={}).Status=(Yr.prototype.code=0,Yr.prototype.message="",Yr.prototype.details=l.emptyArray,Yr.fromObject=function(r){if(r instanceof o.google.rpc.Status)return r;var E=new o.google.rpc.Status;if(r.code!=null&&(E.code=0|r.code),r.message!=null&&(E.message=String(r.message)),r.details){if(!Array.isArray(r.details))throw TypeError(".google.rpc.Status.details: array expected");E.details=[];for(var S=0;S<r.details.length;++S){if(typeof r.details[S]!="object")throw TypeError(".google.rpc.Status.details: object expected");E.details[S]=o.google.protobuf.Any.fromObject(r.details[S])}}return E},Yr.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.details=[]),E.defaults&&(S.code=0,S.message=""),r.code!=null&&r.hasOwnProperty("code")&&(S.code=r.code),r.message!=null&&r.hasOwnProperty("message")&&(S.message=r.message),r.details&&r.details.length){S.details=[];for(var ue=0;ue<r.details.length;++ue)S.details[ue]=o.google.protobuf.Any.toObject(r.details[ue],E)}return S},Yr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Yr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.rpc.Status"},Yr),p),c.longrunning=((m={}).Operations=((Qr.prototype=Object.create(t.rpc.Service.prototype)).constructor=Qr,Object.defineProperty(Qr.prototype.listOperations=function r(E,S){return this.rpcCall(r,o.google.longrunning.ListOperationsRequest,o.google.longrunning.ListOperationsResponse,E,S)},"name",{value:"ListOperations"}),Object.defineProperty(Qr.prototype.getOperation=function r(E,S){return this.rpcCall(r,o.google.longrunning.GetOperationRequest,o.google.longrunning.Operation,E,S)},"name",{value:"GetOperation"}),Object.defineProperty(Qr.prototype.deleteOperation=function r(E,S){return this.rpcCall(r,o.google.longrunning.DeleteOperationRequest,o.google.protobuf.Empty,E,S)},"name",{value:"DeleteOperation"}),Object.defineProperty(Qr.prototype.cancelOperation=function r(E,S){return this.rpcCall(r,o.google.longrunning.CancelOperationRequest,o.google.protobuf.Empty,E,S)},"name",{value:"CancelOperation"}),Object.defineProperty(Qr.prototype.waitOperation=function r(E,S){return this.rpcCall(r,o.google.longrunning.WaitOperationRequest,o.google.longrunning.Operation,E,S)},"name",{value:"WaitOperation"}),Qr),m.Operation=(Ae.prototype.name="",Ae.prototype.metadata=null,Ae.prototype.done=!1,Ae.prototype.error=null,Ae.prototype.response=null,Object.defineProperty(Ae.prototype,"result",{get:l.oneOfGetter(g=["error","response"]),set:l.oneOfSetter(g)}),Ae.fromObject=function(r){if(r instanceof o.google.longrunning.Operation)return r;var E=new o.google.longrunning.Operation;if(r.name!=null&&(E.name=String(r.name)),r.metadata!=null){if(typeof r.metadata!="object")throw TypeError(".google.longrunning.Operation.metadata: object expected");E.metadata=o.google.protobuf.Any.fromObject(r.metadata)}if(r.done!=null&&(E.done=!!r.done),r.error!=null){if(typeof r.error!="object")throw TypeError(".google.longrunning.Operation.error: object expected");E.error=o.google.rpc.Status.fromObject(r.error)}if(r.response!=null){if(typeof r.response!="object")throw TypeError(".google.longrunning.Operation.response: object expected");E.response=o.google.protobuf.Any.fromObject(r.response)}return E},Ae.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name="",S.metadata=null,S.done=!1),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.metadata!=null&&r.hasOwnProperty("metadata")&&(S.metadata=o.google.protobuf.Any.toObject(r.metadata,E)),r.done!=null&&r.hasOwnProperty("done")&&(S.done=r.done),r.error!=null&&r.hasOwnProperty("error")&&(S.error=o.google.rpc.Status.toObject(r.error,E),E.oneofs)&&(S.result="error"),r.response!=null&&r.hasOwnProperty("response")&&(S.response=o.google.protobuf.Any.toObject(r.response,E),E.oneofs)&&(S.result="response"),S},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Ae.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.longrunning.Operation"},Ae),m.GetOperationRequest=(Fe.prototype.name="",Fe.fromObject=function(r){var E;return r instanceof o.google.longrunning.GetOperationRequest?r:(E=new o.google.longrunning.GetOperationRequest,r.name!=null&&(E.name=String(r.name)),E)},Fe.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name=""),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),S},Fe.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},Fe.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.longrunning.GetOperationRequest"},Fe),m.ListOperationsRequest=(We.prototype.name="",We.prototype.filter="",We.prototype.pageSize=0,We.prototype.pageToken="",We.fromObject=function(r){var E;return r instanceof o.google.longrunning.ListOperationsRequest?r:(E=new o.google.longrunning.ListOperationsRequest,r.name!=null&&(E.name=String(r.name)),r.filter!=null&&(E.filter=String(r.filter)),r.pageSize!=null&&(E.pageSize=0|r.pageSize),r.pageToken!=null&&(E.pageToken=String(r.pageToken)),E)},We.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.filter="",S.pageSize=0,S.pageToken="",S.name=""),r.filter!=null&&r.hasOwnProperty("filter")&&(S.filter=r.filter),r.pageSize!=null&&r.hasOwnProperty("pageSize")&&(S.pageSize=r.pageSize),r.pageToken!=null&&r.hasOwnProperty("pageToken")&&(S.pageToken=r.pageToken),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),S},We.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},We.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.longrunning.ListOperationsRequest"},We),m.ListOperationsResponse=(at.prototype.operations=l.emptyArray,at.prototype.nextPageToken="",at.fromObject=function(r){if(r instanceof o.google.longrunning.ListOperationsResponse)return r;var E=new o.google.longrunning.ListOperationsResponse;if(r.operations){if(!Array.isArray(r.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");E.operations=[];for(var S=0;S<r.operations.length;++S){if(typeof r.operations[S]!="object")throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");E.operations[S]=o.google.longrunning.Operation.fromObject(r.operations[S])}}return r.nextPageToken!=null&&(E.nextPageToken=String(r.nextPageToken)),E},at.toObject=function(r,E){var S={};if(((E=E||{}).arrays||E.defaults)&&(S.operations=[]),E.defaults&&(S.nextPageToken=""),r.operations&&r.operations.length){S.operations=[];for(var ue=0;ue<r.operations.length;++ue)S.operations[ue]=o.google.longrunning.Operation.toObject(r.operations[ue],E)}return r.nextPageToken!=null&&r.hasOwnProperty("nextPageToken")&&(S.nextPageToken=r.nextPageToken),S},at.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},at.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.longrunning.ListOperationsResponse"},at),m.CancelOperationRequest=(er.prototype.name="",er.fromObject=function(r){var E;return r instanceof o.google.longrunning.CancelOperationRequest?r:(E=new o.google.longrunning.CancelOperationRequest,r.name!=null&&(E.name=String(r.name)),E)},er.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name=""),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),S},er.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},er.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.longrunning.CancelOperationRequest"},er),m.DeleteOperationRequest=(gr.prototype.name="",gr.fromObject=function(r){var E;return r instanceof o.google.longrunning.DeleteOperationRequest?r:(E=new o.google.longrunning.DeleteOperationRequest,r.name!=null&&(E.name=String(r.name)),E)},gr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name=""),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),S},gr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},gr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.longrunning.DeleteOperationRequest"},gr),m.WaitOperationRequest=(br.prototype.name="",br.prototype.timeout=null,br.fromObject=function(r){if(r instanceof o.google.longrunning.WaitOperationRequest)return r;var E=new o.google.longrunning.WaitOperationRequest;if(r.name!=null&&(E.name=String(r.name)),r.timeout!=null){if(typeof r.timeout!="object")throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");E.timeout=o.google.protobuf.Duration.fromObject(r.timeout)}return E},br.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.name="",S.timeout=null),r.name!=null&&r.hasOwnProperty("name")&&(S.name=r.name),r.timeout!=null&&r.hasOwnProperty("timeout")&&(S.timeout=o.google.protobuf.Duration.toObject(r.timeout,E)),S},br.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},br.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.longrunning.WaitOperationRequest"},br),m.OperationInfo=(pr.prototype.responseType="",pr.prototype.metadataType="",pr.fromObject=function(r){var E;return r instanceof o.google.longrunning.OperationInfo?r:(E=new o.google.longrunning.OperationInfo,r.responseType!=null&&(E.responseType=String(r.responseType)),r.metadataType!=null&&(E.metadataType=String(r.metadataType)),E)},pr.toObject=function(r,E){var S={};return(E=E||{}).defaults&&(S.responseType="",S.metadataType=""),r.responseType!=null&&r.hasOwnProperty("responseType")&&(S.responseType=r.responseType),r.metadataType!=null&&r.hasOwnProperty("metadataType")&&(S.metadataType=r.metadataType),S},pr.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},pr.getTypeUrl=function(r){return(r=r===void 0?"type.googleapis.com":r)+"/google.longrunning.OperationInfo"},pr),m),c),o})})(firestore_v1_proto_api)),firestore_v1_proto_api.exports}var hasRequiredBundle;function requireBundle(){if(hasRequiredBundle)return bundle;hasRequiredBundle=1,Object.defineProperty(bundle,"__esModule",{value:!0}),bundle.BundleBuilder=void 0;const e=requireDocument(),t=requireQuerySnapshot(),a=requireTimestamp(),p=requireValidate(),g=1;class m{constructor(s){this.bundleId=s,this.documents=new Map,this.namedQueries=new Map,this.latestReadTime=new a.Timestamp(0,0)}add(s,h){return(0,p.validateMinNumberOfArguments)("BundleBuilder.add",arguments,1),(0,p.validateMaxNumberOfArguments)("BundleBuilder.add",arguments,2),arguments.length===1?(c("documentOrName",s),this.addBundledDocument(s)):((0,p.validateString)("documentOrName",s),l("querySnapshot",h),this.addNamedQuery(s,h)),this}addBundledDocument(s,h){const v=this.documents.get(s.ref.path),b=v?.metadata.queries;if(!v||a.Timestamp.fromProto(v.metadata.readTime)<s.readTime){const O=s.toDocumentProto();this.documents.set(s.ref.path,{document:s.exists?O:void 0,metadata:{name:O.name,readTime:s.readTime.toProto().timestampValue,exists:s.exists}})}const y=this.documents.get(s.ref.path);y.metadata.queries=b||[],h&&y.metadata.queries.push(h),s.readTime>this.latestReadTime&&(this.latestReadTime=s.readTime)}addNamedQuery(s,h){if(this.namedQueries.has(s))throw new Error(`Query name conflict: ${s} has already been added.`);this.namedQueries.set(s,{name:s,bundledQuery:h.query._toBundledQuery(),readTime:h.readTime.toProto().timestampValue});for(const v of h.docs)this.addBundledDocument(v,s);h.readTime>this.latestReadTime&&(this.latestReadTime=h.readTime)}elementToLengthPrefixedBuffer(s){const h=requireFirestore_v1_proto_api().firestore.BundleElement.fromObject(s).toJSON(),v=Buffer.from(JSON.stringify(h),"utf-8"),b=Buffer.from(v.length.toString());return Buffer.concat([b,v])}build(){let s=Buffer.alloc(0);for(const v of this.namedQueries.values())s=Buffer.concat([s,this.elementToLengthPrefixedBuffer({namedQuery:v})]);for(const v of this.documents.values()){const b=v.metadata;s=Buffer.concat([s,this.elementToLengthPrefixedBuffer({documentMetadata:b})]);const y=v.document;y&&(s=Buffer.concat([s,this.elementToLengthPrefixedBuffer({document:y})]))}const h={id:this.bundleId,createTime:this.latestReadTime.toProto().timestampValue,version:g,totalDocuments:this.documents.size,totalBytes:s.length};return s=Buffer.concat([this.elementToLengthPrefixedBuffer({metadata:h}),s]),s}}bundle.BundleBuilder=m;function c(o,s){if(!(s instanceof e.DocumentSnapshot))throw new Error((0,p.invalidArgumentMessage)(o,"DocumentSnapshot"))}function l(o,s){if(!(s instanceof t.QuerySnapshot))throw new Error((0,p.invalidArgumentMessage)(o,"QuerySnapshot"))}return bundle}var documentReader={},hasRequiredDocumentReader;function requireDocumentReader(){if(hasRequiredDocumentReader)return documentReader;hasRequiredDocumentReader=1;Object.defineProperty(documentReader,"__esModule",{value:!0}),documentReader.DocumentReader=void 0;const e=requireDocument(),t=requireUtil(),a=requireLogger(),p=requireTimestamp();class g{constructor(c,l,o,s){this.firestore=c,this.allDocuments=l,this.fieldMask=o,this.transactionOrReadTime=s,this.outstandingDocuments=new Set,this.retrievedDocuments=new Map;for(const h of this.allDocuments)this.outstandingDocuments.add(h.formattedName)}async get(c){const{result:l}=await this._get(c);return l}async _get(c){await this.fetchDocuments(c);const l=[];for(const o of this.allDocuments){const s=this.retrievedDocuments.get(o.formattedName);if(s!==void 0){const h=new e.DocumentSnapshotBuilder(o);h.fieldsProto=s._fieldsProto,h.readTime=s.readTime,h.createTime=s.createTime,h.updateTime=s.updateTime,l.push(h.build())}else throw new Error(`Did not receive document for "${o.path}".`)}return{result:l,transaction:this.retrievedTransactionId}}async fetchDocuments(c){var l;if(!this.outstandingDocuments.size)return;const o={database:this.firestore.formattedName,documents:Array.from(this.outstandingDocuments)};if(this.transactionOrReadTime instanceof Uint8Array?o.transaction=this.transactionOrReadTime:this.transactionOrReadTime instanceof p.Timestamp?o.readTime=this.transactionOrReadTime.toProto().timestampValue:this.transactionOrReadTime&&(o.newTransaction=this.transactionOrReadTime),this.fieldMask){const h=this.fieldMask.map(v=>v.formattedName);o.mask={fieldPaths:h}}let s=0;try{const h=await this.firestore.requestStream("batchGetDocuments",!1,o,c);h.resume();for await(const v of h){!((l=v.transaction)===null||l===void 0)&&l.length&&(this.retrievedTransactionId=v.transaction);let b;if(v.found?((0,a.logger)("DocumentReader.fetchDocuments",c,"Received document: %s",v.found.name),b=this.firestore.snapshot_(v.found,v.readTime)):v.missing&&((0,a.logger)("DocumentReader.fetchDocuments",c,"Document missing: %s",v.missing),b=this.firestore.snapshot_(v.missing,v.readTime)),b){const y=b.ref.formattedName;this.outstandingDocuments.delete(y),this.retrievedDocuments.set(y,b),++s}}}catch(h){const v=!o.transaction&&!o.newTransaction&&s>0&&h.code!==void 0&&!(0,t.isPermanentRpcError)(h,"batchGetDocuments");if((0,a.logger)("DocumentReader.fetchDocuments",c,"BatchGetDocuments failed with error: %s. Retrying: %s",h,v),v)return this.fetchDocuments(c);throw h}finally{(0,a.logger)("DocumentReader.fetchDocuments",c,"Received %d results",s)}}}return documentReader.DocumentReader=g,documentReader}var pool={},hasRequiredPool;function requirePool(){return hasRequiredPool||(hasRequiredPool=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ClientPool=e.CLIENT_TERMINATED_ERROR_MSG=void 0;const t=require$$1$3,a=requireLogger(),p=requireUtil();e.CLIENT_TERMINATED_ERROR_MSG="The client has already been terminated";class g{constructor(c,l,o,s=()=>Promise.resolve()){this.concurrentOperationLimit=c,this.maxIdleClients=l,this.clientFactory=o,this.clientDestructor=s,this.grpcEnabled=!1,this.activeClients=new Map,this.failedClients=new Set,this.terminated=!1,this.terminateDeferred=new p.Deferred}acquire(c,l){let o=null,s=-1;this.grpcEnabled=this.grpcEnabled||l,l=l||this.grpcEnabled;for(const[h,v]of this.activeClients)!this.failedClients.has(h)&&v.activeRequestCount>s&&v.activeRequestCount<this.concurrentOperationLimit&&(v.grpcEnabled||!l)&&(o=h,s=v.activeRequestCount);return o?(0,a.logger)("ClientPool.acquire",c,"Re-using existing client with %s remaining operations",this.concurrentOperationLimit-s):((0,a.logger)("ClientPool.acquire",c,"Creating a new client (requiresGrpc: %s)",l),o=this.clientFactory(l),s=0,t(!this.activeClients.has(o),"The provided client factory returned an existing instance")),this.activeClients.set(o,{grpcEnabled:l,activeRequestCount:s+1}),o}async release(c,l){const o=this.activeClients.get(l);t(o&&o.activeRequestCount>0,"No active requests"),this.activeClients.set(l,{grpcEnabled:o.grpcEnabled,activeRequestCount:o.activeRequestCount-1}),this.terminated&&this.opCount===0&&this.terminateDeferred.resolve(),this.shouldGarbageCollectClient(l)&&(this.activeClients.delete(l),this.failedClients.delete(l),await this.clientDestructor(l),(0,a.logger)("ClientPool.release",c,"Garbage collected 1 client"))}shouldGarbageCollectClient(c){const l=this.activeClients.get(c);if(l.activeRequestCount!==0)return!1;if(this.grpcEnabled!==l.grpcEnabled||this.failedClients.has(c))return!0;let o=0;for(const[,s]of this.activeClients)o+=this.concurrentOperationLimit-s.activeRequestCount;return o>this.maxIdleClients*this.concurrentOperationLimit}get size(){return this.activeClients.size}get opCount(){let c=0;return this.activeClients.forEach(l=>c+=l.activeRequestCount),c}get _activeClients(){return this.activeClients}run(c,l,o){if(this.terminated)return Promise.reject(new Error(e.CLIENT_TERMINATED_ERROR_MSG));const s=this.acquire(c,l);return o(s).catch(async h=>{var v;return!((v=h.message)===null||v===void 0)&&v.match(/RST_STREAM/)&&this.failedClients.add(s),await this.release(c,s),Promise.reject(h)}).then(async h=>(await this.release(c,s),h))}async terminate(){this.terminated=!0,this.opCount>0&&((0,a.logger)("ClientPool.terminate",null,"Waiting for %s pending operations to complete before terminating",this.opCount),await this.terminateDeferred.promise);for(const[c]of this.activeClients)this.activeClients.delete(c),await this.clientDestructor(c)}}e.ClientPool=g})(pool)),pool}var transaction={},hasRequiredTransaction;function requireTransaction(){if(hasRequiredTransaction)return transaction;hasRequiredTransaction=1;Object.defineProperty(transaction,"__esModule",{value:!0}),transaction.Transaction=void 0,transaction.parseGetAllArguments=w;const e=requireBackoff(),t=requireSrc(),a=requireLogger(),p=requirePath(),g=requireAggregateQuery(),m=requireDocumentReference(),c=requireQuery(),l=requireHelpers(),o=requireUtil(),s=requireValidate(),h=requireDocumentReader(),v=requireTraceUtil();const b="Firestore transactions require all reads to be executed before all writes.",y="Firestore read-only transactions cannot execute writes.";class O{constructor(N,L,D){this._maxAttempts=t.DEFAULT_MAX_TRANSACTION_ATTEMPTS,this._firestore=N,this._requestTag=L,D?.readOnly?(this._maxAttempts=1,this._readOnlyReadTime=D.readTime):(this._maxAttempts=D?.maxAttempts||t.DEFAULT_MAX_TRANSACTION_ATTEMPTS,this._writeBatch=N.batch(),this._backoff=new e.ExponentialBackoff)}get(N){if(this._writeBatch&&!this._writeBatch.isEmpty)throw new Error(b);if(N instanceof m.DocumentReference)return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_TRANSACTION_GET_DOCUMENT,()=>this.withLazyStartedTransaction(N,this.getSingleFn));if(N instanceof c.Query||N instanceof g.AggregateQuery)return this._firestore._traceUtil.startActiveSpan(N instanceof c.Query?v.SPAN_NAME_TRANSACTION_GET_QUERY:v.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY,()=>this.withLazyStartedTransaction(N,this.getQueryFn));throw new Error('Value for argument "refOrQuery" must be a DocumentReference, Query, or AggregateQuery.')}getAll(...N){if(this._writeBatch&&!this._writeBatch.isEmpty)throw new Error(b);return(0,s.validateMinNumberOfArguments)("Transaction.getAll",N,1),this.withLazyStartedTransaction(w(N),this.getBatchFn)}create(N,L){if(!this._writeBatch)throw new Error(y);return this._writeBatch.create(N,L),this}set(N,L,D){if(!this._writeBatch)throw new Error(y);return D?this._writeBatch.set(N,L,D):this._writeBatch.set(N,L),this}update(N,L,...D){if(!this._writeBatch)throw new Error(y);return(0,s.validateMinNumberOfArguments)("Transaction.update",arguments,2),this._writeBatch.update(N,L,...D),this}delete(N,L){if(!this._writeBatch)throw new Error(y);return this._writeBatch.delete(N,L),this}async commit(){var N;return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_TRANSACTION_COMMIT,async()=>{if(!this._writeBatch)throw new Error(y);let L;if(this._transactionIdPromise)L=await this._transactionIdPromise;else if(this._writeBatch.isEmpty)return;await this._writeBatch._commit({transactionId:L,requestTag:this._requestTag}),this._transactionIdPromise=void 0,this._prevTransactionId=L},{[v.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!0,[v.ATTRIBUTE_KEY_DOC_COUNT]:(N=this._writeBatch)===null||N===void 0?void 0:N._opCount})}async rollback(){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_TRANSACTION_ROLLBACK,async()=>{if(!this._transactionIdPromise||!this._writeBatch)return;let N;try{N=await this._transactionIdPromise}catch{this._transactionIdPromise=void 0;return}const L={database:this._firestore.formattedName,transaction:N};this._transactionIdPromise=void 0,this._prevTransactionId=N,this._firestore.request("rollback",L,this._requestTag).catch(D=>{(0,a.logger)("Firestore.runTransaction",this._requestTag,"Best effort to rollback failed with error:",D)})})}async runTransaction(N){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_TRANSACTION_RUN,async L=>{if(!this._writeBatch)return this.runTransactionOnce(N);let D;for(let j=0;j<this._maxAttempts;++j){L.setAttributes({[v.ATTRIBUTE_KEY_TRANSACTION_TYPE]:this._writeBatch?"READ_WRITE":"READ_ONLY",[v.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED]:this._maxAttempts,[v.ATTRIBUTE_KEY_ATTEMPTS_REMAINING]:this._maxAttempts-j-1});try{return D&&((0,a.logger)("Firestore.runTransaction",this._requestTag,"Retrying transaction after error:",D),L.addEvent("Initiate transaction retry")),this._writeBatch._reset(),await T(this._backoff,D),await this.runTransactionOnce(N)}catch(k){if(D=k,!_(k))break}}return(0,a.logger)("Firestore.runTransaction",this._requestTag,"Transaction not eligible for retry, returning error: %s",D),Promise.reject(D)})}async runTransactionOnce(N){try{const L=N(this);if(!(L instanceof Promise))throw new Error("You must return a Promise in your transaction()-callback.");const D=await L;return this._writeBatch&&await this.commit(),D}catch(L){return(0,a.logger)("Firestore.runTransaction",this._requestTag,"Rolling back transaction after callback error:",L),await this.rollback(),Promise.reject(L)}}withLazyStartedTransaction(N,L){if(this._transactionIdPromise)return this._transactionIdPromise.then(D=>L.call(this,N,D)).then(D=>D.result);if(this._readOnlyReadTime)return L.call(this,N,this._readOnlyReadTime).then(D=>D.result);{const D={};this._writeBatch?D.readWrite=this._prevTransactionId?{retryTransaction:this._prevTransactionId}:{}:D.readOnly={};const j=L.call(this,N,D);return this._transactionIdPromise=j.then(k=>{if(!k.transaction)throw new Error("Transaction ID was missing from server response");return k.transaction}),j.then(k=>k.result)}}async getSingleFn(N,L){const D=new h.DocumentReader(this._firestore,[N],void 0,L),{transaction:j,result:[k]}=await D._get(this._requestTag);return{transaction:j,result:k}}async getBatchFn({documents:N,fieldMask:L},D){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_TRANSACTION_GET_DOCUMENTS,async()=>new h.DocumentReader(this._firestore,N,L,D)._get(this._requestTag))}async getQueryFn(N,L){return N._get(L)}}transaction.Transaction=O;function w(C){let N,L;if(Array.isArray(C[0]))throw new Error("getAll() no longer accepts an array as its first argument. Please unpack your array and call getAll() with individual arguments.");C.length>0&&(0,o.isPlainObject)(C[C.length-1])&&(L=C.pop()),N=C;for(let j=0;j<N.length;++j)(0,l.validateDocumentReference)(j,N[j]);return I("options",L,{optional:!0}),{fieldMask:L&&L.fieldMask?L.fieldMask.map(j=>p.FieldPath.fromArgument(j)):void 0,documents:N}}function I(C,N,L){if(!(0,s.validateOptional)(N,L)){if(!(0,o.isObject)(N))throw new Error(`${(0,s.invalidArgumentMessage)(C,"read option")} Input is not an object.'`);const D=N;if(D.fieldMask!==void 0){if(!Array.isArray(D.fieldMask))throw new Error(`${(0,s.invalidArgumentMessage)(C,"read option")} "fieldMask" is not an array.`);for(let j=0;j<D.fieldMask.length;++j)try{(0,p.validateFieldPath)(j,D.fieldMask[j])}catch(k){throw new Error(`${(0,s.invalidArgumentMessage)(C,"read option")} "fieldMask" is not valid: ${k.message}`)}}}}function _(C){if(C.code!==void 0)switch(C.code){case 10:case 1:case 2:case 4:case 13:case 14:case 16:case 8:return!0;case 3:return!!C.message.match(/transaction has expired/);default:return!1}return!1}async function T(C,N){N?.code===8&&C.resetToMax(),await C.backoffAndWait()}return transaction}var collectionGroup={},queryPartition={},hasRequiredQueryPartition;function requireQueryPartition(){if(hasRequiredQueryPartition)return queryPartition;hasRequiredQueryPartition=1,Object.defineProperty(queryPartition,"__esModule",{value:!0}),queryPartition.QueryPartition=void 0;const e=requireFieldOrder(),t=requireQuery(),a=requireQueryOptions(),p=requirePath(),g=requireSerializer();class m{constructor(l,o,s,h,v){this._firestore=l,this._collectionId=o,this._converter=s,this._startAt=h,this._endBefore=v,this._serializer=new g.Serializer(l)}get startAt(){return this._startAt&&!this._memoizedStartAt&&(this._memoizedStartAt=this._startAt.map(l=>this._serializer.decodeValue(l))),this._memoizedStartAt}get endBefore(){return this._endBefore&&!this._memoizedEndBefore&&(this._memoizedEndBefore=this._endBefore.map(l=>this._serializer.decodeValue(l))),this._memoizedEndBefore}toQuery(){let l=a.QueryOptions.forCollectionGroupQuery(this._collectionId,this._converter);return l=l.with({fieldOrders:[new e.FieldOrder(p.FieldPath.documentId())]}),this._startAt!==void 0&&(l=l.with({startAt:{before:!0,values:this._startAt}})),this._endBefore!==void 0&&(l=l.with({endAt:{before:!0,values:this._endBefore}})),new t.Query(this._firestore,l)}}return queryPartition.QueryPartition=m,queryPartition}var hasRequiredCollectionGroup;function requireCollectionGroup(){if(hasRequiredCollectionGroup)return collectionGroup;hasRequiredCollectionGroup=1,Object.defineProperty(collectionGroup,"__esModule",{value:!0}),collectionGroup.CollectionGroup=void 0;const e=requireQueryPartition(),t=requireUtil(),a=requireLogger(),p=requireQuery(),g=requireQueryOptions(),m=requirePath(),c=requireValidate(),l=requireTypes$1(),o=requireOrder(),s=requireTraceUtil();class h extends p.Query{constructor(b,y,O){super(b,g.QueryOptions.forCollectionGroupQuery(y,O))}async*getPartitions(b){const y=[];await this._firestore._traceUtil.startActiveSpan(s.SPAN_NAME_PARTITION_QUERY,async()=>{var O;(0,c.validateInteger)("desiredPartitionCount",b,{minValue:1});const w=(0,t.requestTag)();if(await this.firestore.initializeIfNeeded(w),b>1){const _=this.orderBy(m.FieldPath.documentId()).toProto();_.partitionCount=b-1;const T=await this.firestore.requestStream("partitionQueryStream",!1,_,w);T.resume();for await(const C of T)y.push((O=C.values)!==null&&O!==void 0?O:[])}(0,a.logger)("Firestore.getPartitions",w,"Received %d partitions",y.length),y.sort((I,_)=>(0,o.compareArrays)(I,_))});for(let O=0;O<y.length;++O)yield new e.QueryPartition(this._firestore,this._queryOptions.collectionId,this._queryOptions.converter,O>0?y[O-1]:void 0,y[O]);yield new e.QueryPartition(this._firestore,this._queryOptions.collectionId,this._queryOptions.converter,y.pop(),void 0)}withConverter(b){return new h(this.firestore,this._queryOptions.collectionId,b??(0,l.defaultConverter)())}}return collectionGroup.CollectionGroup=h,collectionGroup}var recursiveDelete={},hasRequiredRecursiveDelete;function requireRecursiveDelete(){return hasRequiredRecursiveDelete||(hasRequiredRecursiveDelete=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecursiveDelete=e.RECURSIVE_DELETE_MIN_PENDING_OPS=e.RECURSIVE_DELETE_MAX_PENDING_OPS=e.REFERENCE_NAME_MIN_ID=void 0;const t=require$$1$3,a=requireSrc(),p=requireUtil(),g=requireQueryOptions();e.REFERENCE_NAME_MIN_ID="__id-9223372036854775808__";e.RECURSIVE_DELETE_MAX_PENDING_OPS=5e3;e.RECURSIVE_DELETE_MIN_PENDING_OPS=1e3;class m{constructor(l,o,s,h,v){this.firestore=l,this.writer=o,this.ref=s,this.maxLimit=h,this.minLimit=v,this.errorCount=0,this.documentsPending=!0,this.started=!1,this.completionDeferred=new p.Deferred,this.streamInProgress=!1,this.pendingOpsCount=0,this.errorStack="",this.maxPendingOps=h,this.minPendingOps=v}run(){return t(!this.started,"RecursiveDelete.run() should only be called once."),this.errorStack=Error().stack,this.writer._verifyNotClosed(),this.setupStream(),this.completionDeferred.promise}setupStream(){const l=this.getAllDescendants(this.ref instanceof a.CollectionReference?this.ref:this.ref);this.streamInProgress=!0;let o=0;l.on("error",s=>{s.code=14,s.stack="Failed to fetch children documents: "+s.stack,this.lastError=s,this.onQueryEnd()}).on("data",s=>{o++,this.lastDocumentSnap=s,this.deleteRef(s.ref)}).on("end",()=>{this.streamInProgress=!1,o<this.minPendingOps?this.onQueryEnd():this.pendingOpsCount===0&&this.setupStream()})}getAllDescendants(l){let o=l._resourcePath;l instanceof a.CollectionReference&&(o=o.popLast());const s=l instanceof a.CollectionReference?l.id:l.parent.id;let h=new a.Query(this.firestore,g.QueryOptions.forKindlessAllDescendants(o,s,!1));if(h=h.select(a.FieldPath.documentId()).limit(this.maxPendingOps),l instanceof a.CollectionReference){const b=s+"/"+e.REFERENCE_NAME_MIN_ID,y=s+"\0/"+e.REFERENCE_NAME_MIN_ID;h=h.where(a.FieldPath.documentId(),">=",b).where(a.FieldPath.documentId(),"<",y)}return this.lastDocumentSnap&&(h=h.startAfter(this.lastDocumentSnap)),h.stream()}onQueryEnd(){this.documentsPending=!1,this.ref instanceof a.DocumentReference&&this.writer.delete(this.ref).catch(l=>this.incrementErrorCount(l)),this.writer.flush().then(async()=>{var l;if(this.lastError===void 0)this.completionDeferred.resolve();else{let o=new(requireFallback()).GoogleError(`${this.errorCount} ${this.errorCount!==1?"deletes":"delete"} failed. The last delete failed with: `);this.lastError.code!==void 0&&(o.code=this.lastError.code),o=(0,p.wrapError)(o,this.errorStack),this.completionDeferred.reject(this.lastError.stack?(0,p.wrapError)(o,(l=this.lastError.stack)!==null&&l!==void 0?l:""):o)}})}deleteRef(l){this.pendingOpsCount++,this.writer.delete(l).catch(o=>{this.incrementErrorCount(o)}).then(()=>{this.pendingOpsCount--,this.documentsPending&&!this.streamInProgress&&this.pendingOpsCount<this.minPendingOps&&this.setupStream()})}incrementErrorCount(l){this.errorCount++,this.lastError=l}}e.RecursiveDelete=m})(recursiveDelete)),recursiveDelete}var disabledTraceUtil={},span={},hasRequiredSpan;function requireSpan(){if(hasRequiredSpan)return span;hasRequiredSpan=1,Object.defineProperty(span,"__esModule",{value:!0}),span.Span=void 0;class e{constructor(a){this.span=a}end(){var a;(a=this.span)===null||a===void 0||a.end()}addEvent(a,p){var g;return this.span=(g=this.span)===null||g===void 0?void 0:g.addEvent(a,p),this}setAttributes(a){var p;return this.span=(p=this.span)===null||p===void 0?void 0:p.setAttributes(a),this}}return span.Span=e,span}var hasRequiredDisabledTraceUtil;function requireDisabledTraceUtil(){if(hasRequiredDisabledTraceUtil)return disabledTraceUtil;hasRequiredDisabledTraceUtil=1,Object.defineProperty(disabledTraceUtil,"__esModule",{value:!0}),disabledTraceUtil.DisabledTraceUtil=void 0;const e=requireSpan();class t{startSpan(p){return new e.Span}startActiveSpan(p,g,m){const c=new e.Span;return g(c)}currentSpan(){return new e.Span}recordProjectId(p){}}return disabledTraceUtil.DisabledTraceUtil=t,disabledTraceUtil}var enabledTraceUtil={},_globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},VERSION="1.9.0",re=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function _makeCompatibilityCheck(e){var t=new Set([e]),a=new Set,p=e.match(re);if(!p)return function(){return!1};var g={major:+p[1],minor:+p[2],patch:+p[3],prerelease:p[4]};if(g.prerelease!=null)return function(o){return o===e};function m(l){return a.add(l),!1}function c(l){return t.add(l),!0}return function(o){if(t.has(o))return!0;if(a.has(o))return!1;var s=o.match(re);if(!s)return m(o);var h={major:+s[1],minor:+s[2],patch:+s[3],prerelease:s[4]};return h.prerelease!=null||g.major!==h.major?m(o):g.major===0?g.minor===h.minor&&g.patch<=h.patch?c(o):m(o):g.minor<=h.minor?c(o):m(o)}}var isCompatible=_makeCompatibilityCheck(VERSION),major=VERSION.split(".")[0],GLOBAL_OPENTELEMETRY_API_KEY=Symbol.for("opentelemetry.js.api."+major),_global=_globalThis;function registerGlobal(e,t,a,p){var g;p===void 0&&(p=!1);var m=_global[GLOBAL_OPENTELEMETRY_API_KEY]=(g=_global[GLOBAL_OPENTELEMETRY_API_KEY])!==null&&g!==void 0?g:{version:VERSION};if(!p&&m[e]){var c=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return a.error(c.stack||c.message),!1}if(m.version!==VERSION){var c=new Error("@opentelemetry/api: Registration of version v"+m.version+" for "+e+" does not match previously registered API v"+VERSION);return a.error(c.stack||c.message),!1}return m[e]=t,a.debug("@opentelemetry/api: Registered a global for "+e+" v"+VERSION+"."),!0}function getGlobal(e){var t,a,p=(t=_global[GLOBAL_OPENTELEMETRY_API_KEY])===null||t===void 0?void 0:t.version;if(!(!p||!isCompatible(p)))return(a=_global[GLOBAL_OPENTELEMETRY_API_KEY])===null||a===void 0?void 0:a[e]}function unregisterGlobal(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+VERSION+".");var a=_global[GLOBAL_OPENTELEMETRY_API_KEY];a&&delete a[e]}var __read$4=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var p=a.call(e),g,m=[],c;try{for(;(t===void 0||t-- >0)&&!(g=p.next()).done;)m.push(g.value)}catch(l){c={error:l}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(c)throw c.error}}return m},__spreadArray$3=function(e,t,a){if(a||arguments.length===2)for(var p=0,g=t.length,m;p<g;p++)(m||!(p in t))&&(m||(m=Array.prototype.slice.call(t,0,p)),m[p]=t[p]);return e.concat(m||Array.prototype.slice.call(t))},DiagComponentLogger=(function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return logProxy("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return logProxy("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return logProxy("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return logProxy("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return logProxy("verbose",this._namespace,t)},e})();function logProxy(e,t,a){var p=getGlobal("diag");if(p)return a.unshift(t),p[e].apply(p,__spreadArray$3([],__read$4(a),!1))}var DiagLogLevel;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(DiagLogLevel||(DiagLogLevel={}));function createLogLevelDiagLogger(e,t){e<DiagLogLevel.NONE?e=DiagLogLevel.NONE:e>DiagLogLevel.ALL&&(e=DiagLogLevel.ALL),t=t||{};function a(p,g){var m=t[p];return typeof m=="function"&&e>=g?m.bind(t):function(){}}return{error:a("error",DiagLogLevel.ERROR),warn:a("warn",DiagLogLevel.WARN),info:a("info",DiagLogLevel.INFO),debug:a("debug",DiagLogLevel.DEBUG),verbose:a("verbose",DiagLogLevel.VERBOSE)}}var __read$3=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var p=a.call(e),g,m=[],c;try{for(;(t===void 0||t-- >0)&&!(g=p.next()).done;)m.push(g.value)}catch(l){c={error:l}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(c)throw c.error}}return m},__spreadArray$2=function(e,t,a){if(a||arguments.length===2)for(var p=0,g=t.length,m;p<g;p++)(m||!(p in t))&&(m||(m=Array.prototype.slice.call(t,0,p)),m[p]=t[p]);return e.concat(m||Array.prototype.slice.call(t))},API_NAME$4="diag",DiagAPI=(function(){function e(){function t(g){return function(){for(var m=[],c=0;c<arguments.length;c++)m[c]=arguments[c];var l=getGlobal("diag");if(l)return l[g].apply(l,__spreadArray$2([],__read$3(m),!1))}}var a=this,p=function(g,m){var c,l,o;if(m===void 0&&(m={logLevel:DiagLogLevel.INFO}),g===a){var s=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return a.error((c=s.stack)!==null&&c!==void 0?c:s.message),!1}typeof m=="number"&&(m={logLevel:m});var h=getGlobal("diag"),v=createLogLevelDiagLogger((l=m.logLevel)!==null&&l!==void 0?l:DiagLogLevel.INFO,g);if(h&&!m.suppressOverrideMessage){var b=(o=new Error().stack)!==null&&o!==void 0?o:"<failed to generate stacktrace>";h.warn("Current logger will be overwritten from "+b),v.warn("Current logger will overwrite one already registered from "+b)}return registerGlobal("diag",v,a,!0)};a.setLogger=p,a.disable=function(){unregisterGlobal(API_NAME$4,a)},a.createComponentLogger=function(g){return new DiagComponentLogger(g)},a.verbose=t("verbose"),a.debug=t("debug"),a.info=t("info"),a.warn=t("warn"),a.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e})(),__read$2=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var p=a.call(e),g,m=[],c;try{for(;(t===void 0||t-- >0)&&!(g=p.next()).done;)m.push(g.value)}catch(l){c={error:l}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(c)throw c.error}}return m},__values=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&e[t],p=0;if(a)return a.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&p>=e.length&&(e=void 0),{value:e&&e[p++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},BaggageImpl=(function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var a=this._entries.get(t);if(a)return Object.assign({},a)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var a=__read$2(t,2),p=a[0],g=a[1];return[p,g]})},e.prototype.setEntry=function(t,a){var p=new e(this._entries);return p._entries.set(t,a),p},e.prototype.removeEntry=function(t){var a=new e(this._entries);return a._entries.delete(t),a},e.prototype.removeEntries=function(){for(var t,a,p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];var m=new e(this._entries);try{for(var c=__values(p),l=c.next();!l.done;l=c.next()){var o=l.value;m._entries.delete(o)}}catch(s){t={error:s}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(t)throw t.error}}return m},e.prototype.clear=function(){return new e},e})(),baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata"),diag$1=DiagAPI.instance();function createBaggage(e){return e===void 0&&(e={}),new BaggageImpl(new Map(Object.entries(e)))}function baggageEntryMetadataFromString(e){return typeof e!="string"&&(diag$1.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:baggageEntryMetadataSymbol,toString:function(){return e}}}function createContextKey(e){return Symbol.for(e)}var BaseContext=(function(){function e(t){var a=this;a._currentContext=t?new Map(t):new Map,a.getValue=function(p){return a._currentContext.get(p)},a.setValue=function(p,g){var m=new e(a._currentContext);return m._currentContext.set(p,g),m},a.deleteValue=function(p){var g=new e(a._currentContext);return g._currentContext.delete(p),g}}return e})(),ROOT_CONTEXT=new BaseContext,consoleMap=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],DiagConsoleLogger=(function(){function e(){function t(p){return function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];if(console){var c=console[p];if(typeof c!="function"&&(c=console.log),typeof c=="function")return c.apply(console,g)}}}for(var a=0;a<consoleMap.length;a++)this[consoleMap[a].n]=t(consoleMap[a].c)}return e})(),__extends=(function(){var e=function(t,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(p[m]=g[m])},e(t,a)};return function(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(t,a);function p(){this.constructor=t}t.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),NoopMeter=(function(){function e(){}return e.prototype.createGauge=function(t,a){return NOOP_GAUGE_METRIC},e.prototype.createHistogram=function(t,a){return NOOP_HISTOGRAM_METRIC},e.prototype.createCounter=function(t,a){return NOOP_COUNTER_METRIC},e.prototype.createUpDownCounter=function(t,a){return NOOP_UP_DOWN_COUNTER_METRIC},e.prototype.createObservableGauge=function(t,a){return NOOP_OBSERVABLE_GAUGE_METRIC},e.prototype.createObservableCounter=function(t,a){return NOOP_OBSERVABLE_COUNTER_METRIC},e.prototype.createObservableUpDownCounter=function(t,a){return NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC},e.prototype.addBatchObservableCallback=function(t,a){},e.prototype.removeBatchObservableCallback=function(t){},e})(),NoopMetric=(function(){function e(){}return e})(),NoopCounterMetric=(function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(a,p){},t})(NoopMetric),NoopUpDownCounterMetric=(function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(a,p){},t})(NoopMetric),NoopGaugeMetric=(function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(a,p){},t})(NoopMetric),NoopHistogramMetric=(function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(a,p){},t})(NoopMetric),NoopObservableMetric=(function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e})(),NoopObservableCounterMetric=(function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(NoopObservableMetric),NoopObservableGaugeMetric=(function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(NoopObservableMetric),NoopObservableUpDownCounterMetric=(function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(NoopObservableMetric),NOOP_METER=new NoopMeter,NOOP_COUNTER_METRIC=new NoopCounterMetric,NOOP_GAUGE_METRIC=new NoopGaugeMetric,NOOP_HISTOGRAM_METRIC=new NoopHistogramMetric,NOOP_UP_DOWN_COUNTER_METRIC=new NoopUpDownCounterMetric,NOOP_OBSERVABLE_COUNTER_METRIC=new NoopObservableCounterMetric,NOOP_OBSERVABLE_GAUGE_METRIC=new NoopObservableGaugeMetric,NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new NoopObservableUpDownCounterMetric;function createNoopMeter(){return NOOP_METER}var ValueType;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(ValueType||(ValueType={}));var defaultTextMapGetter={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},defaultTextMapSetter={set:function(e,t,a){e!=null&&(e[t]=a)}},__read$1=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var p=a.call(e),g,m=[],c;try{for(;(t===void 0||t-- >0)&&!(g=p.next()).done;)m.push(g.value)}catch(l){c={error:l}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(c)throw c.error}}return m},__spreadArray$1=function(e,t,a){if(a||arguments.length===2)for(var p=0,g=t.length,m;p<g;p++)(m||!(p in t))&&(m||(m=Array.prototype.slice.call(t,0,p)),m[p]=t[p]);return e.concat(m||Array.prototype.slice.call(t))},NoopContextManager=(function(){function e(){}return e.prototype.active=function(){return ROOT_CONTEXT},e.prototype.with=function(t,a,p){for(var g=[],m=3;m<arguments.length;m++)g[m-3]=arguments[m];return a.call.apply(a,__spreadArray$1([p],__read$1(g),!1))},e.prototype.bind=function(t,a){return a},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e})(),__read=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var p=a.call(e),g,m=[],c;try{for(;(t===void 0||t-- >0)&&!(g=p.next()).done;)m.push(g.value)}catch(l){c={error:l}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(c)throw c.error}}return m},__spreadArray=function(e,t,a){if(a||arguments.length===2)for(var p=0,g=t.length,m;p<g;p++)(m||!(p in t))&&(m||(m=Array.prototype.slice.call(t,0,p)),m[p]=t[p]);return e.concat(m||Array.prototype.slice.call(t))},API_NAME$3="context",NOOP_CONTEXT_MANAGER=new NoopContextManager,ContextAPI=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return registerGlobal(API_NAME$3,t,DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,a,p){for(var g,m=[],c=3;c<arguments.length;c++)m[c-3]=arguments[c];return(g=this._getContextManager()).with.apply(g,__spreadArray([t,a,p],__read(m),!1))},e.prototype.bind=function(t,a){return this._getContextManager().bind(t,a)},e.prototype._getContextManager=function(){return getGlobal(API_NAME$3)||NOOP_CONTEXT_MANAGER},e.prototype.disable=function(){this._getContextManager().disable(),unregisterGlobal(API_NAME$3,DiagAPI.instance())},e})(),TraceFlags;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(TraceFlags||(TraceFlags={}));var INVALID_SPANID="0000000000000000",INVALID_TRACEID="00000000000000000000000000000000",INVALID_SPAN_CONTEXT={traceId:INVALID_TRACEID,spanId:INVALID_SPANID,traceFlags:TraceFlags.NONE},NonRecordingSpan=(function(){function e(t){t===void 0&&(t=INVALID_SPAN_CONTEXT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,a){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,a){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,a){},e})(),SPAN_KEY=createContextKey("OpenTelemetry Context Key SPAN");function getSpan(e){return e.getValue(SPAN_KEY)||void 0}function getActiveSpan(){return getSpan(ContextAPI.getInstance().active())}function setSpan(e,t){return e.setValue(SPAN_KEY,t)}function deleteSpan(e){return e.deleteValue(SPAN_KEY)}function setSpanContext(e,t){return setSpan(e,new NonRecordingSpan(t))}function getSpanContext(e){var t;return(t=getSpan(e))===null||t===void 0?void 0:t.spanContext()}var VALID_TRACEID_REGEX=/^([0-9a-f]{32})$/i,VALID_SPANID_REGEX=/^[0-9a-f]{16}$/i;function isValidTraceId(e){return VALID_TRACEID_REGEX.test(e)&&e!==INVALID_TRACEID}function isValidSpanId(e){return VALID_SPANID_REGEX.test(e)&&e!==INVALID_SPANID}function isSpanContextValid(e){return isValidTraceId(e.traceId)&&isValidSpanId(e.spanId)}function wrapSpanContext(e){return new NonRecordingSpan(e)}var contextApi=ContextAPI.getInstance(),NoopTracer=(function(){function e(){}return e.prototype.startSpan=function(t,a,p){p===void 0&&(p=contextApi.active());var g=!!a?.root;if(g)return new NonRecordingSpan;var m=p&&getSpanContext(p);return isSpanContext(m)&&isSpanContextValid(m)?new NonRecordingSpan(m):new NonRecordingSpan},e.prototype.startActiveSpan=function(t,a,p,g){var m,c,l;if(!(arguments.length<2)){arguments.length===2?l=a:arguments.length===3?(m=a,l=p):(m=a,c=p,l=g);var o=c??contextApi.active(),s=this.startSpan(t,m,o),h=setSpan(o,s);return contextApi.with(h,l,void 0,s)}},e})();function isSpanContext(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var NOOP_TRACER=new NoopTracer,ProxyTracer=(function(){function e(t,a,p,g){this._provider=t,this.name=a,this.version=p,this.options=g}return e.prototype.startSpan=function(t,a,p){return this._getTracer().startSpan(t,a,p)},e.prototype.startActiveSpan=function(t,a,p,g){var m=this._getTracer();return Reflect.apply(m.startActiveSpan,m,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):NOOP_TRACER},e})(),NoopTracerProvider=(function(){function e(){}return e.prototype.getTracer=function(t,a,p){return new NoopTracer},e})(),NOOP_TRACER_PROVIDER=new NoopTracerProvider,ProxyTracerProvider=(function(){function e(){}return e.prototype.getTracer=function(t,a,p){var g;return(g=this.getDelegateTracer(t,a,p))!==null&&g!==void 0?g:new ProxyTracer(this,t,a,p)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:NOOP_TRACER_PROVIDER},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,a,p){var g;return(g=this._delegate)===null||g===void 0?void 0:g.getTracer(t,a,p)},e})(),SamplingDecision;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(SamplingDecision||(SamplingDecision={}));var SpanKind;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(SpanKind||(SpanKind={}));var SpanStatusCode;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(SpanStatusCode||(SpanStatusCode={}));var VALID_KEY_CHAR_RANGE="[_0-9a-z-*/]",VALID_KEY="[a-z]"+VALID_KEY_CHAR_RANGE+"{0,255}",VALID_VENDOR_KEY="[a-z0-9]"+VALID_KEY_CHAR_RANGE+"{0,240}@[a-z]"+VALID_KEY_CHAR_RANGE+"{0,13}",VALID_KEY_REGEX=new RegExp("^(?:"+VALID_KEY+"|"+VALID_VENDOR_KEY+")$"),VALID_VALUE_BASE_REGEX=/^[ -~]{0,255}[!-~]$/,INVALID_VALUE_COMMA_EQUAL_REGEX=/,|=/;function validateKey(e){return VALID_KEY_REGEX.test(e)}function validateValue(e){return VALID_VALUE_BASE_REGEX.test(e)&&!INVALID_VALUE_COMMA_EQUAL_REGEX.test(e)}var MAX_TRACE_STATE_ITEMS=32,MAX_TRACE_STATE_LEN=512,LIST_MEMBERS_SEPARATOR=",",LIST_MEMBER_KEY_VALUE_SPLITTER="=",TraceStateImpl=(function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,a){var p=this._clone();return p._internalState.has(t)&&p._internalState.delete(t),p._internalState.set(t,a),p},e.prototype.unset=function(t){var a=this._clone();return a._internalState.delete(t),a},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(a,p){return a.push(p+LIST_MEMBER_KEY_VALUE_SPLITTER+t.get(p)),a},[]).join(LIST_MEMBERS_SEPARATOR)},e.prototype._parse=function(t){t.length>MAX_TRACE_STATE_LEN||(this._internalState=t.split(LIST_MEMBERS_SEPARATOR).reverse().reduce(function(a,p){var g=p.trim(),m=g.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);if(m!==-1){var c=g.slice(0,m),l=g.slice(m+1,p.length);validateKey(c)&&validateValue(l)&&a.set(c,l)}return a},new Map),this._internalState.size>MAX_TRACE_STATE_ITEMS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,MAX_TRACE_STATE_ITEMS))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e})();function createTraceState(e){return new TraceStateImpl(e)}var context=ContextAPI.getInstance(),diag=DiagAPI.instance(),NoopMeterProvider=(function(){function e(){}return e.prototype.getMeter=function(t,a,p){return NOOP_METER},e})(),NOOP_METER_PROVIDER=new NoopMeterProvider,API_NAME$2="metrics",MetricsAPI=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return registerGlobal(API_NAME$2,t,DiagAPI.instance())},e.prototype.getMeterProvider=function(){return getGlobal(API_NAME$2)||NOOP_METER_PROVIDER},e.prototype.getMeter=function(t,a,p){return this.getMeterProvider().getMeter(t,a,p)},e.prototype.disable=function(){unregisterGlobal(API_NAME$2,DiagAPI.instance())},e})(),metrics=MetricsAPI.getInstance(),NoopTextMapPropagator=(function(){function e(){}return e.prototype.inject=function(t,a){},e.prototype.extract=function(t,a){return t},e.prototype.fields=function(){return[]},e})(),BAGGAGE_KEY=createContextKey("OpenTelemetry Baggage Key");function getBaggage(e){return e.getValue(BAGGAGE_KEY)||void 0}function getActiveBaggage(){return getBaggage(ContextAPI.getInstance().active())}function setBaggage(e,t){return e.setValue(BAGGAGE_KEY,t)}function deleteBaggage(e){return e.deleteValue(BAGGAGE_KEY)}var API_NAME$1="propagation",NOOP_TEXT_MAP_PROPAGATOR=new NoopTextMapPropagator,PropagationAPI=(function(){function e(){this.createBaggage=createBaggage,this.getBaggage=getBaggage,this.getActiveBaggage=getActiveBaggage,this.setBaggage=setBaggage,this.deleteBaggage=deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return registerGlobal(API_NAME$1,t,DiagAPI.instance())},e.prototype.inject=function(t,a,p){return p===void 0&&(p=defaultTextMapSetter),this._getGlobalPropagator().inject(t,a,p)},e.prototype.extract=function(t,a,p){return p===void 0&&(p=defaultTextMapGetter),this._getGlobalPropagator().extract(t,a,p)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){unregisterGlobal(API_NAME$1,DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return getGlobal(API_NAME$1)||NOOP_TEXT_MAP_PROPAGATOR},e})(),propagation=PropagationAPI.getInstance(),API_NAME="trace",TraceAPI=(function(){function e(){this._proxyTracerProvider=new ProxyTracerProvider,this.wrapSpanContext=wrapSpanContext,this.isSpanContextValid=isSpanContextValid,this.deleteSpan=deleteSpan,this.getSpan=getSpan,this.getActiveSpan=getActiveSpan,this.getSpanContext=getSpanContext,this.setSpan=setSpan,this.setSpanContext=setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var a=registerGlobal(API_NAME,this._proxyTracerProvider,DiagAPI.instance());return a&&this._proxyTracerProvider.setDelegate(t),a},e.prototype.getTracerProvider=function(){return getGlobal(API_NAME)||this._proxyTracerProvider},e.prototype.getTracer=function(t,a){return this.getTracerProvider().getTracer(t,a)},e.prototype.disable=function(){unregisterGlobal(API_NAME,DiagAPI.instance()),this._proxyTracerProvider=new ProxyTracerProvider},e})(),trace=TraceAPI.getInstance();const index$2={context,diag,metrics,propagation,trace},esm=Object.freeze(Object.defineProperty({__proto__:null,DiagConsoleLogger,get DiagLogLevel(){return DiagLogLevel},INVALID_SPANID,INVALID_SPAN_CONTEXT,INVALID_TRACEID,ProxyTracer,ProxyTracerProvider,ROOT_CONTEXT,get SamplingDecision(){return SamplingDecision},get SpanKind(){return SpanKind},get SpanStatusCode(){return SpanStatusCode},get TraceFlags(){return TraceFlags},get ValueType(){return ValueType},baggageEntryMetadataFromString,context,createContextKey,createNoopMeter,createTraceState,default:index$2,defaultTextMapGetter,defaultTextMapSetter,diag,isSpanContextValid,isValidSpanId,isValidTraceId,metrics,propagation,trace},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(esm);var v1={exports:{}},firestore_admin_client={};const options$2={syntax:"proto3"},nested$2=JSON.parse('{"google":{"nested":{"firestore":{"nested":{"admin":{"nested":{"v1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.Admin.V1","go_package":"cloud.google.com/go/firestore/apiv1/admin/adminpb;adminpb","java_multiple_files":true,"java_outer_classname":"LocationProto","java_package":"com.google.firestore.admin.v1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\Admin\\\\V1","ruby_package":"Google::Cloud::Firestore::Admin::V1","(google.api.resource_definition).type":"firestore.googleapis.com/CollectionGroup","(google.api.resource_definition).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}"},"nested":{"Backup":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Backup","(google.api.resource).pattern":"projects/{project}/locations/{location}/backups/{backup}"},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"database":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"databaseUid":{"type":"string","id":7,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"snapshotTime":{"type":"google.protobuf.Timestamp","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"expireTime":{"type":"google.protobuf.Timestamp","id":4,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"stats":{"type":"Stats","id":6,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"state":{"type":"State","id":8,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}},"nested":{"Stats":{"fields":{"sizeBytes":{"type":"int64","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"documentCount":{"type":"int64","id":2,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"indexCount":{"type":"int64","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}}},"State":{"values":{"STATE_UNSPECIFIED":0,"CREATING":1,"READY":2,"NOT_AVAILABLE":3}}}},"Database":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Database","(google.api.resource).pattern":"projects/{project}/databases/{database}","(google.api.resource).style":"DECLARATIVE_FRIENDLY"},"fields":{"name":{"type":"string","id":1},"uid":{"type":"string","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"createTime":{"type":"google.protobuf.Timestamp","id":5,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"updateTime":{"type":"google.protobuf.Timestamp","id":6,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"deleteTime":{"type":"google.protobuf.Timestamp","id":7,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"locationId":{"type":"string","id":9},"type":{"type":"DatabaseType","id":10},"concurrencyMode":{"type":"ConcurrencyMode","id":15},"versionRetentionPeriod":{"type":"google.protobuf.Duration","id":17,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"earliestVersionTime":{"type":"google.protobuf.Timestamp","id":18,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"pointInTimeRecoveryEnablement":{"type":"PointInTimeRecoveryEnablement","id":21},"appEngineIntegrationMode":{"type":"AppEngineIntegrationMode","id":19},"keyPrefix":{"type":"string","id":20,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"deleteProtectionState":{"type":"DeleteProtectionState","id":22},"cmekConfig":{"type":"CmekConfig","id":23,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"previousId":{"type":"string","id":25,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"sourceInfo":{"type":"SourceInfo","id":26,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"etag":{"type":"string","id":99}},"nested":{"DatabaseType":{"values":{"DATABASE_TYPE_UNSPECIFIED":0,"FIRESTORE_NATIVE":1,"DATASTORE_MODE":2}},"ConcurrencyMode":{"values":{"CONCURRENCY_MODE_UNSPECIFIED":0,"OPTIMISTIC":1,"PESSIMISTIC":2,"OPTIMISTIC_WITH_ENTITY_GROUPS":3}},"PointInTimeRecoveryEnablement":{"values":{"POINT_IN_TIME_RECOVERY_ENABLEMENT_UNSPECIFIED":0,"POINT_IN_TIME_RECOVERY_ENABLED":1,"POINT_IN_TIME_RECOVERY_DISABLED":2}},"AppEngineIntegrationMode":{"values":{"APP_ENGINE_INTEGRATION_MODE_UNSPECIFIED":0,"ENABLED":1,"DISABLED":2}},"DeleteProtectionState":{"values":{"DELETE_PROTECTION_STATE_UNSPECIFIED":0,"DELETE_PROTECTION_DISABLED":1,"DELETE_PROTECTION_ENABLED":2}},"CmekConfig":{"fields":{"kmsKeyName":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"activeKeyVersion":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}}},"SourceInfo":{"oneofs":{"source":{"oneof":["backup"]}},"fields":{"backup":{"type":"BackupSource","id":1},"operation":{"type":"string","id":3,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Operation"}}},"nested":{"BackupSource":{"fields":{"backup":{"type":"string","id":1,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}}}},"EncryptionConfig":{"oneofs":{"encryptionType":{"oneof":["googleDefaultEncryption","useSourceEncryption","customerManagedEncryption"]}},"fields":{"googleDefaultEncryption":{"type":"GoogleDefaultEncryptionOptions","id":1},"useSourceEncryption":{"type":"SourceEncryptionOptions","id":2},"customerManagedEncryption":{"type":"CustomerManagedEncryptionOptions","id":3}},"nested":{"GoogleDefaultEncryptionOptions":{"fields":{}},"SourceEncryptionOptions":{"fields":{}},"CustomerManagedEncryptionOptions":{"fields":{"kmsKeyName":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}}}}}}}},"Field":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Field","(google.api.resource).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}/fields/{field}"},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"indexConfig":{"type":"IndexConfig","id":2},"ttlConfig":{"type":"TtlConfig","id":3}},"nested":{"IndexConfig":{"fields":{"indexes":{"rule":"repeated","type":"Index","id":1},"usesAncestorConfig":{"type":"bool","id":2},"ancestorField":{"type":"string","id":3},"reverting":{"type":"bool","id":4}}},"TtlConfig":{"fields":{"state":{"type":"State","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}},"nested":{"State":{"values":{"STATE_UNSPECIFIED":0,"CREATING":1,"ACTIVE":2,"NEEDS_REPAIR":3}}}}}},"Index":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Index","(google.api.resource).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}/indexes/{index}"},"fields":{"name":{"type":"string","id":1},"queryScope":{"type":"QueryScope","id":2},"apiScope":{"type":"ApiScope","id":5},"fields":{"rule":"repeated","type":"IndexField","id":3},"state":{"type":"State","id":4}},"nested":{"QueryScope":{"values":{"QUERY_SCOPE_UNSPECIFIED":0,"COLLECTION":1,"COLLECTION_GROUP":2,"COLLECTION_RECURSIVE":3}},"ApiScope":{"values":{"ANY_API":0,"DATASTORE_MODE_API":1}},"IndexField":{"oneofs":{"valueMode":{"oneof":["order","arrayConfig","vectorConfig"]}},"fields":{"fieldPath":{"type":"string","id":1},"order":{"type":"Order","id":2},"arrayConfig":{"type":"ArrayConfig","id":3},"vectorConfig":{"type":"VectorConfig","id":4}},"nested":{"Order":{"values":{"ORDER_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}},"ArrayConfig":{"values":{"ARRAY_CONFIG_UNSPECIFIED":0,"CONTAINS":1}},"VectorConfig":{"oneofs":{"type":{"oneof":["flat"]}},"fields":{"dimension":{"type":"int32","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"flat":{"type":"FlatIndex","id":2}},"nested":{"FlatIndex":{"fields":{}}}}}},"State":{"values":{"STATE_UNSPECIFIED":0,"CREATING":1,"READY":2,"NEEDS_REPAIR":3}}}},"FirestoreAdmin":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"CreateIndex":{"requestType":"CreateIndexRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","(google.api.http).body":"index","(google.api.method_signature)":"parent,index","(google.longrunning.operation_info).response_type":"Index","(google.longrunning.operation_info).metadata_type":"IndexOperationMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","body":"index"}},{"(google.api.method_signature)":"parent,index"},{"(google.longrunning.operation_info)":{"response_type":"Index","metadata_type":"IndexOperationMetadata"}}]},"ListIndexes":{"requestType":"ListIndexesRequest","responseType":"ListIndexesResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes"}},{"(google.api.method_signature)":"parent"}]},"GetIndex":{"requestType":"GetIndexRequest","responseType":"Index","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}"}},{"(google.api.method_signature)":"name"}]},"DeleteIndex":{"requestType":"DeleteIndexRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}"}},{"(google.api.method_signature)":"name"}]},"GetField":{"requestType":"GetFieldRequest","responseType":"Field","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/collectionGroups/*/fields/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/collectionGroups/*/fields/*}"}},{"(google.api.method_signature)":"name"}]},"UpdateField":{"requestType":"UpdateFieldRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).patch":"/v1/{field.name=projects/*/databases/*/collectionGroups/*/fields/*}","(google.api.http).body":"field","(google.api.method_signature)":"field","(google.longrunning.operation_info).response_type":"Field","(google.longrunning.operation_info).metadata_type":"FieldOperationMetadata"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{field.name=projects/*/databases/*/collectionGroups/*/fields/*}","body":"field"}},{"(google.api.method_signature)":"field"},{"(google.longrunning.operation_info)":{"response_type":"Field","metadata_type":"FieldOperationMetadata"}}]},"ListFields":{"requestType":"ListFieldsRequest","responseType":"ListFieldsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/fields","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/fields"}},{"(google.api.method_signature)":"parent"}]},"ExportDocuments":{"requestType":"ExportDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:exportDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"ExportDocumentsResponse","(google.longrunning.operation_info).metadata_type":"ExportDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:exportDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"ExportDocumentsResponse","metadata_type":"ExportDocumentsMetadata"}}]},"ImportDocuments":{"requestType":"ImportDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:importDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"google.protobuf.Empty","(google.longrunning.operation_info).metadata_type":"ImportDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:importDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"google.protobuf.Empty","metadata_type":"ImportDocumentsMetadata"}}]},"BulkDeleteDocuments":{"requestType":"BulkDeleteDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:bulkDeleteDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"BulkDeleteDocumentsResponse","(google.longrunning.operation_info).metadata_type":"BulkDeleteDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:bulkDeleteDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"BulkDeleteDocumentsResponse","metadata_type":"BulkDeleteDocumentsMetadata"}}]},"CreateDatabase":{"requestType":"CreateDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{parent=projects/*}/databases","(google.api.http).body":"database","(google.api.method_signature)":"parent,database,database_id","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"CreateDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*}/databases","body":"database"}},{"(google.api.method_signature)":"parent,database,database_id"},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"CreateDatabaseMetadata"}}]},"GetDatabase":{"requestType":"GetDatabaseRequest","responseType":"Database","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*}"}},{"(google.api.method_signature)":"name"}]},"ListDatabases":{"requestType":"ListDatabasesRequest","responseType":"ListDatabasesResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*}/databases","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*}/databases"}},{"(google.api.method_signature)":"parent"}]},"UpdateDatabase":{"requestType":"UpdateDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).patch":"/v1/{database.name=projects/*/databases/*}","(google.api.http).body":"database","(google.api.method_signature)":"database,update_mask","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"UpdateDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{database.name=projects/*/databases/*}","body":"database"}},{"(google.api.method_signature)":"database,update_mask"},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"UpdateDatabaseMetadata"}}]},"DeleteDatabase":{"requestType":"DeleteDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*}","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"DeleteDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*}"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"DeleteDatabaseMetadata"}}]},"GetBackup":{"requestType":"GetBackupRequest","responseType":"Backup","options":{"(google.api.http).get":"/v1/{name=projects/*/locations/*/backups/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/locations/*/backups/*}"}},{"(google.api.method_signature)":"name"}]},"ListBackups":{"requestType":"ListBackupsRequest","responseType":"ListBackupsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/locations/*}/backups","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/locations/*}/backups"}},{"(google.api.method_signature)":"parent"}]},"DeleteBackup":{"requestType":"DeleteBackupRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/locations/*/backups/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/locations/*/backups/*}"}},{"(google.api.method_signature)":"name"}]},"RestoreDatabase":{"requestType":"RestoreDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{parent=projects/*}/databases:restore","(google.api.http).body":"*","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"RestoreDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*}/databases:restore","body":"*"}},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"RestoreDatabaseMetadata"}}]},"CreateBackupSchedule":{"requestType":"CreateBackupScheduleRequest","responseType":"BackupSchedule","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*}/backupSchedules","(google.api.http).body":"backup_schedule","(google.api.method_signature)":"parent,backup_schedule"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*}/backupSchedules","body":"backup_schedule"}},{"(google.api.method_signature)":"parent,backup_schedule"}]},"GetBackupSchedule":{"requestType":"GetBackupScheduleRequest","responseType":"BackupSchedule","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/backupSchedules/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/backupSchedules/*}"}},{"(google.api.method_signature)":"name"}]},"ListBackupSchedules":{"requestType":"ListBackupSchedulesRequest","responseType":"ListBackupSchedulesResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*}/backupSchedules","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*}/backupSchedules"}},{"(google.api.method_signature)":"parent"}]},"UpdateBackupSchedule":{"requestType":"UpdateBackupScheduleRequest","responseType":"BackupSchedule","options":{"(google.api.http).patch":"/v1/{backup_schedule.name=projects/*/databases/*/backupSchedules/*}","(google.api.http).body":"backup_schedule","(google.api.method_signature)":"backup_schedule,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{backup_schedule.name=projects/*/databases/*/backupSchedules/*}","body":"backup_schedule"}},{"(google.api.method_signature)":"backup_schedule,update_mask"}]},"DeleteBackupSchedule":{"requestType":"DeleteBackupScheduleRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/backupSchedules/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/backupSchedules/*}"}},{"(google.api.method_signature)":"name"}]}}},"ListDatabasesRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},"showDeleted":{"type":"bool","id":4}}},"CreateDatabaseRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},"database":{"type":"Database","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"databaseId":{"type":"string","id":3,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"CreateDatabaseMetadata":{"fields":{}},"ListDatabasesResponse":{"fields":{"databases":{"rule":"repeated","type":"Database","id":1},"unreachable":{"rule":"repeated","type":"string","id":3}}},"GetDatabaseRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}}}},"UpdateDatabaseRequest":{"fields":{"database":{"type":"Database","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"google.protobuf.FieldMask","id":2}}},"UpdateDatabaseMetadata":{"fields":{}},"DeleteDatabaseRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"etag":{"type":"string","id":3}}},"DeleteDatabaseMetadata":{"fields":{}},"CreateBackupScheduleRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"backupSchedule":{"type":"BackupSchedule","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"GetBackupScheduleRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/BackupSchedule"}}}},"UpdateBackupScheduleRequest":{"fields":{"backupSchedule":{"type":"BackupSchedule","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"google.protobuf.FieldMask","id":2}}},"ListBackupSchedulesRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}}}},"ListBackupSchedulesResponse":{"fields":{"backupSchedules":{"rule":"repeated","type":"BackupSchedule","id":1}}},"DeleteBackupScheduleRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/BackupSchedule"}}}},"CreateIndexRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"index":{"type":"Index","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"ListIndexesRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListIndexesResponse":{"fields":{"indexes":{"rule":"repeated","type":"Index","id":1},"nextPageToken":{"type":"string","id":2}}},"GetIndexRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Index"}}}},"DeleteIndexRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Index"}}}},"UpdateFieldRequest":{"fields":{"field":{"type":"Field","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"google.protobuf.FieldMask","id":2}}},"GetFieldRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Field"}}}},"ListFieldsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListFieldsResponse":{"fields":{"fields":{"rule":"repeated","type":"Field","id":1},"nextPageToken":{"type":"string","id":2}}},"ExportDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2},"outputUriPrefix":{"type":"string","id":3},"namespaceIds":{"rule":"repeated","type":"string","id":4},"snapshotTime":{"type":"google.protobuf.Timestamp","id":5}}},"ImportDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2},"inputUriPrefix":{"type":"string","id":3},"namespaceIds":{"rule":"repeated","type":"string","id":4}}},"BulkDeleteDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"namespaceIds":{"rule":"repeated","type":"string","id":3,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"BulkDeleteDocumentsResponse":{"fields":{}},"GetBackupRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}},"ListBackupsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Location"}},"filter":{"type":"string","id":2}}},"ListBackupsResponse":{"fields":{"backups":{"rule":"repeated","type":"Backup","id":1},"unreachable":{"rule":"repeated","type":"string","id":3}}},"DeleteBackupRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}},"RestoreDatabaseRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},"databaseId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"backup":{"type":"string","id":3,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}},"encryptionConfig":{"type":"Database.EncryptionConfig","id":9,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"IndexOperationMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"index":{"type":"string","id":3},"state":{"type":"OperationState","id":4},"progressDocuments":{"type":"Progress","id":5},"progressBytes":{"type":"Progress","id":6}}},"FieldOperationMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"field":{"type":"string","id":3},"indexConfigDeltas":{"rule":"repeated","type":"IndexConfigDelta","id":4},"state":{"type":"OperationState","id":5},"progressDocuments":{"type":"Progress","id":6},"progressBytes":{"type":"Progress","id":7},"ttlConfigDelta":{"type":"TtlConfigDelta","id":8}},"nested":{"IndexConfigDelta":{"fields":{"changeType":{"type":"ChangeType","id":1},"index":{"type":"Index","id":2}},"nested":{"ChangeType":{"values":{"CHANGE_TYPE_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"TtlConfigDelta":{"fields":{"changeType":{"type":"ChangeType","id":1}},"nested":{"ChangeType":{"values":{"CHANGE_TYPE_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}}}},"ExportDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"outputUriPrefix":{"type":"string","id":7},"namespaceIds":{"rule":"repeated","type":"string","id":8},"snapshotTime":{"type":"google.protobuf.Timestamp","id":9}}},"ImportDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"inputUriPrefix":{"type":"string","id":7},"namespaceIds":{"rule":"repeated","type":"string","id":8}}},"BulkDeleteDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"namespaceIds":{"rule":"repeated","type":"string","id":7},"snapshotTime":{"type":"google.protobuf.Timestamp","id":8}}},"ExportDocumentsResponse":{"fields":{"outputUriPrefix":{"type":"string","id":1}}},"RestoreDatabaseMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"database":{"type":"string","id":4,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"backup":{"type":"string","id":5,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}},"progressPercentage":{"type":"Progress","id":8}}},"Progress":{"fields":{"estimatedWork":{"type":"int64","id":1},"completedWork":{"type":"int64","id":2}}},"OperationState":{"values":{"OPERATION_STATE_UNSPECIFIED":0,"INITIALIZING":1,"PROCESSING":2,"CANCELLING":3,"FINALIZING":4,"SUCCESSFUL":5,"FAILED":6,"CANCELLED":7}},"BackupSchedule":{"options":{"(google.api.resource).type":"firestore.googleapis.com/BackupSchedule","(google.api.resource).pattern":"projects/{project}/databases/{database}/backupSchedules/{backup_schedule}"},"oneofs":{"recurrence":{"oneof":["dailyRecurrence","weeklyRecurrence"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"createTime":{"type":"google.protobuf.Timestamp","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"updateTime":{"type":"google.protobuf.Timestamp","id":10,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"retention":{"type":"google.protobuf.Duration","id":6},"dailyRecurrence":{"type":"DailyRecurrence","id":7},"weeklyRecurrence":{"type":"WeeklyRecurrence","id":8}}},"DailyRecurrence":{"fields":{}},"WeeklyRecurrence":{"fields":{"day":{"type":"google.type.DayOfWeek","id":2}}},"LocationMetadata":{"fields":{}}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api;api","java_multiple_files":true,"java_outer_classname":"LaunchStageProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions","options":{"packed":false}},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5,"UNORDERED_LIST":6,"NON_EMPTY_DEFAULT":7,"IDENTIFIER":8}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6},"style":{"rule":"repeated","type":"Style","id":10}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}},"Style":{"values":{"STYLE_UNSPECIFIED":0,"DECLARATIVE_FRIENDLY":1}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}},"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"apiVersion":{"type":"string","id":525000001,"extend":"google.protobuf.ServiceOptions"},"CommonLanguageSettings":{"fields":{"referenceDocsUri":{"type":"string","id":1,"options":{"deprecated":true}},"destinations":{"rule":"repeated","type":"ClientLibraryDestination","id":2},"selectiveGapicGeneration":{"type":"SelectiveGapicGeneration","id":3}}},"ClientLibrarySettings":{"fields":{"version":{"type":"string","id":1},"launchStage":{"type":"LaunchStage","id":2},"restNumericEnums":{"type":"bool","id":3},"javaSettings":{"type":"JavaSettings","id":21},"cppSettings":{"type":"CppSettings","id":22},"phpSettings":{"type":"PhpSettings","id":23},"pythonSettings":{"type":"PythonSettings","id":24},"nodeSettings":{"type":"NodeSettings","id":25},"dotnetSettings":{"type":"DotnetSettings","id":26},"rubySettings":{"type":"RubySettings","id":27},"goSettings":{"type":"GoSettings","id":28}}},"Publishing":{"fields":{"methodSettings":{"rule":"repeated","type":"MethodSettings","id":2},"newIssueUri":{"type":"string","id":101},"documentationUri":{"type":"string","id":102},"apiShortName":{"type":"string","id":103},"githubLabel":{"type":"string","id":104},"codeownerGithubTeams":{"rule":"repeated","type":"string","id":105},"docTagPrefix":{"type":"string","id":106},"organization":{"type":"ClientLibraryOrganization","id":107},"librarySettings":{"rule":"repeated","type":"ClientLibrarySettings","id":109},"protoReferenceDocumentationUri":{"type":"string","id":110},"restReferenceDocumentationUri":{"type":"string","id":111}}},"JavaSettings":{"fields":{"libraryPackage":{"type":"string","id":1},"serviceClassNames":{"keyType":"string","type":"string","id":2},"common":{"type":"CommonLanguageSettings","id":3}}},"CppSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PhpSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PythonSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"experimentalFeatures":{"type":"ExperimentalFeatures","id":2}},"nested":{"ExperimentalFeatures":{"fields":{"restAsyncIoEnabled":{"type":"bool","id":1},"protobufPythonicTypesEnabled":{"type":"bool","id":2}}}}},"NodeSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"DotnetSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2},"renamedResources":{"keyType":"string","type":"string","id":3},"ignoredResources":{"rule":"repeated","type":"string","id":4},"forcedNamespaceAliases":{"rule":"repeated","type":"string","id":5},"handwrittenSignatures":{"rule":"repeated","type":"string","id":6}}},"RubySettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"GoSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2}}},"MethodSettings":{"fields":{"selector":{"type":"string","id":1},"longRunning":{"type":"LongRunning","id":2},"autoPopulatedFields":{"rule":"repeated","type":"string","id":3}},"nested":{"LongRunning":{"fields":{"initialPollDelay":{"type":"google.protobuf.Duration","id":1},"pollDelayMultiplier":{"type":"float","id":2},"maxPollDelay":{"type":"google.protobuf.Duration","id":3},"totalPollTimeout":{"type":"google.protobuf.Duration","id":4}}}}},"ClientLibraryOrganization":{"values":{"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,"CLOUD":1,"ADS":2,"PHOTOS":3,"STREET_VIEW":4,"SHOPPING":5,"GEO":6,"GENERATIVE_AI":7}},"ClientLibraryDestination":{"values":{"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":0,"GITHUB":10,"PACKAGE_MANAGER":20}},"SelectiveGapicGeneration":{"fields":{"methods":{"rule":"repeated","type":"string","id":1},"generateOmittedAsInternal":{"type":"bool","id":2}}},"LaunchStage":{"values":{"LAUNCH_STAGE_UNSPECIFIED":0,"UNIMPLEMENTED":6,"PRELAUNCH":7,"EARLY_ACCESS":1,"ALPHA":2,"BETA":3,"GA":4,"DEPRECATED":5}}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"Edition":{"values":{"EDITION_UNKNOWN":0,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"unverifiedLazy":{"type":"bool","id":15,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"debugRedact":{"type":"bool","id":16,"options":{"default":false}},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19,"options":{"packed":false}},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}}}},"OneofOptions":{"fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},"extensions":[[1000,1000],[1001,1001],[1002,1002],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}}}},"FeatureSetDefaults":{"fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"features":{"type":"FeatureSet","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"Timestamp":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Empty":{"fields":{}},"FieldMask":{"fields":{"paths":{"rule":"repeated","type":"string","id":1}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"DoubleValue":{"fields":{"value":{"type":"double","id":1}}},"FloatValue":{"fields":{"value":{"type":"float","id":1}}},"Int64Value":{"fields":{"value":{"type":"int64","id":1}}},"UInt64Value":{"fields":{"value":{"type":"uint64","id":1}}},"Int32Value":{"fields":{"value":{"type":"int32","id":1}}},"UInt32Value":{"fields":{"value":{"type":"uint32","id":1}}},"BoolValue":{"fields":{"value":{"type":"bool","id":1}}},"StringValue":{"fields":{"value":{"type":"string","id":1}}},"BytesValue":{"fields":{"value":{"type":"bytes","id":1}}}}},"type":{"options":{"go_package":"google.golang.org/genproto/googleapis/type/latlng;latlng","java_multiple_files":true,"java_outer_classname":"LatLngProto","java_package":"com.google.type","objc_class_prefix":"GTP","cc_enable_arenas":true},"nested":{"DayOfWeek":{"values":{"DAY_OF_WEEK_UNSPECIFIED":0,"MONDAY":1,"TUESDAY":2,"WEDNESDAY":3,"THURSDAY":4,"FRIDAY":5,"SATURDAY":6,"SUNDAY":7}},"LatLng":{"fields":{"latitude":{"type":"double","id":1},"longitude":{"type":"double","id":2}}}}},"longrunning":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.LongRunning","go_package":"cloud.google.com/go/longrunning/autogen/longrunningpb;longrunningpb","java_multiple_files":true,"java_outer_classname":"OperationsProto","java_package":"com.google.longrunning","objc_class_prefix":"GLRUN","php_namespace":"Google\\\\LongRunning"},"nested":{"operationInfo":{"type":"google.longrunning.OperationInfo","id":1049,"extend":"google.protobuf.MethodOptions"},"Operations":{"options":{"(google.api.default_host)":"longrunning.googleapis.com"},"methods":{"ListOperations":{"requestType":"ListOperationsRequest","responseType":"ListOperationsResponse","options":{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},"GetOperation":{"requestType":"GetOperationRequest","responseType":"Operation","options":{"(google.api.http).get":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"DeleteOperation":{"requestType":"DeleteOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"CancelOperation":{"requestType":"CancelOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=operations/**}:cancel","body":"*"}},{"(google.api.method_signature)":"name"}]},"WaitOperation":{"requestType":"WaitOperationRequest","responseType":"Operation"}}},"Operation":{"oneofs":{"result":{"oneof":["error","response"]}},"fields":{"name":{"type":"string","id":1},"metadata":{"type":"google.protobuf.Any","id":2},"done":{"type":"bool","id":3},"error":{"type":"google.rpc.Status","id":4},"response":{"type":"google.protobuf.Any","id":5}}},"GetOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"ListOperationsRequest":{"fields":{"name":{"type":"string","id":4},"filter":{"type":"string","id":1},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListOperationsResponse":{"fields":{"operations":{"rule":"repeated","type":"Operation","id":1},"nextPageToken":{"type":"string","id":2}}},"CancelOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"DeleteOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"WaitOperationRequest":{"fields":{"name":{"type":"string","id":1},"timeout":{"type":"google.protobuf.Duration","id":2}}},"OperationInfo":{"fields":{"responseType":{"type":"string","id":1},"metadataType":{"type":"string","id":2}}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}'),require$$0={options:options$2,nested:nested$2},interfaces$1={"google.firestore.admin.v1.FirestoreAdmin":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],deadline_exceeded_internal_unavailable:["DEADLINE_EXCEEDED","INTERNAL","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{CreateIndex:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ListIndexes:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},GetIndex:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},DeleteIndex:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},GetField:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},UpdateField:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ListFields:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},ExportDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ImportDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},BulkDeleteDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},CreateDatabase:{timeout_millis:12e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},GetDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},ListDatabases:{retry_codes_name:"non_idempotent",retry_params_name:"default"},UpdateDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetBackup:{retry_codes_name:"non_idempotent",retry_params_name:"default"},ListBackups:{retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteBackup:{retry_codes_name:"non_idempotent",retry_params_name:"default"},RestoreDatabase:{timeout_millis:12e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},CreateBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"},ListBackupSchedules:{retry_codes_name:"non_idempotent",retry_params_name:"default"},UpdateBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$1$2={interfaces:interfaces$1},name="@google-cloud/firestore",version="7.11.3",require$$33={name,version};var hasRequiredFirestore_admin_client;function requireFirestore_admin_client(){if(hasRequiredFirestore_admin_client)return firestore_admin_client;hasRequiredFirestore_admin_client=1;var e={};Object.defineProperty(firestore_admin_client,"__esModule",{value:!0}),firestore_admin_client.FirestoreAdminClient=void 0;const t=require$$0,a=require$$1$2,p=require$$33.version;class g{constructor(c,l){var o,s,h,v,b;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const y=this.constructor;if(c?.universe_domain&&c?.universeDomain&&c?.universe_domain!==c?.universeDomain)throw new Error("Please set either universe_domain or universeDomain, but not both.");const O=typeof process=="object"&&typeof e=="object"?e.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(h=(s=(o=c?.universeDomain)!==null&&o!==void 0?o:c?.universe_domain)!==null&&s!==void 0?s:O)!==null&&h!==void 0?h:"googleapis.com",this._servicePath="firestore."+this._universeDomain;const w=c?.servicePath||c?.apiEndpoint||this._servicePath;this._providedCustomServicePath=!!(c?.servicePath||c?.apiEndpoint);const I=c?.port||y.port,_=(v=c?.clientConfig)!==null&&v!==void 0?v:{},T=(b=c?.fallback)!==null&&b!==void 0?b:typeof window<"u"&&typeof window?.fetch=="function";c=Object.assign({servicePath:w,port:I,clientConfig:_,fallback:T},c),c.numericEnums=!0,w!==this._servicePath&&!("scopes"in c)&&(c.scopes=y.scopes),l||(l=requireFallback()),this._gaxModule=c.fallback?l.fallback:l,this._gaxGrpc=new this._gaxModule.GrpcClient(c),this._opts=c,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,w===this._servicePath&&(this.auth.defaultScopes=y.scopes),this.locationsClient=new this._gaxModule.LocationsClient(this._gaxGrpc,c);const C=[`gax/${this._gaxModule.version}`,`gapic/${p}`];typeof process=="object"&&"versions"in process?C.push(`gl-node/${process.versions.node}`):C.push(`gl-web/${this._gaxModule.version}`),c.fallback?C.push(`rest/${this._gaxGrpc.grpcVersion}`):C.push(`grpc/${this._gaxGrpc.grpcVersion}`),c.libName&&c.libVersion&&C.push(`${c.libName}/${c.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(t),this.pathTemplates={backupPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/locations/{location}/backups/{backup}"),backupSchedulePathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/backupSchedules/{backup_schedule}"),collectionGroupPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}"),databasePathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}"),fieldPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}/fields/{field}"),indexPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}/indexes/{index}"),locationPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/locations/{location}"),projectPathTemplate:new this._gaxModule.PathTemplate("projects/{project}")},this.descriptors.page={listIndexes:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","indexes"),listFields:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","fields")};const N=this._gaxModule.protobuf.Root.fromJSON(t),L={auth:this.auth,grpc:"grpc"in this._gaxGrpc?this._gaxGrpc.grpc:void 0};c.fallback&&(L.protoJson=N,L.httpRules=[{selector:"google.longrunning.Operations.CancelOperation",post:"/v1/{name=projects/*/databases/*/operations/*}:cancel",body:"*"},{selector:"google.longrunning.Operations.DeleteOperation",delete:"/v1/{name=projects/*/databases/*/operations/*}"},{selector:"google.longrunning.Operations.GetOperation",get:"/v1/{name=projects/*/databases/*/operations/*}"},{selector:"google.longrunning.Operations.ListOperations",get:"/v1/{name=projects/*/databases/*}/operations"}]),this.operationsClient=this._gaxModule.lro(L).operationsClient(c);const D=N.lookup(".google.firestore.admin.v1.Index"),j=N.lookup(".google.firestore.admin.v1.IndexOperationMetadata"),k=N.lookup(".google.firestore.admin.v1.Field"),V=N.lookup(".google.firestore.admin.v1.FieldOperationMetadata"),G=N.lookup(".google.firestore.admin.v1.ExportDocumentsResponse"),J=N.lookup(".google.firestore.admin.v1.ExportDocumentsMetadata"),W=N.lookup(".google.protobuf.Empty"),K=N.lookup(".google.firestore.admin.v1.ImportDocumentsMetadata"),X=N.lookup(".google.firestore.admin.v1.BulkDeleteDocumentsResponse"),Y=N.lookup(".google.firestore.admin.v1.BulkDeleteDocumentsMetadata"),te=N.lookup(".google.firestore.admin.v1.Database"),oe=N.lookup(".google.firestore.admin.v1.CreateDatabaseMetadata"),le=N.lookup(".google.firestore.admin.v1.Database"),ee=N.lookup(".google.firestore.admin.v1.UpdateDatabaseMetadata"),se=N.lookup(".google.firestore.admin.v1.Database"),de=N.lookup(".google.firestore.admin.v1.DeleteDatabaseMetadata"),he=N.lookup(".google.firestore.admin.v1.Database"),ge=N.lookup(".google.firestore.admin.v1.RestoreDatabaseMetadata");this.descriptors.longrunning={createIndex:new this._gaxModule.LongrunningDescriptor(this.operationsClient,D.decode.bind(D),j.decode.bind(j)),updateField:new this._gaxModule.LongrunningDescriptor(this.operationsClient,k.decode.bind(k),V.decode.bind(V)),exportDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,G.decode.bind(G),J.decode.bind(J)),importDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,W.decode.bind(W),K.decode.bind(K)),bulkDeleteDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,X.decode.bind(X),Y.decode.bind(Y)),createDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,te.decode.bind(te),oe.decode.bind(oe)),updateDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,le.decode.bind(le),ee.decode.bind(ee)),deleteDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,se.decode.bind(se),de.decode.bind(de)),restoreDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,he.decode.bind(he),ge.decode.bind(ge))},this._defaults=this._gaxGrpc.constructSettings("google.firestore.admin.v1.FirestoreAdmin",a,c.clientConfig||{},{"x-goog-api-client":C.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreAdminStub)return this.firestoreAdminStub;this.firestoreAdminStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.admin.v1.FirestoreAdmin"):this._protos.google.firestore.admin.v1.FirestoreAdmin,this._opts,this._providedCustomServicePath);const c=["createIndex","listIndexes","getIndex","deleteIndex","getField","updateField","listFields","exportDocuments","importDocuments","bulkDeleteDocuments","createDatabase","getDatabase","listDatabases","updateDatabase","deleteDatabase","getBackup","listBackups","deleteBackup","restoreDatabase","createBackupSchedule","getBackupSchedule","listBackupSchedules","updateBackupSchedule","deleteBackupSchedule"];for(const l of c){const o=this.firestoreAdminStub.then(v=>(...b)=>this._terminated?Promise.reject("The client has already been closed."):v[l].apply(v,b),v=>()=>{throw v}),s=this.descriptors.page[l]||this.descriptors.longrunning[l]||void 0,h=this._gaxModule.createApiCall(o,this._defaults[l],s,this._opts.fallback);this.innerApiCalls[l]=h}return this.firestoreAdminStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(c){if(c){this.auth.getProjectId(c);return}return this.auth.getProjectId()}getIndex(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.getIndex(c,h,o)}deleteIndex(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.deleteIndex(c,h,o)}getField(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.getField(c,h,o)}getDatabase(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.getDatabase(c,h,o)}listDatabases(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=c.parent)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.listDatabases(c,h,o)}getBackup(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.getBackup(c,h,o)}listBackups(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=c.parent)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.listBackups(c,h,o)}deleteBackup(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.deleteBackup(c,h,o)}createBackupSchedule(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=c.parent)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.createBackupSchedule(c,h,o)}getBackupSchedule(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.getBackupSchedule(c,h,o)}listBackupSchedules(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=c.parent)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.listBackupSchedules(c,h,o)}updateBackupSchedule(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"backup_schedule.name":(s=c.backupSchedule.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.updateBackupSchedule(c,h,o)}deleteBackupSchedule(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.deleteBackupSchedule(c,h,o)}createIndex(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=c.parent)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.createIndex(c,h,o)}async checkCreateIndexProgress(c){const l=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:c}),[o]=await this.operationsClient.getOperation(l);return new this._gaxModule.Operation(o,this.descriptors.longrunning.createIndex,this._gaxModule.createDefaultBackoffSettings())}updateField(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"field.name":(s=c.field.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.updateField(c,h,o)}async checkUpdateFieldProgress(c){const l=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:c}),[o]=await this.operationsClient.getOperation(l);return new this._gaxModule.Operation(o,this.descriptors.longrunning.updateField,this._gaxModule.createDefaultBackoffSettings())}exportDocuments(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.exportDocuments(c,h,o)}async checkExportDocumentsProgress(c){const l=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:c}),[o]=await this.operationsClient.getOperation(l);return new this._gaxModule.Operation(o,this.descriptors.longrunning.exportDocuments,this._gaxModule.createDefaultBackoffSettings())}importDocuments(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.importDocuments(c,h,o)}async checkImportDocumentsProgress(c){const l=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:c}),[o]=await this.operationsClient.getOperation(l);return new this._gaxModule.Operation(o,this.descriptors.longrunning.importDocuments,this._gaxModule.createDefaultBackoffSettings())}bulkDeleteDocuments(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.bulkDeleteDocuments(c,h,o)}async checkBulkDeleteDocumentsProgress(c){const l=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:c}),[o]=await this.operationsClient.getOperation(l);return new this._gaxModule.Operation(o,this.descriptors.longrunning.bulkDeleteDocuments,this._gaxModule.createDefaultBackoffSettings())}createDatabase(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=c.parent)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.createDatabase(c,h,o)}async checkCreateDatabaseProgress(c){const l=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:c}),[o]=await this.operationsClient.getOperation(l);return new this._gaxModule.Operation(o,this.descriptors.longrunning.createDatabase,this._gaxModule.createDefaultBackoffSettings())}updateDatabase(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"database.name":(s=c.database.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.updateDatabase(c,h,o)}async checkUpdateDatabaseProgress(c){const l=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:c}),[o]=await this.operationsClient.getOperation(l);return new this._gaxModule.Operation(o,this.descriptors.longrunning.updateDatabase,this._gaxModule.createDefaultBackoffSettings())}deleteDatabase(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.deleteDatabase(c,h,o)}async checkDeleteDatabaseProgress(c){const l=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:c}),[o]=await this.operationsClient.getOperation(l);return new this._gaxModule.Operation(o,this.descriptors.longrunning.deleteDatabase,this._gaxModule.createDefaultBackoffSettings())}restoreDatabase(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=c.parent)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.restoreDatabase(c,h,o)}async checkRestoreDatabaseProgress(c){const l=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:c}),[o]=await this.operationsClient.getOperation(l);return new this._gaxModule.Operation(o,this.descriptors.longrunning.restoreDatabase,this._gaxModule.createDefaultBackoffSettings())}listIndexes(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=c.parent)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.listIndexes(c,h,o)}listIndexesStream(c,l){var o;c=c||{},l=l||{},l.otherArgs=l.otherArgs||{},l.otherArgs.headers=l.otherArgs.headers||{},l.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(o=c.parent)!==null&&o!==void 0?o:""});const h=this._defaults.listIndexes.merge(l);return this.initialize(),this.descriptors.page.listIndexes.createStream(this.innerApiCalls.listIndexes,c,h)}listIndexesAsync(c,l){var o;c=c||{},l=l||{},l.otherArgs=l.otherArgs||{},l.otherArgs.headers=l.otherArgs.headers||{},l.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(o=c.parent)!==null&&o!==void 0?o:""});const h=this._defaults.listIndexes.merge(l);return this.initialize(),this.descriptors.page.listIndexes.asyncIterate(this.innerApiCalls.listIndexes,c,h)}listFields(c,l,o){var s;c=c||{};let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=c.parent)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.listFields(c,h,o)}listFieldsStream(c,l){var o;c=c||{},l=l||{},l.otherArgs=l.otherArgs||{},l.otherArgs.headers=l.otherArgs.headers||{},l.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(o=c.parent)!==null&&o!==void 0?o:""});const h=this._defaults.listFields.merge(l);return this.initialize(),this.descriptors.page.listFields.createStream(this.innerApiCalls.listFields,c,h)}listFieldsAsync(c,l){var o;c=c||{},l=l||{},l.otherArgs=l.otherArgs||{},l.otherArgs.headers=l.otherArgs.headers||{},l.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(o=c.parent)!==null&&o!==void 0?o:""});const h=this._defaults.listFields.merge(l);return this.initialize(),this.descriptors.page.listFields.asyncIterate(this.innerApiCalls.listFields,c,h)}getLocation(c,l,o){return this.locationsClient.getLocation(c,l,o)}listLocationsAsync(c,l){return this.locationsClient.listLocationsAsync(c,l)}getOperation(c,l,o){var s;let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.operationsClient.getOperation(c,h,o)}listOperationsAsync(c,l){var o;return l=l||{},l.otherArgs=l.otherArgs||{},l.otherArgs.headers=l.otherArgs.headers||{},l.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(o=c.name)!==null&&o!==void 0?o:""}),this.operationsClient.listOperationsAsync(c,l)}cancelOperation(c,l,o){var s;let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.operationsClient.cancelOperation(c,h,o)}deleteOperation(c,l,o){var s;let h;return typeof l=="function"&&o===void 0?(o=l,h={}):h=l,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(s=c.name)!==null&&s!==void 0?s:""}),this.operationsClient.deleteOperation(c,h,o)}backupPath(c,l,o){return this.pathTemplates.backupPathTemplate.render({project:c,location:l,backup:o})}matchProjectFromBackupName(c){return this.pathTemplates.backupPathTemplate.match(c).project}matchLocationFromBackupName(c){return this.pathTemplates.backupPathTemplate.match(c).location}matchBackupFromBackupName(c){return this.pathTemplates.backupPathTemplate.match(c).backup}backupSchedulePath(c,l,o){return this.pathTemplates.backupSchedulePathTemplate.render({project:c,database:l,backup_schedule:o})}matchProjectFromBackupScheduleName(c){return this.pathTemplates.backupSchedulePathTemplate.match(c).project}matchDatabaseFromBackupScheduleName(c){return this.pathTemplates.backupSchedulePathTemplate.match(c).database}matchBackupScheduleFromBackupScheduleName(c){return this.pathTemplates.backupSchedulePathTemplate.match(c).backup_schedule}collectionGroupPath(c,l,o){return this.pathTemplates.collectionGroupPathTemplate.render({project:c,database:l,collection:o})}matchProjectFromCollectionGroupName(c){return this.pathTemplates.collectionGroupPathTemplate.match(c).project}matchDatabaseFromCollectionGroupName(c){return this.pathTemplates.collectionGroupPathTemplate.match(c).database}matchCollectionFromCollectionGroupName(c){return this.pathTemplates.collectionGroupPathTemplate.match(c).collection}databasePath(c,l){return this.pathTemplates.databasePathTemplate.render({project:c,database:l})}matchProjectFromDatabaseName(c){return this.pathTemplates.databasePathTemplate.match(c).project}matchDatabaseFromDatabaseName(c){return this.pathTemplates.databasePathTemplate.match(c).database}fieldPath(c,l,o,s){return this.pathTemplates.fieldPathTemplate.render({project:c,database:l,collection:o,field:s})}matchProjectFromFieldName(c){return this.pathTemplates.fieldPathTemplate.match(c).project}matchDatabaseFromFieldName(c){return this.pathTemplates.fieldPathTemplate.match(c).database}matchCollectionFromFieldName(c){return this.pathTemplates.fieldPathTemplate.match(c).collection}matchFieldFromFieldName(c){return this.pathTemplates.fieldPathTemplate.match(c).field}indexPath(c,l,o,s){return this.pathTemplates.indexPathTemplate.render({project:c,database:l,collection:o,index:s})}matchProjectFromIndexName(c){return this.pathTemplates.indexPathTemplate.match(c).project}matchDatabaseFromIndexName(c){return this.pathTemplates.indexPathTemplate.match(c).database}matchCollectionFromIndexName(c){return this.pathTemplates.indexPathTemplate.match(c).collection}matchIndexFromIndexName(c){return this.pathTemplates.indexPathTemplate.match(c).index}locationPath(c,l){return this.pathTemplates.locationPathTemplate.render({project:c,location:l})}matchProjectFromLocationName(c){return this.pathTemplates.locationPathTemplate.match(c).project}matchLocationFromLocationName(c){return this.pathTemplates.locationPathTemplate.match(c).location}projectPath(c){return this.pathTemplates.projectPathTemplate.render({project:c})}matchProjectFromProjectName(c){return this.pathTemplates.projectPathTemplate.match(c).project}close(){return this.firestoreAdminStub&&!this._terminated?this.firestoreAdminStub.then(c=>{this._terminated=!0,c.close(),this.locationsClient.close(),this.operationsClient.close()}):Promise.resolve()}}return firestore_admin_client.FirestoreAdminClient=g,firestore_admin_client}var firestore_client$1={};const options$1={syntax:"proto3"},nested$1=JSON.parse('{"google":{"nested":{"firestore":{"nested":{"v1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.V1","go_package":"cloud.google.com/go/firestore/apiv1/firestorepb;firestorepb","java_multiple_files":true,"java_outer_classname":"WriteProto","java_package":"com.google.firestore.v1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\V1","ruby_package":"Google::Cloud::Firestore::V1"},"nested":{"AggregationResult":{"fields":{"aggregateFields":{"keyType":"string","type":"Value","id":2}}},"Document":{"fields":{"name":{"type":"string","id":1},"fields":{"keyType":"string","type":"Value","id":2},"createTime":{"type":"google.protobuf.Timestamp","id":3},"updateTime":{"type":"google.protobuf.Timestamp","id":4}}},"Value":{"oneofs":{"valueType":{"oneof":["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},"fields":{"nullValue":{"type":"google.protobuf.NullValue","id":11},"booleanValue":{"type":"bool","id":1},"integerValue":{"type":"int64","id":2},"doubleValue":{"type":"double","id":3},"timestampValue":{"type":"google.protobuf.Timestamp","id":10},"stringValue":{"type":"string","id":17},"bytesValue":{"type":"bytes","id":18},"referenceValue":{"type":"string","id":5},"geoPointValue":{"type":"google.type.LatLng","id":8},"arrayValue":{"type":"ArrayValue","id":9},"mapValue":{"type":"MapValue","id":6}}},"ArrayValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"MapValue":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"BitSequence":{"fields":{"bitmap":{"type":"bytes","id":1},"padding":{"type":"int32","id":2}}},"BloomFilter":{"fields":{"bits":{"type":"BitSequence","id":1},"hashCount":{"type":"int32","id":2}}},"DocumentMask":{"fields":{"fieldPaths":{"rule":"repeated","type":"string","id":1}}},"Precondition":{"oneofs":{"conditionType":{"oneof":["exists","updateTime"]}},"fields":{"exists":{"type":"bool","id":1},"updateTime":{"type":"google.protobuf.Timestamp","id":2}}},"TransactionOptions":{"oneofs":{"mode":{"oneof":["readOnly","readWrite"]}},"fields":{"readOnly":{"type":"ReadOnly","id":2},"readWrite":{"type":"ReadWrite","id":3}},"nested":{"ReadWrite":{"fields":{"retryTransaction":{"type":"bytes","id":1}}},"ReadOnly":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"readTime":{"type":"google.protobuf.Timestamp","id":2}}}}},"Firestore":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"GetDocument":{"requestType":"GetDocumentRequest","responseType":"Document","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},"ListDocuments":{"requestType":"ListDocumentsRequest","responseType":"ListDocumentsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}","(google.api.http).additional_bindings.get":"/v1/{parent=projects/*/databases/*/documents}/{collection_id}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}","additional_bindings":{"get":"/v1/{parent=projects/*/databases/*/documents}/{collection_id}"}}}]},"UpdateDocument":{"requestType":"UpdateDocumentRequest","responseType":"Document","options":{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","body":"document"}},{"(google.api.method_signature)":"document,update_mask"}]},"DeleteDocument":{"requestType":"DeleteDocumentRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},"BatchGetDocuments":{"requestType":"BatchGetDocumentsRequest","responseType":"BatchGetDocumentsResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:batchGet","body":"*"}}]},"BeginTransaction":{"requestType":"BeginTransactionRequest","responseType":"BeginTransactionResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","body":"*"}},{"(google.api.method_signature)":"database"}]},"Commit":{"requestType":"CommitRequest","responseType":"CommitResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:commit","body":"*"}},{"(google.api.method_signature)":"database,writes"}]},"Rollback":{"requestType":"RollbackRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:rollback","body":"*"}},{"(google.api.method_signature)":"database,transaction"}]},"RunQuery":{"requestType":"RunQueryRequest","responseType":"RunQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","body":"*"}}}]},"RunAggregationQuery":{"requestType":"RunAggregationQueryRequest","responseType":"RunAggregationQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","body":"*"}}}]},"PartitionQuery":{"requestType":"PartitionQueryRequest","responseType":"PartitionQueryResponse","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","body":"*"}}}]},"Write":{"requestType":"WriteRequest","requestStream":true,"responseType":"WriteResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:write","body":"*"}}]},"Listen":{"requestType":"ListenRequest","requestStream":true,"responseType":"ListenResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:listen","body":"*"}}]},"ListCollectionIds":{"requestType":"ListCollectionIdsRequest","responseType":"ListCollectionIdsResponse","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","body":"*"}}},{"(google.api.method_signature)":"parent"}]},"BatchWrite":{"requestType":"BatchWriteRequest","responseType":"BatchWriteResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","body":"*"}}]},"CreateDocument":{"requestType":"CreateDocumentRequest","responseType":"Document","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","body":"document"}}]}}},"GetDocumentRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":5}}},"ListDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"pageSize":{"type":"int32","id":3,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"pageToken":{"type":"string","id":4,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"orderBy":{"type":"string","id":6,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"mask":{"type":"DocumentMask","id":7,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"transaction":{"type":"bytes","id":8},"readTime":{"type":"google.protobuf.Timestamp","id":10},"showMissing":{"type":"bool","id":12}}},"ListDocumentsResponse":{"fields":{"documents":{"rule":"repeated","type":"Document","id":1},"nextPageToken":{"type":"string","id":2}}},"CreateDocumentRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documentId":{"type":"string","id":3},"document":{"type":"Document","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":5}}},"UpdateDocumentRequest":{"fields":{"document":{"type":"Document","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"DocumentMask","id":2},"mask":{"type":"DocumentMask","id":3},"currentDocument":{"type":"Precondition","id":4}}},"DeleteDocumentRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"currentDocument":{"type":"Precondition","id":2}}},"BatchGetDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documents":{"rule":"repeated","type":"string","id":2},"mask":{"type":"DocumentMask","id":3},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"BatchGetDocumentsResponse":{"oneofs":{"result":{"oneof":["found","missing"]}},"fields":{"found":{"type":"Document","id":1},"missing":{"type":"string","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"BeginTransactionRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"options":{"type":"TransactionOptions","id":2}}},"BeginTransactionResponse":{"fields":{"transaction":{"type":"bytes","id":1}}},"CommitRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"transaction":{"type":"bytes","id":3}}},"CommitResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"commitTime":{"type":"google.protobuf.Timestamp","id":2}}},"RollbackRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"transaction":{"type":"bytes","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"RunQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"transaction":{"type":"bytes","id":5},"newTransaction":{"type":"TransactionOptions","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":7},"explainOptions":{"type":"ExplainOptions","id":10,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"RunQueryResponse":{"oneofs":{"continuationSelector":{"oneof":["done"]}},"fields":{"transaction":{"type":"bytes","id":2},"document":{"type":"Document","id":1},"readTime":{"type":"google.protobuf.Timestamp","id":3},"skippedResults":{"type":"int32","id":4},"done":{"type":"bool","id":6},"explainMetrics":{"type":"ExplainMetrics","id":11}}},"RunAggregationQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredAggregationQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredAggregationQuery":{"type":"StructuredAggregationQuery","id":2},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":6},"explainOptions":{"type":"ExplainOptions","id":8,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"RunAggregationQueryResponse":{"fields":{"result":{"type":"AggregationResult","id":1},"transaction":{"type":"bytes","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":3},"explainMetrics":{"type":"ExplainMetrics","id":10}}},"PartitionQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"partitionCount":{"type":"int64","id":3},"pageToken":{"type":"string","id":4},"pageSize":{"type":"int32","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":6}}},"PartitionQueryResponse":{"fields":{"partitions":{"rule":"repeated","type":"Cursor","id":1},"nextPageToken":{"type":"string","id":2}}},"WriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"streamId":{"type":"string","id":2},"writes":{"rule":"repeated","type":"Write","id":3},"streamToken":{"type":"bytes","id":4},"labels":{"keyType":"string","type":"string","id":5}}},"WriteResponse":{"fields":{"streamId":{"type":"string","id":1},"streamToken":{"type":"bytes","id":2},"writeResults":{"rule":"repeated","type":"WriteResult","id":3},"commitTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListenRequest":{"oneofs":{"targetChange":{"oneof":["addTarget","removeTarget"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"addTarget":{"type":"Target","id":2},"removeTarget":{"type":"int32","id":3},"labels":{"keyType":"string","type":"string","id":4}}},"ListenResponse":{"oneofs":{"responseType":{"oneof":["targetChange","documentChange","documentDelete","documentRemove","filter"]}},"fields":{"targetChange":{"type":"TargetChange","id":2},"documentChange":{"type":"DocumentChange","id":3},"documentDelete":{"type":"DocumentDelete","id":4},"documentRemove":{"type":"DocumentRemove","id":6},"filter":{"type":"ExistenceFilter","id":5}}},"Target":{"oneofs":{"targetType":{"oneof":["query","documents"]},"resumeType":{"oneof":["resumeToken","readTime"]}},"fields":{"query":{"type":"QueryTarget","id":2},"documents":{"type":"DocumentsTarget","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":11},"targetId":{"type":"int32","id":5},"once":{"type":"bool","id":6},"expectedCount":{"type":"google.protobuf.Int32Value","id":12}},"nested":{"DocumentsTarget":{"fields":{"documents":{"rule":"repeated","type":"string","id":2}}},"QueryTarget":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1},"structuredQuery":{"type":"StructuredQuery","id":2}}}}},"TargetChange":{"fields":{"targetChangeType":{"type":"TargetChangeType","id":1},"targetIds":{"rule":"repeated","type":"int32","id":2},"cause":{"type":"google.rpc.Status","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"TargetChangeType":{"values":{"NO_CHANGE":0,"ADD":1,"REMOVE":2,"CURRENT":3,"RESET":4}}}},"ListCollectionIdsRequest":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListCollectionIdsResponse":{"fields":{"collectionIds":{"rule":"repeated","type":"string","id":1},"nextPageToken":{"type":"string","id":2}}},"BatchWriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"labels":{"keyType":"string","type":"string","id":3}}},"BatchWriteResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"status":{"rule":"repeated","type":"google.rpc.Status","id":2}}},"StructuredQuery":{"fields":{"select":{"type":"Projection","id":1},"from":{"rule":"repeated","type":"CollectionSelector","id":2},"where":{"type":"Filter","id":3},"orderBy":{"rule":"repeated","type":"Order","id":4},"startAt":{"type":"Cursor","id":7},"endAt":{"type":"Cursor","id":8},"offset":{"type":"int32","id":6},"limit":{"type":"google.protobuf.Int32Value","id":5},"findNearest":{"type":"FindNearest","id":9,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"CollectionSelector":{"fields":{"collectionId":{"type":"string","id":2},"allDescendants":{"type":"bool","id":3}}},"Filter":{"oneofs":{"filterType":{"oneof":["compositeFilter","fieldFilter","unaryFilter"]}},"fields":{"compositeFilter":{"type":"CompositeFilter","id":1},"fieldFilter":{"type":"FieldFilter","id":2},"unaryFilter":{"type":"UnaryFilter","id":3}}},"CompositeFilter":{"fields":{"op":{"type":"Operator","id":1},"filters":{"rule":"repeated","type":"Filter","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"AND":1,"OR":2}}}},"FieldFilter":{"fields":{"field":{"type":"FieldReference","id":1},"op":{"type":"Operator","id":2},"value":{"type":"Value","id":3}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"LESS_THAN":1,"LESS_THAN_OR_EQUAL":2,"GREATER_THAN":3,"GREATER_THAN_OR_EQUAL":4,"EQUAL":5,"NOT_EQUAL":6,"ARRAY_CONTAINS":7,"IN":8,"ARRAY_CONTAINS_ANY":9,"NOT_IN":10}}}},"UnaryFilter":{"oneofs":{"operandType":{"oneof":["field"]}},"fields":{"op":{"type":"Operator","id":1},"field":{"type":"FieldReference","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"IS_NAN":2,"IS_NULL":3,"IS_NOT_NAN":4,"IS_NOT_NULL":5}}}},"Order":{"fields":{"field":{"type":"FieldReference","id":1},"direction":{"type":"Direction","id":2}}},"Direction":{"values":{"DIRECTION_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}},"FieldReference":{"fields":{"fieldPath":{"type":"string","id":2}}},"Projection":{"fields":{"fields":{"rule":"repeated","type":"FieldReference","id":2}}},"FindNearest":{"fields":{"vectorField":{"type":"FieldReference","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"queryVector":{"type":"Value","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"distanceMeasure":{"type":"DistanceMeasure","id":3,"options":{"(google.api.field_behavior)":"REQUIRED"}},"limit":{"type":"google.protobuf.Int32Value","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"distanceResultField":{"type":"string","id":5,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"distanceThreshold":{"type":"google.protobuf.DoubleValue","id":6,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"DistanceMeasure":{"values":{"DISTANCE_MEASURE_UNSPECIFIED":0,"EUCLIDEAN":1,"COSINE":2,"DOT_PRODUCT":3}}}}}},"StructuredAggregationQuery":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"structuredQuery":{"type":"StructuredQuery","id":1},"aggregations":{"rule":"repeated","type":"Aggregation","id":3,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"Aggregation":{"oneofs":{"operator":{"oneof":["count","sum","avg"]}},"fields":{"count":{"type":"Count","id":1},"sum":{"type":"Sum","id":2},"avg":{"type":"Avg","id":3},"alias":{"type":"string","id":7,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"Count":{"fields":{"upTo":{"type":"google.protobuf.Int64Value","id":1,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"Sum":{"fields":{"field":{"type":"StructuredQuery.FieldReference","id":1}}},"Avg":{"fields":{"field":{"type":"StructuredQuery.FieldReference","id":1}}}}}}},"Cursor":{"fields":{"values":{"rule":"repeated","type":"Value","id":1},"before":{"type":"bool","id":2}}},"ExplainOptions":{"fields":{"analyze":{"type":"bool","id":1,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"ExplainMetrics":{"fields":{"planSummary":{"type":"PlanSummary","id":1},"executionStats":{"type":"ExecutionStats","id":2}}},"PlanSummary":{"fields":{"indexesUsed":{"rule":"repeated","type":"google.protobuf.Struct","id":1}}},"ExecutionStats":{"fields":{"resultsReturned":{"type":"int64","id":1},"executionDuration":{"type":"google.protobuf.Duration","id":3},"readOperations":{"type":"int64","id":4},"debugStats":{"type":"google.protobuf.Struct","id":5}}},"Write":{"oneofs":{"operation":{"oneof":["update","delete","transform"]}},"fields":{"update":{"type":"Document","id":1},"delete":{"type":"string","id":2},"transform":{"type":"DocumentTransform","id":6},"updateMask":{"type":"DocumentMask","id":3},"updateTransforms":{"rule":"repeated","type":"DocumentTransform.FieldTransform","id":7},"currentDocument":{"type":"Precondition","id":4}}},"DocumentTransform":{"fields":{"document":{"type":"string","id":1},"fieldTransforms":{"rule":"repeated","type":"FieldTransform","id":2}},"nested":{"FieldTransform":{"oneofs":{"transformType":{"oneof":["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},"fields":{"fieldPath":{"type":"string","id":1},"setToServerValue":{"type":"ServerValue","id":2},"increment":{"type":"Value","id":3},"maximum":{"type":"Value","id":4},"minimum":{"type":"Value","id":5},"appendMissingElements":{"type":"ArrayValue","id":6},"removeAllFromArray":{"type":"ArrayValue","id":7}},"nested":{"ServerValue":{"values":{"SERVER_VALUE_UNSPECIFIED":0,"REQUEST_TIME":1}}}}}},"WriteResult":{"fields":{"updateTime":{"type":"google.protobuf.Timestamp","id":1},"transformResults":{"rule":"repeated","type":"Value","id":2}}},"DocumentChange":{"fields":{"document":{"type":"Document","id":1},"targetIds":{"rule":"repeated","type":"int32","id":5},"removedTargetIds":{"rule":"repeated","type":"int32","id":6}}},"DocumentDelete":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"DocumentRemove":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ExistenceFilter":{"fields":{"targetId":{"type":"int32","id":1},"count":{"type":"int32","id":2},"unchangedNames":{"type":"BloomFilter","id":3}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions","options":{"packed":false}},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5,"UNORDERED_LIST":6,"NON_EMPTY_DEFAULT":7,"IDENTIFIER":8}},"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"apiVersion":{"type":"string","id":525000001,"extend":"google.protobuf.ServiceOptions"},"CommonLanguageSettings":{"fields":{"referenceDocsUri":{"type":"string","id":1,"options":{"deprecated":true}},"destinations":{"rule":"repeated","type":"ClientLibraryDestination","id":2},"selectiveGapicGeneration":{"type":"SelectiveGapicGeneration","id":3}}},"ClientLibrarySettings":{"fields":{"version":{"type":"string","id":1},"launchStage":{"type":"LaunchStage","id":2},"restNumericEnums":{"type":"bool","id":3},"javaSettings":{"type":"JavaSettings","id":21},"cppSettings":{"type":"CppSettings","id":22},"phpSettings":{"type":"PhpSettings","id":23},"pythonSettings":{"type":"PythonSettings","id":24},"nodeSettings":{"type":"NodeSettings","id":25},"dotnetSettings":{"type":"DotnetSettings","id":26},"rubySettings":{"type":"RubySettings","id":27},"goSettings":{"type":"GoSettings","id":28}}},"Publishing":{"fields":{"methodSettings":{"rule":"repeated","type":"MethodSettings","id":2},"newIssueUri":{"type":"string","id":101},"documentationUri":{"type":"string","id":102},"apiShortName":{"type":"string","id":103},"githubLabel":{"type":"string","id":104},"codeownerGithubTeams":{"rule":"repeated","type":"string","id":105},"docTagPrefix":{"type":"string","id":106},"organization":{"type":"ClientLibraryOrganization","id":107},"librarySettings":{"rule":"repeated","type":"ClientLibrarySettings","id":109},"protoReferenceDocumentationUri":{"type":"string","id":110},"restReferenceDocumentationUri":{"type":"string","id":111}}},"JavaSettings":{"fields":{"libraryPackage":{"type":"string","id":1},"serviceClassNames":{"keyType":"string","type":"string","id":2},"common":{"type":"CommonLanguageSettings","id":3}}},"CppSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PhpSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PythonSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"experimentalFeatures":{"type":"ExperimentalFeatures","id":2}},"nested":{"ExperimentalFeatures":{"fields":{"restAsyncIoEnabled":{"type":"bool","id":1},"protobufPythonicTypesEnabled":{"type":"bool","id":2}}}}},"NodeSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"DotnetSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2},"renamedResources":{"keyType":"string","type":"string","id":3},"ignoredResources":{"rule":"repeated","type":"string","id":4},"forcedNamespaceAliases":{"rule":"repeated","type":"string","id":5},"handwrittenSignatures":{"rule":"repeated","type":"string","id":6}}},"RubySettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"GoSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2}}},"MethodSettings":{"fields":{"selector":{"type":"string","id":1},"longRunning":{"type":"LongRunning","id":2},"autoPopulatedFields":{"rule":"repeated","type":"string","id":3}},"nested":{"LongRunning":{"fields":{"initialPollDelay":{"type":"google.protobuf.Duration","id":1},"pollDelayMultiplier":{"type":"float","id":2},"maxPollDelay":{"type":"google.protobuf.Duration","id":3},"totalPollTimeout":{"type":"google.protobuf.Duration","id":4}}}}},"ClientLibraryOrganization":{"values":{"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,"CLOUD":1,"ADS":2,"PHOTOS":3,"STREET_VIEW":4,"SHOPPING":5,"GEO":6,"GENERATIVE_AI":7}},"ClientLibraryDestination":{"values":{"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":0,"GITHUB":10,"PACKAGE_MANAGER":20}},"SelectiveGapicGeneration":{"fields":{"methods":{"rule":"repeated","type":"string","id":1},"generateOmittedAsInternal":{"type":"bool","id":2}}},"LaunchStage":{"values":{"LAUNCH_STAGE_UNSPECIFIED":0,"UNIMPLEMENTED":6,"PRELAUNCH":7,"EARLY_ACCESS":1,"ALPHA":2,"BETA":3,"GA":4,"DEPRECATED":5}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6},"style":{"rule":"repeated","type":"Style","id":10}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}},"Style":{"values":{"STYLE_UNSPECIFIED":0,"DECLARATIVE_FRIENDLY":1}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"Edition":{"values":{"EDITION_UNKNOWN":0,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"unverifiedLazy":{"type":"bool","id":15,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"debugRedact":{"type":"bool","id":16,"options":{"default":false}},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19,"options":{"packed":false}},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}}}},"OneofOptions":{"fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},"extensions":[[1000,1000],[1001,1001],[1002,1002],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}}}},"FeatureSetDefaults":{"fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"features":{"type":"FeatureSet","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"Timestamp":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"DoubleValue":{"fields":{"value":{"type":"double","id":1}}},"FloatValue":{"fields":{"value":{"type":"float","id":1}}},"Int64Value":{"fields":{"value":{"type":"int64","id":1}}},"UInt64Value":{"fields":{"value":{"type":"uint64","id":1}}},"Int32Value":{"fields":{"value":{"type":"int32","id":1}}},"UInt32Value":{"fields":{"value":{"type":"uint32","id":1}}},"BoolValue":{"fields":{"value":{"type":"bool","id":1}}},"StringValue":{"fields":{"value":{"type":"string","id":1}}},"BytesValue":{"fields":{"value":{"type":"bytes","id":1}}},"Empty":{"fields":{}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"FieldMask":{"fields":{"paths":{"rule":"repeated","type":"string","id":1}}}}},"type":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/type/dayofweek;dayofweek","java_multiple_files":true,"java_outer_classname":"DayOfWeekProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"LatLng":{"fields":{"latitude":{"type":"double","id":1},"longitude":{"type":"double","id":2}}},"DayOfWeek":{"values":{"DAY_OF_WEEK_UNSPECIFIED":0,"MONDAY":1,"TUESDAY":2,"WEDNESDAY":3,"THURSDAY":4,"FRIDAY":5,"SATURDAY":6,"SUNDAY":7}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}'),require$$1$1={options:options$1,nested:nested$1};var hasRequiredFirestore_client$1;function requireFirestore_client$1(){if(hasRequiredFirestore_client$1)return firestore_client$1;hasRequiredFirestore_client$1=1;var e={};Object.defineProperty(firestore_client$1,"__esModule",{value:!0}),firestore_client$1.FirestoreClient=void 0;const t=require$$1$3,a=require$$1$1,p=requireLogger(),g=require$$19,m=require$$33.version;class c{constructor(o,s){var h,v,b,y,O;this._terminated=!1,this._stubFailed=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const w=this.constructor;if(o?.universe_domain&&o?.universeDomain&&o?.universe_domain!==o?.universeDomain)throw new Error("Please set either universe_domain or universeDomain, but not both.");const I=typeof process=="object"&&typeof e=="object"?e.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(b=(v=(h=o?.universeDomain)!==null&&h!==void 0?h:o?.universe_domain)!==null&&v!==void 0?v:I)!==null&&b!==void 0?b:"googleapis.com",this._servicePath="firestore."+this._universeDomain;const _=o?.servicePath||o?.apiEndpoint||this._servicePath;this._providedCustomServicePath=!!(o?.servicePath||o?.apiEndpoint);const T=o?.port||w.port,C=(y=o?.clientConfig)!==null&&y!==void 0?y:{},N=(O=o?.fallback)!==null&&O!==void 0?O:typeof window<"u"&&typeof window?.fetch=="function";o=Object.assign({servicePath:_,port:T,clientConfig:C,fallback:N},o),o.numericEnums=!0,_!==this._servicePath&&!("scopes"in o)&&(o.scopes=w.scopes),s||(s=requireFallback()),this._gaxModule=o.fallback?s.fallback:s,this._gaxGrpc=new this._gaxModule.GrpcClient(o),this._opts=o,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,_===this._servicePath&&(this.auth.defaultScopes=w.scopes),this.locationsClient=new this._gaxModule.LocationsClient(this._gaxGrpc,o);const L=[`gax/${this._gaxModule.version}`,`gapic/${m}`];typeof process=="object"&&"versions"in process?L.push(`gl-node/${process.versions.node}`):L.push(`gl-web/${this._gaxModule.version}`),o.fallback?L.push(`rest/${this._gaxGrpc.grpcVersion}`):L.push(`grpc/${this._gaxGrpc.grpcVersion}`),o.libName&&o.libVersion&&L.push(`${o.libName}/${o.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(a),this.descriptors.page={listDocuments:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","documents"),partitionQuery:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","partitions"),listCollectionIds:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","collectionIds")},this.descriptors.stream={batchGetDocuments:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!o.fallback,!!o.gaxServerStreamingRetries),runQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!o.fallback,!!o.gaxServerStreamingRetries),runAggregationQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!o.fallback,!!o.gaxServerStreamingRetries),write:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!o.fallback,!!o.gaxServerStreamingRetries),listen:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!o.fallback,!!o.gaxServerStreamingRetries)},this._defaults=this._gaxGrpc.constructSettings("google.firestore.v1.Firestore",g,o.clientConfig||{},{"x-goog-api-client":L.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreStub&&!this._stubFailed)return this.firestoreStub;this._stubFailed=!1,this.firestoreStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.v1.Firestore"):this._protos.google.firestore.v1.Firestore,this._opts,this._providedCustomServicePath);const o=["getDocument","listDocuments","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","runAggregationQuery","partitionQuery","write","listen","listCollectionIds","batchWrite","createDocument"];for(const s of o){const h=this.firestoreStub.then(y=>(...O)=>{if(this._terminated){if(s in this.descriptors.stream){const I=new t.PassThrough({objectMode:!0});return setImmediate(()=>{I.emit("error",new this._gaxModule.GoogleError("The client has already been closed."))}),I}return Promise.reject("The client has already been closed.")}return y[s].apply(y,O)},y=>(this._stubFailed=!0,(0,p.logger)("initialize",null,"Failed to create the gax client stub.",y),()=>{throw y})),v=this.descriptors.page[s]||this.descriptors.stream[s]||void 0,b=this._gaxModule.createApiCall(h,this._defaults[s],v,this._opts.fallback);this.innerApiCalls[s]=b}return this.firestoreStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(o){if(o){this.auth.getProjectId(o);return}return this.auth.getProjectId()}getDocument(o,s,h){var v;o=o||{};let b;return typeof s=="function"&&h===void 0?(h=s,b={}):b=s,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(v=o.name)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.getDocument(o,b,h)}updateDocument(o,s,h){var v;o=o||{};let b;return typeof s=="function"&&h===void 0?(h=s,b={}):b=s,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"document.name":(v=o.document.name)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.updateDocument(o,b,h)}deleteDocument(o,s,h){var v;o=o||{};let b;return typeof s=="function"&&h===void 0?(h=s,b={}):b=s,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(v=o.name)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.deleteDocument(o,b,h)}beginTransaction(o,s,h){var v;o=o||{};let b;return typeof s=="function"&&h===void 0?(h=s,b={}):b=s,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(v=o.database)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.beginTransaction(o,b,h)}commit(o,s,h){var v;o=o||{};let b;return typeof s=="function"&&h===void 0?(h=s,b={}):b=s,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(v=o.database)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.commit(o,b,h)}rollback(o,s,h){var v;o=o||{};let b;return typeof s=="function"&&h===void 0?(h=s,b={}):b=s,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(v=o.database)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.rollback(o,b,h)}batchWrite(o,s,h){var v;o=o||{};let b;return typeof s=="function"&&h===void 0?(h=s,b={}):b=s,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(v=o.database)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.batchWrite(o,b,h)}createDocument(o,s,h){var v,b;o=o||{};let y;return typeof s=="function"&&h===void 0?(h=s,y={}):y=s,y=y||{},y.otherArgs=y.otherArgs||{},y.otherArgs.headers=y.otherArgs.headers||{},y.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(v=o.parent)!==null&&v!==void 0?v:"",collection_id:(b=o.collectionId)!==null&&b!==void 0?b:""}),this.initialize(),this.innerApiCalls.createDocument(o,y,h)}batchGetDocuments(o,s){var h;return o=o||{},s=s||{},s.otherArgs=s.otherArgs||{},s.otherArgs.headers=s.otherArgs.headers||{},s.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(h=o.database)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.batchGetDocuments(o,s)}runQuery(o,s){var h;return o=o||{},s=s||{},s.otherArgs=s.otherArgs||{},s.otherArgs.headers=s.otherArgs.headers||{},s.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=o.parent)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.runQuery(o,s)}runAggregationQuery(o,s){var h;return o=o||{},s=s||{},s.otherArgs=s.otherArgs||{},s.otherArgs.headers=s.otherArgs.headers||{},s.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=o.parent)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.runAggregationQuery(o,s)}write(o){return this.initialize(),this.innerApiCalls.write(null,o)}listen(o){return this.initialize(),this.innerApiCalls.listen(null,o)}listDocuments(o,s,h){var v,b;o=o||{};let y;return typeof s=="function"&&h===void 0?(h=s,y={}):y=s,y=y||{},y.otherArgs=y.otherArgs||{},y.otherArgs.headers=y.otherArgs.headers||{},y.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(v=o.parent)!==null&&v!==void 0?v:"",collection_id:(b=o.collectionId)!==null&&b!==void 0?b:""}),this.initialize(),this.innerApiCalls.listDocuments(o,y,h)}listDocumentsStream(o,s){var h,v;o=o||{},s=s||{},s.otherArgs=s.otherArgs||{},s.otherArgs.headers=s.otherArgs.headers||{},s.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=o.parent)!==null&&h!==void 0?h:"",collection_id:(v=o.collectionId)!==null&&v!==void 0?v:""});const y=this._defaults.listDocuments.merge(s);return this.initialize(),this.descriptors.page.listDocuments.createStream(this.innerApiCalls.listDocuments,o,y)}listDocumentsAsync(o,s){var h,v;o=o||{},s=s||{},s.otherArgs=s.otherArgs||{},s.otherArgs.headers=s.otherArgs.headers||{},s.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=o.parent)!==null&&h!==void 0?h:"",collection_id:(v=o.collectionId)!==null&&v!==void 0?v:""});const y=this._defaults.listDocuments.merge(s);return this.initialize(),this.descriptors.page.listDocuments.asyncIterate(this.innerApiCalls.listDocuments,o,y)}partitionQuery(o,s,h){var v;o=o||{};let b;return typeof s=="function"&&h===void 0?(h=s,b={}):b=s,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(v=o.parent)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.partitionQuery(o,b,h)}partitionQueryStream(o,s){var h;o=o||{},s=s||{},s.otherArgs=s.otherArgs||{},s.otherArgs.headers=s.otherArgs.headers||{},s.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=o.parent)!==null&&h!==void 0?h:""});const b=this._defaults.partitionQuery.merge(s);return this.initialize(),this.descriptors.page.partitionQuery.createStream(this.innerApiCalls.partitionQuery,o,b)}partitionQueryAsync(o,s){var h;o=o||{},s=s||{},s.otherArgs=s.otherArgs||{},s.otherArgs.headers=s.otherArgs.headers||{},s.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=o.parent)!==null&&h!==void 0?h:""});const b=this._defaults.partitionQuery.merge(s);return this.initialize(),this.descriptors.page.partitionQuery.asyncIterate(this.innerApiCalls.partitionQuery,o,b)}listCollectionIds(o,s,h){var v;o=o||{};let b;return typeof s=="function"&&h===void 0?(h=s,b={}):b=s,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(v=o.parent)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.listCollectionIds(o,b,h)}listCollectionIdsStream(o,s){var h;o=o||{},s=s||{},s.otherArgs=s.otherArgs||{},s.otherArgs.headers=s.otherArgs.headers||{},s.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=o.parent)!==null&&h!==void 0?h:""});const b=this._defaults.listCollectionIds.merge(s);return this.initialize(),this.descriptors.page.listCollectionIds.createStream(this.innerApiCalls.listCollectionIds,o,b)}listCollectionIdsAsync(o,s){var h;o=o||{},s=s||{},s.otherArgs=s.otherArgs||{},s.otherArgs.headers=s.otherArgs.headers||{},s.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=o.parent)!==null&&h!==void 0?h:""});const b=this._defaults.listCollectionIds.merge(s);return this.initialize(),this.descriptors.page.listCollectionIds.asyncIterate(this.innerApiCalls.listCollectionIds,o,b)}getLocation(o,s,h){return this.locationsClient.getLocation(o,s,h)}listLocationsAsync(o,s){return this.locationsClient.listLocationsAsync(o,s)}close(){return this.firestoreStub&&!this._terminated?this.firestoreStub.then(o=>{this._terminated=!0,o.close(),this.locationsClient.close()}):Promise.resolve()}}return firestore_client$1.FirestoreClient=c,firestore_client$1}var hasRequiredV1;function requireV1(){return hasRequiredV1||(hasRequiredV1=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FirestoreAdminClient=t.FirestoreClient=void 0;const a=requireFirestore_admin_client();Object.defineProperty(t,"FirestoreAdminClient",{enumerable:!0,get:function(){return a.FirestoreAdminClient}});const p=requireFirestore_client$1();Object.defineProperty(t,"FirestoreClient",{enumerable:!0,get:function(){return p.FirestoreClient}});const g=e.exports;e.exports=p.FirestoreClient,e.exports=Object.assign(e.exports,g)})(v1,v1.exports)),v1.exports}var hasRequiredEnabledTraceUtil;function requireEnabledTraceUtil(){if(hasRequiredEnabledTraceUtil)return enabledTraceUtil;hasRequiredEnabledTraceUtil=1,Object.defineProperty(enabledTraceUtil,"__esModule",{value:!0}),enabledTraceUtil.EnabledTraceUtil=void 0;const e=require$$0$1,t=requireSpan(),a=requireTraceUtil(),p=require$$19,g=requireV1(),m=requirePath(),c=requireSrc(),l=p.interfaces["google.firestore.v1.Firestore"];class o{constructor(h){var v,b,y,O,w,I,_,T,C,N,L,D,j,k,V,G;let J=(v=h.openTelemetry)===null||v===void 0?void 0:v.tracerProvider;if(!J){const{trace:le}=require$$0$1;J=le.getTracerProvider()}this.tracerProvider=J;const W=require$$33.version,K=require$$33.name;try{this.tracer=this.tracerProvider.getTracer(K,W)}catch{throw new Error("The object provided for 'tracerProvider' does not conform to the TracerProvider interface.")}this.settingsAttributes={},this.settingsAttributes["otel.scope.name"]=K,this.settingsAttributes["otel.scope.version"]=W,h.projectId&&(this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.project_id`]=h.projectId),this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.database_id`]=h.databaseId||m.DEFAULT_DATABASE_ID;const X=(y=(b=h.servicePath)!==null&&b!==void 0?b:h.host)!==null&&y!==void 0?y:"firestore.googleapis.com",Y=(O=h.port)!==null&&O!==void 0?O:g.FirestoreClient.port;this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.host`]=`${X}:${Y}`,h.preferRest!==void 0&&(this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.prefer_REST`]=h.preferRest),this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.max_idle_channels`]=(w=h.maxIdleChannels)!==null&&w!==void 0?w:c.DEFAULT_MAX_IDLE_CHANNELS;const te=l.retry_params.default,oe=(C=(T=(_=(I=h.clientConfig)===null||I===void 0?void 0:I.interfaces)===null||_===void 0?void 0:_["google.firestore.v1.Firestore"])===null||T===void 0?void 0:T.retry_params)===null||C===void 0?void 0:C.default;this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.initial_retry_delay`]=this.millisToSecondString((N=oe?.initial_retry_delay_millis)!==null&&N!==void 0?N:te.initial_retry_delay_millis),this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.initial_rpc_timeout`]=this.millisToSecondString((L=oe?.initial_rpc_timeout_millis)!==null&&L!==void 0?L:te.initial_rpc_timeout_millis),this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.total_timeout`]=this.millisToSecondString((D=oe?.total_timeout_millis)!==null&&D!==void 0?D:te.total_timeout_millis),this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.max_retry_delay`]=this.millisToSecondString((j=oe?.max_retry_delay_millis)!==null&&j!==void 0?j:te.max_retry_delay_millis),this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.max_rpc_timeout`]=this.millisToSecondString((k=oe?.max_rpc_timeout_millis)!==null&&k!==void 0?k:te.max_rpc_timeout_millis),this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.retry_delay_multiplier`]=(V=oe?.retry_delay_multiplier.toString())!==null&&V!==void 0?V:te.retry_delay_multiplier.toString(),this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.rpc_timeout_multiplier`]=(G=oe?.rpc_timeout_multiplier.toString())!==null&&G!==void 0?G:te.rpc_timeout_multiplier.toString()}recordProjectId(h){this.settingsAttributes[`${a.ATTRIBUTE_SETTINGS_PREFIX}.project_id`]=h,this.currentSpan().setAttributes(this.settingsAttributes)}millisToSecondString(h){return`${h/1e3}s`}endSpan(h,v){h.setStatus({code:e.SpanStatusCode.ERROR,message:v.message}),h.recordException(v),h.end()}startActiveSpan(h,v,b){return this.tracer.startActiveSpan(h,{attributes:b},y=>{this.addCommonAttributes(y);try{let O=v(new t.Span(y));return O instanceof Promise?O=O.then(w=>(y.end(),w)).catch(w=>(this.endSpan(y,w),Promise.reject(w))):y.end(),O}catch(O){throw this.endSpan(y,O),O}})}startSpan(h){const v=this.tracer.startSpan(h,void 0,e.context.active());return this.addCommonAttributes(v),new t.Span(v)}currentSpan(){return new t.Span(e.trace.getActiveSpan())}addCommonAttributes(h){h.setAttributes(this.settingsAttributes)}}return enabledTraceUtil.EnabledTraceUtil=o,enabledTraceUtil}var v1beta1={exports:{}},firestore_client={};const options={syntax:"proto3"},nested=JSON.parse('{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"Timestamp":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"Edition":{"values":{"EDITION_UNKNOWN":0,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"unverifiedLazy":{"type":"bool","id":15,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"debugRedact":{"type":"bool","id":16,"options":{"default":false}},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19,"options":{"packed":false}},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}}}},"OneofOptions":{"fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},"extensions":[[1000,1000],[1001,1001],[1002,1002],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}}}},"FeatureSetDefaults":{"fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"features":{"type":"FeatureSet","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"DoubleValue":{"fields":{"value":{"type":"double","id":1}}},"FloatValue":{"fields":{"value":{"type":"float","id":1}}},"Int64Value":{"fields":{"value":{"type":"int64","id":1}}},"UInt64Value":{"fields":{"value":{"type":"uint64","id":1}}},"Int32Value":{"fields":{"value":{"type":"int32","id":1}}},"UInt32Value":{"fields":{"value":{"type":"uint32","id":1}}},"BoolValue":{"fields":{"value":{"type":"bool","id":1}}},"StringValue":{"fields":{"value":{"type":"string","id":1}}},"BytesValue":{"fields":{"value":{"type":"bytes","id":1}}},"Empty":{"fields":{}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"FieldMask":{"fields":{"paths":{"rule":"repeated","type":"string","id":1}}}}},"firestore":{"nested":{"v1beta1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.V1Beta1","go_package":"cloud.google.com/go/firestore/apiv1beta1/firestorepb;firestorepb","java_multiple_files":true,"java_outer_classname":"UndeliverableFirstGenEventProto","java_package":"com.google.firestore.v1beta1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\V1beta1","ruby_package":"Google::Cloud::Firestore::V1beta1"},"nested":{"DocumentMask":{"fields":{"fieldPaths":{"rule":"repeated","type":"string","id":1}}},"Precondition":{"oneofs":{"conditionType":{"oneof":["exists","updateTime"]}},"fields":{"exists":{"type":"bool","id":1},"updateTime":{"type":"google.protobuf.Timestamp","id":2}}},"TransactionOptions":{"oneofs":{"mode":{"oneof":["readOnly","readWrite"]}},"fields":{"readOnly":{"type":"ReadOnly","id":2},"readWrite":{"type":"ReadWrite","id":3}},"nested":{"ReadWrite":{"fields":{"retryTransaction":{"type":"bytes","id":1}}},"ReadOnly":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"readTime":{"type":"google.protobuf.Timestamp","id":2}}}}},"Document":{"fields":{"name":{"type":"string","id":1},"fields":{"keyType":"string","type":"Value","id":2},"createTime":{"type":"google.protobuf.Timestamp","id":3},"updateTime":{"type":"google.protobuf.Timestamp","id":4}}},"Value":{"oneofs":{"valueType":{"oneof":["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},"fields":{"nullValue":{"type":"google.protobuf.NullValue","id":11},"booleanValue":{"type":"bool","id":1},"integerValue":{"type":"int64","id":2},"doubleValue":{"type":"double","id":3},"timestampValue":{"type":"google.protobuf.Timestamp","id":10},"stringValue":{"type":"string","id":17},"bytesValue":{"type":"bytes","id":18},"referenceValue":{"type":"string","id":5},"geoPointValue":{"type":"google.type.LatLng","id":8},"arrayValue":{"type":"ArrayValue","id":9},"mapValue":{"type":"MapValue","id":6}}},"ArrayValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"MapValue":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Firestore":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"GetDocument":{"requestType":"GetDocumentRequest","responseType":"Document","options":{"(google.api.http).get":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"}}]},"ListDocuments":{"requestType":"ListDocumentsRequest","responseType":"ListDocumentsResponse","options":{"(google.api.http).get":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},"UpdateDocument":{"requestType":"UpdateDocumentRequest","responseType":"Document","options":{"(google.api.http).patch":"/v1beta1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1beta1/{document.name=projects/*/databases/*/documents/*/**}","body":"document"}},{"(google.api.method_signature)":"document,update_mask"}]},"DeleteDocument":{"requestType":"DeleteDocumentRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1beta1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},"BatchGetDocuments":{"requestType":"BatchGetDocumentsRequest","responseType":"BatchGetDocumentsResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:batchGet","body":"*"}}]},"BeginTransaction":{"requestType":"BeginTransactionRequest","responseType":"BeginTransactionResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:beginTransaction","body":"*"}},{"(google.api.method_signature)":"database"}]},"Commit":{"requestType":"CommitRequest","responseType":"CommitResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:commit","body":"*"}},{"(google.api.method_signature)":"database,writes"}]},"Rollback":{"requestType":"RollbackRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:rollback","body":"*"}},{"(google.api.method_signature)":"database,transaction"}]},"RunQuery":{"requestType":"RunQueryRequest","responseType":"RunQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:runQuery","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:runQuery","body":"*"}}}]},"PartitionQuery":{"requestType":"PartitionQueryRequest","responseType":"PartitionQueryResponse","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:partitionQuery","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","body":"*"}}}]},"Write":{"requestType":"WriteRequest","requestStream":true,"responseType":"WriteResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:write","body":"*"}}]},"Listen":{"requestType":"ListenRequest","requestStream":true,"responseType":"ListenResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:listen","body":"*"}}]},"ListCollectionIds":{"requestType":"ListCollectionIdsRequest","responseType":"ListCollectionIdsResponse","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:listCollectionIds","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","body":"*"}}},{"(google.api.method_signature)":"parent"}]},"BatchWrite":{"requestType":"BatchWriteRequest","responseType":"BatchWriteResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:batchWrite","body":"*"}}]},"CreateDocument":{"requestType":"CreateDocumentRequest","responseType":"Document","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/**}/{collection_id}","body":"document"}}]}}},"GetDocumentRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":5}}},"ListDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4},"orderBy":{"type":"string","id":6},"mask":{"type":"DocumentMask","id":7},"transaction":{"type":"bytes","id":8},"readTime":{"type":"google.protobuf.Timestamp","id":10},"showMissing":{"type":"bool","id":12}}},"ListDocumentsResponse":{"fields":{"documents":{"rule":"repeated","type":"Document","id":1},"nextPageToken":{"type":"string","id":2}}},"CreateDocumentRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documentId":{"type":"string","id":3},"document":{"type":"Document","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":5}}},"UpdateDocumentRequest":{"fields":{"document":{"type":"Document","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"DocumentMask","id":2},"mask":{"type":"DocumentMask","id":3},"currentDocument":{"type":"Precondition","id":4}}},"DeleteDocumentRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"currentDocument":{"type":"Precondition","id":2}}},"BatchGetDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documents":{"rule":"repeated","type":"string","id":2},"mask":{"type":"DocumentMask","id":3},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"BatchGetDocumentsResponse":{"oneofs":{"result":{"oneof":["found","missing"]}},"fields":{"found":{"type":"Document","id":1},"missing":{"type":"string","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"BeginTransactionRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"options":{"type":"TransactionOptions","id":2}}},"BeginTransactionResponse":{"fields":{"transaction":{"type":"bytes","id":1}}},"CommitRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"transaction":{"type":"bytes","id":3}}},"CommitResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"commitTime":{"type":"google.protobuf.Timestamp","id":2}}},"RollbackRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"transaction":{"type":"bytes","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"RunQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"transaction":{"type":"bytes","id":5},"newTransaction":{"type":"TransactionOptions","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"RunQueryResponse":{"fields":{"transaction":{"type":"bytes","id":2},"document":{"type":"Document","id":1},"readTime":{"type":"google.protobuf.Timestamp","id":3},"skippedResults":{"type":"int32","id":4}}},"PartitionQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"partitionCount":{"type":"int64","id":3},"pageToken":{"type":"string","id":4},"pageSize":{"type":"int32","id":5}}},"PartitionQueryResponse":{"fields":{"partitions":{"rule":"repeated","type":"Cursor","id":1},"nextPageToken":{"type":"string","id":2}}},"WriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"streamId":{"type":"string","id":2},"writes":{"rule":"repeated","type":"Write","id":3},"streamToken":{"type":"bytes","id":4},"labels":{"keyType":"string","type":"string","id":5}}},"WriteResponse":{"fields":{"streamId":{"type":"string","id":1},"streamToken":{"type":"bytes","id":2},"writeResults":{"rule":"repeated","type":"WriteResult","id":3},"commitTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListenRequest":{"oneofs":{"targetChange":{"oneof":["addTarget","removeTarget"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"addTarget":{"type":"Target","id":2},"removeTarget":{"type":"int32","id":3},"labels":{"keyType":"string","type":"string","id":4}}},"ListenResponse":{"oneofs":{"responseType":{"oneof":["targetChange","documentChange","documentDelete","documentRemove","filter"]}},"fields":{"targetChange":{"type":"TargetChange","id":2},"documentChange":{"type":"DocumentChange","id":3},"documentDelete":{"type":"DocumentDelete","id":4},"documentRemove":{"type":"DocumentRemove","id":6},"filter":{"type":"ExistenceFilter","id":5}}},"Target":{"oneofs":{"targetType":{"oneof":["query","documents"]},"resumeType":{"oneof":["resumeToken","readTime"]}},"fields":{"query":{"type":"QueryTarget","id":2},"documents":{"type":"DocumentsTarget","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":11},"targetId":{"type":"int32","id":5},"once":{"type":"bool","id":6}},"nested":{"DocumentsTarget":{"fields":{"documents":{"rule":"repeated","type":"string","id":2}}},"QueryTarget":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1},"structuredQuery":{"type":"StructuredQuery","id":2}}}}},"TargetChange":{"fields":{"targetChangeType":{"type":"TargetChangeType","id":1},"targetIds":{"rule":"repeated","type":"int32","id":2},"cause":{"type":"google.rpc.Status","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"TargetChangeType":{"values":{"NO_CHANGE":0,"ADD":1,"REMOVE":2,"CURRENT":3,"RESET":4}}}},"ListCollectionIdsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListCollectionIdsResponse":{"fields":{"collectionIds":{"rule":"repeated","type":"string","id":1},"nextPageToken":{"type":"string","id":2}}},"BatchWriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"labels":{"keyType":"string","type":"string","id":3}}},"BatchWriteResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"status":{"rule":"repeated","type":"google.rpc.Status","id":2}}},"StructuredQuery":{"fields":{"select":{"type":"Projection","id":1},"from":{"rule":"repeated","type":"CollectionSelector","id":2},"where":{"type":"Filter","id":3},"orderBy":{"rule":"repeated","type":"Order","id":4},"startAt":{"type":"Cursor","id":7},"endAt":{"type":"Cursor","id":8},"offset":{"type":"int32","id":6},"limit":{"type":"google.protobuf.Int32Value","id":5}},"nested":{"CollectionSelector":{"fields":{"collectionId":{"type":"string","id":2},"allDescendants":{"type":"bool","id":3}}},"Filter":{"oneofs":{"filterType":{"oneof":["compositeFilter","fieldFilter","unaryFilter"]}},"fields":{"compositeFilter":{"type":"CompositeFilter","id":1},"fieldFilter":{"type":"FieldFilter","id":2},"unaryFilter":{"type":"UnaryFilter","id":3}}},"CompositeFilter":{"fields":{"op":{"type":"Operator","id":1},"filters":{"rule":"repeated","type":"Filter","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"AND":1}}}},"FieldFilter":{"fields":{"field":{"type":"FieldReference","id":1},"op":{"type":"Operator","id":2},"value":{"type":"Value","id":3}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"LESS_THAN":1,"LESS_THAN_OR_EQUAL":2,"GREATER_THAN":3,"GREATER_THAN_OR_EQUAL":4,"EQUAL":5,"NOT_EQUAL":6,"ARRAY_CONTAINS":7,"IN":8,"ARRAY_CONTAINS_ANY":9,"NOT_IN":10}}}},"UnaryFilter":{"oneofs":{"operandType":{"oneof":["field"]}},"fields":{"op":{"type":"Operator","id":1},"field":{"type":"FieldReference","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"IS_NAN":2,"IS_NULL":3,"IS_NOT_NAN":4,"IS_NOT_NULL":5}}}},"FieldReference":{"fields":{"fieldPath":{"type":"string","id":2}}},"Order":{"fields":{"field":{"type":"FieldReference","id":1},"direction":{"type":"Direction","id":2}}},"Projection":{"fields":{"fields":{"rule":"repeated","type":"FieldReference","id":2}}},"Direction":{"values":{"DIRECTION_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}}}},"Cursor":{"fields":{"values":{"rule":"repeated","type":"Value","id":1},"before":{"type":"bool","id":2}}},"Write":{"oneofs":{"operation":{"oneof":["update","delete","transform"]}},"fields":{"update":{"type":"Document","id":1},"delete":{"type":"string","id":2},"transform":{"type":"DocumentTransform","id":6},"updateMask":{"type":"DocumentMask","id":3},"updateTransforms":{"rule":"repeated","type":"DocumentTransform.FieldTransform","id":7},"currentDocument":{"type":"Precondition","id":4}}},"DocumentTransform":{"fields":{"document":{"type":"string","id":1},"fieldTransforms":{"rule":"repeated","type":"FieldTransform","id":2}},"nested":{"FieldTransform":{"oneofs":{"transformType":{"oneof":["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},"fields":{"fieldPath":{"type":"string","id":1},"setToServerValue":{"type":"ServerValue","id":2},"increment":{"type":"Value","id":3},"maximum":{"type":"Value","id":4},"minimum":{"type":"Value","id":5},"appendMissingElements":{"type":"ArrayValue","id":6},"removeAllFromArray":{"type":"ArrayValue","id":7}},"nested":{"ServerValue":{"values":{"SERVER_VALUE_UNSPECIFIED":0,"REQUEST_TIME":1}}}}}},"WriteResult":{"fields":{"updateTime":{"type":"google.protobuf.Timestamp","id":1},"transformResults":{"rule":"repeated","type":"Value","id":2}}},"DocumentChange":{"fields":{"document":{"type":"Document","id":1},"targetIds":{"rule":"repeated","type":"int32","id":5},"removedTargetIds":{"rule":"repeated","type":"int32","id":6}}},"DocumentDelete":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"DocumentRemove":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ExistenceFilter":{"fields":{"targetId":{"type":"int32","id":1},"count":{"type":"int32","id":2}}},"UndeliverableFirstGenEvent":{"fields":{"message":{"type":"string","id":1},"reason":{"type":"Reason","id":2},"documentName":{"type":"string","id":3},"documentChangeType":{"type":"DocumentChangeType","id":4},"functionName":{"rule":"repeated","type":"string","id":5},"triggeredTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"Reason":{"values":{"REASON_UNSPECIFIED":0,"EXCEEDING_SIZE_LIMIT":1}},"DocumentChangeType":{"values":{"DOCUMENT_CHANGE_TYPE_UNSPECIFIED":0,"CREATE":1,"DELETE":2,"UPDATE":3}}}}}}}},"type":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/type/dayofweek;dayofweek","java_multiple_files":true,"java_outer_classname":"DayOfWeekProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"LatLng":{"fields":{"latitude":{"type":"double","id":1},"longitude":{"type":"double","id":2}}},"DayOfWeek":{"values":{"DAY_OF_WEEK_UNSPECIFIED":0,"MONDAY":1,"TUESDAY":2,"WEDNESDAY":3,"THURSDAY":4,"FRIDAY":5,"SATURDAY":6,"SUNDAY":7}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"apiVersion":{"type":"string","id":525000001,"extend":"google.protobuf.ServiceOptions"},"CommonLanguageSettings":{"fields":{"referenceDocsUri":{"type":"string","id":1,"options":{"deprecated":true}},"destinations":{"rule":"repeated","type":"ClientLibraryDestination","id":2},"selectiveGapicGeneration":{"type":"SelectiveGapicGeneration","id":3}}},"ClientLibrarySettings":{"fields":{"version":{"type":"string","id":1},"launchStage":{"type":"LaunchStage","id":2},"restNumericEnums":{"type":"bool","id":3},"javaSettings":{"type":"JavaSettings","id":21},"cppSettings":{"type":"CppSettings","id":22},"phpSettings":{"type":"PhpSettings","id":23},"pythonSettings":{"type":"PythonSettings","id":24},"nodeSettings":{"type":"NodeSettings","id":25},"dotnetSettings":{"type":"DotnetSettings","id":26},"rubySettings":{"type":"RubySettings","id":27},"goSettings":{"type":"GoSettings","id":28}}},"Publishing":{"fields":{"methodSettings":{"rule":"repeated","type":"MethodSettings","id":2},"newIssueUri":{"type":"string","id":101},"documentationUri":{"type":"string","id":102},"apiShortName":{"type":"string","id":103},"githubLabel":{"type":"string","id":104},"codeownerGithubTeams":{"rule":"repeated","type":"string","id":105},"docTagPrefix":{"type":"string","id":106},"organization":{"type":"ClientLibraryOrganization","id":107},"librarySettings":{"rule":"repeated","type":"ClientLibrarySettings","id":109},"protoReferenceDocumentationUri":{"type":"string","id":110},"restReferenceDocumentationUri":{"type":"string","id":111}}},"JavaSettings":{"fields":{"libraryPackage":{"type":"string","id":1},"serviceClassNames":{"keyType":"string","type":"string","id":2},"common":{"type":"CommonLanguageSettings","id":3}}},"CppSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PhpSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PythonSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"experimentalFeatures":{"type":"ExperimentalFeatures","id":2}},"nested":{"ExperimentalFeatures":{"fields":{"restAsyncIoEnabled":{"type":"bool","id":1},"protobufPythonicTypesEnabled":{"type":"bool","id":2}}}}},"NodeSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"DotnetSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2},"renamedResources":{"keyType":"string","type":"string","id":3},"ignoredResources":{"rule":"repeated","type":"string","id":4},"forcedNamespaceAliases":{"rule":"repeated","type":"string","id":5},"handwrittenSignatures":{"rule":"repeated","type":"string","id":6}}},"RubySettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"GoSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2}}},"MethodSettings":{"fields":{"selector":{"type":"string","id":1},"longRunning":{"type":"LongRunning","id":2},"autoPopulatedFields":{"rule":"repeated","type":"string","id":3}},"nested":{"LongRunning":{"fields":{"initialPollDelay":{"type":"google.protobuf.Duration","id":1},"pollDelayMultiplier":{"type":"float","id":2},"maxPollDelay":{"type":"google.protobuf.Duration","id":3},"totalPollTimeout":{"type":"google.protobuf.Duration","id":4}}}}},"ClientLibraryOrganization":{"values":{"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,"CLOUD":1,"ADS":2,"PHOTOS":3,"STREET_VIEW":4,"SHOPPING":5,"GEO":6,"GENERATIVE_AI":7}},"ClientLibraryDestination":{"values":{"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":0,"GITHUB":10,"PACKAGE_MANAGER":20}},"SelectiveGapicGeneration":{"fields":{"methods":{"rule":"repeated","type":"string","id":1},"generateOmittedAsInternal":{"type":"bool","id":2}}},"LaunchStage":{"values":{"LAUNCH_STAGE_UNSPECIFIED":0,"UNIMPLEMENTED":6,"PRELAUNCH":7,"EARLY_ACCESS":1,"ALPHA":2,"BETA":3,"GA":4,"DEPRECATED":5}},"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions","options":{"packed":false}},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5,"UNORDERED_LIST":6,"NON_EMPTY_DEFAULT":7,"IDENTIFIER":8}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6},"style":{"rule":"repeated","type":"Style","id":10}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}},"Style":{"values":{"STYLE_UNSPECIFIED":0,"DECLARATIVE_FRIENDLY":1}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}'),require$$1={options,nested},interfaces={"google.firestore.v1beta1.Firestore":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{GetDocument:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListDocuments:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},UpdateDocument:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteDocument:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},BatchGetDocuments:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"default"},BeginTransaction:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},Commit:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},Rollback:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},RunQuery:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"default"},PartitionQuery:{retry_codes_name:"non_idempotent",retry_params_name:"default"},Write:{timeout_millis:864e5,retry_codes_name:"non_idempotent",retry_params_name:"default"},Listen:{timeout_millis:864e5,retry_codes_name:"idempotent",retry_params_name:"default"},ListCollectionIds:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},BatchWrite:{retry_codes_name:"non_idempotent",retry_params_name:"default"},CreateDocument:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$2={interfaces};var hasRequiredFirestore_client;function requireFirestore_client(){if(hasRequiredFirestore_client)return firestore_client;hasRequiredFirestore_client=1;var e={};Object.defineProperty(firestore_client,"__esModule",{value:!0}),firestore_client.FirestoreClient=void 0;const t=require$$1$3,a=require$$1,p=require$$2,g=require$$33.version;class m{constructor(l,o){var s,h,v,b,y;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const O=this.constructor;if(l?.universe_domain&&l?.universeDomain&&l?.universe_domain!==l?.universeDomain)throw new Error("Please set either universe_domain or universeDomain, but not both.");const w=typeof process=="object"&&typeof e=="object"?e.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(v=(h=(s=l?.universeDomain)!==null&&s!==void 0?s:l?.universe_domain)!==null&&h!==void 0?h:w)!==null&&v!==void 0?v:"googleapis.com",this._servicePath="firestore."+this._universeDomain;const I=l?.servicePath||l?.apiEndpoint||this._servicePath;this._providedCustomServicePath=!!(l?.servicePath||l?.apiEndpoint);const _=l?.port||O.port,T=(b=l?.clientConfig)!==null&&b!==void 0?b:{},C=(y=l?.fallback)!==null&&y!==void 0?y:typeof window<"u"&&typeof window?.fetch=="function";l=Object.assign({servicePath:I,port:_,clientConfig:T,fallback:C},l),l.numericEnums=!0,I!==this._servicePath&&!("scopes"in l)&&(l.scopes=O.scopes),o||(o=requireFallback()),this._gaxModule=l.fallback?o.fallback:o,this._gaxGrpc=new this._gaxModule.GrpcClient(l),this._opts=l,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,I===this._servicePath&&(this.auth.defaultScopes=O.scopes);const N=[`gax/${this._gaxModule.version}`,`gapic/${g}`];typeof process=="object"&&"versions"in process?N.push(`gl-node/${process.versions.node}`):N.push(`gl-web/${this._gaxModule.version}`),l.fallback?N.push(`rest/${this._gaxGrpc.grpcVersion}`):N.push(`grpc/${this._gaxGrpc.grpcVersion}`),l.libName&&l.libVersion&&N.push(`${l.libName}/${l.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(a),this.descriptors.page={listDocuments:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","documents"),partitionQuery:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","partitions"),listCollectionIds:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","collectionIds")},this.descriptors.stream={batchGetDocuments:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!l.fallback,!!l.gaxServerStreamingRetries),runQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!l.fallback,!!l.gaxServerStreamingRetries),write:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!l.fallback,!!l.gaxServerStreamingRetries),listen:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!l.fallback,!!l.gaxServerStreamingRetries)},this._defaults=this._gaxGrpc.constructSettings("google.firestore.v1beta1.Firestore",p,l.clientConfig||{},{"x-goog-api-client":N.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreStub)return this.firestoreStub;this.firestoreStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.v1beta1.Firestore"):this._protos.google.firestore.v1beta1.Firestore,this._opts,this._providedCustomServicePath);const l=["getDocument","listDocuments","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","partitionQuery","write","listen","listCollectionIds","batchWrite","createDocument"];for(const o of l){const s=this.firestoreStub.then(b=>(...y)=>{if(this._terminated){if(o in this.descriptors.stream){const w=new t.PassThrough({objectMode:!0});return setImmediate(()=>{w.emit("error",new this._gaxModule.GoogleError("The client has already been closed."))}),w}return Promise.reject("The client has already been closed.")}return b[o].apply(b,y)},b=>()=>{throw b}),h=this.descriptors.page[o]||this.descriptors.stream[o]||void 0,v=this._gaxModule.createApiCall(s,this._defaults[o],h,this._opts.fallback);this.innerApiCalls[o]=v}return this.firestoreStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(l){if(l){this.auth.getProjectId(l);return}return this.auth.getProjectId()}getDocument(l,o,s){var h;l=l||{};let v;return typeof o=="function"&&s===void 0?(s=o,v={}):v=o,v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(h=l.name)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.getDocument(l,v,s)}updateDocument(l,o,s){var h;l=l||{};let v;return typeof o=="function"&&s===void 0?(s=o,v={}):v=o,v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"document.name":(h=l.document.name)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.updateDocument(l,v,s)}deleteDocument(l,o,s){var h;l=l||{};let v;return typeof o=="function"&&s===void 0?(s=o,v={}):v=o,v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(h=l.name)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.deleteDocument(l,v,s)}beginTransaction(l,o,s){var h;l=l||{};let v;return typeof o=="function"&&s===void 0?(s=o,v={}):v=o,v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(h=l.database)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.beginTransaction(l,v,s)}commit(l,o,s){var h;l=l||{};let v;return typeof o=="function"&&s===void 0?(s=o,v={}):v=o,v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(h=l.database)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.commit(l,v,s)}rollback(l,o,s){var h;l=l||{};let v;return typeof o=="function"&&s===void 0?(s=o,v={}):v=o,v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(h=l.database)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.rollback(l,v,s)}batchWrite(l,o,s){var h;l=l||{};let v;return typeof o=="function"&&s===void 0?(s=o,v={}):v=o,v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(h=l.database)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.batchWrite(l,v,s)}createDocument(l,o,s){var h,v;l=l||{};let b;return typeof o=="function"&&s===void 0?(s=o,b={}):b=o,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=l.parent)!==null&&h!==void 0?h:"",collection_id:(v=l.collectionId)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.createDocument(l,b,s)}batchGetDocuments(l,o){var s;return l=l||{},o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(s=l.database)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.batchGetDocuments(l,o)}runQuery(l,o){var s;return l=l||{},o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=l.parent)!==null&&s!==void 0?s:""}),this.initialize(),this.innerApiCalls.runQuery(l,o)}write(l){return this.initialize(),this.innerApiCalls.write(null,l)}listen(l){return this.initialize(),this.innerApiCalls.listen(null,l)}listDocuments(l,o,s){var h,v;l=l||{};let b;return typeof o=="function"&&s===void 0?(s=o,b={}):b=o,b=b||{},b.otherArgs=b.otherArgs||{},b.otherArgs.headers=b.otherArgs.headers||{},b.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=l.parent)!==null&&h!==void 0?h:"",collection_id:(v=l.collectionId)!==null&&v!==void 0?v:""}),this.initialize(),this.innerApiCalls.listDocuments(l,b,s)}listDocumentsStream(l,o){var s,h;l=l||{},o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=l.parent)!==null&&s!==void 0?s:"",collection_id:(h=l.collectionId)!==null&&h!==void 0?h:""});const b=this._defaults.listDocuments.merge(o);return this.initialize(),this.descriptors.page.listDocuments.createStream(this.innerApiCalls.listDocuments,l,b)}listDocumentsAsync(l,o){var s,h;l=l||{},o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=l.parent)!==null&&s!==void 0?s:"",collection_id:(h=l.collectionId)!==null&&h!==void 0?h:""});const b=this._defaults.listDocuments.merge(o);return this.initialize(),this.descriptors.page.listDocuments.asyncIterate(this.innerApiCalls.listDocuments,l,b)}partitionQuery(l,o,s){var h;l=l||{};let v;return typeof o=="function"&&s===void 0?(s=o,v={}):v=o,v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=l.parent)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.partitionQuery(l,v,s)}partitionQueryStream(l,o){var s;l=l||{},o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=l.parent)!==null&&s!==void 0?s:""});const v=this._defaults.partitionQuery.merge(o);return this.initialize(),this.descriptors.page.partitionQuery.createStream(this.innerApiCalls.partitionQuery,l,v)}partitionQueryAsync(l,o){var s;l=l||{},o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=l.parent)!==null&&s!==void 0?s:""});const v=this._defaults.partitionQuery.merge(o);return this.initialize(),this.descriptors.page.partitionQuery.asyncIterate(this.innerApiCalls.partitionQuery,l,v)}listCollectionIds(l,o,s){var h;l=l||{};let v;return typeof o=="function"&&s===void 0?(s=o,v={}):v=o,v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(h=l.parent)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.listCollectionIds(l,v,s)}listCollectionIdsStream(l,o){var s;l=l||{},o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=l.parent)!==null&&s!==void 0?s:""});const v=this._defaults.listCollectionIds.merge(o);return this.initialize(),this.descriptors.page.listCollectionIds.createStream(this.innerApiCalls.listCollectionIds,l,v)}listCollectionIdsAsync(l,o){var s;l=l||{},o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(s=l.parent)!==null&&s!==void 0?s:""});const v=this._defaults.listCollectionIds.merge(o);return this.initialize(),this.descriptors.page.listCollectionIds.asyncIterate(this.innerApiCalls.listCollectionIds,l,v)}close(){return this.firestoreStub&&!this._terminated?this.firestoreStub.then(l=>{this._terminated=!0,l.close()}):Promise.resolve()}}return firestore_client.FirestoreClient=m,firestore_client}var hasRequiredV1beta1;function requireV1beta1(){return hasRequiredV1beta1||(hasRequiredV1beta1=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FirestoreClient=void 0;const a=requireFirestore_client();Object.defineProperty(t,"FirestoreClient",{enumerable:!0,get:function(){return a.FirestoreClient}});const p=e.exports;e.exports=a.FirestoreClient,e.exports=Object.assign(e.exports,p)})(v1beta1,v1beta1.exports)),v1beta1.exports}var hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,(function(e,t){var a={};Object.defineProperty(t,"__esModule",{value:!0}),t.Firestore=t.DEFAULT_MAX_IDLE_CHANNELS=t.DEFAULT_MAX_TRANSACTION_ATTEMPTS=t.MAX_REQUEST_RETRIES=t.AggregateField=t.Aggregate=t.setLogFunction=t.QueryPartition=t.CollectionGroup=t.GeoPoint=t.FieldPath=t.DocumentChange=t.Timestamp=t.Transaction=t.WriteResult=t.WriteBatch=t.Filter=t.VectorValue=t.FieldValue=t.QueryDocumentSnapshot=t.DocumentSnapshot=t.BulkWriter=t.Query=t.QuerySnapshot=t.DocumentReference=t.CollectionReference=void 0;const p=require$$1$3,g=require$$1$3,m=requireBackoff(),c=requireBulkWriter(),l=requireBundle(),o=requireConvert(),s=requireDocumentReader(),h=requireDocument(),v=requireLogger(),b=requirePath(),y=requirePool(),O=requireCollectionReference(),w=requireDocumentReference(),I=requireSerializer(),_=requireTimestamp(),T=requireTransaction(),C=requireUtil(),N=requireValidate(),L=requireWriteBatch(),j=require$$19.interfaces["google.firestore.v1.Firestore"],k=requireCollectionGroup();Object.defineProperty(t,"CollectionGroup",{enumerable:!0,get:function(){return k.CollectionGroup}});const V=requireRecursiveDelete(),G=requireTraceUtil(),J=requireDisabledTraceUtil(),W=requireEnabledTraceUtil();var K=requireCollectionReference();Object.defineProperty(t,"CollectionReference",{enumerable:!0,get:function(){return K.CollectionReference}});var X=requireDocumentReference();Object.defineProperty(t,"DocumentReference",{enumerable:!0,get:function(){return X.DocumentReference}});var Y=requireQuerySnapshot();Object.defineProperty(t,"QuerySnapshot",{enumerable:!0,get:function(){return Y.QuerySnapshot}});var te=requireQuery();Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return te.Query}});var oe=requireBulkWriter();Object.defineProperty(t,"BulkWriter",{enumerable:!0,get:function(){return oe.BulkWriter}});var le=requireDocument();Object.defineProperty(t,"DocumentSnapshot",{enumerable:!0,get:function(){return le.DocumentSnapshot}}),Object.defineProperty(t,"QueryDocumentSnapshot",{enumerable:!0,get:function(){return le.QueryDocumentSnapshot}});var ee=requireFieldValue();Object.defineProperty(t,"FieldValue",{enumerable:!0,get:function(){return ee.FieldValue}}),Object.defineProperty(t,"VectorValue",{enumerable:!0,get:function(){return ee.VectorValue}});var se=requireFilter();Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return se.Filter}});var de=requireWriteBatch();Object.defineProperty(t,"WriteBatch",{enumerable:!0,get:function(){return de.WriteBatch}}),Object.defineProperty(t,"WriteResult",{enumerable:!0,get:function(){return de.WriteResult}});var he=requireTransaction();Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return he.Transaction}});var ge=requireTimestamp();Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return ge.Timestamp}});var me=requireDocumentChange();Object.defineProperty(t,"DocumentChange",{enumerable:!0,get:function(){return me.DocumentChange}});var Oe=requirePath();Object.defineProperty(t,"FieldPath",{enumerable:!0,get:function(){return Oe.FieldPath}});var fe=requireGeoPoint();Object.defineProperty(t,"GeoPoint",{enumerable:!0,get:function(){return fe.GeoPoint}});var _e=requireQueryPartition();Object.defineProperty(t,"QueryPartition",{enumerable:!0,get:function(){return _e.QueryPartition}});var Ee=requireLogger();Object.defineProperty(t,"setLogFunction",{enumerable:!0,get:function(){return Ee.setLogFunction}});var z=requireAggregate();Object.defineProperty(t,"Aggregate",{enumerable:!0,get:function(){return z.Aggregate}}),Object.defineProperty(t,"AggregateField",{enumerable:!0,get:function(){return z.AggregateField}});const d=require$$33.version;(0,v.setLibVersion)(d);const P="google-cloud-resource-prefix";t.MAX_REQUEST_RETRIES=5,t.DEFAULT_MAX_TRANSACTION_ATTEMPTS=5;t.DEFAULT_MAX_IDLE_CHANNELS=1;const A=100;class ${getBulkWriter(){return this._bulkWriter||(this._bulkWriter=this.bulkWriter()),this._bulkWriter}constructor(ne){this._settings={},this._settingsFrozen=!1,this._serializer=null,this._projectId=void 0,this._databaseId=void 0,this.registeredListenersCount=0,this.bulkWritersCount=0;const u={libName:"gccl",libVersion:d};ne&&ne.firebaseVersion&&(u.libVersion+=" fire/"+ne.firebaseVersion),ne&&ne.firebaseAdminVersion&&(u.libVersion+=" fire-admin/"+ne.firebaseAdminVersion),this.validateAndApplySettings({...ne,...u}),this._traceUtil=this.newTraceUtilInstance(this._settings);const x=j.retry_params.default;this._backoffSettings={initialDelayMs:x.initial_retry_delay_millis,maxDelayMs:x.max_retry_delay_millis,backoffFactor:x.retry_delay_multiplier};const M=this._settings.maxIdleChannels===void 0?t.DEFAULT_MAX_IDLE_CHANNELS:this._settings.maxIdleChannels;this._clientPool=new y.ClientPool(A,M,n=>{var q;let U;const Q=!this._settings.preferRest||n?!1:"rest";let ye;if(Q?this._gaxFallback?ye=this._gaxFallback:ye=this._gaxFallback=requireFallback():this._gax?ye=this._gax:ye=this._gax=requireFallback(),this._settings.ssl===!1){const ke={sslCreds:((q=this._settings.grpc)!==null&&q!==void 0?q:requireFallback().grpc).credentials.createInsecure(),...this._settings,fallback:Q};Q&&(ke.protocol="http"),U=new e.exports.v1(ke,ye)}else U=new e.exports.v1({...this._settings,fallback:Q},ye);return(0,v.logger)("clientFactory",null,"Initialized Firestore GAPIC Client (useFallback: %s)",Q),U},n=>n.close()),(0,v.logger)("Firestore",null,"Initialized Firestore")}settings(ne){if((0,N.validateObject)("settings",ne),(0,N.validateString)("settings.projectId",ne.projectId,{optional:!0}),(0,N.validateString)("settings.databaseId",ne.databaseId,{optional:!0}),this._settingsFrozen)throw new Error("Firestore has already been initialized. You can only call settings() once, and only before calling any other methods on a Firestore object.");const u={...this._settings,...ne};this.validateAndApplySettings(u),this._traceUtil=this.newTraceUtilInstance(this._settings),this._settingsFrozen=!0}validateAndApplySettings(ne){var u;ne.projectId!==void 0&&((0,N.validateString)("settings.projectId",ne.projectId),this._projectId=ne.projectId),ne.databaseId!==void 0&&((0,N.validateString)("settings.databaseId",ne.databaseId),this._databaseId=ne.databaseId);let x=null;const M=(0,C.tryGetPreferRestEnvironmentVariable)();ne.preferRest===void 0&&M!==void 0&&(ne={...ne,preferRest:M}),a.FIRESTORE_EMULATOR_HOST?((0,N.validateHost)("FIRESTORE_EMULATOR_HOST",a.FIRESTORE_EMULATOR_HOST),ne={...ne,host:a.FIRESTORE_EMULATOR_HOST,ssl:!1},x=new g.URL(`http://${ne.host}`)):ne.host!==void 0&&((0,N.validateHost)("settings.host",ne.host),x=new g.URL(`http://${ne.host}`)),x!==null&&((ne.servicePath!==void 0&&ne.servicePath!==x.hostname||ne.apiEndpoint!==void 0&&ne.apiEndpoint!==x.hostname)&&console.warn(`The provided host (${x.hostname}) in "settings" does not match the existing host (${(u=ne.servicePath)!==null&&u!==void 0?u:ne.apiEndpoint}). Using the provided host.`),ne.servicePath=x.hostname,x.port!==""&&ne.port===void 0&&(ne.port=Number(x.port)),delete ne.host,delete ne.apiEndpoint),ne.ssl!==void 0&&(0,N.validateBoolean)("settings.ssl",ne.ssl),ne.maxIdleChannels!==void 0&&(0,N.validateInteger)("settings.maxIdleChannels",ne.maxIdleChannels,{minValue:0}),this._settings=ne,this._settings.toJSON=function(){const n=Object.assign({},this);return n.credentials&&(n.credentials={private_key:"***",client_email:"***"}),n},this._serializer=new I.Serializer(this)}newTraceUtilInstance(ne){let u=!0;if("FIRESTORE_ENABLE_TRACING"in a){const x=a.FIRESTORE_ENABLE_TRACING.toLowerCase();(x==="on"||x==="true")&&(u=!0),(x==="off"||x==="false")&&(u=!1)}return u?new W.EnabledTraceUtil(ne):new J.DisabledTraceUtil}get projectId(){if(this._projectId===void 0)throw new Error("INTERNAL ERROR: Client is not yet ready to issue requests.");return this._projectId}get databaseId(){return this._databaseId||b.DEFAULT_DATABASE_ID}get formattedName(){return`projects/${this.projectId}/databases/${this.databaseId}`}doc(ne){(0,b.validateResourcePath)("documentPath",ne);const u=b.ResourcePath.EMPTY.append(ne);if(!u.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${ne}". Your path does not contain an even number of components.`);return new w.DocumentReference(this,u)}collection(ne){(0,b.validateResourcePath)("collectionPath",ne);const u=b.ResourcePath.EMPTY.append(ne);if(!u.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${ne}". Your path does not contain an odd number of components.`);return new O.CollectionReference(this,u)}collectionGroup(ne){if(ne.indexOf("/")!==-1)throw new Error(`Invalid collectionId '${ne}'. Collection IDs must not contain '/'.`);return new k.CollectionGroup(this,ne,void 0)}batch(){return new L.WriteBatch(this)}bulkWriter(ne){return new c.BulkWriter(this,ne)}snapshot_(ne,u,x){let M,n;if(x===void 0||x==="protobufJS")M=Q=>Q,n=Q=>Q;else if(x==="json")M=o.timestampFromJson,n=o.fieldsFromJson;else throw new Error(`Unsupported encoding format. Expected "json" or "protobufJS", but was "${x}".`);let q,U;return typeof ne=="string"?(q=new w.DocumentReference(this,b.QualifiedResourcePath.fromSlashSeparatedString(ne)),U=new h.DocumentSnapshotBuilder(q)):(q=new w.DocumentReference(this,b.QualifiedResourcePath.fromSlashSeparatedString(ne.name)),U=new h.DocumentSnapshotBuilder(q),U.fieldsProto=ne.fields?n(ne.fields):{},U.createTime=_.Timestamp.fromProto(M(ne.createTime,"documentOrName.createTime")),U.updateTime=_.Timestamp.fromProto(M(ne.updateTime,"documentOrName.updateTime"))),u&&(U.readTime=_.Timestamp.fromProto(M(u,"readTime"))),U.build()}bundle(ne){return new l.BundleBuilder(ne||(0,C.autoId)())}runTransaction(ne,u){(0,N.validateFunction)("updateFunction",ne);const x=(0,C.requestTag)();u&&((0,N.validateObject)("transactionOptions",u),(0,N.validateBoolean)("transactionOptions.readOnly",u.readOnly,{optional:!0}),u.readOnly?(0,N.validateTimestamp)("transactionOptions.readTime",u.readTime,{optional:!0}):(0,N.validateInteger)("transactionOptions.maxAttempts",u.maxAttempts,{optional:!0,minValue:1}));const M=new T.Transaction(this,x,u);return this.initializeIfNeeded(x).then(()=>M.runTransaction(ne))}listCollections(){return new w.DocumentReference(this,b.ResourcePath.EMPTY).listCollections()}getAll(...ne){return this._traceUtil.startActiveSpan(G.SPAN_NAME_BATCH_GET_DOCUMENTS,()=>{(0,N.validateMinNumberOfArguments)("Firestore.getAll",ne,1);const{documents:u,fieldMask:x}=(0,T.parseGetAllArguments)(ne);this._traceUtil.currentSpan().setAttributes({[G.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!1,[G.ATTRIBUTE_KEY_DOC_COUNT]:u.length});const M=(0,C.requestTag)(),n=Error().stack;return this.initializeIfNeeded(M).then(()=>new s.DocumentReader(this,u,x).get(M)).catch(q=>{throw(0,C.wrapError)(q,n)})})}registerListener(){this.registeredListenersCount+=1}unregisterListener(){this.registeredListenersCount-=1}_incrementBulkWritersCount(){this.bulkWritersCount+=1}_decrementBulkWritersCount(){this.bulkWritersCount-=1}recursiveDelete(ne,u){return this._recursiveDelete(ne,V.RECURSIVE_DELETE_MAX_PENDING_OPS,V.RECURSIVE_DELETE_MIN_PENDING_OPS,u)}_recursiveDelete(ne,u,x,M){const n=M??this.getBulkWriter();return new V.RecursiveDelete(this,n,ne,u,x).run()}async terminate(){return this._bulkWriter&&(await this._bulkWriter.close(),this._bulkWriter=void 0),this.registeredListenersCount>0||this.bulkWritersCount>0?Promise.reject(`All onSnapshot() listeners must be unsubscribed, and all BulkWriter instances must be closed before terminating the client. There are ${this.registeredListenersCount} active listeners and ${this.bulkWritersCount} open BulkWriter instances.`):this._clientPool.terminate()}toJSON(){return{projectId:this._projectId}}async initializeIfNeeded(ne){if(this._settingsFrozen=!0,this._settings.ssl===!1&&(this._settings.customHeaders={Authorization:"Bearer owner",...this._settings.customHeaders}),this._projectId===void 0)try{this._projectId=await this._clientPool.run(ne,!1,u=>u.getProjectId()),(0,v.logger)("Firestore.initializeIfNeeded",null,"Detected project ID: %s",this._projectId),this._traceUtil.recordProjectId(this.projectId)}catch(u){return(0,v.logger)("Firestore.initializeIfNeeded",null,"Failed to detect project ID: %s",u),Promise.reject(u)}}createCallOptions(ne,u){var x;const M={otherArgs:{headers:{[P]:this.formattedName,...this._settings.customHeaders,...(x=this._settings[ne])===null||x===void 0?void 0:x.customHeaders}}};if(u){const n=(0,C.getRetryParams)(ne);M.retry=new(requireFallback()).RetryOptions(u,n)}return M}async _retry(ne,u,x){const M=new m.ExponentialBackoff;let n;for(let q=0;q<t.MAX_REQUEST_RETRIES;++q){n&&(0,v.logger)("Firestore._retry",u,"Retrying request that failed with error:",n);try{return await M.backoffAndWait(),await x()}catch(U){if(n=U,(0,C.isPermanentRpcError)(U,ne))break}}return(0,v.logger)("Firestore._retry",u,"Request failed with error:",n),Promise.reject(n)}_initializeStream(ne,u,x,M){const n=new p.PassThrough({objectMode:!0});n.pause();let q=!1;return new Promise((U,Q)=>{function ye(){q||(q=!0,(0,v.logger)("Firestore._initializeStream",x,"Stream ready"),U(n))}function Ie(){(0,v.logger)("Firestore._initializeStream",x,"Received stream end"),n.unpipe(ne),U(n),u.resolve()}function je(ke){q?((0,v.logger)("Firestore._initializeStream",x,"Received stream error:",ke),setImmediate(()=>{n.emit("error",ke)})):((0,v.logger)("Firestore._initializeStream",x,"Received initial error:",ke),Q(ke))}ne.on("data",()=>ye()),ne.on("error",ke=>je(ke)),ne.on("end",()=>Ie()),ne.on("close",()=>Ie()),ne.on("finish",()=>Ie()),ne.pipe(n),M&&((0,v.logger)("Firestore._initializeStream",x,"Sending request: %j",M),ne.write(M,"utf-8",ke=>{ke?je(ke):((0,v.logger)("Firestore._initializeStream",x,"Marking stream as healthy"),ye())}))})}request(ne,u,x,M){const n=this.createCallOptions(ne,M);return this._clientPool.run(x,!1,async q=>{try{(0,v.logger)("Firestore.request",x,"Sending request: %j",u);const[U]=await q[ne](u,n);return(0,v.logger)("Firestore.request",x,"Received response: %j",U),U}catch(U){return(0,v.logger)("Firestore.request",x,"Received error:",U),Promise.reject(U)}})}requestStream(ne,u,x,M){const n=this.createCallOptions(ne),q=ne==="listen";let U=0;const Q=100;return this._retry(ne,M,()=>{const ye=new C.Deferred;return this._clientPool.run(M,u,async Ie=>{(0,v.logger)("Firestore.requestStream",M,"Sending request: %j",x),this._traceUtil.currentSpan().addEvent(`Firestore.${ne}: Start`);try{const je=q?Ie[ne](n):Ie[ne](x,n),ke=new p.Transform({objectMode:!0,transform:(dt,_t,St)=>{(0,v.logger)("Firestore.requestStream",M,"Received response: %j",dt),U++,U===1?this._traceUtil.currentSpan().addEvent(`Firestore.${ne}: First response received`):U%Q===0&&this._traceUtil.currentSpan().addEvent(`Firestore.${ne}: Received ${U} responses`),St()}});je.pipe(ke);const ze=new C.Deferred,it=await this._initializeStream(je,ze,M,q?x:void 0);return it.on("end",()=>{je.end(),this._traceUtil.currentSpan().addEvent(`Firestore.${ne}: Completed`,{[G.ATTRIBUTE_KEY_NUM_RESPONSES]:U})}),ye.resolve(it),ze.promise}catch(je){ye.reject(je)}}),ye.promise})}}t.Firestore=$,t.default=$;const ie=e.exports;e.exports=$,e.exports=Object.assign(e.exports,ie),Object.defineProperty(e.exports,"v1beta1",{get:()=>requireV1beta1()}),Object.defineProperty(e.exports,"v1",{get:()=>requireV1()}),Object.defineProperty(e.exports,"GrpcStatus",{get:()=>requireFallback().Status})})(src$2,src$2.exports)),src$2.exports}var machineLearning$1={},storage={},app={};var hasRequiredApp;function requireApp(){return hasRequiredApp||(hasRequiredApp=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_VERSION=e.AppErrorCodes=e.FirebaseAppError=e.refreshToken=e.cert=e.applicationDefault=e.deleteApp=e.getApps=e.getApp=e.initializeApp=void 0;const t=requireUtils$2();var a=requireLifecycle();Object.defineProperty(e,"initializeApp",{enumerable:!0,get:function(){return a.initializeApp}}),Object.defineProperty(e,"getApp",{enumerable:!0,get:function(){return a.getApp}}),Object.defineProperty(e,"getApps",{enumerable:!0,get:function(){return a.getApps}}),Object.defineProperty(e,"deleteApp",{enumerable:!0,get:function(){return a.deleteApp}});var p=requireCredentialFactory();Object.defineProperty(e,"applicationDefault",{enumerable:!0,get:function(){return p.applicationDefault}}),Object.defineProperty(e,"cert",{enumerable:!0,get:function(){return p.cert}}),Object.defineProperty(e,"refreshToken",{enumerable:!0,get:function(){return p.refreshToken}});var g=requireError();Object.defineProperty(e,"FirebaseAppError",{enumerable:!0,get:function(){return g.FirebaseAppError}}),Object.defineProperty(e,"AppErrorCodes",{enumerable:!0,get:function(){return g.AppErrorCodes}}),e.SDK_VERSION=(0,t.getSdkVersion)()})(app)),app}var utils={};var hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1,Object.defineProperty(utils,"__esModule",{value:!0}),utils.getFirebaseMetadata=e;function e(t,a){const p=`${t}/b/${a.bucket.name}/o/${encodeURIComponent(a.name)}`;return new Promise((g,m)=>{a.storage.makeAuthenticatedRequest({method:"GET",uri:p},(c,l)=>{c?m(c):g(l)})})}return utils}var hasRequiredStorage;function requireStorage(){return hasRequiredStorage||(hasRequiredStorage=1,(function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=void 0,e.getStorage=l,e.getDownloadURL=o;const a=requireApp(),p=requireStorage$1(),g=requireError(),m=requireUtils();var c=requireStorage$1();Object.defineProperty(e,"Storage",{enumerable:!0,get:function(){return c.Storage}});function l(s){return typeof s>"u"&&(s=(0,a.getApp)()),s.getOrInitService("storage",v=>new p.Storage(v))}async function o(s){const h=(t.STORAGE_EMULATOR_HOST||"https://firebasestorage.googleapis.com")+"/v0",{downloadTokens:v}=await(0,m.getFirebaseMetadata)(h,s);if(!v)throw new g.FirebaseError({code:"storage/no-download-token",message:"No download token available. Please create one in the Firebase Console."});const[b]=v.split(",");return`${h}/b/${s.bucket.name}/o/${encodeURIComponent(s.name)}?alt=media&token=${b}`}})(storage)),storage}var machineLearningApiClient={},machineLearningUtils={};var hasRequiredMachineLearningUtils;function requireMachineLearningUtils(){if(hasRequiredMachineLearningUtils)return machineLearningUtils;hasRequiredMachineLearningUtils=1;Object.defineProperty(machineLearningUtils,"__esModule",{value:!0}),machineLearningUtils.FirebaseMachineLearningError=void 0;const e=requireError();class t extends e.PrefixedFirebaseError{static fromOperationError(p,g){switch(p){case 1:return new t("cancelled",g);case 2:return new t("unknown-error",g);case 3:return new t("invalid-argument",g);case 4:return new t("deadline-exceeded",g);case 5:return new t("not-found",g);case 6:return new t("already-exists",g);case 7:return new t("permission-denied",g);case 8:return new t("resource-exhausted",g);case 9:return new t("failed-precondition",g);case 10:return new t("aborted",g);case 11:return new t("out-of-range",g);case 13:return new t("internal-error",g);case 14:return new t("service-unavailable",g);case 15:return new t("data-loss",g);case 16:return new t("unauthenticated",g);default:return new t("unknown-error",g)}}constructor(p,g){super("machine-learning",p,g)}}return machineLearningUtils.FirebaseMachineLearningError=t,machineLearningUtils}var hasRequiredMachineLearningApiClient;function requireMachineLearningApiClient(){if(hasRequiredMachineLearningApiClient)return machineLearningApiClient;hasRequiredMachineLearningApiClient=1;Object.defineProperty(machineLearningApiClient,"__esModule",{value:!0}),machineLearningApiClient.MachineLearningApiClient=void 0,machineLearningApiClient.isGcsTfliteModelOptions=h;const e=requireApiRequest(),t=requireError(),a=requireUtils$2(),p=requireValidator$1(),g=requireMachineLearningUtils(),m="https://firebaseml.googleapis.com/v1beta2",c={"X-Firebase-Client":`fire-admin-node/${a.getSdkVersion()}`},l=12e4,o=3e3,s=3e4;function h(O){return typeof O?.tfliteModel?.gcsTfliteUri<"u"}class v{constructor(w){if(this.app=w,!p.isNonNullObject(w)||!("options"in w))throw new g.FirebaseMachineLearningError("invalid-argument","First argument passed to admin.machineLearning() must be a valid Firebase app instance.");this.httpClient=new e.AuthorizedHttpClient(w)}createModel(w){if(!p.isNonNullObject(w)||!p.isNonEmptyString(w.displayName)){const I=new g.FirebaseMachineLearningError("invalid-argument","Invalid model content.");return Promise.reject(I)}return this.getProjectUrl().then(I=>{const _={method:"POST",url:`${I}/models`,data:w};return this.sendRequest(_)})}updateModel(w,I,_){if(!p.isNonEmptyString(w)||!p.isNonNullObject(I)||!p.isNonEmptyArray(_)){const T=new g.FirebaseMachineLearningError("invalid-argument","Invalid model or mask content.");return Promise.reject(T)}return this.getProjectUrl().then(T=>{const C={method:"PATCH",url:`${T}/models/${w}?updateMask=${_.join()}`,data:I};return this.sendRequest(C)})}getModel(w){return Promise.resolve().then(()=>this.getModelName(w)).then(I=>this.getResourceWithShortName(I))}getOperation(w){return Promise.resolve().then(()=>this.getResourceWithFullName(w))}listModels(w={}){if(!p.isNonNullObject(w)){const I=new g.FirebaseMachineLearningError("invalid-argument","Invalid ListModelsOptions");return Promise.reject(I)}if(typeof w.filter<"u"&&!p.isNonEmptyString(w.filter)){const I=new g.FirebaseMachineLearningError("invalid-argument","Invalid list filter.");return Promise.reject(I)}if(typeof w.pageSize<"u"){if(!p.isNumber(w.pageSize)){const I=new g.FirebaseMachineLearningError("invalid-argument","Invalid page size.");return Promise.reject(I)}if(w.pageSize<1||w.pageSize>100){const I=new g.FirebaseMachineLearningError("invalid-argument","Page size must be between 1 and 100.");return Promise.reject(I)}}if(typeof w.pageToken<"u"&&!p.isNonEmptyString(w.pageToken)){const I=new g.FirebaseMachineLearningError("invalid-argument","Next page token must be a non-empty string.");return Promise.reject(I)}return this.getProjectUrl().then(I=>{const _={method:"GET",url:`${I}/models`,data:w};return this.sendRequest(_)})}deleteModel(w){return this.getProjectUrl().then(I=>{const _=this.getModelName(w),T={method:"DELETE",url:`${I}/${_}`};return this.sendRequest(T)})}handleOperation(w,I){if(w.done){if(w.response)return Promise.resolve(w.response);if(w.error){const C=g.FirebaseMachineLearningError.fromOperationError(w.error.code,w.error.message);return Promise.reject(C)}throw new g.FirebaseMachineLearningError("invalid-server-response","Invalid operation response.")}if(I?.wait)return this.pollOperationWithExponentialBackoff(w.name,I);const _=w.metadata||{};if(!(_["@type"]||"").includes("ModelOperationMetadata"))throw new g.FirebaseMachineLearningError("invalid-server-response",`Unknown Metadata type: ${JSON.stringify(_)}`);return this.getModel(y(_.name))}pollOperationWithExponentialBackoff(w,I){const _=I?.maxTimeMillis??l,T=I?.baseWaitMillis??o,C=I?.maxWaitMillis??s;return new e.ExponentialBackoffPoller(T,C,_).poll(()=>this.getOperation(w).then(L=>{if(!L.done)return null;if(L.error)throw g.FirebaseMachineLearningError.fromOperationError(L.error.code,L.error.message);return L.response}))}getResourceWithShortName(w){return this.getProjectUrl().then(I=>{const _={method:"GET",url:`${I}/${w}`};return this.sendRequest(_)})}getResourceWithFullName(w){const I={method:"GET",url:`${m}/${w}`};return this.sendRequest(I)}sendRequest(w){return w.headers=c,this.httpClient.send(w).then(I=>I.data).catch(I=>{throw this.toFirebaseError(I)})}toFirebaseError(w){if(w instanceof t.PrefixedFirebaseError)return w;const I=w.response;if(!I.isJson())return new g.FirebaseMachineLearningError("unknown-error",`Unexpected response with status: ${I.status} and body: ${I.text}`);const _=I.data.error||{};let T="unknown-error";_.status&&_.status in b&&(T=b[_.status]);const C=_.message||`Unknown server error: ${I.text}`;return new g.FirebaseMachineLearningError(T,C)}getProjectUrl(){return this.getProjectIdPrefix().then(w=>`${m}/${w}`)}getProjectIdPrefix(){return this.projectIdPrefix?Promise.resolve(this.projectIdPrefix):a.findProjectId(this.app).then(w=>{if(!p.isNonEmptyString(w))throw new g.FirebaseMachineLearningError("invalid-argument","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectIdPrefix=`projects/${w}`,this.projectIdPrefix})}getModelName(w){if(!p.isNonEmptyString(w))throw new g.FirebaseMachineLearningError("invalid-argument","Model ID must be a non-empty string.");if(w.indexOf("/")!==-1)throw new g.FirebaseMachineLearningError("invalid-argument",'Model ID must not contain any "/" characters.');return`models/${w}`}}machineLearningApiClient.MachineLearningApiClient=v;const b={INVALID_ARGUMENT:"invalid-argument",NOT_FOUND:"not-found",RESOURCE_EXHAUSTED:"resource-exhausted",UNAUTHENTICATED:"authentication-error",UNKNOWN:"unknown-error"};function y(O){return O.split("/").pop()}return machineLearningApiClient}var hasRequiredMachineLearning$1;function requireMachineLearning$1(){if(hasRequiredMachineLearning$1)return machineLearning$1;hasRequiredMachineLearning$1=1;Object.defineProperty(machineLearning$1,"__esModule",{value:!0}),machineLearning$1.Model=machineLearning$1.MachineLearning=void 0;const e=requireStorage(),t=requireError(),a=requireValidator$1(),p=requireDeepCopy(),g=requireUtils$2(),m=requireMachineLearningApiClient(),c=requireMachineLearningUtils();class l{constructor(v){if(!a.isNonNullObject(v)||!("options"in v))throw new t.FirebaseError({code:"machine-learning/invalid-argument",message:"First argument passed to admin.machineLearning() must be a valid Firebase app instance."});this.appInternal=v,this.client=new m.MachineLearningApiClient(v)}get app(){return this.appInternal}createModel(v){return this.signUrlIfPresent(v).then(b=>this.client.createModel(b)).then(b=>this.client.handleOperation(b)).then(b=>new o(b,this.client))}updateModel(v,b){const y=g.generateUpdateMask(b);return this.signUrlIfPresent(b).then(O=>this.client.updateModel(v,O,y)).then(O=>this.client.handleOperation(O)).then(O=>new o(O,this.client))}publishModel(v){return this.setPublishStatus(v,!0)}unpublishModel(v){return this.setPublishStatus(v,!1)}getModel(v){return this.client.getModel(v).then(b=>new o(b,this.client))}listModels(v={}){return this.client.listModels(v).then(b=>{if(!a.isNonNullObject(b))throw new c.FirebaseMachineLearningError("invalid-argument",`Invalid ListModels response: ${JSON.stringify(b)}`);let y=[];b.models&&(y=b.models.map(w=>new o(w,this.client)));const O={models:y};return b.nextPageToken&&(O.pageToken=b.nextPageToken),O})}deleteModel(v){return this.client.deleteModel(v)}setPublishStatus(v,b){const y=["state.published"],O={state:{published:b}};return this.client.updateModel(v,O,y).then(w=>this.client.handleOperation(w)).then(w=>new o(w,this.client))}signUrlIfPresent(v){const b=(0,p.deepCopy)(v);return(0,m.isGcsTfliteModelOptions)(b)?this.signUrl(b.tfliteModel.gcsTfliteUri).then(y=>(b.tfliteModel.gcsTfliteUri=y,b)).catch(y=>{throw new c.FirebaseMachineLearningError("internal-error",`Error during signing upload url: ${y.message}`)}):Promise.resolve(b)}signUrl(v){const w=/^gs:\/\/([a-z0-9_.-]{3,63})\/(.+)$/.exec(v);if(!w)throw new c.FirebaseMachineLearningError("invalid-argument",`Invalid unsigned url: ${v}`);const I=w[1],_=w[2];return(0,e.getStorage)(this.app).bucket(I).file(_).getSignedUrl({action:"read",expires:Date.now()+6e5}).then(N=>N[0])}}machineLearning$1.MachineLearning=l;class o{constructor(v,b){this.model=o.validateAndClone(v),this.client=b}get modelId(){return s(this.model.name)}get displayName(){return this.model.displayName}get tags(){return this.model.tags||[]}get createTime(){return new Date(this.model.createTime).toUTCString()}get updateTime(){return new Date(this.model.updateTime).toUTCString()}get validationError(){return this.model.state?.validationError?.message}get published(){return this.model.state?.published||!1}get etag(){return this.model.etag}get modelHash(){return this.model.modelHash}get tfliteModel(){return(0,p.deepCopy)(this.model.tfliteModel)}get locked(){return(this.model.activeOperations?.length??0)>0}toJSON(){const v={modelId:this.modelId,displayName:this.displayName,tags:this.tags,createTime:this.createTime,updateTime:this.updateTime,published:this.published,etag:this.etag,locked:this.locked};return this.validationError&&(v.validationError=this.validationError),this.modelHash&&(v.modelHash=this.modelHash),this.tfliteModel&&(v.tfliteModel=this.tfliteModel),v}waitForUnlocked(v){return(this.model.activeOperations?.length??0)>0?this.client.handleOperation(this.model.activeOperations[0],{wait:!0,maxTimeMillis:v}).then(b=>{this.model=o.validateAndClone(b)}):Promise.resolve()}static validateAndClone(v){if(!a.isNonNullObject(v)||!a.isNonEmptyString(v.name)||!a.isNonEmptyString(v.createTime)||!a.isNonEmptyString(v.updateTime)||!a.isNonEmptyString(v.displayName)||!a.isNonEmptyString(v.etag))throw new c.FirebaseMachineLearningError("invalid-server-response",`Invalid Model response: ${JSON.stringify(v)}`);const b=(0,p.deepCopy)(v);return v.tfliteModel&&!a.isNonEmptyString(v.tfliteModel.gcsTfliteUri)&&delete b.tfliteModel,b["@type"]&&delete b["@type"],b}}machineLearning$1.Model=o;function s(h){return h.split("/").pop()}return machineLearning$1}var installations$1={},installationsRequestHandler={};var hasRequiredInstallationsRequestHandler;function requireInstallationsRequestHandler(){if(hasRequiredInstallationsRequestHandler)return installationsRequestHandler;hasRequiredInstallationsRequestHandler=1;Object.defineProperty(installationsRequestHandler,"__esModule",{value:!0}),installationsRequestHandler.FirebaseInstallationsRequestHandler=void 0;const e=requireError(),t=requireApiRequest(),a=requireUtils$2(),p=requireValidator$1(),g="console.firebase.google.com",m="/v1/",c=1e4,l={400:"Malformed installation ID argument.",401:"Request not authorized.",403:"Project does not match installation ID or the client does not have sufficient privileges.",404:"Failed to find the installation ID.",409:"Already deleted.",429:"Request throttled out by the backend server.",500:"Internal server error.",503:"Backend servers are over capacity. Try again later."};class o{constructor(h){this.app=h,this.host=g,this.timeout=c,this.httpClient=new t.AuthorizedHttpClient(h)}deleteInstallation(h){return p.isNonEmptyString(h)?this.invokeRequestHandler(new t.ApiSettings(h,"DELETE")):Promise.reject(new e.FirebaseInstallationsError(e.InstallationsClientErrorCode.INVALID_INSTALLATION_ID,"Installation ID must be a non-empty string."))}invokeRequestHandler(h){return this.getPathPrefix().then(v=>{const b={url:`https://${this.host}${v}${h.getEndpoint()}`,method:h.getHttpMethod(),timeout:this.timeout};return this.httpClient.send(b)}).then(()=>{}).catch(v=>{if(v instanceof t.RequestResponseError){const b=v.response,y=b.isJson()&&"error"in b.data?b.data.error:b.text,O=l[b.status],w=O?`Installation ID "${h.getEndpoint()}": ${O}`:y;throw new e.FirebaseInstallationsError(e.InstallationsClientErrorCode.API_ERROR,w)}throw v})}getPathPrefix(){return this.path?Promise.resolve(this.path):a.findProjectId(this.app).then(h=>{if(!p.isNonEmptyString(h))throw new e.FirebaseInstallationsError(e.InstallationsClientErrorCode.INVALID_PROJECT_ID,"Failed to determine project ID for Installations. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");return this.path=m+`project/${h}/instanceId/`,this.path})}}return installationsRequestHandler.FirebaseInstallationsRequestHandler=o,installationsRequestHandler}var hasRequiredInstallations$1;function requireInstallations$1(){if(hasRequiredInstallations$1)return installations$1;hasRequiredInstallations$1=1;Object.defineProperty(installations$1,"__esModule",{value:!0}),installations$1.Installations=void 0;const e=requireError(),t=requireInstallationsRequestHandler(),a=requireValidator$1();class p{constructor(m){if(!a.isNonNullObject(m)||!("options"in m))throw new e.FirebaseInstallationsError(e.InstallationsClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.installations() must be a valid Firebase app instance.");this.app_=m,this.requestHandler=new t.FirebaseInstallationsRequestHandler(m)}deleteInstallation(m){return this.requestHandler.deleteInstallation(m)}get app(){return this.app_}}return installations$1.Installations=p,installations$1}var instanceId$1={},installations={};var hasRequiredInstallations;function requireInstallations(){return hasRequiredInstallations||(hasRequiredInstallations=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InstallationsClientErrorCode=e.FirebaseInstallationsError=e.Installations=void 0,e.getInstallations=p;const t=requireApp(),a=requireInstallations$1();Object.defineProperty(e,"Installations",{enumerable:!0,get:function(){return a.Installations}});function p(m){return typeof m>"u"&&(m=(0,t.getApp)()),m.getOrInitService("installations",l=>new a.Installations(l))}var g=requireError();Object.defineProperty(e,"FirebaseInstallationsError",{enumerable:!0,get:function(){return g.FirebaseInstallationsError}}),Object.defineProperty(e,"InstallationsClientErrorCode",{enumerable:!0,get:function(){return g.InstallationsClientErrorCode}})})(installations)),installations}var hasRequiredInstanceId$1;function requireInstanceId$1(){if(hasRequiredInstanceId$1)return instanceId$1;hasRequiredInstanceId$1=1;Object.defineProperty(instanceId$1,"__esModule",{value:!0}),instanceId$1.InstanceId=void 0;const e=requireInstallations(),t=requireError(),a=requireValidator$1();class p{constructor(m){if(!a.isNonNullObject(m)||!("options"in m))throw new t.FirebaseInstanceIdError(t.InstanceIdClientErrorCode.INVALID_ARGUMENT,"First argument passed to instanceId() must be a valid Firebase app instance.");this.app_=m}deleteInstanceId(m){return(0,e.getInstallations)(this.app).deleteInstallation(m).catch(c=>{if(c instanceof t.FirebaseInstallationsError){let l=c.code.replace("installations/","");throw l===t.InstallationsClientErrorCode.INVALID_INSTALLATION_ID.code&&(l=t.InstanceIdClientErrorCode.INVALID_INSTANCE_ID.code),new t.FirebaseInstanceIdError({code:l,message:c.message})}throw c})}get app(){return this.app_}}return instanceId$1.InstanceId=p,instanceId$1}var projectManagement$1={},androidApp={},projectManagementApiRequestInternal={};var hasRequiredProjectManagementApiRequestInternal;function requireProjectManagementApiRequestInternal(){if(hasRequiredProjectManagementApiRequestInternal)return projectManagementApiRequestInternal;hasRequiredProjectManagementApiRequestInternal=1;Object.defineProperty(projectManagementApiRequestInternal,"__esModule",{value:!0}),projectManagementApiRequestInternal.ProjectManagementRequestHandler=void 0,projectManagementApiRequestInternal.assertServerResponse=v;const e=requireApiRequest(),t=requireError(),a=requireUtils$2(),p=requireValidator$1(),g="firebase.googleapis.com:443",m="/v1/",c="/v1beta1/",l={"X-Client-Version":`Node/Admin/${(0,a.getSdkVersion)()}`},o=1e4,s=100,h={sha1:"SHA_1",sha256:"SHA_256"};function v(y,O,w){if(!y)throw new t.FirebaseProjectManagementError("invalid-server-response",`${w} Response data: ${JSON.stringify(O,null,2)}`)}class b{static wrapAndRethrowHttpError(O,w){let I,_;switch(O){case 400:I="invalid-argument",_="Invalid argument provided.";break;case 401:case 403:I="authentication-error",_="An error occurred when trying to authenticate. Make sure the credential used to authenticate this SDK has the proper permissions. See https://firebase.google.com/docs/admin/setup for setup instructions.";break;case 404:I="not-found",_="The specified entity could not be found.";break;case 409:I="already-exists",_="The specified entity already exists.";break;case 500:I="internal-error",_="An internal error has occurred. Please retry the request.";break;case 503:I="service-unavailable",_="The server could not process the request in time. See the error documentation for more details.";break;default:I="unknown-error",_="An unknown server error was returned."}throw w||(w="<missing>"),new t.FirebaseProjectManagementError(I,`${_} Status code: ${O}. Raw server response: "${w}".`)}constructor(O){this.baseUrl=`https://${g}${m}`,this.baseBetaUrl=`https://${g}${c}`,this.httpClient=new e.AuthorizedHttpClient(O)}listAndroidApps(O){return this.invokeRequestHandler("GET",`${O}/androidApps?page_size=${s}`,null,"v1beta1")}listIosApps(O){return this.invokeRequestHandler("GET",`${O}/iosApps?page_size=${s}`,null,"v1beta1")}listAppMetadata(O){return this.invokeRequestHandler("GET",`${O}:searchApps?page_size=${s}`,null,"v1beta1")}createAndroidApp(O,w,I){const _={packageName:w};return p.isNonEmptyString(I)&&(_.displayName=I),this.invokeRequestHandler("POST",`${O}/androidApps`,_,"v1beta1").then(T=>(v(p.isNonNullObject(T),T,"createAndroidApp's responseData must be a non-null object."),v(p.isNonEmptyString(T.name),T,"createAndroidApp's responseData.name must be a non-empty string."),this.pollRemoteOperationWithExponentialBackoff(T.name)))}createIosApp(O,w,I){const _={bundleId:w};return p.isNonEmptyString(I)&&(_.displayName=I),this.invokeRequestHandler("POST",`${O}/iosApps`,_,"v1beta1").then(T=>(v(p.isNonNullObject(T),T,"createIosApp's responseData must be a non-null object."),v(p.isNonEmptyString(T.name),T,"createIosApp's responseData.name must be a non-empty string."),this.pollRemoteOperationWithExponentialBackoff(T.name)))}setDisplayName(O,w){const I={displayName:w};return this.invokeRequestHandler("PATCH",`${O}?update_mask=display_name`,I,"v1beta1").then(()=>{})}getAndroidShaCertificates(O){return this.invokeRequestHandler("GET",`${O}/sha`,null,"v1beta1")}addAndroidShaCertificate(O,w){const I={shaHash:w.shaHash,certType:h[w.certType]};return this.invokeRequestHandler("POST",`${O}/sha`,I,"v1beta1").then(()=>{})}getConfig(O){return this.invokeRequestHandler("GET",`${O}/config`,null,"v1beta1")}getResource(O){return this.invokeRequestHandler("GET",O,null,"v1beta1")}deleteResource(O){return this.invokeRequestHandler("DELETE",O,null,"v1beta1").then(()=>{})}pollRemoteOperationWithExponentialBackoff(O){return new e.ExponentialBackoffPoller().poll(()=>this.invokeRequestHandler("GET",O,null).then(I=>{if(I.error){const _=I.error.code||500,T=I.error.message||JSON.stringify(I.error);b.wrapAndRethrowHttpError(_,T)}return I.done?I.response:null}))}invokeRequestHandler(O,w,I,_="v1"){const T=_==="v1"?this.baseUrl:this.baseBetaUrl,C={method:O,url:`${T}${w}`,headers:l,data:I,timeout:o};return this.httpClient.send(C).then(N=>{if(!N.isJson())throw new e.RequestResponseError(N);return N.data}).catch(N=>{throw N instanceof e.RequestResponseError&&b.wrapAndRethrowHttpError(N.response.status,N.response.text),N})}}return projectManagementApiRequestInternal.ProjectManagementRequestHandler=b,projectManagementApiRequestInternal}var appMetadata={};var hasRequiredAppMetadata;function requireAppMetadata(){if(hasRequiredAppMetadata)return appMetadata;hasRequiredAppMetadata=1;Object.defineProperty(appMetadata,"__esModule",{value:!0}),appMetadata.AppPlatform=void 0;var e;return(function(t){t.PLATFORM_UNKNOWN="PLATFORM_UNKNOWN",t.IOS="IOS",t.ANDROID="ANDROID"})(e||(appMetadata.AppPlatform=e={})),appMetadata}var hasRequiredAndroidApp;function requireAndroidApp(){if(hasRequiredAndroidApp)return androidApp;hasRequiredAndroidApp=1;Object.defineProperty(androidApp,"__esModule",{value:!0}),androidApp.ShaCertificate=androidApp.AndroidApp=void 0;const e=requireError(),t=requireValidator$1(),a=requireProjectManagementApiRequestInternal(),p=requireAppMetadata();class g{constructor(l,o){if(this.appId=l,this.requestHandler=o,!t.isNonEmptyString(l))throw new e.FirebaseProjectManagementError("invalid-argument","appId must be a non-empty string.");this.resourceName=`projects/-/androidApps/${l}`}getMetadata(){return this.requestHandler.getResource(this.resourceName).then(l=>((0,a.assertServerResponse)(t.isNonNullObject(l),l,"getMetadata()'s responseData must be a non-null object."),["name","appId","projectId","packageName"].forEach(h=>{(0,a.assertServerResponse)(t.isNonEmptyString(l[h]),l,`getMetadata()'s responseData.${h} must be a non-empty string.`)}),{platform:p.AppPlatform.ANDROID,resourceName:l.name,appId:l.appId,displayName:l.displayName||null,projectId:l.projectId,packageName:l.packageName}))}setDisplayName(l){return this.requestHandler.setDisplayName(this.resourceName,l)}getShaCertificates(){return this.requestHandler.getAndroidShaCertificates(this.resourceName).then(l=>{if((0,a.assertServerResponse)(t.isNonNullObject(l),l,"getShaCertificates()'s responseData must be a non-null object."),!l.certificates)return[];(0,a.assertServerResponse)(t.isArray(l.certificates),l,'"certificates" field must be present in the getShaCertificates() response data.');const o=["name","shaHash"];return l.certificates.map(s=>(o.forEach(h=>{(0,a.assertServerResponse)(t.isNonEmptyString(s[h]),l,`getShaCertificates()'s responseData.certificates[].${h} must be a non-empty string.`)}),new m(s.shaHash,s.name)))})}addShaCertificate(l){return this.requestHandler.addAndroidShaCertificate(this.resourceName,l)}deleteShaCertificate(l){if(!l.resourceName)throw new e.FirebaseProjectManagementError("invalid-argument","Specified certificate does not include a resourceName. (Use AndroidApp.getShaCertificates() to retrieve certificates with a resourceName.");return this.requestHandler.deleteResource(l.resourceName)}getConfig(){return this.requestHandler.getConfig(this.resourceName).then(l=>{(0,a.assertServerResponse)(t.isNonNullObject(l),l,"getConfig()'s responseData must be a non-null object.");const o=l.configFileContents;return(0,a.assertServerResponse)(t.isBase64String(o),l,"getConfig()'s responseData.configFileContents must be a base64 string."),Buffer.from(o,"base64").toString("utf8")})}}androidApp.AndroidApp=g;class m{constructor(l,o){if(this.shaHash=l,this.resourceName=o,/^[a-fA-F0-9]{40}$/.test(l))this.certType="sha1";else if(/^[a-fA-F0-9]{64}$/.test(l))this.certType="sha256";else throw new e.FirebaseProjectManagementError("invalid-argument","shaHash must be either a sha256 hash or a sha1 hash.")}}return androidApp.ShaCertificate=m,androidApp}var iosApp={};var hasRequiredIosApp;function requireIosApp(){if(hasRequiredIosApp)return iosApp;hasRequiredIosApp=1;Object.defineProperty(iosApp,"__esModule",{value:!0}),iosApp.IosApp=void 0;const e=requireError(),t=requireValidator$1(),a=requireProjectManagementApiRequestInternal(),p=requireAppMetadata();class g{constructor(c,l){if(this.appId=c,this.requestHandler=l,!t.isNonEmptyString(c))throw new e.FirebaseProjectManagementError("invalid-argument","appId must be a non-empty string.");this.resourceName=`projects/-/iosApps/${c}`}getMetadata(){return this.requestHandler.getResource(this.resourceName).then(c=>((0,a.assertServerResponse)(t.isNonNullObject(c),c,"getMetadata()'s responseData must be a non-null object."),["name","appId","projectId","bundleId"].forEach(s=>{(0,a.assertServerResponse)(t.isNonEmptyString(c[s]),c,`getMetadata()'s responseData.${s} must be a non-empty string.`)}),{platform:p.AppPlatform.IOS,resourceName:c.name,appId:c.appId,displayName:c.displayName||null,projectId:c.projectId,bundleId:c.bundleId}))}setDisplayName(c){return this.requestHandler.setDisplayName(this.resourceName,c)}getConfig(){return this.requestHandler.getConfig(this.resourceName).then(c=>{(0,a.assertServerResponse)(t.isNonNullObject(c),c,"getConfig()'s responseData must be a non-null object.");const l=c.configFileContents;return(0,a.assertServerResponse)(t.isBase64String(l),c,"getConfig()'s responseData.configFileContents must be a base64 string."),Buffer.from(l,"base64").toString("utf8")})}}return iosApp.IosApp=g,iosApp}var hasRequiredProjectManagement$1;function requireProjectManagement$1(){if(hasRequiredProjectManagement$1)return projectManagement$1;hasRequiredProjectManagement$1=1;Object.defineProperty(projectManagement$1,"__esModule",{value:!0}),projectManagement$1.ProjectManagement=void 0;const e=requireError(),t=requireUtils$2(),a=requireValidator$1(),p=requireAndroidApp(),g=requireIosApp(),m=requireProjectManagementApiRequestInternal(),c=requireAppMetadata();class l{constructor(s){if(this.app=s,!a.isNonNullObject(s)||!("options"in s))throw new e.FirebaseProjectManagementError("invalid-argument","First argument passed to admin.projectManagement() must be a valid Firebase app instance.");this.requestHandler=new m.ProjectManagementRequestHandler(s)}listAndroidApps(){return this.listPlatformApps("android","listAndroidApps()")}listIosApps(){return this.listPlatformApps("ios","listIosApps()")}androidApp(s){return new p.AndroidApp(s,this.requestHandler)}iosApp(s){return new g.IosApp(s,this.requestHandler)}shaCertificate(s){return new p.ShaCertificate(s)}createAndroidApp(s,h){return this.getResourceName().then(v=>this.requestHandler.createAndroidApp(v,s,h)).then(v=>((0,m.assertServerResponse)(a.isNonNullObject(v),v,"createAndroidApp()'s responseData must be a non-null object."),(0,m.assertServerResponse)(a.isNonEmptyString(v.appId),v,`"responseData.appId" field must be present in createAndroidApp()'s response data.`),new p.AndroidApp(v.appId,this.requestHandler)))}createIosApp(s,h){return this.getResourceName().then(v=>this.requestHandler.createIosApp(v,s,h)).then(v=>((0,m.assertServerResponse)(a.isNonNullObject(v),v,"createIosApp()'s responseData must be a non-null object."),(0,m.assertServerResponse)(a.isNonEmptyString(v.appId),v,`"responseData.appId" field must be present in createIosApp()'s response data.`),new g.IosApp(v.appId,this.requestHandler)))}listAppMetadata(){return this.getResourceName().then(s=>this.requestHandler.listAppMetadata(s)).then(s=>this.getProjectId().then(h=>this.transformResponseToAppMetadata(s,h)))}setDisplayName(s){return this.getResourceName().then(h=>this.requestHandler.setDisplayName(h,s))}transformResponseToAppMetadata(s,h){return this.assertListAppsResponseData(s,"listAppMetadata()"),s.apps?s.apps.map(v=>{(0,m.assertServerResponse)(a.isNonEmptyString(v.appId),s,'"apps[].appId" field must be present in the listAppMetadata() response data.'),(0,m.assertServerResponse)(a.isNonEmptyString(v.platform),s,'"apps[].platform" field must be present in the listAppMetadata() response data.');const b={appId:v.appId,platform:c.AppPlatform[v.platform]||c.AppPlatform.PLATFORM_UNKNOWN,projectId:h,resourceName:v.name};return v.displayName&&(b.displayName=v.displayName),b}):[]}getResourceName(){return this.getProjectId().then(s=>`projects/${s}`)}getProjectId(){return this.projectId?Promise.resolve(this.projectId):t.findProjectId(this.app).then(s=>{if(!a.isNonEmptyString(s))throw new e.FirebaseProjectManagementError("invalid-project-id","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectId=s,this.projectId})}listPlatformApps(s,h){return this.getResourceName().then(v=>s==="android"?this.requestHandler.listAndroidApps(v):this.requestHandler.listIosApps(v)).then(v=>(this.assertListAppsResponseData(v,h),v.apps?v.apps.map(b=>((0,m.assertServerResponse)(a.isNonEmptyString(b.appId),v,`"apps[].appId" field must be present in the ${h} response data.`),s==="android"?new p.AndroidApp(b.appId,this.requestHandler):new g.IosApp(b.appId,this.requestHandler))):[]))}assertListAppsResponseData(s,h){(0,m.assertServerResponse)(a.isNonNullObject(s),s,`${h}'s responseData must be a non-null object.`),s.apps&&(0,m.assertServerResponse)(a.isArray(s.apps),s,`"apps" field must be present in the ${h} response data.`)}}return projectManagement$1.ProjectManagement=l,projectManagement$1}var securityRules$1={},securityRulesApiClientInternal={},securityRulesInternal={};var hasRequiredSecurityRulesInternal;function requireSecurityRulesInternal(){if(hasRequiredSecurityRulesInternal)return securityRulesInternal;hasRequiredSecurityRulesInternal=1;Object.defineProperty(securityRulesInternal,"__esModule",{value:!0}),securityRulesInternal.FirebaseSecurityRulesError=void 0;const e=requireError();class t extends e.PrefixedFirebaseError{constructor(p,g){super("security-rules",p,g)}}return securityRulesInternal.FirebaseSecurityRulesError=t,securityRulesInternal}var hasRequiredSecurityRulesApiClientInternal;function requireSecurityRulesApiClientInternal(){if(hasRequiredSecurityRulesApiClientInternal)return securityRulesApiClientInternal;hasRequiredSecurityRulesApiClientInternal=1;Object.defineProperty(securityRulesApiClientInternal,"__esModule",{value:!0}),securityRulesApiClientInternal.SecurityRulesApiClient=void 0;const e=requireApiRequest(),t=requireError(),a=requireSecurityRulesInternal(),p=requireUtils$2(),g=requireValidator$1(),m="https://firebaserules.googleapis.com/v1",c={"X-Firebase-Client":`fire-admin-node/${p.getSdkVersion()}`};class l{constructor(h){if(this.app=h,!g.isNonNullObject(h)||!("options"in h))throw new a.FirebaseSecurityRulesError("invalid-argument","First argument passed to admin.securityRules() must be a valid Firebase app instance.");this.httpClient=new e.AuthorizedHttpClient(h)}getRuleset(h){return Promise.resolve().then(()=>this.getRulesetName(h)).then(v=>this.getResource(v))}createRuleset(h){if(!g.isNonNullObject(h)||!g.isNonNullObject(h.source)||!g.isNonEmptyArray(h.source.files)){const v=new a.FirebaseSecurityRulesError("invalid-argument","Invalid rules content.");return Promise.reject(v)}for(const v of h.source.files)if(!g.isNonNullObject(v)||!g.isNonEmptyString(v.name)||!g.isNonEmptyString(v.content)){const b=new a.FirebaseSecurityRulesError("invalid-argument",`Invalid rules file argument: ${JSON.stringify(v)}`);return Promise.reject(b)}return this.getUrl().then(v=>{const b={method:"POST",url:`${v}/rulesets`,data:h};return this.sendRequest(b)})}deleteRuleset(h){return this.getUrl().then(v=>{const b=this.getRulesetName(h),y={method:"DELETE",url:`${v}/${b}`};return this.sendRequest(y)})}listRulesets(h=100,v){if(!g.isNumber(h)){const y=new a.FirebaseSecurityRulesError("invalid-argument","Invalid page size.");return Promise.reject(y)}if(h<1||h>100){const y=new a.FirebaseSecurityRulesError("invalid-argument","Page size must be between 1 and 100.");return Promise.reject(y)}if(typeof v<"u"&&!g.isNonEmptyString(v)){const y=new a.FirebaseSecurityRulesError("invalid-argument","Next page token must be a non-empty string.");return Promise.reject(y)}const b={pageSize:h,pageToken:v};return v||delete b.pageToken,this.getUrl().then(y=>{const O={method:"GET",url:`${y}/rulesets`,data:b};return this.sendRequest(O)})}getRelease(h){return this.getResource(`releases/${h}`)}updateOrCreateRelease(h,v){return this.updateRelease(h,v).catch(b=>{if(b.code===`security-rules/${o.NOT_FOUND}`)return this.createRelease(h,v);throw b})}updateRelease(h,v){return this.getUrl().then(b=>this.getReleaseDescription(h,v).then(y=>{const O={method:"PATCH",url:`${b}/releases/${h}`,data:{release:y}};return this.sendRequest(O)}))}createRelease(h,v){return this.getUrl().then(b=>this.getReleaseDescription(h,v).then(y=>{const O={method:"POST",url:`${b}/releases`,data:y};return this.sendRequest(O)}))}getUrl(){return this.getProjectIdPrefix().then(h=>`${m}/${h}`)}getProjectIdPrefix(){return this.projectIdPrefix?Promise.resolve(this.projectIdPrefix):p.findProjectId(this.app).then(h=>{if(!g.isNonEmptyString(h))throw new a.FirebaseSecurityRulesError("invalid-argument","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectIdPrefix=`projects/${h}`,this.projectIdPrefix})}getResource(h){return this.getUrl().then(v=>{const b={method:"GET",url:`${v}/${h}`};return this.sendRequest(b)})}getReleaseDescription(h,v){return this.getProjectIdPrefix().then(b=>({name:`${b}/releases/${h}`,rulesetName:`${b}/${this.getRulesetName(v)}`}))}getRulesetName(h){if(!g.isNonEmptyString(h))throw new a.FirebaseSecurityRulesError("invalid-argument","Ruleset name must be a non-empty string.");if(h.indexOf("/")!==-1)throw new a.FirebaseSecurityRulesError("invalid-argument",'Ruleset name must not contain any "/" characters.');return`rulesets/${h}`}sendRequest(h){return h.headers=c,this.httpClient.send(h).then(v=>v.data).catch(v=>{throw this.toFirebaseError(v)})}toFirebaseError(h){if(h instanceof t.PrefixedFirebaseError)return h;const v=h.response;if(!v.isJson())return new a.FirebaseSecurityRulesError("unknown-error",`Unexpected response with status: ${v.status} and body: ${v.text}`);const b=v.data.error||{};let y="unknown-error";b.status&&b.status in o&&(y=o[b.status]);const O=b.message||`Unknown server error: ${v.text}`;return new a.FirebaseSecurityRulesError(y,O)}}securityRulesApiClientInternal.SecurityRulesApiClient=l;const o={INVALID_ARGUMENT:"invalid-argument",NOT_FOUND:"not-found",RESOURCE_EXHAUSTED:"resource-exhausted",UNAUTHENTICATED:"authentication-error",UNKNOWN:"unknown-error"};return securityRulesApiClientInternal}var hasRequiredSecurityRules$1;function requireSecurityRules$1(){if(hasRequiredSecurityRules$1)return securityRules$1;hasRequiredSecurityRules$1=1;Object.defineProperty(securityRules$1,"__esModule",{value:!0}),securityRules$1.SecurityRules=securityRules$1.Ruleset=securityRules$1.RulesetMetadataList=void 0;const e=requireValidator$1(),t=requireSecurityRulesApiClientInternal(),a=requireSecurityRulesInternal();class p{constructor(o){if(!e.isNonNullObject(o)||!e.isArray(o.rulesets))throw new a.FirebaseSecurityRulesError("invalid-argument",`Invalid ListRulesets response: ${JSON.stringify(o)}`);this.rulesets=o.rulesets.map(s=>({name:c(s.name),createTime:new Date(s.createTime).toUTCString()})),o.nextPageToken&&(this.nextPageToken=o.nextPageToken)}}securityRules$1.RulesetMetadataList=p;class g{constructor(o){if(!e.isNonNullObject(o)||!e.isNonEmptyString(o.name)||!e.isNonEmptyString(o.createTime)||!e.isNonNullObject(o.source))throw new a.FirebaseSecurityRulesError("invalid-argument",`Invalid Ruleset response: ${JSON.stringify(o)}`);this.name=c(o.name),this.createTime=new Date(o.createTime).toUTCString(),this.source=o.source.files||[]}}securityRules$1.Ruleset=g;class m{constructor(o){this.app=o,this.client=new t.SecurityRulesApiClient(o)}getRuleset(o){return this.client.getRuleset(o).then(s=>new g(s))}getFirestoreRuleset(){return this.getRulesetForRelease(m.CLOUD_FIRESTORE)}releaseFirestoreRulesetFromSource(o){return Promise.resolve().then(()=>{const s=this.createRulesFileFromSource("firestore.rules",o);return this.createRuleset(s)}).then(s=>this.releaseFirestoreRuleset(s).then(()=>s))}releaseFirestoreRuleset(o){return this.releaseRuleset(o,m.CLOUD_FIRESTORE)}getStorageRuleset(o){return Promise.resolve().then(()=>this.getBucketName(o)).then(s=>this.getRulesetForRelease(`${m.FIREBASE_STORAGE}/${s}`))}releaseStorageRulesetFromSource(o,s){return Promise.resolve().then(()=>{this.getBucketName(s);const h=this.createRulesFileFromSource("storage.rules",o);return this.createRuleset(h)}).then(h=>this.releaseStorageRuleset(h,s).then(()=>h))}releaseStorageRuleset(o,s){return Promise.resolve().then(()=>this.getBucketName(s)).then(h=>this.releaseRuleset(o,`${m.FIREBASE_STORAGE}/${h}`))}createRulesFileFromSource(o,s){if(!e.isNonEmptyString(o))throw new a.FirebaseSecurityRulesError("invalid-argument","Name must be a non-empty string.");let h;if(e.isNonEmptyString(s))h=s;else if(e.isBuffer(s))h=s.toString("utf-8");else throw new a.FirebaseSecurityRulesError("invalid-argument","Source must be a non-empty string or a Buffer.");return{name:o,content:h}}createRuleset(o){const s={source:{files:[o]}};return this.client.createRuleset(s).then(h=>new g(h))}deleteRuleset(o){return this.client.deleteRuleset(o)}listRulesetMetadata(o=100,s){return this.client.listRulesets(o,s).then(h=>new p(h))}getRulesetForRelease(o){return this.client.getRelease(o).then(s=>{const h=s.rulesetName;if(!e.isNonEmptyString(h))throw new a.FirebaseSecurityRulesError("not-found",`Ruleset name not found for ${o}.`);return this.getRuleset(c(h))})}releaseRuleset(o,s){if(!e.isNonEmptyString(o)&&(!e.isNonNullObject(o)||!e.isNonEmptyString(o.name))){const v=new a.FirebaseSecurityRulesError("invalid-argument","ruleset must be a non-empty name or a RulesetMetadata object.");return Promise.reject(v)}const h=e.isString(o)?o:o.name;return this.client.updateOrCreateRelease(s,h).then(()=>{})}getBucketName(o){const s=typeof o<"u"?o:this.app.options.storageBucket;if(!e.isNonEmptyString(s))throw new a.FirebaseSecurityRulesError("invalid-argument","Bucket name not specified or invalid. Specify a default bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the rules API.");return s}}securityRules$1.SecurityRules=m,m.CLOUD_FIRESTORE="cloud.firestore",m.FIREBASE_STORAGE="firebase.storage";function c(l){return l.split("/").pop()}return securityRules$1}var remoteConfig$1={},remoteConfigApiClientInternal={},hasRequiredRemoteConfigApiClientInternal;function requireRemoteConfigApiClientInternal(){if(hasRequiredRemoteConfigApiClientInternal)return remoteConfigApiClientInternal;hasRequiredRemoteConfigApiClientInternal=1;var e={};Object.defineProperty(remoteConfigApiClientInternal,"__esModule",{value:!0}),remoteConfigApiClientInternal.FirebaseRemoteConfigError=remoteConfigApiClientInternal.RemoteConfigApiClient=void 0;const t=requireApiRequest(),a=requireError(),p=requireUtils$2(),g=requireValidator$1(),m=requireDeepCopy(),c=e.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",l={"X-Firebase-Client":`fire-admin-node/${p.getSdkVersion()}`,"Accept-Encoding":"gzip"};class o{constructor(b){if(this.app=b,!g.isNonNullObject(b)||!("options"in b))throw new h("invalid-argument","First argument passed to admin.remoteConfig() must be a valid Firebase app instance.");this.httpClient=new t.AuthorizedHttpClient(b)}getTemplate(){return this.getUrl().then(b=>{const y={method:"GET",url:`${b}/remoteConfig`,headers:l};return this.httpClient.send(y)}).then(b=>this.toRemoteConfigTemplate(b)).catch(b=>{throw this.toFirebaseError(b)})}getTemplateAtVersion(b){const y={versionNumber:this.validateVersionNumber(b)};return this.getUrl().then(O=>{const w={method:"GET",url:`${O}/remoteConfig`,headers:l,data:y};return this.httpClient.send(w)}).then(O=>this.toRemoteConfigTemplate(O)).catch(O=>{throw this.toFirebaseError(O)})}validateTemplate(b){return b=this.validateInputRemoteConfigTemplate(b),this.sendPutRequest(b,b.etag,!0).then(y=>(this.validateEtag(y.headers.etag),this.toRemoteConfigTemplate(y,b.etag))).catch(y=>{throw this.toFirebaseError(y)})}publishTemplate(b,y){b=this.validateInputRemoteConfigTemplate(b);let O=b.etag;return y&&y.force===!0&&(O="*"),this.sendPutRequest(b,O).then(w=>this.toRemoteConfigTemplate(w)).catch(w=>{throw this.toFirebaseError(w)})}rollback(b){const y={versionNumber:this.validateVersionNumber(b)};return this.getUrl().then(O=>{const w={method:"POST",url:`${O}/remoteConfig:rollback`,headers:l,data:y};return this.httpClient.send(w)}).then(O=>this.toRemoteConfigTemplate(O)).catch(O=>{throw this.toFirebaseError(O)})}listVersions(b){return typeof b<"u"&&(b=this.validateListVersionsOptions(b)),this.getUrl().then(y=>{const O={method:"GET",url:`${y}/remoteConfig:listVersions`,headers:l,data:b};return this.httpClient.send(O)}).then(y=>y.data).catch(y=>{throw this.toFirebaseError(y)})}getServerTemplate(){return this.getUrl().then(b=>{const y={method:"GET",url:`${b}/namespaces/firebase-server/serverRemoteConfig`,headers:l};return this.httpClient.send(y)}).then(b=>this.toRemoteConfigServerTemplate(b)).catch(b=>{throw this.toFirebaseError(b)})}sendPutRequest(b,y,O){let w="remoteConfig";return O&&(w+="?validate_only=true"),this.getUrl().then(I=>{const _={method:"PUT",url:`${I}/${w}`,headers:{...l,"If-Match":y},data:{conditions:b.conditions,parameters:b.parameters,parameterGroups:b.parameterGroups,version:b.version}};return this.httpClient.send(_)})}getUrl(){return this.getProjectIdPrefix().then(b=>`${c}/v1/${b}`)}getProjectIdPrefix(){return this.projectIdPrefix?Promise.resolve(this.projectIdPrefix):p.findProjectId(this.app).then(b=>{if(!g.isNonEmptyString(b))throw new h("unknown-error","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectIdPrefix=`projects/${b}`,this.projectIdPrefix})}toFirebaseError(b){if(b instanceof a.PrefixedFirebaseError)return b;const y=b.response;if(!y.isJson())return new h("unknown-error",`Unexpected response with status: ${y.status} and body: ${y.text}`);const O=y.data.error||{};let w="unknown-error";O.status&&O.status in s&&(w=s[O.status]);const I=O.message||`Unknown server error: ${y.text}`;return new h(w,I)}toRemoteConfigTemplate(b,y){const O=typeof y>"u"?b.headers.etag:y;return this.validateEtag(O),{conditions:b.data.conditions,parameters:b.data.parameters,parameterGroups:b.data.parameterGroups,etag:O,version:b.data.version}}toRemoteConfigServerTemplate(b,y){const O=typeof y>"u"?b.headers.etag:y;return this.validateEtag(O),{conditions:b.data.conditions,parameters:b.data.parameters,etag:O,version:b.data.version}}validateInputRemoteConfigTemplate(b){const y=(0,m.deepCopy)(b);if(!g.isNonNullObject(y))throw new h("invalid-argument",`Invalid Remote Config template: ${JSON.stringify(y)}`);if(!g.isNonEmptyString(y.etag))throw new h("invalid-argument","ETag must be a non-empty string.");if(!g.isNonNullObject(y.parameters))throw new h("invalid-argument","Remote Config parameters must be a non-null object");if(!g.isNonNullObject(y.parameterGroups))throw new h("invalid-argument","Remote Config parameter groups must be a non-null object");if(!g.isArray(y.conditions))throw new h("invalid-argument","Remote Config conditions must be an array");return typeof y.version<"u"&&(y.version={description:y.version.description}),y}validateVersionNumber(b,y="versionNumber"){if(!g.isNonEmptyString(b)&&!g.isNumber(b))throw new h("invalid-argument",`${y} must be a non-empty string in int64 format or a number`);if(!Number.isInteger(Number(b)))throw new h("invalid-argument",`${y} must be an integer or a string in int64 format`);return b.toString()}validateEtag(b){if(!g.isNonEmptyString(b))throw new h("invalid-argument","ETag header is not present in the server response.")}validateListVersionsOptions(b){const y=(0,m.deepCopy)(b);if(!g.isNonNullObject(y))throw new h("invalid-argument","ListVersionsOptions must be a non-null object.");if(typeof y.pageSize<"u"){if(!g.isNumber(y.pageSize))throw new h("invalid-argument","pageSize must be a number.");if(y.pageSize<1||y.pageSize>300)throw new h("invalid-argument","pageSize must be a number between 1 and 300 (inclusive).")}if(typeof y.pageToken<"u"&&!g.isNonEmptyString(y.pageToken))throw new h("invalid-argument","pageToken must be a string value.");if(typeof y.endVersionNumber<"u"&&(y.endVersionNumber=this.validateVersionNumber(y.endVersionNumber,"endVersionNumber")),typeof y.startTime<"u"){if(!(y.startTime instanceof Date)&&!g.isUTCDateString(y.startTime))throw new h("invalid-argument","startTime must be a valid Date object or a UTC date string.");y.startTime instanceof Date?y.startTime=y.startTime.toISOString():y.startTime=new Date(y.startTime).toISOString()}if(typeof y.endTime<"u"){if(!(y.endTime instanceof Date)&&!g.isUTCDateString(y.endTime))throw new h("invalid-argument","endTime must be a valid Date object or a UTC date string.");y.endTime instanceof Date?y.endTime=y.endTime.toISOString():y.endTime=new Date(y.endTime).toISOString()}return Object.keys(y).forEach(O=>typeof y[O]>"u"&&delete y[O]),y}}remoteConfigApiClientInternal.RemoteConfigApiClient=o;const s={ABORTED:"aborted",ALREADY_EXISTS:"already-exists",INVALID_ARGUMENT:"invalid-argument",INTERNAL:"internal-error",FAILED_PRECONDITION:"failed-precondition",NOT_FOUND:"not-found",OUT_OF_RANGE:"out-of-range",PERMISSION_DENIED:"permission-denied",RESOURCE_EXHAUSTED:"resource-exhausted",UNAUTHENTICATED:"unauthenticated",UNKNOWN:"unknown-error"};class h extends a.PrefixedFirebaseError{constructor(b,y){super("remote-config",b,y)}}return remoteConfigApiClientInternal.FirebaseRemoteConfigError=h,remoteConfigApiClientInternal}var conditionEvaluatorInternal={},remoteConfigApi={};var hasRequiredRemoteConfigApi;function requireRemoteConfigApi(){if(hasRequiredRemoteConfigApi)return remoteConfigApi;hasRequiredRemoteConfigApi=1;Object.defineProperty(remoteConfigApi,"__esModule",{value:!0}),remoteConfigApi.CustomSignalOperator=remoteConfigApi.PercentConditionOperator=void 0;var e;(function(a){a.UNKNOWN="UNKNOWN",a.LESS_OR_EQUAL="LESS_OR_EQUAL",a.GREATER_THAN="GREATER_THAN",a.BETWEEN="BETWEEN"})(e||(remoteConfigApi.PercentConditionOperator=e={}));var t;return(function(a){a.UNKNOWN="UNKNOWN",a.NUMERIC_LESS_THAN="NUMERIC_LESS_THAN",a.NUMERIC_LESS_EQUAL="NUMERIC_LESS_EQUAL",a.NUMERIC_EQUAL="NUMERIC_EQUAL",a.NUMERIC_NOT_EQUAL="NUMERIC_NOT_EQUAL",a.NUMERIC_GREATER_THAN="NUMERIC_GREATER_THAN",a.NUMERIC_GREATER_EQUAL="NUMERIC_GREATER_EQUAL",a.STRING_CONTAINS="STRING_CONTAINS",a.STRING_DOES_NOT_CONTAIN="STRING_DOES_NOT_CONTAIN",a.STRING_EXACTLY_MATCHES="STRING_EXACTLY_MATCHES",a.STRING_CONTAINS_REGEX="STRING_CONTAINS_REGEX",a.SEMANTIC_VERSION_LESS_THAN="SEMANTIC_VERSION_LESS_THAN",a.SEMANTIC_VERSION_LESS_EQUAL="SEMANTIC_VERSION_LESS_EQUAL",a.SEMANTIC_VERSION_EQUAL="SEMANTIC_VERSION_EQUAL",a.SEMANTIC_VERSION_NOT_EQUAL="SEMANTIC_VERSION_NOT_EQUAL",a.SEMANTIC_VERSION_GREATER_THAN="SEMANTIC_VERSION_GREATER_THAN",a.SEMANTIC_VERSION_GREATER_EQUAL="SEMANTIC_VERSION_GREATER_EQUAL"})(t||(remoteConfigApi.CustomSignalOperator=t={})),remoteConfigApi}var hasRequiredConditionEvaluatorInternal;function requireConditionEvaluatorInternal(){if(hasRequiredConditionEvaluatorInternal)return conditionEvaluatorInternal;hasRequiredConditionEvaluatorInternal=1,Object.defineProperty(conditionEvaluatorInternal,"__esModule",{value:!0}),conditionEvaluatorInternal.ConditionEvaluator=void 0;const e=requireRemoteConfigApi(),t=require$$1$3;class a{evaluateConditions(o,s){const h=new Map;for(const v of o)h.set(v.name,this.evaluateCondition(v.condition,s));return h}evaluateCondition(o,s,h=0){return h>=a.MAX_CONDITION_RECURSION_DEPTH?!1:o.orCondition?this.evaluateOrCondition(o.orCondition,s,h+1):o.andCondition?this.evaluateAndCondition(o.andCondition,s,h+1):o.true?!0:o.false?!1:o.percent?this.evaluatePercentCondition(o.percent,s):o.customSignal?this.evaluateCustomSignalCondition(o.customSignal,s):!1}evaluateOrCondition(o,s,h){const v=o.conditions||[];for(const b of v){const y=this.evaluateCondition(b,s,h+1);if(y)return y}return!1}evaluateAndCondition(o,s,h){const v=o.conditions||[];for(const b of v){const y=this.evaluateCondition(b,s,h+1);if(!y)return y}return!0}evaluatePercentCondition(o,s){if(!s.randomizationId)return!1;const{seed:h,percentOperator:v,microPercent:b,microPercentRange:y}=o;if(!v)return!1;const O=b||0,w=y?.microPercentUpperBound||0,I=y?.microPercentLowerBound||0,T=`${h&&h.length>0?`${h}.`:""}${s.randomizationId}`,N=a.hashSeededRandomizationId(T)%BigInt(100*1e6);switch(v){case e.PercentConditionOperator.LESS_OR_EQUAL:return N<=O;case e.PercentConditionOperator.GREATER_THAN:return N>O;case e.PercentConditionOperator.BETWEEN:return N>I&&N<=w;case e.PercentConditionOperator.UNKNOWN:}return!1}static hashSeededRandomizationId(o){const s=(0,t.createHash)("sha256").update(o).digest("hex");return BigInt(`0x${s}`)}evaluateCustomSignalCondition(o,s){const{customSignalOperator:h,customSignalKey:v,targetCustomSignalValues:b}=o;if(!h||!v||!b||!b.length)return!1;const y=s[v];if(y==null)return!1;switch(h){case e.CustomSignalOperator.STRING_CONTAINS:return p(b,y,(O,w)=>w.includes(O));case e.CustomSignalOperator.STRING_DOES_NOT_CONTAIN:return!p(b,y,(O,w)=>w.includes(O));case e.CustomSignalOperator.STRING_EXACTLY_MATCHES:return p(b,y,(O,w)=>w.trim()===O.trim());case e.CustomSignalOperator.STRING_CONTAINS_REGEX:return p(b,y,(O,w)=>new RegExp(O).test(w));case e.CustomSignalOperator.NUMERIC_LESS_THAN:return g(y,b[0],O=>O<0);case e.CustomSignalOperator.NUMERIC_LESS_EQUAL:return g(y,b[0],O=>O<=0);case e.CustomSignalOperator.NUMERIC_EQUAL:return g(y,b[0],O=>O===0);case e.CustomSignalOperator.NUMERIC_NOT_EQUAL:return g(y,b[0],O=>O!==0);case e.CustomSignalOperator.NUMERIC_GREATER_THAN:return g(y,b[0],O=>O>0);case e.CustomSignalOperator.NUMERIC_GREATER_EQUAL:return g(y,b[0],O=>O>=0);case e.CustomSignalOperator.SEMANTIC_VERSION_LESS_THAN:return c(y,b[0],O=>O<0);case e.CustomSignalOperator.SEMANTIC_VERSION_LESS_EQUAL:return c(y,b[0],O=>O<=0);case e.CustomSignalOperator.SEMANTIC_VERSION_EQUAL:return c(y,b[0],O=>O===0);case e.CustomSignalOperator.SEMANTIC_VERSION_NOT_EQUAL:return c(y,b[0],O=>O!==0);case e.CustomSignalOperator.SEMANTIC_VERSION_GREATER_THAN:return c(y,b[0],O=>O>0);case e.CustomSignalOperator.SEMANTIC_VERSION_GREATER_EQUAL:return c(y,b[0],O=>O>=0)}return!1}}conditionEvaluatorInternal.ConditionEvaluator=a,a.MAX_CONDITION_RECURSION_DEPTH=10;function p(l,o,s){const h=String(o);return l.some(v=>s(v,h))}function g(l,o,s){const h=Number(o),v=Number(l);return isNaN(h)||isNaN(v)?!1:s(v<h?-1:v>h?1:0)}const m=5;function c(l,o,s){const h=String(l).split(".").map(Number),v=o.split(".").map(Number);if(h.length>m||v.length>m)return!1;for(let b=0;b<m;b++){const y=h[b]!==void 0,O=v[b]!==void 0;if(y||(h[b]=0),O||(v[b]=0),isNaN(h[b])||isNaN(v[b]))return!1;if(h[b]<v[b])return s(-1);if(h[b]>v[b])return s(1)}return s(0)}return conditionEvaluatorInternal}var valueImpl={};var hasRequiredValueImpl;function requireValueImpl(){if(hasRequiredValueImpl)return valueImpl;hasRequiredValueImpl=1,Object.defineProperty(valueImpl,"__esModule",{value:!0}),valueImpl.ValueImpl=void 0;class e{constructor(a,p=e.DEFAULT_VALUE_FOR_STRING){this.source=a,this.value=p}asString(){return this.value}asBoolean(){return this.source==="static"?e.DEFAULT_VALUE_FOR_BOOLEAN:e.BOOLEAN_TRUTHY_VALUES.indexOf(this.value.toLowerCase())>=0}asNumber(){if(this.source==="static")return e.DEFAULT_VALUE_FOR_NUMBER;const a=Number(this.value);return isNaN(a)?e.DEFAULT_VALUE_FOR_NUMBER:a}getSource(){return this.source}}return valueImpl.ValueImpl=e,e.DEFAULT_VALUE_FOR_BOOLEAN=!1,e.DEFAULT_VALUE_FOR_STRING="",e.DEFAULT_VALUE_FOR_NUMBER=0,e.BOOLEAN_TRUTHY_VALUES=["1","true","t","yes","y","on"],valueImpl}var hasRequiredRemoteConfig$1;function requireRemoteConfig$1(){if(hasRequiredRemoteConfig$1)return remoteConfig$1;hasRequiredRemoteConfig$1=1;Object.defineProperty(remoteConfig$1,"__esModule",{value:!0}),remoteConfig$1.RemoteConfigFetchResponse=remoteConfig$1.RemoteConfig=void 0;const e=requireUtils$2(),t=requireValidator$1(),a=requireRemoteConfigApiClientInternal(),p=requireConditionEvaluatorInternal(),g=requireValueImpl();class m{constructor(w){this.app=w,this.client=new a.RemoteConfigApiClient(w)}getTemplate(){return this.client.getTemplate().then(w=>new c(w))}getTemplateAtVersion(w){return this.client.getTemplateAtVersion(w).then(I=>new c(I))}validateTemplate(w){return this.client.validateTemplate(w).then(I=>new c(I))}publishTemplate(w,I){return this.client.publishTemplate(w,I).then(_=>new c(_))}rollback(w){return this.client.rollback(w).then(I=>new c(I))}listVersions(w){return this.client.listVersions(w).then(I=>({versions:I.versions?.map(_=>new h(_))??[],nextPageToken:I.nextPageToken}))}createTemplateFromJSON(w){if(!t.isNonEmptyString(w))throw new a.FirebaseRemoteConfigError("invalid-argument","JSON string must be a valid non-empty string");let I;try{I=JSON.parse(w)}catch(_){throw new a.FirebaseRemoteConfigError("invalid-argument",`Failed to parse the JSON string: ${w}. `+_)}return new c(I)}async getServerTemplate(w){const I=this.initServerTemplate(w);return await I.load(),I}initServerTemplate(w){const I=new l(this.client,new p.ConditionEvaluator,w?.defaultConfig);return w?.template&&I.set(w?.template),I}}remoteConfig$1.RemoteConfig=m;class c{constructor(w){if(!t.isNonNullObject(w)||!t.isNonEmptyString(w.etag))throw new a.FirebaseRemoteConfigError("invalid-argument",`Invalid Remote Config template: ${JSON.stringify(w)}`);if(this.etagInternal=w.etag,typeof w.parameters<"u"){if(!t.isNonNullObject(w.parameters))throw new a.FirebaseRemoteConfigError("invalid-argument","Remote Config parameters must be a non-null object");this.parameters=w.parameters}else this.parameters={};if(typeof w.parameterGroups<"u"){if(!t.isNonNullObject(w.parameterGroups))throw new a.FirebaseRemoteConfigError("invalid-argument","Remote Config parameter groups must be a non-null object");this.parameterGroups=w.parameterGroups}else this.parameterGroups={};if(typeof w.conditions<"u"){if(!t.isArray(w.conditions))throw new a.FirebaseRemoteConfigError("invalid-argument","Remote Config conditions must be an array");this.conditions=w.conditions}else this.conditions=[];typeof w.version<"u"&&(this.version=new h(w.version))}get etag(){return this.etagInternal}toJSON(){return{conditions:this.conditions,parameters:this.parameters,parameterGroups:this.parameterGroups,etag:this.etag,version:this.version}}}class l{constructor(w,I,_={}){this.apiClient=w,this.conditionEvaluator=I,this.defaultConfig=_,this.stringifiedDefaultConfig={};for(const T in _)this.stringifiedDefaultConfig[T]=String(_[T])}load(){return this.apiClient.getServerTemplate().then(w=>{this.cache=new s(w)})}set(w){let I;if(t.isString(w))try{I=JSON.parse(w)}catch(_){throw new a.FirebaseRemoteConfigError("invalid-argument",`Failed to parse the JSON string: ${w}. `+_)}else I=w;this.cache=new s(I)}evaluate(w={}){if(!this.cache)throw new a.FirebaseRemoteConfigError("failed-precondition","No Remote Config Server template in cache. Call load() before calling evaluate().");const I=this.conditionEvaluator.evaluateConditions(this.cache.conditions,w),_={};for(const T in this.stringifiedDefaultConfig)_[T]=new g.ValueImpl("default",this.stringifiedDefaultConfig[T]);for(const[T,C]of Object.entries(this.cache.parameters)){const{conditionalValues:N,defaultValue:L}=C,D=N||{};let j;for(const[V,G]of I)if(D[V]&&G){j=D[V];break}if(j&&j.useInAppDefault)continue;if(j){const V=j.value;_[T]=new g.ValueImpl("remote",V);continue}if(!L||L.useInAppDefault)continue;const k=L.value;_[T]=new g.ValueImpl("remote",k)}return new o(_)}toJSON(){return this.cache}}class o{constructor(w){this.configValues=w}getBoolean(w){return this.getValue(w).asBoolean()}getNumber(w){return this.getValue(w).asNumber()}getString(w){return this.getValue(w).asString()}getValue(w){return this.configValues[w]||new g.ValueImpl("static")}getAll(){return{...this.configValues}}}class s{constructor(w){if(!t.isNonNullObject(w)||!t.isNonEmptyString(w.etag))throw new a.FirebaseRemoteConfigError("invalid-argument",`Invalid Remote Config template: ${JSON.stringify(w)}`);if(this.etag=w.etag,typeof w.parameters<"u"){if(!t.isNonNullObject(w.parameters))throw new a.FirebaseRemoteConfigError("invalid-argument","Remote Config parameters must be a non-null object");this.parameters=w.parameters}else this.parameters={};if(typeof w.conditions<"u"){if(!t.isArray(w.conditions))throw new a.FirebaseRemoteConfigError("invalid-argument","Remote Config conditions must be an array");this.conditions=w.conditions}else this.conditions=[];typeof w.version<"u"&&(this.version=new h(w.version))}}class h{constructor(w){if(!t.isNonNullObject(w))throw new a.FirebaseRemoteConfigError("invalid-argument",`Invalid Remote Config version instance: ${JSON.stringify(w)}`);if(typeof w.versionNumber<"u"){if(!t.isNonEmptyString(w.versionNumber)&&!t.isNumber(w.versionNumber))throw new a.FirebaseRemoteConfigError("invalid-argument","Version number must be a non-empty string in int64 format or a number");if(!Number.isInteger(Number(w.versionNumber)))throw new a.FirebaseRemoteConfigError("invalid-argument","Version number must be an integer or a string in int64 format");this.versionNumber=w.versionNumber}if(typeof w.updateOrigin<"u"){if(!t.isNonEmptyString(w.updateOrigin))throw new a.FirebaseRemoteConfigError("invalid-argument","Version update origin must be a non-empty string");this.updateOrigin=w.updateOrigin}if(typeof w.updateType<"u"){if(!t.isNonEmptyString(w.updateType))throw new a.FirebaseRemoteConfigError("invalid-argument","Version update type must be a non-empty string");this.updateType=w.updateType}if(typeof w.updateUser<"u"){if(!t.isNonNullObject(w.updateUser))throw new a.FirebaseRemoteConfigError("invalid-argument","Version update user must be a non-null object");this.updateUser=w.updateUser}if(typeof w.description<"u"){if(!t.isNonEmptyString(w.description))throw new a.FirebaseRemoteConfigError("invalid-argument","Version description must be a non-empty string");this.description=w.description}if(typeof w.rollbackSource<"u"){if(!t.isNonEmptyString(w.rollbackSource))throw new a.FirebaseRemoteConfigError("invalid-argument","Version rollback source must be a non-empty string");this.rollbackSource=w.rollbackSource}if(typeof w.isLegacy<"u"){if(!t.isBoolean(w.isLegacy))throw new a.FirebaseRemoteConfigError("invalid-argument","Version.isLegacy must be a boolean");this.isLegacy=w.isLegacy}if(typeof w.updateTime<"u"){if(!this.isValidTimestamp(w.updateTime))throw new a.FirebaseRemoteConfigError("invalid-argument","Version update time must be a valid date string");this.updateTime=new Date(w.updateTime).toUTCString()}}toJSON(){return{versionNumber:this.versionNumber,updateOrigin:this.updateOrigin,updateType:this.updateType,updateUser:this.updateUser,description:this.description,rollbackSource:this.rollbackSource,isLegacy:this.isLegacy,updateTime:this.updateTime}}isValidTimestamp(w){return t.isNonEmptyString(w)&&new Date(w).getTime()>0}}const v=304,b=200;class y{constructor(w,I,_){const T={};for(const[N,L]of Object.entries(I.getAll()))T[N]=L.asString();const C=this.processEtag(T,w);C===_?this.response={status:v,eTag:C}:this.response={status:b,eTag:C,config:T}}toJSON(){return this.response}processEtag(w,I){const _=JSON.stringify(w);let T=0;for(let L=0;L<_.length;L++){const D=_.charCodeAt(L);T=(T<<5)-T+D,T|=0}return["etag",e.getExplicitProjectId(I),"firebase-server","fetch",T].filter(L=>!!L).join("-")}}return remoteConfig$1.RemoteConfigFetchResponse=y,remoteConfig$1}var appCheck$1={},appCheckApiClientInternal={};var hasRequiredAppCheckApiClientInternal;function requireAppCheckApiClientInternal(){return hasRequiredAppCheckApiClientInternal||(hasRequiredAppCheckApiClientInternal=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FirebaseAppCheckError=e.APP_CHECK_ERROR_CODE_MAPPING=e.AppCheckApiClient=void 0;const t=requireApiRequest(),a=requireError(),p=requireUtils$2(),g=requireValidator$1(),m="https://firebaseappcheck.googleapis.com/v1/projects/{projectId}/apps/{appId}:exchangeCustomToken",c="https://firebaseappcheck.googleapis.com/v1beta/projects/{projectId}:verifyAppCheckToken",l={"X-Firebase-Client":`fire-admin-node/${p.getSdkVersion()}`};class o{constructor(v){if(this.app=v,!g.isNonNullObject(v)||!("options"in v))throw new s("invalid-argument","First argument passed to admin.appCheck() must be a valid Firebase app instance.");this.httpClient=new t.AuthorizedHttpClient(v)}exchangeToken(v,b){if(!g.isNonEmptyString(b))throw new s("invalid-argument","`appId` must be a non-empty string.");if(!g.isNonEmptyString(v))throw new s("invalid-argument","`customToken` must be a non-empty string.");return this.getUrl(b).then(y=>{const O={method:"POST",url:y,headers:l,data:{customToken:v}};return this.httpClient.send(O)}).then(y=>this.toAppCheckToken(y)).catch(y=>{throw this.toFirebaseError(y)})}verifyReplayProtection(v){if(!g.isNonEmptyString(v))throw new s("invalid-argument","`token` must be a non-empty string.");return this.getVerifyTokenUrl().then(b=>{const y={method:"POST",url:b,headers:l,data:{app_check_token:v}};return this.httpClient.send(y)}).then(b=>{if(typeof b.data.alreadyConsumed<"u"&&!g.isBoolean(b.data?.alreadyConsumed))throw new s("invalid-argument","`alreadyConsumed` must be a boolean value.");return b.data.alreadyConsumed||!1}).catch(b=>{throw this.toFirebaseError(b)})}getUrl(v){return this.getProjectId().then(b=>{const y={projectId:b,appId:v},O=p.formatString(m,y);return p.formatString(O)})}getVerifyTokenUrl(){return this.getProjectId().then(v=>{const b={projectId:v},y=p.formatString(c,b);return p.formatString(y)})}getProjectId(){return this.projectId?Promise.resolve(this.projectId):p.findProjectId(this.app).then(v=>{if(!g.isNonEmptyString(v))throw new s("unknown-error","Failed to determine project ID. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectId=v,v})}toFirebaseError(v){if(v instanceof a.PrefixedFirebaseError)return v;const b=v.response;if(!b.isJson())return new s("unknown-error",`Unexpected response with status: ${b.status} and body: ${b.text}`);const y=b.data.error||{};let O="unknown-error";y.status&&y.status in e.APP_CHECK_ERROR_CODE_MAPPING&&(O=e.APP_CHECK_ERROR_CODE_MAPPING[y.status]);const w=y.message||`Unknown server error: ${b.text}`;return new s(O,w)}toAppCheckToken(v){const b=v.data.token,y=this.stringToMilliseconds(v.data.ttl);return{token:b,ttlMillis:y}}stringToMilliseconds(v){if(!g.isNonEmptyString(v)||!v.endsWith("s"))throw new s("invalid-argument","`ttl` must be a valid duration string with the suffix `s`.");const b=v.slice(0,-1);return Math.floor(Number(b)*1e3)}}e.AppCheckApiClient=o,e.APP_CHECK_ERROR_CODE_MAPPING={ABORTED:"aborted",INVALID_ARGUMENT:"invalid-argument",INVALID_CREDENTIAL:"invalid-credential",INTERNAL:"internal-error",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",NOT_FOUND:"not-found",UNKNOWN:"unknown-error"};class s extends a.PrefixedFirebaseError{constructor(v,b){super("app-check",v,b),this.__proto__=s.prototype}}e.FirebaseAppCheckError=s})(appCheckApiClientInternal)),appCheckApiClientInternal}var tokenGenerator={};var hasRequiredTokenGenerator;function requireTokenGenerator(){if(hasRequiredTokenGenerator)return tokenGenerator;hasRequiredTokenGenerator=1;Object.defineProperty(tokenGenerator,"__esModule",{value:!0}),tokenGenerator.AppCheckTokenGenerator=void 0,tokenGenerator.appCheckErrorFromCryptoSignerError=s;const e=requireValidator$1(),t=requireUtils$2(),a=requireCryptoSigner(),p=requireAppCheckApiClientInternal(),g=60,m=g*1e3,c=1440*60*1e3,l="https://firebaseappcheck.googleapis.com/google.firebase.appcheck.v1.TokenExchangeService";class o{constructor(b){if(!e.isNonNullObject(b))throw new p.FirebaseAppCheckError("invalid-argument","INTERNAL ASSERT: Must provide a CryptoSigner to use AppCheckTokenGenerator.");this.signer=b}createCustomToken(b,y){if(!e.isNonEmptyString(b))throw new p.FirebaseAppCheckError("invalid-argument","`appId` must be a non-empty string.");let O={};return typeof y<"u"&&(O=this.validateTokenOptions(y)),this.signer.getAccountId().then(w=>{const I={alg:this.signer.algorithm,typ:"JWT"},_=Math.floor(Date.now()/1e3),T={iss:w,sub:w,app_id:b,aud:l,exp:_+g*5,iat:_,...O},C=`${this.encodeSegment(I)}.${this.encodeSegment(T)}`;return this.signer.sign(Buffer.from(C)).then(N=>`${C}.${this.encodeSegment(N)}`)}).catch(w=>{throw s(w)})}encodeSegment(b){const y=b instanceof Buffer?b:Buffer.from(JSON.stringify(b));return(0,t.toWebSafeBase64)(y).replace(/=+$/,"")}validateTokenOptions(b){if(!e.isNonNullObject(b))throw new p.FirebaseAppCheckError("invalid-argument","AppCheckTokenOptions must be a non-null object.");if(typeof b.ttlMillis<"u"){if(!e.isNumber(b.ttlMillis))throw new p.FirebaseAppCheckError("invalid-argument","ttlMillis must be a duration in milliseconds.");if(b.ttlMillis<m*30||b.ttlMillis>c*7)throw new p.FirebaseAppCheckError("invalid-argument","ttlMillis must be a duration in milliseconds between 30 minutes and 7 days (inclusive).");return{ttl:(0,t.transformMillisecondsToSecondsString)(b.ttlMillis)}}return{}}}tokenGenerator.AppCheckTokenGenerator=o;function s(v){if(!(v instanceof a.CryptoSignerError))return v;if(v.code===a.CryptoSignerErrorCode.SERVER_ERROR&&e.isNonNullObject(v.cause)){const b=v.cause,y=b.response.data;if(y?.error){const O=y.error.status,w=y.error.message||JSON.stringify(b.response);let I="unknown-error";return O&&O in p.APP_CHECK_ERROR_CODE_MAPPING&&(I=p.APP_CHECK_ERROR_CODE_MAPPING[O]),new p.FirebaseAppCheckError(I,`Error returned from server while signing a custom token: ${w}`)}return new p.FirebaseAppCheckError("internal-error","Error returned from server: "+JSON.stringify(y)+".")}return new p.FirebaseAppCheckError(h(v.code),v.message)}function h(v){switch(v){case a.CryptoSignerErrorCode.INVALID_CREDENTIAL:return"invalid-credential";case a.CryptoSignerErrorCode.INVALID_ARGUMENT:return"invalid-argument";default:return"internal-error"}}return tokenGenerator}var tokenVerifier={};var hasRequiredTokenVerifier;function requireTokenVerifier(){if(hasRequiredTokenVerifier)return tokenVerifier;hasRequiredTokenVerifier=1;Object.defineProperty(tokenVerifier,"__esModule",{value:!0}),tokenVerifier.AppCheckTokenVerifier=void 0;const e=requireValidator$1(),t=requireUtils$2(),a=requireAppCheckApiClientInternal(),p=requireJwt(),g="https://firebaseappcheck.googleapis.com/",m="https://firebaseappcheck.googleapis.com/v1/jwks";class c{constructor(o){this.app=o,this.signatureVerifier=p.PublicKeySignatureVerifier.withJwksUrl(m,o.options.httpAgent)}verifyToken(o){if(!e.isString(o))throw new a.FirebaseAppCheckError("invalid-argument","App check token must be a non-null string.");return this.ensureProjectId().then(s=>this.decodeAndVerify(o,s)).then(s=>{const h=s.payload;return h.app_id=h.sub,h})}ensureProjectId(){return t.findProjectId(this.app).then(o=>{if(!e.isNonEmptyString(o))throw new a.FirebaseAppCheckError("invalid-credential","Must initialize app with a cert credential or set your Firebase project ID as the GOOGLE_CLOUD_PROJECT environment variable to verify an App Check token.");return o})}decodeAndVerify(o,s){return this.safeDecode(o).then(h=>(this.verifyContent(h,s),this.verifySignature(o).then(()=>h)))}safeDecode(o){return(0,p.decodeJwt)(o).catch(()=>{const s="Decoding App Check token failed. Make sure you passed the entire string JWT which represents the Firebase App Check token.";throw new a.FirebaseAppCheckError("invalid-argument",s)})}verifyContent(o,s){const h=o.header,v=o.payload,b=" Make sure the App Check token comes from the same Firebase project as the service account used to authenticate this SDK.",y=`projects/${s}`;let O;if(h.alg!==p.ALGORITHM_RS256?O='The provided App Check token has incorrect algorithm. Expected "'+p.ALGORITHM_RS256+'" but got "'+h.alg+'".':!e.isNonEmptyArray(v.aud)||!v.aud.includes(y)?O='The provided App Check token has incorrect "aud" (audience) claim. Expected "'+y+'" but got "'+v.aud+'".'+b:typeof v.iss!="string"||!v.iss.startsWith(g)?O='The provided App Check token has incorrect "iss" (issuer) claim.':typeof v.sub!="string"?O='The provided App Check token has no "sub" (subject) claim.':v.sub===""&&(O='The provided App Check token has an empty string "sub" (subject) claim.'),O)throw new a.FirebaseAppCheckError("invalid-argument",O)}verifySignature(o){return this.signatureVerifier.verify(o).catch(s=>{throw this.mapJwtErrorToAppCheckError(s)})}mapJwtErrorToAppCheckError(o){if(o.code===p.JwtErrorCode.TOKEN_EXPIRED){const s="The provided App Check token has expired. Get a fresh App Check token from your client app and try again.";return new a.FirebaseAppCheckError("app-check-token-expired",s)}else if(o.code===p.JwtErrorCode.INVALID_SIGNATURE){const s="The provided App Check token has invalid signature.";return new a.FirebaseAppCheckError("invalid-argument",s)}else if(o.code===p.JwtErrorCode.NO_MATCHING_KID){const s='The provided App Check token has "kid" claim which does not correspond to a known public key. Most likely the provided App Check token is expired, so get a fresh token from your client app and try again.';return new a.FirebaseAppCheckError("invalid-argument",s)}return new a.FirebaseAppCheckError("invalid-argument",o.message)}}return tokenVerifier.AppCheckTokenVerifier=c,tokenVerifier}var hasRequiredAppCheck$1;function requireAppCheck$1(){if(hasRequiredAppCheck$1)return appCheck$1;hasRequiredAppCheck$1=1;Object.defineProperty(appCheck$1,"__esModule",{value:!0}),appCheck$1.AppCheck=void 0;const e=requireValidator$1(),t=requireAppCheckApiClientInternal(),a=requireTokenGenerator(),p=requireTokenVerifier(),g=requireCryptoSigner();class m{constructor(l){this.app=l,this.client=new t.AppCheckApiClient(l);try{this.tokenGenerator=new a.AppCheckTokenGenerator((0,g.cryptoSignerFromApp)(l))}catch(o){throw(0,a.appCheckErrorFromCryptoSignerError)(o)}this.appCheckTokenVerifier=new p.AppCheckTokenVerifier(l)}createToken(l,o){return this.tokenGenerator.createCustomToken(l,o).then(s=>this.client.exchangeToken(s,l))}verifyToken(l,o){return this.validateVerifyAppCheckTokenOptions(o),this.appCheckTokenVerifier.verifyToken(l).then(s=>o?.consume?this.client.verifyReplayProtection(l).then(h=>({alreadyConsumed:h,appId:s.app_id,token:s})):{appId:s.app_id,token:s})}validateVerifyAppCheckTokenOptions(l){if(!(typeof l>"u")&&!e.isNonNullObject(l))throw new t.FirebaseAppCheckError("invalid-argument","VerifyAppCheckTokenOptions must be a non-null object.")}}return appCheck$1.AppCheck=m,appCheck$1}var auth={};var hasRequiredAuth;function requireAuth(){return hasRequiredAuth||(hasRequiredAuth=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AuthClientErrorCode=e.FirebaseAuthError=e.UserRecord=e.UserMetadata=e.UserInfo=e.PhoneMultiFactorInfo=e.MultiFactorSettings=e.MultiFactorInfo=e.ProjectConfigManager=e.ProjectConfig=e.TenantManager=e.TenantAwareAuth=e.Tenant=e.BaseAuth=e.Auth=void 0,e.getAuth=p;const t=requireApp(),a=requireAuth$1();function p(b){return typeof b>"u"&&(b=(0,t.getApp)()),b.getOrInitService("auth",O=>new a.Auth(O))}var g=requireAuth$1();Object.defineProperty(e,"Auth",{enumerable:!0,get:function(){return g.Auth}});var m=requireBaseAuth();Object.defineProperty(e,"BaseAuth",{enumerable:!0,get:function(){return m.BaseAuth}});var c=requireTenant();Object.defineProperty(e,"Tenant",{enumerable:!0,get:function(){return c.Tenant}});var l=requireTenantManager();Object.defineProperty(e,"TenantAwareAuth",{enumerable:!0,get:function(){return l.TenantAwareAuth}}),Object.defineProperty(e,"TenantManager",{enumerable:!0,get:function(){return l.TenantManager}});var o=requireProjectConfig();Object.defineProperty(e,"ProjectConfig",{enumerable:!0,get:function(){return o.ProjectConfig}});var s=requireProjectConfigManager();Object.defineProperty(e,"ProjectConfigManager",{enumerable:!0,get:function(){return s.ProjectConfigManager}});var h=requireUserRecord();Object.defineProperty(e,"MultiFactorInfo",{enumerable:!0,get:function(){return h.MultiFactorInfo}}),Object.defineProperty(e,"MultiFactorSettings",{enumerable:!0,get:function(){return h.MultiFactorSettings}}),Object.defineProperty(e,"PhoneMultiFactorInfo",{enumerable:!0,get:function(){return h.PhoneMultiFactorInfo}}),Object.defineProperty(e,"UserInfo",{enumerable:!0,get:function(){return h.UserInfo}}),Object.defineProperty(e,"UserMetadata",{enumerable:!0,get:function(){return h.UserMetadata}}),Object.defineProperty(e,"UserRecord",{enumerable:!0,get:function(){return h.UserRecord}});var v=requireError();Object.defineProperty(e,"FirebaseAuthError",{enumerable:!0,get:function(){return v.FirebaseAuthError}}),Object.defineProperty(e,"AuthClientErrorCode",{enumerable:!0,get:function(){return v.AuthClientErrorCode}})})(auth)),auth}var appCheck={};var hasRequiredAppCheck;function requireAppCheck(){return hasRequiredAppCheck||(hasRequiredAppCheck=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AppCheck=void 0,e.getAppCheck=g;const t=requireApp(),a=requireAppCheck$1();var p=requireAppCheck$1();Object.defineProperty(e,"AppCheck",{enumerable:!0,get:function(){return p.AppCheck}});function g(m){return typeof m>"u"&&(m=(0,t.getApp)()),m.getOrInitService("appCheck",l=>new a.AppCheck(l))}})(appCheck)),appCheck}var database$1={},database={},hasRequiredDatabase$1;function requireDatabase$1(){if(hasRequiredDatabase$1)return database;hasRequiredDatabase$1=1;var e={};Object.defineProperty(database,"__esModule",{value:!0}),database.DatabaseService=void 0;const t=require$$1$3,a=require$$1$3,p=requireError(),g=requireValidator$1(),m=requireApiRequest(),c=requireUtils$2(),l=300*1e3;class o{constructor(y){if(this.databases={},!g.isNonNullObject(y)||!("options"in y))throw new p.FirebaseDatabaseError({code:"invalid-argument",message:"First argument passed to admin.database() must be a valid Firebase app instance."});this.appInternal=y}get firebaseApp(){return this.app}delete(){this.tokenListener&&(this.firebaseApp.INTERNAL.removeAuthTokenListener(this.tokenListener),clearTimeout(this.tokenRefreshTimeout));const y=[];for(const O of Object.keys(this.databases)){const w=this.databases[O];y.push(w.INTERNAL.delete())}return Promise.all(y).then(()=>{this.databases={}})}get app(){return this.appInternal}getDatabase(y){const O=this.ensureUrl(y);if(!g.isNonEmptyString(O))throw new p.FirebaseDatabaseError({code:"invalid-argument",message:"Database URL must be a valid, non-empty URL string."});let w=this.databases[O];if(typeof w>"u"){w=requireIndex_standalone().initStandalone(this.appInternal,O,(0,c.getSdkVersion)()).instance;const _=new h(this.app,O);w.getRules=()=>_.getRules(),w.getRulesJSON=()=>_.getRulesJSON(),w.setRules=T=>_.setRules(T),this.databases[O]=w}return this.tokenListener||(this.tokenListener=this.onTokenChange.bind(this),this.firebaseApp.INTERNAL.addAuthTokenListener(this.tokenListener)),w}onTokenChange(y){const O=this.firebaseApp.INTERNAL.getCachedToken();if(O){const w=O.expirationTime-l-Date.now();w>0&&this.scheduleTokenRefresh(w)}}scheduleTokenRefresh(y){clearTimeout(this.tokenRefreshTimeout),this.tokenRefreshTimeout=setTimeout(()=>{this.firebaseApp.INTERNAL.getToken(!0).catch(()=>{})},y)}ensureUrl(y){if(typeof y<"u")return y;if(typeof this.appInternal.options.databaseURL<"u")return this.appInternal.options.databaseURL;throw new p.FirebaseDatabaseError({code:"invalid-argument",message:"Can't determine Firebase Database URL."})}}database.DatabaseService=o;const s=".settings/rules.json";class h{constructor(y,O){let w=new t.URL(O);const I=e.FIREBASE_DATABASE_EMULATOR_HOST;if(I){const _=v(w);w=new t.URL(`http://${I}?ns=${_}`)}w.pathname=a.join(w.pathname,s),this.dbUrl=w.toString(),this.httpClient=new m.AuthorizedHttpClient(y)}getRules(){const y={method:"GET",url:this.dbUrl};return this.httpClient.send(y).then(O=>{if(!O.text)throw new p.FirebaseAppError(p.AppErrorCodes.INTERNAL_ERROR,"HTTP response missing data.");return O.text}).catch(O=>{throw this.handleError(O)})}getRulesJSON(){const y={method:"GET",url:this.dbUrl,data:{format:"strict"}};return this.httpClient.send(y).then(O=>O.data).catch(O=>{throw this.handleError(O)})}setRules(y){if(!g.isNonEmptyString(y)&&!g.isBuffer(y)&&!g.isNonNullObject(y)){const w=new p.FirebaseDatabaseError({code:"invalid-argument",message:"Source must be a non-empty string, Buffer or an object."});return Promise.reject(w)}const O={method:"PUT",url:this.dbUrl,data:y,headers:{"content-type":"application/json; charset=utf-8"}};return this.httpClient.send(O).then(()=>{}).catch(w=>{throw this.handleError(w)})}handleError(y){return y instanceof m.RequestResponseError?new p.FirebaseDatabaseError({code:p.AppErrorCodes.INTERNAL_ERROR,message:this.getErrorMessage(y)}):y}getErrorMessage(y){const O="Error while accessing security rules";try{const w=y.response.data;if(w&&w.error)return`${O}: ${w.error.trim()}`}catch{}return`${O}: ${y.response.text}`}}function v(b){const y=b.searchParams.get("ns");if(y)return y;const O=b.hostname,w=O.indexOf(".");return O.substring(0,w).toLowerCase()}return database}var hasRequiredDatabase;function requireDatabase(){return hasRequiredDatabase||(hasRequiredDatabase=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FirebaseDatabaseError=e.ServerValue=e.enableLogging=void 0,e.getDatabase=g,e.getDatabaseWithUrl=m;const t=requireIndex_standalone(),a=requireApp(),p=requireDatabase$1();e.enableLogging=t.enableLogging,e.ServerValue=t.ServerValue;function g(o){return c({app:o})}function m(o,s){return c({url:o,app:s})}function c(o){let{app:s}=o;return typeof s>"u"&&(s=(0,a.getApp)()),s.getOrInitService("database",b=>new p.DatabaseService(b)).getDatabase(o.url)}var l=requireError();Object.defineProperty(e,"FirebaseDatabaseError",{enumerable:!0,get:function(){return l.FirebaseDatabaseError}})})(database$1)),database$1}var messaging={};var hasRequiredMessaging;function requireMessaging(){return hasRequiredMessaging||(hasRequiredMessaging=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MessagingClientErrorCode=e.FirebaseMessagingError=e.Messaging=void 0,e.getMessaging=g;const t=requireApp(),a=requireMessaging$1();var p=requireMessaging$1();Object.defineProperty(e,"Messaging",{enumerable:!0,get:function(){return p.Messaging}});function g(c){return typeof c>"u"&&(c=(0,t.getApp)()),c.getOrInitService("messaging",o=>new a.Messaging(o))}var m=requireError();Object.defineProperty(e,"FirebaseMessagingError",{enumerable:!0,get:function(){return m.FirebaseMessagingError}}),Object.defineProperty(e,"MessagingClientErrorCode",{enumerable:!0,get:function(){return m.MessagingClientErrorCode}})})(messaging)),messaging}var firestore={},firestoreInternal={};var hasRequiredFirestoreInternal;function requireFirestoreInternal(){if(hasRequiredFirestoreInternal)return firestoreInternal;hasRequiredFirestoreInternal=1;Object.defineProperty(firestoreInternal,"__esModule",{value:!0}),firestoreInternal.FirestoreService=void 0,firestoreInternal.getFirestoreOptions=m;const e=requireError(),t=requireCredentialInternal(),a=requireValidator$1(),p=requireUtils$2();class g{constructor(o){this.databases=new Map,this.firestoreSettings=new Map,this.appInternal=o}initializeDatabase(o,s){const h=this.databases.get(o);if(h){const b=this.firestoreSettings.get(o)??{};if(this.checkIfSameSettings(s,b))return h;throw new e.FirebaseFirestoreError({code:"failed-precondition",message:"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance."})}const v=c(this.app,o,s);return this.databases.set(o,v),this.firestoreSettings.set(o,s),v}getDatabase(o){let s=this.databases.get(o);return s===void 0&&(s=c(this.app,o,{}),this.databases.set(o,s),this.firestoreSettings.set(o,{})),s}checkIfSameSettings(o,s){const h=o??{},v=s??{};return h.preferRest===v.preferRest}get app(){return this.appInternal}}firestoreInternal.FirestoreService=g;function m(l,o){if(!a.isNonNullObject(l)||!("options"in l))throw new e.FirebaseFirestoreError({code:"invalid-argument",message:"First argument passed to admin.firestore() must be a valid Firebase app instance."});const s=p.getExplicitProjectId(l),h=l.options.credential,v=p.getSdkVersion(),b=o?.preferRest;if(h instanceof t.ServiceAccountCredential)return{credentials:{private_key:h.privateKey,client_email:h.clientEmail},projectId:s,firebaseVersion:v,firebaseAdminVersion:v,preferRest:b};if((0,t.isApplicationDefault)(l.options.credential))return a.isNonEmptyString(s)?{projectId:s,firebaseVersion:v,firebaseAdminVersion:v,preferRest:b}:{firebaseVersion:v,firebaseAdminVersion:v,preferRest:b};throw new e.FirebaseFirestoreError({code:"invalid-credential",message:"Failed to initialize Google Cloud Firestore client with the available credentials. Must initialize the SDK with a certificate credential or application default credentials to use Cloud Firestore API."})}function c(l,o,s){const h=m(l,s);h.databaseId=o;let v;try{v=requireSrc().Firestore}catch(b){throw new e.FirebaseFirestoreError({code:"missing-dependencies",message:`Failed to import the Cloud Firestore client library for Node.js. Make sure to install the "@google-cloud/firestore" npm package. Original error: ${b}`})}return new v(h)}return firestoreInternal}var hasRequiredFirestore;function requireFirestore(){return hasRequiredFirestore||(hasRequiredFirestore=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FirebaseFirestoreError=e.setLogFunction=e.v1=e.WriteResult=e.WriteBatch=e.Transaction=e.Timestamp=e.QuerySnapshot=e.QueryPartition=e.QueryDocumentSnapshot=e.Query=e.GrpcStatus=e.GeoPoint=e.Firestore=e.Filter=e.FieldValue=e.FieldPath=e.DocumentSnapshot=e.DocumentReference=e.CollectionReference=e.CollectionGroup=e.BundleBuilder=e.BulkWriter=e.AggregateQuerySnapshot=e.AggregateQuery=e.AggregateField=void 0,e.getFirestore=m,e.initializeFirestore=c;const t=requireApp(),a=requireFirestoreInternal(),p=requirePath();var g=requireSrc();Object.defineProperty(e,"AggregateField",{enumerable:!0,get:function(){return g.AggregateField}}),Object.defineProperty(e,"AggregateQuery",{enumerable:!0,get:function(){return g.AggregateQuery}}),Object.defineProperty(e,"AggregateQuerySnapshot",{enumerable:!0,get:function(){return g.AggregateQuerySnapshot}}),Object.defineProperty(e,"BulkWriter",{enumerable:!0,get:function(){return g.BulkWriter}}),Object.defineProperty(e,"BundleBuilder",{enumerable:!0,get:function(){return g.BundleBuilder}}),Object.defineProperty(e,"CollectionGroup",{enumerable:!0,get:function(){return g.CollectionGroup}}),Object.defineProperty(e,"CollectionReference",{enumerable:!0,get:function(){return g.CollectionReference}}),Object.defineProperty(e,"DocumentReference",{enumerable:!0,get:function(){return g.DocumentReference}}),Object.defineProperty(e,"DocumentSnapshot",{enumerable:!0,get:function(){return g.DocumentSnapshot}}),Object.defineProperty(e,"FieldPath",{enumerable:!0,get:function(){return g.FieldPath}}),Object.defineProperty(e,"FieldValue",{enumerable:!0,get:function(){return g.FieldValue}}),Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return g.Filter}}),Object.defineProperty(e,"Firestore",{enumerable:!0,get:function(){return g.Firestore}}),Object.defineProperty(e,"GeoPoint",{enumerable:!0,get:function(){return g.GeoPoint}}),Object.defineProperty(e,"GrpcStatus",{enumerable:!0,get:function(){return g.GrpcStatus}}),Object.defineProperty(e,"Query",{enumerable:!0,get:function(){return g.Query}}),Object.defineProperty(e,"QueryDocumentSnapshot",{enumerable:!0,get:function(){return g.QueryDocumentSnapshot}}),Object.defineProperty(e,"QueryPartition",{enumerable:!0,get:function(){return g.QueryPartition}}),Object.defineProperty(e,"QuerySnapshot",{enumerable:!0,get:function(){return g.QuerySnapshot}}),Object.defineProperty(e,"Timestamp",{enumerable:!0,get:function(){return g.Timestamp}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return g.Transaction}}),Object.defineProperty(e,"WriteBatch",{enumerable:!0,get:function(){return g.WriteBatch}}),Object.defineProperty(e,"WriteResult",{enumerable:!0,get:function(){return g.WriteResult}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return g.v1}}),Object.defineProperty(e,"setLogFunction",{enumerable:!0,get:function(){return g.setLogFunction}});function m(o,s){const h=typeof o=="object"?o:(0,t.getApp)(),v=(typeof o=="string"?o:s)||p.DEFAULT_DATABASE_ID;return h.getOrInitService("firestore",O=>new a.FirestoreService(O)).getDatabase(v)}function c(o,s,h){return s??(s={}),h??(h=p.DEFAULT_DATABASE_ID),o.getOrInitService("firestore",y=>new a.FirestoreService(y)).initializeDatabase(h,s)}var l=requireError();Object.defineProperty(e,"FirebaseFirestoreError",{enumerable:!0,get:function(){return l.FirebaseFirestoreError}})})(firestore)),firestore}var instanceId={};var hasRequiredInstanceId;function requireInstanceId(){return hasRequiredInstanceId||(hasRequiredInstanceId=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InstanceIdClientErrorCode=e.FirebaseInstanceIdError=e.InstanceId=void 0,e.getInstanceId=p;const t=requireApp(),a=requireInstanceId$1();Object.defineProperty(e,"InstanceId",{enumerable:!0,get:function(){return a.InstanceId}});function p(m){return typeof m>"u"&&(m=(0,t.getApp)()),m.getOrInitService("instanceId",l=>new a.InstanceId(l))}var g=requireError();Object.defineProperty(e,"FirebaseInstanceIdError",{enumerable:!0,get:function(){return g.FirebaseInstanceIdError}}),Object.defineProperty(e,"InstanceIdClientErrorCode",{enumerable:!0,get:function(){return g.InstanceIdClientErrorCode}})})(instanceId)),instanceId}var machineLearning={};var hasRequiredMachineLearning;function requireMachineLearning(){return hasRequiredMachineLearning||(hasRequiredMachineLearning=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Model=e.MachineLearning=void 0,e.getMachineLearning=g;const t=requireApp(),a=requireMachineLearning$1();var p=requireMachineLearning$1();Object.defineProperty(e,"MachineLearning",{enumerable:!0,get:function(){return p.MachineLearning}}),Object.defineProperty(e,"Model",{enumerable:!0,get:function(){return p.Model}});function g(m){return typeof m>"u"&&(m=(0,t.getApp)()),m.getOrInitService("machineLearning",l=>new a.MachineLearning(l))}})(machineLearning)),machineLearning}var projectManagement={};var hasRequiredProjectManagement;function requireProjectManagement(){return hasRequiredProjectManagement||(hasRequiredProjectManagement=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FirebaseProjectManagementError=e.IosApp=e.ShaCertificate=e.AndroidApp=e.ProjectManagement=e.AppPlatform=void 0,e.getProjectManagement=l;const t=requireApp(),a=requireProjectManagement$1();var p=requireAppMetadata();Object.defineProperty(e,"AppPlatform",{enumerable:!0,get:function(){return p.AppPlatform}});var g=requireProjectManagement$1();Object.defineProperty(e,"ProjectManagement",{enumerable:!0,get:function(){return g.ProjectManagement}});var m=requireAndroidApp();Object.defineProperty(e,"AndroidApp",{enumerable:!0,get:function(){return m.AndroidApp}}),Object.defineProperty(e,"ShaCertificate",{enumerable:!0,get:function(){return m.ShaCertificate}});var c=requireIosApp();Object.defineProperty(e,"IosApp",{enumerable:!0,get:function(){return c.IosApp}});function l(s){return typeof s>"u"&&(s=(0,t.getApp)()),s.getOrInitService("projectManagement",v=>new a.ProjectManagement(v))}var o=requireError();Object.defineProperty(e,"FirebaseProjectManagementError",{enumerable:!0,get:function(){return o.FirebaseProjectManagementError}})})(projectManagement)),projectManagement}var securityRules={};var hasRequiredSecurityRules;function requireSecurityRules(){return hasRequiredSecurityRules||(hasRequiredSecurityRules=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SecurityRules=e.RulesetMetadataList=e.Ruleset=void 0,e.getSecurityRules=g;const t=requireApp(),a=requireSecurityRules$1();var p=requireSecurityRules$1();Object.defineProperty(e,"Ruleset",{enumerable:!0,get:function(){return p.Ruleset}}),Object.defineProperty(e,"RulesetMetadataList",{enumerable:!0,get:function(){return p.RulesetMetadataList}}),Object.defineProperty(e,"SecurityRules",{enumerable:!0,get:function(){return p.SecurityRules}});function g(m){return typeof m>"u"&&(m=(0,t.getApp)()),m.getOrInitService("securityRules",l=>new a.SecurityRules(l))}})(securityRules)),securityRules}var remoteConfig={};var hasRequiredRemoteConfig;function requireRemoteConfig(){return hasRequiredRemoteConfig||(hasRequiredRemoteConfig=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteConfigFetchResponse=e.RemoteConfig=e.PercentConditionOperator=e.CustomSignalOperator=void 0,e.getRemoteConfig=m;const t=requireApp(),a=requireRemoteConfig$1();var p=requireRemoteConfigApi();Object.defineProperty(e,"CustomSignalOperator",{enumerable:!0,get:function(){return p.CustomSignalOperator}}),Object.defineProperty(e,"PercentConditionOperator",{enumerable:!0,get:function(){return p.PercentConditionOperator}});var g=requireRemoteConfig$1();Object.defineProperty(e,"RemoteConfig",{enumerable:!0,get:function(){return g.RemoteConfig}}),Object.defineProperty(e,"RemoteConfigFetchResponse",{enumerable:!0,get:function(){return g.RemoteConfigFetchResponse}});function m(c){return typeof c>"u"&&(c=(0,t.getApp)()),c.getOrInitService("remoteConfig",o=>new a.RemoteConfig(o))}})(remoteConfig)),remoteConfig}var hasRequiredFirebaseNamespace;function requireFirebaseNamespace(){if(hasRequiredFirebaseNamespace)return firebaseNamespace;hasRequiredFirebaseNamespace=1;Object.defineProperty(firebaseNamespace,"__esModule",{value:!0}),firebaseNamespace.defaultNamespace=firebaseNamespace.FirebaseNamespace=firebaseNamespace.FirebaseNamespaceInternals=void 0;const e=requireLifecycle(),t=requireCredentialFactory(),a=requireUtils$2();class p{constructor(o){this.appStore=o}initializeApp(o,s){const h=this.appStore.initializeApp(o,s);return c(h)}app(o){const s=this.appStore.getApp(o);return c(s)}get apps(){return this.appStore.getApps().map(o=>c(o))}}firebaseNamespace.FirebaseNamespaceInternals=p;const g={cert:t.cert,refreshToken:t.refreshToken,applicationDefault:t.applicationDefault};class m{constructor(o){this.__esModule=!0,this.credential=g,this.SDK_VERSION=(0,a.getSdkVersion)(),this.Promise=Promise,this.INTERNAL=new p(o??new e.AppStore)}get auth(){const o=h=>this.ensureApp(h).auth(),s=requireAuth$1().Auth;return Object.assign(o,{Auth:s})}get database(){return Object.assign(s=>this.ensureApp(s).database(),requireIndex_standalone())}get messaging(){const o=h=>this.ensureApp(h).messaging(),s=requireMessaging$1().Messaging;return Object.assign(o,{Messaging:s})}get storage(){const o=h=>this.ensureApp(h).storage(),s=requireStorage$1().Storage;return Object.assign(o,{Storage:s})}get firestore(){let o=h=>this.ensureApp(h).firestore();const s=requireSrc();return o=Object.assign(o,s.Firestore),Object.defineProperty(o,"v1beta1",{get:()=>s.v1beta1}),Object.defineProperty(o,"v1",{get:()=>s.v1}),o}get machineLearning(){const o=h=>this.ensureApp(h).machineLearning(),s=requireMachineLearning$1().MachineLearning;return Object.assign(o,{MachineLearning:s})}get installations(){const o=h=>this.ensureApp(h).installations(),s=requireInstallations$1().Installations;return Object.assign(o,{Installations:s})}get instanceId(){const o=h=>this.ensureApp(h).instanceId(),s=requireInstanceId$1().InstanceId;return Object.assign(o,{InstanceId:s})}get projectManagement(){const o=h=>this.ensureApp(h).projectManagement(),s=requireProjectManagement$1().ProjectManagement;return Object.assign(o,{ProjectManagement:s})}get securityRules(){const o=h=>this.ensureApp(h).securityRules(),s=requireSecurityRules$1().SecurityRules;return Object.assign(o,{SecurityRules:s})}get remoteConfig(){const o=h=>this.ensureApp(h).remoteConfig(),s=requireRemoteConfig$1().RemoteConfig;return Object.assign(o,{RemoteConfig:s})}get appCheck(){const o=h=>this.ensureApp(h).appCheck(),s=requireAppCheck$1().AppCheck;return Object.assign(o,{AppCheck:s})}initializeApp(o,s){return this.INTERNAL.initializeApp(o,s)}app(o){return this.INTERNAL.app(o)}get apps(){return this.INTERNAL.apps}ensureApp(o){return typeof o>"u"&&(o=this.app()),o}}firebaseNamespace.FirebaseNamespace=m,firebaseNamespace.defaultNamespace=new m(e.defaultAppStore);function c(l){const o=l;return o.__extended||(o.auth=()=>{const s=requireAuth().getAuth;return s(l)},o.appCheck=()=>{const s=requireAppCheck().getAppCheck;return s(l)},o.database=s=>{const h=requireDatabase().getDatabaseWithUrl;return h(s,l)},o.messaging=()=>{const s=requireMessaging().getMessaging;return s(l)},o.storage=()=>{const s=requireStorage().getStorage;return s(l)},o.firestore=()=>{const s=requireFirestore().getFirestore;return s(l)},o.instanceId=()=>{const s=requireInstanceId().getInstanceId;return s(l)},o.installations=()=>{const s=requireInstallations().getInstallations;return s(l)},o.machineLearning=()=>{const s=requireMachineLearning().getMachineLearning;return s(l)},o.projectManagement=()=>{const s=requireProjectManagement().getProjectManagement;return s(l)},o.securityRules=()=>{const s=requireSecurityRules().getSecurityRules;return s(l)},o.remoteConfig=()=>{const s=requireRemoteConfig().getRemoteConfig;return s(l)},o.__extended=!0),o}return firebaseNamespace}var defaultNamespace,hasRequiredDefaultNamespace;function requireDefaultNamespace(){if(hasRequiredDefaultNamespace)return defaultNamespace;hasRequiredDefaultNamespace=1;const e=requireFirebaseNamespace();return e.defaultNamespace.default=e.defaultNamespace,defaultNamespace=e.defaultNamespace,defaultNamespace}var lib,hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;const e=requireDefaultNamespace(),t=typeof process<"u"?process:0;return Object.prototype.toString.call(t)!=="[object process]"&&console.error(`
======== WARNING! ========

firebase-admin appears to have been installed in an unsupported environment.
This package should only be used in server-side or backend Node.js environments,
and should not be used in web browsers or other client-side environments.

Use the Firebase JS SDK for client-side Firebase integrations:

https://firebase.google.com/docs/web/setup
`),lib=e,lib}var libExports=requireLib();const index=getDefaultExportFromCjs(libExports),index$1=_mergeNamespaces({__proto__:null,default:index},[libExports]);return exports.app_index_main=app_index_main,Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),exports})({});
