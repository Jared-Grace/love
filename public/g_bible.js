/*! For license information please see g_bible.js.LICENSE.txt */
(()=>{var __webpack_modules__={992(e,t,r){var n,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function getBaseValue(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var r=i._compress(e,6,function(e){return t.charAt(e)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,function(r){return getBaseValue(t,e.charAt(r))})},compressToUTF16:function(t){return null==t?"":i._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),r=new Uint8Array(2*t.length),n=0,s=t.length;n<s;n++){var o=t.charCodeAt(n);r[2*n]=o>>>8,r[2*n+1]=o%256}return r},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var r=new Array(t.length/2),n=0,s=r.length;n<s;n++)r[n]=256*t[2*n]+t[2*n+1];var o=[];return r.forEach(function(t){o.push(e(t))}),i.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return r.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,function(t){return getBaseValue(r,e.charAt(t))}))},compress:function(t){return i._compress(t,16,function(t){return e(t)})},_compress:function(e,t,r){if(null==e)return"";var n,i,s,o={},a={},c="",l="",u="",_=2,d=3,h=2,p=[],f=0,g=0;for(s=0;s<e.length;s+=1)if(c=e.charAt(s),Object.prototype.hasOwnProperty.call(o,c)||(o[c]=d++,a[c]=!0),l=u+c,Object.prototype.hasOwnProperty.call(o,l))u=l;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(n=0;n<h;n++)f<<=1,g==t-1?(g=0,p.push(r(f)),f=0):g++;for(i=u.charCodeAt(0),n=0;n<8;n++)f=f<<1|1&i,g==t-1?(g=0,p.push(r(f)),f=0):g++,i>>=1}else{for(i=1,n=0;n<h;n++)f=f<<1|i,g==t-1?(g=0,p.push(r(f)),f=0):g++,i=0;for(i=u.charCodeAt(0),n=0;n<16;n++)f=f<<1|1&i,g==t-1?(g=0,p.push(r(f)),f=0):g++,i>>=1}0==--_&&(_=Math.pow(2,h),h++),delete a[u]}else for(i=o[u],n=0;n<h;n++)f=f<<1|1&i,g==t-1?(g=0,p.push(r(f)),f=0):g++,i>>=1;0==--_&&(_=Math.pow(2,h),h++),o[l]=d++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(n=0;n<h;n++)f<<=1,g==t-1?(g=0,p.push(r(f)),f=0):g++;for(i=u.charCodeAt(0),n=0;n<8;n++)f=f<<1|1&i,g==t-1?(g=0,p.push(r(f)),f=0):g++,i>>=1}else{for(i=1,n=0;n<h;n++)f=f<<1|i,g==t-1?(g=0,p.push(r(f)),f=0):g++,i=0;for(i=u.charCodeAt(0),n=0;n<16;n++)f=f<<1|1&i,g==t-1?(g=0,p.push(r(f)),f=0):g++,i>>=1}0==--_&&(_=Math.pow(2,h),h++),delete a[u]}else for(i=o[u],n=0;n<h;n++)f=f<<1|1&i,g==t-1?(g=0,p.push(r(f)),f=0):g++,i>>=1;0==--_&&(_=Math.pow(2,h),h++)}for(i=2,n=0;n<h;n++)f=f<<1|1&i,g==t-1?(g=0,p.push(r(f)),f=0):g++,i>>=1;for(;;){if(f<<=1,g==t-1){p.push(r(f));break}g++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,r,n){var i,s,o,a,c,l,u,_=[],d=4,h=4,p=3,f="",g=[],m={val:n(0),position:r,index:1};for(i=0;i<3;i+=1)_[i]=i;for(o=0,c=Math.pow(2,2),l=1;l!=c;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),o|=(a>0?1:0)*l,l<<=1;switch(o){case 0:for(o=0,c=Math.pow(2,8),l=1;l!=c;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),o|=(a>0?1:0)*l,l<<=1;u=e(o);break;case 1:for(o=0,c=Math.pow(2,16),l=1;l!=c;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),o|=(a>0?1:0)*l,l<<=1;u=e(o);break;case 2:return""}for(_[3]=u,s=u,g.push(u);;){if(m.index>t)return"";for(o=0,c=Math.pow(2,p),l=1;l!=c;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),o|=(a>0?1:0)*l,l<<=1;switch(u=o){case 0:for(o=0,c=Math.pow(2,8),l=1;l!=c;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),o|=(a>0?1:0)*l,l<<=1;_[h++]=e(o),u=h-1,d--;break;case 1:for(o=0,c=Math.pow(2,16),l=1;l!=c;)a=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),o|=(a>0?1:0)*l,l<<=1;_[h++]=e(o),u=h-1,d--;break;case 2:return g.join("")}if(0==d&&(d=Math.pow(2,p),p++),_[u])f=_[u];else{if(u!==h)return null;f=s+s.charAt(0)}g.push(f),_[h++]=s+f.charAt(0),s=f,0==--d&&(d=Math.pow(2,p),p++)}}};return i}();void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)},923(e){function webpackEmptyAsyncContext(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}webpackEmptyAsyncContext.keys=()=>[],webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=923,e.exports=webpackEmptyAsyncContext},28(e,t,r){"use strict";function js_code_global_init(){let e=function js_code_let_assign(e,t){let r="let "+function js_code_assign(e,t){return e+" = "+t}(e,t)+";";return r}("global",function js_code_braces_empty(){return function js_code_wrap_braces(e){return"{"+e+"}"}("")}());return e}r.d(t,{v:()=>js_code_global_init})},86(e,t,r){"use strict";r.d(t,{v:()=>assert});var n=r(995),i=r(682);function assert(e){(0,n.A)(e)&&(0,i.z)()}},175(e,t,r){"use strict";r.d(t,{E:()=>assert_json});var n=r(690),i=r(94);function assert_json(e,t){let r=(0,i.t)(t);(0,n.F)(e,r)}},690(e,t,r){"use strict";r.d(t,{F:()=>assert_message});var n=r(995),i=r(682);function assert_message(e,t){(0,n.A)(e)&&(0,i.z)(t)}},803(e,t,r){"use strict";function browser_is(){return"undefined"!=typeof window&&void 0!==window.document}r.d(t,{G:()=>browser_is})},528(e,t,r){"use strict";r.d(t,{T:()=>buffer_text_to});var n=r(803);function buffer_text_to(e){let t=null;if((0,n.G)())if(e instanceof ArrayBuffer)t=new TextDecoder("utf-8").decode(new Uint8Array(e));else{if(!(e instanceof Uint8Array))throw new Error("Unsupported buffer type");t=new TextDecoder("utf-8").decode(e)}else t=e.toString("utf8");return t}},427(e,t,r){"use strict";function each(e,t){for(let r of e)if(!0===t(r))return}r.d(t,{_:()=>each})},682(e,t,r){"use strict";function error(e){throw new Error(e)}r.d(t,{z:()=>error})},166(e,t,r){"use strict";r.d(t,{O:()=>error_json});var n=r(682);var i=r(445);function json_format_to_truncated(e){let t=function json_format_to(e){return JSON.stringify(e,null,1)}(e);return(0,i.Y)(t,1e4)}function error_json(e){let t=json_format_to_truncated(e);(0,n.z)(t)}},773(e,t,r){"use strict";r.d(t,{D:()=>firebase_storage_download});var n=r(29),i=r(788);async function firebase_storage_download_generic(e,t,r){t=function firebase_path_fix(e){return(0,i.X)(e,"\\","/")}(t);let s=await(0,n.r)(async function lambda2(){let n=function firebase_storage_url(e,t){return"https://firebasestorage.googleapis.com/v0/b/"+t+"/o/"+(0,i.X)(e,"/","%2F")+"?alt=media"}(t,e);return await r(n)});return s}var s=r(233),o=r(458),a=r(151),c=r(822),l=r(175);function catch_call(e,t){return function inner(){let r=null;try{r=t(...arguments)}catch(t){e(t)}return r}}var u=r(309),_=r(427),d=r(86);var h=r(245);function integer_random(e,t){let r=[e,t];return function assert_multiple(e,t){(0,_._)(t,function lambda(t){let r=e(t);(0,d.v)(r)})}(h.E,r),function floor(e){return Math.floor(e)}(function random(){return Math.random()}()*(t-e+1))+e}async function http_sleep(){await async function sleep(e){await new Promise(function lambda5(t){return setTimeout(t,e)})}(1e3*integer_random(5,8))}var p=r(682),f=r(995),g=r(803),m=r(94);async function http_generic(e,t){const i=t.method||"GET",_=t.body||null;if((0,g.G)()){async function lambda3(){const r={method:i};(0,c.n)(t,"body")&&(0,a.m)(r,{headers:{"Content-Type":"application/json",...t.headers||{}},body:(0,m.t)(_)});const n=await fetch(e,r);(0,f.A)(n.ok)&&(0,p.z)("Failed to fetch file");return await n.arrayBuffer()}return await(0,n.r)(lambda3)}let d=!0;(0,c.n)(t,"sleep")&&(d=(0,o.F)(t,"sleep")),d&&await http_sleep();let h=(0,u.X)(e,"https://"),b=(0,s.w)(h,"s",""),w=await r(923)("http"+b),y=await async function promise_wrap(e){return await new Promise(function promise_wrap_inner(t,r){try{e(t,r)}catch(e){r(e)}})}(function lambda(r,n){const s=new URL(e);const a={hostname:s.hostname,port:s.port||(h?443:80),path:s.pathname+s.search,method:i,headers:{...t.headers||{},..._?{"Content-Type":"application/json"}:{}}},c=w.request(a,function lambda5(t){const i=[];let s=catch_call(n,function lambda2(e){i.push(e)});t.on("data",s);let a=catch_call(n,function on_end(){let n=(0,o.F)(t,"statusCode");const s=function round(e){return Math.round(e)}(n/100);(0,l.E)(2===s,{url:e,statusCode:n});let a=Buffer.concat(i);r(a)});t.on("end",a)});if(c.on("error",n),_){let e=(0,m.t)(_);c.write(e)}c.end()});return y}async function http(e){let t={method:"GET"};return await http_generic(e,t)}async function firebase_storage_download(e,t){let r=http;return await firebase_storage_download_generic(e,t,r)}},256(e,t,r){"use strict";r.d(t,{J:()=>firebase_storage_download_property});var n=r(53),i=r(528),s=r(458),o=r(773);async function firebase_storage_download_property(e,t,r){let a=await(0,o.D)(e,t);const c=(0,i.T)(a);let l=(0,n.m)(c);return(0,s.F)(l,r)}},968(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>firebase_storage_function_run_generic});var _love_public_src_error_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(682),_love_public_src_html_text_set_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(430),_love_public_src_html_attribute_set_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(727),_love_public_src_html_element_mjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_love_public_src_html_document_body_mjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(508),_love_public_src_browser_is_mjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(803),_love_public_src_list_join_newline_mjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(710),_karate_code_public_src_js_code_global_init_mjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(28),_love_public_src_firebase_storage_download_property_mjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(256);async function firebase_storage_function_run_generic(version_get,f_name,call){let destination_version=version_get(f_name),project_url=(0,_love_public_src_error_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(),destination=await(0,_love_public_src_firebase_storage_download_property_mjs__WEBPACK_IMPORTED_MODULE_8__.J)(project_url,destination_version,"destination"),project_url2=(0,_love_public_src_error_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(),code=await(0,_love_public_src_firebase_storage_download_property_mjs__WEBPACK_IMPORTED_MODULE_8__.J)(project_url2,destination,"code"),global_init=(0,_karate_code_public_src_js_code_global_init_mjs__WEBPACK_IMPORTED_MODULE_7__.v)(),joined=(0,_love_public_src_list_join_newline_mjs__WEBPACK_IMPORTED_MODULE_6__.p)([global_init,code,call]);if((0,_love_public_src_browser_is_mjs__WEBPACK_IMPORTED_MODULE_5__.G)()){let e=(0,_love_public_src_html_document_body_mjs__WEBPACK_IMPORTED_MODULE_4__.n)(),t=(0,_love_public_src_html_element_mjs__WEBPACK_IMPORTED_MODULE_3__.r)(e,"script");(0,_love_public_src_html_attribute_set_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(t,"type","module"),(0,_love_public_src_html_text_set_mjs__WEBPACK_IMPORTED_MODULE_1__.p)(t,joined)}else eval(joined)}},727(e,t,r){"use strict";r.d(t,{u:()=>html_attribute_set});var n=r(563);function html_attribute_set(e,t,r){(0,n.o)(e).setAttribute(t,r)}},563(e,t,r){"use strict";r.d(t,{o:()=>html_component_element_get});var n=r(458);function html_component_element_get(e){return(0,n.F)(e,"element")}},498(e,t,r){"use strict";function html_component_wrap(e){return{element:e}}r.d(t,{T:()=>html_component_wrap})},871(e,t,r){"use strict";r.d(t,{E:()=>html_div});var n=r(3);function html_div(e){return(0,n.r)(e,"div")}},508(e,t,r){"use strict";r.d(t,{n:()=>html_document_body});var n=r(498);function html_document_body(){let e=document.body;return(0,n.T)(e)}},3(e,t,r){"use strict";r.d(t,{r:()=>html_element});var n=r(563);var i=r(476),s=r(498);function html_element(e,t){const r=document.createElement(t);let o=(0,s.T)(r);return function html_parent_append(e,t){let r=(0,n.o)(e),i=(0,n.o)(t);r.appendChild(i)}(e,o),(0,i.h)(o,"box-sizing","border-box"),o}},29(e,t,r){"use strict";r.d(t,{r:()=>html_loading});var n=r(803),i=r(563);var s=r(851),o=r(871),a=r(508);async function html_loading(e){let t=null,r=(0,n.G)();if(r){let e=(0,a.n)();t=(0,o.E)(e);let r={position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"1000"};(0,s.e)(t,r)}let c=null;try{c=await e()}catch(e){throw e}finally{r&&function html_remove(e){(0,i.o)(e).remove()}(t)}return c}},851(e,t,r){"use strict";r.d(t,{e:()=>html_style_assign});var n=r(151),i=r(563);function html_style_assign(e,t){let r=(0,i.o)(e);(0,n.m)(r.style,t)}},476(e,t,r){"use strict";r.d(t,{h:()=>html_style_set});var n=r(563);function html_style_set(e,t,r){(0,n.o)(e).style[t]=r}},430(e,t,r){"use strict";r.d(t,{p:()=>html_text_set});var n=r(563);function html_text_set(e,t){(0,n.o)(e).innerHTML=t}},245(e,t,r){"use strict";function integer_is(e){return Number.isInteger(e)}r.d(t,{E:()=>integer_is})},53(e,t,r){"use strict";function json_from(e){return JSON.parse(e)}r.d(t,{m:()=>json_from})},94(e,t,r){"use strict";function json_to(e){return JSON.stringify(e)}r.d(t,{t:()=>json_to})},571(e,t,r){"use strict";function list_is(e){return Array.isArray(e)}r.d(t,{C:()=>list_is})},271(e,t,r){"use strict";r.d(t,{U:()=>list_join});var n=r(995),i=r(571),s=r(166);function list_join(e,t){let r=(0,i.C)(e);return(0,n.A)(r)&&(0,s.O)({list:e}),e.join(t)}},710(e,t,r){"use strict";r.d(t,{p:()=>list_join_newline});var n=r(271),i=r(796);function list_join_newline(e){let t=(0,i.N)();return(0,n.U)(e,t)}},796(e,t,r){"use strict";function newline(){return"\n"}r.d(t,{N:()=>newline})},995(e,t,r){"use strict";function not(e){return!e}r.d(t,{A:()=>not})},151(e,t,r){"use strict";function object_assign(e,t){Object.assign(e,t)}r.d(t,{m:()=>object_assign})},822(e,t,r){"use strict";function property_exists(e,t){return e&&Object.hasOwn(e,t)}r.d(t,{n:()=>property_exists})},458(e,t,r){"use strict";r.d(t,{F:()=>property_get});var n=r(16);function property_get(e,t){let r=e[t];return(0,n.d)(r,function object_get(){return{object:e,property_name:t}}),r}},233(e,t,r){"use strict";function ternary(e,t,r){let n=null;return n=e?t:r,n}r.d(t,{w:()=>ternary})},788(e,t,r){"use strict";r.d(t,{X:()=>text_replace});var n=r(271),i=r(96);function text_replace(e,t,r){let s=(0,i.j)(e,t);return(0,n.U)(s,r)}},182(e,t,r){"use strict";function text_slice(e,t,r){return e.slice(t,r)}r.d(t,{R:()=>text_slice})},96(e,t,r){"use strict";function text_split(e,t){return e.split(t)}r.d(t,{j:()=>text_split})},309(e,t,r){"use strict";function text_starts_with(e,t){return e.startsWith(t)}r.d(t,{X:()=>text_starts_with})},445(e,t,r){"use strict";r.d(t,{Y:()=>text_take});var n=r(182);function text_take(e,t){return(0,n.R)(e,0,t)}},723(e,t,r){"use strict";function undefined_is(e){return void 0===e}r.d(t,{W:()=>undefined_is})},16(e,t,r){"use strict";r.d(t,{d:()=>undefined_not_is_assert_lambda});var n=r(682),i=r(94),s=r(723);function undefined_not_is_assert_lambda(e,t){if((0,s.W)(e)){const e=t();let r=(0,i.t)(e);(0,n.z)(r)}}}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&t&&e;("object"==typeof i||"function"==typeof i)&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach(t=>n[t]=()=>e[t]);return n.default=()=>e,__webpack_require__.d(r,n),r},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce((t,r)=>(__webpack_require__.f[r](e,t),t),[])),__webpack_require__.u=e=>e+".g_bible.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},__webpack_require__.l=(e,t,r,n)=>{if(inProgress[e])inProgress[e].push(t);else{var i,s;if(void 0!==r)for(var o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var c=o[a];if(c.getAttribute("src")==e){i=c;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.src=e),inProgress[e]=[t];var onScriptComplete=(t,r)=>{i.onerror=i.onload=null,clearTimeout(l);var n=inProgress[e];if(delete inProgress[e],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach(e=>e(r)),t)return t(r)},l=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=onScriptComplete.bind(null,i.onerror),i.onload=onScriptComplete.bind(null,i.onload),s&&document.head.appendChild(i)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{var e={792:0};__webpack_require__.f.j=(t,r)=>{var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise((r,i)=>n=e[t]=[r,i]);r.push(n[2]=i);var s=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(s,r=>{if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,n[1](o)}},"chunk-"+t,t)}};var webpackJsonpCallback=(t,r)=>{var n,i,[s,o,a]=r,c=0;if(s.some(t=>0!==e[t])){for(n in o)__webpack_require__.o(o,n)&&(__webpack_require__.m[n]=o[n]);if(a)a(__webpack_require__)}for(t&&t(r);c<s.length;c++)i=s[c],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},t=self.webpackChunk=self.webpackChunk||[];t.forEach(webpackJsonpCallback.bind(null,0)),t.push=webpackJsonpCallback.bind(null,t.push.bind(t))})();var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(29),t=__webpack_require__(995);function property_set(e,t,r){e[t]=r}var r=__webpack_require__(458),n=__webpack_require__(822);function property_initialize_lambda(e,i,s){const o=(0,n.n)(e,i);if((0,t.A)(o)){property_set(e,i,s())}return(0,r.F)(e,i)}var i=__webpack_require__(94),s=__webpack_require__(682);function assert_json_get(e,r){!function assert_message_get(e,r){if((0,t.A)(e)){let e=r();(0,s.z)(e)}}(e,function json_get(){let e=r();return(0,i.t)(e)})}function property_delete(e,t){!function property_exists_assert(e,t){assert_json_get((0,n.n)(e,t),function lambda(){return{object:e,property_name:t}})}(e,t),delete e[t]}function global_alternate_set(e){let t=global_get();!function global_function_set(e,t){property_set(global_get(),e.name,t)}(global_alternate_set,e);return function lambda(){property_delete(t,global_alternate_set.name)}}let o={};function global_get(){if((0,n.n)(o,global_alternate_set.name)){return(0,r.F)(o,global_alternate_set.name)}return o}const stringToByteArray$1=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296==(64512&i)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,l=i>>2,u=(3&i)<<4|o>>4;let _=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(_=64)),n.push(r[l],r[u],r[_],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(stringToByteArray$1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{const s=e[r++],o=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){const i=r[e.charAt(t++)],s=t<e.length?r[e.charAt(t)]:0;++t;const o=t<e.length?r[e.charAt(t)]:64;++t;const a=t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw new DecodeBase64StringError;const c=i<<2|s>>4;if(n.push(c),64!==o){const e=s<<4&240|o>>2;if(n.push(e),64!==a){const e=o<<6&192|a;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64urlEncodeWithoutPadding=function(e){return function(e){const t=stringToByteArray$1(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},base64Decode=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const getDefaultsFromGlobal=()=>function getGlobal(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,getDefaults=()=>{try{return getDefaultsFromGlobal()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&base64Decode(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},getDefaultEmulatorHost=e=>getDefaults()?.emulatorHosts?.[e],getDefaultAppConfig=()=>getDefaults()?.config,getExperimentalSetting=e=>getDefaults()?.[`_${e}`];class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function isCloudWorkstation(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pingServer(e){return(await fetch(e,{credentials:"include"})).ok}const c={};let l=!1;function updateEmulatorBanner(e,t){if("undefined"==typeof window||"undefined"==typeof document||!isCloudWorkstation(window.location.host)||c[e]===t||c[e]||l)return;function prefixedId(e){return`__firebase__banner__${e}`}c[e]=t;const r="__firebase__banner",n=function getEmulatorSummary(){const e={prod:[],emulator:[]};for(const t of Object.keys(c))c[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function setupCloseBtn(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{l=!0,function tearDown(){const e=document.getElementById(r);e&&e.remove()}()},e}function setupDom(){const e=function getOrCreateEl(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}(r),t=prefixedId("text"),i=document.getElementById(t)||document.createElement("span"),s=prefixedId("learnmore"),o=document.getElementById(s)||document.createElement("a"),a=prefixedId("preprendIcon"),c=document.getElementById(a)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function setupBannerStyles(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function setupLinkStyles(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(o,s);const r=setupCloseBtn();!function setupIconStyles(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,a),t.append(c,i,o,r),document.body.appendChild(t)}n?(i.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',i.innerText="Preview backend running in this workspace."),i.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",setupDom):setupDom()}function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class FirebaseError extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},n=`${this.service}/${e}`,i=this.errors[e],s=i?function replaceTemplate(e,t){return e.replace(u,(e,r)=>{const n=t[r];return null!=n?String(n):`<${r}?>`})}(i,r):"Error",o=`${this.serviceName}: ${s} (${n}).`;return new FirebaseError(n,o,r)}}const u=/\{\$([^}]+)}/g;function deepEqual(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const r=e[i],s=t[i];if(isObject(r)&&isObject(s)){if(!deepEqual(r,s))return!1}else if(r!==s)return!1}for(const e of n)if(!r.includes(e))return!1;return!0}function isObject(e){return null!==e&&"object"==typeof e}function querystring(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function querystringDecode(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function extractQuerystring(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}class ObserverProxy{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function implementsAnyMethods(e,t){if("object"!=typeof e||null===e)return!1;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=noop),void 0===n.error&&(n.error=noop),void 0===n.complete&&(n.complete=noop);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function noop(){}function getModularInstance(e){return e&&e._delegate?e._delegate:e}class Component{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _="[DEFAULT]";class Provider{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function isComponentEager(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=_){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=_){return this.instances.has(e)}getOptions(e=_){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[e,t]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(e)&&t.resolve(n)}return n}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),n=this.onInitCallbacks.get(r)??new Set;n.add(e),this.onInitCallbacks.set(r,n);const i=this.instances.get(r);return i&&e(i,r),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===_?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=_){return this.component?this.component.multipleInstances?e:_:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Provider(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const d=[];var h;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(h||(h={}));const p={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},f=h.INFO,g={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},defaultLogHandler=(e,t,...r)=>{if(t<e.logLevel)return;const n=(new Date).toISOString(),i=g[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${n}]  ${e.name}:`,...r)};class Logger{constructor(e){this.name=e,this._logLevel=f,this._logHandler=defaultLogHandler,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?p[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}}let m,b;const w=new WeakMap,y=new WeakMap,v=new WeakMap,I=new WeakMap,E=new WeakMap;let k={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return y.get(e);if("objectStoreNames"===t)return e.objectStoreNames||v.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return wrap(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wrapFunction(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function getCursorAdvanceMethods(){return b||(b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(unwrap(this),t),wrap(w.get(this))}:function(...t){return wrap(e.apply(unwrap(this),t))}:function(t,...r){const n=e.call(unwrap(this),t,...r);return v.set(n,t.sort?t.sort():[t]),wrap(n)}}function transformCachableValue(e){return"function"==typeof e?wrapFunction(e):(e instanceof IDBTransaction&&function cacheDonePromiseForTransaction(e){if(y.has(e))return;const t=new Promise((t,r)=>{const unlisten=()=>{e.removeEventListener("complete",complete),e.removeEventListener("error",error),e.removeEventListener("abort",error)},complete=()=>{t(),unlisten()},error=()=>{r(e.error||new DOMException("AbortError","AbortError")),unlisten()};e.addEventListener("complete",complete),e.addEventListener("error",error),e.addEventListener("abort",error)});y.set(e,t)}(e),t=e,function getIdbProxyableTypes(){return m||(m=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}().some(e=>t instanceof e)?new Proxy(e,k):e);var t}function wrap(e){if(e instanceof IDBRequest)return function promisifyRequest(e){const t=new Promise((t,r)=>{const unlisten=()=>{e.removeEventListener("success",success),e.removeEventListener("error",error)},success=()=>{t(wrap(e.result)),unlisten()},error=()=>{r(e.error),unlisten()};e.addEventListener("success",success),e.addEventListener("error",error)});return t.then(t=>{t instanceof IDBCursor&&w.set(t,e)}).catch(()=>{}),E.set(t,e),t}(e);if(I.has(e))return I.get(e);const t=transformCachableValue(e);return t!==e&&(I.set(e,t),E.set(t,e)),t}const unwrap=e=>E.get(e);const T=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],A=new Map;function getMethod(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(A.get(t))return A.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=C.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!T.includes(r))return;const method=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return n&&(o=o.index(t.shift())),(await Promise.all([o[r](...t),i&&s.done]))[0]};return A.set(t,method),method}!function replaceTraps(e){k=e(k)}(e=>({...e,get:(t,r,n)=>getMethod(t,r)||e.get(t,r,n),has:(t,r)=>!!getMethod(t,r)||e.has(t,r)}));class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function isVersionServiceProvider(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const S="@firebase/app",P="0.14.9",R=new Logger("@firebase/app"),O="@firebase/app-compat",N="@firebase/analytics-compat",D="@firebase/analytics",x="@firebase/app-check-compat",U="@firebase/app-check",M="@firebase/auth",L="@firebase/auth-compat",F="@firebase/database",j="@firebase/data-connect",B="@firebase/database-compat",q="@firebase/functions",V="@firebase/functions-compat",W="@firebase/installations",z="@firebase/installations-compat",H="@firebase/messaging",$="@firebase/messaging-compat",G="@firebase/performance",K="@firebase/performance-compat",J="@firebase/remote-config",X="@firebase/remote-config-compat",Y="@firebase/storage",Z="@firebase/storage-compat",Q="@firebase/firestore",ee="@firebase/ai",te="@firebase/firestore-compat",re="firebase",ne="[DEFAULT]",ie={[S]:"fire-core",[O]:"fire-core-compat",[D]:"fire-analytics",[N]:"fire-analytics-compat",[U]:"fire-app-check",[x]:"fire-app-check-compat",[M]:"fire-auth",[L]:"fire-auth-compat",[F]:"fire-rtdb",[j]:"fire-data-connect",[B]:"fire-rtdb-compat",[q]:"fire-fn",[V]:"fire-fn-compat",[W]:"fire-iid",[z]:"fire-iid-compat",[H]:"fire-fcm",[$]:"fire-fcm-compat",[G]:"fire-perf",[K]:"fire-perf-compat",[J]:"fire-rc",[X]:"fire-rc-compat",[Y]:"fire-gcs",[Z]:"fire-gcs-compat",[Q]:"fire-fst",[te]:"fire-fst-compat",[ee]:"fire-vertex","fire-js":"fire-js",[re]:"fire-js-all"},se=new Map,oe=new Map,ae=new Map;function _addComponent(e,t){try{e.container.addComponent(t)}catch(r){R.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function _registerComponent(e){const t=e.name;if(ae.has(t))return R.debug(`There were multiple attempts to register component ${t}.`),!1;ae.set(t,e);for(const t of se.values())_addComponent(t,e);for(const t of oe.values())_addComponent(t,e);return!0}function _getProvider(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function _isFirebaseServerApp(e){return null!=e&&void 0!==e.settings}const ce=new ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class FirebaseAppImpl{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const le="12.10.0";function initializeApp(e,t={}){let r=e;if("object"!=typeof t){t={name:t}}const n={name:ne,automaticDataCollectionEnabled:!0,...t},i=n.name;if("string"!=typeof i||!i)throw ce.create("bad-app-name",{appName:String(i)});if(r||(r=getDefaultAppConfig()),!r)throw ce.create("no-options");const s=se.get(i);if(s){if(deepEqual(r,s.options)&&deepEqual(n,s.config))return s;throw ce.create("duplicate-app",{appName:i})}const o=new ComponentContainer(i);for(const e of ae.values())o.addComponent(e);const a=new FirebaseAppImpl(r,n,o);return se.set(i,a),a}function getApp(e=ne){const t=se.get(e);if(!t&&e===ne&&getDefaultAppConfig())return initializeApp();if(!t)throw ce.create("no-app",{appName:e});return t}function registerVersion(e,t,r){let n=ie[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${n}" with version "${t}":`];return i&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void R.warn(e.join(" "))}_registerComponent(new Component(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const ue="firebase-heartbeat-store";let _e=null;function getDbPromise(){return _e||(_e=function openDB(e,t,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=wrap(o);return n&&o.addEventListener("upgradeneeded",e=>{n(wrap(o.result),e.oldVersion,e.newVersion,wrap(o.transaction),e)}),r&&o.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ue)}catch(e){console.warn(e)}}}).catch(e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})})),_e}async function writeHeartbeatsToIndexedDB(e,t){try{const r=(await getDbPromise()).transaction(ue,"readwrite"),n=r.objectStore(ue);await n.put(t,computeKey(e)),await r.done}catch(e){if(e instanceof FirebaseError)R.warn(e.message);else{const t=ce.create("idb-set",{originalErrorMessage:e?.message});R.warn(t.message)}}}function computeKey(e){return`${e.name}!${e.options.appId}`}class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=getUTCDateString();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function getEarliestHeartbeatIdx(e){if(0===e.length)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){R.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=getUTCDateString(),{heartbeatsToSend:t,unsentEntries:r}=function extractHeartbeatsForHeader(e,t=1024){const r=[];let n=e.slice();for(const i of e){const e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),countBytes(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),countBytes(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(e){return R.warn(e),""}}}function getUTCDateString(){return(new Date).toISOString().substring(0,10)}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function isIndexedDBAvailable(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&function validateIndexedDBOpenable(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function readHeartbeatsFromIndexedDB(e){try{const t=(await getDbPromise()).transaction(ue),r=await t.objectStore(ue).get(computeKey(e));return await t.done,r}catch(e){if(e instanceof FirebaseError)R.warn(e.message);else{const t=ce.create("idb-get",{originalErrorMessage:e?.message});R.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function countBytes(e){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}!function registerCoreComponents(e){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(S,P,e),registerVersion(S,P,"esm2020"),registerVersion("fire-js","")}("");async function firebase_app_initialize(){return await async function global_function_async(e,t){let r=property_initialize_lambda(global_get(),e.name,t);return await r}(firebase_app_initialize,async function lambda2(){return initializeApp({apiKey:"AIzaSyABi8aveEhWeD6GyRXj9FUqu_aDWxhuBGQ",authDomain:"jared-grace.firebaseapp.com",projectId:"jared-grace",storageBucket:"jared-grace.firebasestorage.app",messagingSenderId:"879920885833",appId:"1:879920885833:web:2f5a3cb39a398516690f98",measurementId:"G-B2XTX9NJCZ"})})}registerVersion("firebase","12.10.0","app");const de="firebasestorage.googleapis.com",he="storageBucket";class StorageError extends FirebaseError{constructor(e,t,r=0){super(prependCode(e),`Firebase Storage: ${t} (${prependCode(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return prependCode(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var pe,fe;function prependCode(e){return"storage/"+e}function unknown(){return new StorageError(pe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function retryLimitExceeded(){return new StorageError(pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(pe.CANCELED,"User canceled the upload/download.")}function cannotSliceBlob(){return new StorageError(pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function invalidArgument(e){return new StorageError(pe.INVALID_ARGUMENT,e)}function appDeleted(){return new StorageError(pe.APP_DELETED,"The Firebase app was deleted.")}function invalidFormat(e,t){return new StorageError(pe.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function internalError(e){throw new StorageError(pe.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(pe||(pe={}));class Location{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Location.makeFromUrl(e,t)}catch(t){return new Location(e,"")}if(""===r.path)return r;throw function invalidDefaultBucket(e){return new StorageError(pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}(e)}static makeFromUrl(e,t){let r=null;const n="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+n+"(/(.*))?$","i");function httpModify(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function gsModify(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${n}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:httpModify},{regex:new RegExp(`^https?://${t===de?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${n}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:httpModify}];for(let t=0;t<o.length;t++){const n=o[t],i=n.regex.exec(e);if(i){const e=i[n.indices.bucket];let t=i[n.indices.path];t||(t=""),r=new Location(e,t),n.postModify(r);break}}if(null==r)throw function invalidUrl(e){return new StorageError(pe.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return r}}class FailRequest{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function isString(e){return"string"==typeof e||e instanceof String}function isNativeBlob(e){return isNativeBlobDefined()&&e instanceof Blob}function isNativeBlobDefined(){return"undefined"!=typeof Blob}function validateNumber(e,t,r,n){if(n<t)throw invalidArgument(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw invalidArgument(`Invalid value for '${e}'. Expected ${r} or less.`)}function makeUrl(e,t,r){let n=t;return null==r&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function makeQueryString(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){r=r+(t(n)+"="+t(e[n]))+"&"}return r=r.slice(0,-1),r}function isRetryStatusCode(e,t){const r=e>=500&&e<600,n=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return r||n||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(fe||(fe={}));class NetworkRequest{constructor(e,t,r,n,i,s,o,a,c,l,u,_=!0,d=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=n,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=_,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const doTheRequest=(e,t)=>{if(t)return void e(!1,new RequestEndStatus(!1,null,!0));const r=this.connectionFactory_();this.pendingConnection_=r;const progressListener=e=>{const t=e.loaded,r=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,r)};null!==this.progressCallback_&&r.addUploadProgressListener(progressListener),r.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&r.removeUploadProgressListener(progressListener),this.pendingConnection_=null;const t=r.getErrorCode()===fe.NO_ERROR,n=r.getStatus();if(!t||isRetryStatusCode(n,this.additionalRetryCodes_)&&this.retry){const t=r.getErrorCode()===fe.ABORT;return void e(!1,new RequestEndStatus(!1,null,t))}const i=-1!==this.successCodes_.indexOf(n);e(!0,new RequestEndStatus(i,r))})},backoffDone=(e,t)=>{const r=this.resolve_,n=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function isJustDef(e){return void 0!==e}(e)?r():r(e)}catch(e){n(e)}else if(null!==i){const e=unknown();e.serverResponse=i.getErrorText(),this.errorCallback_?n(this.errorCallback_(i,e)):n(e)}else if(t.canceled){n(this.appDelete_?appDeleted():canceled())}else{n(retryLimitExceeded())}};this.canceled_?backoffDone(0,new RequestEndStatus(!1,null,!0)):this.backoffId_=function start(e,t,r){let n=1,i=null,s=null,o=!1,a=0;function canceled(){return 2===a}let c=!1;function triggerCallback(...e){c||(c=!0,t.apply(null,e))}function callWithDelay(t){i=setTimeout(()=>{i=null,e(responseHandler,canceled())},t)}function clearGlobalTimeout(){s&&clearTimeout(s)}function responseHandler(e,...t){if(c)return void clearGlobalTimeout();if(e)return clearGlobalTimeout(),void triggerCallback.call(null,e,...t);if(canceled()||o)return clearGlobalTimeout(),void triggerCallback.call(null,e,...t);let r;n<64&&(n*=2),1===a?(a=2,r=0):r=1e3*(n+Math.random()),callWithDelay(r)}let l=!1;function stop(e){l||(l=!0,clearGlobalTimeout(),c||(null!==i?(e||(a=2),clearTimeout(i),callWithDelay(0)):e||(a=1)))}return callWithDelay(0),s=setTimeout(()=>{o=!0,stop(!0)},r),stop}(doTheRequest,backoffDone,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function stop(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function getBlobBuilder(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function getBlob$1(...e){const t=getBlobBuilder();if(void 0!==t){const r=new t;for(let t=0;t<e.length;t++)r.append(e[t]);return r.getBlob()}if(isNativeBlobDefined())return new Blob(e);throw new StorageError(pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function decodeBase64(e){if("undefined"==typeof atob)throw function missingPolyFill(e){return new StorageError(pe.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(e)}const ge="raw",me="base64",be="base64url",we="data_url";class StringData{constructor(e,t){this.data=e,this.contentType=t||null}}function dataFromString(e,t){switch(e){case ge:return new StringData(utf8Bytes_(t));case me:case be:return new StringData(base64Bytes_(e,t));case we:return new StringData(function dataURLBytes_(e){const t=new DataURLParts(e);return t.base64?base64Bytes_(me,t.rest):function percentEncodedBytes_(e){let t;try{t=decodeURIComponent(e)}catch(e){throw invalidFormat(we,"Malformed data URL.")}return utf8Bytes_(t)}(t.rest)}(t),function dataURLContentType_(e){return new DataURLParts(e).contentType}(t))}throw unknown()}function utf8Bytes_(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|63&n);else if(55296==(64512&n)){if(r<e.length-1&&56320==(64512&e.charCodeAt(r+1))){n=65536|(1023&n)<<10|1023&e.charCodeAt(++r),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)}else t.push(239,191,189)}else 56320==(64512&n)?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(t)}function base64Bytes_(e,t){switch(e){case me:{const r=-1!==t.indexOf("-"),n=-1!==t.indexOf("_");if(r||n){throw invalidFormat(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?")}break}case be:{const r=-1!==t.indexOf("+"),n=-1!==t.indexOf("/");if(r||n){throw invalidFormat(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=decodeBase64(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw invalidFormat(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n}class DataURLParts{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw invalidFormat(we,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function endsWith(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class FbsBlob{constructor(e,t){let r=0,n="";isNativeBlob(e)?(this.data_=e,r=e.size,n=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,t){if(isNativeBlob(this.data_)){const r=function sliceBlob(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}(this.data_,e,t);return null===r?null:new FbsBlob(r)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new FbsBlob(r,!0)}}static getBlob(...e){if(isNativeBlobDefined()){const t=e.map(e=>e instanceof FbsBlob?e.data_:e);return new FbsBlob(getBlob$1.apply(null,t))}{const t=e.map(e=>isString(e)?dataFromString(ge,e).data:e.data_);let r=0;t.forEach(e=>{r+=e.byteLength});const n=new Uint8Array(r);let i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)n[i++]=e[t]}),new FbsBlob(n,!0)}}uploadData(){return this.data_}}function jsonObjectOrNull(e){let t;try{t=JSON.parse(e)}catch(e){return null}return function isNonArrayObject(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function lastComponent(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function noXform_(e,t){return t}class Mapping{constructor(e,t,r,n){this.server=e,this.local=t||e,this.writable=!!r,this.xform=n||noXform_}}let ye=null;function getMappings(){if(ye)return ye;const e=[];e.push(new Mapping("bucket")),e.push(new Mapping("generation")),e.push(new Mapping("metageneration")),e.push(new Mapping("name","fullPath",!0));const t=new Mapping("name");t.xform=function mappingsXformPath(e,t){return function xformPath(e){return!isString(e)||e.length<2?e:lastComponent(e)}(t)},e.push(t);const r=new Mapping("size");return r.xform=function xformSize(e,t){return void 0!==t?Number(t):t},e.push(r),e.push(new Mapping("timeCreated")),e.push(new Mapping("updated")),e.push(new Mapping("md5Hash",null,!0)),e.push(new Mapping("cacheControl",null,!0)),e.push(new Mapping("contentDisposition",null,!0)),e.push(new Mapping("contentEncoding",null,!0)),e.push(new Mapping("contentLanguage",null,!0)),e.push(new Mapping("contentType",null,!0)),e.push(new Mapping("metadata","customMetadata",!0)),ye=e,ye}function fromResource(e,t,r){const n={type:"file"},i=r.length;for(let e=0;e<i;e++){const i=r[e];n[i.local]=i.xform(n,t[i.server])}return function addRef(e,t){Object.defineProperty(e,"ref",{get:function generateRef(){const r=e.bucket,n=e.fullPath,i=new Location(r,n);return t._makeStorageReference(i)}})}(n,e),n}function fromResourceString(e,t,r){const n=jsonObjectOrNull(t);if(null===n)return null;return fromResource(e,n,r)}function toResourceString(e,t){const r={},n=t.length;for(let i=0;i<n;i++){const n=t[i];n.writable&&(r[n.server]=e[n.local])}return JSON.stringify(r)}class RequestInfo{constructor(e,t,r,n){this.url=e,this.method=t,this.handler=r,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function handlerCheck(e){if(!e)throw unknown()}function metadataHandler(e,t){return function handler(r,n){const i=fromResourceString(e,n,t);return handlerCheck(null!==i),i}}function sharedErrorHandler(e){return function errorHandler(t,r){let n;return n=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function unauthorizedApp(){return new StorageError(pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function unauthenticated(){return new StorageError(pe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function quotaExceeded(e){return new StorageError(pe.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(e.bucket):403===t.getStatus()?function unauthorized(e){return new StorageError(pe.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}(e.path):r,n.status=t.getStatus(),n.serverResponse=r.serverResponse,n}}function metadataForUpload_(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=function determineContentType_(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),n}function multipartUpload(e,t,r,n,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function genBoundary(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const c=metadataForUpload_(t,n,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+toResourceString(c,r)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",_=FbsBlob.getBlob(l,n,u);if(null===_)throw cannotSliceBlob();const d={name:c.fullPath},h=makeUrl(s,e.host,e._protocol),p=e.maxUploadRetryTime,f=new RequestInfo(h,"POST",metadataHandler(e,r),p);return f.urlParams=d,f.headers=o,f.body=_.uploadData(),f.errorHandler=sharedErrorHandler(t),f}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fe.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fe.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fe.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,n,i){if(this.sent_)throw internalError("cannot .send() more than once");if(isCloudWorkstation(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const e in i)i.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,i[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}class Reference{constructor(e,t){this._service=e,this._location=t instanceof Location?t:Location.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Reference(e,t)}get root(){const e=new Location(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const e=function index_esm_parent(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Location(this._location.bucket,e);return new Reference(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function invalidRootOperation(e){return new StorageError(pe.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function uploadBytes$1(e,t,r){e._throwIfRoot("uploadBytes");const n=multipartUpload(e.storage,e._location,getMappings(),new FbsBlob(t,!0),r);return e.storage.makeRequestWithTokens(n,newTextConnection).then(t=>({metadata:t,ref:e}))}function _getChild$1(e,t){const r=function child(e,t){const r=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?r:e+"/"+r}(e._location.path,t),n=new Location(e._location.bucket,r);return new Reference(e.storage,n)}function refFromPath(e,t){if(e instanceof FirebaseStorageImpl){const r=e;if(null==r._bucket)throw function noDefaultBucket(){return new StorageError(pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+he+"' property when initializing the app?")}();const n=new Reference(r,r._bucket);return null!=t?refFromPath(n,t):n}return void 0!==t?_getChild$1(e,t):e}function ref$1(e,t){if(t&&function isUrl(e){return/^[A-Za-z]+:\/\//.test(e)}(t)){if(e instanceof FirebaseStorageImpl)return function refFromURL(e,t){return new Reference(e,t)}(e,t);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}return refFromPath(e,t)}function extractBucket(e,t){const r=t?.[he];return null==r?null:Location.makeFromBucketSpec(r,e)}function connectStorageEmulator$1(e,t,r,n={}){e.host=`${t}:${r}`;const i=isCloudWorkstation(t);i&&(pingServer(`https://${e.host}/b`),updateEmulatorBanner("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(e._overrideAuthToken="string"==typeof s?s:function createMockUserToken(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[base64urlEncodeWithoutPadding(JSON.stringify({alg:"none",type:"JWT"})),base64urlEncodeWithoutPadding(JSON.stringify(s)),""].join(".")}(s,e.app.options.projectId))}class FirebaseStorageImpl{constructor(e,t,r,n,i,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=n,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=de,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=n?Location.makeFromBucketSpec(n,this._host):extractBucket(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Location.makeFromBucketSpec(this._url,e):this._bucket=extractBucket(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Reference(this,e)}_makeRequest(e,t,r,n,i=!0){if(this._deleted)return new FailRequest(appDeleted());{const s=function makeRequest(e,t,r,n,i,s,o=!0,a=!1){const c=makeQueryString(e.urlParams),l=e.url+c,u=Object.assign({},e.headers);return function addGmpidHeader_(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function addAuthHeader_(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,r),function addVersionHeader_(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(u,s),function addAppCheckHeader_(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,n),new NetworkRequest(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}(e,this._appId,r,n,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[r,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,n).getPromise()}}const ve="@firebase/storage",Ie="0.14.1",Ee="storage";function uploadString(e,t,r,n){return function uploadString$1(e,t,r=ge,n){e._throwIfRoot("uploadString");const i=dataFromString(r,t),s={...n};return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),uploadBytes$1(e,i.data,s)}(e=getModularInstance(e),t,r,n)}function getStorage(e=getApp(),t){const r=_getProvider(e=getModularInstance(e),Ee).getImmediate({identifier:t}),n=(e=>{const t=getDefaultEmulatorHost(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]})("storage");return n&&function connectStorageEmulator(e,t,r,n={}){connectStorageEmulator$1(e,t,r,n)}(r,...n),r}function factory(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new FirebaseStorageImpl(r,n,i,t,le)}async function firebase_upload_text_generic_browser(t,r){return await(0,e.r)(async function lambda2(){const e=function ref(e,t){return ref$1(e=getModularInstance(e),t)}(getStorage(await firebase_app_initialize()),t);await uploadString(e,r,"raw",{contentType:"application/json"}),console.log(" JSON uploaded successfully")})}async function firebase_upload_object_browser(e,t){var n=function firebase_upload_object_arg(e){return{content:(0,i.t)(e),content_type:"application/json"}}(t);let s=(0,r.F)(n,"content");await firebase_upload_text_generic_browser(s,e)}!function registerStorage(){_registerComponent(new Component(Ee,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(ve,Ie,""),registerVersion(ve,Ie,"esm2020")}();__webpack_require__(992);async function json_compress(e){let t=(0,i.t)(e);return await async function text_compress(e){const t=await Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,992,19));return(t.default??t).compressToUTF16(e)}(t)}async function firebase_upload_object_compressed_browser(e,t){let r=await async function json_compress_object(e){return{compressed:await json_compress(e)}}(t);await firebase_upload_object_browser(e,r)}var ke=__webpack_require__(427),Te=__webpack_require__(86),Ce=__webpack_require__(571);function list_is_assert(e){!function list_is_assert_json(e,t){assert_json_get((0,Ce.C)(e),t)}(e,function lambda(){return{list:e}})}function list_size(e){return list_is_assert(e),e.length}function list_empty_is(e){return 0===list_size(e)}function list_empty_not_is(e){let r=list_empty_is(e);return(0,t.A)(r)}function list_index_end(e,t){return list_size(e)-1-t}var Ae=__webpack_require__(175),Se=__webpack_require__(245);var Pe=__webpack_require__(16);function list_get(e,t){!function integer_is_assert(e){let t=(0,Se.E)(e);(0,Ae.E)(t,{index:e})}(t);let r=e[t];return(0,Pe.d)(r,function object_get(){return{list:e,index:t}}),r}function list_last(e){!function list_empty_not_is_assert(e){let t=list_empty_not_is(e);(0,Te.v)(t)}(e);let t=function list_get_end(e,t){return list_get(e,list_index_end(e,t))}(e,0);return t}function firebase_storage_url_project_jg(){let e=function firebase_storage_url_project(e){return e+".firebasestorage.app"}("jared-grace");return e}async function global_function_property_initialize_async(e,i,s){let o=function property_initialize(e,i,s){const o=(0,n.n)(e,i);return(0,t.A)(o)&&property_set(e,i,s),(0,r.F)(e,i)}(global_get(),e.name,{}),a=await async function property_initialize_lambda_async(e,i,s){const o=(0,n.n)(e,i);(0,t.A)(o)&&property_set(e,i,s());return await(0,r.F)(e,i)}(o,i,s);return a}var Re=__webpack_require__(53);async function json_decompress(e){let t=await async function text_decompress(e){let t=await Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,992,19));return(t.default??t).decompressFromUTF16(e)}(e);return(0,Re.m)(t)}var Oe=__webpack_require__(528),Ne=__webpack_require__(773);async function firebase_storage_download_json(e,t){let r=await async function firebase_storage_download_text(e,t){let r=await(0,Ne.D)(e,t);return(0,Oe.T)(r)}(e,t);return(0,Re.m)(r)}async function firebase_storage_download_json_decompress(e,t){let n=await firebase_storage_download_json(e,t),i=await async function json_decompress_object(e){let t=(0,r.F)(e,"compressed");return await json_decompress(t)}(n);return i}var De=__webpack_require__(271);function list_join_slash_forward(e){return(0,De.U)(e,"/")}function firebase_deploy_function_destination(e,t){return list_join_slash_forward(["function",e,t])}function equal(e,t){return e===t}function arguments_assert(e,t){!function equal_assert(e,t){let r=equal(e,t);(0,Te.v)(r)}((0,r.F)(e,"length"),t)}function folder_previous(){return".."}function file_name_json(e){return e+".json"}function g_objection_generate_upload_path_generic(e,r){let n=function path_join(e){arguments_assert(arguments,1);let r=[];for(let n of e){if((0,t.A)(n))continue;let e=n.split(/[\\/]+/);for(let t of e)if(""!==t&&"."!==t)if(t===folder_previous())if(r.length>0&&r[r.length-1]!==folder_previous())r.pop();else{let e=folder_previous();r.push(e)}else r.push(t)}return r.join("/")}(["uploads",file_name_json(r)]);return firebase_deploy_function_destination(e,n)}function g_sermon_generate_upload_path(e){return g_objection_generate_upload_path_generic("g_sermon_generate_upload",e)}async function g_sermon_generate_download(e){let t=g_sermon_generate_upload_path,r=g_sermon_generate_download,n=firebase_storage_url_project_jg(),i=await async function global_firebase_storage_download_json_decompress(e,t,r,n){return await global_function_property_initialize_async(e,r,async function get(){let e=t(r);return await firebase_storage_download_json_decompress(n,e)})}(r,t,e,n);return i}function list_add(e,t){e.push(t)}async function list_adder_async(e){let t=[];return await e(function list_adder_inner(e){list_add(t,e)}),t}function list_copy(e){return[...e]}function list_empty(e){property_set(e,"length",0)}function ebible_firebase_upload_path(e,t){let r=function ebible_firebase_upload_path_name(e){return file_name_json(e)}(t),n=list_join_slash_forward(["bible",e]);return list_join_slash_forward([n,r])}async function firebase_storage_download_ebible(e,t){let r=ebible_firebase_upload_path(e,t),n=await async function firebase_storage_download_json_jg(e){let t=firebase_storage_url_project_jg();return await firebase_storage_download_json(t,e)}(r);return n}async function firebase_storage_download_ebible_cache(e,t,r){return await global_function_property_initialize_async(e,t,async function get(){return await firebase_storage_download_ebible(t,r)})}async function ebible_chapter_codes_browser(e){return await firebase_storage_download_ebible_cache(ebible_chapter_codes_browser,e,"chapter_codes")}async function global_function_call_cache_async(e,t,r){let n=function list_to(e){return Array.from(e)}(t),s=(0,i.t)(n);return await global_function_property_initialize_async(e,s,r)}async function ebible_verses_browser(e,t){return await global_function_call_cache_async(ebible_verses_browser,arguments,async function get(){let n=ebible_firebase_upload_path(e,t),i=firebase_storage_url_project_jg(),s=await firebase_storage_download_json_decompress(i,n);return(0,r.F)(s,"verses")})}function null_not_is(e){return null!==e}async function ebible_version_books_browser(e){let t=await async function ebible_version_books_original_check(e){let t=null;if(equal(e,"original")){let e="engbsb";t=await ebible_version_books_browser(e)}return t}(e);if(null_not_is(t))return t;let n=await firebase_storage_download_ebible_cache(ebible_version_books_browser,e,"books");return(0,r.F)(n,"books")}var xe=__webpack_require__(788);function text_replace_space_underscore_lower(e){return function text_replace_space_underscore(e){return(0,xe.X)(e," ","_")}(function text_lower_to(e){return e.toLowerCase()}(e))}function list_adder(e){let t=function list_adder_generic(e,t){let r=[];return e(function list_adder_inner(e){t(r,e)}),r}(e,list_add);return t}function properties_get(e){return Object.getOwnPropertyNames(e)}function hash_to_url(e){let t=function list_join_comma(e){return(0,De.U)(e,",")}(list_adder(function lambda3(t){!function each_object(e,t){let n=properties_get(e);(0,ke._)(n,function lambda2(n){let i=(0,r.F)(e,n);t(i,n)})}(e,function lambda(e,r){t(r+"="+e)})}));return"#"+t}function html_hash_set_object(e){!function html_hash_set(e){history.replaceState(null,"",e)}(hash_to_url(e))}var Ue=__webpack_require__(690);function text_is_assert_json(e,t){!function text_is_assert_message(e,t){let r=function text_is(e){return"string"==typeof e}(e);return(0,Ue.F)(r,t)}(e,(0,i.t)(t))}function text_includes_not(e,r){let n=function text_includes(e,t){const r={input:e,part:t};return text_is_assert_json(e,r),text_is_assert_json(t,r),e.includes(t)}(e,r);return(0,t.A)(n)}function log_keep(e){console.log(e)}var Me=__webpack_require__(166);function property_set_exists_not(e,t,i){!function property_exists_not_assert(e,t){if((0,n.n)(e,t)){let n=(0,r.F)(e,t);log_keep(t),(0,Me.O)({object:e,property_name:t,value:n})}}(e,t),property_set(e,t,i)}function list_multiple_is(e){return list_size(e)>=2}function list_first(e){return list_get(e,0)}function list_first_second_generic(e,t,r){let n=function list_one_other(e,t,r,n,i){let s=null,o=null;return list_empty_not_is(e)&&(s=t(e),list_multiple_is(e)&&(o=r(e))),{[n]:s,[i]:o}}(e,list_first,t,"first",r);return n}function list_second(e){return list_get(e,1)}var Le=__webpack_require__(96);var Fe=__webpack_require__(182);function text_size(e){return e.length}function text_skip(e,t){let r=text_size(e);return(0,Fe.R)(e,t,r)}var je=__webpack_require__(309);function text_prefix_without(e,r){let n=(0,je.X)(e,r);assert_json_get(n,function lambda(){return{s:e,prefix:r}}),(0,t.A)(n)&&(0,s.z)();let i=function text_prefix_without_inner(e,t){return text_skip(e,text_size(t))}(e,r);return i}function html_hash_object_get(){let e=function object_adder(e){let t=function object_adder_generic(e){let t={};return{oa:function lambda(r,n){e(t,r,n)},result:t}}(property_set_exists_not),n=(0,r.F)(t,"result");return e((0,r.F)(t,"oa")),n}(function lambda3(e){let t=function html_hash_get(){return window.location.hash}();if(text_includes_not(t,"#"))return;let n=function text_split_comma(e){return(0,Le.j)(e,",")}(text_prefix_without(t,"#"));(0,ke._)(n,function lambda(t){let n=function list_first_second(e){return list_first_second_generic(e,list_second,"second")}(function text_split_equal(e){return(0,Le.j)(e,"=")}(t)),i=(0,r.F)(n,"second"),s=(0,r.F)(n,"first");e(s,i)})});return e}function html_hash_object_property_set(e,t){let r=html_hash_object_get();property_set(r,e,t),html_hash_set_object(r)}var Be=__webpack_require__(563);function list_slice(e,t,r){return e.slice(t,r)}function list_first_last(e){return function list_multiple_is_assert(e){let t=list_multiple_is(e);(0,Te.v)(t)}(e),[list_first(e),list_last(e)]}function identity(e){return e}function list_sort_number_mapper(e,t){e.sort(function lambda(e,r){const n=t(e),i=t(r);return n<i?-1:n>i?1:0})}function list_slice_from_indices(e,t){!function list_sort_number(e){list_sort_number_mapper(e,identity)}(t);let r=list_first_last(t),n=function list_slice_include(e,t,r){return list_slice(e,t,r+1)}(e,list_first(r),list_last(r));return n}function list_index_of(e,t){let r=e.indexOf(t);return r<=-1&&(0,Me.O)({list:e,item:t,index:r}),r}function list_map(e,t){return list_is_assert(e),e.map(t)}function list_first_last_slice(e,t){let r=list_first_last(e),n=list_first(r),i=list_last(r),s=function list_slice_from(e,t,r){let n=list_map([t,r],function lambda(t){return list_index_of(e,t)});return list_slice_from_indices(e,n)}(t,n,i);return{sliced:s,first:n,last:i}}function list_size_max_skip_copy(e,t){let r=list_copy(e);return function list_size_max_skip(e,t){let r=list_size(e);(function greater_than(e,t){return e>t})(r,t)&&function list_remove_start(e,t){e.splice(0,t)}(e,r-t);return e}(r,t),r}function list_size_max_skip_replace(e,t){!function list_replace_all(e,t){list_empty(e),function list_add_multiple(e,t){e.push(...t)}(e,t)}(e,list_size_max_skip_copy(e,t))}function log(e){log_keep(e)}var qe=__webpack_require__(803);var Ve=__webpack_require__(796);async function list_join_newline_2_copy(e){let t=function list_join_newline_2(e){let t=(0,Ve.N)();return(0,De.U)(e,t+t)}(e);return await async function clipboard_copy(e){if((0,qe.G)())return void await navigator.clipboard.writeText(e);const t=await __webpack_require__.e(397).then(__webpack_require__.bind(__webpack_require__,397));await t.default.write(e)}(t),t}var We=__webpack_require__(233);function list_unique_set(e){let t=function set_new(){return new Set}();return(0,ke._)(e,function lambda(e){!function set_add(e,t){e.add(t)}(t,e)}),t}function property_equals_curry_right_2(e,t){return function object_property_equals_lambda_result(n){let i=function property_equals(e,t,n){return equal((0,r.F)(e,t),n)}(n,e,t);return i}}function list_filter(e,t){return list_is_assert(e),e.filter(function list_filter_lambda(e){return t(e)})}function list_size_1_assert_message(e,r){!function list_size_assert_message(e,r,n){let i=list_size(e)===r;(0,t.A)(i)&&(0,Me.O)({message:n,list:e,size:r})}(e,1,r)}function list_single(e){return function list_size_1_assert(e){list_size_1_assert_message(e,{})}(e),list_first(e)}function list_find_property(e,t,r){let n=function list_find(e,t){return list_single(list_filter(e,t))}(e,property_equals_curry_right_2(t,r));return n}function ebible_book_code_to_name(e,t){let n=list_find_property(e,"book_code",t);return(0,r.F)(n,"text")}function ebible_parts_to_reference(e,t,r,n){let i=ebible_book_code_to_name(e,t),s=null,o=function list_unique(e){return[...list_unique_set(e)]}(r),a=function list_size_1(e){return 1===list_size(e)}(o),c=list_first(o);if(a)s=c;else{s=c+"-"+list_last(o)}return i+" "+n+":"+s}function text_to(e){return e.toString()}function integer_to_try(e){let t=parseInt(e,10);return Number.isNaN(t)?null:t}function ebible_chapter_code_to_name(e){let t=function ebible_chapter_code_to_name_code(e){return text_skip(e,3)}(e);return text_to(integer_to_try(t))}var ze=__webpack_require__(445);function ebible_chapter_code_to_book(e){return(0,ze.Y)(e,3)}function ebible_chapter_code_parse(e){return{book_code:ebible_chapter_code_to_book(e),chapter_name:ebible_chapter_code_to_name(e)}}function property_get_curried_right(e){return function property_get_curried_right_result(t){return(0,r.F)(t,e)}}function list_map_property(e,t){return list_map(e,property_get_curried_right(t))}var He=__webpack_require__(851);function html_style_background_color_set_or_remove(e,t,r){e?function html_style_background_color_set(e,t){(0,He.e)(e,{"background-color":t})}(t,r):function html_style_remove(e,t){(0,Be.o)(e).style.removeProperty(t)}(t,"background-color")}function list_includes(e,t){return e.includes(t)}function html_style_background_color_set_or_remove_list(e,t,r){html_style_background_color_set_or_remove(list_includes(t,r),e,"lightgreen")}function list_remove(e,t){!function list_remove_at(e,t){let r=function list_remove_at_count(e,t,r){return e.splice(t,r)}(e,t,1);return list_single(r)}(e,list_index_of(e,t))}function list_toggle(e,t){list_includes(e,t)?list_remove(e,t):list_add(e,t)}function html_on(e,t,r){!function function_is_assert(e){let t=function function_is(e){return"function"==typeof e}(e);(0,Ae.E)(t,{lambda:e})}(r),(0,Be.o)(e).addEventListener(t,r)}function html_on_click(e,t){html_on(e,"click",t)}function invoke(e){let t=e();return log({lambda:e}),t}function invoke_multiple(e){return list_map(e,invoke)}function app_chapter_toggle_update(e,t,n,i,s,o,a){html_on_click(t,async function choose(){log("message"),c(),invoke_multiple(e),await copy()});let c=function lambda5(){list_toggle(n,i);list_size_max_skip_replace(n,2)};async function copy(){list_sort_number_mapper(n,integer_to_try);let e=list_map(o,function lambda3(e){log({languages_verses:o});let t=null;if(list_multiple_is(n))t=n;else{let e=list_first(n);t=[e,e]}let i=null,a=(0,r.F)(e,"books"),c=(0,r.F)(e,"verses"),l=list_first_last_slice(t,list_map_property(c,"verse_number")),u=(0,r.F)(l,"last"),_=(0,r.F)(l,"first");i=function list_map_find_property(e,t,r){return list_map(e,function lambda4(e){return list_find_property(t,r,e)})}((0,r.F)(l,"sliced"),c,"verse_number");let d=list_map_property(i,"text"),h=function ebible_parts_chapter_code_to_reference(e,t,r){let{book_code:n,chapter_name:i}=ebible_chapter_code_parse(e);return ebible_parts_to_reference(t,n,r,i)}(s,a,[_,u]);return function list_concat(e,t){let r=(0,Ce.C)(e);return(0,Te.v)(r),e.concat(t)}([h],d)}),t=function list_squash(e){let t=list_adder(function lambda2(t){!function list_process(e){function lambda(e){let r=(0,Ce.C)(e),n=null;n=(0,We.w)(r,list_process,t),n(e)}(0,ke._)(e,lambda)}(e)});return t}(e);await list_join_newline_2_copy(t)}return{toggle:c,update:function lambda4(){let e=null;if(list_multiple_is(n)){let t=list_last(o),i=list_map_property((0,r.F)(t,"verses"),"verse_number"),s=list_first_last_slice(n,i);e=(0,r.F)(s,"sliced")}else e=n;html_style_background_color_set_or_remove_list(a,e,i)},copy}}var $e=__webpack_require__(430);function html_clear(e){(0,$e.p)(e,"")}function html_clear_context(e){let t=(0,r.F)(e,"root");return html_clear(t),t}var Ge=__webpack_require__(476);function html_display_none_or_block(e,t){e?function html_display_none(e){(0,Ge.h)(e,"display","none")}(t):function html_display_block(e){(0,Ge.h)(e,"display","block")}(t)}var Ke=__webpack_require__(871);function window_open(e){window.open(e,"_blank")}var Je=__webpack_require__(3);function html_span_text(e,t){let r=function html_span(e){return(0,Je.r)(e,"span")}(e);return(0,$e.p)(r,t),r}function html_p(e){return(0,Je.r)(e,"p")}async function ebible_book_code_to_chapter_codes_browser(e,t){let r=function list_filter_starts_with(e,t){return list_filter(e,function lambda(e){return(0,je.X)(e,t)})}(await ebible_chapter_codes_browser(e),t);return r}function html_centered(e){(0,Ge.h)(e,"text-align","center")}function function_name_combine(e,t){return function function_name_combine_multiple(e){return(0,De.U)(e,"_")}([e,t])}function global_function_initialize_lambda(e,t){return arguments_assert(arguments,2),property_initialize_lambda(global_get(),e.name,t)}function global_function_initialize(e,t){arguments_assert(arguments,2);let r=function lambda_get(e){return function value_get(){return e}}(t);return global_function_initialize_lambda(e,r)}var Xe=__webpack_require__(723);function storage_local_specify_set(e,t){t=function undefined_is_if_null(e){return(0,Xe.W)(e)&&(e=null),e}(t);let r=(0,i.t)({value:t});localStorage.setItem(e,r)}function storage_local_key_get(e,t){return e.name+" "+t}function global_function_get(e){let t=global_get();return(0,r.F)(t,e.name)}function storage_local_enabled(){let e=function global_function_exists(e){let t=global_get();return(0,n.n)(t,e.name)}(storage_local_enabled);return(0,t.A)(e)||!0===global_function_get(storage_local_enabled)}function storage_local_set(e,t,r){let n=storage_local_key_get(e,t);storage_local_enabled()?storage_local_specify_set(n,r):function global_function_property_set(e,t,r){property_set(global_function_initialize(e,{}),t,r)}(storage_local_set,n,r)}function global_function_property_exists(e,t){let r=function global_function_initialize_object(e){return global_function_initialize(e,{})}(e);return(0,n.n)(r,t)}function storage_local_exists_global(e){return global_function_property_exists(storage_local_set,e)}function storage_local_get_global(e){let t=null;return storage_local_exists_global(e)&&(t=function global_function_property_get(e,t){let n=global_function_initialize(e,{});return(0,r.F)(n,t)}(storage_local_set,e)),t}function storage_local_specify_get_json(e){return localStorage.getItem(e)}function storage_local_get(e,t){let n=storage_local_key_get(e,t);if(storage_local_enabled()){let e=function storage_local_specify_get(e){let t=storage_local_specify_get_json(e),n=null;if(null_not_is(t)){let e=(0,Re.m)(t);n=(0,r.F)(e,"value")}return n}(n);return e}return storage_local_get_global(n)}function storage_local_initialize_context(e,t,n){let i=function storage_local_initialize(e,t,r){let n=storage_local_get(e,t),i=function null_is(e){return null===e}(n);return i&&(log({value_initial:r}),storage_local_set(e,t,r),n=storage_local_get(e,t)),n}((0,r.F)(e,"app_fn"),t,n);return i}var Ye=__webpack_require__(508);async function app_shared_refresh(e){let t=(0,r.F)(e,"screens"),n=(0,r.F)(e,"app_fn");html_clear((0,Ye.n)());let i=list_find_property(t,"name",storage_local_initialize_context(e,"screen",function_name_combine((0,r.F)(n,"name"),"home")));await i(e)}function storage_local_set_context(e,t,r){let{app_fn:n}=e;storage_local_set(n,t,r)}function app_shared_screen_set(e,t){!function app_shared_refresh_screen(e,t){storage_local_set_context(e,"screen",t),app_shared_refresh(e)}(e,(0,r.F)(t,"name"))}function app_bible_chapter_set(e,t){property_set(e,"c",t),html_hash_set_object(e)}function app_bible_chapter_open(e,t,n){app_bible_chapter_set(t,n);html_hash_object_property_set("scroll_top",0),app_shared_screen_set(e,(0,r.F)(e,"screen_home"))}function html_style_font_size(e,t){(0,Ge.h)(e,"font-size",t)}function html_style_font_size_inherit(e){html_style_font_size(e,"inherit")}function html_button_notext(e,t){let r=function html_button_element(e){let t=(0,Je.r)(e,"button");return html_style_font_size_inherit(t),t}(e);return html_on_click(r,t),r}function html_button(e,t,r){arguments_assert(arguments,3);let n=html_button_notext(e,r);return(0,$e.p)(n,t),n}function html_div_text_centered(e,t){let r=function html_div_text(e,t){let r=(0,Ke.E)(e);return(0,$e.p)(r,t),r}(e,t);return html_centered(r),r}async function app_bible_chapters(e){let t=html_clear_context(e),n="engbsb",i=html_hash_object_get(),s=ebible_chapter_code_to_book((0,r.F)(i,"c")),o=await ebible_book_code_to_chapter_codes_browser(n,s),a=function list_map_prefix_without(e,t){return list_map(e,function lambda(e){return text_prefix_without(e,t)})}(o,s),c=list_map(a,integer_to_try);html_div_text_centered(t,ebible_book_code_to_name(await ebible_version_books_browser(n),s));let l=(0,Ke.E)(t);html_centered(l),(0,ke._)(o,function lambda(t){let r=ebible_chapter_code_to_name(t);html_button(l,r,function lambda3(){app_bible_chapter_open(e,i,t)})}),log({mapped2:c})}function ebible_chapter_code_pad(e,t){let r=2;return equal(e,"PSA")&&(r=3),e+function number_pad(e,t){return String(e).padStart(t,"0")}(t,r)}async function app_bible_books(e){let t=html_clear_context(e),n=await ebible_version_books_browser("engbsb"),i=html_hash_object_get();(0,ke._)(n,function lambda(n){let s=(0,r.F)(n,"book_code"),o=(0,r.F)(n,"text");html_button(t,o,function lambda3(){let t=ebible_chapter_code_pad(s,"1");app_bible_chapter_set(i,t),app_shared_screen_set(e,app_bible_chapters)})}),log({books:n})}function list_index_is(e,t){arguments_assert(arguments,2);let r=!1;if(list_empty_is(e))return r;if(t<0)return r;let n=function list_index_last(e){return list_index_end(e,0)}(e);return!(t>n)||r}function list_index_of_delta(e,r,n){let i=function list_index_of_delta_outside(e,t,r){return list_index_of(e,t)+r}(e,r,n),s=list_index_is(e,i);return(0,t.A)(s)?null:i}function list_previous(e,t){let r=function list_index_of_previous(e,t){return list_index_of_delta(e,t,-1)}(e,t);return list_get(e,r)}function list_previous_wrap(e,t){let r=null,n=function list_first_is(e,t){return list_first(e)===t}(e,t),i=null;return i=n?list_last(e):list_previous(e,t),r=i,r}function list_next(e,t){let r=function list_index_of_next(e,t){return list_index_of_delta(e,t,1)}(e,t);return list_get(e,r)}function list_next_wrap(e,t){let r=null,n=function list_last_is(e,t){return list_last(e)===t}(e,t),i=null;return i=n?list_first(e):list_next(e,t),r=i,r}function html_bar_content_padding(e){!function html_style_padding_x(e,t){(0,He.e)(e,{"padding-left":t,"padding-right":t})}(e,"5dvw")}function html_bar_content_padded(e){let t=function html_bar_content(e){let t=(0,Ke.E)(e);(0,He.e)(t,{display:"flex","flex-direction":"column",height:"100dvh","box-sizing":"border-box"});let r=(0,Ke.E)(t);(0,He.e)(r,{flex:"0 0 auto"});let n=(0,Ke.E)(t);return(0,He.e)(n,{flex:"1 1 auto","min-height":"0",position:"relative","overflow-y":"scroll","overflow-x":"auto"}),{bar:r,content:n}}(e);return html_bar_content_padding((0,r.F)(t,"content")),t}async function app_bible_home_generic(e,i){let s=html_clear_context(e);html_clear(s);let o=html_bar_content_padded(s),a=(0,r.F)(o,"content"),c=(0,r.F)(o,"bar");html_centered(c);let l="engbsb",u=html_hash_object_get(),_=function property_exists_not(e,r){let i=(0,n.n)(e,r);return(0,t.A)(i)}(u,"c");if(_)return void app_bible_chapter_open(e,u,"JHN01");let d=(0,r.F)(u,"c"),h=ebible_chapter_code_parse(d),p=(0,r.F)(h,"chapter_name"),f=(0,r.F)(h,"book_code"),g=await ebible_version_books_browser(l),m=ebible_book_code_to_name(g,f);html_button(c,"",async function lambda6(){await on_arrow(list_previous_wrap)});html_button(c,m,function lambda5(){app_shared_screen_set(e,app_bible_books)});html_button(c,p,function lambda4(){app_shared_screen_set(e,app_bible_chapters)});html_button(c,"",async function lambda3(){await on_arrow(list_next_wrap)});html_button(c,"Languages",function lambda12(){});const b="scroll_top";let w=await ebible_verses_browser(l,d);async function on_arrow(t){let r=t(await ebible_chapter_codes_browser(l),d);app_bible_chapter_open(e,u,r)}let y=[],v=[],I=[];function biblehub_button_open(e,t,r,n,i){html_button(n,i,function lambda10(){let n=text_replace_space_underscore_lower(m);equal(n,"song")&&(n="songs"),window_open("https://biblehub.com/"+e+n+"/"+p+"-"+r+".htm"+t)})}if(await async function each_async(e,t){for(let r of e)if(!0===await t(r))break}(w,async function each_verse(e){let n=(0,r.F)(e,"verse_number"),s=(0,r.F)(e,"text"),o=html_p(a),c=(0,Ke.E)(o),l=(0,Ke.E)(o);html_centered(l);let u=!1;toggle(),biblehub_button_open("interlinear/","",n,l,"Interlinear"),biblehub_button_open("","",n,l,"Parallel"),biblehub_button_open("","#commentary",n,l,"Commentary");let _=html_button(l," Copy",function lambda8(){}),h=app_chapter_toggle_update(I,_,y,n,d,v,o),p=(0,r.F)(h,"update");function toggle(){u=(0,t.A)(u),html_display_none_or_block(u,l)}list_add(I,p),html_button(c,n,toggle);let f=function text_split_space(e){return(0,Le.j)(e," ")}(s);(0,ke._)(f,function lambda2(e){!function html_span_space(e){html_span_text(e," ")}(c),html_on_click(html_span_text(c,e),function lambda9(){let t=function text_letters_only(e){let t=/[^a-zA-Z]/g;return e.replace(t,"")}(e);window_open("https://www.google.com/search?q=define:"+t)})});let g=html_p(a);await i({p_verse:o,p:g,chapter_code:d,verse_number:n})}),list_add(v,{verses:w,books:g}),function html_on_scroll(e,t){html_on(e,"scroll",t)}(a,function on_scroll(){let e=function html_scroll_top_get(e){let t=(0,Be.o)(e);return(0,r.F)(t,"scrollTop")}(a);html_hash_object_property_set(b,e)}),(0,n.n)(u,b)){let e=(0,r.F)(u,b);!function html_scroll_top_set(e,t){property_set((0,Be.o)(e),"scrollTop",t)}(a,e)}return{bar:c}}function html_value_get(e){let t=(0,Be.o)(e);return(0,r.F)(t,"value")}function html_mobile_default_font_size(e){html_style_font_size(e,"25px")}function html_width_full(e){(0,He.e)(e,{width:"100%"})}var Ze=__webpack_require__(727);var Qe=__webpack_require__(710);function text_empty_not_is(e){let r=function text_empty_is(e){return""===e}(e);return(0,t.A)(r)}function text_trim(e){return e.trim()}function list_skip_1(e){let t=function list_skip(e,t){return list_slice(e,t,list_size(e))}(e,1);return t}function text_split_multiple(e,t){let n=function list_first_remaining(e){return list_first_second_generic(e,list_skip_1,"remaining")}(t),i=(0,r.F)(n,"remaining"),s=(0,r.F)(n,"first");return(0,ke._)(i,function lambda(t){let r=(0,Le.j)(e,t);e=(0,De.U)(r,s)}),(0,Le.j)(e,s)}function app_g_openai_split(e){return function list_filter_empty_not_is(e){return list_filter(e,text_empty_not_is)}(list_map(text_split_multiple(e,["\\r\\n","\r\n"]),text_trim))}async function app_g_bible_home(e){let t=null,n=null,i=null;let s=await list_adder_async(async function lambda5(s){let o=null;({chapter_code:n,downloaded:t,r:i,passages:o}=await async function app_g_bible_home_inner(e,t){let n=null,i=null,s=[],o=null,a=await list_adder_async(async function lambda3(a){o=await app_bible_home_generic(e,async function lambda(e){list_add(s,e);let o=(0,r.F)(e,"verse_number");i=(0,r.F)(e,"chapter_code"),n=await t(i);let c=(0,r.F)(n,"passages");(0,ke._)(c,function lambda2(e){let t=function list_max(e){return e.reduce(function lambda(e,t){return e>t?e:t},-1/0)}(list_map((0,r.F)(e,"verse_numbers"),integer_to_try));if(equal(text_to(t),o)){let t=list_copy(s);a({passage:e,verses:t}),list_empty(s)}})})});return{chapter_code:i,downloaded:n,r:o,passages:a}}(e,g_sermon_generate_download)),(0,ke._)(o,function on_passage({passage:e,verses:t}){let n=list_last(t),i=(0,r.F)(n,"p"),o=app_g_openai_split((0,r.F)(e,"sermon")),a=list_size(o),c=(0,Qe.p)(o),l=function html_textarea(e){return(0,Je.r)(e,"textarea")}(i);html_mobile_default_font_size(l),html_width_full(l),function html_rows_set(e,t){(0,Ze.u)(e,"rows",t)}(l,a),function html_value_set(e,t){arguments_assert(arguments,2),property_set((0,Be.o)(e),"value",t)}(l,c),s(function lambda3(){let t=html_value_get(l),r=(0,Ve.N)(),n=(0,xe.X)(t,r,"\r\n");property_set(e,"sermon",n)})})});html_button((0,r.F)(i,"bar"),"Update",async function lambda4(){invoke_multiple(s);let e=g_sermon_generate_upload_path(n);await firebase_upload_object_compressed_browser(e,t)})}var et=__webpack_require__(498);function html_document_head(){let e=document.head;return(0,et.T)(e)}function html_style_button(e){!function html_style_head(e){let t=html_document_head(),r=(0,Je.r)(t,"style");(0,$e.p)(r,e)}("button { "+e+" }")}function html_stylesheet(e){let t=function html_link(){let e=html_document_head();return(0,Je.r)(e,"link")}();(0,Ze.u)(t,"href",e),(0,Ze.u)(t,"rel","stylesheet")}function html_font_include(e,t){!function global_function_once(e,t){global_function_initialize_lambda(t,function value_get(){return e(),!0})}(function lambda(){html_stylesheet(t)},e)}function html_roboto_include(){html_font_include(html_roboto_include,"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap")}function html_font_sans_serif_set_html(){let e=function html_document_root(){let e=document.documentElement;return(0,et.T)(e)}();html_roboto_include();!function html_font_set(e,t){(0,Ge.h)(e,"font-family",t)}(e,'"Roboto", Arial, Helvetica, sans-serif');html_style_button(':font-family: "Roboto", Arial, Helvetica, sans-serif')}function html_mobile_default(e){let t=function html_mobile_default_font_size_context(e){let t=(0,r.F)(e,"root");return html_mobile_default_font_size(t),t}(e);return function html_meta_viewport(){const e=html_document_head();let t=(0,Je.r)(e,"meta");(0,Ze.u)(t,"name","viewport"),(0,Ze.u)(t,"content","width=device-width, initial-scale=1.0")}(),html_font_sans_serif_set_html(),t}function object_merge(e,t){return function object_merge_generic(e,t,i){let s=properties_get(i);(0,ke._)(s,function lambda(s){e&&(0,n.n)(t,s)&&(0,Me.O)({to:t,from:i,property_name:s});let o=(0,r.F)(i,s);property_set(t,s,o)})}(!0,e,t),e}function app_bible_main_generic_before(e,t,r,n){object_merge(e,{app_fn:t,screens:r,screen_home:n}),function html_margin_0(e){(0,He.e)(e,{margin:0})}(html_mobile_default(e))}function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tt=_prodErrorMap,rt=new ErrorFactory("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new Logger("@firebase/auth");function _logError(e,...t){nt.logLevel<=h.ERROR&&nt.error(`Auth (${le}): ${e}`,...t)}function _fail(e,...t){throw createErrorInternal(e,...t)}function _createError(e,...t){return createErrorInternal(e,...t)}function _errorWithCustomMessage(e,t,r){const n={...tt(),[t]:r};return new ErrorFactory("auth","Firebase",n).create(t,{appName:e.name})}function _serverAppCurrentUserOperationNotSupportedError(e){return _errorWithCustomMessage(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(e,...t){if("string"!=typeof e){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return rt.create(e,...t)}function _assert(e,t,...r){if(!e)throw createErrorInternal(t,...r)}function debugFail(e){const t="INTERNAL ASSERTION FAILED: "+e;throw _logError(t),new Error(t)}function debugAssert(e,t){e||debugFail(t)}function _getCurrentUrl(){return"undefined"!=typeof self&&self.location?.href||""}function _isHttpOrHttps(){return"http:"===_getCurrentScheme()||"https:"===_getCurrentScheme()}function _getCurrentScheme(){return"undefined"!=typeof self&&self.location?.protocol||null}function _isOnline(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_isHttpOrHttps()||function isBrowserExtension(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Delay{constructor(e,t){this.shortDelay=e,this.longDelay=t,debugAssert(t>e,"Short delay should be less than long delay!"),this.isMobile=function isMobileCordova(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}()||function isReactNative(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _emulatorUrl(e,t){debugAssert(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class FetchProvider{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const it={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},st=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ot=new Delay(3e4,6e4);function _addTidIfNecessary(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function _performApiRequest(e,t,r,n,i={}){return _performFetchWithErrorHandling(e,i,async()=>{let i={},s={};n&&("GET"===t?s=n:i={body:JSON.stringify(n)});const o=querystring({key:e.config.apiKey,...s}).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:a,...i};return function isCloudflareWorker(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&isCloudWorkstation(e.emulatorConfig.host)&&(c.credentials="include"),FetchProvider.fetch()(await _getFinalTarget(e,e.config.apiHost,r,o),c)})}async function _performFetchWithErrorHandling(e,t,r){e._canInitEmulator=!1;const n={...it,...t};try{const t=new NetworkTimeout(e),i=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw _makeTaggedError(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[r,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===r)throw _makeTaggedError(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===r)throw _makeTaggedError(e,"email-already-in-use",s);if("USER_DISABLED"===r)throw _makeTaggedError(e,"user-disabled",s);const a=n[r]||r.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw _errorWithCustomMessage(e,a,o);_fail(e,a)}}catch(t){if(t instanceof FirebaseError)throw t;_fail(e,"network-request-failed",{message:String(t)})}}async function _performSignInRequest(e,t,r,n,i={}){const s=await _performApiRequest(e,t,r,n,i);return"mfaPendingCredential"in s&&_fail(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function _getFinalTarget(e,t,r,n){const i=`${t}${r}?${n}`,s=e,o=s.config.emulator?_emulatorUrl(e.config,i):`${e.config.apiScheme}://${i}`;if(st.includes(r)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function _parseEnforcementState(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(_createError(this.auth,"network-request-failed")),ot.get())})}}function _makeTaggedError(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=_createError(e,t,n);return i.customData._tokenResponse=r,i}function isEnterprise(e){return void 0!==e&&void 0!==e.enterprise}class RecaptchaConfig{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _parseEnforcementState(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(e,t){return _performApiRequest(e,"GET","/v2/recaptchaConfig",_addTidIfNecessary(e,t))}async function getAccountInfo(e,t){return _performApiRequest(e,"POST","/v1/accounts:lookup",t)}function utcTimestampToDateString(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function secondsStringToMilliseconds(e){return 1e3*Number(e)}function _parseToken(e){const[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const e=base64Decode(r);return e?JSON.parse(e):(_logError("Failed to decode base64 JWT payload"),null)}catch(e){return _logError("Caught error parsing JWT payload as JSON",e?.toString()),null}}function _tokenExpiresIn(e){const t=_parseToken(e);return _assert(t,"internal-error"),_assert(void 0!==t.exp,"internal-error"),_assert(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function _logoutIfInvalidated(e,t,r=!1){if(r)return t;try{return await t}catch(t){throw t instanceof FirebaseError&&function isUserInvalidated({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}class UserMetadata{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _reloadWithoutSaving(e){const t=e.auth,r=await e.getIdToken(),n=await _logoutIfInvalidated(e,getAccountInfo(t,{idToken:r}));_assert(n?.users.length,t,"internal-error");const i=n.users[0];e._notifyReloadListener(i);const s=i.providerUserInfo?.length?extractProviderData(i.providerUserInfo):[],o=function mergeProviderData(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}(e.providerData,s),a=e.isAnonymous,c=!(e.email&&i.passwordHash||o?.length),l=!!a&&c,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new UserMetadata(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(e,u)}function extractProviderData(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(void 0!==e.idToken,"internal-error"),_assert(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_assert(0!==e.length,"internal-error");const t=_tokenExpiresIn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(_assert(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:n,expiresIn:i}=await async function requestStsToken(e,t){const r=await _performFetchWithErrorHandling(e,{},async()=>{const r=querystring({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:i}=e.config,s=await _getFinalTarget(e,n,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:r};return e.emulatorConfig&&isCloudWorkstation(e.emulatorConfig.host)&&(a.credentials="include"),FetchProvider.fetch()(s,a)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}(e,t);this.updateTokensAndExpiration(r,n,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:n,expirationTime:i}=t,s=new StsTokenManager;return r&&(_assert("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),n&&(_assert("string"==typeof n,"internal-error",{appName:e}),s.accessToken=n),i&&(_assert("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}function assertStringOrUndefined(e,t){_assert("string"==typeof e||void 0===e,"internal-error",{appName:t})}class UserImpl{constructor({uid:e,auth:t,stsTokenManager:r,...n}){this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=n.displayName||null,this.email=n.email||null,this.emailVerified=n.emailVerified||!1,this.phoneNumber=n.phoneNumber||null,this.photoURL=n.photoURL||null,this.isAnonymous=n.isAnonymous||!1,this.tenantId=n.tenantId||null,this.providerData=n.providerData?[...n.providerData]:[],this.metadata=new UserMetadata(n.createdAt||void 0,n.lastLoginAt||void 0)}async getIdToken(e){const t=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function getIdTokenResult(e,t=!1){const r=getModularInstance(e),n=await r.getIdToken(t),i=_parseToken(n);_assert(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:n,authTime:utcTimestampToDateString(secondsStringToMilliseconds(i.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(i.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}(this,e)}reload(){return async function reload(e){const t=getModularInstance(e);await _reloadWithoutSaving(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new UserImpl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const e=await this.getIdToken();return await _logoutIfInvalidated(this,async function deleteAccount(e,t){return _performApiRequest(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,n=t.email??void 0,i=t.phoneNumber??void 0,s=t.photoURL??void 0,o=t.tenantId??void 0,a=t._redirectEventId??void 0,c=t.createdAt??void 0,l=t.lastLoginAt??void 0,{uid:u,emailVerified:_,isAnonymous:d,providerData:h,stsTokenManager:p}=t;_assert(u&&p,e,"internal-error");const f=StsTokenManager.fromJSON(this.name,p);_assert("string"==typeof u,e,"internal-error"),assertStringOrUndefined(r,e.name),assertStringOrUndefined(n,e.name),_assert("boolean"==typeof _,e,"internal-error"),_assert("boolean"==typeof d,e,"internal-error"),assertStringOrUndefined(i,e.name),assertStringOrUndefined(s,e.name),assertStringOrUndefined(o,e.name),assertStringOrUndefined(a,e.name),assertStringOrUndefined(c,e.name),assertStringOrUndefined(l,e.name);const g=new UserImpl({uid:u,auth:e,email:n,emailVerified:_,displayName:r,isAnonymous:d,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:f,createdAt:c,lastLoginAt:l});return h&&Array.isArray(h)&&(g.providerData=h.map(e=>({...e}))),a&&(g._redirectEventId=a),g}static async _fromIdTokenResponse(e,t,r=!1){const n=new StsTokenManager;n.updateFromServerResponse(t);const i=new UserImpl({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await _reloadWithoutSaving(i),i}static async _fromGetAccountInfoResponse(e,t,r){const n=t.users[0];_assert(void 0!==n.localId,"internal-error");const i=void 0!==n.providerUserInfo?extractProviderData(n.providerUserInfo):[],s=!(n.email&&n.passwordHash||i?.length),o=new StsTokenManager;o.updateFromIdToken(r);const a=new UserImpl({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:i,metadata:new UserMetadata(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash||i?.length)};return Object.assign(a,c),a}}const at=new Map;function _getInstance(e){debugAssert(e instanceof Function,"Expected a class definition");let t=at.get(e);return t?(debugAssert(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,at.set(e,t),t)}class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}InMemoryPersistence.type="NONE";const ct=InMemoryPersistence;function _persistenceKeyName(e,t,r){return`firebase:${e}:${t}:${r}`}class PersistenceUserManager{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:n,name:i}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,n.apiKey,i),this.fullPersistenceKey=_persistenceKeyName("persistence",n.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await getAccountInfo(this.auth,{idToken:e}).catch(()=>{});return t?UserImpl._fromGetAccountInfoResponse(this.auth,t,e):null}return UserImpl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new PersistenceUserManager(_getInstance(ct),e,r);const n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=n[0]||_getInstance(ct);const s=_persistenceKeyName(r,e.config.apiKey,e.name);let o=null;for(const r of t)try{const t=await r._get(s);if(t){let n;if("string"==typeof t){const r=await getAccountInfo(e,{idToken:t}).catch(()=>{});if(!r)break;n=await UserImpl._fromGetAccountInfoResponse(e,r,t)}else n=UserImpl._fromJSON(e,t);r!==i&&(o=n),i=r;break}}catch{}const a=n.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch{}})),new PersistenceUserManager(i,e,r)):new PersistenceUserManager(i,e,r)}}function _getBrowserName(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_isIEMobile(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_isFirefox(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_isBlackBerry(t))return"Blackberry";if(_isWebOS(t))return"Webos";if(_isSafari(t))return"Safari";if((t.includes("chrome/")||_isChromeIOS(t))&&!t.includes("edge/"))return"Chrome";if(_isAndroid(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(t);if(2===r?.length)return r[1]}return"Other"}function _isFirefox(e=getUA()){return/firefox\//i.test(e)}function _isSafari(e=getUA()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _isChromeIOS(e=getUA()){return/crios\//i.test(e)}function _isIEMobile(e=getUA()){return/iemobile/i.test(e)}function _isAndroid(e=getUA()){return/android/i.test(e)}function _isBlackBerry(e=getUA()){return/blackberry/i.test(e)}function _isWebOS(e=getUA()){return/webos/i.test(e)}function _isIOS(e=getUA()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _isIE10(){return function isIE(){const e=getUA();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function _isMobileBrowser(e=getUA()){return _isIOS(e)||_isAndroid(e)||_isWebOS(e)||_isBlackBerry(e)||/windows phone/i.test(e)||_isIEMobile(e)}function _getClientVersion(e,t=[]){let r;switch(e){case"Browser":r=_getBrowserName(getUA());break;case"Worker":r=`${_getBrowserName(getUA())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${le}/${n}`}class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const wrappedCallback=t=>new Promise((r,n)=>{try{r(e(t))}catch(e){n(e)}});wrappedCallback.onAbort=t,this.queue.push(wrappedCallback);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}class PasswordPolicyImpl{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,n,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class AuthImpl{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_getInstance(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await getAccountInfo(this,{idToken:e}),r=await UserImpl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_isFirebaseServerApp(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,n=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,i=r?._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==i||!s?.user||(r=s.user,n=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(n)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(e){if("auth/network-request-failed"!==e?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function _getUserLanguage(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const t=e?getModularInstance(e):null;return t&&_assert(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function _getPasswordPolicy(e,t={}){return _performApiRequest(e,"GET","/v2/passwordPolicy",_addTidIfNecessary(e,t))}(this),t=new PasswordPolicyImpl(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function revokeToken(e,t){return _performApiRequest(e,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_getInstance(e)||this._popupRedirectResolver;_assert(t,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,r,n);return()=>{s=!0,i()}}{const r=e.addObserver(t);return()=>{s=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function _logWarn(e,...t){nt.logLevel<=h.WARN&&nt.warn(`Auth (${le}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _castAuth(e){return getModularInstance(e)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=function createSubscribe(e,t){const r=new ObserverProxy(e,t);return r.subscribe.bind(r)}(e=>this.observer=e)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lt={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _loadJS(e){return lt.loadJS(e)}function _generateCallbackName(e){return`__${e}${Math.floor(1e6*Math.random())}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class MockGreCAPTCHA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ut="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(e){this.type="recaptcha-enterprise",this.auth=_castAuth(e)}async verify(e="verify",t=!1){function retrieveRecaptchaToken(t,r,n){const i=window.grecaptcha;isEnterprise(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r(ut)})}):n(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new MockGreCAPTCHATopLevel).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function retrieveSiteKey(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{getRecaptchaConfig(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0!==n.recaptchaKey){const r=new RecaptchaConfig(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{r(e)})})})(this.auth).then(n=>{if(!t&&isEnterprise(window.grecaptcha))retrieveRecaptchaToken(n,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=function _recaptchaEnterpriseScriptUrl(){return lt.recaptchaEnterpriseScript}();0!==t.length&&(t+=n),_loadJS(t).then(()=>{retrieveRecaptchaToken(n,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function injectRecaptchaFields(e,t,r,n=!1,i=!1){const s=new RecaptchaEnterpriseVerifier(e);let o;if(i)o=ut;else try{o=await s.verify(r)}catch(e){o=await s.verify(r,!0)}const a={...t};if("mfaSmsEnrollment"===r||"mfaSmsSignIn"===r){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return n?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function handleRecaptchaFlow(e,t,r,n,i){if("EMAIL_PASSWORD_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await injectRecaptchaFields(e,t,r,"getOobCode"===r);return n(e,i)}return n(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await injectRecaptchaFields(e,t,r,"getOobCode"===r);return n(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const i=await injectRecaptchaFields(e,t,r);return n(e,i).catch(async i=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const i=await injectRecaptchaFields(e,t,r,!1,!0);return n(e,i)}return Promise.reject(i)})}{const i=await injectRecaptchaFields(e,t,r,!1,!0);return n(e,i)}}return Promise.reject(i+" provider is not supported.")}async function _initializeRecaptchaConfig(e){const t=_castAuth(e),r=await getRecaptchaConfig(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new RecaptchaConfig(r);if(null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()){new RecaptchaEnterpriseVerifier(t).verify()}}function connectAuthEmulator(e,t,r){const n=_castAuth(e);_assert(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!!r?.disableWarnings,s=extractProtocol(t),{host:o,port:a}=function extractHostAndPort(e){const t=extractProtocol(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const e=i[1];return{host:e,port:parsePort(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:parsePort(t)}}}(t),c=null===a?"":`:${a}`,l={url:`${s}//${o}${c}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator)return _assert(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),void _assert(deepEqual(l,n.config.emulator)&&deepEqual(u,n.emulatorConfig),n,"emulator-config-failed");n.config.emulator=l,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,isCloudWorkstation(o)?(pingServer(`${s}//${o}${c}`),updateEmulatorBanner("Auth",!0)):i||function emitEmulatorWarning(){function attachBanner(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",attachBanner):attachBanner())}()}function extractProtocol(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function parsePort(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class AuthCredential{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,t){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function linkEmailPassword(e,t){return _performApiRequest(e,"POST","/v1/accounts:signUp",t)}async function signInWithPassword(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(e,t))}class EmailAuthCredential extends AuthCredential{constructor(e,t,r,n=null){super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new EmailAuthCredential(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new EmailAuthCredential(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return handleRecaptchaFlow(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",signInWithPassword,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function signInWithEmailLink$1(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(e,t))}(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return handleRecaptchaFlow(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",linkEmailPassword,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function signInWithEmailLinkForLinking(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function signInWithIdp(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(e,t))}class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_fail("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n,...i}=t;if(!r||!n)return null;const s=new OAuthCredential(r,n);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return signInWithIdp(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,signInWithIdp(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,signInWithIdp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=querystring(t)}return e}}async function sendPhoneVerificationCode(e,t){return _performApiRequest(e,"POST","/v1/accounts:sendVerificationCode",_addTidIfNecessary(e,t))}const _t={USER_NOT_FOUND:"user-not-found"};class PhoneAuthCredential extends AuthCredential{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new PhoneAuthCredential({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new PhoneAuthCredential({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function signInWithPhoneNumber$1(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function linkWithPhoneNumber$1(e,t){const r=await _performSignInRequest(e,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(e,t));if(r.temporaryProof)throw _makeTaggedError(e,"account-exists-with-different-credential",r);return r}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function verifyPhoneNumberForExisting(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(e,{...t,operation:"REAUTH"}),_t)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:i}=e;return r||t||n||i?new PhoneAuthCredential({verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:i}):null}}class ActionCodeURL{constructor(e){const t=querystringDecode(extractQuerystring(e)),r=t.apiKey??null,n=t.oobCode??null,i=function parseMode(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);_assert(r&&n&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=n,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function parseDeepLink(e){const t=querystringDecode(extractQuerystring(e)).link,r=t?querystringDecode(extractQuerystring(t)).deep_link_id:null,n=querystringDecode(extractQuerystring(e)).deep_link_id;return(n?querystringDecode(extractQuerystring(n)).link:null)||n||r||t||e}(e);try{return new ActionCodeURL(t)}catch{return null}}}class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,t){return EmailAuthCredential._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ActionCodeURL.parseLink(t);return _assert(r,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,r.code,r.tenantId)}}EmailAuthProvider.PROVIDER_ID="password",EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password",EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com",FacebookAuthProvider.PROVIDER_ID="facebook.com";class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return GoogleAuthProvider.credential(t,r)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com",GoogleAuthProvider.PROVIDER_ID="google.com";class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com",GithubAuthProvider.PROVIDER_ID="github.com";class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,t){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return TwitterAuthProvider.credential(t,r)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com",TwitterAuthProvider.PROVIDER_ID="twitter.com";class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,n=!1){const i=await UserImpl._fromIdTokenResponse(e,r,n),s=providerIdForResponse(r);return new UserCredentialImpl({user:i,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const n=providerIdForResponse(r);return new UserCredentialImpl({user:e,providerId:n,_tokenResponse:r,operationType:t})}}function providerIdForResponse(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class MultiFactorError extends FirebaseError{constructor(e,t,r,n){super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new MultiFactorError(e,t,r,n)}}function _processCredentialSavingMfaContextIfNecessary(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw MultiFactorError._fromErrorAndOperation(e,r,t,n);throw r})}async function _link$1(e,t,r=!1){const n=await _logoutIfInvalidated(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return UserCredentialImpl._forOperation(e,"link",n)}async function _reauthenticate(e,t,r=!1){const{auth:n}=e;if(_isFirebaseServerApp(n.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(n));const i="reauthenticate";try{const s=await _logoutIfInvalidated(e,_processCredentialSavingMfaContextIfNecessary(n,i,t,e),r);_assert(s.idToken,n,"internal-error");const o=_parseToken(s.idToken);_assert(o,n,"internal-error");const{sub:a}=o;return _assert(e.uid===a,n,"user-mismatch"),UserCredentialImpl._forOperation(e,i,s)}catch(e){throw"auth/user-not-found"===e?.code&&_fail(n,"user-mismatch"),e}}async function _signInWithCredential(e,t,r=!1){if(_isFirebaseServerApp(e.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(e));const n="signIn",i=await _processCredentialSavingMfaContextIfNecessary(e,n,t),s=await UserCredentialImpl._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(s.user),s}function startEnrollPhoneMfa(e,t){return _performApiRequest(e,"POST","/v2/accounts/mfaEnrollment:start",_addTidIfNecessary(e,t))}new WeakMap;const dt="__sak";class BrowserPersistenceClass{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dt,"1"),this.storage.removeItem(dt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),n=this.localCache[t];r!==n&&e(t,n,r)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,r)=>{this.notifyListeners(e,r)});const r=e.key;t?this.detachListener():this.stopPolling();const triggerListeners=()=>{const e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},n=this.storage.getItem(r);_isIE10()&&n!==e.newValue&&e.newValue!==e.oldValue?setTimeout(triggerListeners,10):triggerListeners()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const e of Array.from(r))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const ht=BrowserLocalPersistence;function getDocumentCookie(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp(`${t}=([^;]+)`);return document.cookie.match(r)?.[1]??null}function getCookieName(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class CookiePersistence{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"==typeof isSecureContext&&!isSecureContext)&&("undefined"!=typeof navigator&&"undefined"!=typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=getCookieName(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return getDocumentCookie(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=getCookieName(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=getCookieName(e);if(window.cookieStore){const cb=e=>{const n=e.changed.find(e=>e.name===r);n&&t(n.value);e.deleted.find(e=>e.name===r)&&t(null)},unsubscribe=()=>window.cookieStore.removeEventListener("change",cb);return this.listenerUnsubscribes.set(t,unsubscribe),window.cookieStore.addEventListener("change",cb)}let n=getDocumentCookie(r);const i=setInterval(()=>{const e=getDocumentCookie(r);e!==n&&(t(e),n=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}CookiePersistence.type="COOKIE";class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BrowserSessionPersistence.type="SESSION";const pt=BrowserSessionPersistence;class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const r=new Receiver(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:n,data:i}=t.data,s=this.handlersMap[n];if(!s?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function _allSettled(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(o);t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _generateEventId(e="",t=10){let r="";for(let e=0;e<t;e++)r+=Math.floor(10*Math.random());return e+r}Receiver.receivers=[];class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const c=_generateEventId("",20);n.port1.start();const l=setTimeout(()=>{a(new Error("unsupported_event"))},r);s={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),n.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[n.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function _window(){return window}function _isWorker(){return void 0!==_window().WorkerGlobalScope&&"function"==typeof _window().importScripts}const ft="firebaseLocalStorageDb",gt="firebaseLocalStorage",mt="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function getObjectStore(e,t){return e.transaction([gt],t?"readwrite":"readonly").objectStore(gt)}function _openDatabase(){const e=indexedDB.open(ft,1);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(gt,{keyPath:mt})}catch(e){r(e)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(gt)?t(r):(r.close(),await function _deleteDatabase(){const e=indexedDB.deleteDatabase(ft);return new DBPromise(e).toPromise()}(),t(await _openDatabase()))})})}async function _putObject(e,t,r){const n=getObjectStore(e,!0).put({[mt]:t,value:r});return new DBPromise(n).toPromise()}function _deleteObject(e,t){const r=getObjectStore(e,!0).delete(t);return new DBPromise(r).toPromise()}class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await _openDatabase()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(function _getWorkerGlobalScope(){return _isWorker()?self:null}()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function _getActiveServiceWorker(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function _getServiceWorkerController(){return navigator?.serviceWorker?.controller||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,dt,"1"),await _deleteObject(e,dt),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>_putObject(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function getObject(e,t){const r=getObjectStore(e,!1).get(t),n=await new DBPromise(r).toPromise();return void 0===n?null:n.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_deleteObject(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=getObjectStore(e,!1).getAll();return new DBPromise(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],r=new Set;if(0!==e.length)for(const{fbase_key:n,value:i}of e)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(i)&&(this.notifyListeners(n,i),t.push(n));for(const e of Object.keys(this.localCache))this.localCache[e]&&!r.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const e of Array.from(r))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const bt=IndexedDBLocalPersistence;function startSignInPhoneMfa(e,t){return _performApiRequest(e,"POST","/v2/accounts/mfaSignIn:start",_addTidIfNecessary(e,t))}_generateCallbackName("rcb"),new Delay(3e4,6e4);const wt="recaptcha";async function _verifyPhoneNumber(e,t,r){if(!e._getRecaptchaConfig())try{await _initializeRecaptchaConfig(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let n;if(n="string"==typeof t?{phoneNumber:t}:t,"session"in n){const t=n.session;if("phoneNumber"in n){_assert("enroll"===t.type,e,"internal-error");const i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=handleRecaptchaFlow(e,i,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ut){_assert(r?.type===wt,e,"argument-error");return startEnrollPhoneMfa(e,await injectRecaptchaV2Token(e,t,r))}return startEnrollPhoneMfa(e,t)},"PHONE_PROVIDER"),o=await s.catch(e=>Promise.reject(e));return o.phoneSessionInfo.sessionInfo}{_assert("signin"===t.type,e,"internal-error");const i=n.multiFactorHint?.uid||n.multiFactorUid;_assert(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=handleRecaptchaFlow(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ut){_assert(r?.type===wt,e,"argument-error");return startSignInPhoneMfa(e,await injectRecaptchaV2Token(e,t,r))}return startSignInPhoneMfa(e,t)},"PHONE_PROVIDER"),a=await o.catch(e=>Promise.reject(e));return a.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=handleRecaptchaFlow(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===ut){_assert(r?.type===wt,e,"argument-error");return sendPhoneVerificationCode(e,await injectRecaptchaV2Token(e,t,r))}return sendPhoneVerificationCode(e,t)},"PHONE_PROVIDER"),s=await i.catch(e=>Promise.reject(e));return s.sessionInfo}}finally{r?._reset()}}async function injectRecaptchaV2Token(e,t,r){_assert(r.type===wt,e,"argument-error");const n=await r.verify();_assert("string"==typeof n,e,"argument-error");const i={...t};if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,r=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n,captchaResponse:t,clientType:r,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,r=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:e,clientType:t,recaptchaVersion:r}}),i}return Object.assign(i,{recaptchaToken:n}),i}class PhoneAuthProvider{constructor(e){this.providerId=PhoneAuthProvider.PROVIDER_ID,this.auth=_castAuth(e)}verifyPhoneNumber(e,t){return _verifyPhoneNumber(this.auth,e,getModularInstance(t))}static credential(e,t){return PhoneAuthCredential._fromVerification(e,t)}static credentialFromResult(e){const t=e;return PhoneAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(e){return PhoneAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?PhoneAuthCredential._fromTokenResponse(t,r):null}}function _withDefaultResolver(e,t){return t?_getInstance(t):(_assert(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}PhoneAuthProvider.PROVIDER_ID="phone",PhoneAuthProvider.PHONE_SIGN_IN_METHOD="phone";class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return signInWithIdp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _signIn(e){return _signInWithCredential(e.auth,new IdpCredential(e),e.bypassAuthState)}function _reauth(e){const{auth:t,user:r}=e;return _assert(r,t,"internal-error"),_reauthenticate(r,new IdpCredential(e),e.bypassAuthState)}async function _link(e){const{auth:t,user:r}=e;return _assert(r,t,"internal-error"),_link$1(r,new IdpCredential(e),e.bypassAuthState)}class AbstractPopupRedirectOperation{constructor(e,t,r,n,i=!1){this.auth=e,this.resolver=r,this.user=n,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:n,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yt=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,t,r,n,i){super(e,t,n,i),this.provider=r,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(1===this.filter.length,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const poll=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(poll,yt.get())};poll()}}PopupOperation.currentPopupAction=null;const vt=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vt.get(this.auth._key());if(!e){try{const t=await async function _getAndClearPendingRedirectStatus(e,t){const r=pendingRedirectKey(t),n=resolverPersistence(e);if(!await n._isAvailable())return!1;const i="true"===await n._get(r);return await n._remove(r),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}vt.set(this.auth._key(),e)}return this.bypassAuthState||vt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _overrideRedirectResult(e,t){vt.set(e._key(),t)}function resolverPersistence(e){return _getInstance(e._redirectPersistence)}function pendingRedirectKey(e){return _persistenceKeyName("pendingRedirect",e.config.apiKey,e.name)}async function _getRedirectResult(e,t,r=!1){if(_isFirebaseServerApp(e.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(e));const n=_castAuth(e),i=_withDefaultResolver(n,t),s=new RedirectAction(n,i,r),o=await s.execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function isRedirectEvent(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!isNullRedirectEvent(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(_createError(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}const It=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Et=/^https?/;async function _validateOrigin(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function _getProjectConfig(e,t={}){return _performApiRequest(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(matchDomain(e))return}catch{}_fail(e,"unauthorized-domain")}function matchDomain(e){const t=_getCurrentUrl(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===n?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&i.hostname===n}if(!Et.test(r))return!1;if(It.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const kt=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const e=_window().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function loadGapi(e){return new Promise((t,r)=>{function loadGapiIframe(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),r(_createError(e,"network-request-failed"))},timeout:kt.get()})}if(_window().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!_window().gapi?.load){const t=_generateCallbackName("iframefcb");return _window()[t]=()=>{gapi.load?loadGapiIframe():r(_createError(e,"network-request-failed"))},_loadJS(`${function _gapiScriptUrl(){return lt.gapiScript}()}?onload=${t}`).catch(e=>r(e))}loadGapiIframe()}}).catch(e=>{throw Tt=null,e})}let Tt=null;const Ct=new Delay(5e3,15e3),At={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},St=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(e){const t=e.config;_assert(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?_emulatorUrl(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:le},i=St.get(e.config.apiHost);i&&(n.eid=i);const s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${querystring(n).slice(1)}`}async function _openIframe(e){const t=await function _loadGapi(e){return Tt=Tt||loadGapi(e),Tt}(e),r=_window().gapi;return _assert(r,e,"internal-error"),t.open({where:document.body,url:getIframeUrl(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:At,dontclear:!0},t=>new Promise(async(r,n)=>{await t.restyle({setHideOnLeave:!1});const i=_createError(e,"network-request-failed"),s=_window().setTimeout(()=>{n(i)},Ct.get());function clearTimerAndResolve(){_window().clearTimeout(s),r(t)}t.ping(clearTimerAndResolve).then(clearTimerAndResolve,()=>{n(i)})}))}const Pt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function _open(e,t,r,n=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const c={...Pt,width:n.toString(),height:i.toString(),top:s,left:o},l=getUA().toLowerCase();r&&(a=_isChromeIOS(l)?"_blank":r),_isFirefox(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((e,[t,r])=>`${e}${t}=${r},`,"");if(function _isIOSStandalone(e=getUA()){return _isIOS(e)&&!!window.navigator?.standalone}(l)&&"_self"!==a)return function openAsNewWindowIOS(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}(t||"",a),new AuthPopup(null);const _=window.open(t||"",a,u);_assert(_,e,"popup-blocked");try{_.focus()}catch(e){}return new AuthPopup(_)}const Rt="__/auth/handler",Ot="emulator/auth/handler",Nt=encodeURIComponent("fac");async function _getRedirectUrl(e,t,r,n,i,s){_assert(e.config.authDomain,e,"auth-domain-config-required"),_assert(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:le,eventId:i};if(t instanceof FederatedAuthProvider){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function isEmpty(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof BaseOAuthProvider){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];const c=await e._getAppCheckToken(),l=c?`#${Nt}=${encodeURIComponent(c)}`:"";return`${function getHandlerBase({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Rt}`;return _emulatorUrl(e,Ot)}(e)}?${querystring(a).slice(1)}${l}`}const Dt="webStorageSupport";const xt=class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pt,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,t,r,n){debugAssert(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return _open(e,await _getRedirectUrl(e,t,r,_getCurrentUrl(),n),_generateEventId())}async _openRedirect(e,t,r,n){await this._originValidation(e);return function _setWindowLocation(e){_window().location.href=e}(await _getRedirectUrl(e,t,r,_getCurrentUrl(),n)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(debugAssert(r,"If manager is not set, promise should be"),r)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await _openIframe(e),r=new AuthEventManager(e);return t.register("authEvent",t=>{_assert(t?.authEvent,e,"invalid-auth-event");return{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dt,{type:Dt},r=>{const n=r?.[0]?.[Dt];void 0!==n&&t(!!n),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_validateOrigin(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}};var Ut="@firebase/auth",Mt="1.12.1";class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Lt=getExperimentalSetting("authIdTokenMaxAge")||300;let Ft=null;function getAuth(e=getApp()){const t=_getProvider(e,"auth");if(t.isInitialized())return t.getImmediate();const r=function initializeAuth(e,t){const r=_getProvider(e,"auth");if(r.isInitialized()){const e=r.getImmediate();if(deepEqual(r.getOptions(),t??{}))return e;_fail(e,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:xt,persistence:[bt,ht,pt]}),n=getExperimentalSetting("authTokenSyncURL");if(n&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(n,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),r=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Lt)return;const n=t?.token;Ft!==n&&(Ft=n,await fetch(i,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))});!function beforeAuthStateChanged(e,t,r){return getModularInstance(e).beforeAuthStateChanged(t,r)}(r,t,()=>t(r.currentUser)),function onIdTokenChanged(e,t,r,n){return getModularInstance(e).onIdTokenChanged(t,r,n)}(r,e=>t(e))}}var i;const s=getDefaultEmulatorHost("auth");return s&&connectAuthEmulator(r,`http://${s}`),r}function html_placeholder(e,t){(0,Ze.u)(e,"placeholder",t)}function html_input_type(e,t){let r=function html_input(e){let t=(0,Je.r)(e,"input");return html_style_font_size_inherit(t),t}(e);return(0,Ze.u)(r,"type",t),r}function firebase_login_email(e,t,n){let i=(0,r.F)(e,"root"),s=function html_input_email(e){let t=html_input_type(e,"email");return(0,Ze.u)(t,"autocomplete","email"),html_placeholder(t,"you@example.com"),t}(i),o=function html_input_password(e){return html_input_type(e,"password")}(i);html_placeholder(o,"Password"),(0,ke._)([s,o],html_width_full);(function html_button_wide(e,t,r){let n=html_button(e,t,r);return html_width_full(n),n})(i,"Login",async function login(){let e=html_value_get(s),r=html_value_get(o);return await t.signInWithEmailAndPassword(n,e,r)})}async function firebase_login(e,t){const r=getAuth(await firebase_app_initialize());!function onAuthStateChanged(e,t,r,n){return getModularInstance(e).onAuthStateChanged(t,r,n)}(r,function lambda(n){n?t({user:n}):firebase_login_email(e,r)})}function storage_local_exists_not(e,t){let r=function storage_local_exists(e,t){let r=storage_local_key_get(e,t);if(storage_local_enabled())return null!==storage_local_specify_get_json(r);return storage_local_exists_global(r)}(e,t);return r}function list_sort_text_property(e,t){!function list_sort_text_mapper(e,t){e.sort(function lambda(e,r){const n=t(e),i=t(r),[s,o]=n.split(/[_\.]/),[a,c]=i.split(/[_\.]/);return s.localeCompare(a)||Number(o)-Number(c)})}(e,property_get_curried_right(t))}function app_bible_languages(e){let t=html_clear_context(e),n=function ebible_languages(){let e=[{name:"Original",bible_folder:"original",language_code:"original"},{name:"English",bible_folder:"engbsb",language_code:"en"},{name:"Urdu",bible_folder:"urdoucv",language_code:"ur"},{name:"Swahili",bible_folder:"swhonen",language_code:"swh"},{name:"Luganda",bible_folder:"lug",language_code:"lug"},{name:"Bengali",bible_folder:"benirv",language_code:"ben"},{name:"Telugu",bible_folder:"tel2017",language_code:"tel"},{name:"Hindi",bible_folder:"hin2017",language_code:"hin"},{name:"Arabic",bible_folder:"arbnav",language_code:"arb"},{name:"Ekegusii",bible_folder:"guz",language_code:"guz"},{name:"Cebuano",bible_folder:"cebulb",language_code:"ceb"},{name:"Tagalog",bible_folder:"tglulb",language_code:"tgl"},{name:"Spanish",bible_folder:"spablm",language_code:"es"},{name:"French",bible_folder:"frasbl",language_code:"fr"},{name:"Amharic",bible_folder:"amh",language_code:"am"},{name:"Chinese (Simplified)",bible_folder:"cmn-cu89s",language_code:"zh"},{name:"Dutch",bible_folder:"nldnbg",language_code:"nl"},{name:"Igbo",bible_folder:"ibo",language_code:"ig"},{name:"Hausa",bible_folder:"hausa",language_code:"ha"},{name:"Yoruba",bible_folder:"yor",language_code:"yor"},{name:"Punjabi",bible_folder:"pan",language_code:"pa"},{name:"Chichewa",bible_folder:"nya",language_code:"ny"},{name:"Portuguese",bible_folder:"porbrbsl",language_code:"pt"},{name:"Wolof",bible_folder:"wolmbs",language_code:"wo"},{name:"Gujarati",bible_folder:"guj2017",language_code:"gu"},{name:"Afaan Oromoo",bible_folder:"gaz",language_code:"om"},{name:"Persian",bible_folder:"pesopcb",language_code:"fas"},{name:"Turkish",bible_folder:"turytc",language_code:"tr"},{name:"Oriya",bible_folder:"ory",language_code:"or"},{name:"Marathi",bible_folder:"mar",language_code:"mr"},{name:"Kannada",bible_folder:"kanirv",language_code:"kn"},{name:"Twi",bible_folder:"twiasante",language_code:"twi"},{name:"eegbe",bible_folder:"ewe",language_code:"ewe"}];return list_sort_text_property(e,"name"),e}(),i="languages_chosen",s=function storage_local_exists_not_context(e,t){return storage_local_exists_not((0,r.F)(e,"app_fn"),t)}(e,i);if(s){storage_local_set_context(e,i,[{name:"English",bible_folder:"engbsb",language_code:"en"}])}let o=function storage_local_get_context(e,t){return storage_local_get((0,r.F)(e,"app_fn"),t)}(e,i);!function app_reply_buttons_languages_on_toggle(e,t,n,i){(0,ke._)(i,function lambda(i){let s=(0,r.F)(i,"name"),o=null;o=html_button(n,s,function on_click(){list_toggle(e,i),html_style_background_color_set_or_remove_list(o,e,i),t()}),html_style_background_color_set_or_remove_list(o,e,i)})}(o,function lambda(){storage_local_set_context(e,i,o)},t,n)}function firebase_deploy_function_destination_production(e){let t=function firebase_deploy_function_destination_json(e,t){return firebase_deploy_function_destination(t,file_name_json(e))}("version_production",e);return t}function firebase_name_browser(){return global_function_get(firebase_name_browser)}async function app_context_initialize(e){const t=(0,Ye.n)();await async function app_context_initialize_root(e,t){let r={root:e};await t(r)}(t,e)}function js_code_call_args(e,t){arguments_assert(arguments,2);let r=function list_join_comma_space(e){return(0,De.U)(e,", ")}(t);return e+function js_code_wrap_parenthesis(e){return function text_wrap_parenthesis(e){return"("+e+")"}(" "+e+" ")}(r)}function js_code_call_app_context_initialize(e){return function js_code_call_args_statement(e,t){let r=function js_code_statement(e){return e+";"}(js_code_call_args(e,t));return r}(app_context_initialize.name,[e])}!function _setExternalJSProvider(e){lt=e}({loadJS:e=>new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=_createError("internal-error");t.customData=e,r(t)},n.type="text/javascript",n.charset="UTF-8",function getScriptParentElement(){return document.getElementsByTagName("head")?.[0]??document}().appendChild(n)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function registerAuth(e){_registerComponent(new Component("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;_assert(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(e)},l=new AuthImpl(n,i,s,c);return function _initializeAuthInstance(e,t){const r=t?.persistence||[],n=(Array.isArray(r)?r:[r]).map(_getInstance);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t?.popupRedirectResolver)}(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>(e=>new AuthInterop(e))(_castAuth(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(Ut,Mt,function getVersionForPlatform(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),registerVersion(Ut,Mt,"esm2020")}("Browser");var jt=__webpack_require__(968);async function app_main_production(e,t){let r=await async function app_main(e,t,r){global_function_initialize(firebase_name_browser,t);let n=js_code_call_app_context_initialize(e);await(0,jt.D)(r,e,n)}(e,t,firebase_deploy_function_destination_production);return r}async function app_g_bible(){await app_main_production("app_g_bible_main","jared-grace")}app_context_initialize(async function app_g_bible_main(e){let t=app_g_bible,r=function app_g_bible_screens(){return[app_g_bible_home,app_bible_books,app_bible_chapters,app_bible_languages]}();app_bible_main_generic_before(e,t,r,app_g_bible_home),await firebase_login(e,function lambda(){app_shared_refresh(e)})})})()})();